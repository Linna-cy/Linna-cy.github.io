<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Ubuntu on Linner&#39;s Blog</title>
    <link>/tags/ubuntu/</link>
    <description>Recent content in Ubuntu on Linner&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright Â© 2020-2026 Linner. All Rights Reserved.
</copyright>
    <lastBuildDate>Tue, 13 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="/tags/ubuntu/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Linux ç»ˆç«¯ä¸­æ–‡ç¼–ç è®¾ç½®</title>
      <link>/blog/2022/09/linux-%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%96%87%E7%BC%96%E7%A0%81%E8%AE%BE%E7%BD%AE/</link>
      <pubDate>Tue, 13 Sep 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022/09/linux-%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%96%87%E7%BC%96%E7%A0%81%E8%AE%BE%E7%BD%AE/</guid>
      <description><![CDATA[Ubuntu å®‰è£…ä¸­æ–‡æ”¯æŒï¼š apt-get install language-pack-zh-hans -y æŸ¥çœ‹ç³»ç»Ÿè¯­è¨€åŒ…ï¼š locale -a ä¿®æ”¹~/.bashrcï¼ŒåŠ å…¥ï¼š export LC_ALL=zh_CN.UTF-8 export LANG=zh_CN.UTF-8 ä¿®æ”¹/etc/default/localeï¼š LANG=&#34;zh_CN.UTF-8&#34; Debian å®‰è£…loc]]></description>
      <content:encoded><![CDATA[<h1 id="ubuntu" data-numberify>Ubuntu<a class="anchor ms-1" href="#ubuntu"></a></h1>
<p>å®‰è£…ä¸­æ–‡æ”¯æŒï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">apt-get install language-pack-zh-hans -y
</span></span></code></pre></div><p>æŸ¥çœ‹ç³»ç»Ÿè¯­è¨€åŒ…ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">locale -a
</span></span></code></pre></div><p>ä¿®æ”¹<code>~/.bashrc</code>ï¼ŒåŠ å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>zh_CN.UTF-8
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>zh_CN.UTF-8
</span></span></code></pre></div><p>ä¿®æ”¹<code>/etc/default/locale</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">LANG</span><span class="o">=</span><span class="s2">&#34;zh_CN.UTF-8&#34;</span>
</span></span></code></pre></div><h1 id="debian" data-numberify>Debian<a class="anchor ms-1" href="#debian"></a></h1>
<p>å®‰è£…<code>locales</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">apt install locales -y
</span></span></code></pre></div><p>å®‰è£…å®Œæˆåå¯èƒ½ä¼šæç¤ºè®¾ç½®<code>locales</code>ï¼Œå¦‚æœå®‰è£…å®Œä¹‹åæƒ³è¦æ›´æ”¹ç›¸å…³è®¾ç½®æˆ–è€…æ²¡æœ‰æç¤ºè®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°è®¾ç½®<code>locales</code>ç›¸å…³ä¿¡æ¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dpkg-reconfigure locales
</span></span></code></pre></div><h1 id="zsh" data-numberify>ZSH<a class="anchor ms-1" href="#zsh"></a></h1>
<p>ä¿®æ”¹<code>~/.zshrc</code>ï¼ŒåŠ å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LC_ALL</span><span class="o">=</span>zh_CN.UTF-8
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>zh_CN.UTF-8
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>SSH å…¬é’¥é…ç½®</title>
      <link>/blog/2022/08/ssh-%E5%85%AC%E9%92%A5%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Sat, 13 Aug 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022/08/ssh-%E5%85%AC%E9%92%A5%E9%85%8D%E7%BD%AE/</guid>
      <description><![CDATA[åˆ›å»º.sshç›®å½•å¹¶ç”Ÿæˆå…¬é’¥: ssh-keygen -t rsa æ‰€æœ‰é€‰é¡¹å…¨éƒ¨å›è½¦, ä½¿ç”¨é»˜è®¤é€‰é¡¹å³å¯. ç„¶ååˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•ä¸‹çš„.sshç›®å½•: cd ~/.ssh è¯¥ç›®å½•ä¸‹é»˜è®¤æœ‰ä¸‰ä¸ªæ–‡ä»¶: id_rsa: ç”¨æˆ·]]></description>
      <content:encoded><![CDATA[<p>åˆ›å»º<code>.ssh</code>ç›®å½•å¹¶ç”Ÿæˆå…¬é’¥:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh-keygen -t rsa
</span></span></code></pre></div><p>æ‰€æœ‰é€‰é¡¹å…¨éƒ¨å›è½¦, ä½¿ç”¨é»˜è®¤é€‰é¡¹å³å¯.</p>
<p>ç„¶ååˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•ä¸‹çš„<code>.ssh</code>ç›®å½•:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> ~/.ssh
</span></span></code></pre></div><p>è¯¥ç›®å½•ä¸‹é»˜è®¤æœ‰ä¸‰ä¸ªæ–‡ä»¶:</p>
<ul>
<li><code>id_rsa</code>: ç”¨æˆ·ç§é’¥, ä¸è¦å¤åˆ¶å‘é€ç»™ä»»ä½•äºº.</li>
<li><code>id_rsa.pub</code>: å…¬é’¥, å°†é‡Œé¢å†…å®¹å‘é€ç»™å®¢æˆ·ç«¯.</li>
<li><code>authorized_keys</code>: ä¿¡ä»»çš„å…¬é’¥.</li>
</ul>
<p>åªéœ€è¦å°†<code>id_rsa.pub</code>é‡Œçš„å†…å®¹ä»¥ (<code>ssh-rsa</code>å¼€å¤´çš„ä¸€è¡Œå†…å®¹) å¤åˆ¶åˆ°å®¢æˆ·ç«¯çš„<code>authorized_keys</code>çš„ç›®å½•ä¸‹å³å¯.</p>
<p>æ¥ç€åœ¨å®¢æˆ·ç«¯ä½¿ç”¨:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh username@ip -p port
</span></span></code></pre></div><p>å³å¯è¿æ¥åˆ°æœåŠ¡å™¨.</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Code Server éƒ¨ç½²</title>
      <link>/blog/2022/07/code-server-%E9%83%A8%E7%BD%B2/</link>
      <pubDate>Sat, 23 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022/07/code-server-%E9%83%A8%E7%BD%B2/</guid>
      <description><![CDATA[ä¸‹è½½code-serverï¼š wget https://github.com/coder/code-server/releases/download/v4.5.1/code-server-4.5.1-linux-amd64.tar.gz å¯ä»¥è®¿é—®code-server GitHub é¡µé¢è·å–ä¸‹è½½è¿æ¥ã€‚ è§£å‹ï¼š tar -zxvf code-server-4.5.1-linux-amd64.tar.gz å°†è§£å‹åçš„æ–‡ä»¶ç§»åŠ¨åˆ°/optç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åï¼š]]></description>
      <content:encoded><![CDATA[<ol>
<li>
<p>ä¸‹è½½code-serverï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://github.com/coder/code-server/releases/download/v4.5.1/code-server-4.5.1-linux-amd64.tar.gz
</span></span></code></pre></div><p>å¯ä»¥è®¿é—®<a href="https://github.com/coder/code-server" title="code-server GitHub é¡µé¢" target="_blank" rel="noopener noreferrer">code-server GitHub é¡µé¢<i class="fas fa-external-link-square-alt ms-1"></i></a>è·å–ä¸‹è½½è¿æ¥ã€‚</p>
</li>
<li>
<p>è§£å‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -zxvf code-server-4.5.1-linux-amd64.tar.gz
</span></span></code></pre></div></li>
<li>
<p>å°†è§£å‹åçš„æ–‡ä»¶ç§»åŠ¨åˆ°<code>/opt</code>ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mv code-server-4.5.1-linux-amd64 /opt/code-server
</span></span></code></pre></div></li>
<li>
<p>åˆ›å»ºè½¯é“¾åˆ°<code>/usr/bin</code>ç›®å½•ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ln -s /opt/code-server/code-server /usr/bin/code-server
</span></span></code></pre></div></li>
<li>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>~/.config/code-server/config.yaml</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim ~/.config/code-server/config.yaml
</span></span></code></pre></div></li>
<li>
<p>æ·»åŠ code-serveræœåŠ¡ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim /lib/systemd/system/codeweb.service
</span></span></code></pre></div><p>å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>Unit<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Description</span><span class="o">=</span>The nginx HTTP and reverse proxy server
</span></span><span class="line"><span class="cl"><span class="nv">After</span><span class="o">=</span>network.target remote-fs.target nss-lookup.target
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Service<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Type</span><span class="o">=</span>simple
</span></span><span class="line"><span class="cl"><span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/code-server
</span></span><span class="line"><span class="cl"><span class="nv">KillSignal</span><span class="o">=</span>SIGQUIT
</span></span><span class="line"><span class="cl"><span class="nv">TimeoutStopSec</span><span class="o">=</span><span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="nv">KillMode</span><span class="o">=</span>process
</span></span><span class="line"><span class="cl"><span class="nv">PrivateTmp</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">StandardOutput</span><span class="o">=</span>syslog
</span></span><span class="line"><span class="cl"><span class="nv">StandardError</span><span class="o">=</span>inherit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Install<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</span></span></code></pre></div></li>
</ol>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ­å»º frp æœåŠ¡</title>
      <link>/blog/2022/07/%E6%90%AD%E5%BB%BA-frp-%E6%9C%8D%E5%8A%A1/</link>
      <pubDate>Sat, 23 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022/07/%E6%90%AD%E5%BB%BA-frp-%E6%9C%8D%E5%8A%A1/</guid>
      <description><![CDATA[ä¸‹è½½frpï¼š wget https://github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_amd64.tar.gz æˆ–è€…è®¿é—®frpé¡¹ç›®è·å–è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ã€‚ è§£å‹ï¼š tar -zxvf frp_0.44.0_linux_amd64.tar.gz è¿›å…¥ç›®å½•åï¼Œé…ç½®frps.iniå’Œfrpc.iniï¼š cd frp_0.44.0_linux_amd64 æœåŠ¡ç«¯ï¼š vim frps.ini å°†æ–‡ä»¶]]></description>
      <content:encoded><![CDATA[<ol>
<li>
<p>ä¸‹è½½frpï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_amd64.tar.gz
</span></span></code></pre></div><p>æˆ–è€…è®¿é—®<a href="https://github.com/fatedier/frp/" title="frpé¡¹ç›®" target="_blank" rel="noopener noreferrer">frpé¡¹ç›®<i class="fas fa-external-link-square-alt ms-1"></i></a>è·å–è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p>è§£å‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -zxvf frp_0.44.0_linux_amd64.tar.gz
</span></span></code></pre></div></li>
<li>
<p>è¿›å…¥ç›®å½•åï¼Œé…ç½®<code>frps.ini</code>å’Œ<code>frpc.ini</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> frp_0.44.0_linux_amd64
</span></span></code></pre></div><ul>
<li>
<p>æœåŠ¡ç«¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim frps.ini
</span></span></code></pre></div><p>å°†æ–‡ä»¶æŒ‰ç…§ä¸‹é¢ä¿®æ”¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>common<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># frpç›‘å¬çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯7000ï¼Œå¯ä»¥æ”¹æˆå…¶ä»–çš„</span>
</span></span><span class="line"><span class="cl"><span class="nv">bind_port</span> <span class="o">=</span> <span class="m">7000</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æˆæƒç ï¼Œè¯·æ”¹æˆæ›´å¤æ‚çš„</span>
</span></span><span class="line"><span class="cl"><span class="nv">token</span> <span class="o">=</span> <span class="m">123456</span>  <span class="c1"># è¿™ä¸ªtokenä¹‹ååœ¨å®¢æˆ·ç«¯ä¼šç”¨åˆ°</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># frpç®¡ç†åå°ç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±éœ€æ±‚æ›´æ”¹</span>
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_port</span> <span class="o">=</span> <span class="m">7500</span>
</span></span><span class="line"><span class="cl"><span class="c1"># frpç®¡ç†åå°ç”¨æˆ·åå’Œå¯†ç ï¼Œè¯·æ”¹æˆè‡ªå·±çš„</span>
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_user</span> <span class="o">=</span> admin
</span></span><span class="line"><span class="cl"><span class="nv">dashboard_pwd</span> <span class="o">=</span> admin
</span></span><span class="line"><span class="cl"><span class="nv">enable_prometheus</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># frpæ—¥å¿—é…ç½®</span>
</span></span><span class="line"><span class="cl"><span class="nv">log_file</span> <span class="o">=</span> /var/log/frps.log
</span></span><span class="line"><span class="cl"><span class="nv">log_level</span> <span class="o">=</span> info
</span></span><span class="line"><span class="cl"><span class="nv">log_max_days</span> <span class="o">=</span> <span class="m">3</span>
</span></span></code></pre></div></li>
<li>
<p>å®¢æˆ·ç«¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim frpc.ini
</span></span></code></pre></div><p>å°†æ–‡ä»¶æŒ‰ç…§ä¸‹é¢ä¿®æ”¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># å®¢æˆ·ç«¯é…ç½®</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>common<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">server_addr</span> <span class="o">=</span> æœåŠ¡å™¨ip
</span></span><span class="line"><span class="cl"><span class="nv">server_port</span> <span class="o">=</span> <span class="m">7000</span> <span class="c1"># ä¸frps.iniçš„bind_portä¸€è‡´</span>
</span></span><span class="line"><span class="cl"><span class="nv">token</span> <span class="o">=</span> <span class="m">52010</span>  <span class="c1"># ä¸frps.iniçš„tokenä¸€è‡´</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># é…ç½®sshæœåŠ¡</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>ssh<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> tcp
</span></span><span class="line"><span class="cl"><span class="nv">local_ip</span> <span class="o">=</span> 127.0.0.1 <span class="c1"># é»˜è®¤æœ¬åœ°ip</span>
</span></span><span class="line"><span class="cl"><span class="nv">local_port</span> <span class="o">=</span> <span class="m">22</span>
</span></span><span class="line"><span class="cl"><span class="nv">remote_port</span> <span class="o">=</span> <span class="m">6000</span>  <span class="c1"># è¿™ä¸ªè‡ªå®šä¹‰ï¼Œä¹‹åå†sshè¿æ¥çš„æ—¶å€™è¦ç”¨</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># é…ç½®httpæœåŠ¡ï¼Œå¯ç”¨äºå°ç¨‹åºå¼€å‘ã€è¿œç¨‹è°ƒè¯•ç­‰ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥ä¸å†™ä¸‹é¢çš„</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>web<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span> <span class="o">=</span> http
</span></span><span class="line"><span class="cl"><span class="nv">local_ip</span> <span class="o">=</span> 127.0.0.1
</span></span><span class="line"><span class="cl"><span class="nv">local_port</span> <span class="o">=</span> <span class="m">8080</span>
</span></span><span class="line"><span class="cl"><span class="nv">subdomain</span> <span class="o">=</span> test.hijk.pw  <span class="c1"># webåŸŸå</span>
</span></span><span class="line"><span class="cl"><span class="nv">remote_port</span> <span class="o">=</span> è‡ªå®šä¹‰çš„è¿œç¨‹æœåŠ¡å™¨ç«¯å£ï¼Œä¾‹å¦‚8080
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>æ¥ç€éœ€è¦åœ¨é˜²ç«å¢™å¼€å¯ç›¸åº”çš„ç«¯å£ã€‚</p>
</li>
<li>
<p>å¯åŠ¨æœåŠ¡ï¼š</p>
<ul>
<li>
<p>æœåŠ¡ç«¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./frps -s frps.ini
</span></span></code></pre></div><p>æˆ–è€…é…ç½®<code>frps.server</code>æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /lib/systemd/system/frps.service
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>Unit<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Description</span><span class="o">=</span>The nginx HTTP and reverse proxy server
</span></span><span class="line"><span class="cl"><span class="nv">After</span><span class="o">=</span>network.target remote-fs.target nss-lookup.target
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Service<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Type</span><span class="o">=</span>simple
</span></span><span class="line"><span class="cl"><span class="c1"># æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹è¿™æ¡å‘½ä»¤æˆ–è€…å°†frpsã€frps.iniç§»åŠ¨åˆ°ç›¸åº”ä½ç½®</span>
</span></span><span class="line"><span class="cl"><span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/frps -c /etc/frp/frps.ini
</span></span><span class="line"><span class="cl"><span class="nv">KillSignal</span><span class="o">=</span>SIGQUIT
</span></span><span class="line"><span class="cl"><span class="nv">TimeoutStopSec</span><span class="o">=</span><span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="nv">KillMode</span><span class="o">=</span>process
</span></span><span class="line"><span class="cl"><span class="nv">PrivateTmp</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">StandardOutput</span><span class="o">=</span>syslog
</span></span><span class="line"><span class="cl"><span class="nv">StandardError</span><span class="o">=</span>inherit
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Install<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</span></span></code></pre></div></li>
<li>
<p>å®¢æˆ·ç«¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./frpc -c frpc.ini
</span></span></code></pre></div><p>å¦‚æœæ˜¯Linuxä¹Ÿå¯ä»¥é…ç½®<code>frpc.service</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>Unit<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Description</span><span class="o">=</span>Frp Client Service
</span></span><span class="line"><span class="cl"><span class="nv">After</span><span class="o">=</span>network.target
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Service<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">Type</span><span class="o">=</span>simple
</span></span><span class="line"><span class="cl"><span class="c1">#User=nobody</span>
</span></span><span class="line"><span class="cl"><span class="nv">Restart</span><span class="o">=</span>on-failure
</span></span><span class="line"><span class="cl"><span class="nv">RestartSec</span><span class="o">=</span>5s
</span></span><span class="line"><span class="cl"><span class="c1"># æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤æˆ–è€…å°†frpsã€frps.iniç§»åŠ¨åˆ°ç›¸åº”ä½ç½®</span>
</span></span><span class="line"><span class="cl"><span class="nv">ExecStart</span><span class="o">=</span>/usr/bin/frpc -c /etc/frp/frpc.ini
</span></span><span class="line"><span class="cl"><span class="nv">ExecReload</span><span class="o">=</span>/usr/bin/frpc reload -c /etc/frp/frpc.ini
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>Install<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</span></span></code></pre></div></li>
</ul>
</li>
</ol>
<p>æ›´å¤šè¯·è§<a href="https://frps.cn/11.html" title="Frpå®˜æ–¹æ–‡æ¡£" target="_blank" rel="noopener noreferrer">Frpå®˜æ–¹æ–‡æ¡£<i class="fas fa-external-link-square-alt ms-1"></i></a>ã€‚</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Ubuntu å®‰è£… Oh my zsh</title>
      <link>/blog/2022/01/ubuntu-%E5%AE%89%E8%A3%85-oh-my-zsh/</link>
      <pubDate>Wed, 26 Jan 2022 00:00:00 +0000</pubDate>
      
      <guid>/blog/2022/01/ubuntu-%E5%AE%89%E8%A3%85-oh-my-zsh/</guid>
      <description><![CDATA[oh-my-zshä¸»é¡µï¼š https://ohmyz.sh/ å®‰è£…å¹¶è®¾ç½®zsh å®‰è£…zshï¼š sudo apt install zsh æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„shellï¼š cat /etc/shells # /etc/shells: valid login shells /bin/sh /bin/bash /usr/bin/bash /bin/rbash /usr/bin/rbash /bin/dash /usr/bin/dash /usr/bin/tmux /usr/bin/screen /bin/zsh /usr/bin/zsh å°†zshè®¾ç½®ä¸º]]></description>
      <content:encoded><![CDATA[<p>oh-my-zshä¸»é¡µï¼š <a href="https://ohmyz.sh/" title="https://ohmyz.sh/" target="_blank" rel="noopener noreferrer">https://ohmyz.sh/<i class="fas fa-external-link-square-alt ms-1"></i></a></p>
<h1 id="å®‰è£…å¹¶è®¾ç½®zsh" data-numberify>å®‰è£…å¹¶è®¾ç½®zsh<a class="anchor ms-1" href="#å®‰è£…å¹¶è®¾ç½®zsh"></a></h1>
<p>å®‰è£…zshï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install zsh
</span></span></code></pre></div><p>æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„shellï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /etc/shells
</span></span></code></pre></div><pre tabindex="0"><code class="language-çº¯æ–‡æœ¬" data-lang="çº¯æ–‡æœ¬"># /etc/shells: valid login shells
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/bin/dash
/usr/bin/dash
/usr/bin/tmux
/usr/bin/screen
/bin/zsh
/usr/bin/zsh
</code></pre><p>å°†zshè®¾ç½®ä¸ºé»˜è®¤çš„shellï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chsh -s /bin/zsh
</span></span></code></pre></div><p>é‡æ–°è¿æ¥åˆ°Ubuntuï¼Œç„¶åæŸ¥çœ‹å½“å‰é»˜è®¤shellï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="nv">$SHELL</span>
</span></span></code></pre></div><p>å¦‚æœæ˜¾ç¤º<code>/bin/zsh</code>åˆ™é…ç½®æˆåŠŸã€‚</p>
<hr>
<h1 id="å®‰è£…-oh-my-zsh" data-numberify>å®‰è£… oh-my-zsh<a class="anchor ms-1" href="#å®‰è£…-oh-my-zsh"></a></h1>
<p>ä¸‹è½½install.shï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh
</span></span></code></pre></div><p>ç»™install.shæ·»åŠ æƒé™ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chmod +x install.sh
</span></span></code></pre></div><p>æ‰§è¡Œinstall.shï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">./install.sh
</span></span></code></pre></div><blockquote>
<p>ğŸ“Œåœ¨æ‰§è¡Œinstall.shä¹‹å‰è¿˜éœ€è¦å®‰è£…gitã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<p>å®‰è£…gitï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo apt install git
</span></span></code></pre></div></blockquote>
<hr>
<h1 id="é…ç½®zsh" data-numberify>é…ç½®zsh<a class="anchor ms-1" href="#é…ç½®zsh"></a></h1>
<p>zshçš„é…ç½®æ–‡ä»¶ä¸ºï¼š<code>~/.zshrc</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">vim ~/.zshrc
</span></span></code></pre></div><h2 id="ä¿®æ”¹ä¸»é¢˜" data-numberify>ä¿®æ”¹ä¸»é¢˜<a class="anchor ms-1" href="#ä¿®æ”¹ä¸»é¢˜"></a></h2>
<p>ä¸»é¢˜é…ç½®é¡¹ä¸ºï¼š<code>ZSH_THEME</code>ã€‚</p>
<p>é»˜è®¤ä¸»é¢˜é…ç½®ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">ZSH_THEME=&#34;robbyrussell&#34;
</span></span></code></pre></div><p>å¯ä»¥ä¿®æ”¹ä¸ºå…¶ä¸­ä¹‹ä¸€ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">ZSH_THEME=&#34;ys&#34;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">ZSH_THEME=&#34;geoffgarside&#34;
</span></span></code></pre></div><p>è¿˜å¯ä»¥è®¿é—®<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" title="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" target="_blank" rel="noopener noreferrer">https://github.com/ohmyzsh/ohmyzsh/wiki/Themes<i class="fas fa-external-link-square-alt ms-1"></i></a> æŸ¥çœ‹æ›´å¤šä¸»é¢˜ã€‚</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>

