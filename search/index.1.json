[{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"WebStorageæ˜¯æŒ‡æµè§ˆå™¨è‡ªå¸¦çš„æœ¬åœ°å­˜å‚¨ã€‚WebStorageå­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬æ”¯æŒ5MBå·¦å³ï¼ˆä¸åŒæµè§ˆå™¨çš„å­˜å‚¨å¤§å°å¯èƒ½ä¸ä¸€æ ·ï¼‰ã€‚\næµè§ˆå™¨é€šè¿‡ä»¥ä¸‹ä¸¤ç§å±æ€§æ¥å®ç°æœ¬åœ°å­˜å‚¨ï¼š\nwindow.sessionStorageï¼šå­˜å‚¨çš„å†…å®¹ä»…åœ¨å½“å‰ä¼šè¯ä¸‹æœ‰æ•ˆã€‚æµè§ˆå™¨å…³é—­ï¼ŒsessionStorageä¸­çš„å†…å®¹ä¼šè¢«æ¸…ç©ºã€‚ window.localStorageï¼šå­˜å‚¨çš„å†…å®¹ä¸ä¼šè¯çš„å…³é—­æ— å…³ã€‚æµè§ˆå™¨å…³é—­åï¼ŒlocalStorageä¸­çš„å†…å®¹ä¾æ—§å­˜åœ¨ã€‚æ‰‹åŠ¨æ¸…é™¤ï¼ˆä¾‹å¦‚æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜ï¼‰æ‰ä¼šå¯¼è‡´localStorageè¢«æ¸…ç©ºã€‚ sessionStorageå’ŒlocalStorageæ˜¯æŒ‰ç…§ç½‘ç«™åœ°å€ï¼ˆIPæˆ–åŸŸå+ç«¯å£ï¼‰è¿›è¡Œå­˜å‚¨ã€‚å¹¶ä¸”sessionStorageå’ŒlocalStorageå­˜å‚¨çš„å†…å®¹éƒ½æ˜¯Stringç±»å‹ã€‚\nwindow.sessionStorageå’Œwindow.localStorageçš„4ä¸ªAPIå‡ ä¹ä¸€æ ·ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š\nsetItem(key, value)ï¼šå¾€sessionStorageæˆ–localStorageä¸­å­˜å‚¨ä¸€æ¡æ•°æ®ï¼Œå­˜å‚¨çš„æ•°æ®ä¼šè¢«è§£ææˆStringç±»å‹è¿›è¡Œå­˜å‚¨ã€‚åœ¨è§£ææ—¶ï¼ŒsetItem()è°ƒç”¨çš„æ˜¯å¯¹è±¡çš„toString()æ–¹æ³•ã€‚\nkeyï¼šå­—ç¬¦ä¸²ç±»å‹çš„é”®ï¼Œç”¨äºæ ‡è¯†valueã€‚å¹¶ä¸”åœ¨sessionStorageæˆ–localStorageä¸­ï¼ŒåŒä¸€ä¸ªç½‘ç«™åœ°å€çš„keyæ˜¯å”¯ä¸€çš„ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€ä¸ªç½‘ç«™çš„sessionStorageä¸­ï¼Œä¸å­˜åœ¨ä¸¤ä¸ªç›¸åŒçš„keyï¼Œå¦‚æœä¸€ä¸ªç›¸åŒçš„keyè¢«å­˜å‚¨äº†ä¸¤æ¬¡ï¼Œé‚£ä¹ˆæ–°æ•°æ®ä¼šè¦†ç›–æ—§æ•°æ®ã€‚localStorageä¸sessionStorageç›¸åŒã€‚\nvalueï¼šè¦å­˜å‚¨çš„å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œæœ€ç»ˆä¼šè¢«è§£ææˆå­—ç¬¦ä¸²å½¢å¼è¿›è¡Œå­˜å‚¨ã€‚\n// sessionStorage.setItem(): sessionStorage.setItem(\u0026#39;msg\u0026#39;, \u0026#39;Hello sessionStorage!\u0026#39;) sessionStorage.setItem(\u0026#39;num\u0026#39;, 666) // å­˜å‚¨å¯¹è±¡æ—¶ï¼Œé€šå¸¸æ‰‹åŠ¨è§£æä¸ºJSONè¿›è¡Œå­˜å‚¨ sessionStorage.setItem(\u0026#39;person\u0026#39;, JSON.stringify(person)) // localStorage.setItem(): localStorage.setItem(\u0026#39;msg\u0026#39;, \u0026#39;Hello localStorage!\u0026#39;) localStorage.setItem(\u0026#39;num\u0026#39;, 666) localStorage.setItem(\u0026#39;person\u0026#39;, JSON.stringify(person)) getItem(key)ï¼šä»sessionStorageæˆ–localStorageä¸­è¯»å–å¯¹åº”keyçš„ä¸€æ¡æ•°æ®ã€‚\n// sessionStorage.setItem(): console.log(sessionStorage.getItem(\u0026#39;msg\u0026#39;)); console.log(sessionStorage.getItem(\u0026#39;num\u0026#39;)); const result = sessionStorage.getItem(\u0026#39;person\u0026#39;) console.log(JSON.parse(result)); // è¯»å–ä¸å­˜åœ¨çš„æ•°æ® console.log(sessionStorage.getItem(\u0026#39;user\u0026#39;)); // è¿”å› null // JSON.parse(null) // è¿”å› null // localStorage.setItem(): console.log(localStorage.getItem(\u0026#39;msg\u0026#39;)); console.log(localStorage.getItem(\u0026#39;num\u0026#39;)); const result = localStorage.getItem(\u0026#39;person\u0026#39;) console.log(JSON.parse(result)); // è¯»å–ä¸å­˜åœ¨çš„æ•°æ® console.log(localStorage.getItem(\u0026#39;user\u0026#39;)); // è¿”å› null removeItem(key)ï¼šä»sessionStorageæˆ–localStorageä¸­åˆ é™¤å¯¹åº”keyçš„ä¸€æ¡æ•°æ®ã€‚\nsessionStorage.removeItem(\u0026#39;msg\u0026#39;) localStorage.removeItem(\u0026#39;msg\u0026#39;) clear()ï¼šå°†sessionStorageæˆ–localStorageä¸­çš„æ‰€æœ‰æ•°æ®æ¸…ç©ºã€‚\n// æ¸…ç©º sessionStorage ä¸­çš„æ•°æ® sessionStorage.clear() // æ¸…ç©º localStorage ä¸­çš„æ•°æ® localStorage.clear() ","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/09/webstorage-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/","series":[],"smallImg":"","tags":[],"timestamp":1695080378,"title":"WebStorage æµè§ˆå™¨æœ¬åœ°å­˜å‚¨"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ ·å¼å†²çª Vueå¤šç»„ä»¶å¼€å‘æ—¶ï¼Œç»„ä»¶ä¸­çš„CSSæ ·å¼é»˜è®¤æ˜¯å…¨å±€ä½¿ç”¨çš„ã€‚ä¾‹å¦‚åœ¨A.vueè¿™ä¸ªç»„ä»¶ä¸­å®šä¹‰çš„æ ·å¼ï¼Œä¹Ÿä¼šåœ¨B.vueè¿™ä¸ªç»„ä»¶ä¸­ç”Ÿæ•ˆã€‚\nè€Œå½“é¡¹ç›®ä¸­ä½¿ç”¨çš„ç»„ä»¶è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè¿™ç§å…¨å±€é€šè¿‡çš„CSSæ ·å¼çš„æ–¹å¼åŠ¿å¿…ä¼šå½±å“æ•´ä¸ªé¡¹ç›®ï¼Œå¯¼è‡´æ ·å¼å†²çªã€‚ä¾‹å¦‚A.vueå’ŒB.vueéƒ½ç”¨äº†.demoè¿™ä¸ªæ ·å¼ï¼Œé‚£ä¹ˆåœ¨å¼•å…¥å’Œä½¿ç”¨ç»„ä»¶æ—¶ï¼Œä¼šé€ æˆæ ·å¼çš„å†²çªã€‚ç›¸åŒé€‰æ‹©å™¨çš„æ ·å¼ï¼Œç©¶ç«Ÿæ˜¯å“ªä¸ªç»„ä»¶ä¸­çš„æ ·å¼ç”Ÿæ•ˆï¼Ÿ\nVueåœ¨å¼•å…¥ç»„ä»¶.vueæ—¶ï¼Œå¦‚æœå­˜åœ¨ç›¸åŒçš„æ ·å¼å¯¼è‡´çš„å†²çªï¼Œåå¼•å…¥çš„ç»„ä»¶ä¼šè¦†ç›–å…ˆå¼•å…¥çš„ç»„ä»¶ä¸­ç›¸åŒçš„æ ·å¼ã€‚ä¾‹å¦‚A.vueå’ŒB.vueéƒ½ç”¨äº†.demoè¿™ä¸ªæ ·å¼ï¼š\nimport A from \u0026#39;./components/A.vue\u0026#39; import B from \u0026#39;./components/B.vue\u0026#39; // B ä¸­çš„ .demo ä¼šè¦†ç›– A ä¸­çš„ .demoï¼Œå¹¶å…¨å±€ç”Ÿæ•ˆ Scoped ä¸ºäº†è§£å†³è¿™ç§æ ·å¼å†²çªçš„é—®é¢˜ï¼ŒVueå¼•å…¥äº†scopedï¼ˆæ ·å¼èŒƒå›´ï¼‰ã€‚ä½¿ç”¨scopedå¯ä»¥è®©å½“å‰ç»„ä»¶ä¸­çš„æ ·å¼ï¼Œä»…å¯¹å½“å‰ç»„ä»¶æ¨¡æ¿ä¸­çš„å…ƒç´ ç”Ÿæ•ˆï¼ˆæ ·å¼å±€éƒ¨ç”Ÿæ•ˆï¼Œé˜²æ­¢å†²çªï¼‰ã€‚\nscopedçš„ç”¨æ³•æ˜¯ï¼Œåœ¨.vueä¸­ï¼Œç›´æ¥ä½œç”¨åœ¨\u0026lt;style\u0026gt;æ ‡ç­¾ä¸Šï¼š\n\u0026lt;style scoped\u0026gt; /* ... */ \u0026lt;/style\u0026gt; ä¾‹å¦‚ï¼š\n\u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·æ€§åˆ«ï¼š{{sex}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;SiteUser\u0026#39;, data() { return { name: \u0026#39;å¼ ä¸‰\u0026#39;, sex: \u0026#39;ç”·\u0026#39;, age: 21, } }, } \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .demo { background-color: orange; } \u0026lt;/style\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;MySite\u0026#39;, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, } }, }; \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .demo { background-color: skyblue; } \u0026lt;/style\u0026gt; ä½¿ç”¨äº†scopedä¹‹åï¼ŒSiteUserå’ŒSiteUserä¸­çš„.demoæ ·å¼å°±ä¸ä¼šäº’ç›¸å†²çªã€‚å› ä¸ºå®ƒä»¬çš„.demoä»…ä½œç”¨äºå½“å‰.vueæ–‡ä»¶çš„æ¨¡æ¿ä¸­ï¼Œä¸ä¼šä½œç”¨äºå…¶å®ƒç»„ä»¶ï¼Œå¯¹å…¶å®ƒç»„ä»¶é€ æˆå½±å“ã€‚\næ³¨ï¼š\nä¸€èˆ¬ä¸ä¼šåœ¨App.vueä¸­ä½¿ç”¨scopedæ ·å¼ã€‚å› ä¸ºApp.vueç®¡ç†ç€æ•´ä¸ªé¡¹ç›®ä¸­æ‰€æœ‰çš„ç»„ä»¶ã€‚æ‰€ä»¥åœ¨App.vueä¸­å®šä¹‰çš„æ ·å¼ä¸€èˆ¬æ˜¯è¦å…¨å±€ç”Ÿæ•ˆçš„æ ·å¼ã€‚å¦‚æœåœ¨App.vueä¸­ä½¿ç”¨scopedï¼Œé‚£ä¹ˆApp.vueä¸­çš„æ ·å¼åªä¼šå¯¹App.vueä¸­çš„éç»„ä»¶å…ƒç´ ç”Ÿæ•ˆã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨äº†scopedçš„ç»„ä»¶ï¼Œå…¶æ ·å¼ä¸€èˆ¬ä¸ä¼šå¯¹å­ç»„ä»¶ç”Ÿæ•ˆã€‚\nScoped åŸç† ä½¿ç”¨äº†scopedçš„ç»„ä»¶ï¼ŒVueä¼šåœ¨å…¶çœŸå®DOMä¸­çš„æ‰€æœ‰éç»„ä»¶å…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªéšæœºçš„ã€ä»¥data-v-ä¸ºå¼€å¤´çš„å±æ€§ï¼ˆå­ç»„ä»¶åªä¼šåœ¨å…¶æ ¹å…ƒç´ ä¸Šæ·»åŠ è¿™ä¸ªdata-v-å±æ€§ï¼‰ã€‚ç„¶åVueä¼šå¯¹è¯¥ç»„ä»¶çš„æ‰€æœ‰æ ·å¼éƒ½åŠ ä¸Šä¸€ä¸ªå±æ€§é€‰æ‹©å™¨ï¼Œä¾‹å¦‚.demo[data-v-xxxxxxxx]ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä½¿ç”¨äº†scopedçš„ç»„ä»¶ï¼Œå®ƒä»¬çš„æ ·å¼ä¸ä¼šè¢«ä½œç”¨åˆ°å…¶å®ƒå…ƒç´ ä¸Šã€‚\nä»¥ä¸Šä¾‹ä¸­çš„ä¸¤ä¸ªç»„ä»¶ä¸ºä¾‹ï¼Œåœ¨App.vueä½¿ç”¨å®ƒä»¬ï¼Œå¹¶ä¸”ä½¿ç”¨scopedï¼š\n\u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;div\u0026gt;\u0026lt;h1\u0026gt;{{msg}}\u0026lt;/h1\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;MySite/\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;SiteUser/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import MySite from \u0026#39;./components/MySite.vue\u0026#39; import SiteUser from \u0026#39;./components/SiteUser.vue\u0026#39;; export default { name: \u0026#39;app\u0026#39;, data() { return { msg: \u0026#39;Hello!\u0026#39; } }, components: { SiteUser, MySite, }, } \u0026lt;/script\u0026gt; \u0026lt;style scoped\u0026gt; .demo { color: red; } \u0026lt;/style\u0026gt; \u0026lt;!-- SiteUser.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;title\u0026#34;\u0026gt;ç”¨æˆ·å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;!-- App.vue ä¸­çš„ .title ä¸ä¼šå¯¹å…¶ç”Ÿæ•ˆ --\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·æ€§åˆ«ï¼š{{sex}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; åœ¨æµè§ˆå™¨ä¸­ï¼Œç”Ÿæˆçš„çœŸå®DOMå¯èƒ½æ˜¯è¿™æ ·çš„ï¼š\n\u0026lt;div data-v-7bxxxxxx=\u0026#34;\u0026#34;\u0026gt; \u0026lt;div data-v-7bxxxxxx=\u0026#34;\u0026#34;\u0026gt; \u0026lt;h1 data-v-7bxxxxxx=\u0026#34;\u0026#34; class=\u0026#34;title\u0026#34;\u0026gt;Hello!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;hr data-v-7bxxxxxx=\u0026#34;\u0026#34;\u0026gt; \u0026lt;div data-v-2fxxxxxx=\u0026#34;\u0026#34; data-v-7bxxxxxx=\u0026#34;\u0026#34; class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;h2 data-v-2fxxxxxx=\u0026#34;\u0026#34;\u0026gt;ç½‘ç«™åç§°ï¼šLinner\u0026#39;s Blog\u0026lt;/h2\u0026gt; \u0026lt;h2 data-v-2fxxxxxx=\u0026#34;\u0026#34;\u0026gt;ç½‘ç«™åœ°å€ï¼šblog.linner.asia\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;hr data-v-7bxxxxxx=\u0026#34;\u0026#34;\u0026gt; \u0026lt;div data-v-5axxxxxx=\u0026#34;\u0026#34; data-v-7bxxxxxx=\u0026#34;\u0026#34; class=\u0026#34;demo\u0026#34;\u0026gt; \u0026lt;h2 data-v-5axxxxxx=\u0026#34;\u0026#34; class=\u0026#34;title\u0026#34;\u0026gt;ç”¨æˆ·å§“åï¼šå¼ ä¸‰\u0026lt;/h2\u0026gt; \u0026lt;h2 data-v-5axxxxxx=\u0026#34;\u0026#34;\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š21\u0026lt;/h2\u0026gt; \u0026lt;h2 data-v-5axxxxxx=\u0026#34;\u0026#34;\u0026gt;ç”¨æˆ·æ€§åˆ«ï¼šç”·\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-scoped/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1695003505,"title":"Vue Scoped"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Vueæ’ä»¶ä¸»è¦ç”¨äºå¢å¼ºVueã€‚\nå®šä¹‰æ’ä»¶ åœ¨Vueä¸­ï¼Œæ’ä»¶çš„æœ¬è´¨æ˜¯ä¸€ä¸ªåŒ…å«install()æ–¹æ³•çš„å¯¹è±¡ã€‚\ninstall()æ–¹æ³•ï¼š\nå‚æ•°1ï¼šVueåŸå‹å¯¹è±¡. å‚æ•°2 ~ nï¼šç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¹‹åçš„å‚æ•°ï¼ˆåŒ…æ‹¬ç¬¬äºŒä¸ªï¼‰æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®ã€‚ å®šä¹‰ä¸€ä¸ªç®€å•çš„æ’ä»¶ï¼š\n/** * plugins.js * Vue æ’ä»¶ */ export const myPlugin = { install(Vue) { console.log(\u0026#39;Hello my plugin!\u0026#39;); console.log(Vue); // è·å– Vue åŸå‹å¯¹è±¡ /* å¯ä»¥åœ¨æ’ä»¶ä¸­ä½¿ç”¨ Vue åŸå‹å¯¹è±¡å®šä¹‰ä¸€äº›å…¨å±€çš„é…ç½® ä¾‹å¦‚å®šä¹‰å…¨å±€è¿‡æ»¤å™¨ã€å…¨å±€æŒ‡ä»¤ã€å…¨å±€æ··å…¥ï¼Œåœ¨VueåŸå‹æ·»åŠ æ–¹æ³•ç­‰ç­‰... ç”šè‡³å¯ä»¥åœ¨æ’ä»¶ä¸­å¯ç”¨å…¶å®ƒæ’ä»¶ */ } } æ¥æ”¶å‚æ•°ï¼š\nexport const plugin = { install(Vue, x, y, z) { console.log(x, y, z); } } ä½¿ç”¨æ’ä»¶ è¦ä½¿ç”¨æ’ä»¶éœ€è¦ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š\nå¼•å…¥æ’ä»¶ã€‚ ä½¿ç”¨Vue.use()æ–¹æ³•ä½¿æ’ä»¶ç”Ÿæ•ˆã€‚ Vue.use()æ–¹æ³•ï¼š\nå‚æ•°1ï¼šè¦å¯ç”¨çš„æ’ä»¶çš„é…ç½®å¯¹è±¡ã€‚ å‚æ•°2 ~ nï¼šè¦ä¼ é€’ç»™æ’ä»¶çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šä¼ é€’ç»™æ’ä»¶çš„install()ä¸­çš„å‚æ•°2 ~ nã€‚ ä¾‹å¦‚ä½¿ç”¨ä¸Šæ–¹å®šä¹‰çš„æ’ä»¶ï¼š\n/** * main.js */ import Vue from \u0026#39;vue\u0026#39; import App from \u0026#39;./App.vue\u0026#39; // å¼•å…¥æ’ä»¶ import {myPlugin} from \u0026#39;./plugins\u0026#39; // ä½¿ç”¨æ’ä»¶ Vue.use(myPlugin) Vue.config.productionTip = false new Vue({ render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;) ä½¿ç”¨æ—¶ä¼ å…¥å‚æ•°ï¼š\nVue.use(myPlugin, 1, 2, 3) ","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-plugins/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1695001700,"title":"Vue æ’ä»¶"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ··å…¥ï¼ˆmixinï¼‰æ˜¯æŒ‡å°†å¤šä¸ªç»„ä»¶é‡å¤çš„ã€å¯å…±ç”¨çš„é…ç½®é€‰é¡¹æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡ï¼Œç„¶ååœ¨è¿™äº›ç»„ä»¶ä¸­å¯¹è¿™äº›é…ç½®é€‰é¡¹è¿›è¡Œé‡ç”¨ã€‚\nå±€éƒ¨æ··å…¥ å±€éƒ¨æ··å…¥æ˜¯æŒ‡åœ¨ç»„ä»¶æˆ–ç‰¹å®šçš„Vueå®ä¾‹ä¸­å¼•å…¥é€šç”¨çš„é…ç½®å¯¹è±¡ã€‚\nä¾‹å¦‚ï¼š\n/** * mixin.js * æ··å…¥é…ç½®å¯¹è±¡ */ // ç»„ä»¶ä¸­çš„é…ç½®é€‰é¡¹åŸºæœ¬ä¸Šéƒ½èƒ½åœ¨ mixin ä¸­ä½¿ç”¨ export const mixin1 = { methods: { showName() { alert(this.name) } }, mounted() { console.log(\u0026#39;Hello mixin1!\u0026#39;); }, } export const mixin2 = { data() { return { x: 100, y: 200, } }, mounted() { console.log(\u0026#39;Hello mixin2!\u0026#39;); }, } \u0026lt;!-- MySite.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h2 @click=\u0026#34;showName\u0026#34;\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•å…¥ä¸€ä¸ªæ··åˆ import { mixin1, mixin2 } from \u0026#34;../mixin\u0026#34;; export default { name: \u0026#39;MySite\u0026#39;, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, x: 666, // } }, /** * mixins ä¸­ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¼šä»¥è¢«æ³¨å†Œçš„é¡ºåºæ‰§è¡Œ */ mixins: [mixin1, mixin2,], /** * é…ç½®é‡å¤çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå®ƒä»¬éƒ½ä¼šè¢«Vueè°ƒç”¨ * mixins ä¸­çš„ä¼šå…ˆè¢«è°ƒç”¨ */ mounted() { console.log(\u0026#39;Hello MySite!\u0026#39;); }, }; \u0026lt;/script\u0026gt; å…¨å±€æ··å…¥ å…¨å±€æ··å…¥æ˜¯æŒ‡åœ¨VueåŸå‹å¯¹è±¡ä¸­å¼•å…¥é€šç”¨é…ç½®å¯¹è±¡ï¼Œè¿™ä¸ªé…ç½®å¯¹è±¡åœ¨å…¨å±€ç”Ÿæ•ˆï¼Œé¡¹ç›®ä¸­æ‰€æœ‰çš„Vueå®ä¾‹å’Œç»„ä»¶éƒ½ä¼šè‡ªåŠ¨å¯ç”¨è¯¥é…ç½®ã€‚\nå…¨å±€æ··å…¥ä½¿ç”¨çš„æ˜¯Vue.mixin()æ–¹æ³•ã€‚\nä¾‹å¦‚ï¼š\n/** * main.js */ import Vue from \u0026#39;vue\u0026#39; import App from \u0026#39;./App.vue\u0026#39; import { mixin1, mixin2 } from \u0026#34;./mixin\u0026#34;; Vue.config.productionTip = false // å…¨å±€åº”ç”¨ mixin Vue.mixin(mixin1) Vue.mixin(mixin2) new Vue({ render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;) æ³¨æ„äº‹é¡¹ ä½¿ç”¨mixinæ—¶éœ€è¦æ³¨æ„ï¼š\nç»„ä»¶ä¸­çš„é…ç½®é€‰é¡¹åŸºæœ¬ä¸Šéƒ½èƒ½åœ¨mixinä¸­ä½¿ç”¨ã€‚ å½“æ··å…¥å¯¹è±¡å’Œç»„ä»¶ä¸­çš„æŸäº›é…ç½®ï¼ˆä¾‹å¦‚dataã€è®¡ç®—å±æ€§ã€methodsï¼‰é‡å¤æ—¶ï¼Œä»¥ç»„ä»¶ä¸­çš„é…ç½®ä¸ºä¸»ã€‚ å½“æ··å…¥å¯¹è±¡å’Œç»„ä»¶ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡å¤æ—¶ï¼Œå®ƒä»¬éƒ½ä¼šè¢«Vueè°ƒç”¨ï¼Œå¹¶ä¸”mixinsä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¼šå…ˆè¢«Vueè°ƒç”¨ã€‚ å¦‚æœmixinsä¸­å­˜åœ¨ç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒVueä¼šæŒ‰ç…§mixinåœ¨ç»„ä»¶mixinsä¸­è¢«æ³¨å†Œçš„é¡ºåºè¿›è¡Œè°ƒç”¨ã€‚ ","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-mixins/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1695000124,"title":"Vue æ··å…¥é…ç½®å¯¹è±¡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åœ¨Vueä¸­ï¼Œçˆ¶ç»„ä»¶å¯ä»¥å¾€å­ç»„ä»¶ä¸­ä¼ é€’ä¸€äº›å±æ€§å€¼ã€‚è€Œå­ç»„ä»¶éœ€è¦ä½¿ç”¨propsé…ç½®é¡¹å®šä¹‰è¿™äº›è¦ä»çˆ¶ç»„ä»¶ä¸­è·å–çš„æ•°æ®ã€‚\nä½¿ç”¨propsé…ç½®é¡¹ï¼Œå¯ä»¥è®©è¯¥ç»„ä»¶çš„æ ‡ç­¾åœ¨è¢«ä½¿ç”¨æ—¶ï¼Œé€šè¿‡ç»„ä»¶æ ‡ç­¾å±æ€§å°†å€¼ä¼ å…¥ç»„ä»¶ä¸­ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;!-- SiteUser.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;æ€§åˆ«ï¼š{{sex}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;SiteUser\u0026#39;, // å£°æ˜éœ€è¦æ¥æ”¶çš„å±æ€§ props: [ \u0026#39;name\u0026#39;, \u0026#39;age\u0026#39;, \u0026#39;sex\u0026#39;, ], } \u0026lt;/script\u0026gt; \u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- åœ¨æ ‡ç­¾ä¸­ï¼Œæ ¹æ®å¯¹åº”çš„ props å±æ€§åç§° ä½¿ç”¨Htmlå±æ€§é”®å€¼å¯¹çš„æ–¹å¼å°†å€¼ä¼ å…¥ --\u0026gt; \u0026lt;SiteUser name=\u0026#34;å¼ ä¸‰\u0026#34; age=\u0026#34;21\u0026#34; sex=\u0026#34;ç”·\u0026#34;/\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;SiteUser name=\u0026#34;æå››\u0026#34; age=\u0026#34;18\u0026#34; sex=\u0026#34;å¥³\u0026#34;/\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;SiteUser name=\u0026#34;ç‹äº”\u0026#34; age=\u0026#34;28\u0026#34; sex=\u0026#34;ç”·\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•å…¥ç»„ä»¶ import SiteUser from \u0026#39;./components/SiteUser.vue\u0026#39;; export default { name: \u0026#39;app\u0026#39;, components: { SiteUser, }, } \u0026lt;/script\u0026gt; å±æ€§å€¼çš„ä¼ é€’ åœ¨ç»„ä»¶æ ‡ç­¾ä¸­ï¼Œä½¿ç”¨é”®å€¼å¯¹å°†å±æ€§ä½œä¸ºpropså±æ€§ä¼ é€’ç»™ç»„ä»¶æ—¶ï¼Œé»˜è®¤ä¼ å…¥çš„æ•°æ®ç±»å‹æ˜¯ä½œä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚è¿™æ„å‘³ç€ä½¿ç”¨é»˜è®¤çš„æ–¹å¼æ— æ³•å°†å€¼ä½œä¸ºå…¶å®ƒç±»å‹è¿›è¡Œä¼ é€’ã€‚\nè¦ä¼ é€’å…¶å®ƒç±»å‹çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨v-bindæŒ‡ä»¤ã€‚è¿™æ˜¯å› ä¸ºv-bindæŒ‡ä»¤ä¼šå°†å±æ€§çš„å€¼ä½œä¸ºè¡¨è¾¾å¼å»æ‰§è¡Œå¹¶è®¡ç®—å€¼ã€‚æ‰€ä»¥ä½¿ç”¨äº†v-bindæŒ‡ä»¤å°±ä»¥ä¸ºç€å¯ä»¥ä¸ºpropså±æ€§ä¼ å…¥ä¸åŒç±»å‹çš„å€¼ã€‚\nå¦‚ï¼Œå°†ä¸Šä¾‹ä¸­çš„ageä½œä¸ºNumberç±»å‹ä¼ å…¥ï¼š\n\u0026lt;SiteUser name=\u0026#34;å¼ ä¸‰\u0026#34; :age=\u0026#34;20 + 1\u0026#34; sex=\u0026#34;ç”·\u0026#34;/\u0026gt; \u0026lt;SiteUser name=\u0026#34;æå››\u0026#34; :age=\u0026#34;18\u0026#34; sex=\u0026#34;å¥³\u0026#34;/\u0026gt; \u0026lt;SiteUser name=\u0026#34;ç‹äº”\u0026#34; :age=\u0026#34;28\u0026#34; sex=\u0026#34;ç”·\u0026#34;/\u0026gt; å®šä¹‰æ–¹å¼ propsæœ‰3ç§å®šä¹‰æ–¹å¼ï¼š\nå­—ç¬¦ä¸²æ•°ç»„å½¢å¼ï¼ˆç®€å•å£°æ˜ï¼‰ï¼šå°†æ‰€éœ€ä¼ é€’çš„å±æ€§ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ•°ç»„çš„å…ƒç´ è¿›è¡Œå£°æ˜ã€‚ä½¿ç”¨è¯¥æ–¹å¼è¿›è¡Œå£°æ˜çš„propså±æ€§ï¼Œä¸é™åˆ¶ä¼ é€’çš„ç±»å‹ï¼Œä¸é™åˆ¶ä¼ é€’çš„å¿…è¦æ€§ã€‚\nå¦‚ä¸Šä¾‹ä¸­ï¼š\nprops: [ \u0026#39;name\u0026#39;, \u0026#39;age\u0026#39;, \u0026#39;sex\u0026#39;, ], ä»…ç±»å‹é™åˆ¶å½¢å¼ï¼šåœ¨ä¼ é€’çš„åŒæ—¶è¿›è¡Œç±»å‹é™åˆ¶ã€‚å¦‚ä¼ é€’çš„ç±»å‹ä¸åŒ¹é…ï¼Œæ§åˆ¶å°ä¼šæŠ¥é”™ã€‚\nå¦‚ä¸Šä¾‹ï¼Œä½¿ç”¨ä»…ç±»å‹é™åˆ¶ï¼š\nprops: { name: String, age: Number, // age: [Number, String], // å…è®¸æŒ‡å®šå¤šç§ç±»å‹ sex: String, }, å¤šé™åˆ¶å½¢å¼ï¼šåœ¨ä¼ é€’çš„åŒæ—¶å¯ä»¥è¿›è¡Œç±»å‹é™åˆ¶ã€å¿…è¦æ€§é™åˆ¶æˆ–é»˜è®¤å€¼é™åˆ¶ã€‚\nå¦‚ä¸Šä¾‹ï¼Œä½¿ç”¨å¤šé™åˆ¶ï¼š\nprops: { name: { type: String, // ç±»å‹é™åˆ¶ required: true, // å¿…é¡»ä¼ é€’ï¼ˆé»˜è®¤ä¸º falseï¼‰ }, age: { type: Number, default: 0, // è®¾ç½®é»˜è®¤å€¼ }, sex: { type: String, required: true, } }, æ³¨ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œrequiredè®¾ç½®ä¸ºtrueæ—¶ï¼Œå°±ä¸ä½¿ç”¨defaultï¼›åœ¨è®¾ç½®requiredæˆ–requiredä¸ºfalseæ—¶ï¼Œæœ€å¥½ä½¿ç”¨defaultã€‚\npropså±æ€§æ˜¯åªè¯»çš„ï¼ŒVueåº•å±‚ä¼šå¯¹propså±æ€§è¿›è¡Œç›‘æµ‹ï¼Œå¹¶é™åˆ¶å…¶ä¿®æ”¹ã€‚å¯¹propsçš„ä¿®æ”¹ä¸ä¸€å®šä¼šå¤±è´¥ï¼Œä½†æ˜¯å¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼ŒVueä¼šåœ¨æ§åˆ¶å°å‘å‡ºè­¦å‘Šã€‚\nå¦‚æœä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹propså±æ€§ï¼Œå¯ä»¥åœ¨dataå±æ€§æˆ–è®¡ç®—å±æ€§ä¸­æ·»åŠ propså±æ€§å¯¹åº”çš„ä¸é‡åçš„æ‹·è´ï¼Œç„¶ååœ¨dataå±æ€§æˆ–è®¡ç®—å±æ€§ä¹‹ä¸Šå¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;å§“åï¼š{{myName}}\u0026lt;/h2\u0026gt; \u0026lt;h2 v-if=\u0026#34;myAge \u0026gt; 0\u0026#34;\u0026gt;å¹´é¾„ï¼š{{myAge}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;æ€§åˆ«ï¼š{{mySex}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;changeSex\u0026#34;\u0026gt;ä¿®æ”¹æ€§åˆ«\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;SiteUser\u0026#39;, // æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®è¿›è¡Œç±»å‹ã€å¿…è¦æ€§å’Œé»˜è®¤å€¼é™åˆ¶ props: { name: { type: String, // ç±»å‹é™åˆ¶ required: true, // å¿…é¡»ä¼ é€’ï¼ˆé»˜è®¤ä¸º falseï¼‰ }, age: { type: Number, default: 0, // è®¾ç½®é»˜è®¤å€¼ }, sex: { type: String, required: true, } }, data() { return { // å¯ä»¥é‡æ–°å®šä¹‰ä¸ä¸ props å±æ€§é‡åçš„ data å±æ€§ï¼Œä»¥ä¾¿æ“ä½œæ•°æ® myName: this.name, myAge: this.age, mySex: this.sex, } }, methods: { changeSex() { // props å±æ€§å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯æ§åˆ¶å°ä¼šæŠ¥é”™ï¼Œä¹Ÿè¿‡ä¸äº†è¯­æ³•æ£€æŸ¥ // this.sex = this.sex === \u0026#39;ç”·\u0026#39; ? \u0026#39;å¥³\u0026#39; : \u0026#39;ç”·\u0026#39; this.mySex = this.mySex === \u0026#39;ç”·\u0026#39; ? \u0026#39;å¥³\u0026#39; : \u0026#39;ç”·\u0026#39; }, }, } \u0026lt;/script\u0026gt; å³ï¼Œå°†propså±æ€§ä½œä¸ºç»„ä»¶çš„åˆå§‹åŒ–æ•°æ®ï¼Œå¯¹dataå±æ€§æˆ–è®¡ç®—å±æ€§ç­‰å†…å®¹è¿›è¡Œåˆå§‹åŒ–ã€‚ç»„ä»¶ä¸­çš„æ•°ç»„è½½ä½“è¿˜æ˜¯ä»¥dataå±æ€§æˆ–è®¡ç®—å±æ€§ç­‰ä¸ºä¸»ã€‚\næ³¨ï¼š\npropså±æ€§åŒæ ·ä¸å¯ä¸dataå±æ€§æˆ–è®¡ç®—å±æ€§ä¸­çš„å±æ€§åç§°ç›¸åŒã€‚ å¦‚æœpropså±æ€§å’Œdataå±æ€§é‡åï¼Œpropså±æ€§ä¼˜å…ˆçº§æ›´é«˜ã€‚ propså±æ€§ä¸èƒ½ä½¿ç”¨è¢«Vueå¾ç”¨äº†çš„æ ‡ç­¾å±æ€§ã€‚ propså±æ€§ä¸èƒ½ä¿®æ”¹æ˜¯ç›¸å¯¹äºç»„ä»¶è€Œè¨€çš„ã€‚åœ¨ç»„ä»¶ä¸­ï¼Œä¸è¦å¯¹å½“å‰ç»„ä»¶çš„propså±æ€§è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œå¯ä»¥å¯¹å­ç»„ä»¶çš„propså±æ€§é€šè¿‡v-bindæŒ‡ä»¤è¿›è¡ŒåŠ¨æ€æ•°æ®ç»‘å®šã€‚ ä¸è¦ä½¿ç”¨v-modelç»‘å®špropså±æ€§ã€‚ å­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ ç»„ä»¶é—´é€šä¿¡æ¶‰åŠä»¥ä¸‹å†…å®¹ï¼š\nçˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶çš„é€šä¿¡ã€‚ å­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ã€‚ åŒçº§ç»„ä»¶é—´çš„é€šä¿¡ã€‚ çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶çš„é€šä¿¡ç›´æ¥é€šè¿‡propså±æ€§å°±å¯ä»¥å®ç°ã€‚è€Œå­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡propså®ç°ã€‚\nä¿®æ”¹å¯¹è±¡ç±»å‹çš„ Props å±æ€§ Vueå¯¹propså±æ€§æ˜¯ä¸€ç§æµ…å±‚æ¬¡çš„ç›‘æµ‹ï¼ŒVueä¸ä¼šå¯¹propså±æ€§ä¸­çš„å±æ€§çš„æ”¹åŠ¨è¿›è¡Œç›‘æµ‹ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹å¯ä»¥åœ¨å­ç»„ä»¶ä¸­é€šè¿‡è·å–å¯¹è±¡ç±»å‹propså±æ€§å€¼ï¼Œç„¶ååˆ©ç”¨v-modelç»‘å®šè¯¥å¯¹è±¡çš„å±æ€§æ¥è¶Šè¿‡Vueçš„ç›‘æµ‹ï¼Œä»è€Œå®ç°å­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ã€‚\n\u0026lt;!-- user-input.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- ä½¿ç”¨ v-model ç›´æ¥ä¿®æ”¹ props å¯¹è±¡æ•°æ®ç±»å‹çš„å±æ€§ä¸­çš„å±æ€§ --\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model.lazy=\u0026#34;user.account\u0026#34; placeholder=\u0026#34;è´¦å·\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; v-model.lazy=\u0026#34;user.password\u0026#34; placeholder=\u0026#34;å¯†ç \u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;user-input\u0026#39;, props: [ \u0026#34;userInfo\u0026#34;, // å°†æ•°æ®å¯¹è±¡å®šä¹‰åœ¨çˆ¶ç»„ä»¶ä¸­ ], data() { return { // åˆ©ç”¨ props å±æ€§åˆå§‹åŒ–ï¼Œç›®çš„æ˜¯é˜²æ­¢æŠ¥é”™ user: this.userInfo, } }, } \u0026lt;/script\u0026gt; \u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;user-input :userInfo=\u0026#34;userInfo\u0026#34;/\u0026gt; \u0026lt;br\u0026gt; \u0026lt;button @click=\u0026#34;login\u0026#34;\u0026gt;ç™»å½•\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import UserInput from \u0026#39;./components/user-input.vue\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { UserInput, }, data() { return { userInfo: { account: \u0026#39;\u0026#39;, password: \u0026#39;\u0026#39;, } } }, methods: { login() { alert(`è´¦å·ï¼š${this.userInfo.account}\\nå¯†ç ï¼š${this.userInfo.password}`) }, }, } \u0026lt;/script\u0026gt; è¯¥æ–¹æ³•å…¶å®å°±æ˜¯å­ç»„ä»¶é€šè¿‡propsï¼Œå°†ç”¨æˆ·åœ¨å­ç»„ä»¶ä¸­è¾“å…¥çš„æ•°æ®ï¼Œé€šè¿‡v-modelåŒå‘ç»‘å®šåˆ°çˆ¶ç»„ä»¶ä¸Šã€‚\nä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹æ³•å®ç°ï¼Œè™½ç„¶ä¿®æ”¹å¯¹è±¡ç±»å‹çš„propså±æ€§ä¸­çš„å±æ€§ä¸ä¼šæŠ¥é”™ï¼ˆç»•è¿‡äº†Vueçš„ç›‘æµ‹ï¼‰ï¼Œä½†æ˜¯è¿™æ ·æ“ä½œè¿åäº†Vueçš„åŸåˆ™ã€‚\nç»™ Props ä¼ é€’å‡½æ•°ç±»å‹ å€ŸåŠ©propså°†çˆ¶ç»„ä»¶ä¸­çš„æŸäº›æ–¹æ³•ä¼ é€’åˆ°å­ç»„ä»¶ä¸­ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡è°ƒç”¨è¿™äº›ä»çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„propsæ–¹æ³•æ¥å®ç°å­ç»„ä»¶åˆ°çˆ¶ç»„ä»¶çš„é€šä¿¡ã€‚\nä¾‹å¦‚æœ‰ä¸€ä¸ªuser-inputç»„ä»¶æ¥æ”¶é›†ç”¨æˆ·çš„è´¦å·å’Œå¯†ç ä¿¡æ¯ï¼Œè€ŒApp.vueéœ€è¦è·å–user-inputç»„ä»¶æ”¶é›†åˆ°çš„ç”¨æˆ·ä¿¡æ¯ï¼š\n\u0026lt;!-- user-input.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model.lazy=\u0026#34;userInfo.account\u0026#34; placeholder=\u0026#34;è´¦å·\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; v-model.lazy=\u0026#34;userInfo.password\u0026#34; placeholder=\u0026#34;å¯†ç \u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;user-input\u0026#39;, props: [ \u0026#34;setUserInfo\u0026#34;, // ä»çˆ¶ç»„ä»¶æ¥æ”¶ä¸€ä¸ªç”¨äºé€šçŸ¥çˆ¶ç»„ä»¶æ•°æ®æ›´æ–°çš„å‡½æ•° ], data() { return { userInfo: { account: \u0026#39;\u0026#39;, password: \u0026#39;\u0026#39;, } } }, watch: { // ç›‘å¬ userInfo å¯¹è±¡ userInfo: { deep: true, handler() { // é€šçŸ¥çˆ¶ç»„ä»¶ userInfo è¢«æ›´æ–° this.setUserInfo(this.userInfo) }, }, }, } \u0026lt;/script\u0026gt; \u0026lt;!-- App.vue --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- å°†é€šçŸ¥ä¿¡æ¯æ›´æ–°çš„å‡½æ•°ä¼ é€’ç»™ç»„ä»¶ --\u0026gt; \u0026lt;user-input :setUserInfo=\u0026#34;setUserInfo\u0026#34;/\u0026gt; \u0026lt;br\u0026gt; \u0026lt;!-- ç‚¹å‡»ç™»å½•æŒ‰é’®æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ --\u0026gt; \u0026lt;button @click=\u0026#34;login\u0026#34;\u0026gt;ç™»å½•\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import UserInput from \u0026#39;./components/user-input.vue\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { UserInput, }, data() { return { userInfo: { account: \u0026#39;\u0026#39;, password: \u0026#39;\u0026#39;, } } }, methods: { // é€šçŸ¥ç»„ä»¶ç”¨æˆ·ä¿¡æ¯è¢«æ›´æ–° setUserInfo(userInfo) { this.userInfo.account = Object.hasOwn(userInfo, \u0026#34;account\u0026#34;) ? userInfo.account : \u0026#34;\u0026#34; this.userInfo.password = Object.hasOwn(userInfo, \u0026#34;password\u0026#34;) ? userInfo.password : \u0026#34;\u0026#34; }, login() { alert(`è´¦å·ï¼š${this.userInfo.account}\\nå¯†ç ï¼š${this.userInfo.password}`) }, }, } \u0026lt;/script\u0026gt; è¯¥æ–¹æ³•çš„åŸç†å°±æ˜¯ï¼šè¢«çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ç”¨äºæ›´æ–°çš„å‡½æ•°ï¼Œå®ƒçš„thisæŒ‡å‘çš„ä»æ˜¯çˆ¶ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚ç®€å•æ¥è¯´å°±æ˜¯å­ç»„ä»¶è°ƒç”¨äº†ä¸€ä¸ªçˆ¶ç»„ä»¶çš„æ–¹æ³•æ¥é€šçŸ¥çˆ¶ç»„ä»¶ã€‚\n","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-props/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694999964,"title":"Vue Props å±æ€§"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åœ¨Vueçš„æ¨¡æ¿ä¸­å¯ä»¥é€šè¿‡ä¸ºå…ƒç´ æˆ–å­ç»„ä»¶æ·»åŠ refå±æ€§ï¼ˆå¦‚ref=\u0026quot;elementRefValue\u0026quot;ï¼‰æ¥å‘Šè¯‰Vueå®ä¾‹ï¼ˆæˆ–ç»„ä»¶å®ä¾‹ï¼‰è¦è·å–è¯¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;h1 v-text=\u0026#34;msg\u0026#34; ref=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;/h1\u0026gt; \u0026lt;!-- è·å–Htmlå†…ç½®æ ‡ç­¾å…ƒç´  --\u0026gt; \u0026lt;MySite ref=\u0026#34;site\u0026#34;/\u0026gt; \u0026lt;!-- è·å–Vueç»„ä»¶ --\u0026gt; åœ¨Vueä¸­ï¼Œrefå±æ€§è¢«ç”¨æ¥ç»™å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ã€‚\nç„¶ååœ¨Vueå®ä¾‹æˆ–ç»„ä»¶å®ä¾‹ä¸­ï¼Œé€šè¿‡this.$refs.elementRefValueæ¥è·å–è¯¥å…ƒç´ æˆ–å­ç»„ä»¶çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š\nthis.$refs.title // è·å–çœŸå®DOMå…ƒç´  this.$refs.site // è·å–ç»„ä»¶å®ä¾‹å¯¹è±¡ å¦‚æœrefåœ¨Htmlå†…ç½®æ ‡ç­¾ä¸Šä½¿ç”¨ï¼Œé‚£ä¹ˆthis.$refs.elementRefValueè·å–åˆ°çš„æ˜¯è¯¥å…ƒç´ çš„çœŸå®DOMå…ƒç´ ã€‚ å¦‚æœrefåœ¨Vueç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨ï¼Œé‚£ä¹ˆthis.$refs.elementRefValueè·å–åˆ°çš„æ˜¯è¯¥ç»„ä»¶çš„VueComponentå¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š\n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h1 v-text=\u0026#34;msg\u0026#34; ref=\u0026#34;title\u0026#34;\u0026gt;\u0026lt;/h1\u0026gt; \u0026lt;button @click=\u0026#34;showDom\u0026#34;\u0026gt;è¾“å‡ºä¸Šæ–¹DOM\u0026lt;/button\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;MySite ref=\u0026#34;site\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•å…¥ç»„ä»¶ import MySite from \u0026#34;./components/MySite.vue\u0026#34;; export default { name: \u0026#39;app\u0026#39;, components: { MySite, }, data() { return { msg: \u0026#39;Hello Vue.js!\u0026#39;, } }, methods: { showDom() { console.log(this.$refs); // è·å–æ¨¡æ¿ä¸­æ‰€æœ‰ä½¿ç”¨äº† ref å±æ€§çš„å…ƒç´ æˆ–ç»„ä»¶ console.log(this.$refs.title); // è·å–çœŸå®DOMå…ƒç´  console.log(this.$refs.site); // è·å–ç»„ä»¶å®ä¾‹å¯¹è±¡ }, }, } \u0026lt;/script\u0026gt; ","date":"2023å¹´9æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-dom/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694999815,"title":"Vue è·å–é¡µé¢å…ƒç´ "},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å•æ–‡ä»¶ç»„ä»¶ Vueå•æ–‡ä»¶ç»„ä»¶æ˜¯æŒ‡ä½¿ç”¨ç”±Vueå®šä¹‰çš„.vueæ ¼å¼çš„æ–‡ä»¶ã€‚.vueæ–‡ä»¶æ¨¡æ¿å¦‚ä¸‹ï¼š\n\u0026lt;!-- Vue åªèƒ½åŒ…å«ä»¥ä¸‹ä¸‰ç§æ ‡ç­¾ --\u0026gt; \u0026lt;!-- ç»„ä»¶çš„ç»“æ„ --\u0026gt; \u0026lt;template\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;!-- ç»„ä»¶äº¤äº’ç›¸å…³çš„ä»£ç ï¼ˆæ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼‰ --\u0026gt; \u0026lt;script\u0026gt; export default { // ... }; \u0026lt;/script\u0026gt; \u0026lt;!-- ç»„ä»¶çš„æ ·å¼ --\u0026gt; \u0026lt;style\u0026gt; /* ... */ \u0026lt;/style\u0026gt; å…¶ä¸­ï¼š\n\u0026lt;template\u0026gt;ï¼šç”¨äºå®šä¹‰ç»„ä»¶çš„ç»“æ„ã€‚ç›¸å½“äºç»„ä»¶é…ç½®ä¸­çš„templateé…ç½®é¡¹ã€‚\nå’ŒHtmlä¸­çš„\u0026lt;template\u0026gt;ä¸€æ ·ï¼Œå®ƒä¸ä¼šå½±å“é¡µé¢æœ€ç»ˆçš„ç»“æ„ã€‚\nç”±äº\u0026lt;template\u0026gt;ä¸ä¼šå½±å“é¡µé¢ç»“æ„ï¼Œæ‰€ä»¥åœ¨\u0026lt;template\u0026gt;ä¸­è¿˜éœ€è¦å®šä¹‰ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ•´ä¸ªç»„ä»¶çš„æ ¹èŠ‚ç‚¹ã€‚\n\u0026lt;script\u0026gt;ï¼šå®šä¹‰ç»„ä»¶çš„äº¤äº’ç›¸å…³çš„ä»£ç ã€‚å³å®šä¹‰åˆ›å»ºç»„ä»¶çš„JSä»£ç ã€‚\nåœ¨\u0026lt;script\u0026gt;ä¸­å¯ä»¥ä½¿ç”¨Vue.extend()æ¥åˆ›å»ºç»„ä»¶ã€‚ä½†æ˜¯ç”±äºVueä¼šåœ¨éœ€è¦çš„æ—¶å€™å¸®æˆ‘ä»¬è‡ªåŠ¨è°ƒç”¨Vue.extend()ï¼Œæ‰€ä»¥Vue.extend()å¯çœç•¥ã€‚ä¸€èˆ¬æƒ…å†µä¸‹export defaultç»„ä»¶çš„é…ç½®å¯¹è±¡å³å¯ã€‚\nå¦‚æœè¦ä½¿ç”¨Vue.extend()ï¼Œéœ€è¦å…ˆå¼•å…¥Vueã€‚\n\u0026lt;style\u0026gt;ï¼šå’ŒHtmlä¸­çš„\u0026lt;style\u0026gt;ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨äºå®šä¹‰æ ·å¼ã€‚\n.vueæ³¨é‡Šï¼š\n.vueä¸­çš„æ–‡ä»¶æœ‰4ä¸ªåœ°æ–¹å¯ä»¥å†™æ³¨é‡Šï¼š\n\u0026lt;template\u0026gt;ä¸­ï¼šä½¿ç”¨Htmlçš„æ³¨é‡Š\u0026lt;!-- æ³¨é‡Šå†…å®¹ --\u0026gt;ã€‚\n\u0026lt;script\u0026gt;ä¸­ï¼šä½¿ç”¨JSçš„æ³¨é‡Š// æ³¨é‡Šå†…å®¹æˆ–/* æ³¨é‡Šå†…å®¹ */ã€‚\n\u0026lt;style\u0026gt;ä¸­ï¼šä½¿ç”¨CSSçš„æ³¨é‡Š/* æ³¨é‡Šå†…å®¹ */ã€‚\nä¸Šè¿°èŒƒå›´ä¹‹å¤–çš„å…¶å®ƒåœ°æ–¹ï¼šä¹Ÿå°±æ˜¯åœ¨\u0026lt;template\u0026gt;ã€\u0026lt;script\u0026gt;å’Œ\u0026lt;style\u0026gt;ä¹‹å¤–çš„å…¶å®ƒåœ°æ–¹å¯ä»¥ä½¿ç”¨æ³¨é‡Šã€‚è¿™äº›æ³¨é‡Šæ˜¯å±äº.vueæ–‡ä»¶è‡ªå·±çš„æ³¨é‡Šï¼Œä¸€å…±æœ‰3ç§æ³¨é‡Šç±»å‹ï¼š\n\u0026lt;!-- æ³¨é‡Šå†…å®¹ --\u0026gt; // æ³¨é‡Šå†…å®¹ /* æ³¨é‡Šå†…å®¹ */ ä¹Ÿå°±æ˜¯è¯´ï¼Œ\u0026lt;template\u0026gt;ã€\u0026lt;script\u0026gt;å’Œ\u0026lt;style\u0026gt;ä¹‹å¤–çš„å…¶å®ƒåœ°æ–¹å¯ä»¥ä½¿ç”¨Htmlã€JSå’ŒCSSçš„ä»»ä½•ç±»å‹çš„æ³¨é‡Šã€‚\nVue CLI ç”±äºæµè§ˆå™¨å¹¶ä¸æ”¯æŒç›´æ¥æµè§ˆ.vueç±»å‹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å°†.vueç±»å‹çš„æ–‡ä»¶ç¼–è¯‘æˆæµè§ˆå™¨æ”¯æŒçš„æ–‡ä»¶ç±»å‹ã€‚è€ŒVue CLIï¼ˆVue Command Line Interfaceï¼ŒVueè„šæ‰‹æ¶ï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°ç¼–è¯‘.vueã€‚\nå®‰è£… Vue CLI Vue CLIéœ€è¦ä½¿ç”¨npmå®‰è£…ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘ä¸Šå·²ç»å®‰è£…äº†Node.jsã€‚\nVue CLIå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š\nnpm install -g @vue/cli å®‰è£…å®Œæˆåç›´æ¥ä½¿ç”¨vueå‘½ä»¤è¿è¡ŒVue CLIã€‚æŸ¥çœ‹Vue CLIç‰ˆæœ¬ä»¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š\nvue -V ä½¿ç”¨ Vue CLI ä½¿ç”¨Vue CLIåˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼š\nvue create vue_demo æ¥ç€Vue CLIä¼šè®©ä½ é€‰æ‹©ä¸€ä¸ªé»˜è®¤çš„é…ç½®ï¼š\nä½¿ç”¨é”®ç›˜çš„â†‘æˆ–â†“å»ç§»åŠ¨é€‰æ‹©ï¼Œç„¶åæŒ‰ä¸‹å›è½¦å³å¯å¼€å§‹åˆ›å»ºã€‚\nå…¶ä¸­çš„babelæ˜¯ç”¨æ¥å°†ES6çš„ä»£ç è½¬æ¢ä¸ºES5ã€‚eslintæ˜¯ç”¨æ¥è¿›è¡Œè¯­æ³•æ£€æŸ¥ã€‚\nå‡ºç°å¦‚ä¸‹æç¤ºè¡¨ç¤ºé¡¹ç›®åˆ›å»ºæˆåŠŸï¼š\nğŸ‰ Successfully created project vue_demo. ğŸ‘‰ Get started with the following commands: $ cd vue_demo $ npm run serve æ ¹æ®æç¤ºä¿¡æ¯å¯ä»¥çŸ¥é“ï¼Œè¿›å…¥vue_demoç›®å½•ä¹‹åè¿è¡Œnpm run serveå¯ä»¥å¯åŠ¨è¿™ä¸ªé¡¹ç›®ï¼š\ncd vue_demo npm run serve å¯åŠ¨æˆåŠŸåï¼Œé¡¹ç›®æœåŠ¡çš„é»˜è®¤ç«¯å£æ˜¯8080ï¼Œå¯ä»¥è®¿é—®http://localhost:8080/ä»¥æµè§ˆVue CLIä¸ºæˆ‘ä»¬åˆ›å»ºçš„HelloWorldè¿™ä¸ªé¡¹ç›®ç¤ºä¾‹ã€‚\né¡¹ç›®ç»“æ„ Vue CLIåˆ›å»ºå¥½çš„é¡¹ç›®ç»“æ„ä¸€èˆ¬å¦‚ä¸‹ï¼š\nvue_demo â”œâ”€â”€ babel.config.js â”œâ”€â”€ dist â”œâ”€â”€ .git â”œâ”€â”€ .gitignore â”œâ”€â”€ jsconfig.json â”œâ”€â”€ package.json â”œâ”€â”€ package-lock.json â”œâ”€â”€ public â”‚Â â”œâ”€â”€ favicon.ico â”‚Â â””â”€â”€ index.html â”œâ”€â”€ README.md â”œâ”€â”€ src â”‚Â â”œâ”€â”€ App.vue â”‚Â â”œâ”€â”€ assets â”‚Â â”‚Â â””â”€â”€ logo.png â”‚Â â”œâ”€â”€ components â”‚Â â”‚Â â”œâ”€â”€ Hello.vue â”‚Â â”‚Â â””â”€â”€ SiteUser.vue â”‚Â â””â”€â”€ main.js â””â”€â”€ vue.config.js åœ¨åˆ›å»ºå¥½çš„vue_demoä¸­ï¼Œæœ‰ä»¥ä¸‹è¿™äº›æ³¨æ„ç‚¹ï¼š\n.gitignoreï¼šæ’é™¤é‚£äº›ä¸éœ€è¦è¢«gitæ‰€ç®¡ç†çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚\nbabel.config.jsï¼šbabelçš„é…ç½®æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ä¸éœ€è¦ä¿®æ”¹è¯¥é…ç½®ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ï¼Œå¯ä»¥æµè§ˆBabelå®˜ç½‘\npackage.jsonï¼šå½“å‰ï¼ˆNode.jsï¼‰é¡¹ç›®çš„åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ã€‚\nå…¶ä¸­éœ€è¦æ³¨æ„ä¸€ä¸‹çš„æ˜¯ï¼š\n{ /* ... */ \u0026#34;scripts\u0026#34;: { \u0026#34;serve\u0026#34;: \u0026#34;vue-cli-service serve\u0026#34;, // é¢„è§ˆé¡¹ç›® \u0026#34;build\u0026#34;: \u0026#34;vue-cli-service build\u0026#34;, // æ„å»ºé¡¹ç›® \u0026#34;lint\u0026#34;: \u0026#34;vue-cli-service lint\u0026#34; // è¿›è¡Œè¯­æ³•æ£€æŸ¥ }, /* ... */ } READNE.mdï¼šç¨‹åºè¯´æ˜æ–‡æ¡£ã€‚\nsrcï¼šé¡¹ç›®æºä»£ç æ–‡ä»¶ã€‚åœ¨ä½¿ç”¨é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œåç§°ä¸å¯éšæ„æ›´æ”¹ã€‚\nsrcçš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š\nmain.jsï¼šé»˜è®¤çš„é¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œä¸»è¦ç”¨æ¥åˆ›å»ºVueå®ä¾‹ã€‚åœ¨ä½¿ç”¨é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œåç§°ä¸å¯éšæ„æ›´æ”¹ã€‚ App.vueï¼šé¡¹ç›®ä¸­æ‰€æœ‰ç»„ä»¶çš„æ ¹ç»„ä»¶ã€‚ assetsï¼šå­˜æ”¾é¡¹ç›®çš„é™æ€èµ„æºã€‚ componentsï¼šå­˜æ”¾é¡¹ç›®ä¸­ï¼ˆé™¤äº†App.vueï¼‰ç»„ä»¶çš„æ–‡ä»¶å¤¹ã€‚ publicï¼šå­˜æ”¾index.htmlã€favicon.icoç­‰æ–‡ä»¶ã€‚åœ¨ä½¿ç”¨é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œåç§°ä¸å¯éšæ„æ›´æ”¹ã€‚\npublic/index.htmlæ˜¯å½“å‰é¡¹ç›®é»˜è®¤æ‰“å¼€çš„é¡µé¢ã€‚åœ¨ä½¿ç”¨é»˜è®¤é…ç½®çš„æƒ…å†µä¸‹ï¼Œåç§°ä¸å¯éšæ„æ›´æ”¹ã€‚\nåœ¨index.htmlä¸­ï¼Œæœ‰ä¸€ä¸ªæœ€é‡è¦çš„ä¸œè¥¿ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; vue.config.jsï¼šVue CLIçš„é…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼Œä¸package.jsonåŒçº§ã€‚\nVue CLI å…¥å£æ–‡ä»¶ åœ¨main.jsä¸­çš„import Vue from 'vue'å’Œrender: h =\u0026gt; h(App)è¯­å¥éœ€è¦æ ¼å¤–æ³¨æ„ï¼š\nmain.jsä¸­ï¼Œä½¿ç”¨ES6å¼•å…¥çš„Vueï¼ˆå³import Vue from 'vue'ï¼‰ï¼Œæ˜¯vue.runtime.esm.jsã€‚\nvue.runtime.esm.jsæ˜¯ä¸€ä¸ªç²¾ç®€ç‰ˆçš„Vueï¼Œå…¶ä¸­å»é™¤äº†åŸæœ¬Vueä¸­çš„æ¨¡æ¿è§£æå™¨ã€‚æ‰€ä»¥åœ¨main.jsçš„Vueå®ä¾‹ä¸­ï¼Œä½¿ç”¨templateé…ç½®é¡¹ä¼šå› ä¸ºæ²¡æœ‰æ¨¡æ¿è§£æå™¨è€Œå¯¼è‡´æ— æ³•è§£æã€‚\næœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼š\nå¼•å…¥å®Œæ•´ç‰ˆçš„vue.jsï¼š\nimport Vue from \u0026#39;vue/dist/vue\u0026#39; // å¼•å…¥ Vue import App from \u0026#39;./App.vue\u0026#39; // å¼•å…¥ App ç»„ä»¶ /* ... */ new Vue({ components: {App}, template: `\u0026lt;App\u0026gt;Hello!\u0026lt;/App\u0026gt;`, }).$mount(\u0026#39;#app\u0026#39;) ä½¿ç”¨renderé…ç½®é¡¹ï¼š\nimport Vue from \u0026#39;vue\u0026#39; // å¼•å…¥ Vue import App from \u0026#39;./App.vue\u0026#39; // å¼•å…¥ App ç»„ä»¶ /* ... */ new Vue({ render: h =\u0026gt; h(App), }).$mount(\u0026#39;#app\u0026#39;) renderæœ¬è´¨æ˜¯Vueè°ƒç”¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒéœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°createElementè¿™ä¸ªå‚æ•°æ˜¯functionç±»å‹ã€‚createElement()å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨é¡µé¢ä¸­åˆ›å»ºå¹¶æ¸²æŸ“å…ƒç´ ã€‚ä¾‹å¦‚ï¼š\nimport Vue from \u0026#39;vue\u0026#39; // å¼•å…¥ Vue // å…¶å®è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨å®Œæ•´ç‰ˆçš„ Vueï¼Œä½†æ˜¯æ²¡å¿…è¦ /* ... */ new Vue({ render(createElement) { console.log(\u0026#39;render.\u0026#39;); console.log(typeof createElement); // function return createElement(\u0026#39;h2\u0026#39;, \u0026#39;Hello!\u0026#39;) }, }).$mount(\u0026#39;#app\u0026#39;) ç”±äºrenderä¸­ä¸éœ€è¦ä½¿ç”¨thisï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼() =\u0026gt; {}æ¥å®šä¹‰ã€‚å¦‚ä¸Šæ–¹çš„è§£å†³æ–¹æ¡ˆä¸­h =\u0026gt; h(App)å°±æ˜¯renderæœ€ç®€æ´çš„å®šä¹‰æ–¹å¼ã€‚\nä½¿ç”¨äº†renderå°±æ— éœ€ä½¿ç”¨componentsã€‚\næ³¨ï¼šåœ¨.vueä¸­ä¾æ—§æ˜¯ä½¿ç”¨\u0026lt;template\u0026gt;å’Œcomponentsã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ä¾‹æ— éœ€ä½¿ç”¨renderã€‚\nVue CLI é…ç½®æ–‡ä»¶ Vue CLIé»˜è®¤çš„å…¥å£æ–‡ä»¶å°±æ˜¯main.jsã€‚å¹¶ä¸”Vue CLIéšè—äº†æ‰€æœ‰webpackç›¸å…³çš„é…ç½®ï¼Œè‹¥æƒ³æŸ¥çœ‹å…·ä½“çš„webpacké…ç½®ï¼Œå¯è¿è¡Œï¼š\nvue inspect \u0026gt; output.js å°†Vue CLIçš„webpackç›¸å…³é…ç½®è¾“å‡ºåˆ°output.jsè¿™ä¸ªæ–‡ä»¶ä¸­ï¼ˆä»…ç”¨ä½œè¾“å‡ºæµè§ˆï¼Œæ— æ³•åœ¨æ­¤æ›´æ”¹é…ç½®ï¼‰ã€‚\nåœ¨Vue CLIçš„webpackç›¸å…³é…ç½®ä¸­æœ‰è¿™æ ·çš„å†…å®¹ï¼š\n{ /* ... */ entry: { app: [ \u0026#39;./src/main.js\u0026#39; // é¡¹ç›®å…¥å£æ–‡ä»¶ ] } } è¦ä¿®æ”¹è¿™äº›é…ç½®å†…å®¹ï¼Œéœ€è¦åœ¨vue.config.jsä¸­è¿›è¡Œä¿®æ”¹ã€‚å®ƒçš„åŸºæœ¬å½¢å¼å¦‚ï¼ˆä½¿ç”¨çš„æ˜¯common.jsçš„æ¨¡å—åŒ–è¯­æ³•ï¼‰ï¼š\nmodule.exports = { /* é€‰é¡¹... */ } æˆ–ä½¿ç”¨@vue/cli-serviceæä¾›çš„defineConfig()å¸®æ‰‹å‡½æ•°ï¼š\nconst { defineConfig } = require(\u0026#39;@vue/cli-service\u0026#39;) module.exports = defineConfig({ /* é€‰é¡¹... */ }) vue.config.jsä¸­æœ‰ä¸€ä¸ªpagesé…ç½®é¡¹ï¼ˆå…·ä½“å†…å®¹å¯åœ¨å®˜æ–¹æ–‡æ¡£ä¸­å¤åˆ¶ï¼‰ï¼š\nmodule.exports = { /* ... */ pages: { index: { // page çš„å…¥å£ entry: \u0026#39;src/main.js\u0026#39;, // æ¨¡æ¿æ¥æº template: \u0026#39;public/index.html\u0026#39;, // åœ¨ dist/index.html çš„è¾“å‡º filename: \u0026#39;index.html\u0026#39;, // å½“ä½¿ç”¨ title é€‰é¡¹æ—¶ï¼Œ // template ä¸­çš„ title æ ‡ç­¾éœ€è¦æ˜¯ \u0026lt;title\u0026gt;\u0026lt;%= htmlWebpackPlugin.options.title %\u0026gt;\u0026lt;/title\u0026gt; title: \u0026#39;Index Page\u0026#39;, } } } é™¤äº†pagesé…ç½®é€‰é¡¹ï¼Œè¿˜æœ‰ç”¨äºå…³é—­è¯­æ³•æ£€æŸ¥çš„lintOnSaveï¼š\nmodule.exports = { lintOnSave: false } vue.config.jsçš„é…ç½®é€‰é¡¹å¯å‚è€ƒ Vue CLI é…ç½®å‚è€ƒã€‚\næ³¨ï¼š\nvue.config.jsè¢«ä¿®æ”¹ä¹‹åï¼Œéœ€è¦é‡æ–°è¿è¡Œnpm run serveã€‚\nå¦‚æœåœ¨vue.config.jsä¸­ç±»ä¼¼è¿™æ ·é…ç½®ï¼š\nmodule.exports = { pages: { index: { /* ç©ºçš„é…ç½®å†…å®¹ */ } } } é‚£ä¹ˆåœ¨å¯åŠ¨æˆ–è€…æ„å»ºé¡¹ç›®çš„æ—¶å€™å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚å› ä¸ºæ­¤æ—¶çš„é…ç½®ä¸­çš„pages.indexä¼ é€’çš„æ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•å±æ€§çš„å¯¹è±¡ï¼Œè€ŒVue CLIå¹¶ä¸ä¼šå»è§£æå®ƒå¹¶ä¸ºä»–é…ä¸Šé»˜è®¤çš„å†…å®¹ã€‚\næ‰€ä»¥åœ¨ä½¿ç”¨vue.config.jsçš„æ—¶å€™ï¼Œè¦ä¹ˆå¹²è„†ä¸æ·»åŠ é…ç½®é€‰é¡¹ï¼Œä½¿ç”¨é»˜è®¤çš„å†…å®¹ï¼›è¦ä¹ˆå°±è¦æŒ‰ç…§é…ç½®é€‰é¡¹çš„å†…å®¹è¿›è¡Œæ­£ç¡®çš„é…ç½®ã€‚\nVue åŒ… Vueçš„ä¾èµ–åŒ…åœ¨node_modules/vue/distä¸­ã€‚å…¶ä¸­æœ‰è¿™ä¹ˆäº›ç‰ˆæœ¬ï¼š\n.esmï¼šåŒ…å«.esmçš„æ–‡ä»¶ä»£è¡¨ä½¿ç”¨äº†ES6çš„æ¨¡å—åŒ–è¯­æ³•ã€‚ä½¿ç”¨ES6çš„æ¨¡å—åŒ–è¯­æ³•çš„ç‰ˆæœ¬ï¼Œæµè§ˆå™¨æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚\n.minï¼šåŒ…å«.minå°±æ˜¯æŒ‡å‹ç¼©ç‰ˆæœ¬ã€‚\nå®Œæ•´ç‰ˆï¼š\nvue.jsï¼šæµè§ˆå™¨å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å®Œæ•´ç‰ˆæœ¬ã€‚ vue.esm.jsï¼šä½¿ç”¨äº†ES6çš„æ¨¡å—åŒ–è¯­æ³•çš„å®Œæ•´ç‰ˆã€‚ runtimeï¼šè¿è¡Œæ—¶ç‰ˆæœ¬ï¼Œæ˜¯Vueçš„ç²¾ç®€ç‰ˆæœ¬ï¼Œå»é™¤äº†æ¨¡æ¿è§£æå™¨ã€‚\nvue.runtime.js vue.runtime.min.js vue.runtime.esm.js runtimeç‰ˆæœ¬ä¸èƒ½ä½¿ç”¨templateé…ç½®é¡¹ã€‚éœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥æ”¶åˆ°çš„createElementå‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹ã€‚\ncommonï¼šä½¿ç”¨common.jsæ—¶ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚\nvue.common.js vue.common.dev.js vue.common.prod.js vue.runtime.common.dev.js vue.runtime.common.js vue.runtime.common.prod.js Vue CLIä¸­\u0026lt;template\u0026gt;æ ‡ç­¾é…ç½®çš„æ¨¡æ¿ï¼Œæ˜¯ç”±vue-template-compilerï¼ˆVue æ¨¡æ¿è§£æå™¨ï¼‰æ¥è§£æã€‚è¿™ä¸ªvue-template-compileråªèƒ½è§£æ.vueä¸­çš„\u0026lt;template\u0026gt;æ¨¡æ¿ï¼Œè€Œä¸èƒ½è§£ætemplateé…ç½®é¡¹ã€‚\nç¤ºä¾‹ æ ¹æ®ä»¥ä¸Šæ­¥éª¤å’Œä¿¡æ¯ï¼Œå°†éå•æ–‡ä»¶ç»„ä»¶ä¸­çš„siteå’Œuserå®šä¹‰ä¸ºå•æ–‡ä»¶ç»„ä»¶çš„å½¢å¼ï¼š\nPSï¼šç”±äºä½¿ç”¨çš„Vue CLIç‰ˆæœ¬ä¸º5ï¼Œé»˜è®¤å¼€å¯è¯­æ³•æ£€æŸ¥ã€‚æ ¹æ®ESLintçš„å®˜æ–¹ä»£ç è§„èŒƒï¼Œé™¤äº†Appçš„å…¶å®ƒç»„ä»¶åªèƒ½ä»¥multi-wordï¼ˆå¤šå•è¯ï¼‰çš„å½¢å¼å‘½åã€‚æ‰€ä»¥ä¸‹æ–¹ç»„ä»¶çš„å‘½åéµå¾ªESLintè§„èŒƒã€‚\nmulti-wordå½¢å¼é€‰æ‹©kebab-caseæˆ–CameCaseéƒ½å¯ä»¥ã€‚\nMySiteï¼š\n\u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;my-site\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;MySite\u0026#39;, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, } }, }; \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; .my-site { background-color: yellow; } \u0026lt;/style\u0026gt; SiteUserï¼š\n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { name: \u0026#39;SiteUser\u0026#39;, data() { return { name: \u0026#39;å¼ ä¸‰\u0026#39;, age: 18, } }, } \u0026lt;/script\u0026gt; App.vueï¼š\n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;img src=\u0026#34;./assets/logo.png\u0026#34; alt=\u0026#34;logo\u0026#34;\u0026gt; \u0026lt;MySite/\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;SiteUser/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å¼•å…¥ç»„ä»¶ import MySite from \u0026#34;./components/MySite.vue\u0026#34;; import SiteUser from \u0026#39;./components/SiteUser.vue\u0026#39;; export default { name: \u0026#39;app\u0026#39;, components: { MySite, SiteUser, } } \u0026lt;/script\u0026gt; å…¶å®ƒæ–‡ä»¶æš‚æ—¶ä¸ç”¨æ”¹åŠ¨ã€‚ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œnpm run serveå³å¯é¢„è§ˆã€‚\nç»„ä»¶åŒ–ç¼–ç æµç¨‹ æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶æŒ‰åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸Htmlå…ƒç´ å†²çªã€‚ å®ç°åŠ¨æ€ç»„ä»¶ï¼šæ ¹æ®æ•°æ®è¢«ä½¿ç”¨çš„èŒƒå›´ï¼Œè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ã€‚ æ•°æ®åªæœ‰ä¸€ä¸ªç»„ä»¶åœ¨ä½¿ç”¨ï¼šæ”¾åœ¨ç»„ä»¶ä¸­å³å¯ã€‚ æ•°æ®è¢«ä¸€éƒ¨åˆ†ç»„ä»¶å…±åŒä½¿ç”¨ï¼šæ”¾åœ¨è¿™äº›ç»„ä»¶çš„çˆ¶ç»„ä»¶ä¸Šï¼ˆè¿™ç§æ–¹æ³•è¢«ç§°ä¸ºçŠ¶æ€æå‡ï¼ŒVueä¸­çš„æ•°æ®ä¹Ÿå¯è¢«ç§°ä¸ºçŠ¶æ€ï¼‰ã€‚ å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚ ","date":"2023å¹´9æœˆ16æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/vue-projects/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694850447,"title":"Vue é¡¹ç›®å¼€å‘"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç»„ä»¶æ˜¯æŒ‡å®ç°åº”ç”¨ä¸­å±€éƒ¨åŠŸèƒ½ä»£ç ï¼ˆhtmlã€cssã€jsç­‰ï¼‰å’Œèµ„æºï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ï¼‰çš„é›†åˆã€‚\nä¼ ç»Ÿçš„Webåº”ç”¨å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š\nä¾èµ–å…³ç³»æ··ä¹±ï¼Œä¸æ˜“äºç»´æŠ¤ã€‚ ä»£ç å¤ç”¨ç‡ä¸é«˜ã€‚ CSSæ–‡ä»¶å¯ä»¥é€šè¿‡å¤–éƒ¨å¼•å…¥ï¼Œä¸å­˜åœ¨å¤ç”¨ç‡ä¸é«˜çš„é—®é¢˜ã€‚JSçš„æ¨¡å—åŒ–è§£å†³äº†JSä»£ç å¤ç”¨ç‡ä¸é«˜çš„é—®é¢˜ã€‚è€ŒHtmlæƒ³è¦å¤ç”¨å´ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚\næ¨¡å—åŒ–åº”ç”¨ï¼šå½“åº”ç”¨ä¸­çš„JSéƒ½ä»¥åŒºåˆ†æ¨¡å—çš„å½¢å¼æ¥ç¼–å†™ï¼Œé‚£ä¹ˆè¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨ã€‚ ç»„ä»¶åŒ–åº”ç”¨ï¼šå½“åº”ç”¨ä¸­çš„åŠŸèƒ½éƒ½æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼æ¥ç¼–å†™ï¼Œé‚£ä¹ˆè¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨ã€‚ ä½¿ç”¨Vueç»„ä»¶å¯ä»¥æ‰©å±•HTMLå…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ï¼Œè§£å†³äº†ä¸Šè¿°é—®é¢˜ã€‚\nä½¿ç”¨ç»„ä»¶ç³»ç»Ÿå¯ä»¥ç”¨ç‹¬ç«‹å¯å¤ç”¨çš„å°ç»„ä»¶æ¥æ„å»ºå¤§å‹åº”ç”¨ï¼Œå‡ ä¹ä»»æ„ç±»å‹çš„åº”ç”¨çš„ç•Œé¢éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç»„ä»¶æ ‘ï¼š\nåœ¨Vueä¸­ï¼Œç»„ä»¶æœ‰ä¸¤ç§ç¼–å†™å½¢å¼ï¼š\néå•æ–‡ä»¶ç»„ä»¶ï¼šä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«æœ‰å…¶å®ƒå¤šä¸ªç»„ä»¶ã€‚ å•æ–‡ä»¶ç»„ä»¶ï¼šä¸€ä¸ªæ–‡ä»¶ä¸­åªåŒ…å«æœ‰1ä¸ªç»„ä»¶ã€‚ åœ¨Vueä¸­ä½¿ç”¨ç»„ä»¶å…±åˆ†ä¸º3æ­¥ï¼š\nå®šä¹‰ï¼ˆåˆ›å»ºï¼‰ç»„ä»¶ã€‚ æ³¨å†Œç»„ä»¶ï¼š å±€éƒ¨æ³¨å†Œã€‚ å…¨å±€æ³¨å†Œã€‚ ä½¿ç”¨ç»„ä»¶ï¼ˆç»„ä»¶æ ‡ç­¾ï¼‰ã€‚ ç»„ä»¶çš„æ³¨å†Œ ç»„ä»¶æœ‰ä¸¤ç§æ³¨å†Œæ–¹å¼ï¼š\nå±€éƒ¨æ³¨å†Œï¼šåœ¨åˆ›å»ºVueå®ä¾‹æ—¶ï¼Œåœ¨å…¶é…ç½®å¯¹è±¡ä¸­çš„componentsé…ç½®é¡¹ä¸­å®šä¹‰ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;#app\u0026#34;\u0026gt; \u0026lt;!-- 3. ä½¿ç”¨ç»„ä»¶ --\u0026gt; \u0026lt;hello\u0026gt;\u0026lt;/hello\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // 1. åˆ›å»ºç»„ä»¶ const hello = Vue.extend({ template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;{{msg}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { msg: \u0026#39;Hello Vue.js!\u0026#39;, } }, }); const vm = new Vue({ el: \u0026#34;#app\u0026#34;, // 2. æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰ components: { \u0026#39;hello\u0026#39;: hello, // hello, // ç®€å†™å½¢å¼ }, }); \u0026lt;/script\u0026gt; åœ¨componentsä¸­ï¼Œç»„ä»¶æ˜¯ä»¥key: valueçš„å½¢å¼è¿›è¡Œæ³¨å†Œã€‚keyä½œä¸ºç»„ä»¶çš„åç§°ï¼Œè€Œvalueä½¿ç”¨çš„æ˜¯ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚\nå±€éƒ¨æ³¨å†Œçš„ç»„ä»¶åªèƒ½åœ¨å½“å‰çš„Vueå®ä¾‹æˆ–ç»„ä»¶å®ä¾‹ä¸­ä½¿ç”¨ã€‚\nå…¨å±€æ³¨å†Œï¼šä½¿ç”¨VueåŸå‹å¯¹è±¡æä¾›çš„Vue.component()æ–¹æ³•ã€‚\nVue.component()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š\nå‚æ•°1ï¼šæ³¨å†Œç»„ä»¶æ—¶ä½¿ç”¨çš„keyã€‚ å‚æ•°2ï¼šç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚ å¦‚ä¸Šä¾‹ï¼Œå°†helloç»„ä»¶æ”¹ä¸ºå…¨å±€æ³¨å†Œï¼š\n\u0026lt;div id=\u0026#34;#app\u0026#34;\u0026gt; \u0026lt;!-- 3. ä½¿ç”¨ç»„ä»¶ --\u0026gt; \u0026lt;hello\u0026gt;\u0026lt;/hello\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // 1. åˆ›å»ºç»„ä»¶ const hello = Vue.extend({ template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;{{msg}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { msg: \u0026#39;Hello Vue.js!\u0026#39;, } }, }); // 2. æ³¨å†Œç»„ä»¶ï¼ˆå…¨å±€æ³¨å†Œï¼‰ Vue.component(\u0026#39;hello\u0026#39;, hello) const vm = new Vue({ el: \u0026#34;#app\u0026#34;, }); \u0026lt;/script\u0026gt; ç»„ä»¶çš„ä½¿ç”¨ä¸å‘½å ç»„ä»¶åœ¨ä½¿ç”¨æ—¶ï¼Œç›´æ¥ä»¥\u0026lt;component-name\u0026gt;çš„å½¢å¼ä½¿ç”¨ã€‚åˆ‡ç¡®åœ°è¯´ï¼Œcomponent-nameæ˜¯ç»„ä»¶åœ¨æ³¨å†Œæ—¶ä¼ å…¥çš„keyã€‚\nå¦‚ä¸Šä¾‹ä¸­ï¼š\n\u0026lt;div id=\u0026#34;#app\u0026#34;\u0026gt; \u0026lt;!-- 3. ä½¿ç”¨ç»„ä»¶ --\u0026gt; \u0026lt;hello\u0026gt;\u0026lt;/hello\u0026gt; \u0026lt;/div\u0026gt; å…¶å®ç»„ä»¶æ ‡ç­¾å¯ä»¥ä½¿ç”¨é—­åˆæ ‡ç­¾çš„å½¢å¼ç¼–å†™ã€‚å¦‚\u0026lt;user\u0026gt;\u0026lt;/user\u0026gt;å¯ä»¥å†™ä¸º\u0026lt;user/\u0026gt;ã€‚ä½†æ˜¯è¿™ç§ç”¨æ³•æœ€å¥½åœ¨Vueè„šæ‰‹æ¶ä¸­ä½¿ç”¨ã€‚å› ä¸ºä¸ä½¿ç”¨è„šæ‰‹æ¶çš„æƒ…å†µä¸‹ï¼Œé—­åˆæ ‡ç­¾å¯èƒ½ä¼šè°ƒèŒåç»­ç»„ä»¶ä¸èƒ½è¢«æˆåŠŸæ¸²æŸ“ã€‚\nå…³äºç»„ä»¶åå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§å‘½åæ–¹å¼ï¼š\nkebab-caseï¼ˆçƒ¤è‚‰ä¸²å¼ï¼‰ï¼šç”¨-è¿æ¥å¤šä¸ªå•è¯ã€‚ CameCaseï¼ˆå¤§é©¼å³°å‘½åæ³•ï¼Œéœ€è¦Vueè„šæ‰‹æ¶æ”¯æŒï¼‰ï¼šå°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯è®¾ä¸ºå¤§å†™å½¢å¼ã€‚ åœ¨å®šä¹‰ç»„ä»¶åæ—¶éœ€è¦æ³¨æ„ï¼š\nç»„ä»¶åå°½å¯èƒ½å›é¿Htmlä¸­å·²æœ‰çš„å…ƒç´ åç§°ï¼ˆVueä¼šæŠ¥é”™ï¼‰ã€‚\nå¯ä»¥ä½¿ç”¨nameé…ç½®é¡¹æŒ‡å®šç»„ä»¶åœ¨å¼€å‘è€…å·¥å…·ä¸­å±•ç¤ºçš„åç§°ã€‚\nå¦‚ä¸Šä¾‹ï¼š\nconst hello = Vue.extend({ name: \u0026#39;hello-vue\u0026#39;, template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;{{msg}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { msg: \u0026#39;Hello Vue.js!\u0026#39;, } }, }) é‚£ä¹ˆæ— è®ºç»„ä»¶åè¢«å®šä¹‰æˆä»€ä¹ˆï¼Œhelloç»„ä»¶åœ¨Vueå¼€å‘è€…å·¥å…·ä¸­å±•ç¤ºçš„éƒ½æ˜¯hello-vueè¿™ä¸ªåç§°ã€‚\néå•æ–‡ä»¶ç»„ä»¶ å¦‚ä¸‹æ˜¯ä¸€ä¸ªç»„ä»¶çš„ç¤ºä¾‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;{{msg}}\u0026lt;/h2\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;!-- 3. ç¼–å†™ç»„ä»¶æ ‡ç­¾ --\u0026gt; \u0026lt;site\u0026gt;\u0026lt;/site\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;!-- 3. ç¼–å†™ç»„ä»¶æ ‡ç­¾ --\u0026gt; \u0026lt;user\u0026gt;\u0026lt;/user\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // 1. åˆ›å»ºsiteç»„ä»¶ const site = Vue.extend({ template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, } }, }); // 1. åˆ›å»ºuserç»„ä»¶ const user = Vue.extend({ template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { name: \u0026#39;å¼ ä¸‰\u0026#39;, age: 18, } }, }); new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;Hello!\u0026#39; }, // 2. æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰ components: { site, user, }, }); \u0026lt;/script\u0026gt; åˆ›å»ºç»„ä»¶ éå•æ–‡ä»¶ç»„ä»¶çš„åˆ›å»ºä½¿ç”¨çš„æ˜¯Vue.extend()æ–¹æ³•ã€‚\nVue.extend()çš„ä½¿ç”¨ä¸Vueå®ä¾‹çš„æ„é€ å‡½æ•°ï¼ˆnew Vue()ï¼‰éå¸¸ç±»ä¼¼ï¼Œå®ƒä»¬éƒ½éœ€è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ã€‚å¹¶ä¸”åœ¨Vueæ„é€ å‡½æ•°çš„é…ç½®å¯¹è±¡ä¸­ä½¿ç”¨çš„å¤§å¤šé…ç½®é¡¹ï¼Œåœ¨Vue.extend()çš„é…ç½®å¯¹è±¡ä¸­åŒæ ·ä¹Ÿèƒ½ä½¿ç”¨ï¼ˆå¦‚dataã€methodsç­‰ï¼‰ã€‚\nä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒVue.extend()çš„é…ç½®å¯¹è±¡ä¸­ä¸èƒ½ä½¿ç”¨elé…ç½®é¡¹ï¼›å¹¶ä¸”å®ƒçš„dataé…ç½®é¡¹éœ€è¦ä½¿ç”¨å‡½æ•°å¼æ¥å®šä¹‰ï¼Œç„¶åé€šè¿‡åœ¨data()ä¸­returnä¸€ä¸ªå¯¹è±¡æ¥ä½œä¸ºè¯¥ç»„ä»¶çš„dataå¯¹è±¡ã€‚\nåœ¨å®šä¹‰éå•æ–‡ä»¶ç»„ä»¶æ—¶ï¼Œå¯ä»¥å°†const component = Vue.extend(options)ç®€å†™ä¸ºconst component = optionsã€‚\nå¦‚ä¸Šï¼Œå°†siteï¼šä½¿ç”¨ç®€å†™å½¢å¼å®šä¹‰ï¼š\nconst site = { template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, } }, } ä½¿ç”¨ç®€å†™å½¢å¼æ—¶ï¼ŒVue.extend()ç”±vmæ¥è°ƒç”¨ã€‚\nVue.extend()è¿”å›çš„æ˜¯ä¸€ä¸ªVueComponent()æ„é€ å‡½æ•°ã€‚å¹¶ä¸”æ¯æ¬¡è°ƒç”¨Vue.extend()æ—¶ï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„VueComponent()ã€‚\nVue.extend()çš„éƒ¨åˆ†æºç å¦‚ä¸‹ã€‚Vue.extend()åœ¨æ¯æ¬¡è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šå®šä¹‰ä¸€ä¸ªæ–°çš„VueComponent()ã€‚\nVue.extend = function (extendOptions) { /* ... */ // VueComponent() æ˜¯åœ¨ Vue.extend() ä¸­ç°åœºå®šä¹‰çš„ var Sub = function VueComponent(options) { this._init(options); }; /* å¯¹Subè¿›è¡Œä¸€ç³»åˆ—å¤„ç†... */ return Sub; }; ç»„ä»¶é…ç½® ä½¿ç”¨Vue.extend()åˆ›å»ºç»„ä»¶ï¼Œè¿˜éœ€è¦åœ¨é…ç½®å¯¹è±¡ä¸­å¯ç”¨templateé…ç½®ã€‚templateçš„ä½œç”¨æ˜¯ï¼Œå®šä¹‰ç»„ä»¶çš„å¸ƒå±€ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶ä¸­å¯ä¾›å¤ç”¨çš„HTMLä»£ç ã€‚\nåœ¨ä½¿ç”¨templateçš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œtemplateçš„å†…å®¹å¿…é¡»ä»…åŒ…å«1ä¸ªæ ¹å…ƒç´ ï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨\u0026lt;template\u0026gt;æ ‡ç­¾ä½œä¸ºæ ¹å…ƒç´ ã€‚\nä½¿ç”¨Vue.extend()çš„æ³¨æ„é¡¹ï¼š\nç»„ä»¶é…ç½®é¡¹ä¸Vueå®ä¾‹é…ç½®é¡¹åŸºæœ¬ç›¸åŒã€‚ä½†æ˜¯åœ¨ç»„ä»¶é…ç½®ä¸­ï¼Œä¸èƒ½ä½¿ç”¨elé…ç½®ã€‚\nç»„ä»¶æ—¶ä½œä¸ºå¯ä»¥å¤ç”¨çš„Vueå®ä¾‹ï¼Œæ‰€ä»¥å®ƒä»¬ä¸æ ¹å®ä¾‹ï¼ˆVueå®ä¾‹ï¼‰æ¥æ”¶çš„é…ç½®é¡¹åŸºæœ¬ç›¸åŒï¼ˆåŒ…æ‹¬dataã€computedã€watchã€methodsã€componentsä»¥åŠç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ï¼‰ã€‚ä½†æ˜¯æ‰€æœ‰çš„ç»„ä»¶æœ€ç»ˆéƒ½è¦è¢«ä¸€ä¸ªæ ¹å®ä¾‹vmæ‰€ç®¡ç†ï¼Œç”±vmå†³å®šå®ƒä»¬è¦æœåŠ¡äºå“ªä¸ªå®¹å™¨ã€‚å¹¶ä¸”è€ƒè™‘åˆ°ç»„ä»¶çš„å¤ç”¨ï¼Œæ‰€ä»¥ä¸ä½¿ç”¨elï¼Œè€Œæ˜¯ä½¿ç”¨templateæ¥é…ç½®å¯å¤ç”¨çš„ç»„ä»¶æ¨¡æ¿ã€‚\nç»„ä»¶ä¸­çš„dataè¦é…ç½®æˆä¸€ä¸ªå‡½æ•°ã€‚\né˜²æ­¢ä¸€ä¸ªç»„ä»¶è¢«å¤šæ¬¡ä½¿ç”¨æ—¶ï¼Œå­˜åœ¨æ•°æ®çš„å¼•ç”¨å…³ç³»ã€‚dataä½¿ç”¨å‡½æ•°æ¥å®šä¹‰ï¼Œå¯ä»¥ç¡®ä¿æ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯ä»¥ç»´æŠ¤ä¸€ä»½ç”±dataè¿”å›å¯¹è±¡çš„ç‹¬ç«‹æ‹·è´ã€‚\nç»„ä»¶çš„åµŒå¥— ç»„ä»¶çš„åµŒå¥—ä½¿ç”¨å¾ˆç®€å•ï¼Œç›´æ¥åœ¨ç»„ä»¶çš„é…ç½®å¯¹è±¡ä¸­ä½¿ç”¨componentsé…ç½®é¡¹å³å¯ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;root\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // å®šä¹‰userç»„ä»¶ const user = { template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å§“åï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç”¨æˆ·å¹´é¾„ï¼š{{age}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { name: \u0026#39;å¼ ä¸‰\u0026#39;, age: 18, } }, } // å®šä¹‰siteç»„ä»¶ const site = { template: ` \u0026lt;div\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åç§°ï¼š{{name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;ç½‘ç«™åœ°å€ï¼š{{url}}\u0026lt;/h2\u0026gt; \u0026lt;user\u0026gt;\u0026lt;/user\u0026gt; \u0026lt;/div\u0026gt; `, data() { return { name: \u0026#39;Linner\\\u0026#39;s Blog\u0026#39;, url: \u0026#39;blog.linner.asia\u0026#39;, } }, // æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰ components: { user, }, } // å®šä¹‰helloç»„ä»¶ const hello = { template: ` \u0026lt;h1\u0026gt;{{msg}}\u0026lt;/h1\u0026gt; `, data() { return { msg: \u0026#39;Hello Vue.js\u0026#39;, } }, } // å®šä¹‰appç»„ä»¶ const app = { template: ` \u0026lt;div\u0026gt; \u0026lt;hello\u0026gt;\u0026lt;/hello\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;site\u0026gt;\u0026lt;/site\u0026gt; \u0026lt;/div\u0026gt; `, components: { hello, site, }, } const vm = new Vue({ el: \u0026#34;#root\u0026#34;, template: ` \u0026lt;app\u0026gt;\u0026lt;/app\u0026gt; `, // æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨ï¼‰ components: {app}, }); \u0026lt;/script\u0026gt; ç»„ä»¶å®ä¾‹å¯¹è±¡ åœ¨ç»„ä»¶çš„ä¸€äº›é…ç½®é¡¹ä¸­ï¼ˆå¦‚dataã€methodsã€watchã€computedç­‰ï¼‰çš„å‡½æ•°ï¼Œthisé€šå¸¸æŒ‡å‘çš„æ˜¯VueComponent()åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯¹è±¡ã€‚è€Œä½¿ç”¨new Vue()æ—¶ï¼Œå¦‚ä¸Šçš„ä¸€äº›é…ç½®é¡¹ä¸­çš„å‡½æ•°ï¼Œå®ƒä»¬çš„thisé€šå¸¸æŒ‡å‘çš„æ˜¯Vueå®ä¾‹å¯¹è±¡ï¼ˆvmï¼‰ã€‚\nç”±VueComponent()åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯¹è±¡å³ä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œåˆå¯ç§°ä¸ºVueComponentå¯¹è±¡ï¼ˆåœ¨ä»£ç ä¸­å¯ä½¿ç”¨ç¼©å†™å½¢å¼vcï¼‰ã€‚\nè™½ç„¶vcçš„ç»“æ„å’Œvmååˆ†ç›¸ä¼¼ï¼ˆvcä¹Ÿä½¿ç”¨äº†æ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒï¼‰ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ä¸¤ç§ä¸åŒçš„å¯¹è±¡ã€‚\nåœ¨ä½¿ç”¨ç»„ä»¶æ ‡ç­¾æ—¶ï¼Œæ¯ä¸€ä¸ªç»„ä»¶æ ‡ç­¾éƒ½å¯¹åº”ç€ä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚æ¯ä¸€ä¸ªç»„ä»¶å®ä¾‹éƒ½æ˜¯ç”±å®ƒå¯¹åº”çš„VueComponent()æ„é€ å‡½æ•°æ‰€åˆ›å»ºã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;site\u0026gt;\u0026lt;/site\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;user\u0026gt;\u0026lt;/user\u0026gt; \u0026lt;user\u0026gt;\u0026lt;/user\u0026gt; \u0026lt;/div\u0026gt; å…¶ä¸­æ‰€æœ‰çš„\u0026lt;site\u0026gt;\u0026lt;/site\u0026gt;éƒ½å¯¹åº”ç€ä¸€ä¸ªsiteç»„ä»¶çš„VueComponent()æ„é€ å‡½æ•°ï¼Œæ‰€æœ‰çš„\u0026lt;user\u0026gt;\u0026lt;/user\u0026gt;éƒ½å¯¹åº”ç€ä¸€ä¸ªuserç»„ä»¶çš„VueComponent()æ„é€ å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½å¯¹åº”ä¸€ä¸ªVueComponent()æ„é€ å‡½æ•°ã€‚\nè€Œä¸Šæ–¹çš„userç»„ä»¶è¢«ä½¿ç”¨äº†ä¸¤æ¬¡ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ª\u0026lt;user\u0026gt;\u0026lt;/user\u0026gt;ã€‚å…¶ä¸­æ¯ä¸€ä¸ª\u0026lt;user\u0026gt;\u0026lt;/user\u0026gt;éƒ½å¯¹åº”ç€ä¸€ä¸ªä½¿ç”¨userçš„VueComponent()æ‰€åˆ›å»ºå‡ºæ¥çš„VueComponentå¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä½¿ç”¨ä¸€æ¬¡\u0026lt;user\u0026gt;\u0026lt;/user\u0026gt;ï¼ŒVueéƒ½ä¼šä½¿ç”¨userçš„VueComponent()åˆ›å»ºå‡ºæ¥ä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚å³æ¯ä¸€ä¸ªç»„ä»¶æ ‡ç­¾å¯¹åº”ç€ä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚\nå½“ç»„ä»¶è¢«æ³¨å†Œæ—¶ï¼ˆæ— è®ºæ˜¯å±€éƒ¨æ³¨å†Œè¿˜æ˜¯å…¨å±€æ³¨å†Œï¼‰ï¼Œå®ƒä»¬éƒ½ä¼šè¢«vmæ‰€ç®¡ç†ã€‚å¹¶ä¸”å½“ç»„ä»¶è¢«ä½¿ç”¨æ—¶ï¼Œå®ƒä»¬çš„VueComponentå¯¹è±¡éƒ½ä¼šè¢«ä¿å­˜åœ¨vm.$childrenä¸­ã€‚\nvm.$childrenæ˜¯æ•°ç»„ç±»å‹ï¼Œä¿å­˜äº†å®ä¾‹ä¸­ä½¿ç”¨åˆ°çš„æ‰€æœ‰VueComponentå¯¹è±¡ã€‚\nè€Œç»„ä»¶åœ¨ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼ŒåŒvmä¸€æ ·ï¼Œä¼šå°†å…¶ä¿å­˜åœ¨å½“å‰ç»„ä»¶å®ä¾‹å¯¹è±¡vcçš„$childrenï¼ˆvc.$childrenï¼‰ä¸­ã€‚\nVue åŸå‹é“¾ Vue çš„åŸå‹é“¾å¦‚ä¸‹ï¼š\næ‰€ä»¥åœ¨Vueä¸­ï¼ŒVue.extend(options).prototype.__proto__ === Vue.prototypeï¼ˆVue.extend(options)è¿”å›çš„æ˜¯VueComponentæ„é€ å‡½æ•°ï¼‰ã€‚\nå•æ–‡ä»¶ç»„ä»¶ å•æ–‡ä»¶ç»„ä»¶è¯·æŸ¥çœ‹ Vue é¡¹ç›®å¼€å‘ã€‚\n","date":"2023å¹´9æœˆ14æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/components/introduction/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694673219,"title":"Vue ç»„ä»¶"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Vueç”Ÿå‘½å‘¨æœŸæŒ‡çš„æ˜¯Vueå®ä¾‹åœ¨åˆ›å»ºæ—¶ç»å†çš„ä¸€ç³»åˆ—åˆå§‹åŒ–æ­¥éª¤ã€‚\nåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­Vueä¸ºç”¨æˆ·æä¾›äº†ä¸€äº›å¯ä¾›ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œå³ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€‚è¿™äº›å‡½æ•°åˆç§°ä¸ºç”Ÿå‘½å‘¨æœŸå‡½æ•°æˆ–ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚\nç”Ÿå‘½å‘¨æœŸå›¾ç¤º Vueçš„ç”Ÿå‘½å‘¨æœŸå›¾ç¤ºå¦‚ä¸‹ï¼š\nä¸‹å›¾æ˜¯å°šç¡…è°·å¤©ç¦¹æ‰€ç»™çš„æœ‰å…³Vueç”Ÿå‘½å‘¨æœŸçš„è§£é‡Šï¼š\nç”Ÿå‘½å‘¨æœŸå‡½æ•° ç”Ÿå‘½å‘¨æœŸå‡½æ•°æœ¬è´¨æ˜¯Vueåœ¨ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­çš„æŸäº›å…³é”®æ—¶åˆ»å¸®ç”¨æˆ·è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚\nç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹ç”±ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™ã€‚\nç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘çš„æ˜¯å½“å‰çš„Vueå®ä¾‹æˆ–å½“å‰ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚\nä¸‹æ–¹ä»£ç æ¼”ç¤ºäº†Vueç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- \u0026lt;h2 v-text=\u0026#34;num\u0026#34;\u0026gt;\u0026lt;/h2\u0026gt; --\u0026gt; \u0026lt;h2\u0026gt;Current Numberï¼š{{num}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;add\u0026#34;\u0026gt;Number+1\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;bye\u0026#34;\u0026gt;é”€æ¯Vueå®ä¾‹\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { num: 1, }, methods: { add() { console.log(\u0026#39;add.\u0026#39;); this.num++ }, bye() { console.log(\u0026#39;Bye.\u0026#39;); /** * vm.$destroy()ï¼š * é”€æ¯vmï¼Œæ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰ * ä½†æ˜¯åœ¨é”€æ¯ä¹‹å‰vmå¯¹é¡µé¢æ‰€ä½œçš„æ”¹å˜ï¼Œåœ¨é”€æ¯ä¹‹åä¾æ—§å‘ˆç°åœ¨é¡µé¢ä¸­ * é”€æ¯äº†vmä¹‹åä»…ä»…æ„å‘³ç€æ²¡æœ‰vmæ¥ç®¡ç†é¡µé¢çš„ä¿®æ”¹äº† * åœ¨æŸäº›Vueç‰ˆæœ¬ï¼ˆå¦‚ 2.6.12ï¼‰ä¸­ï¼Œé”€æ¯äº†vmåäº‹ä»¶ç»‘å®šçš„å‡½æ•°ä¾ç„¶å¯ä»¥è¢«è°ƒç”¨ */ this.$destroy() }, }, watch: { num() { console.log(\u0026#39;The [num] was updated.\u0026#39;); }, }, /** * ç”Ÿå‘½å‘¨æœŸå’Œäº‹ä»¶åˆå§‹åŒ–å®Œæˆ */ beforeCreate() { console.log(\u0026#39;beforeCreate.\u0026#39;); console.log(this); // Vue å®ä¾‹ä¸­è¿˜æ²¡æœ‰ _data debugger // æ–­ç‚¹ }, /** * æ•°æ®ç›‘æµ‹å’Œæ•°æ®ä»£ç†åˆå§‹åŒ–å®Œæˆ */ created() { console.log(\u0026#39;created.\u0026#39;); console.log(this); debugger }, /** * æ¨¡æ¿è§£æå®Œæˆï¼Œå·²ç”Ÿæˆè™šæ‹ŸDOM */ beforeMount() { console.log(\u0026#39;beforeMount.\u0026#39;); console.log(this); document.getElementsByName(\u0026#39;h2\u0026#39;)[0].innerText(\u0026#39;Hello\u0026#39;) debugger }, /** * è™šæ‹ŸDOMå·²ç»è½¬ä¸ºçœŸå®DOMæ’å…¥é¡µé¢ */ mounted() { console.log(\u0026#39;mounted.\u0026#39;); console.log(this); console.log(this.$el); console.log(this.$el instanceof HTMLElement); debugger }, /** * data æ›´æ–°åé‡æ–°ç¼–è¯‘é¡µé¢ä¹‹å‰ */ beforeUpdate() { console.log(\u0026#39;beforeUpdate.\u0026#39;); console.log(this.num); debugger }, /** * data æ›´æ–°ä¹‹åé¡µé¢å·²ç»ç¼–è¯‘å®Œæˆ */ updated() { console.log(\u0026#39;updated.\u0026#39;); console.log(this.num); debugger }, /** * vmè¢«é”€æ¯ä¹‹å‰ */ beforeDestroy() { console.log(\u0026#39;beforeDestroy.\u0026#39;); this.add() // æ­¤æ—¶å·²ç»ä¸èƒ½å¯¹é¡µé¢åšå‡ºæ›´æ”¹äº† console.log(this.num); debugger }, /** * vmå·²ç»è¢«é”€æ¯ */ destroyed() { console.log(\u0026#39;destroyed.\u0026#39;); }, }); \u0026lt;/script\u0026gt; å¯ä»¥çœ‹å‡ºåœ¨Vueçš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­å…±æœ‰8ä¸ªï¼ˆ4å¯¹ï¼‰é’©å­å‡½æ•°ã€‚\nåˆ›å»ºæµç¨‹ beforeCreate()ï¼šç”Ÿå‘½å‘¨æœŸå’Œäº‹ä»¶åˆå§‹åŒ–å®Œæˆæ—¶æ‰§è¡Œã€‚\næ•°æ®ä»£ç†å’Œæ•°æ®ç›‘æµ‹è¿˜æœªå¼€å§‹ã€‚\ncreated()ï¼šæ•°æ®ç›‘æµ‹å’Œæ•°æ®ä»£ç†åˆå§‹åŒ–å®Œæˆæ—¶æ‰§è¡Œã€‚\nåˆ›å»ºæŒ‡çš„æ˜¯æ•°æ®ä»£ç†å’Œæ•°æ®ç›‘æµ‹è¢«åˆ›å»ºã€‚\næŒ‚è½½æµç¨‹ beforeMount()ï¼šæ¨¡æ¿è§£æå®Œæˆã€‚\næ­¤æ—¶å·²ç”Ÿæˆè™šæ‹ŸDOMï¼Œä½†é¡µé¢è¿˜æœªç»è¿‡ç¼–è¯‘ï¼Œå±•ç¤ºçš„æ˜¯æ¨¡æ¿çš„åŸå†…å®¹ã€‚åœ¨æ­¤å¯¹DOMçš„æ“ä½œï¼Œæœ€ç»ˆéƒ½ä¸å¥æ•ˆ\nmounted()ï¼šè™šæ‹ŸDOMå·²ç»è½¬ä¸ºçœŸå®DOMæ’å…¥é¡µé¢æ—¶æ‰§è¡Œã€‚\næ­¤æ—¶é¡µé¢ä¸­å‘ˆç°çš„æ˜¯å·²ç»Vueç¼–è¯‘è¿‡çš„DOMï¼Œå¯¹DOMçš„æ“ä½œæœ‰æ•ˆï¼ˆä½¿ç”¨Vueçš„è¿‡ç¨‹å°½å¯èƒ½é¿å…æ“ä½œDOMï¼‰ã€‚\nä¸€èˆ¬åœ¨æ­¤æ—¶è¿›è¡Œå¦‚ä¸‹ç­‰åˆå§‹åŒ–æ“ä½œï¼š\nå¼€å¯å®šæ—¶å™¨ å‘é€ç½‘ç»œè¯·æ±‚ è®¢é˜…æ¶ˆæ¯ ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ æ•°æ®æ›´æ–°æµç¨‹ beforeUpdate()ï¼šæ•°æ®æ›´æ–°åé‡æ–°ç¼–è¯‘é¡µé¢ä¹‹å‰æ‰§è¡Œã€‚\næ•°æ®æ˜¯ä¿®æ”¹ä¹‹åçš„ï¼Œä½†é¡µé¢è¿˜æœªé‡æ–°ç¼–è¯‘ï¼Œä»æ˜¯æ—§çš„ï¼ˆæ›´æ–°ä¹‹å‰çš„å†…å®¹ï¼‰ã€‚\nupdated()ï¼šæ•°æ®æ›´æ–°ä¹‹åæ‰§è¡Œã€‚\næ­¤æ—¶é¡µé¢å·²ç»ç¼–è¯‘å®Œæˆã€‚æ•°æ®åœ¨æ›´æ–°ä¹‹åï¼Œé¡µé¢å·²ç»å®Œæˆäº†ç¼–è¯‘ï¼Œä¸æ•°æ®åŒæ­¥ã€‚æ­¤æ—¶å·²ç»å®Œæˆäº†Model =\u0026gt; Viewçš„æ›´æ–°ã€‚\né”€æ¯æµç¨‹ beforeDestory()ï¼švmè¢«é”€æ¯ä¹‹å‰ï¼ˆè¿˜æœªé”€æ¯ï¼‰æ‰§è¡Œã€‚\næ­¤æ—¶vmä¸­æ‰€æœ‰çš„dataã€methodsã€æŒ‡ä»¤ç­‰ç­‰éƒ½å¤„äºå¯ç”¨çŠ¶æ€ã€‚\nä¸€èˆ¬åœ¨æ­¤é˜¶æ®µæ‰§è¡Œå¦‚ä¸‹ç­‰æ”¶å°¾æ“ä½œï¼š\nå…³é—­å®šæ—¶å™¨ å–æ¶ˆè®¢é˜…æ¶ˆæ¯ è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ æ­¤æ—¶æ‰€æœ‰å¯¹æ•°æ®çš„ä¿®æ”¹ä¸ä¼šå†è§¦å‘æ›´æ–°ï¼ˆä¸èƒ½å†å¯¹é¡µé¢åšå‡ºæ›´æ”¹ï¼‰ã€‚\ndestroyed()ï¼švmè¢«é”€æ¯ä¹‹åï¼ˆé”€æ¯å®Œæ¯•ï¼‰æ‰§è¡Œã€‚\næ­¤æ—¶vmä¸­æ‰€æœ‰çš„ç›‘å¬å™¨ã€å­ç»„ä»¶å’Œï¼ˆè‡ªå®šä¹‰ï¼‰äº‹ä»¶ç›‘å¬å™¨è¢«ç§»é™¤ã€‚\nä¸€èˆ¬å¾ˆå°‘åœ¨è¿™ä¸ªé’©å­é‡Œåšå¤„ç†ã€‚\né”€æ¯ä¸vm.$destroy()ç›¸å…³ã€‚åªæœ‰å¯¹vmï¼ˆVueå®ä¾‹ï¼‰è°ƒç”¨vm.$destroy()åï¼Œvmæ‰ä¼šå¼€å§‹è¿›è¡Œé”€æ¯æµç¨‹ã€‚\nvm.$destroy()ï¼š\né”€æ¯vmï¼Œæ¸…ç†å®ƒä¸å…¶å®ƒå®ä¾‹çš„è¿æ¥ï¼Œè§£ç»‘å…¨éƒ¨æŒ‡ä»¤åŠäº‹ä»¶ç›‘å¬å™¨ï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰ã€‚ åœ¨é”€æ¯ä¹‹å‰ï¼ˆè°ƒç”¨vm.$destroy()ä¹‹å‰ï¼‰ï¼Œvmå¯¹é¡µé¢æ‰€ä½œçš„æ”¹å˜ï¼Œåœ¨é”€æ¯ä¹‹åä¾æ—§å‘ˆç°åœ¨é¡µé¢ä¸­ã€‚ é”€æ¯äº†vmä¹‹åä»…ä»…æ„å‘³ç€æ²¡æœ‰vmæ¥ç®¡ç†é¡µé¢çš„ä¿®æ”¹äº†ã€‚ åœ¨æŸäº›Vueç‰ˆæœ¬ï¼ˆå¦‚ 2.6.12ï¼‰ä¸­ï¼Œé”€æ¯äº†vmåäº‹ä»¶ç»‘å®šçš„å‡½æ•°ä¾ç„¶å¯ä»¥è¢«è°ƒç”¨ã€‚å³åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆã€‚ åœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œä¸åº”è¯¥è°ƒç”¨vm.$destroy()ã€‚æœ€å¥½ä½¿ç”¨v-ifå’Œv-foræŒ‡ä»¤ï¼Œä»¥æ•°æ®é©±åŠ¨çš„æ–¹å¼æ§åˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚\n","date":"2023å¹´9æœˆ13æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/life-cycle/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694589365,"title":"Vue ç”Ÿå‘½å‘¨æœŸ"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ•°æ®ä»£ç†æ˜¯æŒ‡é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„ï¼ˆè¯»/å†™ï¼‰æ“ä½œã€‚\næ•°æ®ä»£ç†çš„åŸç† æ•°æ®ä»£ç†å¯ä»¥é€šè¿‡Object.defineProperty()å®ç°ã€‚åœ¨Vueä¸­ï¼Œå¾ˆå¤šæŠ€æœ¯çš„å®ç°éƒ½ä½¿ç”¨åˆ°äº†Object.defineProperty()è¿™ä¸ªæ–¹æ³•ã€‚\nObject.defineProperty()çš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š\nlet person = { name: \u0026#39;å¼ ä¸‰\u0026#39;, sex: \u0026#39;ç”·\u0026#39;, // age: 18, } /** * ä½¿ç”¨ Object.defineProperty() ç»™å¯¹è±¡æ·»åŠ å±æ€§ * 1. å‚æ•°1ï¼šè¦æ·»åŠ å±æ€§çš„å¯¹è±¡ * 2. å‚æ•°2ï¼šè¦ç»™å¯¹è±¡æ·»åŠ çš„å±æ€§åç§° * 3. å‚æ•°3ï¼šè¦æ·»åŠ çš„å±æ€§çš„é…ç½® */ Object.defineProperty(person, \u0026#39;age\u0026#39;, { value: 18, // å®šä¹‰å±æ€§çš„å€¼ enumerable: true, // æ§åˆ¶å±æ€§æ˜¯å¦å¯æšä¸¾ï¼Œé»˜è®¤ä¸ºfalse writable: true, // æ§åˆ¶å±æ€§æ˜¯å¦å¯è¢«å†™å…¥ï¼ˆä¿®æ”¹ï¼‰ï¼Œé»˜è®¤ä¸ºfalse configurable: true, // æ§åˆ¶å±æ€§æ˜¯å¦å¯è¢«åˆ é™¤ï¼Œé»˜è®¤ä¸ºfalse }) console.log(person); // console.log(Object.keys(person)); let articleSize = 100 let article = { name: \u0026#39;Vue\u0026#39;, // size: articleSize, } Object.defineProperty(article, \u0026#39;size\u0026#39;, { /** * Getterï¼š * å½“article.sizeè¢«è¯»å–æ—¶ï¼Œget()ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”å°†è¿”å›å€¼ä½œä¸ºarticle.sizeçš„å€¼ */ get() { console.log(\u0026#39;The article.size is read.\u0026#39;); return articleSize }, /** * Setterï¼š * å½“article.sizeè¢«ä¿®æ”¹æ—¶ï¼Œset()ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”å°†å‚æ•°valueä½œä¸ºarticle.sizeçš„å€¼ */ set(value) { console.log(`The article.size is modified to ${value}.`); articleSize = value }, }) console.log(article); å‡è®¾æœ‰ä¸¤ä¸ªå¯¹è±¡obj1å’Œobj2ï¼Œéœ€è¦èƒ½é€šè¿‡obj2æ¥ä¿®æ”¹obj1ï¼Œå¯ä»¥è¿™æ ·å®ç°ï¼š\nlet obj1 = {x: 100} let obj2 = {y: 200} Object.defineProperty(obj2, \u0026#39;x\u0026#39;, { get() { return obj1.x }, set(value) { obj1.x = value } }) Vue æ•°æ®ä»£ç† Vueå®ä¾‹å®é™…ä¸Šæ˜¯Vueå®ä¾‹ä¸­çš„dataçš„æ•°æ®ä»£ç†å¯¹è±¡ã€‚Vueå®ä¾‹ä¸­çš„dataé€šè¿‡æ•°æ®ä»£ç†ï¼Œå°†å…¶å¯¹è±¡ä¸­çš„å±æ€§äº¤äºˆVueå®ä¾‹æ¥ç›´æ¥ç®¡ç†ã€‚\néªŒè¯Vueæ•°æ®ä»£ç†ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;title\u0026gt;æ•°æ®ä»£ç†\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;å§“åï¼š{{name}}\u0026lt;/h1\u0026gt; \u0026lt;h1\u0026gt;å¹´é¾„ï¼š{{age}}\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const data = { name: \u0026#39;å¼ ä¸‰\u0026#39;, age: \u0026#39;18\u0026#39;, } const vm = new Vue({ el: \u0026#34;#app\u0026#34;, data, }); console.log(data); console.log(vm); console.log(`vm._data === data ??? ${vm._data === data}`); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å®é™…ä¸Šï¼ŒVueå¯¹è±¡åœ¨å®ä¾‹åŒ–æ—¶ï¼Œä¼šå°†é…ç½®ï¼ˆoptionsï¼‰ä¸­çš„dataå®ä¾‹åŒ–ä¸ºvm._dataã€‚æ‰€ä»¥å®é™…ä¸Švmå¯¹è±¡ä»£ç†çš„æ˜¯vm._dataå¯¹è±¡ã€‚\nç”±äºVueæ¨¡æ¿è¯­æ³•ä¸­ï¼Œåœ¨ä½¿ç”¨æ’å€¼æ—¶è·å–çš„æ˜¯Vueå®ä¾‹ä¸­çš„å¯¹è±¡ã€‚å¦‚æœVueæ²¡æœ‰ä½¿ç”¨æ•°æ®ä»£ç†ï¼Œé‚£ä¹ˆè¦è·å–dataä¸­çš„æ•°æ®ï¼Œç›¸åº”çš„è¡¨è¾¾å¼åº”è¯¥å†™ä½œ{{_data.name}}ï¼ˆå‡è®¾è·å–nameï¼‰ã€‚å½“ä½¿ç”¨äº†æ•°æ®ä»£ç†ï¼Œdataä¸­çš„å¯¹è±¡å¯ä»¥é€šè¿‡Vueå®ä¾‹å¯¹è±¡æ¥è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆè¡¨è¾¾å¼å°±å¯ä»¥ç›´æ¥å†™ä½œ{{name}}ã€‚\nVue è®¡ç®—å±æ€§ Vue.jsè®¡ç®—å±æ€§åœ¨å¤„ç†ä¸€äº›å¤æ‚é€»è¾‘æ—¶æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚\nè®¡ç®—å±æ€§çš„å…³é”®è¯æ˜¯computedï¼Œåœ¨Vueå®ä¾‹çš„é…ç½®ä¸­æŒ‡å®šcomputedå³å¯å®šä¹‰è®¡ç®—å±æ€§ã€‚\nVueè®¡ç®—å±æ€§ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; å§“ï¼š\u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;firstName\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; åï¼š\u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;lastName\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; å§“åï¼š\u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;fullName\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { firstName: \u0026#39;å¼ \u0026#39;, lastName: \u0026#39;ä¸‰\u0026#39;, }, computed: { fullName: { get() { // æ­¤å¤„çš„ this ä¾æ—§æ˜¯æŒ‡å‘ vm return this.firstName + \u0026#39;-\u0026#39; + this.lastName }, set(value) { const arr = value.split(\u0026#39;-\u0026#39;) this.firstName = arr[0] this.lastName = arr[1] }, }, }, }); \u0026lt;/script\u0026gt; è®¡ç®—å±æ€§ä¸­æœ‰ä¸¤ç§æ–¹æ³•ï¼ˆå°±åƒæ•°æ®ä»£ç†ä¸€æ ·ï¼‰ï¼š\nGetterï¼š\nä½œç”¨ï¼šå½“å¯¹åº”çš„è®¡ç®—å±æ€§ï¼ˆå¦‚ä¸Šä¾‹ä¸ºfullNameï¼‰è¢«è¯»å–æ—¶ï¼Œget()å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼ä½œä¸ºè¯¥è®¡ç®—å±æ€§çš„å€¼ã€‚\nVueå¯¹è®¡ç®—å±æ€§åšäº†ç¼“å­˜ï¼Œæ‰€ä»¥å½“è®¡ç®—å±æ€§è¢«è¯»å–æ—¶ï¼Œå¹¶ä¸æ€»æ˜¯ä¼šè°ƒç”¨get()æ–¹æ³•ã€‚\nè®¡ç®—å±æ€§çš„get()æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶æœºï¼š\nåˆæ¬¡è¯»å–è¯¥è®¡ç®—å±æ€§æ—¶ã€‚ æ‰€ä¾èµ–çš„æ•°æ®ï¼ˆè¿™ç±»æ•°æ®å¿…é¡»æ˜¯ç”±Vueæ¥ç®¡ç†çš„æ•°æ®ï¼Œå¦‚firstNameã€lastNameï¼‰å‘ç”Ÿå˜åŒ–æ—¶ã€‚å…¶å®ƒä¸è¢«ä¾èµ–çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ get() æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚ å¸¸è§çš„è®¡ç®—æ•°æ®ä¸éœ€è¦ä¿®æ”¹ï¼Œå› æ­¤ä»…ä½¿ç”¨Getterå³å¯ã€‚å½“ä»…ä½¿ç”¨Getteræ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç®€å†™å½¢å¼ï¼š\ncomputedAttribute() { /* ... */ } å³ï¼Œå°†è®¡ç®—å±æ€§ä½¿ç”¨å‡½æ•°å¼å®šä¹‰ï¼ˆä¸Šæ–¹æ‰€ç¤ºæ˜¯å¯¹è±¡å¼å®šä¹‰ï¼‰ï¼Œè¯¥å‡½æ•°å³ç”¨ä½œè¯¥è®¡ç®—å±æ€§çš„get()ã€‚ä¾‹å¦‚å°†ä¸Šä¾‹ä¿®æ”¹ä¸ºä»…ä½¿ç”¨Getterçš„ç®€å†™å½¢å¼ï¼š\nnew Vue({ el: \u0026#34;#app\u0026#34;, data: { firstName: \u0026#39;å¼ \u0026#39;, lastName: \u0026#39;ä¸‰\u0026#39;, }, computed: { fullName() { // æ­¤å¤„çš„ this ä¾æ—§æ˜¯æŒ‡å‘ vm return this.firstName + \u0026#39;-\u0026#39; + this.lastName }, }, }); Setterï¼š\nå¦‚æœè®¡ç®—å±æ€§ä¼šè¢«ç”¨æˆ·ä¿®æ”¹ï¼Œåˆ™éœ€è¦ä½¿ç”¨Setterï¼›å¦åˆ™ï¼ŒSetterå¯çœç•¥ã€‚\nä½œç”¨ï¼šå½“å¯¹åº”çš„è®¡ç®—å±æ€§è¢«ä¿®æ”¹æ—¶ï¼Œset()å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼ä½œä¸ºè¯¥è®¡ç®—å±æ€§çš„å€¼ã€‚\nä½¿ç”¨è®¡ç®—å±æ€§çš„å¥½å¤„ï¼šä¸methodsç›¸æ¯”ï¼Œè®¡ç®—å±æ€§å†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œæ›´åŠ æ–¹ä¾¿è°ƒè¯•ã€‚\næ³¨ï¼šè®¡ç®—å±æ€§ä¸èƒ½ä¸dataå±æ€§é‡åã€‚\nVue ç›‘å¬å±æ€§ é€šè¿‡Vue.jsæä¾›çš„ç›‘å¬å±æ€§watchæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;ä»Šå¤©å¤©æ°”å¾ˆ{{info}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;isHot = !isHot\u0026#34;\u0026gt;åˆ‡æ¢å¤©æ°”\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { isHot: true, }, computed: { info() { return this.isHot ? \u0026#39;ç‚çƒ­\u0026#39; : \u0026#39;å‡‰çˆ½\u0026#39; } }, watch: { info: { immediate: true, // åˆå§‹åŒ–æ—¶æ‰§è¡Œ handler() handler(newValue, oldValue) { const update = { newValue, oldValue, } console.log(\u0026#39;The attribute \u0026#34;info\u0026#34; was updated: \u0026#39;); console.log(update); }, } } }); \u0026lt;/script\u0026gt; åœ¨watchä¸­ï¼Œå°†è¦ç›‘å¬çš„å±æ€§ç›´æ¥ä½œä¸ºwatché…ç½®çš„å±æ€§å®šä¹‰å³å¯ï¼ˆåç§°è¦ç›¸åŒï¼‰ã€‚å¦‚ä¸Šä¾‹ï¼Œè¦ç›‘å¬è®¡ç®—å±æ€§infoï¼Œåˆ™ç›´æ¥åœ¨watchä¸­å®šä¹‰infoå³å¯ã€‚ watchå¯ç›‘å¬çš„å±æ€§åŒ…æ‹¬dataã€computedä¸­çš„å±æ€§ã€‚ Handlerï¼šå½“ç›‘å¬çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶å¯¹åº”çš„handler()æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚ å¦‚æœåœ¨ç›‘å¬å±æ€§çš„é…ç½®ä¸­ï¼Œä¸éœ€è¦æ·»åŠ å…¶å®ƒå±æ€§æ¥ä¿®æ”¹é…ç½®ï¼ˆä»…å®šä¹‰äº†handler()æ—¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç®€å†™å½¢å¼æ¥å®šä¹‰ï¼š\nwatchingAttribute() { /* handler ... */ } å³å‡½æ•°å¼å®šä¹‰ç›‘å¬å±æ€§ï¼Œå®šä¹‰çš„å‡½æ•°å°†ä½œä¸ºè¯¥å±æ€§çš„handler()æ‰€ä½¿ç”¨ã€‚å¦‚ä¸Šä¾‹ï¼Œå°†å…¶ä¿®æ”¹ä¸ºä»…å®šä¹‰Handlerçš„ç®€å†™å½¢å¼ï¼š\nnew Vue({ el: \u0026#34;#app\u0026#34;, data: { isHot: true, }, computed: { info() { return this.isHot ? \u0026#39;ç‚çƒ­\u0026#39; : \u0026#39;å‡‰çˆ½\u0026#39; } }, watch: { info() { const update = { newValue, oldValue, } console.log(\u0026#39;The attribute \u0026#34;info\u0026#34; was updated: \u0026#39;); console.log(update); } } }); ç›‘å¬å±æ€§è¿˜æœ‰å¦å¤–ä¸€ç§å®šä¹‰çš„å½¢å¼ï¼Œä½¿ç”¨Vueç¤ºä¾‹å¯¹è±¡çš„æ–¹æ³•vm.$watch()æ¥å®šä¹‰ã€‚\nvm.$watch()æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š\nå‚æ•°1ï¼šæŒ‡å®šç›‘å¬çš„å±æ€§ã€‚ å‚æ•°2ï¼šè¯¥ç›‘å¬å±æ€§çš„é…ç½®å¯¹è±¡ï¼ˆä¸åœ¨Vueç¤ºä¾‹ä¸­çš„é…ç½®å¯¹è±¡ä¸€æ ·ï¼‰ã€‚ ä¾‹å¦‚ï¼š\nconst vm = new Vue({ el: \u0026#34;#app\u0026#34;, data: { isHot: true, }, computed: { info() { return this.isHot ? \u0026#39;ç‚çƒ­\u0026#39; : \u0026#39;å‡‰çˆ½\u0026#39; } }, }); vm.$watch(\u0026#39;info\u0026#39;, { immediate: true, handler(newValue, oldValue) { const update = { newValue, oldValue, } console.log(\u0026#39;The attribute \u0026#34;info\u0026#34; was updated: \u0026#39;); console.log(update); }, }); ä»…é…ç½®Handleræ—¶ï¼Œç®€å†™å½¢å¼å¦‚ä¸‹ï¼š\nvm.$watch(\u0026#39;info\u0026#39;, function (newValue, oldValue) { const update = { newValue, oldValue, } console.log(\u0026#39;The attribute \u0026#34;info\u0026#34; was updated: \u0026#39;); console.log(update); }); Vue æ·±åº¦ç›‘å¬ Vueä¸­çš„watchï¼š\nwatché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆåªç›‘è§†å¯¹è±¡æ•´ä½“çš„æ”¹å˜ï¼‰ã€‚ é…ç½®deep: trueå¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆç›‘è§†å¯¹è±¡å¤šå±‚å†…éƒ¨å±æ€§çš„æ”¹å˜ï¼‰ã€‚ \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;numbers.x = {{numbers.x}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;numbers.x++\u0026#34;\u0026gt;x + 1\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;numbers.x = 0\u0026#34;\u0026gt;x = 0\u0026lt;/button\u0026gt; \u0026lt;h2\u0026gt;numbers.y = {{numbers.y}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;numbers.y++\u0026#34;\u0026gt;y + 1\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;numbers.y = 0\u0026#34;\u0026gt;y = 0\u0026lt;/button\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;button @click=\u0026#34;numbers = {x: 666, y: 233}\u0026#34;\u0026gt;æ”¹å˜ numbers\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const vm = new Vue({ el: \u0026#34;#app\u0026#34;, data: { numbers: { x: 0, y: 0, } }, watch: { // ç›‘å¬å¯¹è±¡å†…éƒ¨å±æ€§ \u0026#39;numbers.x\u0026#39;: { handler(newValue, oldValue) { console.log({ variable: \u0026#39;numbers.x\u0026#39;, newValue, oldValue, }); }, }, \u0026#39;numbers.y\u0026#39;: { handler(newValue, oldValue) { console.log({ variable: \u0026#39;numbers.y\u0026#39;, newValue, oldValue, }); }, }, // ç›‘å¬å¯¹è±¡å†…éƒ¨å¤šå±‚çº§å±æ€§ numbers: { deep: true, // å¼€å¯ç›‘å¬å¤šçº§ç»“æ„ä¸­æ‰€æœ‰å±æ€§çš„å˜åŒ–ï¼ˆæ·±åº¦ç›‘è§†ï¼‰ handler(newValue, oldValue) { console.log({ variable: \u0026#39;numbers\u0026#39;, newValue, oldValue, }); } } } }); \u0026lt;/script\u0026gt; å…¶ä¸­ï¼Œæä¾›äº†å¦å¤–ä¸€ç§ç”¨äºç›‘å¬å¯¹è±¡å†…éƒ¨å±æ€§å˜åŒ–çš„watchç®€å†™å½¢å¼ï¼š\n\u0026#39;numbers.y\u0026#39;(newValue, oldValue) { /* ... */ }, å¯¹è®¡ç®—å±æ€§ä¸­çš„æ¡ˆä¾‹è¿›è¡Œä¿®æ”¹ï¼Œè®©åå­—çš„ä¿®æ”¹å»¶è¿Ÿ1ç§’ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; å§“ï¼š\u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;user.firstName\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; åï¼š\u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;user.lastName\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; å§“åï¼š\u0026lt;span\u0026gt;{{user.fullName}}\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { user: { firstName: \u0026#39;å¼ \u0026#39;, lastName: \u0026#39;ä¸‰\u0026#39;, fullName: \u0026#39;å¼ -ä¸‰\u0026#39;, }, }, watch: { user: { deep: true, handler(val) { /** * å»¶è¿Ÿ 1s è¿›è¡Œä¿®æ”¹ * è¿™é‡Œçš„setTimeout()ä¸èƒ½ä½¿ç”¨ function å®šä¹‰çš„å‡½æ•°ï¼Œåªèƒ½ä½¿ç”¨lambdaï¼Œå› ä¸ºä½¿ç”¨functionçš„è¯å‡½æ•°ä¸­çš„thisæŒ‡å‘çš„æ˜¯window */ setTimeout(() =\u0026gt; { this.user.fullName = val.firstName + \u0026#39;-\u0026#39; + val.lastName }, 1000) } }, } }); \u0026lt;/script\u0026gt; è®¡ç®—å±æ€§ä¸èƒ½è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥åœ¨æœ‰äº›æƒ…å†µä¸‹ä½¿ç”¨ç›‘å¬å±æ€§ç›¸å¯¹è¾ƒå¥½ã€‚\nç”±Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½ä»¥æ™®é€šå‡½æ•°function() {}çš„å½¢å¼å»å®šä¹‰ï¼›è€Œå…¶å®ƒä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆä¾‹å¦‚å®šæ—¶å™¨å›è°ƒå‡½æ•°ã€Ajaxå›è°ƒå‡½æ•°ã€Promiseå›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½ä½¿ç”¨lambdaè¡¨è¾¾å¼() =\u0026gt; {}çš„å½¢å¼å»å®šä¹‰ã€‚\næ•°æ®åŠ«æŒ VueåŠ è½½dataé…ç½®å’Œdataä¸­çš„æ•°æ®å‘ç”Ÿæ›´æ–°çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š\nåŠ å·¥dataé…ç½®ã€‚\nVueä¸ºdataä¸­æ¯ä¸ªå±æ€§éƒ½é€šè¿‡Object.defineProperty()æ·»åŠ äº†Getterå’ŒSetterï¼ˆå“åº”å¼å¤„ç†ï¼‰ã€‚å½“å¯¹dataä¸­çš„å±æ€§è¿›è¡Œæ›´æ”¹æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„Setterã€‚å½“è°ƒç”¨Setteræ—¶ï¼ŒSetterä¼šè‡ªåŠ¨è§£ææ¨¡æ¿ä¸­å¯¹åº”çš„å†…å®¹ã€‚\nSetterè°ƒç”¨æ—¶æ‰§è¡Œçš„æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š\né‡æ–°è§£ææ¨¡æ¿ï¼Œç”Ÿæˆæ–°çš„è™šæ‹ŸDOMã€‚ æ–°æ—§è™šæ‹ŸDOMå¯¹æ¯”ã€‚ æ›´æ–°é¡µé¢ã€‚ Vueä¸­Getterå’ŒSetterçš„å¤§è‡´å®ç°æ–¹å¼å¦‚ä¸‹ï¼š\nlet data = { x: 1, y: 1000, } // åˆ›å»ºç›‘è§†è€…å®ä¾‹å¯¹è±¡ï¼Œç”¨äºç›‘è§†dataä¸­å±æ€§çš„å˜åŒ– const obs = new Observer(data) // æ¨¡æ‹ŸVueå®ä¾‹å¯¹è±¡ let vm = {} vm._data = data = obs function Observer(obj) { // æ±‡æ€»å¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§å½¢æˆä¸€ä¸ªæ•°ç»„ const keys = Object.keys(obj) // éå† keys.forEach((key) =\u0026gt; { Object.defineProperty(this, key, { get() { return obj[key] }, set(val) { console.log(`${key} è¢«ä¿®æ”¹`); console.log(\u0026#39;è§£ææ¨¡æ¿ï¼Œç”Ÿæˆè™šæ‹ŸDOM\u0026#39;); console.log(\u0026#39;......\u0026#39;); obj[key] = val }, }) }) } Vueé€šè¿‡é€’å½’å°†dataä¸­æ‰€æœ‰çš„å¯¹è±¡åŠå…¶å±æ€§é€šè¿‡Object.defineProperty()çš„æ–¹å¼è®¾ç½®äº†Getterå’ŒSetterã€‚é€šè¿‡Object.defineProperty()æ·»åŠ Getterå’ŒSetteræ¥è¿›è¡Œå“åº”å¼å¤„ç†çš„åŠ¨ä½œå«åšæ•°æ®åŠ«æŒã€‚\næ•°ç»„ä¸­çš„å¯¹è±¡ä»…ä¼šå¯¹å®ƒä»¬çš„å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œè€Œæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰Getterå’ŒSetterçš„ï¼ˆæ²¡æœ‰è¿›è¡Œå“åº”å¼å¤„ç†ï¼‰ã€‚\nå°†åŠ å·¥å®Œæˆçš„dataèµ‹ç»™Vueç¤ºä¾‹çš„_dataå±æ€§ã€‚å³vm._data = dataã€‚\næ·»åŠ æ–°çš„å“åº”å¼æ•°æ® ä¾‹å¦‚é¡µé¢ä¸­å­˜åœ¨éœ€è¦åç»­æ·»åŠ çš„æ•°æ®ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;å§“åï¼š{{user.name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;æ€§åˆ«ï¼š{{user.sex}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;å¹´é¾„ï¼š\u0026lt;/h2\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;çœŸå®å¹´é¾„ï¼š{{user.age.rAge}}\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;å¯¹å¤–å¹´é¾„ï¼š{{user.age.sAge}}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;h2\u0026gt;å¥½å‹ï¼š\u0026lt;/h2\u0026gt; \u0026lt;table\u0026gt; \u0026lt;thead\u0026gt;\u0026lt;tr\u0026gt;\u0026lt;td\u0026gt;å§“å\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å¹´é¾„\u0026lt;/td\u0026gt;\u0026lt;/tr\u0026gt;\u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;(friend, index) in user.friends\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{friend.name}}\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;{{friend.age}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const vm = new Vue({ el: \u0026#34;#app\u0026#34;, data: { user: { name: \u0026#39;å¼ ä¸‰\u0026#39;, // sex: \u0026#39;ç”·\u0026#39;, age: { rAge: 40, sAge: 29, }, friends: [ {name: \u0026#39;æå››\u0026#39;, age: 35}, {name: \u0026#39;ç‹äº”\u0026#39;, age: 36}, ] } }, }); \u0026lt;/script\u0026gt; è¿™éƒ¨åˆ†åç»­æ·»åŠ çš„æ•°æ®ï¼ˆå¦‚ä¸Šä¾‹ä¸­çš„user.sexï¼‰ï¼Œç›´æ¥ä¸ºå…¶èµ‹å€¼ï¼ˆvm._data.user = 'ç”·'ï¼‰å¹¶ä¸èƒ½è®©é¡µé¢äº§ç”Ÿæ”¹å˜ã€‚è¿™æ˜¯å› ä¸ºåœ¨Vueå®ä¾‹ä¸­ï¼Œåç»­æ·»åŠ çš„æ•°æ®Vueå¹¶ä¸ä¼šè‡ªåŠ¨å¸®å®ƒä»¬è¿›è¡Œå“åº”å¼æ•°æ®å¤„ç†ï¼ˆå³é€šè¿‡Object.defineProperty()æ·»åŠ Getterå’ŒSetterï¼‰ã€‚\nä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒVueæä¾›äº†ä¸€ä¸ªVue.set()æ–¹æ³•æ¥ä¸ºVueå®ä¾‹æˆ–Vueç»„ä»¶å®ä¾‹ä¸­çš„æ•°æ®å¯¹è±¡æ·»åŠ æ–°çš„å“åº”å¼æ•°æ®ã€‚Vue.set()æ–¹æ³•çš„å‚æ•°å¦‚ä¸‹ï¼š\nå‚æ•°1ï¼ˆtargetï¼‰ï¼šè¦æ·»åŠ å±æ€§çš„å¯¹è±¡ã€‚ å‚æ•°2ï¼ˆkeyï¼‰ï¼šè¦ä¸ºtargetæ·»åŠ çš„å±æ€§åç§°ã€‚ å‚æ•°3ï¼ˆvalueï¼‰ï¼šè¦ä¸ºtargetå¯¹è±¡æ·»åŠ çš„keyå±æ€§æ‰€èµ‹çš„å€¼ã€‚ å¦‚ä¸Šä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ·»åŠ å“åº”å¼æ•°æ®user.sexï¼š\nVue.set(vm._data.user, \u0026#39;sex\u0026#39;, \u0026#39;ç”·\u0026#39;) æ­¤æ—¶é¡µé¢æ‰èƒ½è¿›è¡Œæ­£å¸¸çš„æ›´æ–°ã€‚\nåœ¨Vueå®ä¾‹ä¸­ä¹Ÿå­˜åœ¨è¿™æ ·çš„æ–¹æ³•ï¼Œå³vm.$set()æ–¹æ³•ï¼ˆå‚æ•°ä¸Vue.set()ä¸€è‡´ï¼‰ã€‚å¦‚ä¸Šä¾‹ï¼Œæ·»åŠ å“åº”å¼æ•°æ®user.sexçš„å¦ä¸€ç§æ–¹å¼ï¼š\nvm.$set(vm.user, \u0026#39;sex\u0026#39;, \u0026#39;ç”·\u0026#39;) Vue.set()å’Œvm.$set()ä¸­å‚æ•°targetçš„å‰ç¼€å¯ä»¥æ˜¯vm._dataä¹Ÿå¯ä»¥æ˜¯vmè¿™æ˜¯å› ä¸ºåœ¨Vueå®ä¾‹vmä¸­ï¼ŒVueå°†vm._dataä¸­çš„ä¸€äº›å±æ€§äº¤ç»™äº†vmæ¥ä»£ç†ï¼ˆæ•°æ®ä»£ç†ï¼‰ã€‚\nå¯¹ä¸Šä¾‹è¿›è¡Œä¿®æ”¹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;addSex\u0026#34;\u0026gt;æ·»åŠ æ€§åˆ«ï¼ˆé»˜è®¤å€¼æ˜¯ç”·ï¼‰\u0026lt;/button\u0026gt; \u0026lt;h2\u0026gt;å§“åï¼š{{user.name}}\u0026lt;/h2\u0026gt; \u0026lt;h2 v-if=\u0026#34;user.sex\u0026#34;\u0026gt;æ€§åˆ«ï¼š{{user.sex}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;å¹´é¾„ï¼š\u0026lt;/h2\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;çœŸå®å¹´é¾„ï¼š{{user.age.rAge}}\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;å¯¹å¤–å¹´é¾„ï¼š{{user.age.sAge}}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;h2\u0026gt;å¥½å‹ï¼š\u0026lt;/h2\u0026gt; \u0026lt;table\u0026gt; \u0026lt;thead\u0026gt;\u0026lt;tr\u0026gt;\u0026lt;td\u0026gt;å§“å\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å¹´é¾„\u0026lt;/td\u0026gt;\u0026lt;/tr\u0026gt;\u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;(friend, index) in user.friends\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{friend.name}}\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;{{friend.age}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { user: { name: \u0026#39;å¼ ä¸‰\u0026#39;, // sex: \u0026#39;ç”·\u0026#39;, age: { rAge: 40, sAge: 29, }, friends: [ {name: \u0026#39;æå››\u0026#39;, age: 35}, {name: \u0026#39;ç‹äº”\u0026#39;, age: 36}, ] } }, methods: { addSex() { this.$set(this.user, \u0026#39;sex\u0026#39;, \u0026#39;ç”·\u0026#39;) } } }); \u0026lt;/script\u0026gt; Vue.set()å’Œvm.$set()çš„ä½¿ç”¨æœ‰ä¸€äº›å±€é™æ€§ã€‚å®ƒä»¬åœ¨ä½¿ç”¨æ—¶ä¸å…è®¸targetä¸ºVueå®ä¾‹å¯¹è±¡æˆ–Vueå®ä¾‹å¯¹è±¡çš„ç›´æ¥æ•°æ®å¯¹è±¡ï¼ˆå¦‚_dataç­‰ï¼ŒVueç»„ä»¶å®ä¾‹å¯¹è±¡ä¹Ÿä¸€æ ·ï¼‰ã€‚\nåœ¨Vueä¸­ï¼Œåç»­æ·»åŠ çš„æ–°å¯¹è±¡ï¼Œå¦‚æœæ·»åŠ çš„æ–¹å¼æ»¡è¶³Vueçš„è§„èŒƒï¼Œæ·»åŠ çš„å…ƒç´ Vueä¼šå¯¹å…¶è¿›è¡Œå“åº”å¼å¤„ç†ã€‚\nVue æ•°ç»„çš„ä¿®æ”¹ åœ¨Vueä¸­ï¼Œå¯¹æ•°ç»„çš„æŸäº›ä¿®æ”¹å¹¶ä¸ä¼šä½¿é¡µé¢å‘ç”Ÿæ”¹å˜ã€‚ä¾‹å¦‚ç›´æ¥ä½¿ç”¨æ•°ç»„ç´¢å¼•å¯¹å…ƒç´ èµ‹å€¼(å¦‚list[0] = 0)ã€‚è¿™æ˜¯å› ä¸ºVueåœ¨åŠ è½½å’Œæ›´æ–°æ—¶å¹¶ä¸ä¼šå¯¹æ•°ç»„ä¸­å…ƒç´ çš„æœ¬èº«ä½œå“åº”å¼å¤„ç†ï¼ˆä½†æ˜¯æ•°ç»„ä¸­å¯¹è±¡å…ƒç´ çš„å±æ€§ä¼šåšå“åº”å¼å¤„ç†ï¼‰ï¼Œæ‰€ä»¥å¯¼è‡´ç›´æ¥ä½¿ç”¨ç´¢å¼•å¯¹æ•°ç»„å…ƒç´ èµ‹å€¼çš„ä¿®æ”¹å¹¶ä¸ä¼šä½¿é¡µé¢å‘ç”Ÿæ”¹å˜ã€‚\né—®é¢˜æ¼”ç¤ºï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;å§“åï¼š{{user.name}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;å¹´é¾„ï¼š\u0026lt;/h2\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;çœŸå®å¹´é¾„ï¼š{{user.age.rAge}}\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;å¯¹å¤–å¹´é¾„ï¼š{{user.age.sAge}}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;h2\u0026gt;å¥½å‹ï¼š\u0026lt;/h2\u0026gt; \u0026lt;table\u0026gt; \u0026lt;thead\u0026gt;\u0026lt;tr\u0026gt;\u0026lt;td\u0026gt;å§“å\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å¹´é¾„\u0026lt;/td\u0026gt;\u0026lt;/tr\u0026gt;\u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;(friend, index) in user.friends\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{friend.name}}\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;{{friend.age}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;h2\u0026gt;çˆ±å¥½ï¼š\u0026lt;/h2\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;(hobby, index) in user.hobbies\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; {{hobby}} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const vm = new Vue({ el: \u0026#34;#app\u0026#34;, data: { user: { name: \u0026#39;å¼ ä¸‰\u0026#39;, age: { rAge: 40, sAge: 29, }, hobbies: [\u0026#39;å”±\u0026#39;, \u0026#39;è·³\u0026#39;, \u0026#39;Rap\u0026#39;, \u0026#39;ç¯®çƒ\u0026#39;], friends: [ {name: \u0026#39;æå››\u0026#39;, age: 35}, {name: \u0026#39;ç‹äº”\u0026#39;, age: 36}, ] } }, }); \u0026lt;/script\u0026gt; åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®æ”¹æ•°ç»„å…ƒç´ ï¼Œå¹¶ä¸ä¼šè®©é¡µé¢æ›´æ–°ï¼š\nvm.user.hobbies[0] = \u0026#39;å”±æ­Œ\u0026#39; vm.user.hobbies[1] = \u0026#39;è·³èˆ\u0026#39; vm.user.hobbies[3] = \u0026#39;æ‰“ç¯®çƒ\u0026#39; ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒVueæŒ‡å®šäº†7ä¸ªæ“ä½œæ•°ç»„çš„æ–¹æ³•ï¼Œå¹¶æ‰¿è®¤å®ƒä»¬çš„æ“ä½œæ˜¯å¯¹æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™7ä¸ªæ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œä¿®æ”¹åï¼Œé¡µé¢æ‰èƒ½æ­£å¸¸æ›´æ–°ã€‚VueæŒ‡å®šçš„è¿™7ä¸ªæ“ä½œæ•°ç»„çš„æ–¹æ³•åˆ†åˆ«æ˜¯ï¼š\næ–¹æ³• è¯´æ˜ array.push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦ array.pop() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´  array.shift() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  array.unshift() å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°æ•°ç»„çš„é•¿åº¦ array.splice() åˆ é™¤å…ƒç´ ï¼Œå¹¶å‘æ•°ç»„æ·»åŠ æ–°å…ƒç´  array.sort() å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº array.reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº è¿™7ä¸ªæ–¹æ³•èƒ½å¥æ•ˆæ˜¯å› ä¸ºVueå¯¹Array.prototypeä¸­å¯¹åº”çš„è¿™7ä¸ªæ–¹æ³•è¿›è¡Œäº†å°è£…ã€‚\nVueå°è£…çš„è¿™7ä¸ªæ–¹æ³•å¤§è‡´ä¸Šéƒ½åšäº†ä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š\nè°ƒç”¨Array.prototypeä¸­å¯¹åº”çš„åŸç”Ÿæ–¹æ³•ã€‚ æ•°æ®æ›´æ–°å¼•èµ·çš„æ¨¡æ¿çš„è§£æå’Œé¡µé¢æ›´æ”¹ç­‰æ“ä½œã€‚ åœ¨Vueå®˜æ–¹æ–‡æ¡£ä¸­ï¼Œå°†è¿™7ä¸ªæ–¹æ³•ç§°ä¸ºæ•°ç»„çš„å˜æ›´æ–¹æ³•ã€‚è¿™7ä¸ªæ–¹æ³•å…¶å®æ˜¯å¯¹æ•°ç»„å˜åŒ–çš„ç›‘æµ‹ã€‚\nå…¶å®åœ¨Vueä¸­ä¿®æ”¹æ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨Vue.set()å’Œvm.$set()ã€‚å¦‚ä¸Šä¾‹ï¼Œåœ¨æ§åˆ¶å°ä¿®æ”¹å…¶ä¸­çš„æ•°ç»„å…ƒç´ ï¼š\nVue.set(vm._data.user.hobbies, 0, \u0026#39;å”±æ­Œ\u0026#39;) vm.$set(vm.user.hobbies, 1, \u0026#39;è·³èˆ\u0026#39;) Vue æ•°æ®ç›‘å¬æ€»ç»“ Vueä¼šç›‘å¬dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®ã€‚\nç›‘å¬å¯¹è±¡ä¸­æ•°æ®çš„æ–¹å¼ï¼š\né€šè¿‡Setterå®ç°ç›‘å¬ï¼Œä¸”è¦åœ¨new Vue()æ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚\nåœ¨Vueç›‘å¬å¯¹è±¡ä¸­éœ€è¦æ³¨æ„ï¼š\nå¯¹è±¡ä¸­åè¿½åŠ çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†ã€‚\nå¦‚éœ€ç»™åæ·»åŠ çš„å±æ€§åšå“åº”å¼ï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹APIï¼š\nVue.set(target, propertyName|index, value) vm.$set(target, propertyName|index, value) ç›‘å¬æ•°ç»„ä¸­æ•°æ®çš„æ–¹å¼ï¼š\né€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„7ä¸ªæ–¹æ³•å®ç°ï¼Œæœ¬è´¨å°±æ˜¯åšäº†ä¸¤ä»¶äº‹ï¼š\nè°ƒç”¨åŸç”Ÿï¼ˆArray.prototypeï¼‰å¯¹åº”çš„æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ã€‚ é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢ã€‚ åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š\nä½¿ç”¨ä»¥ä¸‹APIï¼š\narray.push() array.pop() array.shift() array.unshift() array.splice() array.sort() array.reverse() ä½¿ç”¨Vue.set()æˆ–vm.$set()\næ³¨ï¼šVue.set()å’Œvm.$set()ä¸èƒ½ç»™vmæˆ–vmçš„æ ¹æ•°æ®å¯¹è±¡æ·»åŠ å±æ€§ã€‚\n","date":"2023å¹´9æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/data-proxy-watch/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1694495011,"title":"Vue æ•°æ®ä»£ç†ä¸ç›‘å¬"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ–‡æœ¬æ’å€¼ æ•°æ®ç»‘å®šæœ€å¸¸è§çš„å½¢å¼å°±æ˜¯æ–‡æœ¬æ’å€¼ã€‚\nåœ¨HTMLæ ‡ç­¾ä½“ä¸­ï¼Œä½¿ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·{{ }}å°†JSè¡¨è¾¾å¼å¼•èµ·æ¥ã€‚æ–‡æœ¬æ’å€¼å«ä¹‰æ˜¯å°†JSè¡¨è¾¾å¼çš„ç»“æœä½œä¸ºæ–‡æœ¬æ˜¾ç¤ºåˆ°é¡µé¢ä¸­ï¼›å¹¶ä¸æ˜¯æŒ‡JSè¡¨è¾¾å¼çš„ç»“æœä¸ºæ–‡æœ¬ã€‚\næ’å€¼è¡¨è¾¾å¼çš„è¯­æ³•å¦‚ä¸‹ï¼š\n{{expression}} å…¶ä¸­ï¼Œexpressionå°†ä½œä¸ºJSè¡¨è¾¾å¼å»è§£æå¹¶æ‰§è¡Œã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hello, {{name}}\u0026lt;!-- æ’å€¼è¡¨è¾¾å¼ --\u0026gt;!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { name: \u0026#39;Vue.js\u0026#39; } }) \u0026lt;/script\u0026gt; å› ä¸ºæ–‡æœ¬æ’å€¼ä½¿ç”¨çš„æ˜¯JSè¡¨è¾¾å¼ï¼Œæ‰€ä»¥åœ¨{{ }}ä¸­ï¼Œä¹Ÿå¯ä»¥å†™å…¥1+1è¿™ç±»å¸¸é‡è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³•ï¼ˆä¾‹å¦‚name.toUpperCase()ï¼‰ï¼Œè¿˜å¯ä»¥ä½¿ç”¨size+1ç­‰è¡¨è¾¾å¼ã€‚\nå®é™…ä¸Šï¼Œæ’å€¼è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ä¸ä»…ä»…æ˜¯dataä¸­çš„å¯¹è±¡ï¼Œæ‰€æœ‰Vueå®ä¾‹ä¸­çš„å±æ€§ã€åŸå‹ä¸­å±æ€§çš„å®ƒéƒ½èƒ½ä½¿ç”¨ã€‚å› ä¸ºdataä¸­çš„å¯¹è±¡åœ¨Vueå®ä¾‹åŒ–åï¼Œæ˜¯ä½œä¸ºVueå®ä¾‹çš„å±æ€§æ‰€å­˜åœ¨ã€‚\nè¿‡æ»¤å™¨ Vueå…è®¸è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œè¢«ç”¨ä½œä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ–ã€‚è¿‡æ»¤å™¨ç”±â€œç®¡é“ç¬¦â€|æŒ‡ç¤ºï¼Œå¹¶ä¸”è¿‡æ»¤å™¨å¯ä»¥ä¸²è”ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š\n\u0026lt;!-- å…ƒç´ æ’å€¼ä¸­ --\u0026gt; {{ expression | filter1[ | filter2[ | ... ]] }} \u0026lt;!-- v-bind æŒ‡ä»¤ä¸­ --\u0026gt; v-bind:attribute=\u0026#34;expression | filter1[ | filter2[ | ... ]]\u0026#34; ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œ|å·¦è¾¹è¡¨è¾¾å¼çš„å€¼ï¼ˆæˆ–è¾“å‡ºï¼‰å°†ä¼šä½œä¸º|å³è¾¹è¿‡æ»¤å™¨çš„ï¼ˆç¬¬1ä¸ªå‚æ•°çš„ï¼‰è¾“å…¥ã€‚\nè¿‡æ»¤å™¨ä¸€èˆ¬æ˜¯åœ¨Vueå®ä¾‹é…ç½®ä¸­çš„filtersä¸­ä»¥å‡½æ•°çš„å½¢å¼å®šä¹‰ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;{{ message | capitalize }}\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { message: \u0026#39;hello vue.js!\u0026#39; }, filters: { capitalize(value) { if(!value) return \u0026#39;\u0026#39; value = value.toString() return value.charAt(0).toUpperCase() + value.slice(1) }, }, }); \u0026lt;/script\u0026gt; å¦‚æœè¿‡æ»¤å™¨çš„å®šä¹‰ä¸­ï¼Œæ‹¥æœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œ|å·¦è¾¹çš„è¡¨è¾¾å¼çš„å€¼å°†ä¼šä½œä¸ºå…¶å³è¾¹è¿‡æ»¤å™¨çš„ç¬¬1ä¸ªå‚æ•°è¿›è¡Œè¾“å…¥ï¼Œä¾‹å¦‚ï¼š\n{{ message | filter(arg1, arg2) }} arg1ä½œä¸ºfilter()çš„ç¬¬2ä¸ªå‚æ•°è¾“å…¥ï¼Œarg2ä½œä¸ºfilter()çš„ç¬¬3ä¸ªå‚æ•°è¾“å…¥ï¼Œè€Œmessageå°†ä½œä¸ºfilter()çš„ç¬¬1ä¸ªå‚æ•°è¿›è¡Œè¾“å…¥ã€‚\næ³¨ï¼š\nè¿‡æ»¤å™¨åœ¨å®šä¹‰æ—¶ï¼Œä¸€å®šè‡³å°‘è¦å®šä¹‰æœ‰ä¸€ä¸ªå‚æ•°valueï¼Œå› ä¸ºè¿‡æ»¤å™¨å§‹ç»ˆä¼šå°†ç®¡é“ç¬¦|å·¦è¾¹çš„è¡¨è¾¾å¼çš„ç»“æœä½œä¸ºå‚æ•°1valueä¼ å…¥ã€‚å¦‚æœä¸å®šä¹‰å‚æ•°valueï¼Œé‚£ä¹ˆè¿‡æ»¤å™¨å°†æ˜¾å¾—æ— æ„ä¹‰ã€‚ è¿‡æ»¤å™¨ä¸èƒ½åœ¨v-modelæŒ‡ä»¤ä¸­ä½¿ç”¨ã€‚ ä¸€èˆ¬çš„è¿‡æ»¤å™¨ä¸ä¼šæ”¹å˜åŸæœ¬çš„æ•°æ®ã€‚ åœ¨Vueå®ä¾‹ä¸­é…ç½®çš„filtersåªèƒ½åœ¨å½“å‰Vueå®ä¾‹ä¸­ä½¿ç”¨ï¼Œè¿™ç§è¿‡æ»¤å™¨è¢«ç§°ä¸ºå±€éƒ¨è¿‡æ»¤å™¨ã€‚å½“åº”ç”¨ä¸­å­˜åœ¨å¤šä¸ªVueå®ä¾‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…¨å±€è¿‡æ»¤å™¨ã€‚å…¨å±€è¿‡æ»¤å™¨ä½¿ç”¨Vue.filter()æ¥æ³¨å†Œã€‚ä¾‹å¦‚ï¼š\nVue.filter(\u0026#39;capitalize\u0026#39;, function (value) { if(!value) return \u0026#39;\u0026#39; value = value.toString() return value.charAt(0).toUpperCase() + value.slice(1) }) Vue.filter()æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š\nå‚æ•°1ï¼šå®šä¹‰è¿‡æ»¤å™¨çš„åç§°ã€‚ å‚æ•°2ï¼šå®šä¹‰è¿‡æ»¤å™¨çš„æ–¹æ³•ã€‚ ","date":"2023å¹´8æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/template-syntax/interpolation/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1692441390,"title":"Vue æ’å€¼è¯­æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Vue.js ä½¿ç”¨äº†åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œå…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°† DOM ç»‘å®šè‡³åº•å±‚ Vue å®ä¾‹çš„æ•°æ®ã€‚ç»“åˆå“åº”ç³»ç»Ÿï¼Œåœ¨åº”ç”¨çŠ¶æ€æ”¹å˜æ—¶ï¼Œ Vue èƒ½å¤Ÿæ™ºèƒ½åœ°è®¡ç®—å‡ºé‡æ–°æ¸²æŸ“ç»„ä»¶çš„æœ€å°ä»£ä»·å¹¶åº”ç”¨åˆ° DOM æ“ä½œä¸Šã€‚\nVueä¸­æ¨¡æ¿è¯­æ³•æœ‰ä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š\næ’å€¼è¯­æ³•ï¼šç”¨{{}}åŒ…è£¹èµ·æ¥çš„è¡¨è¾¾å¼ã€‚\nVueæ’å€¼è¯­æ³•ä¸­ï¼Œå¯ä»¥æŒ‡å®šJSè¡¨è¾¾å¼å°†æ•°æ®ä¸æ¨¡æ¿è¿›è¡Œç»‘å®šã€‚\nä¸è¯­å¥ä¸åŒçš„æ˜¯ï¼Œæ’å€¼è¡¨è¾¾å¼æŒ‡å¯ä»¥ç”Ÿæˆå€¼çš„è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥å¯ä»¥æ”¾åœ¨ä»»ä½•éœ€è¦å€¼çš„åœ°æ–¹ã€‚ä¹Ÿå°±æ˜¯è¯´æ’å€¼è¡¨è¾¾å¼ä¸€å®šéœ€è¦æœ‰å€¼ï¼ˆæˆ–è¿”å›å€¼ï¼‰ã€‚è¡¨è¾¾å¼ä¸­çš„å˜é‡ã€æ–¹æ³•éƒ½æ˜¯åœ¨å¯¹åº”Vueå®ä¾‹çš„ data ä¸­å®šä¹‰çš„ã€‚å½“dataå‘ç”Ÿäº†æ”¹å˜ï¼Œé¡µé¢ä¸­å¯¹åº”çš„æ•°æ®ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼ˆåŠ¨æ€ï¼‰ã€‚\næŒ‡ä»¤è¯­æ³•ï¼šä»¥v-ä¸ºå¼€å¤´çš„VueæŒ‡ä»¤ã€‚\n","date":"2023å¹´8æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/template-syntax/introduction/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1692441390,"title":"Vue æ¨¡æ¿è¯­æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æŒ‡ä»¤æ˜¯æŒ‡åœ¨Vueæ¨¡æ¿ä¸­ç”±VueåŸå‹å¯¹è±¡æˆ–ç”¨æˆ·è‡ªå®šä¹‰çš„ã€å¸¦æœ‰v-å‰ç¼€çš„ç‰¹æ®ŠHTMLå±æ€§ã€‚æŒ‡ä»¤å¯ä»¥ç”¨äºè§£ææ ‡ç­¾ï¼ˆåŒ…æ‹¬æ ‡ç­¾å±æ€§ã€æ ‡ç­¾å†…å®¹ã€ç»‘å®šäº‹ä»¶ç­‰ç­‰ï¼‰ã€‚\næ•°æ®ç»‘å®š å•å‘æ•°æ®ç»‘å®š v-bindå•å‘æ•°æ®ç»‘å®šï¼šå•å‘ç»‘å®šæ˜¯æŒ‡æ•°æ®åªèƒ½ä»Vueå®ä¾‹ä¸­çš„dataæµå‘é¡µé¢å†…å®¹ã€‚\nå°†v-bind:ç½®äºè¦ä½¿ç”¨è¡¨è¾¾å¼çš„HTMLå±æ€§å‰ï¼ŒVueä¼šå°†å…¶å±æ€§å€¼è§£æä¸ºè¡¨è¾¾å¼ã€‚v-bindçš„è¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š\nv-bind:attribute=\u0026#34;expression\u0026#34; attributeï¼šv-bindæŒ‡ä»¤çš„å‚æ•°ï¼Œv-bindæŒ‡ä»¤çš„å‚æ•°æ˜¯HTMLå±æ€§ã€‚ expressionï¼šè¡¨è¾¾å¼ä¸­çš„å¯¹è±¡å’Œæ–¹æ³•ç­‰å‡æ¥è‡ªVueå®ä¾‹ã€‚ ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;a v-bind:href=\u0026#34;vueUrl\u0026#34;\u0026gt;Vueå®˜ç½‘\u0026lt;/a\u0026gt;\u0026lt;!-- v-bind:æ’å€¼è¡¨è¾¾å¼ --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { vueUrl: \u0026#39;https://cn.vuejs.org/\u0026#39;, } }) \u0026lt;/script\u0026gt; v-bind:å¯ä»¥ç®€å†™ä¸º:ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;a :href=\u0026#34;vueUrl\u0026#34;\u0026gt;Vueå®˜ç½‘\u0026lt;/a\u0026gt; åŒå‘æ•°æ®ç»‘å®š v-modelåŒå‘æ•°æ®ç»‘å®šï¼šåŒå‘æ•°æ®ç»‘å®šæŒ‡æ•°æ®ä¸å•èƒ½ä»Vueç¤ºä¾‹çš„dataä¸­æµå‘é¡µé¢ï¼Œè¿˜èƒ½ä»é¡µé¢æµå‘dataã€‚\nv-modelçš„ç”¨æ³•ä¸v-bindååˆ†ç±»ä¼¼ï¼Œå°†v-model:ç½®äºè¦ä½¿ç”¨è¡¨è¾¾å¼çš„HTMLå±æ€§å‰ã€‚v-modelçš„è¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š\nv-model:value=\u0026#34;expression\u0026#34; valueï¼šv-modelçš„å‚æ•°åªèƒ½æ˜¯\u0026lt;input\u0026gt;æ ‡ç­¾çš„valueå±æ€§ã€‚\nç”±äºv-modelä»…ä½œç”¨äºvalueå…ƒç´ ä¸Šï¼Œæ‰€ä»¥v-model:valueå¯ä»¥ç®€å†™ä¸ºv-modelã€‚ç®€å†™å½¢å¼å¦‚ä¸‹ï¼š\nv-model=\u0026#34;expression\u0026#34; expressionï¼šåŒv-bindæŒ‡ä»¤ï¼Œè¡¨è¾¾å¼ä¸­çš„å¯¹è±¡å’Œæ–¹æ³•ç­‰å‡æ¥è‡ªVueå®ä¾‹ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; å•å‘æ•°æ®ç»‘å®šï¼šä¿®æ”¹è¯¥è¾“å…¥æ¡†ï¼ŒVueä¸­çš„æ•°æ®å¹¶ä¸ä¼šè¢«æ”¹å˜ã€‚ \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; :value=\u0026#34;name\u0026#34;\u0026gt; \u0026lt;hr\u0026gt; åŒå‘æ•°æ®ç»‘å®šï¼šä¿®æ”¹è¯¥è¾“å…¥æ¡†ï¼ŒVueä¸­çš„æ•°æ®å°†ä¼šè¢«æ”¹å˜ï¼ˆä¸Šæ–¹è¾“å…¥æ¡†ä¹Ÿä¼šéšç€æ•°æ®çš„æ”¹å˜è€Œæ”¹å˜ï¼‰ã€‚ \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-model:value=\u0026#34;name\u0026#34;\u0026gt; \u0026lt;hr\u0026gt; v-model ç®€å†™å½¢å¼ï¼š \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;name\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { name: \u0026#39;Linner\u0026#39; } }) \u0026lt;/script\u0026gt; æ³¨ï¼š\nv-modelæŒ‡ä»¤åªèƒ½ç”¨äº\u0026lt;input\u0026gt;ã€\u0026lt;select\u0026gt;ã€\u0026lt;textarea\u0026gt;ã€\u0026lt;checkbox\u0026gt;ã€\u0026lt;radio\u0026gt;ç­‰è¡¨å•æ§ä»¶å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œæ ¹æ®è¡¨å•ä¸Šçš„å€¼ï¼Œè‡ªåŠ¨æ›´æ–°ç»‘å®šçš„å…ƒç´ çš„å€¼ã€‚\nå› ä¸ºv-modelåŒå‘ç»‘å®šæ˜¯ä¸ºäº†èƒ½äºç”¨æˆ·çš„è¾“å…¥è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥v-modelä½œç”¨äºä¸èƒ½ç”±ç”¨æˆ·æ”¹å˜å€¼çš„å…ƒç´ ä¸Šæ˜¯æ— æ„ä¹‰çš„ã€‚\nv-model ä¿®é¥°ç¬¦ v-modelå¸¸ç”¨çš„ä¿®é¥°ç¬¦æœ‰ï¼š\n.lazyï¼šv-modelé»˜è®¤åœ¨inputäº‹ä»¶ä¸­åŒæ­¥è¾“å…¥æ¡†çš„å€¼ä¸æ•°æ®ã€‚ä½¿ç”¨.lazyä¿®é¥°ç¬¦å¯ä»¥è®©v-modelåœ¨changeäº‹ä»¶ä¸­åŒæ­¥ã€‚\nåœ¨changeäº‹ä»¶ä¸­åŒæ­¥æŒ‡çš„æ˜¯è¾“å…¥å®Œæˆåå†è¿›è¡ŒåŒæ­¥ã€‚ä¾‹å¦‚åœ¨type=\u0026quot;text\u0026quot;çš„è¾“å…¥æ¡†ä¸­ä½¿ç”¨.lazyä¿®é¥°ç¬¦æ—¶ï¼Œåªæœ‰åœ¨æŒ‰ä¸‹å›è½¦é”®æˆ–è€…é¼ æ ‡ç‚¹å‡»è¾“å…¥æ¡†å¤–çš„å…¶å®ƒåœ°æ–¹æ—¶æ‰ä¼šè¿›è¡ŒåŒæ­¥ã€‚\n.numberï¼šåœ¨type=\u0026quot;number\u0026quot;æ—¶Htmlä¸­è¾“å…¥çš„å€¼ä¹Ÿæ€»æ˜¯ä¼šè¿”å›å­—ç¬¦ä¸²ç±»å‹ã€‚ä½¿ç”¨.numberä¿®é¥°ç¬¦å¯ä»¥è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬ä¸ºNumberç±»å‹ï¼ˆå¦‚æœåŸå€¼çš„è½¬æ¢ç»“æœä¸ºNaNåˆ™è¿”å›åŸå€¼ï¼‰ã€‚\n.trimï¼šè‡ªåŠ¨è¿‡æ»¤ï¼ˆå»é™¤ï¼‰ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºæ ¼ã€‚\næ”¶é›†è¡¨å•æ•°æ® ä¸ºå¤é€‰æ¡†è¿›è¡ŒåŒå‘ç»‘å®šï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;ID\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å§“å\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å¹´é¾„\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;tr v-for=\u0026#34;preson in presons\u0026#34; :key=\u0026#34;preson.id\u0026#34;\u0026gt; \u0026lt;td\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; :value=\u0026#34;preson\u0026#34; v-model=\u0026#34;checkedPersons\u0026#34;\u0026gt; \u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.id}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.name}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.age}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;div v-if=\u0026#34;checkedPersons.length \u0026gt; 0\u0026#34;\u0026gt; é€‰æ‹©çš„å…ƒç´ æœ‰ï¼š \u0026lt;ul\u0026gt;\u0026lt;li v-for=\u0026#34;preson in checkedPersons\u0026#34;\u0026gt;{{preson.name}}\u0026lt;/li\u0026gt;\u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { presons: [ {id: \u0026#39;001\u0026#39;, name: \u0026#39;å¼ ä¸‰\u0026#39;, age: 18}, {id: \u0026#39;002\u0026#39;, name: \u0026#39;æå››\u0026#39;, age: 19}, {id: \u0026#39;003\u0026#39;, name: \u0026#39;ç‹äº”\u0026#39;, age: 17}, ], checkedPersons: [], }, }); \u0026lt;/script\u0026gt; ä¸ºå•é€‰æ¡†è¿›è¡ŒåŒå‘ç»‘å®šï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Vue.js å¥½ä¸å¥½ç”¨ï¼Ÿ\u0026lt;/p\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;good\u0026#34; value=\u0026#34;å¥½ç”¨ï¼\u0026#34; v-model=\u0026#34;result\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;good\u0026#34;\u0026gt;å¥½ç”¨ï¼\u0026lt;/label\u0026gt; \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;notGood\u0026#34; value=\u0026#34;ä¸å¥½ç”¨ï¼Ÿ\u0026#34; v-model=\u0026#34;result\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;notGood\u0026#34;\u0026gt;ä¸å¥½ç”¨ï¼Ÿ\u0026lt;/label\u0026gt; \u0026lt;p v-if=\u0026#34;result != \u0026#39;\u0026#39;\u0026#34;\u0026gt;æ‚¨é€‰æ‹©çš„æ˜¯ï¼š{{result}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { result: \u0026#39;\u0026#39;, } }); \u0026lt;/script\u0026gt; ä¸ºä¸‹æ‹‰åˆ—è¡¨è¿›è¡Œæ•°æ®ç»‘å®šï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;select v-model=\u0026#34;selectedItem\u0026#34;\u0026gt; \u0026lt;option hidden value=\u0026#34;\u0026#34;\u0026gt;é€‰æ‹©ä¸€é—¨ç¼–ç¨‹è¯­è¨€\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;C/C++\u0026#34;\u0026gt;C/C++\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;Java\u0026#34;\u0026gt;Java\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;Go\u0026#34;\u0026gt;Go\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;Python\u0026#34;\u0026gt;Python\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;p v-if=\u0026#34;selectedItem != \u0026#39;\u0026#39;\u0026#34;\u0026gt;æ‚¨é€‰æ‹©çš„æ˜¯ï¼š{{selectedItem}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { selectedItem: \u0026#39;\u0026#39;, } }); \u0026lt;/script\u0026gt; ä¸‹æ–¹æ˜¯æ¼”ç¤ºäº†æ”¶é›†è¡¨å•æ•°æ®ä¸­ä¸€äº›å¸¸ç”¨çš„æ–¹å¼ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;form @submit.prevent=\u0026#34;submit\u0026#34;\u0026gt;\u0026lt;!-- æäº¤åä¸è·³è½¬ --\u0026gt; \u0026lt;!-- æ™®é€šè¾“å…¥æ¡† --\u0026gt; \u0026lt;label for=\u0026#34;account\u0026#34;\u0026gt;è´¦å·\u0026lt;/label\u0026gt; \u0026lt;!-- å»æ‰é¦–å°¾ç©ºæ ¼ --\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;account\u0026#34; v-model.trim=\u0026#34;userInfo.account\u0026#34;\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;label for=\u0026#34;password\u0026#34;\u0026gt;å¯†ç \u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; id=\u0026#34;password\u0026#34; v-model=\u0026#34;userInfo.password\u0026#34;\u0026gt; \u0026lt;!-- æ§åˆ¶è¾“å…¥ä¸ºæ•°å­—ç±»å‹ --\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;label for=\u0026#34;age\u0026#34;\u0026gt;å¹´é¾„\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;number\u0026#34; v-model.number=\u0026#34;userInfo.age\u0026#34;\u0026gt; \u0026lt;!-- å•é€‰æ¡† --\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt;æ€§åˆ«ï¼š \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;male\u0026#34; name=\u0026#34;sex\u0026#34; value=\u0026#34;male\u0026#34; v-model=\u0026#34;userInfo.sex\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;male\u0026#34;\u0026gt;ç”·\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;radio\u0026#34; id=\u0026#34;female\u0026#34; name=\u0026#34;sex\u0026#34; value=\u0026#34;female\u0026#34; v-model=\u0026#34;userInfo.sex\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;female\u0026#34;\u0026gt;å¥³\u0026lt;/label\u0026gt; \u0026lt;!-- å¤šé€‰æ¡† --\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; çˆ±å¥½ï¼š \u0026lt;!-- checkbox å¦‚æœä¸é…ç½® value é‚£ä¹ˆé»˜è®¤è¯»å–çš„æ˜¯è¾“å…¥æ¡†çš„ checked å€¼ï¼ˆå¸ƒå°”ç±»å‹ï¼‰ --\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;sing\u0026#34; value=\u0026#34;sing\u0026#34; v-model=\u0026#34;userInfo.hobbies\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;sing\u0026#34;\u0026gt;å”±æ­Œ\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;dance\u0026#34; value=\u0026#34;dance\u0026#34; v-model=\u0026#34;userInfo.hobbies\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;dance\u0026#34;\u0026gt;è·³èˆ\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;rap\u0026#34; value=\u0026#34;rap\u0026#34; v-model=\u0026#34;userInfo.hobbies\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;rap\u0026#34;\u0026gt;Rap\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;basketball\u0026#34; value=\u0026#34;basketball\u0026#34; v-model=\u0026#34;userInfo.hobbies\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;basketball\u0026#34;\u0026gt;æ‰“ç¯®çƒ\u0026lt;/label\u0026gt; \u0026lt;!-- ä¸‹æ‹‰é€‰æ‹©æ¡† --\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; æ‰€åœ¨åœ°ï¼š \u0026lt;select v-model=\u0026#34;userInfo.city\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;\u0026#34; hidden\u0026gt;è¯·é€‰æ‹©æ ¡åŒº\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;beijing\u0026#34;\u0026gt;åŒ—äº¬\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;shanghai\u0026#34;\u0026gt;ä¸Šæµ·\u0026lt;/option\u0026gt; \u0026lt;option value=\u0026#34;wuhan\u0026#34;\u0026gt;æ­¦æ±‰\u0026lt;/option\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;!-- æ–‡æœ¬è¾“å…¥æ¡† åœ¨ change äº‹ä»¶ä¸­åŒæ­¥ --\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; å¤‡æ³¨ï¼š\u0026lt;br\u0026gt; \u0026lt;textarea v-model.lazy=\u0026#34;userInfo.note\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; id=\u0026#34;agree\u0026#34; v-model=\u0026#34;userInfo.agree\u0026#34;\u0026gt; \u0026lt;!-- å‹¾é€‰æ¡† --\u0026gt; \u0026lt;label for=\u0026#34;agree\u0026#34;\u0026gt; é˜…è¯»å¹¶æ¥å—\u0026lt;a href=\u0026#34;http://linner.asia\u0026#34;\u0026gt;ã€Šç”¨æˆ·åè®®ã€‹\u0026lt;/a\u0026gt; \u0026lt;/label\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;button\u0026gt;æäº¤\u0026lt;/button\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const vm = new Vue({ el: \u0026#34;#app\u0026#34;, data: { userInfo: { account: \u0026#39;\u0026#39;, password: \u0026#39;\u0026#39;, age: \u0026#39;\u0026#39;, sex: \u0026#39;\u0026#39;, hobbies: [], city: \u0026#39;\u0026#39;, note: \u0026#39;\u0026#39;, agree: false, } }, methods: { submit() { console.log(JSON.stringify(this.userInfo)); } }, }); \u0026lt;/script\u0026gt; \u0026lt;input type=\u0026quot;text\u0026quot;\u0026gt;ï¼šv-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œè€Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚ \u0026lt;input type=\u0026quot;radio\u0026quot;\u0026gt;ï¼šv-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚ \u0026lt;input type=\u0026quot;checkbox\u0026quot;\u0026gt;ï¼š æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ä¸ºtrueï¼Œæœªå‹¾é€‰ä¸ºfalseï¼‰ã€‚ é…ç½®äº†inputçš„valueå±æ€§ï¼š v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedã€‚ v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„ã€‚ æ ·å¼ç»‘å®š Vue.js v-bind åœ¨å¤„ç† class å’Œ style æ—¶ï¼Œä¸“é—¨å¢å¼ºäº†å®ƒã€‚è¡¨è¾¾å¼çš„ç»“æœç±»å‹é™¤äº†å­—ç¬¦ä¸²ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ˜¯å¯¹è±¡æˆ–æ•°ç»„ã€‚\nclass ç»‘å®š ä¾‹å¦‚ä¸ºv-bind:classè®¾ç½®ä¸€ä¸ªå¯¹è±¡ï¼Œä»è€ŒåŠ¨æ€çš„åˆ‡æ¢classï¼š\n\u0026lt;head\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; .red { color: red; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;ch-color\u0026#34;\u0026gt;ä¿®æ”¹é¢œè‰²\u0026lt;/label\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34; v-model=\u0026#34;use\u0026#34; id=\u0026#34;ch-color\u0026#34;\u0026gt; \u0026lt;br\u0026gt; \u0026lt;div :class=\u0026#34;{\u0026#39;red\u0026#39;: use}\u0026#34;\u0026gt; \u0026lt;code\u0026gt;v-bind:class\u0026lt;/code\u0026gt; æŒ‡ä»¤ \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { use: false, } }) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; åœ¨:class=\u0026quot;{'red': use}\u0026quot;è¿™æ¡æŒ‡ä»¤ä¸­ï¼Œå½“useä¸ºtrueæ—¶ï¼Œredå°†ä¼šè¢«åº”ç”¨åœ¨è¯¥classå±æ€§ä¸Šã€‚å³å½“useä¸ºtrueæ—¶ï¼Œ:class=\u0026quot;{'red': use}\u0026quot;ç›¸å½“äºclass=\u0026quot;red\u0026quot;ã€‚\n:classæ ·å¼ç»‘å®šå¯ä»¥åŒæ—¶åŠ¨æ€åœ°ç»‘å®šå¤šä¸ªæ ·å¼ï¼š\n\u0026lt;head\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; .redBox { background-color: red; } #app { width: 100px; height: 100px; text-align: center; line-height: 100px; background-color: yellow; user-select: none; } .bold { font-weight: bold; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :class=\u0026#34;{\u0026#39;redBox\u0026#39;: isClicked, \u0026#39;bold\u0026#39;: isBold}\u0026#34; @click=\u0026#34;clicked\u0026#34;\u0026gt; ç‚¹å‡»åˆ‡æ¢æ ·å¼ \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { isClicked: false, isBold: false }, methods: { clicked() { this.isClicked = !this.isClicked this.isBold = !this.isBold }, } }) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; å¦‚æœ:classä¸­æŒ‡å®šçš„å¯¹è±¡è¿‡é•¿ï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§computedæ¥å®šä¹‰ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :class=\u0026#34;classObject\u0026#34; @click=\u0026#34;clicked\u0026#34;\u0026gt; ç‚¹å‡»åˆ‡æ¢æ ·å¼ \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { isClicked: false, isBold: false, }, computed: { classObject() { return { redBox: this.isClicked, bold: this.isBold, } }, }, methods: { clicked() { this.isClicked = !this.isClicked this.isBold = !this.isBold }, } }) \u0026lt;/script\u0026gt; :classä¸­å¯ä»¥ä½¿ç”¨æ•°ç»„ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :class=\u0026#34;[redBoxClass, boldClass]\u0026#34;\u0026gt; æ•°ç»„è¯­æ³• \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { redBoxClass: \u0026#39;redBox\u0026#39;, boldClass: \u0026#39;bold\u0026#39;, }, }) \u0026lt;/script\u0026gt; :classä¼šå°†æ•°ç»„ä¸­çš„å˜é‡ï¼ˆå¦‚ä¸Šï¼ŒredBoxClasså’ŒboldClassï¼‰çš„å€¼è§£æä¸ºè¯¥å…ƒç´ çš„classå±æ€§ã€‚åˆ©ç”¨æ•°ç»„è¯­æ³•åŠ¨æ€åˆ‡æ¢ã€‚\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :class=\u0026#34;activedClass\u0026#34; @click=\u0026#34;clicked\u0026#34;\u0026gt; ç‚¹å‡»åˆ‡æ¢æ ·å¼ \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { activedClass: [], }, methods: { clicked() { if (this.activedClass == null || this.activedClass.length == 0) { this.activedClass.push(\u0026#39;redBox\u0026#39;) this.activedClass.push(\u0026#39;bold\u0026#39;) } else { this.activedClass = [] } }, } }) \u0026lt;/script\u0026gt; style ç»‘å®š å¯ä»¥é€šè¿‡v-bind:styleè®¾ç½®æ ·å¼ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :style=\u0026#34;{\u0026#39;background-color\u0026#39;: activedColor, width: size + \u0026#39;px\u0026#39;, height: size + \u0026#39;px\u0026#39;}\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { activedColor: \u0026#39;red\u0026#39;, size: 100, } }); \u0026lt;/script\u0026gt; ä¸Šæ–¹å®ä¾‹ä¸­çš„:styleç›¸å½“äºstyle=\u0026quot;background-color: red; width: 100px; height: 100px;}\u0026quot;ã€‚\nå¦‚æœ:styleä¸­çš„å¯¹è±¡è¿‡é•¿ï¼ŒåŒæ ·å¯ä»¥åœ¨dataä¸­å®šä¹‰ä¸€ä¸ªå±æ€§æˆ–è€…ä½¿ç”¨è®¡ç®—å±æ€§computedã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :style=\u0026#34;styleObject\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { styleObject: { \u0026#39;background-color\u0026#39;: \u0026#39;red\u0026#39;, width: \u0026#39;100px\u0026#39;, height: \u0026#39;100px\u0026#39;, }, }, }); \u0026lt;/script\u0026gt; åŠ¨æ€åˆ‡æ¢æ ·å¼ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :style=\u0026#34;styleObject\u0026#34; @click=\u0026#34;clicked\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { bgColor: \u0026#39;yellow\u0026#39;, size: 100, }, computed: { styleObject() { const size = this.size + \u0026#39;px\u0026#39; return { \u0026#39;background-color\u0026#39;: this.bgColor, width: size, height: size, } }, }, methods: { clicked() { const bgColor = this.bgColor const red = \u0026#39;red\u0026#39; const yellow = \u0026#39;yellow\u0026#39; this.bgColor = bgColor === red ? yellow : red }, }, }); \u0026lt;/script\u0026gt; :styleåŒæ ·å¯ä»¥ä½¿ç”¨æ•°ç»„è¯­æ³•ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div :style=\u0026#34;[activedStyles, sizeStyles]\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { activedStyles: { \u0026#39;background-color\u0026#39;: \u0026#39;red\u0026#39;, }, sizeStyles: { width: \u0026#39;100px\u0026#39;, height: \u0026#39;100px\u0026#39;, }, }, }); \u0026lt;/script\u0026gt; æ¡ä»¶æŒ‡ä»¤ åœ¨Vueçš„æŒ‡ä»¤è¯­æ³•ä¸­ï¼Œæ¡ä»¶åˆ¤æ–­ä½¿ç”¨v-ifæŒ‡ä»¤ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nv-if=\u0026#34;expression\u0026#34; v-ifæŒ‡ä»¤å°†æ ¹æ®expressionçš„å€¼ï¼ˆtrueæˆ–falseï¼‰æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå½“å‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;changeSeen()\u0026#34;\u0026gt;Show/Hide Text\u0026lt;/button\u0026gt; \u0026lt;p v-if=\u0026#34;seen\u0026#34;\u0026gt;Testing v-if...\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { seen: false, }, methods: { changeSeen() { this.seen = !this.seen } } }); \u0026lt;/script\u0026gt; åœ¨ä½¿ç”¨v-ifçš„åŒæ—¶ï¼Œè¿˜å¯ä»¥åœ¨åç»­å…ƒç´ ä¸­ä½¿ç”¨v-elseæŒ‡ä»¤ç»™v-ifæ·»åŠ ä¸€ä¸ªelseå—ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;changeSeen()\u0026#34;\u0026gt;Show/Hide Text\u0026lt;/button\u0026gt; \u0026lt;p v-if=\u0026#34;seen\u0026#34;\u0026gt;Displayed...\u0026lt;/p\u0026gt; \u0026lt;p v-else\u0026gt;Hidden...\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { seen: false, }, methods: { changeSeen() { // æ–¹æ³•ä¸­çš„ this æŒ‡çš„æ˜¯å½“å‰ Vue å®ä¾‹ this.seen = !this.seen } } }); \u0026lt;/script\u0026gt; åœ¨vue@2.1.0ä¸­ï¼Œæ–°å¢äº†v-else-ifæŒ‡ä»¤ï¼Œå®ƒçš„è¯­æ³•æ ¼å¼ä¸v-ifç›¸åŒï¼Œä½†æ˜¯éœ€è¦åœ¨ä½¿ç”¨äº†v-ifçš„åç»­å…ƒç´ ä¸­ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;changeNum()\u0026#34;\u0026gt;Next\u0026lt;/button\u0026gt; \u0026lt;p v-if=\u0026#34;num === 0\u0026#34;\u0026gt;Number 1...\u0026lt;/p\u0026gt; \u0026lt;p v-else-if=\u0026#34;num === 1\u0026#34;\u0026gt;Number 2...\u0026lt;/p\u0026gt; \u0026lt;p v-else\u0026gt;Number 3...\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { num: 0, }, methods: { changeNum() { this.num = ++this.num % 3 } } }); \u0026lt;/script\u0026gt; æ³¨ï¼š\nv-ifã€v-elseå’Œv-else-ifä¸€èµ·ä½¿ç”¨æ—¶ï¼Œç»“æ„ä¸é¥¿èƒ½è¢«â€œæ‰“æ–­â€ã€‚v-elseå’Œv-else-ifæŒ‡ä»¤å¿…é¡»åœ¨ä½¿ç”¨äº†v-ifçš„åç»­å…ƒç´ ä¸­ä½¿ç”¨ï¼Œå®ƒä»¬ä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚å¹¶ä¸”ä½¿ç”¨äº†v-elseä¹‹åä¸èƒ½åœ¨æ²¡æœ‰ä½¿ç”¨v-ifçš„æƒ…å†µä¸‹å†æ¬¡ä½¿ç”¨v-else-ifã€‚v-elseå’Œv-else-ifçš„ä½¿ç”¨å°±åƒå…¶å®ƒè¯­è¨€ä¸­çš„if ... elseå’Œif ... else ifè¯­å¥ä¸€æ ·ã€‚\nv-ifå¯ä»¥å’Œ\u0026lt;template\u0026gt;æ ‡ç­¾é…åˆä½¿ç”¨ï¼Œä»¥è¾¾åˆ°å°†å¤šä¸ªåŒæ—¶éœ€è¦è¿ç»­ä½¿ç”¨åŒä¸ªv-ifæŒ‡ä»¤çš„å…ƒç´ åœ¨åŒä¸€æ¡ä»¶ä¸‹ä¸€é½æ˜¾ç¤ºï¼Œè€Œåˆä¸å½±å“æœ€ç»ˆç¼–è¯‘å‡ºæ¥çš„é¡µé¢ç»“æ„ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;h2 v-if=\u0026#34;!isDisabled\u0026#34;\u0026gt;Title 1\u0026lt;/h2\u0026gt; \u0026lt;h2 v-if=\u0026#34;!isDisabled\u0026#34;\u0026gt;Title 2\u0026lt;/h2\u0026gt; \u0026lt;h2 v-if=\u0026#34;!isDisabled\u0026#34;\u0026gt;Title 3\u0026lt;/h2\u0026gt; å¯ä»¥ä½¿ç”¨\u0026lt;template\u0026gt;æ ‡ç­¾å°†ä¸Šæ–¹ä»£ç ä¼˜åŒ–ä¸ºï¼š\n\u0026lt;template v-if=\u0026#34;!isDisabled\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;Title 1\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;Title 2\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;Title 3\u0026lt;/h2\u0026gt; \u0026lt;/template\u0026gt; v-showæŒ‡ä»¤çš„ä½œç”¨å’Œè¯­æ³•ä¸v-ifç±»ä¼¼ï¼Œåªä¸è¿‡v-showæ˜¯å•æ”¯çš„æ¡ä»¶åˆ¤æ–­ï¼Œå®ƒä¸èƒ½åƒv-ifä¸€æ ·æ”¯æŒv-elseå’Œv-else-ifæŒ‡ä»¤ã€‚å³v-ifæ”¯æŒå¤šæ¡ä»¶åˆ†æ”¯ï¼Œè€Œv-showä»…æ”¯æŒå•æ¡ä»¶åˆ†æ”¯ã€‚\nv-showå’Œv-ifæœ‰ä»¥ä¸‹åŒºåˆ«ï¼š\né€‚ç”¨æ€§ï¼š v-ifé€‚åˆç”¨äºä¸€äº›åˆ‡æ¢é¢‘ç‡è¾ƒä½çš„åœºæ™¯ã€‚ v-showé€‚åˆç”¨äºä¸€äº›åˆ‡æ¢æ•ˆç‡è¾ƒé«˜çš„åœºæ™¯ã€‚ ç‰¹ç‚¹ï¼š v-ifå¯ä»¥å’Œv-elseã€v-else-ifä¸€åŒä½¿ç”¨ï¼Œä½†è¦æ±‚ç»“æ„ä¸é¥¿èƒ½è¢«æ‰“æ–­ã€‚ v-showæŒ‡ä»¤æ§åˆ¶çš„DOMå…ƒç´ å§‹ç»ˆå­˜åœ¨é¡µé¢ç»“æ„ä¸­ï¼Œæœªè¢«ç§»é™¤ã€‚å½“v-showæŒ‡ä»¤çš„å€¼ä¸ºfalseæ—¶ï¼Œä»…ä»…æ˜¯ä½¿ç”¨æ ·å¼å°†æ§åˆ¶çš„å…ƒç´ éšè—èµ·æ¥ã€‚ ä½¿ç”¨v-ifæ—¶ï¼Œå…ƒç´ å¯èƒ½æ— æ³•è¢«è·å–ï¼ˆå½“v-ifæŒ‡ä»¤çš„å€¼ä¸ºfalseæ—¶ï¼‰ï¼›è€Œä½¿ç”¨v-showæ—¶ï¼Œå…ƒç´ ä¸€å®šå¯ä»¥è¢«è·å–ã€‚ å¾ªç¯æŒ‡ä»¤ Vueæ¨¡æ¿ä¸­å¾ªç¯ä½¿ç”¨çš„æ˜¯v-foræŒ‡ä»¤ã€‚v-foræŒ‡ä»¤çš„è¯­æ³•å¦‚ä¸‹ï¼š\nv-for=\u0026#34;item in items\u0026#34; å…¶ä¸­ï¼Œitemæ˜¯itemsä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸”itemsæ˜¯Vueå®ä¾‹ä¸­çš„å¯¹è±¡ã€‚v-foræŒ‡ä»¤éœ€è¦ä»¥... in ...çš„å½¢å¼å­˜åœ¨ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;ol\u0026gt; \u0026lt;li v-for=\u0026#34;item in items\u0026#34;\u0026gt;{{item}}\u0026lt;/li\u0026gt; \u0026lt;/ol\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { items: [\u0026#39;item1\u0026#39;, \u0026#39;item2\u0026#39;, \u0026#39;item3\u0026#39;], }, }); \u0026lt;/script\u0026gt; v-forå¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°æ¥è·å–valueï¼ˆå€¼ï¼‰ã€keyï¼ˆé”®ï¼‰ã€indexï¼ˆç´¢å¼•ï¼‰ç­‰ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;!-- å½“éå†çš„å…ƒç´ ä¸ºæ•°ç»„ç±»å‹æ—¶ï¼š - ç¬¬1ä¸ªå‚æ•°ä¸ºå…ƒç´ çš„å€¼ value - ç¬¬2ä¸ªå‚æ•°ä¸ºå…ƒç´ çš„ç´¢å¼• index --\u0026gt; \u0026lt;li v-for=\u0026#34;(value, index) in items\u0026#34;\u0026gt; index={{index}}, value={{value}} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;hr\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;!-- å½“éå†çš„å…ƒç´ ä¸ºå¯¹è±¡æ—¶ï¼š - ç¬¬1ä¸ªå‚æ•°ä¸ºå¯¹è±¡å±æ€§çš„å€¼ value - ç¬¬2ä¸ªå‚æ•°ä¸ºå¯¹è±¡å±æ€§çš„é”® key - ç¬¬3ä¸ªå‚æ•°ä¸ºå¯¹è±¡å±æ€§çš„ç´¢å¼• index --\u0026gt; \u0026lt;li v-for=\u0026#34;(value, key, index) in user\u0026#34;\u0026gt; index={{index}}, {{key}}: {{value}} \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { items: [\u0026#39;item1\u0026#39;, \u0026#39;item2\u0026#39;, \u0026#39;item3\u0026#39;], user: { name: \u0026#39;å¼ ä¸‰\u0026#39;, sex: \u0026#39;ç”·\u0026#39;, age: \u0026#39;19\u0026#39;, } }, }); \u0026lt;/script\u0026gt; v-foræŒ‡ä»¤å¯ä»¥å¾ªç¯æ•´æ•°ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li v-for=\u0026#34;i in 10\u0026#34;\u0026gt;{{ i }}\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; key å±æ€§ å¾ªç¯æŒ‡ä»¤è¿˜å¯ä»¥å’Œ:keyä¸€èµ·ä½¿ç”¨ï¼Œå³ä¸ºæ¯ä¸ªå…ƒç´ æŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;li v-for=\u0026#34;(value, index) in list\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; index={{index}}: {{value}} \u0026lt;/li\u0026gt; \u0026lt;li v-for=\u0026#34;(value, key) in object\u0026#34; :key=\u0026#34;key\u0026#34;\u0026gt; index={{key}}: {{value}} \u0026lt;/li\u0026gt; :keyå¯ä»¥æŒ‡å®šä¸ºindexï¼ˆç´¢å¼•ï¼‰ã€keyï¼ˆé”®ï¼‰æˆ–å¯¹è±¡ä¸­å…¶å®ƒå”¯ä¸€æ ‡è¯†çš„å±æ€§ã€‚ä¾‹å¦‚ä¸€ä¸ªuserå¯¹è±¡çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªuserå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†çš„å±æ€§idï¼Œé‚£ä¹ˆå¯ä»¥å°†:keyæŒ‡å®šä¸ºuser.idï¼Œå³\u0026lt;li v-for=\u0026quot;user in users\u0026quot; :key=\u0026quot;user.id\u0026quot;\u0026gt;ã€‚\nå½“ä½¿ç”¨:key=\u0026quot;index\u0026quot;å¹¶ä¸”å¯¹æ•°æ®è¿›è¡Œç ´åé¡ºåºçš„æ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;th\u0026gt;\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;ID\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å§“å\u0026lt;/th\u0026gt; \u0026lt;th\u0026gt;å¹´é¾„\u0026lt;/th\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;!-- é»˜è®¤æ˜¯ä»¥indexä½œä¸ºkeyï¼Œå³ \u0026lt;tr v-for=\u0026#34;preson in presons\u0026#34;\u0026gt; ä¸ä¸‹æ–¹ä»£ç ä½œç”¨ç›¸åŒ --\u0026gt; \u0026lt;tr v-for=\u0026#34;(preson, index) in presons\u0026#34; :key=\u0026#34;index\u0026#34;\u0026gt; \u0026lt;td\u0026gt;\u0026lt;input type=\u0026#34;checkbox\u0026#34;\u0026gt;\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.id}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.name}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.age}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;br\u0026gt;\u0026lt;button @click.once=\u0026#34;add\u0026#34;\u0026gt;æ·»åŠ æ–°å…ƒç´ \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { presons: [ {id: \u0026#39;001\u0026#39;, name: \u0026#39;å¼ ä¸‰\u0026#39;, age: 18}, {id: \u0026#39;002\u0026#39;, name: \u0026#39;æå››\u0026#39;, age: 19}, {id: \u0026#39;003\u0026#39;, name: \u0026#39;ç‹äº”\u0026#39;, age: 17}, ], }, methods: { add() { const preson = {id: \u0026#39;004\u0026#39;, name: \u0026#39;èµµå…­\u0026#39;, age: 25} this.presons.unshift(preson) } } }); \u0026lt;/script\u0026gt; æ‰“å¼€é¡µé¢åï¼Œé€‰æ‹©å½“å‰é¡µé¢ä¸­æ˜¾ç¤ºçš„3ä¸ªå…ƒç´ ï¼ˆidåˆ†åˆ«ä¸º001ã€002å’Œ003ï¼‰å®ƒä»¬çš„é€‰æ‹©æ¡†ï¼š\nç„¶åç‚¹å‡»æŒ‰é’®æ–°å¢å…ƒç´ ï¼š\nä¼šå‘ç°é€‰æ‹©æ¡†çš„ä½ç½®ä¸åŸæœ¬å…ƒç´ çš„ä½ç½®å‘ç”Ÿäº†åç§»ã€‚è¿™æ˜¯å› ä¸ºVueåœ¨æ•°æ®ä¿®æ”¹å®Œæˆä¹‹åä¼šç”Ÿæˆå¯¹åº”çš„è™šæ‹ŸDOMï¼ˆVnodesï¼‰ï¼Œè€Œè™šæ‹ŸDOMå­˜åœ¨äºå†…å­˜ä¹‹ä¸­ã€‚è¦å°†ä¿®æ”¹çš„å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šï¼Œè¿˜éœ€è¦å°†è™šæ‹ŸDOMè½¬æ¢ä¸ºé¡µé¢ä¸­çš„çœŸå®DOMã€‚åœ¨å°†è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMä¹‹å‰ï¼ŒVueä¼šå°†ç¼“å­˜çš„ä¸¤ä¸ªè™šæ‹ŸDOMï¼ˆä¿®æ”¹ä¹‹å‰å’Œä¿®æ”¹ä¹‹åçš„è™šæ‹ŸDOMï¼‰ä½¿ç”¨è™šæ‹ŸDOMå¯¹æ¯”ç®—æ³•è¿›è¡Œå¯¹æ¯”ã€‚åœ¨ä½¿ç”¨v-forç”Ÿæˆçš„è™šæ‹ŸDOMä¸­ï¼Œä½¿ç”¨çš„æ˜¯å…ƒç´ keyå±æ€§ï¼ˆkeyä¸ä¼šä½œç”¨äºçœŸå®DOMä¸Šï¼Œä»…åœ¨è™šæ‹ŸDOMä¸­ç”Ÿæ•ˆï¼‰æ¥æ ‡è¯†è™šæ‹ŸDOMå¯¹è±¡ã€‚å¦‚æœä½¿ç”¨:key=\u0026quot;index\u0026quot;ï¼Œé‚£ä¹ˆåœ¨å¯¹æ•°æ®è¿›è¡Œç ´åé¡ºåºçš„æ“ä½œæ—¶ï¼Œæ•°æ®çš„é¡ºåºè¢«æ‰“ä¹±ï¼Œæ•°æ®çš„ç´¢å¼•å’Œå€¼äºåŸå…ˆæ•°æ®çš„ç´¢å¼•å’Œå€¼å¹¶ä¸ç›¸å¯¹åº”ï¼Œå°±ä¼šå¯¼è‡´è™šæ‹ŸDOMåœ¨å¯¹æ¯”æ—¶ï¼Œè¿›è¡Œé”™è¯¯çš„æ›¿æ¢ã€‚\nè™šæ‹ŸDOMç®—æ³•åœ¨è¿›è¡Œå¯¹æ¯”æ—¶ï¼Œæ˜¯æ ¹æ®è™šæ‹ŸDOMçš„å±æ€§å’Œå€¼è¿›è¡Œå¯¹æ¯”ã€‚ä¿®æ”¹å‰åå±æ€§å’Œå€¼ç›¸åŒçš„è™šæ‹ŸDOMï¼ŒVueä¼šå°†å…¶å¤ç”¨ï¼ˆç›´æ¥ä½¿ç”¨çœŸå®DOMæ¥å¤ç”¨ï¼Œè¿™æ ·æ‰èƒ½ä¿ç•™ç”¨æˆ·å¯¹é¡µé¢çš„æ“ä½œï¼‰ï¼›è€Œä¿®æ”¹å‰åå±æ€§æˆ–å€¼ä¸ç›¸åŒçš„è™šæ‹ŸDOMï¼ŒVueä¼šä½¿ç”¨ä¿®æ”¹åçš„è™šæ‹ŸDOMè¿›è¡Œæ›¿æ¢ï¼Œå¹¶æ ¹æ®è¿™ä¸ªæ–°çš„è™šæ‹ŸDOMç”Ÿæˆå¯¹åº”çš„çœŸå®DOMã€‚ä½†æ˜¯é¡µé¢ä¸­è¢«ç”¨æˆ·ä¿®æ”¹çš„çœŸå®DOMçš„æ“ä½œå¹¶ä¸ä¼šä½œç”¨äºè™šæ‹ŸDOMä¹‹ä¸­ã€‚æ‰€ä»¥ä¸€äº›æ“ä½œæ‰ä¼šå¯¼è‡´é¡µé¢æ˜¾ç¤ºå¼‚å¸¸ã€‚\nè¦ä¿®å¤è¿™ç±»é”™è¯¯ï¼Œéœ€è¦ä¸º:keyæŒ‡å®šå…¶å®ƒå”¯ä¸€æ ‡è¯†ã€‚ä¾‹å¦‚ä½¿ç”¨idä½œä¸ºå”¯ä¸€æ ‡è¯†ï¼š\n\u0026lt;tr v-for=\u0026#34;preson in presons\u0026#34; :key=\u0026#34;preson.id\u0026#34;\u0026gt; æ€»ç»“ï¼š\nè™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š\nkeyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®æ–°æ•°æ®ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM, éšåVueè¿›è¡Œæ–°è™šæ‹ŸDOMä¸æ—§è™šæ‹ŸDOMçš„å·®å¼‚æ¯”è¾ƒã€‚\nå¯¹æ¯”è§„åˆ™ï¼š\næ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š\nè‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡æœ‰å‘ç”Ÿæ”¹å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMã€‚ è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å‘ç”Ÿäº†æ”¹å˜, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚ æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š\nåˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚\nç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š\nè‹¥å¯¹æ•°æ®è¿›è¡Œé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:\nä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–°ï¼Œç•Œé¢æ•ˆæœå¯èƒ½æ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚\nå¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š\nä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–°å¯¼è‡´ç•Œé¢æ˜¾ç¤ºå‡ºç°é—®é¢˜ã€‚\nå¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key:\næœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚ å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ åˆ—è¡¨æœç´¢ä¸æ’åº åˆ—è¡¨æœç´¢ç¤ºä¾‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; placeholder=\u0026#34;æŒ‰åç§°æœç´¢\u0026#34; v-model=\u0026#34;keyWord\u0026#34;\u0026gt;\u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;table\u0026gt; \u0026lt;thead\u0026gt; \u0026lt;tr\u0026gt; \u0026lt;td\u0026gt;ç¼–å·\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å§“å\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;å¹´é¾„\u0026lt;/td\u0026gt;\u0026lt;td\u0026gt;æ€§åˆ«\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/thead\u0026gt; \u0026lt;tbody\u0026gt; \u0026lt;tr v-for=\u0026#34;preson in filPresons\u0026#34; :key=\u0026#34;preson.id\u0026#34;\u0026gt; \u0026lt;td\u0026gt;{{preson.id}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.name}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.age}}\u0026lt;/td\u0026gt; \u0026lt;td\u0026gt;{{preson.sex}}\u0026lt;/td\u0026gt; \u0026lt;/tr\u0026gt; \u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š\nwatchå®ç°ï¼š\nnew Vue({ el: \u0026#34;#app\u0026#34;, data: { presons: [ {id: \u0026#39;001\u0026#39;, name: \u0026#39;é©¬å†¬æ¢…\u0026#39;, age: 18, sex: \u0026#39;å¥³\u0026#39;}, {id: \u0026#39;002\u0026#39;, name: \u0026#39;å‘¨å†¬é›¨\u0026#39;, age: 19, sex: \u0026#39;å¥³\u0026#39;}, {id: \u0026#39;003\u0026#39;, name: \u0026#39;å‘¨æ°ä¼¦\u0026#39;, age: 17, sex: \u0026#39;ç”·\u0026#39;}, {id: \u0026#39;004\u0026#39;, name: \u0026#39;æ¸©å…†ä¼¦\u0026#39;, age: 21, sex: \u0026#39;ç”·\u0026#39;}, ], keyWord: \u0026#39;\u0026#39;, filPresons: [] }, watch: { keyWord: { immediate: true, handler(val) { this.filPresons = this.presons.filter((preson) =\u0026gt; { return preson.name.indexOf(val) !== -1 }) } }, }, }); computedå®ç°ï¼ˆæ›´ç®€æ´ï¼‰ï¼š\nnew Vue({ el: \u0026#34;#app\u0026#34;, data: { presons: [ {id: \u0026#39;001\u0026#39;, name: \u0026#39;é©¬å†¬æ¢…\u0026#39;, age: 18, sex: \u0026#39;å¥³\u0026#39;}, {id: \u0026#39;002\u0026#39;, name: \u0026#39;å‘¨å†¬é›¨\u0026#39;, age: 19, sex: \u0026#39;å¥³\u0026#39;}, {id: \u0026#39;003\u0026#39;, name: \u0026#39;å‘¨æ°ä¼¦\u0026#39;, age: 17, sex: \u0026#39;ç”·\u0026#39;}, {id: \u0026#39;004\u0026#39;, name: \u0026#39;æ¸©å…†ä¼¦\u0026#39;, age: 21, sex: \u0026#39;ç”·\u0026#39;}, ], keyWord: \u0026#39;\u0026#39;, }, computed: { filPresons() { return this.presons.filter((preson) =\u0026gt; { return preson.name.indexOf(this.keyWord) !== -1 }) } }, }); å®ç°æ’åºåŠŸèƒ½ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; placeholder=\u0026#34;æŒ‰åç§°æœç´¢\u0026#34; v-model=\u0026#34;keyWord\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;sortType = 2\u0026#34;\u0026gt;å¹´é¾„å‡åº\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;sortType = 1\u0026#34;\u0026gt;å¹´é¾„é™åº\u0026lt;/button\u0026gt; \u0026lt;button @click=\u0026#34;sortType = 0\u0026#34;\u0026gt;åŸé¡ºåº\u0026lt;/button\u0026gt; \u0026lt;br\u0026gt;\u0026lt;br\u0026gt; \u0026lt;table\u0026gt;\u0026lt;!-- ... --\u0026gt;\u0026lt;/table\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { presons: [ /* ... */ ], keyWord: \u0026#39;\u0026#39;, sortType: 0, // 0-åŸé¡ºåº 1-é™åº 2-å‡åº }, computed: { filPresons() { let presons = this.presons.filter((preson) =\u0026gt; { return preson.name.indexOf(this.keyWord) !== -1 }) // åˆ¤æ–­æ˜¯å¦éœ€è¦æ’åº if (this.sortType) { presons.sort((p1, p2) =\u0026gt; { return this.sortType === 1 ? p2.age-p1.age : p1.age - p2.age }) } return presons } }, }); \u0026lt;/script\u0026gt; ï¼ˆâ€œè¿‡æ»¤å’Œæ’åºä¸åˆ†å®¶â€ï¼‰åœ¨å®ç°è¿‡æ»¤å’Œæ’åºåŠŸèƒ½æ—¶ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯å°†è¿‡æ»¤åŠŸèƒ½å’Œæ’åºåŠŸèƒ½ä½¿ç”¨åŒä¸€ä¸ªå‡½æ•°æ¥å°è£…ï¼ˆè°ƒç”¨ï¼‰ã€‚\näº‹ä»¶å¤„ç†å™¨ äº‹ä»¶æ˜¯æŒ‡ç½‘é¡µä¸­ç”¨æˆ·åœ¨äº¤äº’è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€äº›è¡Œä¸ºï¼Œä¾‹å¦‚ç‚¹å‡»ã€æ‹–æ‹½ã€æ»šåŠ¨ç­‰ç­‰ã€‚äº‹ä»¶å¤„ç†å™¨å°±æ˜¯å¯¹ç”¨æˆ·ä¸ç½‘é¡µäº¤äº’è¿‡ç¨‹ä¸­äº§ç”Ÿçš„äº‹ä»¶è¿›è¡Œç›¸åº”å¤„ç†ï¼Œä¾‹å¦‚ç‚¹å‡»æŒ‰é’®åè¿›è¡Œæäº¤ã€æ•°æ®å±•ç¤ºç­‰ç­‰ã€‚Vueä¸­ï¼Œäº‹ä»¶ç›‘å¬å¯ä»¥ä½¿ç”¨v-onæŒ‡ä»¤ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nv-on:event=\u0026#34;expression\u0026#34; eventï¼šæŒ‡HTMLä¸­çš„äº‹ä»¶å±æ€§ã€‚ expressionï¼šå½“äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œæ‰€æ‰§è¡Œçš„è¯­å¥ï¼Œé€šå¸¸ä½¿ç”¨çš„æ˜¯Vueå®ä¾‹ä¸­çš„å‡½æ•°ï¼ˆåœ¨Vueé…ç½®ä¸­çš„methodsä¸­å®šä¹‰ï¼‰ã€‚ åœ¨v-onæŒ‡ä»¤ä¸­è°ƒç”¨JSè¡¨è¾¾å¼ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button v-on:click=\u0026#34;counter += 1\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; \u0026lt;p\u0026gt;This button was clicked {{ counter }} time.\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { counter: 0, }, }); \u0026lt;/script\u0026gt; åœ¨v-onæŒ‡ä»¤ä¸­è°ƒç”¨JSå‡½æ•°ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- å‡½æ•°ä¸­çš„å‚æ•°ä¹Ÿæ˜¯æ¥è‡ªVueå®ä¾‹ --\u0026gt; \u0026lt;button @click=\u0026#34;hello(msg)\u0026#34;\u0026gt;Hello\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;Hello Vue.js!\u0026#39;, }, methods: { hello(msg) { alert(msg) }, } }); \u0026lt;/script\u0026gt; methodsåœ¨ä¸­å®šä¹‰çš„å‡½æ•°ä¼šç›´æ¥èµ‹ç»™Vueå®ä¾‹ï¼Œè€Œdataä¸­çš„å¯¹è±¡ä¸ä»…ä¼šèµ‹ç»™Vueå®ä¾‹ï¼Œè¿˜ä¼šå°†dataä¸­çš„å¯¹è±¡äº¤ç”±Vueå®ä¾‹æ¥ä»£ç†ã€‚\nåœ¨å®šä¹‰äº‹ä»¶å¤„ç†å™¨æ—¶ï¼Œé€šå¸¸æ˜¯æŒ‡å®šä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°æ¥å¤„ç†ï¼ˆå³æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°çš„å‡½æ•°åï¼‰ã€‚å½“è§¦å‘äº‹ä»¶æ—¶ï¼ŒVueä¼šè°ƒç”¨è¯¥å‡½æ•°ï¼Œå¹¶ä¸”å°†å½“å‰äº‹ä»¶å¯¹è±¡eventä½œä¸ºå‚æ•°1ä¼ é€’ç»™å½“å‰æŒ‡å®šçš„å‡½æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- å½“äº‹ä»¶å¤„ç†å‡½æ•°æ²¡æœ‰ä½¿ç”¨ \u0026#34;()\u0026#34; æ—¶ï¼Œä¼šå°†å½“å‰äº‹ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•° --\u0026gt; \u0026lt;button v-on:click=\u0026#34;clicked\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; \u0026lt;p v-show=\u0026#34;isShowed\u0026#34;\u0026gt;{{msg}}\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;\u0026#39;, isShowed: false, }, methods: { // äº‹ä»¶å¤„ç†å‡½æ•°å¯ä»¥æ¥æ”¶å½“å‰çš„äº‹ä»¶å¯¹è±¡ event clicked(event) { this.isShowed = true let msg = \u0026#39;Hello Vue.js! \u0026#39; if (event) { // event.target æ˜¯è§¦å‘äº‹ä»¶çš„äº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼Œå³å½“å‰è§¦å‘äº‹ä»¶çš„å…ƒç´ å¯¹è±¡ msg += \u0026#39;Current Event: \u0026#39; + event.target.tagName } this.msg = msg }, }, }); \u0026lt;/script\u0026gt; Vueç¤ºä¾‹ä¸­çš„æ–¹æ³•ï¼Œæœ€å¥½éƒ½ä½¿ç”¨function(...) {...}æ¥å®šä¹‰ã€‚å› ä¸ºä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼ˆç®­å¤´å‡½æ•°(...) =\u0026gt; {...}ï¼‰æ¥å®šä¹‰çš„è¯ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘çš„å¹¶ä¸æ˜¯Vueå®ä¾‹å¯¹è±¡ã€‚åœ¨methodsä¸­ä½¿ç”¨function(...) {...}å®šä¹‰çš„å‡½æ•°ï¼Œå®ƒä»¬çš„thisæŒ‡å‘çš„æ—¶å½“å‰Vueå®ä¾‹å¯¹è±¡æˆ–å¯¹åº”çš„ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚\nå¦‚æœåœ¨è°ƒç”¨JSå‡½æ•°çš„åŒæ—¶åˆè¦æ¥æ”¶eventå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨Vueè‡ªå¸¦çš„$eventå…³é”®è¯è¡¨ç¤ºè¦åœ¨æ­¤å¤„ä¼ å…¥eventå¯¹è±¡ã€‚$eventä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;button v-on:click=\u0026#34;hello($event, msg)\u0026#34;\u0026gt;Hello\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;Hello Vue.js!\u0026#39;, }, methods: { hello(msg) { console.log(event.target.tagName) alert(msg) }, } }); \u0026lt;/script\u0026gt; äº‹ä»¶å¤„ç†å™¨é™¤äº†ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨å†…è”JSè¯­å¥ã€‚å¦‚æ¡ä»¶æŒ‡ä»¤ä¸­æ‰€ç¤ºã€‚\nVueä¸ºv-onæŒ‡ä»¤æä¾›äº†ç®€å†™å½¢å¼ï¼Œå¯ä»¥å°†v-on:ç®€å†™ä¸º@ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;button @click=\u0026#34;clicked\u0026#34;\u0026gt;Click\u0026lt;/button\u0026gt; æœ‰å…³Htmläº‹ä»¶å¯å‚è€ƒï¼šHTML äº‹ä»¶å‚è€ƒæ‰‹å†Œã€‚\näº‹ä»¶ä¿®é¥°ç¬¦ Vue.jsä¸ºv-onæä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦æ¥å¤„ç†DOMäº‹ä»¶ç»†èŠ‚ï¼Œé€šè¿‡ç”±.è¡¨ç¤ºçš„æŒ‡ä»¤åç¼€æ¥è°ƒç”¨ä¿®é¥°ç¬¦ã€‚äº‹ä»¶ä¿®é¥°ç¬¦å¸¸ç”¨çš„æœ‰ï¼š\n.stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ã€‚å¯¹åº”event.preventDefault()ã€‚\n.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚å¯¹åº”event.stopPropagation()ã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --\u0026gt; \u0026lt;form v-on:submit.prevent=\u0026#34;onSubmit\u0026#34;\u0026gt;\u0026lt;/form\u0026gt; \u0026lt;!-- é˜»æ­¢é“¾æ¥è·³è½¬ --\u0026gt; \u0026lt;a href=\u0026#34;https://www.linner.asia\u0026#34; @click.prevent\u0026gt; .captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ã€‚\n.selfï¼šåªç›‘å¬è§¦å‘è¯¥å…ƒç´ çš„äº‹ä»¶ã€‚\nåªå½“äº‹ä»¶åœ¨è¯¥å…ƒç´ æœ¬èº«ï¼ˆè€Œä¸æ˜¯å­å…ƒç´ ï¼‰è§¦å‘æ—¶è§¦å‘å›è°ƒã€‚å³event.targetæ˜¯å½“å‰è§¦å‘äº‹ä»¶çš„å…ƒç´ æ—¶æ‰è§¦å‘å›è°ƒã€‚\n.onceï¼šæŒ‡å®šçš„äº‹ä»¶åªèƒ½è¢«è§¦å‘ä¸€æ¬¡ã€‚2.1.4ç‰ˆæœ¬æ–°å¢ã€‚\n.leftï¼šå·¦é”®äº‹ä»¶ã€‚\n.rightï¼šå³é”®äº‹ä»¶ã€‚\n.middleï¼šä¸­é—´æ»šè½®äº‹ä»¶ã€‚\npassiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹ä»¶è§¦å‘åï¼Œä¼šå…ˆæ‰§è¡Œå®Œå›è°ƒï¼Œç„¶åå†æ‰§è¡Œäº‹ä»¶é»˜è®¤è¡Œä¸ºã€‚\nå…¶ä¸­ï¼š\näº‹ä»¶å†’æ³¡ï¼šå½“äº‹ä»¶è¢«è§¦å‘æ—¶ï¼ŒåŒæ ·çš„äº‹ä»¶å°†ä¼šåœ¨è§¦å‘äº‹ä»¶çš„å…ƒç´ çš„æ‰€æœ‰ç¥–å…ˆå…ƒç´ ä¸­è¢«è§¦å‘ã€‚\näº‹ä»¶å†’æ³¡ä»£ç æ¼”ç¤ºå¦‚ä¸‹ï¼š\n\u0026lt;head\u0026gt; \u0026lt;script src=\u0026#34;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; * { margin: 0; padding: 0; } .box { width: 120px; height: 120px; background-color: gray; position: relative; display: inline-block; } .btn { position: absolute; left: calc(50% - 25px); top: calc(50% - 15px); width: 50px; height: 30px; } .box p { text-align: center; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34;\u0026gt; \u0026lt;p\u0026gt;äº‹ä»¶å†’æ³¡\u0026lt;/p\u0026gt; \u0026lt;!-- å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œç‚¹å‡»äº‹ä»¶ä¼šä»buttonå…ƒç´ å¼€å§‹ï¼Œé€å±‚å¾€ä¸Šä¼ é€’ï¼Œä¼ é€’é“¾å¦‚ä¸‹æ‰€ç¤ºï¼š button â€”â€” div â€”â€” body â€”â€” html --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34;\u0026gt;æŒ‰é’®\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34;\u0026gt; \u0026lt;p\u0026gt;é˜»æ­¢äº‹ä»¶å†’æ³¡\u0026lt;/p\u0026gt; \u0026lt;!-- .stop ä¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34; v-on:click.stop\u0026gt;æŒ‰é’®\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, }); $(\u0026#39;.btn\u0026#39;).click(() =\u0026gt; { console.log(\u0026#39;The button was clicked...\u0026#39;) }); $(\u0026#39;.box\u0026#39;).click(() =\u0026gt; { console.log(\u0026#39;The box was clicked...\u0026#39;) }); $(\u0026#39;#app\u0026#39;).click(() =\u0026gt; { console.log(\u0026#39;The box of root was clicked...\u0026#39;); }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; äº‹ä»¶æ•è·ï¼šå…ƒç´ çš„äº‹ä»¶è§¦å‘åˆ†ä¸ºæ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µã€‚äº‹ä»¶è§¦å‘æ—¶å…ˆè¿›è¡Œäº‹ä»¶æ•è·ç„¶åå†è¿›è¡Œäº‹ä»¶å†’æ³¡ã€‚\næ•è·é˜¶æ®µäº‹ä»¶çš„ä¼ é€’é¡ºåºä¸å†’æ³¡é˜¶æ®µç›¸åã€‚\né€šå¸¸æƒ…å†µä¸‹äº‹ä»¶æ˜¯åœ¨å†’æ³¡é˜¶æ®µä¸­è¿›è¡Œå¤„ç†ã€‚\nå¤šä¸ªä¿®é¥°ç¬¦å¯ä»¥ä¸²è”ä½¿ç”¨ã€‚\nä½¿ç”¨ä¿®é¥°ç¬¦æ—¶å¯ä»¥ä¸æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°ã€‚\næŒ‰é”®ä¿®é¥°ç¬¦ Vueå…è®¸ä¸ºv-onåœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;!-- åªæœ‰åœ¨ keyCode æ˜¯ 13 æ—¶è°ƒç”¨ vm.submit() --\u0026gt; \u0026lt;input v-on:keyup.13=\u0026#34;submit\u0026#34;\u0026gt; Vueä¸ºæœ€å¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åï¼ˆæ¨èä½¿ç”¨ï¼‰ï¼Œä¾‹å¦‚ï¼š\n\u0026lt;!-- åŒä¸Š --\u0026gt; \u0026lt;input v-on:keyup.enter=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;!-- ç¼©å†™è¯­æ³• --\u0026gt; \u0026lt;input @keyup.enter=\u0026#34;submit\u0026#34;\u0026gt; å¸¸ç”¨çš„æŒ‰é”®åˆ«åæœ‰ï¼š\n.enter .delete ï¼ˆæ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®ï¼‰ .esc .space .up .down .left .right .caps-lock .xï¼ˆä¾‹å¦‚0-9ã€a-zè¿™äº›é”®ç›˜æŒ‰é”®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨.åŠ ä¸Šè¯¥æŒ‰é”®çš„åç§°æ¥ä½¿ç”¨ï¼‰ ä»¥ä¸‹æŒ‰é”®ä¿®é¥°ç¬¦åœ¨å•ç‹¬ä½¿ç”¨æ—¶ï¼Œå¿…é¡»é…åˆkeydownäº‹ä»¶æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼š .tab .ctrl .metaï¼ˆå¦‚Winé”®ã€Commandé”®ï¼‰ .shift .alt å¤šä¸ªæŒ‰é”®ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥è¿ç”¨ã€‚\næŒ‰é”®ä¿®é¥°ç¬¦å¯ä»¥åµŒå¥—ä½¿ç”¨ç³»ç»Ÿä¿®é¥°é”®ï¼ˆå¦‚ctrlã€metaã€shiftã€altç­‰ï¼‰çš„ç”¨æ³•ï¼š\né…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶å®ƒéä¿®é¥°æŒ‰é”®ï¼Œéšåé‡Šæ”¾å…¶å®ƒéä¿®é¥°æŒ‰é”®åï¼Œäº‹ä»¶æ‰èƒ½è¢«è§¦å‘ã€‚ é…åˆkeydownä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®åç«‹å³è§¦å‘ã€‚ Vueæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çš„æŒ‰é”®åˆ«åã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; @keyup.huiche=\u0026#34;keyUp\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // å®šä¹‰æŒ‰é”®åˆ«å Vue.config.keyCodes.huiche = 13 new Vue({ el: \u0026#34;#app\u0026#34;, methods: { keyUp(event) { console.log(\u0026#39;Content: \u0026#39; + event.target.value); console.log(\u0026#39;Type: \u0026#39; + event.key); } } }); \u0026lt;/script\u0026gt; å¸¸ç”¨æŒ‡ä»¤æ±‡æ€» Vueä¸­å¸¸ç”¨çš„æŒ‡ä»¤æœ‰ï¼š\næŒ‡ä»¤ è¯´æ˜ v-bind å•å‘æ•°æ®ç»‘å®šã€‚è¯­æ³•ä¸ºv-bind:attrï¼Œå¯ç®€å†™ä¸º:attrã€‚ v-model åŒå‘æ•°æ®ç»‘å®šã€‚è¯­æ³•ä¸ºv-model:valueï¼Œå¯ç®€å†™ä¸ºv-modelã€‚ v-for å¾ªç¯æŒ‡ä»¤ã€‚å¯ç”¨äºéå†æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ç­‰ã€‚ v-on ç»‘å®šäº‹ä»¶å¤„ç†å™¨ã€‚è¯­æ³•ä¸ºv-on:eventï¼Œå¯ç®€å†™ä¸º@eventã€‚ v-if æ¡ä»¶æ¸²æŸ“ï¼Œå¯åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚ v-else-if æ¡ä»¶æ¸²æŸ“ï¼Œå¯åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚åœ¨ä½¿ç”¨äº†v-ifæˆ–v-else-ifæŒ‡ä»¤çš„å…ƒç´ çš„åç»­å…ƒç´ ä¸­ä½¿ç”¨ã€‚ v-else æ¡ä»¶æ¸²æŸ“ï¼Œå¯åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚åœ¨ä½¿ç”¨äº†v-ifæˆ–v-else-ifæŒ‡ä»¤çš„å…ƒç´ çš„åç»­å…ƒç´ ä¸­ä½¿ç”¨ã€‚ v-show æ¡ä»¶æ¸²æŸ“ï¼Œå¯åŠ¨æ€æ§åˆ¶èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚ä¸v-ifã€v-else-ifå’Œv-elseç³»åˆ—æŒ‡ä»¤ä¸åŒçš„æ˜¯ï¼Œv-showä»…æ”¯æŒå•åˆ†æ”¯æ¡ä»¶åˆ¤æ–­ã€‚ å…¶å®ƒå†…ç½®æŒ‡ä»¤ è¾“å‡º HTML ä½¿ç”¨v-htmlï¼Œå¯ä»¥å°†HTMLä»£ç æ’å…¥åˆ°æ ‡ç­¾ä¸­ã€‚v-htmlçš„ç”¨æ³•å¦‚ä¸‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div v-html=\u0026#34;title\u0026#34;\u0026gt;Hello World!\u0026lt;!-- åŸæœ¬çš„æ ‡ç­¾å†…å®¹ä¼šè¢« v-html æ‰€è¦†ç›– --\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { title: \u0026#39;\u0026lt;h2\u0026gt;Hello Vue.js!\u0026lt;/h2\u0026gt;\u0026#39;, } }) \u0026lt;/script\u0026gt; v-htmlå­˜åœ¨å®‰å…¨æ€§é—®é¢˜ã€‚åœ¨ä½¿ç”¨v-htmlæ’å…¥Htmlä»£ç æ—¶ï¼Œæœ‰å¯èƒ½ä¼šè¢«å…¶å®ƒåˆ«æœ‰ç”¨å¿ƒçš„äººåˆ©ç”¨ï¼Œåœ¨é¡µé¢ä¸­æ’å…¥ä¸€äº›ä¸å®‰å…¨çš„ä»£ç ã€‚ä¾‹å¦‚é€šè¿‡v-htmlè·å–ä»–äººæµè§ˆå™¨çš„Cookieï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;span v-html=\u0026#34;link\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { // baidu.com å¯ä»¥æ›¿æ¢æˆå…¶å®ƒéæ³•è·å–åˆ«äººæµè§ˆå™¨ cookie çš„æœåŠ¡å™¨ link: \u0026#39;\u0026lt;a href=javascript:location.href=\u0026#34;http://baidu.com?\u0026#34;+document.cookie\u0026gt;è·³è½¬é“¾æ¥\u0026lt;/a\u0026gt;\u0026#39; } }); \u0026lt;/script\u0026gt; ç‚¹å‡»é“¾æ¥åï¼Œæµè§ˆå™¨åœ¨å½“å‰æœåŠ¡å™¨ä¸­å­˜å‚¨çš„Cookieï¼ˆæ²¡æœ‰è¢«HttpOnlyå­—æ®µé™åˆ¶çš„Cookieï¼‰ä¼šè¢«æ¯«æ— ä¿ç•™åœ°ä¼ é€’åˆ°baidu.comè¿™ä¸ªæœåŠ¡å™¨ä¸­ã€‚\næ³¨ï¼š\nåœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„Htmlæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹å™¨å¯¼è‡´XSSæ”»å‡»ã€‚ ä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œæ°¸è¿œä¸è¦åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šä½¿ç”¨ã€‚ è¾“å‡ºæ–‡æœ¬ ä½¿ç”¨v-textï¼Œå¯ä»¥å°†æ–‡æœ¬æ’å…¥åˆ°æ ‡ç­¾ä¸­ã€‚å…¶ç”¨æ³•å¦‚ä¸‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2 v-text=\u0026#34;msg\u0026#34;\u0026gt;\u0026lt;!-- åŸæœ¬çš„æ ‡ç­¾å†…å®¹ä¼šè¢« v-text æ‰€è¦†ç›– --\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;Hello Vue.js!\u0026#39;, }, }); \u0026lt;/script\u0026gt; v-textä¸v-htmlä¸åŒçš„æ˜¯ï¼Œv-textä¸èƒ½æ’å…¥Htmlå†…å®¹ã€‚\nv-clock v-clockå¯ä»¥æœ‰æ•ˆé˜²æ­¢å½“ç½‘ç»œå­˜åœ¨é—®é¢˜æ—¶ï¼Œæµè§ˆå™¨ç›´æ¥å°†æœªè§£æçš„Vueæ¨¡æ¿å±•ç¤ºç»™ç”¨æˆ·ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;head\u0026gt; \u0026lt;style\u0026gt; [v-clock] { display: none; } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2 v-clock\u0026gt;{{msg}}\u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { msg: \u0026#39;Hello Vue.js!\u0026#39;, }, }); \u0026lt;/script\u0026gt; v-clockçš„åŸç†æ˜¯ï¼šé€šè¿‡CSSå±æ€§é€‰æ‹©å™¨ï¼Œå°†å¸¦æœ‰v-clockå±æ€§çš„å…ƒç´ è®¾ç½®ä¸ºdisplay: noneï¼Œæ‰€ä»¥ä¸€å¼€å§‹é¡µé¢ä¸­è®¾ç½®äº†v-clockå±æ€§çš„å…ƒç´ å¹¶ä¸ä¼šå±•ç¤ºåœ¨é¡µé¢ä¸­ã€‚è€ŒVueå®ä¾‹åœ¨æ¥ç®¡Vueæ¨¡æ¿çš„ä¸€ç¬é—´ï¼Œä¼šå°†æ¨¡æ¿ä¸­æ‰€æœ‰å…ƒç´ çš„v-clockå±æ€§ç»™ç§»é™¤ã€‚å½“ç½‘é€Ÿè¿‡æ…¢æ—¶ï¼Œæµè§ˆå™¨ä¸ä¼šç›´æ¥å°†Vueæ¨¡æ¿çš„æ‰€æœ‰å†…å®¹å±•ç¤ºç»™ç”¨æˆ·ï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨æˆåŠŸè¯·æ±‚åˆ°Vueä¹‹åï¼ŒVueå®ä¾‹å°†v-clockå±æ€§ç»™ç§»é™¤ï¼Œé¡µé¢æ‰æ­£å¸¸å±•ç¤ºã€‚\nv-clockæŒ‡ä»¤å¹¶æ²¡æœ‰å€¼ï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼š\nVueå®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ é™¤æ¨¡æ¿ä¸­æ‰€æœ‰å…ƒç´ çš„v-clockå±æ€§ã€‚ v-clocké…åˆCSSå±æ€§é€‰æ‹©å™¨ä½¿ç”¨å¯ä»¥è§£å†³ç½‘é€Ÿè¿‡æ…¢æ—¶é¡µé¢ç›´æ¥å±•ç¤ºå‡ºæœªç»å¤„ç†çš„Vueæ¨¡æ¿é—®é¢˜ã€‚ v-once v-onceç”¨äºè®©é¡µé¢ä¸­çš„Vueæ•°æ®å§‹ç»ˆæ˜¾ç¤ºä¸ºåˆå§‹æ•°æ®ã€‚v-onceåŒæ ·æ˜¯æ²¡æœ‰å€¼çš„ç‰¹æ®Šå±æ€§ã€‚\nv-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹ã€‚ åç»­æ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚ ç¤ºä¾‹ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2 v-once\u0026gt;Original Number: {{num}}\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;Current Number: {{num}}\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;num++\u0026#34;\u0026gt;Number+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { num: 1, }, }); \u0026lt;/script\u0026gt; v-pre v-preæŒ‡ä»¤ï¼š\nv-preå¯ä»¥è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚ å¯åˆ©ç”¨v-preè·³è¿‡æ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œå¯ä»¥åŠ å¿«é¡µé¢çš„ç¼–è¯‘ã€‚ v-preæ²¡æœ‰å€¼ï¼Œç›´æ¥åœ¨Htmlå…ƒç´ ä¸­æŒ‡å®šå³å¯ã€‚ è‡ªå®šä¹‰æŒ‡ä»¤ ä»æŒ‡ä»¤çš„ä½œç”¨åŸŸæ¥çœ‹ï¼ŒVueä¸­æœ‰ä¸¤ç§æŒ‡ä»¤ï¼š\nå…¨å±€æŒ‡ä»¤ï¼šå¯ä»¥åœ¨æ‰€æœ‰Vueå®ä¾‹ä¸­ä½¿ç”¨çš„æŒ‡ä»¤ã€‚\nå…¨å±€æŒ‡ä»¤å¯ä»¥åˆ†æˆä»¥ä¸‹ä¸¤ç§ï¼š\nVueå†…ç½®æŒ‡ä»¤ã€‚ ç”¨æˆ·è‡ªå®šä¹‰å…¨å±€æŒ‡ä»¤ã€‚ å±€éƒ¨æŒ‡ä»¤ï¼ˆç”¨æˆ·è‡ªå®šä¹‰å±€éƒ¨æŒ‡ä»¤ï¼‰ï¼šä»…èƒ½åœ¨å½“å‰Vueå®ä¾‹ä¸­ä½¿ç”¨çš„æŒ‡ä»¤ã€‚\nå±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤ Vue.js è‡ªå®šä¹‰æŒ‡ä»¤å¯ä»¥é€šè¿‡åœ¨Vueå®ä¾‹ä¸­é…ç½®directivesæ¥å®šä¹‰å±€éƒ¨æŒ‡ä»¤ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;Current Number: \u0026lt;span v-text=\u0026#34;num\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;10 Times Number: \u0026lt;span v-big=\u0026#34;num\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; v-fbind:value=\u0026#34;num\u0026#34;\u0026gt; \u0026lt;button @click=\u0026#34;num++\u0026#34;\u0026gt;Number+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { num: 66, }, directives: { // æ·»åŠ  v-big æŒ‡ä»¤ï¼ˆç®€å†™å½¢å¼ï¼‰ big(element, binding) { console.log(\u0026#39;The v-big was executed.\u0026#39;); // console.log(element); // console.log(binding); element.innerText = binding.value * 10 }, // é…ç½®å¯¹è±¡å†™æ³• fbind: { // ç»‘å®šæˆåŠŸæ—¶èµ‹ä¸Š value å€¼ bind(element, binding) { // console.log(\u0026#39;v-fbind bound.\u0026#39;); element.value = binding.value }, // æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ inserted(element, binding) { // console.log(\u0026#39;v-fbind inserted.\u0026#39;); element.focus() }, // æ›´æ–°æ—¶ç»™ value èµ‹å€¼å¹¶è·å–ç„¦ç‚¹ update(element, binding) { // console.log(\u0026#39;v-fbind updated.\u0026#39;); element.value = binding.value element.focus() }, }, } }); \u0026lt;/script\u0026gt; Vueä¸­æ¯æ¡æŒ‡ä»¤éƒ½å¿…é¡»ä»¥v-ä½œä¸ºå‰ç¼€ï¼ˆå¦‚ä¸Šv-bigå’Œv-fbindï¼‰ã€‚ä½†æ˜¯åœ¨directivesä¸­å®šä¹‰æŒ‡ä»¤æ—¶ï¼Œä¸èƒ½åŠ å…¥v-å‰ç¼€ï¼ˆå¦‚ä¸Šv-bigæŒ‡ä»¤åœ¨directivesä¸­çš„å®šä¹‰æ˜¯bigï¼Œv-fbindæŒ‡ä»¤åœ¨directivesä¸­çš„å®šä¹‰æ˜¯fbindï¼‰ã€‚\næŒ‡ä»¤é…ç½®çš„å†™æ³• æŒ‡ä»¤çš„é…ç½®æœ‰ä¸¤ç§å†™æ³•ï¼š\né…ç½®å¯¹è±¡å†™æ³•ï¼š\ncommand: { // æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆé¡µé¢åˆå§‹åŒ–æ—¶ï¼‰è°ƒç”¨ bind(element, binding) { /* ... */ }, // æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ inserted(element, binding) { /* ... */ }, // æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ update(element, binding) { /* ... */ } } å‡½æ•°å¼å†™æ³•ï¼ˆç®€å†™å½¢å¼ï¼‰ï¼š\ncommand(element, binding) { /* ... */ } æŒ‡ä»¤å‡½æ•°è¢«è°ƒç”¨çš„æ—¶æœºï¼š\næŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆåˆå§‹åŒ–æ—¶ï¼‰ã€‚ç›¸å½“äºbind()çš„è°ƒç”¨æ—¶æœºã€‚ æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶ã€‚ç›¸å½“äºupdate()çš„è°ƒç”¨æ—¶æœºã€‚ ä¸Šä¾‹ä¸­çš„v-fbindå¿…é¡»ä½¿ç”¨é…ç½®å¯¹è±¡å†™æ³•çš„åŸå› ï¼š\nfbind(element, binding) { element.value = binding.value // ä»£ç æ­£ç¡®ä½†æ‰§è¡Œæ—¶æœºï¼ˆæŒ‡ä»¤ä¸å…ƒç´ ç»‘å®šæ—¶å¹¶ä¸ä¼šæ”¾å…¥é¡µé¢ï¼‰æœ‰è¯¯ element.focus() // ä¸èƒ½åœ¨æ­¤è°ƒç”¨ } v-fbindä½¿ç”¨å‡½æ•°å¼å†™æ³•æ—¶ï¼Œä¸Šæ–¹ä»£ç åªèƒ½åœ¨bindå’Œupdateæ—¶æœºè°ƒç”¨ï¼Œè€Œelement.focus()å¿…é¡»åœ¨document.body.appendChild()æ“ä½œï¼ˆæ’å…¥åˆ°é¡µé¢ä¸­ï¼‰ä¹‹åæ‰èƒ½è°ƒç”¨ã€‚æ¼”ç¤ºä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;button id=\u0026#34;btn\u0026#34;\u0026gt;åˆ›å»ºè¾“å…¥æ¡†\u0026lt;/button\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const btn = document.getElementById(\u0026#39;btn\u0026#39;) btn.onclick = () =\u0026gt; { const input = document.createElement(\u0026#39;input\u0026#39;) input.className = \u0026#39;demo\u0026#39; input.value = 99 /* å¯ä»¥åœ¨ append ä¹‹å‰ä½¿ç”¨çš„æ“ä½œ... */ document.body.appendChild(input) input.focus() input.parentElement.style.backgroundColor = \u0026#39;skyblue\u0026#39; /* å¿…é¡»åœ¨ append ä¹‹åä½¿ç”¨çš„æ“ä½œ... */ }; \u0026lt;/script\u0026gt; VueæŒ‡ä»¤çš„bindä»…ä»…åªæ˜¯å°†æŒ‡ä»¤å’Œè™šæ‹ŸDOMè¿›è¡Œç»‘å®šï¼Œè€Œè™šæ‹ŸDOMæ’å…¥åˆ°é¡µé¢ä¸­æ˜¯åœ¨insertedä¹‹åã€‚æ‰€ä»¥å¯¹v-fbindä½¿ç”¨ç®€å†™å½¢å¼æ¥å®šä¹‰ï¼Œä¼šå¯¼è‡´åœ¨åˆæ¬¡è¿›å…¥é¡µé¢ä¹‹æ—¶æ²¡æœ‰è·å–è¾“å…¥æ¡†çš„ç„¦ç‚¹ã€‚\næŒ‡ä»¤å‘½åæ–¹å¼ ç”±äºHtmlå¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼ˆå¤§å†™å’Œå°å†™ç­‰ä»·ï¼‰ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨VueæŒ‡ä»¤æ—¶ä¸ç¼–å†™Htmlä¸€æ ·ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨å°å†™ï¼ˆå®é™…ä¸Šï¼ŒVueè·å–åˆ°çš„æŒ‡ä»¤åç§°ä¹Ÿæ˜¯å°å†™å½¢å¼ï¼‰ã€‚æ‰€ä»¥é‡åˆ°æŒ‡ä»¤åç§°éœ€è¦ç”¨å¤šä¸ªå•è¯æ¥è¡¨ç¤ºæ—¶ï¼ŒcamelCaseï¼ˆé©¼å³°å¼å‘½åè§„åˆ™ï¼‰æ˜¾ç„¶ä¸é€‚ç”¨ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨kebab-caseï¼ˆçƒ¤è‚‰ä¸²å¼å‘½åè§„åˆ™ï¼Œä½¿ç”¨-å¯¹åç§°è¿›è¡Œåˆ†éš”ï¼‰ã€‚\nä¾‹å¦‚ï¼Œå°†v-bigæŒ‡ä»¤æ”¹ä¸ºv-times-tenï¼š\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;Current Number: \u0026lt;span v-text=\u0026#34;num\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;h2\u0026gt;10 Times Number: \u0026lt;span v-times-ten=\u0026#34;num\u0026#34;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;button @click=\u0026#34;num++\u0026#34;\u0026gt;Number+1\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, data: { num: 66, }, directives: { \u0026#39;times-ten\u0026#39;(element, binding) { console.log(\u0026#39;The v-big was executed.\u0026#39;); element.innerText = binding.value * 10 }, } }); \u0026lt;/script\u0026gt; å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯æŒ‡åœ¨VueåŸå‹å¯¹è±¡ä¸­ï¼Œä½¿ç”¨Vue.directive()æ–¹æ³•æ¥å®šä¹‰çš„æŒ‡ä»¤ã€‚å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ä¹Ÿæœ‰ä¸¤ç§ä¸å±€éƒ¨è‡ªå®šä¹‰æŒ‡ä»¤ç›¸åŒçš„å½¢å¼ï¼š\nå¯¹è±¡é…ç½®å†™æ³•ï¼š\nVue.directive(\u0026#39;command\u0026#39;, { // æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆé¡µé¢åˆå§‹åŒ–æ—¶ï¼‰è°ƒç”¨ bind(element, binding) { /* ... */ }, // æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ inserted(element, binding) { /* ... */ }, // æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ update(element, binding) { /* ... */ } }) å‡½æ•°å¼å†™æ³•ï¼ˆç®€å†™å½¢å¼ï¼‰ï¼š\nVue.directive(\u0026#39;command\u0026#39;, function (element, binding) { /* ... */ }) ","date":"2023å¹´8æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/template-syntax/directives/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1692441390,"title":"Vue æŒ‡ä»¤è¯­æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Vue.js æ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚Vue åªå…³æ³¨è§†å›¾å±‚ï¼Œé‡‡ç”¨è‡ªåº•å‘ä¸Šå¢é‡å¼€å‘çš„è®¾è®¡ã€‚Vue çš„ç›®æ ‡æ˜¯é€šè¿‡å°½å¯èƒ½ç®€å•çš„ API å®ç°å“åº”çš„æ•°æ®ç»‘å®šå’Œç»„åˆçš„è§†å›¾ç»„ä»¶ã€‚\nåœ¨å­¦ä¹ Vueä¹‹å‰éœ€è¦äº†è§£HTMLã€CSSå’ŒJavaScriptã€‚\nVueçš„ç‰¹ç‚¹ï¼š\né‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ã€ä¸”è®©ä»£ç æ›´å¥½ç»´æŠ¤ã€‚\né‡‡ç”¨å£°æ˜å¼ç¼–ç ï¼Œè®©ç¼–ç äººå‘˜æ— éœ€ç›´æ¥æ“ä½œDOMï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚\nä½¿ç”¨ä¼ ç»ŸJSæ“ä½œDOMå±äºå‘½ä»¤å¼ç¼–ç ã€‚\nä½¿ç”¨è™šæ‹ŸDOMå’Œä¼˜ç§€çš„Diffç®—æ³•ï¼Œå°½é‡å¤ç”¨DOMèŠ‚ç‚¹ã€‚\nVueå®˜ç½‘ä¸ºï¼šhttps://cn.vuejs.org/ã€‚\nå®‰è£… Vue å®‰è£…Vueçš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¯ä»¥åœ¨Vue2æ–‡æ¡£ä¸­æŸ¥é˜…ã€‚\nå…¶ä¸­æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡\u0026lt;script\u0026gt;æ ‡ç­¾å¼•å…¥ã€‚é€šè¿‡\u0026lt;script\u0026gt;æ ‡ç­¾ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Vue CDNå¼•å…¥ï¼š\n\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; é€šå¸¸å¼•å…¥çš„Vueæœ‰ä¸¤ç§ç‰ˆæœ¬ï¼š\nå¼€å‘ç‰ˆæœ¬ï¼šåŒ…å«å®Œæ•´çš„è­¦å‘Šå’Œè°ƒè¯•æ¨¡å¼ã€‚å¦‚ä¸Šæ–¹å¼•å…¥çš„å³ä¸ºvue@2.7.14çš„å¼€å‘ç‰ˆæœ¬ã€‚\nç”Ÿäº§ç‰ˆæœ¬ï¼šåˆ é™¤äº†è­¦å‘Šã€‚é€šå¸¸Vueå¼€å‘ç‰ˆæœ¬çš„æ–‡ä»¶åä¸ºvue.min.jsã€‚\nä¾‹å¦‚ï¼š\n\u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; åœ¨ä½¿ç”¨Vueæ—¶ï¼Œé€šå¸¸ä¼šåœ¨æµè§ˆå™¨ä¸­å®‰è£…Vueçš„å¼€å‘è€…å·¥å…·æ’ä»¶ï¼šhttps://github.com/vuejs/devtools#vue-devtoolsã€‚\nHello ä¸‹æ–¹æ¼”ç¤ºäº†Vueçš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Hello Vue\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;root\u0026#34;\u0026gt; \u0026lt;!-- Vue å®¹å™¨ --\u0026gt; \u0026lt;h1\u0026gt;Hello, {{name}}\u0026lt;!-- æ’å€¼è¡¨è¾¾å¼ --\u0026gt;!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; /* é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º Vue 2.x ä¸­å¯èƒ½ä¸ä¼šç”Ÿæ•ˆï¼Œç›´æ¥ä¿®æ”¹ Vue æºç  */ Vue.config.productionTip = false // åˆ›å»º Vue å®ä¾‹ new Vue({ el: \u0026#39;#root\u0026#39;, // å°†å®ä¾‹ä¸å®¹å™¨è¿›è¡Œç»‘å®š data: { // data ä¸­ç”¨äºå­˜å‚¨æ•°æ®ï¼Œå­˜å‚¨çš„æ•°æ®ä¾› el æ‰€æŒ‡å®šçš„å®¹å™¨ä½¿ç”¨ name: \u0026#39;Vue.js\u0026#39; } }) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Helloå®ä¾‹ä¸­çš„ä¸€äº›å…³é”®ç‚¹ï¼š\nVue å®¹å™¨ï¼š\nå®¹å™¨ä¸­çš„ä»£ç ä¾ç„¶ç¬¦åˆ HTML è§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„ Vue è¯­æ³•ã€‚\nå®¹å™¨ä¸­çš„ä»£ç è¢«ç§°ä¸º Vueæ¨¡æ¿ã€‚\næ’å€¼è¯­æ³•ï¼šåœ¨HTMLæ ‡ç­¾ä½“ä¸­ï¼Œä½¿ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·{{ }}å°†JSè¡¨è¾¾å¼å¼•èµ·æ¥ã€‚ä¸è¯­å¥ä¸åŒçš„æ˜¯ï¼Œè¡¨è¾¾å¼æŒ‡å¯ä»¥ç”Ÿæˆå€¼çš„è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥å¯ä»¥æ”¾åœ¨ä»»ä½•éœ€è¦å€¼çš„åœ°æ–¹ã€‚\nä¹Ÿå°±æ˜¯è¯´æ’å€¼è¡¨è¾¾å¼ä¸€å®šéœ€è¦æœ‰å€¼ï¼ˆæˆ–è¿”å›å€¼ï¼‰ã€‚\næ’å€¼è¡¨è¾¾å¼ä¸­çš„å˜é‡ã€æ–¹æ³•éƒ½æ˜¯åœ¨å¯¹åº” Vueå®ä¾‹ çš„ data ä¸­å®šä¹‰çš„ã€‚å½“dataå‘ç”Ÿäº†æ”¹å˜ï¼Œé¡µé¢ä¸­å¯¹åº”çš„æ•°æ®ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ã€‚\næ’å€¼æ˜¯ï¼ŒVueæ¨¡æ¿è¯­æ³•ä¸­çš„ä¸€ç§ã€‚\nVue å®ä¾‹ï¼šVue å®ä¾‹ç”¨äºè§£æ Vue å®¹å™¨ï¼ŒVue å®ä¾‹ä¼šæ ¹æ®é…ç½®å¯¹è±¡çš„ä¿¡æ¯å»è§£æå¯¹åº”çš„æ¨¡æ¿ã€‚åˆ›å»ºVue å®ä¾‹æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ã€‚\nelå±æ€§ï¼šå°†å®ä¾‹ä¸å®¹å™¨è¿›è¡Œç»‘å®šï¼Œel çš„å€¼é€šå¸¸ä¸º CSS é€‰æ‹©å™¨å­—ç¬¦ä¸²ã€‚\nelå±æ€§ä¸­ä¼ å…¥çš„å€¼ä¹Ÿå¯ä»¥æ˜¯å…·ä½“çš„Elementå¯¹è±¡ï¼Œä¾‹å¦‚ï¼š\nnew Vue({ el: document.getElementById(\u0026#39;root\u0026#39;) // el è¿˜å¯ä»¥è¿™ä¹ˆç»‘å®š }) dataï¼šdata ä¸­ç”¨äºå­˜å‚¨æ•°æ®ï¼ˆå¯¹è±¡æˆ–æ–¹æ³•ï¼‰ï¼Œå­˜å‚¨çš„æ•°æ®ä¾› el æ‰€æŒ‡å®šçš„å®¹å™¨ä½¿ç”¨ã€‚data å¯ä»¥æ˜¯å¯¹è±¡æˆ–å‡½æ•°ã€‚\nVueå®ä¾‹å’ŒVueå®¹å™¨æ˜¯ä¸€å¯¹ä¸€å…³ç³»ã€‚å½“ä¸€ä¸ªå®ä¾‹çš„elé…ç½®æœ‰å¤šä¸ªä¸ä¹‹å¯¹åº”çš„å®¹å™¨æ—¶ï¼ŒVueä¸ä¼šæŠ¥é”™ï¼Œä½†é¡µé¢æ˜¾ç¤ºä¼šæœ‰é—®é¢˜ï¼›å½“ä¸€ä¸ªå®¹å™¨è¢«å¤šä¸ªå®ä¾‹æŒ‡å®šæ—¶ï¼ŒVueä¼šæŠ¥é”™ã€‚\nçœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ã€‚\nåˆ›å»º Vue å®ä¾‹çš„å¦ä¸€ç§æ–¹å¼ åœ¨åˆ›å»ºVueå®ä¾‹æ—¶ï¼Œå¯ä»¥ä¸ç”¨ç«‹å³æŒ‡å®šelæ¥ç»‘å®šå®¹å™¨ã€‚\nå¯ä»¥é€šè¿‡vm.$mount()æ¥ç»‘å®šå®¹å™¨ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hello {{name}}!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; const vm = new Vue({ data: { name: \u0026#39;Linner\u0026#39;, }, }); // ä½¿ç”¨ $mount() ç»‘å®šå®¹å™¨ vm.$mount(\u0026#39;#app\u0026#39;) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; vm.$mount()æ˜¯VueåŸå‹å¯¹è±¡ä¸Šçš„ä¸€ä¸ªæ–¹æ³•ã€‚\næ•°æ®å¯¹è±¡çš„å‡½æ•°å¼å†™æ³• Vueå®ä¾‹ä¸­çš„dataä¸ä»…å¯ä»¥ä½œä¸ºå¯¹è±¡å»å®šä¹‰ï¼Œè¿˜èƒ½ä½œä¸ºå‡½æ•°å»å®šä¹‰ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;Hello {{name}}!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#34;#app\u0026#34;, // å‡½æ•°å¼ dataï¼Œå°†è¿”å›å€¼ä½œä¸ºæ•°æ®å¯¹è±¡ data () { /** * data() çš„ this æ˜¯å½“å‰çš„Vueå®ä¾‹å¯¹è±¡ * å®šä¹‰data()æ—¶ä¸è¦ä½¿ç”¨ç®­å¤´å‡½æ•° * å¦‚æœå°†data()å®šä¹‰ä¸ºç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆthiså°±ä¸å†æ˜¯å½“å‰Vueçš„å®ä¾‹å¯¹è±¡äº† */ return { name: \u0026#39;Linner\u0026#39; } }, }); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; MVVM æ¨¡å‹ Vueæ˜¯åœ¨MVVMæ¨¡å‹çš„åŸºç¡€ä¸Šè¿›è¡Œè®¾è®¡ï¼ŒMVVMæ¨¡å‹åŒ…å«ä»¥ä¸‹3ä¸ªéƒ¨åˆ†ï¼š\nMï¼ˆModelï¼‰ï¼šæ¨¡å‹ï¼Œå¯¹åº”Vueå®ä¾‹dataä¸­çš„æ•°æ®ã€‚ Vï¼ˆViewï¼‰ï¼šæ¨¡æ¿ï¼Œå³Vueå®¹å™¨ã€‚ VMï¼ˆView Modelï¼‰ï¼šè§†å›¾æ¨¡å‹ï¼Œå¯¹åº”Vueå®ä¾‹å¯¹è±¡ã€‚ DOM Listenersï¼šDOMç›‘å¬å™¨ï¼Œç›‘å¬Viewä¸­æ•°æ®çš„æ”¹å˜ï¼Œå¹¶æ ¹æ®Data BindingsæŒ‡å®šçš„å…³ç³»ï¼Œå°†Viewä¸­è¢«ä¿®æ”¹çš„æ•°æ®åœ¨Modelä¸­åšç›¸åº”çš„æ”¹å˜ã€‚ Data Bindingsï¼šæ•°æ®ç»‘å®šï¼Œå°†Viewä¸Modelä¸­å¯¹åº”çš„æ•°æ®è¿›è¡Œç»‘å®šï¼Œè¡¨ç¤ºè§†å›¾ä¸æ¨¡å‹é—´çš„ä¸€ç§å¯¹åº”å…³ç³»ã€‚ åœ¨ä»£ç ä¸­ï¼ŒVueå’ŒMVVMæ¨¡å‹çš„å¯¹åº”å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Hello Vue\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;!-- View --\u0026gt; \u0026lt;h1\u0026gt;Hello, {{name}}!\u0026lt;/h1\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; // åœ¨ä»£ç ä¸­ï¼Œå¯ä»¥ä½¿ç”¨vmä»£è¡¨Vueå®ä¾‹ï¼Œvmè¡¨ç¤ºView Model const vm = new Vue({ // View Model el: \u0026#39;#app\u0026#39;, data: { // Model name: \u0026#39;Vue.js\u0026#39; } }) console.log(vm); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","date":"2023å¹´8æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/vue/introduction/","series":[{"title":"Vue","url":"/series/vue/"}],"smallImg":"","tags":[],"timestamp":1692430570,"title":"Vue ä»‹ç»"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæ‰©å±•äº† JavaScript çš„è¯­æ³•ï¼Œå› æ­¤ç°æœ‰çš„ JavaScript ä»£ç å¯ä¸ TypeScript ä¸€èµ·å·¥ä½œæ— éœ€ä»»ä½•ä¿®æ”¹TypeScript æ˜¯ä¸€ç§ç»™ JavaScript æ·»åŠ ç‰¹æ€§çš„è¯­è¨€æ‰©å±•ã€‚å¢åŠ çš„åŠŸèƒ½åŒ…æ‹¬ï¼š\nç±»å‹æ‰¹æ³¨å’Œç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ã€‚ ç±»å‹æ¨æ–­ã€‚ ç±»å‹æ“¦é™¤ã€‚ æ¥å£ã€‚ æšä¸¾ã€‚ Mixinã€‚ æ³›å‹ç¼–ç¨‹ã€‚ åå­—ç©ºé—´ã€‚ å…ƒç»„ã€‚ Awaitã€‚ å®‰è£… TypeScript å®‰è£…TypeScriptï¼š\nnpm install -g typescript å®‰è£…å®Œæˆåå¯ä»¥ä½¿ç”¨ tsc å‘½ä»¤æ¥æ‰§è¡Œ TypeScript çš„ç›¸å…³ä»£ç ã€‚æŸ¥çœ‹ TypeScript ç‰ˆæœ¬å·ï¼š\ntsc -v Hello æ–°å»ºä¸€ä¸ªhello.tsï¼ˆé€šå¸¸ä½¿ç”¨ .ts ä½œä¸º TypeScript ä»£ç æ–‡ä»¶çš„æ‰©å±•åï¼‰ï¼š\nconsole.log(\u0026#39;Hello TypeScript!\u0026#39;); æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† TypeScript è½¬æ¢ä¸º JavaScript ä»£ç ï¼š\ntsc hello.ts æ‰§è¡Œå®Œæˆåä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªhello.jsï¼ˆä¸æ‰§è¡Œtscæ—¶æŒ‡å®šçš„.tsåŒåçš„.jsæ–‡ä»¶ï¼‰ã€‚ç„¶åä½¿ç”¨nodeæ¥æ‰§è¡Œhello.jsï¼š\nnode hello.js å˜é‡å£°æ˜ åœ¨TypeScriptä¸­å£°æ˜å˜é‡ï¼Œå¯ä»¥åƒJSé‚£æ ·å»å£°æ˜å˜é‡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸ºå˜é‡æŒ‡å®šç±»å‹ï¼š\nvar [variableName] : [variableType] = value ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ï¼Œå³å…è®¸å˜é‡ä»ä¸€ç§ç±»å‹æ›´æ”¹ä¸ºå¦ä¸€ç§ç±»å‹ï¼š\n\u0026lt;type\u0026gt;value // æˆ–è€…ä½¿ç”¨ as value as type ","date":"2023å¹´8æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/typescript/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1692350484,"title":"TypeScript ä»‹ç»"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"è·¨åŸŸè¯·æ±‚é—®é¢˜ è·¨åŸŸæ˜¯æŒ‡å‘é€ä¸å½“å‰æœåŠ¡çš„åŸŸåï¼ˆæˆ–ç«¯å£ï¼‰ä¸ä¸€è‡´çš„è¯·æ±‚ã€‚è·¨åŸŸé—®é¢˜çš„äº§ç”ŸåŸå› æ˜¯æµè§ˆå™¨ä¸å…è®¸JSè¯·æ±‚å¯¹åŸŸåä¸åŒæˆ–ç«¯å£ä¸åŒçš„æœåŠ¡å‘èµ·è¯·æ±‚ã€‚\næ¼”ç¤ºè·¨åŸŸé—®é¢˜ï¼š\nç¼–è¾‘ä¸€ä¸ªhtmlé¡µé¢ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.staticfile.org/jquery/3.7.0/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;button id=\u0026#34;btnGET\u0026#34;\u0026gt;GET\u0026lt;/button\u0026gt; \u0026lt;button id=\u0026#34;btnPOST\u0026#34;\u0026gt;POST\u0026lt;/button\u0026gt; \u0026lt;script\u0026gt; $(function () { // æµ‹è¯•GETæ¥å£ $(\u0026#39;#btnGET\u0026#39;).on(\u0026#39;click\u0026#39;, () =\u0026gt; { $.ajax({ type: \u0026#39;GET\u0026#39;, url: \u0026#39;http://localhost/get\u0026#39;, data: { name: \u0026#39;Zhangsan\u0026#39;, age: 20 }, success: (res) =\u0026gt; { console.log(res); } }) }); // æµ‹è¯•POSTæ¥å£ $(\u0026#39;#btnPOST\u0026#39;).on(\u0026#39;click\u0026#39;, () =\u0026gt; { $.ajax({ type: \u0026#39;POST\u0026#39;, url: \u0026#39;http://localhost/post\u0026#39;, data: { name: \u0026#39;äººé—´å¤±æ ¼\u0026#39;, author: \u0026#39;å¤ªå®°æ²»\u0026#39; }, success: (res) =\u0026gt; { console.log(res); } }) }); }) \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åˆ›å»ºExpress Serverï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() app.use(express.json()) app.get(\u0026#39;/get\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, msg: \u0026#39;è¯·æ±‚æˆåŠŸ!\u0026#39; }) }) app.post(\u0026#39;/post\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, msg: \u0026#39;è¯·æ±‚æˆåŠŸ!\u0026#39;, data: req.body }) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) åªè¦é¡µé¢æ‰“å¼€çš„åè®®ã€åœ°å€æˆ–ç«¯å£ä¸æœåŠ¡å™¨ä¸åŒï¼Œæµè§ˆå™¨å°±ä¼šé˜»æ­¢è¯¥è¯·æ±‚çš„å‘é€ã€‚è§£å†³æ–¹æ¡ˆæœ‰CORSå’ŒJSONPç­‰ï¼Œæ¨èä½¿ç”¨CORSï¼Œå› ä¸ºJSONPä»…æ”¯æŒGETè¯·æ±‚ã€‚\nåœ¨Expressä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨corsè¿™ä¸ªç¬¬ä¸‰æ–¹ä¸­é—´ä»¶æ¥è§£å†³è·¨åŸŸé—®é¢˜ï¼š\nå®‰è£…corsï¼š\nnpm i cors å¯¼å…¥corsï¼š\nconst cors = request(\u0026#39;cors\u0026#39;) æ³¨å†Œcorsä¸­é—´ä»¶ï¼š\napp.use(cors()) æ³¨ï¼šcorsä¸­é—´ä»¶è¦åœ¨æ‰€æœ‰è·¯ç”±ä¹‹å‰æ³¨å†Œã€‚\nå®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å¯¼å…¥å¹¶æ³¨å†Œ cors ä¸­é—´ä»¶ const cors = require(\u0026#39;cors\u0026#39;); app.use(cors()) app.use(express.json()) app.get(\u0026#39;/get\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, msg: \u0026#39;GETè¯·æ±‚æˆåŠŸ!\u0026#39;, data: req.query }) }) app.post(\u0026#39;/post\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, msg: \u0026#39;POSTè¯·æ±‚æˆåŠŸ!\u0026#39;, data: req.body }) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) CORS CORSï¼ˆCross-Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰ç”±ä¸€ç³»åˆ—HTTPå“åº”å¤´ç»„æˆï¼Œè¿™äº›HTTPå“åº”å¤´å†³å®šæµè§ˆå™¨æ˜¯å¦é˜»æ­¢å‰ç«¯JSä»£ç è·¨åŸŸè·å–èµ„æºã€‚\næµè§ˆå™¨çš„åŒæºå®‰å…¨ç­–è·¯é»˜è®¤ä¼šé˜»æ­¢ç½‘é¡µâ€œè·¨åŸŸâ€è·å–èµ„æºã€‚ä½†å¦‚æœæ¥å£æœåŠ¡å™¨é…ç½®äº†CORSç›¸å…³çš„HTTPå“åº”å¤´ï¼Œå°±å¯ä»¥è§£é™¤æµè§ˆå™¨ç«¯çš„è·¨åŸŸè®¿é—®é™åˆ¶ã€‚ç›¸å½“äºæœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨æˆ‘åŒæ„å…¶å®ƒâ€œåŸŸâ€æ¥ä½¿ç”¨æˆ‘çš„æ¥å£ã€‚\nCORSçš„æ³¨æ„äº‹é¡¹ï¼š\nCORSä¸»è¦åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œé…ç½®ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨æ— é¡»åšä»»ä½•é¢å¤–çš„é…ç½®ï¼Œå³å¯è¯·æ±‚å¼€å¯äº†CORSçš„æ¥å£ã€‚ CORSåœ¨æµè§ˆå™¨ä¸­æœ‰å…¼å®¹æ€§ã€‚åªæœ‰æ”¯æŒXMLHttpRequest Level2çš„æµè§ˆå™¨ï¼Œæ‰èƒ½æ­£å¸¸è®¿é—®å¼€å¯äº†CORSçš„æœåŠ¡ç«¯æ¥å£ï¼ˆä¾‹å¦‚ï¼šIE10+ã€Chrome4+ã€FireFox3.5+ï¼‰ã€‚ ä¸CORSç›¸å…³çš„å“åº”å¤´ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥Access-Control-Allow-å¼€å¤´ã€‚å¸¸è§çš„CORSç›¸å…³å“åº”å¤´æœ‰ï¼š\nAccess-Control-Allow-Originï¼š\nAccess-Control-Allow-Origin: \u0026lt;origin\u0026gt; | * å…¶ä¸­ï¼Œoriginå‚æ•°çš„å€¼æŒ‡å®šäº†å…è®¸è®¿é—®è¯¥èµ„æºçš„å¤–åŸŸURLï¼›å¦‚æœè¦å…è®¸æ‰€æœ‰ç½‘ç«™è¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨*ç¬¦å·ã€‚\nä¾‹å¦‚åœ¨æœåŠ¡ç«¯è®¾ç½®ä»…å…è®¸https://blog.linner.asiaè¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼š\nres.setHeader(\u0026#39;Access-Control-Allow-Origin\u0026#39;, \u0026#39;https://blog.linner.asia\u0026#39;) Access-Control-Allow-Headersï¼š\né»˜è®¤æƒ…å†µä¸‹ï¼ŒCORSä»…æ”¯æŒå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€å¦‚ä¸‹çš„9ç§è¯·æ±‚å¤´ï¼š\nAcceptã€Accept-Languageã€Content-Languageã€DPRã€Downlinkã€Save-Dataã€Viewport-Widthã€Widthã€Content-Typeï¼ˆå€¼ä»…é™äºtext/plainã€multipart/form-dataã€application/x-wwnw-form-urlencodedä¸‰è€…ä¹‹ï¼‰ã€‚\nå¦‚æœå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€äº†é¢å¤–çš„è¯·æ±‚å¤´ä¿¡æ¯ï¼Œåˆ™éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ï¼Œé€šè¿‡Access-Control-Allow-Headerså¯¹é¢å¤–çš„è¯·æ±‚å¤´è¿›è¡Œå£°æ˜ï¼›å¦åˆ™è¿™æ¬¡è¯·æ±‚å°†ä¼šå¤±è´¥ã€‚\nä¾‹å¦‚åœ¨æœåŠ¡å™¨ä¸­é€šè¿‡è®¾ç½®Access-Control-Allow-Headersæ¥å…è®¸å®¢æˆ·ç«¯å‘é€Content-Typeå’ŒXCustom-Headerè¯·æ±‚å¤´ï¼š\nres.setHeader(`Access-Control-Allow-Headers`, \u0026#39;Content-Type, XCustom-Header\u0026#39;) æ³¨ï¼šres.setHeader()ä¸­è®¾ç½®Access-Control-Allow-Headersæ—¶ï¼Œå¤šä¸ªè¯·æ±‚å¤´ä¹‹é—´ä½¿ç”¨,åˆ†éš”ã€‚\nAccess-Control-Allow-Methodsï¼š\né»˜è®¤æƒ…å†µä¸‹ï¼ŒCORSä»…æ”¯æŒå®¢æˆ·ç«¯å‘èµ·GETã€POSTã€HEADè¯·æ±‚ã€‚å¦‚æœå®¢æˆ·ç«¯å¸Œæœ›é€šè¿‡PUTã€DELETEç­‰æ–¹å¼è¯·æ±‚æœåŠ¡å™¨çš„èµ„æºï¼Œåˆ™éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ã€‚é€šè¿‡Access-Control-Allow-Methodsæ¥æŒ‡æ˜å®é™…è¯·æ±‚æ‰€å…è®¸ä½¿ç”¨çš„HTTPæ–¹æ³•ï¼Œ\nåªå…è®¸ POSTã€GETã€DELETEã€HEAD è¯·æ±‚ï¼ˆå¤šä¸ªè¯·æ±‚ä¹‹é—´ä½¿ç”¨,åˆ†éš”ï¼‰ï¼š\nres.setHeader(\u0026#39;Access-Control-Allow-Methods\u0026#39;, \u0026#39;POST, GET, DELETE, HEAD\u0026#39;) ä½¿ç”¨*ç¬¦å·å…è®¸æ‰€æœ‰çš„ HTTP è¯·æ±‚ï¼š\nres.setHeader(\u0026#39;Access-Control-Allow-Methods\u0026#39;, \u0026#39;*\u0026#39;) å®¢æˆ·ç«¯åœ¨è¯·æ±‚CORSæ¥å£æ—¶ï¼Œæ ¹æ®è¯·æ±‚æ–¹å¼å’Œè¯·æ±‚å¤´çš„ä¸åŒï¼Œå¯ä»¥å°†CORSçš„è¯·æ±‚åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š\nç®€å•è¯·æ±‚ï¼š\nåŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶çš„è¯·æ±‚ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š\nè¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯ GETã€POSTã€HEAD ä¹‹ä¸€ã€‚\nHTTPå¤´éƒ¨ä¿¡æ¯ä¸è¶…è¿‡ä»¥ä¸‹å‡ ç§å­—æ®µï¼š\næ— è‡ªå®šä¹‰å¤´éƒ¨å­—æ®µã€Acceptã€Accept-Languageã€Content-Languageã€DPRã€Downlinkã€Save-Dataã€Viewport-Widthã€Widthã€Content-Typeï¼ˆå€¼ä»…é™äºtext/plainã€multipart/form-dataã€application/x-wwnw-form-urlencodedä¸‰è€…ä¹‹ï¼‰ã€‚\nç‰¹ç‚¹ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´åªä¼šå‘ç”Ÿä¸€æ¬¡è¯·æ±‚ã€‚\né¢„æ£€è¯·æ±‚ï¼š\nåªè¦ç¬¦åˆä»¥ä¸‹ä»»ä¸€æ¡ä»¶çš„è¯·æ±‚ï¼Œéƒ½éœ€è¦è¿›è¡Œé¢„æ£€è¯·æ±‚ï¼š\nè¯·æ±‚æ–¹å¼ä¸º GETã€POSTã€HEAD ä¹‹å¤–çš„è¯·æ±‚ç±»å‹ã€‚ è¯·æ±‚å¤´ä¸­åŒ…å«äº†è‡ªå®šä¹‰å¤´éƒ¨å­—æ®µã€‚ å‘é€çš„è¯·æ±‚æ•°æ®åŒ…å«application/jsonæ ¼å¼çš„æ•°æ®ã€‚ åœ¨æµè§ˆå™¨ä¸æœåŠ¡å™¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€OPTIONè¯·æ±‚è¿›è¡Œé¢„æ£€ï¼Œä»¥è·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚ï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡çš„OPTIONè¯·æ±‚è¢«ç§°ä¸ºâ€œé¢„æ£€è¯·æ±‚â€ã€‚æœåŠ¡å™¨æˆåŠŸå“åº”é¢„æ£€è¯·æ±‚åï¼Œæ‰ä¼šå‘é€çœŸæ­£çš„è¯·æ±‚ï¼Œäº•ä¸”æºå¸¦çœŸå®æ•°æ®ã€‚\nç‰¹ç‚¹ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¼šå‘ç”Ÿä¸¤æ¬¡è¯·æ±‚ï¼ŒOPTIONé¢„æ£€è¯·æ±‚æˆåŠŸä¹‹åï¼Œæ‰ä¼šå‘èµ·çœŸæ­£çš„è¯·æ±‚ã€‚\næ¼”ç¤ºï¼š\nåœ¨HTMLä¸­æ·»åŠ ä»¥ä¸‹æŒ‰é’®å’ŒAjaxè¯·æ±‚ï¼š\n\u0026lt;button id=\u0026#34;btnDELETE\u0026#34;\u0026gt;DELETE\u0026lt;/button\u0026gt; // æµ‹è¯•DELETEæ¥å£ï¼ˆæ¼”ç¤ºé¢„æ£€è¯·æ±‚ï¼‰ $(\u0026#39;#btnDELETE\u0026#39;).on(\u0026#39;click\u0026#39;, function () { $.ajax({ type: \u0026#39;DELETE\u0026#39;, url: \u0026#39;http://127.0.0.1/delete\u0026#39;, data: { id: \u0026#39;1\u0026#39; }, success: function (res) { console.log(res); } }) }); åœ¨Express Serverä¸­æ·»åŠ ä»¥ä¸‹æ¥å£ï¼š\napp.delete(\u0026#39;/delete\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, msg: \u0026#39;DELETEè¯·æ±‚æˆåŠŸ!\u0026#39;, data: req.body }) }) åœ¨Edgeã€Firefoxç­‰èƒ½æ˜¾ç¤ºé¢„æ£€è¯·æ±‚çš„æµè§ˆå™¨ï¼ˆGoogle Chromeéœ€è¦åœ¨chrome://flags/#out-of-blink-corsä¸­å¼€å¯æ˜¾ç¤ºé¢„æ£€è¯·æ±‚ï¼‰ä¸­æ‰“å¼€HTMLé¡µé¢ï¼Œç‚¹å‡»DELETEæŒ‰é’®å‘èµ·è¯·æ±‚ã€‚ç„¶ååœ¨å¼€å‘è€…å·¥å…·çš„ç½‘ç»œç›‘æµ‹ä¸­å¯ä»¥çœ‹åˆ°å‘é€äº†ä¸€æ¡å¤§å°ä¸º0çš„OPTIONé¢„æ£€è¯·æ±‚ã€‚\nJSONP æ¥å£ æµè§ˆå™¨ç«¯é€šè¿‡\u0026lt;script\u0026gt;æ ‡ç­¾çš„srcå±æ€§ï¼Œè¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®ã€‚åŒæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ã€‚è¿™ç§è¯·æ±‚æ•°æ®çš„æ–¹å¼å«åšJSONPã€‚\nJSONPçš„ç‰¹ç‚¹ï¼š\nJSONPä¸å±äºçœŸæ­£çš„Ajaxè¯·æ±‚ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä½¿ç”¨XMLHttpRequestè¿™ä¸ªå¯¹è±¡ã€‚ JSONPä»…æ”¯æŒGETè¯·æ±‚ï¼Œä¸æ”¯æŒPOSTã€PUTã€DELETEç­‰è¯·æ±‚ã€‚ å®ç°JSONPæ¥å£çš„æ­¥éª¤ï¼š\nè·å–å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„å›è°ƒå‡½æ•°çš„åå­—ã€‚\nconst funcName = req.query.callback å¾—åˆ°è¦é€šè¿‡JSONPå½¢å¼å‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”æ•°æ®ã€‚\næ ¹æ®å‰ä¸¤æ­¥å¾—åˆ°çš„æ•°æ®ï¼Œæ‹¼æ¥å‡ºä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„å­—ç¬¦ä¸²ã€‚\nconst data = /* get response data... */ // æ‹¼æ¥å‡½æ•°è°ƒç”¨çš„å­—ç¬¦ä¸² const scriptStr = `${funcName}(${JSON.stringify(data)})` æŠŠä¸Šä¸€æ­¥æ‹¼æ¥å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œå“åº”ç»™å®¢æˆ·ç«¯çš„\u0026lt;script\u0026gt;æ ‡ç­¾è¿›è¡Œè§£ææ‰§è¡Œã€‚\nres.send(scriptStr) å®¢æˆ·ç«¯è¿›è¡ŒJSONPè¯·æ±‚çš„ç¤ºä¾‹ï¼š\n\u0026lt;button id=\u0026#34;btnJSONP\u0026#34;\u0026gt;JSONP\u0026lt;/button\u0026gt; $(\u0026#39;#btnJSONP\u0026#39;).on(\u0026#39;click\u0026#39;, function () { $.ajax({ type: \u0026#39;GET\u0026#39;, url: \u0026#39;http://127.0.0.1/jsonp\u0026#39;, dataType: \u0026#39;jsonp\u0026#39;, // è¡¨ç¤ºå‘èµ·JSONPè¯·æ±‚ success: function (res) { console.log(res); } }) }); å®Œæ•´çš„JSONPæ¥å£å®ç°ç¤ºä¾‹å¦‚ä¸‹ï¼š\napp.use(\u0026#39;/jsonp\u0026#39;, (req, res) =\u0026gt; { // TODO: å®šä¹‰ JSONP æ¥å£å…·ä½“çš„å®ç°è¿‡ç¨‹ // è·å–å›è°ƒå‡½æ•°åç§° const funcName = req.query.callback // è·å–å“åº”æ•°æ® const data = { name: \u0026#39;Zhangsan\u0026#39;, age: 22 } // æ‹¼æ¥å‡½æ•°è°ƒç”¨çš„å­—ç¬¦ä¸² const scriptStr = `${funcName}(${JSON.stringify(data)})` // å°†å‡½æ•°è°ƒç”¨å­—ç¬¦ä¸²å“åº”ç»™å®¢æˆ·ç«¯çš„ \u0026lt;script\u0026gt; æ ‡ç­¾è¿›è¡Œè§£ææ‰§è¡Œ res.send(scriptStr) }) // å¦‚æœåŒæ—¶å¯ç”¨äº† CORS å’Œ JSONPï¼ŒCORSä¸­é—´ä»¶è¦æ”¾åœ¨JSONPæ¥å£åé¢ï¼Œå¦åˆ™JSONPæ¥å£ä¹Ÿä¼šä»¥CORSå½¢å¼è¿›è¡Œç›¸åº” ","date":"2023å¹´8æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/express/cors-request/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1692346563,"title":"Node.js Express è·¨åŸŸè¯·æ±‚"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ï¼Œç‰¹æŒ‡ä¸šåŠ¡æµç¨‹çš„ä¸­é—´å¤„ç†ç¯èŠ‚ã€‚\nå½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾Expressçš„æœåŠ¡å™¨ä¹‹åï¼Œå¯ä»¥è¿ç»­è°ƒç”¨å¤šä¸ªä¸­é—´ä»¶ï¼Œä»è€Œå¯¹è¿™æ¬¡è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ã€‚\nExpressä¸­é—´ä»¶çš„è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼š\nExpressçš„ä¸­é—´ä»¶ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚Expressä¸­é—´ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š\næ³¨ï¼šä¸­é—´ä»¶å‡½æ•°çš„å½¢å‚åˆ—è¡¨ä¸­ï¼Œå¿…é¡»åŒ…å«nextå‡½æ•°ã€‚è€Œè·¯ç”±çš„å¤„ç†å‡½æ•°ä¸­åªåŒ…å«requestï¼ˆresï¼‰å’Œresponseï¼ˆresï¼‰ã€‚\nåˆ©ç”¨ä¸­é—´ä»¶ï¼Œå¯ä»¥å®ç°åç«¯ä¸­Filterï¼ˆæ‹¦æˆªå™¨ï¼‰æˆ–Interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰ç­‰åŠŸèƒ½ã€‚\nåœ¨ä¸­é—´ä»¶è°ƒç”¨æµç¨‹ä¸­ï¼Œnext()å‡½æ•°å°±æ˜¯å®ç°å¤šä¸ªä¸­é—´ä»¶è¿ç»­è°ƒç”¨çš„å…³é”®ã€‚next()è¡¨ç¤ºå°†æµè½¬å…³ç³»è½¬äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”±ã€‚\nä¸­é—´ä»¶çš„ä½œç”¨ï¼šé€šè¿‡ä¸­é—´ä»¶ï¼Œå¯ä»¥åœ¨å¤šä¸ªä¸­é—´ä»¶ä¹‹é—´å…±äº«åŒä¸€ä»½requestå’Œresponseã€‚åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨ä¸Šæ¸¸çš„ä¸­é—´ä»¶ä¸­ï¼Œç»Ÿä¸€ä¸ºrequestæˆ–responseå¯¹è±¡æ·»åŠ è‡ªå®šä¹‰å±æ€§æˆ–æ–¹æ³•ï¼ˆåœ¨ä¸Šæ¸¸åšç»Ÿä¸€çš„å¤„ç†ï¼‰ï¼Œä¾›ä¸‹æ¸¸çš„ä¸­é—´ä»¶æˆ–è·¯ç”±è¿›è¡Œä½¿ç”¨ã€‚\nå…¨å±€ä¸­é—´ä»¶ å…¨å±€ä¸­é—´ä»¶æ˜¯æŒ‡å®¢æˆ·ç«¯å‘èµ·çš„ä»»ä½•è¯·æ±‚ï¼Œåˆ°è¾¾æœåŠ¡å™¨ä¹‹åï¼Œéƒ½ä¼šè§¦å‘çš„ä¸­é—´ä»¶ã€‚é€šè¿‡app.user(globalMiddleware)ï¼Œå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ã€‚è¿™ä¸ªå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼Œå› ä¸ºä½¿ç”¨app.user()å®šä¹‰ï¼Œæ²¡æœ‰æŒ‡å®šè¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ï¼Œæ‰€ä»¥ä»»ä½•åˆ°è¾¾æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œéƒ½ä¼šç»è¿‡è¿™ä¸ªä¸­é—´ä»¶ã€‚\nå¦‚ä¸‹æ‰€ç¤ºï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å®šä¹‰ä¸­é—´ä»¶å‡½æ•° const globalMiddleware = (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware function...\u0026#39;); // æŠŠæµè½¬å…³ç³»è½¬äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”± next() } // æ³¨å†Œå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ app.use(globalMiddleware) // å…¨å±€ä¸­é—´ä»¶æ— è®ºä»€ä¹ˆè¯·æ±‚æ–¹å¼ã€è¯·æ±‚è·¯å¾„ï¼Œéƒ½ä¼šè¢«è°ƒç”¨ app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;This is home page...\u0026#39;) }) app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;Post user...\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) å®šä¹‰ä¸­é—´ä»¶ï¼Œå¯ä»¥ç›´æ¥åœ¨app.use()ä¸­å®šä¹‰å¹¶æ³¨å†Œä¸­é—´ä»¶å‡½æ•°ï¼š\napp.use((req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware function...\u0026#39;); next() }) å…¨å±€ä¸­é—´ä»¶è¿˜å¯é€šè¿‡app.all()æ¥è¿›è¡Œå®šä¹‰å’Œæ³¨å†Œï¼š\napp.all(\u0026#39;/*\u0026#39;, (res, req, next) =\u0026gt; { console.log(\u0026#39;Middleware function...\u0026#39;); next() }) å±€éƒ¨ä¸­é—´ä»¶ å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶æ˜¯æŒ‡åœ¨ç‰¹å®šçš„è¯·æ±‚æ–¹å¼æˆ–è¯·æ±‚è·¯å¾„ä¸‹æ‰ä¼šç”Ÿæ•ˆçš„ä¸­é—´ä»¶ã€‚\nç‰¹å®šè¯·æ±‚è·¯å¾„ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼ˆåªåœ¨è¯·æ±‚è·¯å¾„ä¸º /user ä¸‹æ‰ç”Ÿæ•ˆï¼‰ app.use(\u0026#39;/user\u0026#39;, (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware function...\u0026#39;); next() }) app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;This is home page...\u0026#39;) }) // å±€éƒ¨ä¸­é—´ä»¶åªæœ‰åœ¨ç‰¹å®šçš„è¯·æ±‚æ–¹å¼ã€è¯·æ±‚è·¯å¾„ä¸‹æ‰èƒ½ç”Ÿæ•ˆ app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;Post user...\u0026#39;) }) app.get(\u0026#39;/user/:id\u0026#39;, (req, res) =\u0026gt; { res.send(`Get user by id ${req.params}...`) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) ç‰¹å®šè¯·æ±‚æ–¹å¼ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼ˆåªåœ¨è¯·æ±‚æ–¹å¼ä¸º GET ä¸‹æ‰ç”Ÿæ•ˆï¼‰ app.get(\u0026#39;/*\u0026#39;, (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware function...\u0026#39;); // æŠŠæµè½¬å…³ç³»è½¬äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”± next() }) // å±€éƒ¨ä¸­é—´ä»¶åªæœ‰åœ¨ç‰¹å®šçš„è¯·æ±‚æ–¹å¼ã€è¯·æ±‚è·¯å¾„ä¸‹æ‰èƒ½ç”Ÿæ•ˆ app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;This is home page...\u0026#39;) }) app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;Post user...\u0026#39;) }) app.get(\u0026#39;/user/:id\u0026#39;, (req, res) =\u0026gt; { res.send(`Get user ${req.params[\u0026#39;id\u0026#39;]}...`) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) ä½¿ç”¨app.get()æˆ–app.post()å®šä¹‰å¤„ç†æ‰€æœ‰è¯·æ±‚è·¯å¾„çš„ä¸­é—´ä»¶ï¼Œéœ€è¦ä½¿ç”¨é€šé…ç¬¦*æ¥å®šä¹‰è¯·æ±‚URLã€‚å³/*åŒ¹é…æ‰€æœ‰è¿›å…¥æœåŠ¡å™¨çš„è¯·æ±‚è·¯å¾„ï¼›app.get('/*', ...)åŒ¹é…æ‰€æœ‰è¿›å…¥æœåŠ¡å™¨çš„GETè¯·æ±‚ï¼›app.post('/*', ...)åŒ¹é…æ‰€æœ‰è¿›å…¥æœåŠ¡å™¨çš„POSTè¯·æ±‚ã€‚\næ³¨ï¼šä¸€èˆ¬ä½¿ç”¨ä¸­é—´ä»¶ï¼Œéƒ½æ˜¯å¯¹æŸä¸€éƒ¨åˆ†è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚å¦‚æœæŒ‡å®šäº†è¯·æ±‚æ–¹å¼ï¼Œä½¿ç”¨app.METHOD()æ³¨å†Œä¸­é—´ä»¶æ—¶ï¼Œä¸€èˆ¬éƒ½è¦åœ¨è¯·æ±‚URLä¸­ä½¿ç”¨é€šé…ç¬¦åŒ¹é…æŸä¸€éƒ¨åˆ†è¯·æ±‚ï¼›å¦‚æœä½¿ç”¨app.all()æ³¨å†Œä¸­é—´ä»¶æ—¶ï¼Œä¹ŸåŒæ ·éœ€è¦ä½¿ç”¨é€šé…ç¬¦ã€‚app.use()åˆ™ä¸éœ€è¦ï¼Œå› ä¸ºapp.use()ä¼šåŒ¹é…å½“å‰ç›®å½•çš„ä»»ä½•å­ç›®å½•ã€‚\nExpressä¸­çš„é€šé…ç¬¦*èƒ½åŒ¹é…æ‰€æœ‰å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬/ã€‚*é€šé…ç¬¦é€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§ç”¨æ³•ï¼š\n/*ï¼šåŒ¹é…æ‰€æœ‰çš„è¯·æ±‚è·¯å¾„ã€‚\nä¾‹å¦‚ï¼š\nhttp://127.0.0.1/ http://127.0.0.1/dir http://127.0.0.1/dir/index.html /dir/*ï¼šåŒ¹é…æ‰€æœ‰ä»¥/dirå¼€å¤´ï¼Œä½†ä¸åŒ…æ‹¬/dirçš„è¯·æ±‚è·¯å¾„ã€‚\nä¾‹å¦‚ï¼š\nhttp://127.0.0.1/dir/a http://127.0.0.1/dir/b http://127.0.0.1/dir/index.html ä½†ä¸åŒ¹é…http://127.0.0.1/diræœ¬èº«ã€‚\n/dir*ï¼šåŒ¹é…æ‰€æœ‰ä»¥/dirå¼€å¤´ï¼Œä¸”åŒ…æ‹¬/dirçš„è¯·æ±‚è·¯å¾„ã€‚\nä¾‹å¦‚ï¼š\nhttp://127.0.0.1/dir http://127.0.0.1/dir/a http://127.0.0.1/dir/index.html http://127.0.0.1/dir123 è¿›è¡Œç»Ÿä¸€å¤„ç† é€šè¿‡ä¸­é—´ä»¶ï¼Œå¯ä»¥ä¸ºåˆ°è¾¾æœåŠ¡å™¨çš„è¯·æ±‚è¿›è¡Œä¸€äº›ç»Ÿä¸€çš„å¤„ç†ã€‚åœ¨åŒä¸€æ¡å¤„ç†é“¾ä¸Šçš„ä¸­é—´ä»¶å…±äº«åŒä¸€ä»½requestå’Œresponseå¯¹è±¡ã€‚é€šè¿‡åœ¨ä¸Šæ¸¸çš„ä¸­é—´ä»¶ä¸­ï¼Œç»Ÿä¸€ä¸ºrequestæˆ–responseå¯¹è±¡æ·»åŠ è‡ªå®šä¹‰å±æ€§æˆ–æ–¹æ³•ï¼ˆåœ¨ä¸Šæ¸¸åšç»Ÿä¸€çš„å¤„ç†ï¼‰ï¼Œä¾›ä¸‹æ¸¸çš„ä¸­é—´ä»¶æˆ–è·¯ç”±è¿›è¡Œä½¿ç”¨ã€‚\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // æ³¨å†Œå…¨å±€ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ app.use((req, res, next) =\u0026gt; { // è·å–è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„æ—¶é—´ const time = new Date(Date.now()) // ä¸º request å¯¹è±¡æŒ‚è½½è‡ªå®šä¹‰å±æ€§ï¼Œä»è€ŒæŠŠæ—¶é—´å…±äº«ç»™åé¢çš„æ‰€æœ‰è·¯ç”± req.startTime = time // æŠŠæµè½¬å…³ç³»è½¬äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”± next() }) app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(`[${req.startTime}] This is home page...`) }) app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { res.send(`[${req.startTime}] Post user...`) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) ä¸­é—´ä»¶è°ƒç”¨é“¾ å¯ä»¥è¿ç»­å¤šæ¬¡å®šä¹‰åŒä¸€ç§è¯·æ±‚æ–¹å¼ã€è¯·æ±‚è·¯å¾„çš„ä¸­é—´ä»¶ã€‚è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨åï¼Œä¼šæŒ‰ç…§ä¸­é—´ä»¶è¢«å®šä¹‰çš„å…ˆåé¡ºåºï¼Œä¾æ¬¡è°ƒç”¨è¿™äº›ä¸­é—´ä»¶ã€‚\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // è¿ç»­æ³¨å†Œå…¨å±€ä¸­é—´ä»¶ app.use((req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 1 running...\u0026#39;); next() }) app.use((req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 2 running...\u0026#39;); next() }) app.use((req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 3 running...\u0026#39;); next() }) app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;This is home page...\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) å¯åŠ¨æœåŠ¡å™¨ï¼Œé€šè¿‡ GET http://127.0.0.1/è¯·æ±‚åï¼Œç»ˆç«¯æ‰“å°å†…å®¹å¦‚ä¸‹ï¼š\nMiddleware 1 running... Middleware 2 running... Middleware 3 running... å¦‚æœæ³¨å†Œçš„å¤šä¸ªä¸­é—´ä»¶ï¼Œå®ƒä»¬çš„è¯·æ±‚æ–¹å¼æˆ–è¯·æ±‚è·¯å¾„å„æœ‰ä¸åŒï¼ŒExpressä¼šæŒ‰ç…§å®ƒä»¬å„è‡ªçš„æ¡ä»¶è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœä¸€ä¸ªåŒæ—¶è¢«å¤šä¸ªä¸­é—´ä»¶åŒ¹é…åˆ°ï¼ŒExpressä¹Ÿæ˜¯æŒ‰ç…§å®ƒä»¬è¢«å®šä¹‰çš„é¡ºåºå»æ‰§è¡Œè¿™äº›ä¸­é—´ä»¶ã€‚ä¾‹å¦‚ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // è¿ç»­æ³¨å†Œä¸­é—´ä»¶ app.use(\u0026#39;/user/*\u0026#39;, (req, res, next) =\u0026gt; { const msg = \u0026#39;Through /user/* middleware...\\n\u0026#39; req.msg = req.msg ? req.msg + msg : msg next() }) app.use((req, res, next) =\u0026gt; { const msg = \u0026#39;Through /* middleware...\\n\u0026#39; req.msg = req.msg ? req.msg + msg : msg next() }) app.use(\u0026#39;/user*\u0026#39;, (req, res, next) =\u0026gt; { const msg = \u0026#39;Through /user* middleware...\\n\u0026#39; req.msg = req.msg ? req.msg + msg : msg next() }) app.get(\u0026#39;/user/:id\u0026#39;, (req, res) =\u0026gt; { res.send(req.msg + `Get user by id ${req.params[\u0026#39;id\u0026#39;]}...`) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) å¯åŠ¨æœåŠ¡å™¨ï¼Œå‘é€ GET http://127.0.0.1/user/1ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ•°æ®å¦‚ä¸‹ï¼š\nThrough /user/* middleware... Through /* middleware... Through /user* middleware... Get user by id 1... app.use()ã€app.METHOD()å’Œapp.all()éƒ½æ”¯æŒåŒæ—¶æ³¨å†Œå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ–¹å¼æ¥è¿ç»­å®šä¹‰å¤šä¸ªä¸­é—´ä»¶ï¼ˆä»¥app.use()ä¸ºä¾‹ï¼‰ï¼š\napp.use(mw1, mw2, ...)ï¼š\nconst mw1 = (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 1 running...\u0026#39;); next() } const mw2 = (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 2 running...\u0026#39;); next() } app.use(mw1, mw2, (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 3 running...\u0026#39;); next() }) app.use([mw1, mw2, ...], ...)ï¼š\nconst mw1 = (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 1 running...\u0026#39;); next() } const mw2 = (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 2 running...\u0026#39;); next() } app.use([mw1, mw2], (req, res, next) =\u0026gt; { console.log(\u0026#39;Middleware 3 running...\u0026#39;); next() }) æ³¨æ„äº‹é¡¹ ä½¿ç”¨ä¸­é—´ä»¶æ—¶ï¼Œæœ‰ä»¥ä¸‹æ³¨æ„äº‹é¡¹ï¼š\nä¸€å®šè¦åœ¨è·¯ç”±ä¹‹å‰æ³¨å†Œä¸­é—´ä»¶ã€‚ å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œå¯ä»¥è¿ç»­è°ƒç”¨å¤šä¸ªä¸­é—´ä»¶è¿›è¡Œå¤„ç†ã€‚ è¿ç»­è°ƒç”¨å¤šä¸ªä¸­é—´ä»¶æ—¶ï¼Œå¤šä¸ªä¸­é—´ä»¶ä¹‹é—´ï¼Œå…±äº«requestå’Œresponseå¯¹è±¡ã€‚ æ‰§è¡Œå®Œä¸­é—´ä»¶çš„ä¸šåŠ¡ä»£ç ä¹‹åï¼Œä¸è¦å¿˜è®°è°ƒç”¨next()å‡½æ•°ã€‚ ä¸ºäº†é˜²æ­¢ä»£ç é€è¾‘æ··ä¹±ï¼Œè°ƒç”¨next()å‡½æ•°åä¸è¦å†å†™é¢å¤–çš„ä»£ç ã€‚ è°ƒç”¨res.send()ä¼šç»ˆæ­¢ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œåç»­çš„ä¸­é—´ä»¶éƒ½ä¸ä¼šè¢«æ‰§è¡Œã€‚ ä¸­é—´ä»¶åˆ†ç±» Expresså®˜æ–¹å°†å¸¸è§çš„ä¸­é—´ä»¶ç”¨æ³•åˆ†æˆäº†5å¤§ç±»ï¼š\nåº”ç”¨çº§åˆ«çš„ä¸­é—´ä»¶ï¼šé€šè¿‡app.use()æˆ–app.METHOD()ç­‰ï¼Œç»‘å®šåˆ°appå®ä¾‹ä¸Šçš„ä¸­é—´ä»¶ã€‚ è·¯ç”±çº§åˆ«çš„ä¸­é—´ä»¶ï¼šç»‘å®šåˆ°express.Router()å®ä¾‹ä¸Šçš„ä¸­é—´ä»¶ã€‚è·¯ç”±çº§åˆ«ä¸­é—´ä»¶çš„ç”¨æ³•ä¸åº”ç”¨çº§åˆ«ä¸­é—´ä»¶çš„ç”¨æ³•æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œä»…ä»…æ˜¯ç»‘å®šçš„å¯¹è±¡ä¸åŒã€‚ é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶ï¼šä¸“é—¨ç”¨æ¥æ•è·é¡¹ç›®ä¸­å‘ç”Ÿçš„å¼‚å¸¸é”™è¯¯ï¼Œä»è€Œé˜²æ­¢é¡¹ç›®å¼‚å¸¸å´©æºƒçš„é—®é¢˜ã€‚é”™è¯¯çº§åˆ«ä¸­é—´ä»¶çš„å¤„ç†å‡½æ•°ä¸­ï¼Œå¿…é¡»åŒ…å«4ä¸ªå½¢å‚ï¼Œå½¢å‚é¡ºåºä»å‰åˆ°ååˆ†åˆ«æ˜¯ (err, req, res, next)ã€‚ Expresså†…ç½®çš„ä¸­é—´ä»¶ã€‚ ç¬¬ä¸‰æ–¹çš„ä¸­é—´ä»¶ã€‚ è·¯ç”±çº§åˆ«ä¸­é—´ä»¶ é€šè¿‡åœ¨express.Router()å®ä¾‹ä¸Šç»‘å®šå…¨å±€ä¸­é—´ä»¶ï¼Œå¯ä»¥ä¸ºè¯¥è·¯ç”±ä¸‹çš„æ‰€æœ‰è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚ä¾‹å¦‚ï¼š\nuser.jsï¼š\n/** * User è·¯ç”±æ¨¡å— */ const express = require(\u0026#39;express\u0026#39;); const router = express.Router() // ç»Ÿä¸€å¤„ç† /user è¯·æ±‚ï¼Œæ‰€æœ‰åˆ°è¾¾è¯¥è·¯ç”±çš„è¯·æ±‚éƒ½ä¼šå…ˆç»è¿‡æ­¤ä¸­é—´ä»¶ router.use((req, res, next) =\u0026gt; { req.msg = \u0026#34;Through user\u0026#39;s Middleware...\\n\u0026#34; next() }) /** * è®¿é—® GET /userï¼Œä¼šç»è¿‡è¯¥æ¨¡å—çš„å…¨å±€ä¸­é—´ä»¶ * å®¢æˆ·ç«¯è·å¾—çš„å“åº”æ•°æ®å¦‚ä¸‹ï¼š * Through user\u0026#39;s Middleware... * This is user page... */ router.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(req.msg + \u0026#39;This is user page...\u0026#39;) }) /** * è®¿é—® GET /user/1ï¼Œä¼šç»è¿‡è¯¥æ¨¡å—çš„å…¨å±€ä¸­é—´ä»¶ * å®¢æˆ·ç«¯è·å¾—çš„å“åº”æ•°æ®å¦‚ä¸‹ï¼š * Through user\u0026#39;s Middleware... * Get user by id 1 ... */ router.get(\u0026#39;/:id\u0026#39;, (req, res) =\u0026gt; { res.send(req.msg + `Get user by id ${req.params[\u0026#39;id\u0026#39;]} ...`) }) /** * è®¿é—® POST /user/addï¼Œä¼šç»è¿‡è¯¥æ¨¡å—çš„å…¨å±€ä¸­é—´ä»¶ * å®¢æˆ·ç«¯è·å¾—çš„å“åº”æ•°æ®å¦‚ä¸‹ï¼š * Through user\u0026#39;s Middleware... * Add new user... */ router.post(\u0026#39;/add\u0026#39;, (req, res) =\u0026gt; { res.send(req.msg + \u0026#39;Add new user...\u0026#39;) }) // å‘å¤–å¯¼å‡ºè·¯ç”±å¯¹è±¡ module.exports = router app.jsï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() const router = require(\u0026#39;./user\u0026#39;); app.use(\u0026#39;/user\u0026#39;, router) // è¯·æ±‚ GET / ä¸ä¼šé€šè¿‡ user.js ä¸­å®šä¹‰çš„ä¸­é—´ä»¶ app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.send(\u0026#39;This is home page...\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) é”™è¯¯çº§åˆ«ä¸­é—´ä»¶ é”™è¯¯çº§åˆ«ä¸­é—´ä»¶æ˜¯ä¸“é—¨ç”¨æ¥æ•è·é¡¹ç›®ä¸­å‘ç”Ÿçš„å¼‚å¸¸é”™è¯¯ï¼Œä»è€Œé˜²æ­¢é¡¹ç›®å¼‚å¸¸å´©æºƒçš„é—®é¢˜ã€‚é”™è¯¯çº§åˆ«ä¸­é—´ä»¶çš„å¤„ç†å‡½æ•°ä¸­ï¼Œå½¢å‚é¡ºåºä»å‰åˆ°ååˆ†åˆ«æ˜¯ (err, req, res, next)ã€‚ä¾‹å¦‚ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { throw new Error(\u0026#39;Server running error!\u0026#39;) // æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ res.send(\u0026#39;This is home page\u0026#39;) }) // å®šä¹‰å¹¶æ³¨å†Œé”™è¯¯çº§åˆ«ä¸­é—´ä»¶ app.use((err, req, res, next) =\u0026gt; { console.log(\u0026#39;[error]: \u0026#39; + err.message); res.send(\u0026#39;Error! \u0026#39; + err.message) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) å¯åŠ¨æœåŠ¡å™¨ï¼Œå‘é€ GET http://127.0.0.1/ è¯·æ±‚ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ•°æ®å¦‚ä¸‹ï¼š\nError! Server running error! ç»ˆç«¯æ‰“å°ï¼š\n[error]: Server running error! æ³¨ï¼šé”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶å¿…é¡»æ³¨å†Œåœ¨æ‰€æœ‰è·¯ç”±ä¹‹åï¼\næ³¨ï¼šåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå‘é€ç»™å®¢æˆ·ç«¯çš„æ˜¯ä¸€ä¸ªå¼‚å¸¸é¡µé¢ã€‚ä¾‹å¦‚ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Error\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;pre\u0026gt;Error: Server running error!\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at /root/study-js/express/middleware-error.js:5:11\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at Layer.handle [as handle_request] (/root/study-js/express/node_modules/express/lib/router/layer.js:95:5)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at next (/root/study-js/express/node_modules/express/lib/router/route.js:137:13)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at Route.dispatch (/root/study-js/express/node_modules/express/lib/router/route.js:112:3)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at Layer.handle [as handle_request] (/root/study-js/express/node_modules/express/lib/router/layer.js:95:5)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at /root/study-js/express/node_modules/express/lib/router/index.js:281:22\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at Function.process_params (/root/study-js/express/node_modules/express/lib/router/index.js:341:12)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at next (/root/study-js/express/node_modules/express/lib/router/index.js:275:10)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at expressInit (/root/study-js/express/node_modules/express/lib/middleware/init.js:40:5)\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;at Layer.handle [as handle_request] (/root/study-js/express/node_modules/express/lib/router/layer.js:95:5)\u0026lt;/pre\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åœ¨ä½¿ç”¨äº†é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶åï¼ŒæœåŠ¡å™¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¯ä»¥è‡ªå®šä¹‰å®¢æˆ·ç«¯æ˜¾ç¤ºçš„å†…å®¹ã€‚\nExpress å†…ç½®ä¸­é—´ä»¶ è‡ªExpress4.16.0ç‰ˆæœ¬å¼€å§‹ï¼ŒExpresså†…ç½®äº†3ä¸ªå¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œæå¤§çš„æé«˜äº†Expressé¡¹ç›®çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒï¼š\nexpress.static()ï¼šå¿«é€Ÿæ‰˜ç®¡é™æ€èµ„æºçš„å†…ç½®ä¸­é—´ä»¶ï¼Œä¾‹å¦‚ï¼šHTMLã€å›¾ç‰‡ã€CSSç­‰ï¼ˆæ— å…¼å®¢æ€§è¦æ±‚ï¼Œæ—§ç‰ˆäº¦å¯ä½¿ç”¨ï¼‰ã€‚\nexpress.json()ï¼šè§£æJSONæ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆæœ‰å…¼å®¹æ€§è¦æ±‚ï¼Œä»…åœ¨4.16.0åŠå…¶åç»­ç‰ˆæœ¬ä¸­å¯ç”¨ï¼‰ã€‚\nä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\n// é…ç½®è§£æ application/json æ ¼å¼æ•°æ®çš„å†…ç½®ä¸­é—´ä»¶ app.use(express.json()) é…ç½®äº†express.json()ä¸­é—´ä»¶ä¹‹åï¼Œå°±å¯ä»¥åœ¨å…¶å®ƒä¸­é—´ä»¶ä¸­ï¼Œä½¿ç”¨request.bodyè·å–ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„JSONæ•°æ®ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // é…ç½® express.json()ï¼Œè§£æJSONæ ¼å¼è¯·æ±‚ä½“æ•°æ® app.use(express.json()) /** * ä½¿ç”¨ request.body æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä½“æ•°æ® * é»˜è®¤æƒ…å†µä¸‹ï¼Œè‹¥ä¸é…ç½®è§£æè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶ï¼Œåˆ™ request.body é»˜è®¤ä¸º undefined */ app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { console.log(req.body); res.send(\u0026#39;OK\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) express.urlencoded()ï¼šè§£æURL-encodedæ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆæœ‰å…¼å®¹æ€§è¦æ±‚ï¼‰ã€‚\nä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\n// é…ç½®è§£æ application/x-www-form-urlencoded æ ¼å¼æ•°æ®çš„å†…ç½®ä¸­é—´ä»¶ app.use(express.urlencoded({ extended: false })) express.urlencoded()é…ç½®å®Œæˆåï¼ŒåŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨request.bodyè·å–æ•°æ®ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // é…ç½® express.urlencoded()ï¼Œè§£æ form-data ä¸­çš„ urlencoded æ ¼å¼æ•°æ® app.use(express.urlencoded({ extended: false })) // urlencoded æ ¼å¼æ•°æ®ä¹Ÿæ˜¯ä½¿ç”¨ request.body æ¥æ”¶ï¼Œé»˜è®¤ä¹Ÿä¸º undefined app.post(\u0026#39;/book\u0026#39;, (req, res) =\u0026gt; { console.log(req.body); res.send(\u0026#39;OK\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) æ³¨ï¼šexpress.json()å’Œexpress.urlencoded()å¯ä»¥åŒæ—¶é…ç½®ï¼Œä¸¤è€…å¹¶æ²¡æœ‰å†²çªã€‚\nç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶æ˜¯æŒ‡éExpresså®˜æ–¹å†…ç½®çš„ï¼Œè€Œæ˜¯ç”±å…¶å®ƒç¬¬ä¸‰æ–¹å›¢é˜Ÿï¼ˆç”¨æˆ·ï¼‰æ‰€å¼€å‘å‡ºæ¥çš„ä¸­é—´ä»¶ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®é¡¹ç›®éœ€æ±‚ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œå¯ä»¥æé«˜é¡¹ç›®å¼€å‘çš„æ•ˆç‡ã€‚\nä¾‹å¦‚body-parserè¿™ä¸ªç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œåœ¨Express 4.16.0ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œç»å¸¸è¢«äººä»¬ç”¨æ¥è§£æè¯·æ±‚ä½“æ•°æ®ã€‚body-parserä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š\nå®‰è£…body-parserï¼š\nnpm i body-parser ä½¿ç”¨require()å¯¼å…¥ä¸­é—´ä»¶ã€‚\nè°ƒç”¨app.use()æ³¨å†Œå¹¶ä½¿ç”¨ä¸­é—´ä»¶ã€‚\nç¤ºä¾‹å¦‚ä¸‹ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å¯¼å…¥å¹¶æ³¨å†Œ body-parse const parser = require(\u0026#39;body-parser\u0026#39;); app.use(parser.json()) app.use(parser.urlencoded({ extended: false })) // body-parser åŒæ ·æ˜¯ä½¿ç”¨ request.body æ¥è·å–è¯·æ±‚ä½“æ•°æ® app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { console.log(req.body); res.send(\u0026#39;OK\u0026#39;) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) è‡ªå®šä¹‰ä¸­é—´ä»¶ ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸ªç±»ä¼¼äºexpress.urlencoded()çš„è§£æPOSTè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶ä¸ºä¾‹ï¼Œå®ç°æ­¥éª¤å¦‚ä¸‹ï¼š\nå®šä¹‰ä¸­é—´ä»¶ï¼š\nconst qs = require(\u0026#39;querystring\u0026#39;); function urlencoded(req, res, next) { /* è¯·æ±‚æ•°æ®å¤„ç†è¿‡ç¨‹... */ } ç›‘å¬requestçš„dataäº‹ä»¶ã€‚\nè¦è§£æPOSTè¡¨å•æ•°æ®ï¼Œé¦–å…ˆéœ€è¦è·å–è¡¨å•æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ç›‘å¬requestçš„dataäº‹ä»¶æ¥è·å–å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®ã€‚\nå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæ— æ³•ä¸€æ¬¡æ€§å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯ä¼šæŠŠæ•°æ®åˆ‡å‰²åï¼Œåˆ†æ‰¹å‘é€åˆ°æœåŠ¡å™¨ã€‚æ‰€ä»¥dataäº‹ä»¶å¯èƒ½ä¼šè§¦å‘å¤šæ¬¡ï¼Œæ¯ä¸€æ¬¡è§¦å‘datÄäº‹ä»¶æ—¶ï¼Œè·å–åˆ°çš„æ•°æ®å¯èƒ½åªæ˜¯å®Œæ•´æ•°æ®çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦æ‰‹åŠ¨å¯¹æ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡Œæ‹¼æ¥ã€‚\nlet dataStr = \u0026#39;\u0026#39; /** * ç›‘å¬ request çš„ data äº‹ä»¶ * chunk ç”¨äºè·å–ä»å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ•°æ® * chunk è·å–åˆ°çš„æ•°æ®å¯èƒ½ä¸å®Œæ•´ï¼Œéœ€è¦æ‰‹åŠ¨æ‹¼æ¥ */ req.on(\u0026#39;data\u0026#39;, (chunk) =\u0026gt; { dataStr += chunk }) ç›‘å¬requestçš„endäº‹ä»¶ã€‚\nå½“è¯·æ±‚ä½“æ•°æ®æ¥æ”¶å®Œæ¯•ä¹‹åï¼Œä¼šè‡ªåŠ¨è§¦å‘requestçš„endäº‹ä»¶ã€‚å› æ­¤å¯ä»¥åœ¨requestçš„endäº‹ä»¶ä¸­ï¼Œæ‹¿åˆ°å¤„ç†å®Œæˆçš„è¯·æ±‚ä½“æ•°æ®ã€‚\nä½¿ç”¨querystringæ¨¡å—è§£æè¯·æ±‚ä½“æ•°æ®ã€‚\nNode.jså†…ç½®äº†ä¸€ä¸ªquerystringæ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†æŸ¥è¯¢å­—ç¬¦ã€‚é€šè¿‡è¿™ä¸ªæ¨ªå—æä¾›çš„parse()å‡½æ•°ï¼Œå¯ä»¥è½»æ¾æŠŠæŸ¥è¯¢å­—ç¬¦ä¸²è§£ææˆå¯¹è±¡æ ¼å¼ã€‚\nå°†è§£æå‡ºæ¥çš„æ•°æ®å¯¹è±¡æŒ‚è½½ä¸ºrequest.bodyã€‚\nä¸Šæ¸¸ä¸­é—´ä»¶ä¸ä¸‹æ¸¸ä¸­é—´ä»¶ä¹‹é—´éƒ½æ˜¯å…±äº«åŒä¸€ä»½requestå’Œresponseã€‚å› æ­¤å¯ä»¥å°†è§£æå‡ºæ¥çš„æ•°æ®æŒ‚è½½ä¸ºrequestçš„è‡ªå®šä¹‰å±æ€§ï¼ˆä¾‹å¦‚request.bodyï¼‰ä¾›ä¸‹æ¸¸ä½¿ç”¨ã€‚\næ­¥éª¤3-4çš„å®ç°ï¼š\n/** * ç›‘å¬ request çš„ end äº‹ä»¶ */ req.on(\u0026#39;end\u0026#39;, () =\u0026gt; { // TODO: æŠŠå­—ç¬¦ä¸²æ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼Œè§£ææˆå¯¹è±¡æ ¼å¼ const body = qs.parse(dataStr) req.body = body next() // è§£æå®Œè¯·æ±‚ä½“ä¹‹åï¼Œè°ƒç”¨ next() å°†è¯·æ±‚æµè½¬åˆ°ä¸‹æ¸¸ä¸­é—´ä»¶ }) å°†è‡ªå®šä¹‰ä¸­é—´ä»¶å°è£…ä¸ºæ¨¡å—ã€‚\næ¨¡å—ï¼ˆcustom-body-parserï¼‰çš„å®Œæ•´å®ç°å¦‚ä¸‹ï¼š\nconst qs = require(\u0026#39;querystring\u0026#39;); function urlencoded(req, res, next) { let dataStr = \u0026#39;\u0026#39; /** * ç›‘å¬ request çš„ data äº‹ä»¶ * chunk ç”¨äºè·å–ä»å®¢æˆ·ç«¯æ¥æ”¶åˆ°çš„æ•°æ® * chunk è·å–åˆ°çš„æ•°æ®å¯èƒ½ä¸å®Œæ•´ï¼Œéœ€è¦æ‰‹åŠ¨æ‹¼æ¥ */ req.on(\u0026#39;data\u0026#39;, (chunk) =\u0026gt; { dataStr += chunk }) /** * ç›‘å¬ request çš„ end äº‹ä»¶ */ req.on(\u0026#39;end\u0026#39;, () =\u0026gt; { // console.log(dataStr); // TODO: æŠŠå­—ç¬¦ä¸²æ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼Œè§£ææˆå¯¹è±¡æ ¼å¼ const body = qs.parse(dataStr) // console.log(body); req.body = body next() }) } module.exports = { urlencoded } å¯¹æ¨¡å—è¿›è¡Œæµ‹è¯•ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() const parser = require(\u0026#39;./custom-body-parser\u0026#39;); /** * æ³¨å†Œè‡ªå®šä¹‰çš„è§£æè¡¨å•æ•°æ®ä¸­é—´ä»¶ */ app.use(parser.urlencoded) app.post(\u0026#39;/user\u0026#39;, (req, res) =\u0026gt; { res.send(req.body) }) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) ","date":"2023å¹´8æœˆ14æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/express/middleware/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1692002907,"title":"Node.js Express ä¸­é—´ä»¶"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"è·¯ç”±çš„ç±»å‹ åœ¨Expressä¸­ï¼Œè·¯ç”±æŒ‡çš„æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸æœåŠ¡å™¨å¤„ç†å‡½æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚Expressä¸­çš„è·¯ç”±åˆ†ä¸‰éƒ¨åˆ†ç»„æˆï¼š\napp.METHOD(PATH, HANDLER) METHODï¼šè¯·æ±‚çš„ç±»å‹ã€‚ PATHï¼šè¯·æ±‚çš„URLåœ°å€ã€‚ HANDLERï¼šè¯·æ±‚çš„å¤„ç†ï¼ˆå›è°ƒï¼‰å‡½æ•°ã€‚ è·¯ç”±çš„åŒ¹é…è¿‡ç¨‹ æ¯å½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ä¹‹åï¼Œéœ€è¦å…ˆç»è¿‡è·¯ç”±çš„åŒ¹é…ï¼Œåªæœ‰åŒ¹é…æˆåŠŸä¹‹åï¼Œæ‰ä¼šè°ƒç”¨å¯¹åº”çš„å¤„ç†å‡½æ•°ã€‚\nåœ¨åŒ¹é…æ—¶ï¼ŒExpressä¼šæŒ‰ç…§è·¯ç”±è¢«å®šä¹‰çš„é¡ºåºè¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœè¯·æ±‚çš„ç±»å‹å’Œè¯·æ±‚çš„URLåŒæ—¶åŒ¹é…æˆåŠŸï¼Œåˆ™Expressä¼šå°†è¿™æ¬¡è¯·æ±‚ï¼Œè½¬ äº¤ç»™å¯¹åº”çš„å‡½æ•°è¿›è¡Œå¤„ç†ã€‚\nå…³äºè·¯ç”±çš„åŸºæœ¬ä½¿ç”¨ï¼Œå·²ç»åœ¨ Express åŸºç¡€ ä¸­è¿›è¡Œäº†ä»‹ç»ã€‚\nè·¯ç”±çš„æ¨¡å—åŒ–ä½¿ç”¨ ä¸ºäº†æ–¹ä½¿å¯¹è·¯ç”±è¿›è¡Œæ¨¡å—åŒ–çš„ç®¡ç†ï¼ŒExpressä¸å»ºè®®å°†è·¯ç”±ç›´æ¥æŒ‚è½½åˆ°appä¸Šï¼Œè€Œæ˜¯æ¨èå°†è·¯ç”±æŠ½ç¦»ä¸ºå•ç‹¬çš„æ¨¡å—ã€‚\nå°†è·¯ç”±æŠ½ç¦»ä¸ºå•ç‹¬æ¨¡å—çš„æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºè·¯ç”±æ¨¡å—å¯¹åº”çš„ .js æ–‡ä»¶ã€‚ è°ƒç”¨ express.Router() å‡½æ•°åˆ›å»ºè·¯ç”±å¯¹è±¡ã€‚ å‘è·¯ç”±å¯¹è±¡ä¸ŠæŒ‚è½½å…·ä½“çš„è·¯ç”±ã€‚ ä½¿ç”¨ module.exports å‘å¤–å…±äº«è·¯ç”±å¯¹è±¡ã€‚ ä½¿ç”¨ app.use() å‡½æ•°æ³¨å†Œè·¯ç”±æ¨¡å—ã€‚ ä¾‹å¦‚ï¼Œä¸ºuseræ¨¡å—åˆ›å»ºä¸€ä¸ªè·¯ç”±å¯¹è±¡ï¼š\næ–°å»ºä¸€ä¸ªapp.jsæ–‡ä»¶ï¼Œè·å–appå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨app.listen()æ–¹æ³•ç›‘å¬ç«¯å£ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() app.listen(80, () =\u0026gt; { console.log(\u0026#39;http://127.0.0.1/\u0026#39;); }) ä¸ºuserAPIè¯·æ±‚åˆ›å»ºä¸€ä¸ªuser.jsæ¨¡å—ï¼š\n/** * Userè·¯ç”±æ¨¡å— */ const express = require(\u0026#39;express\u0026#39;); // åˆ›å»ºè·¯ç”±å¯¹è±¡ const router = express.Router() // ä½¿ç”¨ router å¯¹è±¡æŒ‚è½½å…·ä½“çš„è·¯ç”± router.get(\u0026#39;/user/list\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, // è‡ªå®šä¹‰å“åº”çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸï¼Œ1è¡¨ç¤ºå¤±è´¥ msg: \u0026#39;è¯·æ±‚æˆåŠŸ!\u0026#39;, // å“åº”æè¿°æ¶ˆæ¯ data: { // å“åº”ç»™å®¢æˆ·ç«¯çš„æ•°æ® name: \u0026#39;Zhangsan\u0026#39;, age: \u0026#39;18\u0026#39; } }) }) router.post(\u0026#39;/user/add\u0026#39;, (req, res) =\u0026gt; { res.send({ status: 0, // è‡ªå®šä¹‰å“åº”çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸï¼Œ1è¡¨ç¤ºå¤±è´¥ msg: \u0026#39;è¯·æ±‚æˆåŠŸ!\u0026#39; // å“åº”æè¿°æ¶ˆæ¯ }) }) // å‘å¤–å¯¼å‡ºè·¯ç”±å¯¹è±¡ module.exports = router åœ¨app.jsä¸­ï¼Œå¯¼å…¥user.jsæ¨¡å—ï¼Œå¹¶ä½¿ç”¨app.use()å‡½æ•°æ³¨å†Œuser.jsæ¨¡å—ï¼š\nconst express = require(\u0026#39;express\u0026#39;); const app = express() // å¯¼å…¥å¹¶æ³¨å†Œè·¯ç”±æ¨¡å— const router = require(\u0026#39;./user\u0026#39;); /** * app.use() å¯ç”¨æ¥æ³¨å†Œå…¨å±€ä¸­é—´ä»¶ * app.use() è¿˜å¯ä»¥ä¸ºè·¯ç”±æ¨¡å—æ·»åŠ è·¯ç”±å‰ç¼€ï¼Œä¾‹å¦‚ï¼š * app.use(\u0026#39;/api\u0026#39;, router) */ app.use(router) app.listen(80, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1/\u0026#39;); }) æ¥ç€å¯åŠ¨æœåŠ¡å™¨ï¼Œä½¿ç”¨å¯¹åº”æ–¹å¼è¿›è¡Œè¯·æ±‚ã€‚\n","date":"2023å¹´8æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/express/router/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691847172,"title":"Node.js Express è·¯ç”±"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Nodemonæ˜¯ä¸€ç§ç›‘å¬é¡¹ç›®æ–‡ä»¶å˜åŠ¨ï¼Œè®©é¡¹ç›®æ–‡ä»¶åœ¨ä¿®æ”¹æ—¶å¯ä»¥è‡ªåŠ¨é‡å¯é¡¹ç›®çš„å·¥å…·ã€‚ä½¿ç”¨Nodemonæ—¶ï¼Œå½“ä»£ç è¢«ä¿®æ”¹ï¼ŒNodemonä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬é‡å¯é¡¹ç›®ï¼Œæå¤§æ–¹ä¾¿äº†å¼€å‘å’Œè°ƒè¯•ã€‚\nNodemoné¡¹ç›®åœ°å€ï¼šhttps:/www.npmjs.com/package/nodemonã€‚\nä½¿ç”¨Nodemonæ—¶ï¼Œä¸€èˆ¬æ˜¯åœ¨å…¨å±€è¿›è¡Œå®‰è£…ï¼š\nnpm i nodemon -g å®‰è£…å®ŒNodemonåï¼Œå¯ä»¥ä½¿ç”¨nodemonå‘½ä»¤æ¥å¯åŠ¨é¡¹ç›®ï¼Œè¿™æ ·å½“é¡¹ç›®æ–‡ä»¶è¢«ä¿®æ”¹æ—¶ï¼Œnodemonä¼šè‡ªåŠ¨å®Œæˆé¡¹ç›®çš„é‡å¯ã€‚ä¾‹å¦‚ï¼š\nnodemon app.js ","date":"2023å¹´8æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/nodemon/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691845319,"title":"Node.js Nodemon æ¨¡å—"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Expressæ˜¯ä¸€ä¸ªWebå¼€å‘æ¡†æ¶ã€‚Expressæœ¬è´¨ä¸Šæ˜¯NPMä¸Šçš„ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæä¾›äº†å¿«é€Ÿåˆ›å»ºWebæœåŠ¡å™¨ã€APIæ¥å£æœåŠ¡å™¨çš„æ–¹æ³•ã€‚Expressä¸­æ–‡ç½‘åœ°å€ä¸ºhttps://www.expressjs.com.cn/ï¼Œå®˜ç½‘åœ°å€ä¸ºhttps://expressjs.com/ã€‚\nä½¿ç”¨Node.jsæä¾›çš„åŸç”Ÿhttpæ¨¡å—ä¹Ÿä¸€æ ·å¯ä»¥åˆ›å»ºWebæœåŠ¡å™¨ã€‚åªä¸è¿‡httpæ¨¡å—ç”¨èµ·æ¥å¾ˆéº»çƒ¦ã€å¼€å‘æ•ˆç‡ä½ï¼Œè€ŒExpressåœ¨åŸºäºhttpçš„åŸºç¡€ä¸Šè¿›è¡Œäº†è¿›ä¸€æ­¥çš„å°è£…ï¼Œèƒ½æå¤§æé«˜å¼€å‘æ•ˆç‡ã€‚\nå®‰è£…Express 4.17.2ç‰ˆæœ¬ï¼š\nnpm i express@4.17.2 ä½¿ç”¨Expressçš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\nconst express = require(\u0026#39;express\u0026#39;); // åˆ›å»º Web æœåŠ¡å™¨ const app = express() // ç›‘å¬ 80 ç«¯å£ï¼ŒæœåŠ¡å™¨å¯åŠ¨æˆåŠŸåæ‰§è¡Œå›è°ƒå‡½æ•° app.listen(80, () =\u0026gt; { console.log(\u0026#39;Express server running at http://127.0.0.1\u0026#39;); }) å¯åŠ¨æœåŠ¡å™¨ï¼Œç¨‹åºä¼šå…ˆæ‰§è¡Œapp.listen()æ–¹æ³•ä¸­çš„å›è°ƒå‡½æ•°ã€‚\nè¯·æ±‚å¤„ç† åœ¨Expressä¸­ï¼Œè¯·æ±‚æ–¹å¼å¹¶ä¸éœ€è¦è‡ªå·±ä½¿ç”¨Requestå¯¹è±¡å»åˆ¤æ–­ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨Expressæä¾›çš„æ–¹æ³•ï¼š\napp.get()ï¼šç›‘å¬ GET è¯·æ±‚ã€‚\n/** * ç›‘å¬å®¢æˆ·ç«¯ GET /user è¯·æ±‚ * å‚æ•°1ï¼šå®¢æˆ·ç«¯è¯·æ±‚çš„ URL åœ°å€ * å‚æ•°2ï¼šè¯·æ±‚å¯¹åº”çš„å¤„ç†å‡½æ•° * - req: Request å¯¹è±¡ï¼ŒåŒ…å«äº†è¯·æ±‚ç›¸å…³çš„å±æ€§ä¸æ–¹æ³• * - res: Response å¯¹è±¡ï¼ŒåŒ…å«äº†å“åº”ç›¸å…³çš„å±æ€§ä¸æ–¹æ³• */ app.get(\u0026#39;/uer\u0026#39;, (req, res) =\u0026gt; { // å‘å®¢æˆ·ç«¯å‘é€ JSON å¯¹è±¡ res.send({ id: req.params[\u0026#39;id\u0026#39;], name: \u0026#39;zhangsan\u0026#39;, age: \u0026#39;20\u0026#39;, gender: \u0026#39;man\u0026#39; }) }) app.post()ï¼šç›‘å¬ POST è¯·æ±‚ã€‚\n/** * ç›‘å¬å®¢æˆ·ç«¯ POST /login è¯·æ±‚ * post() æ–¹æ³•çš„å‚æ•°ä¸ get() æ–¹æ³•ç±»ä¼¼ */ app.post(\u0026#39;/login\u0026#39;, (req, res) =\u0026gt; { // å‘å®¢æˆ·ç«¯å‘é€æ–‡æœ¬æ¶ˆæ¯ res.send(\u0026#39;ç™»å½•æˆåŠŸ!\u0026#39;) }) åœ¨Expressä¸­ï¼Œå¯ä»¥ä½¿ç”¨Responseå¯¹è±¡çš„send()æ–¹æ³•å‘å®¢æˆ·ç«¯å“åº”æ•°æ®ï¼Œå“åº”çš„æ•°æ®å¯ä»¥æ˜¯JSONã€æ–‡æœ¬ã€HTMLç­‰ç­‰ã€‚\næ³¨ï¼šåœ¨è°ƒç”¨äº†res.send()æ–¹æ³•ä¹‹åï¼Œä»£è¡¨ä¸šåŠ¡é€»è¾‘å¤„ç†å®Œæ¯•ï¼Œæ‰€ä»¥res.send()æ–¹æ³•ä¹‹åä¸èƒ½å†æ·»åŠ ä»»ä½•å¤„ç†é€»è¾‘ã€‚\nExpressæ”¯æŒæ‰€æœ‰å…³äºHTTPçš„è¯·æ±‚ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨app.METHOD()æ¥æŒ‡å®šè¯·æ±‚æ–¹å¼ã€‚ä¾‹å¦‚DELETEè¯·æ±‚ä½¿ç”¨app.delete()ã€‚\nExpressè¿˜æ”¯æŒé€šè¿‡app.all()æ¥åŒ¹é…æ‰€æœ‰è¯·æ±‚æ–¹å¼ã€‚\nè·å–è¯·æ±‚å‚æ•° è·å–æŸ¥è¯¢å‚æ•°ï¼š\napp.post(\u0026#39;/login\u0026#39;, (req, res) =\u0026gt; { // ä½¿ç”¨ request.query å¯¹è±¡ï¼Œè·å–æŸ¥è¯¢ï¼ˆè·¯å¾„ï¼‰å‚æ•° console.log(req.query); // è·å–å…·ä½“çš„æŸ¥è¯¢å‚æ•° let name = req.query[\u0026#39;name\u0026#39;] let password = req.query[\u0026#39;password\u0026#39;] if (!name || !password) { return res.send(\u0026#39;ç™»å½•å¤±è´¥! è¯·è¾“å…¥ç”¨æˆ·åå¯†ç !\u0026#39;) } if (name == \u0026#39;admin\u0026#39; \u0026amp;\u0026amp; password == \u0026#39;123456\u0026#39;) { return res.send(\u0026#39;ç™»å½•æˆåŠŸ!\u0026#39;) } res.send(\u0026#39;ç™»å½•å¤±è´¥! ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®!\u0026#39;) }) ä¾‹å¦‚ï¼Œä½¿ç”¨ POST http://localhost/login?name=admin\u0026amp;password=123456 è¿›è¡Œè¯·æ±‚æ—¶ï¼Œå¯ä»¥é€šè¿‡req.query['name']å’Œreq.query['password']è·å–name=adminå’Œpassword=123456è¿™ä¸¤ä¸ªå‚æ•°ã€‚ç„¶åå°†è·å–åˆ°çš„å‚æ•°è¿›è¡Œåˆ¤æ–­ã€‚\nè·å–åŠ¨æ€å‚æ•°ï¼š\napp.get(\u0026#39;/user/:id\u0026#39;, (req, res) =\u0026gt; { // åŠ¨æ€å‚æ•°ä½¿ç”¨ \u0026#34;:\u0026#34; + å‚æ•°å å®šä¹‰ // ä½¿ç”¨ request.params å¯¹è±¡è·å–åŠ¨æ€ï¼ˆURLï¼‰å‚æ•° console.log(req.params); // å‘å®¢æˆ·ç«¯å‘é€ JSON å¯¹è±¡ res.send({ id: req.params[\u0026#39;id\u0026#39;], name: \u0026#39;zhangsan\u0026#39;, age: \u0026#39;20\u0026#39;, gender: \u0026#39;man\u0026#39; }) }) ä¾‹å¦‚ï¼Œä½¿ç”¨ GET http://localhost/user/1 è¿›è¡Œè¯·æ±‚æ—¶ï¼Œé€šè¿‡req.params['id']è·å–URLä¸­è¿™ä¸ª:idå‚æ•°ã€‚\næ‰˜ç®¡é™æ€èµ„æº Expressä¸­ä½¿ç”¨express.static()å’Œapp.use()æ–¹æ³•å¯ä»¥æ–¹ä¾¿åœ°æ‰˜ç®¡é™æ€èµ„æºã€‚ä¾‹å¦‚ï¼Œæ‰˜ç®¡å­˜æ”¾é™æ€èµ„æºçš„publicç›®å½•ï¼š\n/** * ä½¿ç”¨ express.static() æ–¹æ³•æ‰˜ç®¡é™æ€èµ„æº * express.static() éœ€è¦ä½¿ç”¨ app.use() æ–¹æ³•ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°æ”¾å…¥ app.use() ä¸­ * åœ¨è¿›è¡Œè®¿é—®æ—¶ï¼Œé»˜è®¤ç›´æ¥åœ¨æ ¹è·¯å¾„ä¸‹è¯·æ±‚èµ„æºï¼Œæ— éœ€ä½¿ç”¨ public ä½œä¸ºè¯·æ±‚è·¯å¾„ * å¹¶ä¸” public ä¸‹çš„ index.html ä¼šä½œä¸º GET / è¯·æ±‚æ—¶é»˜è®¤å“åº”çš„é¡µé¢ * æ³¨ï¼špublic ç›®å½•éœ€è¦ä¸å½“å‰ .js æ–‡ä»¶åŒçº§ */ app.use(express.static(\u0026#39;public\u0026#39;)) express.static()å¯ä»¥é€šè¿‡å¤šæ¬¡è°ƒç”¨æ¥æ‰˜ç®¡å¤šä¸ªé™æ€ç›®å½•ï¼š\napp.use(express.static(\u0026#39;public\u0026#39;)) /** * å¯ä»¥å¤šæ¬¡ä½¿ç”¨ express.static() æ‰˜ç®¡å¤šä¸ªé™æ€èµ„æº * åœ¨è®¿é—®é™æ€èµ„æºæ—¶ï¼Œexpress.static() ä¼šæ ¹æ®ç›®å½•çš„æ·»åŠ é¡ºåºæŸ¥æ‰¾æ‰€éœ€çš„æ–‡ä»¶ */ app.use(express.static(\u0026#39;files\u0026#39;)) Expressæ‰˜ç®¡é™æ€ç›®å½•æ—¶ï¼Œå¯ä»¥æŒ‡å®šè®¿é—®å½“å‰èµ„æºçš„è·¯å¾„å‰ç¼€ï¼š\n/** * app.use() å¯ä»¥ä½¿ç”¨è·¯å¾„å‰ç¼€æ¥è®¿é—®é™æ€èµ„æº * åªéœ€è¦å°† è·¯å¾„å‰ç¼€ ä½œä¸º å‚æ•°1ï¼Œå°† express.static() æ–¹æ³•ä½œä¸º å‚æ•°2 å³å¯ */ app.use(\u0026#39;/static\u0026#39;, express.static(\u0026#39;static\u0026#39;)) ","date":"2023å¹´8æœˆ10æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/express/base/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691680288,"title":"Node.js Express æ¨¡å—åŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"åœ¨VS Codeä¸­ï¼Œç¼–å†™ä»£ç æˆ–è€…Markdownæ—¶ï¼Œä¸­æ–‡å­—ç¬¦ä¸è‹±æ–‡å­—ç¬¦é€šå¸¸æ˜¯æ— æ³•å¯¹é½çš„ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨Ubuntu Monoå­—ä½“ï¼Œè®©VS Codeçš„ä¸­è‹±å­—ç¬¦èƒ½å¤Ÿå¯¹é½ã€‚\nUbuntu Monoå­—ä½“å¯ä»¥ä»https://github.com/powerline/fontsä¸‹è½½ã€‚å¯ä»¥ç›´æ¥é€šè¿‡ç½‘é¡µä¸‹è½½å…¶zipå‹ç¼©åŒ…ï¼Œæˆ–è€…å°†å…¶cloneåˆ°æœ¬åœ°ï¼š\ngit clone https://github.com/powerline/fonts å¦‚æœæ˜¯åœ¨Windowsä¸Šå®‰è£…è¯¥å­—ä½“ï¼Œå¯ä»¥æ‰¾åˆ°é¡¹ç›®ä¸‹çš„UbuntuMonoæ–‡ä»¶å¤¹ï¼Œç›´æ¥åŒå‡»æ‰“å¼€.ttfæ–‡ä»¶ï¼Œæ ¹æ®æ˜¾ç¤ºçš„å†…å®¹æç¤ºï¼Œå°±èƒ½å®Œæˆå®‰è£…ã€‚\næ‰¾åˆ°UbuntuMonoæ–‡ä»¶å¤¹å¹¶æ‰“å¼€ï¼ŒåŒå‡»æ‰“å¼€ä¸‹æ–¹çº¢æ¡†ä¸­æ‰€æœ‰.tffæ–‡ä»¶è¿›è¡Œå®‰è£…ï¼š\nç„¶åæ ¹æ®ç•Œé¢ä¸­æ˜¾ç¤ºçš„å­—ä½“åç§°ï¼Œä¿®æ”¹VS Codeçš„å­—ä½“ï¼š\næ‰“å¼€VS Codeçš„è®¾ç½®ï¼Œæœç´¢@id:editor.fontFamilyï¼Œç„¶åå°†Ubuntu Monoå­—ä½“åŠ å…¥åå³ä¿®æ”¹æˆåŠŸï¼š\nå¦‚æœè¦æ ¹æ®æŸç§è¯­è¨€è®¾ç½®å­—ä½“ï¼Œå¯ä»¥åœ¨VS Codeä¸­æŒ‰ä¸‹ Ctrl+Shift+Pï¼Œç„¶ååœ¨æ‰“å¼€çš„è¾“å…¥æ¡†ä¸­æœç´¢settings.jsonï¼š\nDefault Settingsæ˜¯VS Codeé»˜è®¤çš„é…ç½®ï¼›Workspace Settingsæ˜¯å½“å‰å·¥ä½œåŒºçš„é…ç½®ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å·¥ä½œç›®å½•ï¼‰ï¼›User Settingsæ˜¯å½“å‰ç™»å½•ç”¨æˆ·çš„é…ç½®ï¼›Markdown PDFè¿™ä¸ªé…ç½®æ˜¯å› ä¸ºæˆ‘å·²ç»è¿›è¡Œè¿‡é…ç½®ï¼Œæ‰€ä»¥æ‰ä¼šæ˜¾ç¤ºã€‚æ ¹æ®ä½ çš„éœ€è¦è¿›è¡Œé€‰æ‹©å³å¯ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ä¿®æ”¹User Settingsã€‚\nç„¶ååœ¨æ‰“å¼€çš„settings.jsonæ–‡ä»¶å¤¹ä¸­æŒ‰Ctrl+FæŸ¥æ‰¾\u0026quot;[markdown]\u0026quot;è¿™ä¸ªè®¾ç½®é¡¹ï¼ˆå¦‚æœæ²¡æœ‰çš„è¯å°±è‡ªå·±åˆ›å»ºï¼‰ã€‚åœ¨\u0026quot;[markdown]\u0026quot;é¡¹ä¸‹ï¼Œæ–°å¢æˆ–ä¿®æ”¹å¦‚ä¸‹å†…å®¹ï¼š\n\u0026#34;[markdown]\u0026#34;: { \u0026#34;editor.fontFamily\u0026#34;: \u0026#34;Ubuntu Mono derivative Powerline\u0026#34;, }, å¦‚æœè§‰å¾—å­—ä½“å¤ªå°ï¼Œå¯ä»¥ï¼š\n\u0026#34;[markdown]\u0026#34;: { \u0026#34;editor.fontFamily\u0026#34;: \u0026#34;Ubuntu Mono derivative Powerline\u0026#34;, \u0026#34;editor.fontSize\u0026#34;: 17 }, ","date":"2023å¹´8æœˆ10æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/08/vs-code-%E4%B8%AD%E8%8B%B1%E5%AD%97%E7%AC%A6%E5%AF%B9%E9%BD%90/","series":[],"smallImg":"","tags":[{"title":"VS Code","url":"/tags/vs-code/"}],"timestamp":1691656827,"title":"VS Code ä¸­è‹±å­—ç¬¦å¯¹é½"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åŒ… åœ¨Node.jsä¸­ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—åˆç§°ä¸ºåŒ…ã€‚ç¬¬ä¸‰æ–¹æ¨¡å—ä¸åŒ…çš„æ¦‚å¿µç›¸åŒï¼Œä»…ä»…åœ¨ç§°å‘¼ä¸Šæœ‰å·®å¼‚ã€‚åŒ…æ˜¯ç”±ç¬¬ä¸‰æ–¹ä¸ªäººæˆ–å›¢é˜Ÿå¼€å‘å‡ºæ¥çš„ï¼Œå…è´¹ä¾›æ‰€æœ‰äººä½¿ç”¨ã€‚\nNode.jsä¸­çš„åŒ…éƒ½æ˜¯å…è´¹ä¸”å¼€æºçš„ï¼Œä¸éœ€è¦ä»˜è´¹å³å¯ä¸‹è½½ä½¿ç”¨ã€‚\nåŒ…æ˜¯åŸºäºå†…ç½®æ¨¡å—å°è£…å‡ºæ¥çš„ï¼Œæä¾›äº†æ›´é«˜çº§ã€æ›´æ–¹ä¾¿çš„APIï¼Œæå¤§åœ°æé«˜äº†å¼€å‘æ•ˆç‡ã€‚\nNPM åœ¨ npm, Inc. å…¬å¸æ——ä¸‹çš„ç½‘ç«™https://www.npmjs.comä¸Šï¼Œå¯ä»¥æœç´¢åˆ°ä»»ä½•ä½ éœ€è¦çš„åŒ…ã€‚è¯¥ç½‘ç«™æ˜¯å…¨çƒæœ€å¤§çš„åŒ…å…±äº«å¹³å°ã€‚åœ¨è¯¥ç½‘ç«™ä¸Šï¼Œä½ è¿˜èƒ½æµè§ˆåˆ°å¯¹åº”åŒ…çš„ç›¸å…³æ–‡æ¡£ã€‚\nnpm, Inc. å…¬å¸æä¾›äº†åœ°å€ä¸ºhttps://registry.npmjs.org/çš„æœåŠ¡å™¨ï¼Œæ¥å¯¹å¤–å…±äº«æ‰€æœ‰çš„åŒ…ã€‚å¯ä»¥é€šè¿‡è¯¥æœåŠ¡å™¨æ¥ä¸‹è½½æ‰€éœ€çš„åŒ…ã€‚\nä½¿ç”¨è¯¥æœåŠ¡å™¨ï¼Œéœ€è¦å¯¹åº”çš„åŒ…ç®¡ç†å·¥å…·æ‰èƒ½è¿›è¡ŒåŒ…ä¸‹è½½ã€‚è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·çš„åå­—å«åšNode Package Managerï¼ˆç®€ç§°npmåŒ…ç®¡ç†å·¥å…·ï¼‰ï¼Œè¿™ä¸ªåŒ…ç®¡ç†å·¥å…·éšç€Node.jsçš„å®‰è£…åŒ…ä¸€èµ·è¢«å®‰è£…åˆ°äº†ç”¨æˆ·çš„ç”µè„‘ä¸Šã€‚\nnpmå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼å¯ä»¥æŸ¥çœ‹Node.js ä»‹ç»â€”â€”NPMã€‚\nåœ¨ä½¿ç”¨npmåˆæ¬¡ä¸ºå½“å‰é¡¹ç›®å®‰è£…åŒ…åï¼Œé¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ä¼šå¤šå‡ºä¸€ä¸ªnode_modulesæ–‡ä»¶å¤¹å’Œpackage-lock.jsoné…ç½®æ–‡ä»¶ã€‚å…¶ä¸­ï¼š\nnode_modulesï¼šå­˜æ”¾æ‰€æœ‰å·²å®‰è£…åˆ°é¡¹ç›®ä¸­çš„åŒ…ã€‚require()å¯¼å…¥ç¬¬ä¸‰æ–¹åŒ…æ—¶ï¼Œå°±æ˜¯ä»è¯¥ç›®å½•ä¸­æŸ¥æ‰¾å¹¶åŠ è½½åŒ…ã€‚ package-lock.jsonï¼šè®°å½•node_modulesä¸‹çš„æ¯ä¸€ä¸ªåŒ…çš„ä¸‹è½½ä¿¡æ¯ã€‚ä¾‹å¦‚åŒ…åã€ç‰ˆæœ¬å·ã€ä¸‹è½½åœ°å€ç­‰ã€‚ ä¸€èˆ¬node_moduleså’Œpackage-lock.jsonéƒ½æ— éœ€ç”¨æˆ·ä¿®æ”¹ï¼Œç”±npmè‡ªè¡Œç®¡ç†ã€‚\nè¯­ä¹‰åŒ–ç‰ˆæœ¬å· é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŒ…çš„ç‰ˆæœ¬å·æ˜¯ä»¥â€œç‚¹åˆ†åè¿›åˆ¶â€å½¢å¼è¿›è¡Œå®šä¹‰çš„ï¼Œæ€»å…±æœ‰ä¸‰ä½æ•°å­—ï¼Œå…¶ä¸­æ¯ä¸€ä½æ•°å­—æ‰€ä»£è¡¨çš„çš„å«ä¹‰å¦‚ä¸‹ï¼š\nç¬¬1ä½æ•°å­—ï¼šå¤§ç‰ˆæœ¬ï¼ˆå¯èƒ½ä¸ä¹‹å‰çš„å¤§ç‰ˆæœ¬ä¸å…¼å®¹ï¼‰ã€‚ ç¬¬2ä½æ•°å­—ï¼šåŠŸèƒ½ç‰ˆæœ¬ã€‚ ç¬¬3ä½æ•°å­—ï¼šBugä¿®å¤ç‰ˆæœ¬ã€‚ NPM åŒ… åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ npmè§„å®šï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œå¿…é¡»æä¾›ä¸€ä¸ªpackage.jsonçš„åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ã€‚package.jsonç”¨æ¥è®°å½•ä¸é¡¹ç›®æœ‰å…³çš„ä¸€äº›é…ç½® ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š\né¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬å·ã€æè¿°ç­‰ã€‚ é¡¹ç›®ä¾èµ–çš„åŒ…ã€‚ åˆ†ç¯å¢ƒç®¡ç†åŒ…ã€‚ åœ¨å¤šäººåä½œæ—¶ï¼Œå¦‚æœå°†é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åŒ…ä¹Ÿä¸€èµ·å…±äº«ç»™ä»–äººï¼Œä¼šå¯¼è‡´åŒ…çš„ä½“ç§¯è¿‡å¤§ã€‚è€Œè¿™äº›ç¬¬ä¸‰æ–¹åŒ…å‡ç”±npmåŒ…å…±äº«æœåŠ¡å™¨æä¾›ã€‚æ‰€ä»¥åœ¨å…±äº«æ—¶å¯ä»¥ä»…æä¾›é¡¹ç›®æºä»£ç ï¼Œè€Œå°†node_modulesï¼ˆç¬¬ä¸‰æ–¹åŒ…æ‰€åœ¨ç›®å½•ï¼‰å‰”é™¤ï¼Œåœ¨ä»–äººä½¿ç”¨é¡¹ç›®æ—¶è¿ç½‘ä¸‹è½½ç¬¬ä¸‰æ–¹åŒ…å³å¯ã€‚é€šè¿‡package.jsonè®°å½•çš„åŒ…ç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å‰”é™¤node_modulesç›®å½•åï¼Œåœ¨å›¢é˜Ÿæˆå‘˜ä¹‹é—´å…±äº«é¡¹ç›®çš„æºä»£ç ã€‚\nåœ¨ä½¿ç”¨Gitä½œä¸ºä»£ç ä»“åº“å…±äº«æ—¶ï¼Œå¯ä»¥åœ¨.gitignoreä¸­æ·»åŠ node_modulesï¼Œä»è€Œä½¿Gitå¿½ç•¥node_modulesã€‚ä¾‹å¦‚å¿½ç•¥ä»“åº“ä¸‹æ‰€æœ‰node_modulesæ–‡ä»¶å¤¹ï¼ˆæˆ–æ–‡ä»¶ï¼‰ï¼š\n**/node_modules npmåŒ…ç®¡ç†å·¥å…·æä¾›äº†ä¸€ä¸ªå¿«æ·å‘½ä»¤ï¼Œå¯ä»¥åœ¨æ‰§è¡Œå‘½ä»¤æ—¶æ‰€å¤„çš„ç›®å½•ä¸­ï¼Œå¿«é€Ÿåˆ›å»ºpackage.jsonè¿™ä¸ªåŒ…ç®¡ç†é…ç½®æ–‡ä»¶ï¼š\nnpm init -y è¿è¡Œnpm initä¹‹åï¼Œé¡¹ç›®æ–‡ä»¶ä¸‹ç”Ÿæˆçš„package.jsonå†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š\n{ \u0026#34;name\u0026#34;: \u0026#34;first-package\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;1.0.0\u0026#34;, \u0026#34;description\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;main\u0026#34;: \u0026#34;index.js\u0026#34;, \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;echo \\\u0026#34;Error: no test specified\\\u0026#34; \u0026amp;\u0026amp; exit 1\u0026#34; }, \u0026#34;keywords\u0026#34;: [], \u0026#34;author\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;license\u0026#34;: \u0026#34;ISC\u0026#34; } nameï¼šåŒ…çš„åç§°ã€‚\né¡¹ç›®æ ¹ç›®å½•çš„åç§°å¹¶ä¸ä¸€å®šéœ€è¦ä¸nameç›¸åŒï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥è®©é¡¹ç›®æ ¹ç›®å½•çš„åç§°ä¸nameç›¸åŒï¼Œä»¥æ–¹ä¾¿æŸ¥æ‰¾ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒ…çš„åç§°æ˜¯ä¸èƒ½é‡å¤çš„ã€‚å› ä¸ºåœ¨NPMæœåŠ¡å™¨ä¸Šï¼ŒåŒ…çš„åç§°å…·æœ‰å”¯ä¸€æ€§ã€‚åœ¨å¯¹åŒ…è¿›è¡Œå‘½åä¹‹å‰ï¼Œå¯ä»¥å…ˆä»NPMå®˜ç½‘ä¸ŠæŸ¥æ‰¾åç§°æ˜¯å¦è¢«å ç”¨ã€‚\nversionï¼šåŒ…çš„ç‰ˆæœ¬ã€‚\ndescriptionï¼šæè¿°ä¿¡æ¯ã€‚\nmainï¼šå…¥å£æ–‡ä»¶ã€‚\nkeywordsï¼šå…³é”®å­—ã€‚\nauthorï¼šä½œè€…ã€‚\nlicenseï¼šå¼€æºåè®®ã€‚\næ›´å¤šLicenseè®¸å¯åè®®çš„ç›¸å…³å†…å®¹ï¼Œå¯å‚è€ƒhttps://www.jianshu.com/p/86251523e898\næ³¨ï¼šä¸Šè¿°å‘½ä»¤åªèƒ½åœ¨è‹±æ–‡çš„ç›®å½•ä¸‹æˆåŠŸè¿è¡Œã€‚æ‰€ä»¥ï¼Œé¡¹ç›®æ–‡ä»¶å¤¹çš„åç§°ä¸€å®šè¦ä½¿ç”¨è‹±æ–‡å‘½åï¼Œåœ¨é¡¹ç›®è·¯å¾„ä¸­æœ€å¥½ä¹Ÿä¸è¦ä½¿ç”¨ä¸­æ–‡ï¼Œä¸èƒ½å‡ºç°ç©ºæ ¼ã€‚\nä¾èµ–åŒ…ç®¡ç† package.jsonè¿˜è®°å½•äº†ç”¨æˆ·ä½¿ç”¨npm installå‘½ä»¤å®‰è£…çš„åŒ…ä¿¡æ¯ã€‚è¿è¡Œnpm installå‘½ä»¤å®‰è£…åŒ…çš„æ—¶å€™ï¼Œnpmä¼šè‡ªåŠ¨æŠŠåŒ…çš„åç§°å’Œç‰ˆæœ¬å·ï¼Œè®°å½•åˆ°package.jsonä¸­çš„dependenciesèŠ‚ç‚¹ï¼›ç›¸åº”çš„è¿è¡Œnpm uninstallæ—¶ï¼Œnpmä¼šè‡ªåŠ¨æŠŠåŒ…çš„å¯¹åº”ä¿¡æ¯ä»package.jsonä¸­å‰”é™¤ã€‚\nä¾‹å¦‚åœ¨é¡¹ç›®ä¸­å®‰è£…jqueryå’Œart-templateï¼š\nnpm install jquery art-template å®‰è£…æˆåŠŸåï¼Œpackage.jsonä¼šæ–°å¢å¦‚ä¸‹å†…å®¹ï¼š\n{ /* ... */ \u0026#34;dependencies\u0026#34;: { \u0026#34;art-template\u0026#34;: \u0026#34;^4.13.2\u0026#34;, \u0026#34;jquery\u0026#34;: \u0026#34;^3.7.0\u0026#34; } } å½“ä½¿ç”¨ä»–äººæä¾›çš„å‰”é™¤äº†node_modulesçš„é¡¹ç›®æ—¶ï¼Œéœ€è¦å…ˆæŠŠé¡¹ç›®æ‰€éœ€çš„åŒ…ä¸‹è½½åˆ°é¡¹ç›®ä¸­ï¼Œæ‰èƒ½å°†é¡¹ç›®è¿è¡Œèµ·æ¥ã€‚\nå¦‚æœåœ¨ä½¿ç”¨å‰æœªå°†é¡¹ç›®æ‰€éœ€åŒ…ä¸‹è½½ï¼Œä¼šæœ‰ç±»ä¼¼ä¸‹æ–¹çš„æŠ¥é”™ï¼š\nError: Cannot find module \u0026#39;xxx\u0026#39; åªéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨npm installï¼ˆæˆ–npm iï¼‰ï¼Œnpmå°±ä¼šè‡ªåŠ¨æ ¹æ®é¡¹ç›®ä¸‹çš„package.jsonæ–‡ä»¶ï¼Œå°†é¡¹ç›®æ‰€éœ€çš„åŒ…ä¸‹è½½åˆ°node_modulesä¸­ã€‚\nåŒ…çš„åˆ†ç±» è¢«å®‰è£…åˆ°é¡¹ç›®çš„node_modulesç›®å½•ä¸­çš„åŒ…ï¼Œéƒ½æ˜¯é¡¹ç›®åŒ…ã€‚é¡¹ç›®åŒ…åˆåˆ†ä¸ºä¸¤ç±»ï¼š\nå¼€å‘ä¾èµ–åŒ…ï¼šåªåœ¨å¼€å‘é˜¶æ®µæ‰ä¼šç”¨åˆ°ï¼Œåœ¨é¡¹ç›®ä¸Šçº¿ä¹‹åå¹¶ä¸ä¼šç”¨åˆ°çš„åŒ…ã€‚è¿™äº›åŒ…çš„ä¿¡æ¯ä¼šè¢«è®°å½•åˆ°package.jsonçš„devDependenciesèŠ‚ç‚¹ä¸­ã€‚ æ ¸å¿ƒä¾èµ–åŒ…ï¼šåœ¨é¡¹ç›®æµç¨‹çš„æ•´ä¸ªæœŸé—´ï¼ˆå¼€å‘é˜¶æ®µå’Œé¡¹ç›®ä¸Šçº¿ä¹‹åï¼‰éƒ½ä¼šç”¨åˆ°ã€‚è¿™äº›åŒ…çš„ä¿¡æ¯ä¼šè¢«è®°å½•åˆ°package.jsonçš„dependenciesèŠ‚ç‚¹ä¸­ã€‚ å…¨å±€åŒ…ï¼šåœ¨Linxuä¸­ï¼Œå…¨å±€åŒ…çš„å®‰è£…åŒ…ä¼šè¢«æ”¾åœ¨/usr/localä¸‹æˆ–è€…nodeçš„å®‰è£…ç›®å½•ä¸‹ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨nvmå®‰è£…çš„Node.jsï¼Œå®ƒçš„node_modulesåœ¨~/.nvm/versions/node/v20.5.0/lib/è·¯å¾„ä¸‹ï¼ˆå¦‚æœä½ ä½¿ç”¨çš„ç‰ˆæœ¬ä¸åŒï¼Œå°†v20.5.0æ›¿æ¢æˆå¯¹åº”çš„ç‰ˆæœ¬å³å¯ï¼‰ã€‚ å°†åŒ…ä½œä¸ºå…¨å±€å®‰è£…ï¼Œä»…éœ€åœ¨npm installï¼ˆæˆ–npm iï¼‰å‘½ä»¤ä¸Šæä¾›-gå‚æ•°å³å¯ã€‚\nåœ¨å®‰è£…åŒ…æ—¶ï¼Œå¯ä»¥ç»™npm installï¼ˆæˆ–npm iï¼‰å‘½ä»¤æä¾›å‚æ•°--save-devï¼ˆå¯ç®€å†™ä¸º-Dï¼‰ï¼Œè¿™æ ·å®‰è£…å¥½çš„åŒ…ï¼Œå®ƒä»¬çš„ä¿¡æ¯ä¼šè®°å½•åˆ°devDependenciesèŠ‚ç‚¹ä¸­ã€‚å¦‚æœä¸æŒ‡å®šæä¾›å‚æ•°--save-devï¼ˆæˆ–-Dï¼‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ä¿¡æ¯é»˜è®¤å°±ä¼šè®°å½•åœ¨dependenciesèŠ‚ç‚¹ä¸­ã€‚npm installï¼ˆæˆ–npm iï¼‰å‘½ä»¤çš„--save-devï¼ˆæˆ–-Dï¼‰å‚æ•°ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š\n# å››ç§é€šç”¨çš„å†™æ³•ï¼š npm install package-name@version -D npm install package-name@version --save-dev npm i package-name@version -D npm i package-name@version --save-dev æ³¨ï¼š--save-devï¼ˆæˆ–-Dï¼‰æ˜¯npm installï¼ˆæˆ–npm iï¼‰å‘½ä»¤çš„å‚æ•°ï¼Œå®ƒå¯ä»¥æ”¾åœ¨npm installï¼ˆæˆ–npm iï¼‰å‘½ä»¤ä¸‹çš„ä»»æ„ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ--save-devï¼ˆæˆ–-Dï¼‰å‚æ•°å¯ä»¥æ”¾åœ¨åŒ…åå‰é¢ã€‚\nåŒ…ç»“æ„ åœ¨Node.jsä¸­ï¼Œä¸€ä¸ªè§„èŒƒçš„åŒ…ï¼Œå®ƒçš„ç»„æˆç»“æ„å¿…é¡»ç¬¦åˆä»¥ä¸‹è¦æ±‚ï¼š\nä¸€ä¸ªåŒ…å¿…é¡»ä»¥å•ç‹¬çš„ç›®å½•å­˜åœ¨ã€‚\nåŒ…çš„é¡¶çº§ç›®å½•ä¸‹å¿…é¡»åŒ…å«åŒ…ç®¡ç†é…ç½®æ–‡ä»¶package.jsonã€‚\npackage.jsonä¸­å¿…é¡»åŒ…å«nameï¼ˆåŒ…åï¼‰ã€versionï¼ˆç‰ˆæœ¬å·ï¼‰å’Œmainï¼ˆåŒ…çš„å…¥å£ï¼‰è¿™ä¸‰ä¸ªå±æ€§ã€‚\nmainå±æ€§å®šä¹‰äº†åŒ…çš„å…¥å£çš„ä¸ºå“ªä¸ªæ–‡ä»¶ã€‚ä¾‹å¦‚åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…æ—¶ï¼Œrequire()åŠ è½½çš„å°±æ˜¯ç¬¬ä¸‰æ–¹åŒ…é¡¶çº§ç›®å½•çš„package.jsonä¸­mainå±æ€§å®šä¹‰çš„é‚£ä¸ª.jsæ–‡ä»¶ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨npm initåˆå§‹åŒ–åŒ…æ—¶ï¼Œpackage.jsonçš„mainå±æ€§å®šä¹‰çš„æ˜¯index.jsæ–‡ä»¶ã€‚å³ï¼Œå°†index.jsä½œä¸ºé»˜è®¤çš„åŒ…å…¥å£æ–‡ä»¶ã€‚\nåœ¨åŒ…çš„é¡¶çº§ç›®å½•ä¸‹ï¼Œè¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªREADME.mdä½œä¸ºåŒ…çš„è¯´æ˜æ–‡æ¡£ã€‚\nå…³äºåŒ…ç»“æ„çš„æ›´å¤šçº¦æŸï¼Œå¯è®¿é—®https://classic.yarnpkg.com/en/docs/package-jsonã€‚\nè‡ªå®šä¹‰å·¥å…·åŒ…ï¼ˆlinner-toolsï¼‰æ¡ˆä¾‹ï¼š\nlinner-toolsçš„ç»“æ„ï¼š\næ ¹ç›®å½•ï¼šlinner-toolsã€‚ æ ¹ç›®å½•ä¸‹çš„åŸºæœ¬é…ç½®æ–‡ä»¶ï¼š åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ï¼špackage.jsonã€‚\npackage.jsonä½¿ç”¨npm init -yè‡ªåŠ¨ç”Ÿæˆã€‚ç”ŸæˆæˆåŠŸåæŒ‰ç…§è‡ªå·±çš„æƒ…å†µå¯¹package.jsonè¿›è¡Œä¿®æ”¹å³å¯ã€‚\nåŒ…å…¥å£æ–‡ä»¶ï¼šindex.jsã€‚\nè¯´æ˜æ–‡æ¡£ï¼šREADME.mdã€‚\nè¯´æ˜æ–‡æ¡£æ ¹æ®å®é™…æƒ…å†µï¼Œä½¿ç”¨Markdownè¯­æ³•ç¼–å†™å³å¯ã€‚\nåœ¨linner-tools/srcä¸‹ç¼–å†™dateFormat.jså’ŒhtmlEscape.jsä¸¤ä¸ªæ¨¡å—ï¼š\ndateFormat.jsï¼š\n/** * æ ¼å¼åŒ–æ—¶é—´ * @param {String} dateTimeStr */ function dateFormat(dateTimeStr) { const dt = new Date(dateTimeStr) const year = dt.getFullYear() const month = padZero(dt.getMonth() + 1) const date = padZero(dt.getDate()) const hours = padZero(dt.getHours()) const minutes = padZero(dt.getMinutes()) const secondes = padZero(dt.getSeconds()) return `${year}.${month}.${date} ${hours}:${minutes}:${secondes}` } function padZero(n) { return n \u0026lt; 9 ? \u0026#39;0\u0026#39; + n : n } // å‘å¤–æš´éœ² dateFormat() æ–¹æ³• module.exports = { dateFormat } htmlEscape.jsï¼š\n/** * è½¬ä¹‰ HTML æ ‡ç­¾ * @param {String} htmlStr */ function htmlEscape(htmlStr) { return htmlStr.replace((/\u0026lt;|\u0026gt;|\u0026#34;|\u0026amp;/g), (match) =\u0026gt; { switch (match) { case \u0026#39;\u0026lt;\u0026#39;: return \u0026#39;\u0026amp;lt;\u0026#39; case \u0026#39;\u0026gt;\u0026#39;: return \u0026#39;\u0026amp;gt;\u0026#39; case \u0026#39;\u0026#34;\u0026#39;: return \u0026#39;\u0026amp;quot;\u0026#39; case \u0026#39;\u0026amp;\u0026#39;: return \u0026#39;\u0026amp;amp;\u0026#39; } }) } /** * è¿˜åŸè½¬ä¹‰åçš„ HTML å­—ç¬¦ * @param {String} str * @returns */ function htmlUnEscape(str) { return str.replace((/\u0026amp;lt;|\u0026amp;gt;|\u0026amp;quot;|\u0026amp;amp;/g), (match) =\u0026gt; { switch (match) { case \u0026#39;\u0026amp;lt;\u0026#39;: return \u0026#39;\u0026lt;\u0026#39; case \u0026#39;\u0026amp;gt;\u0026#39;: return \u0026#39;\u0026gt;\u0026#39; case \u0026#39;\u0026amp;quot;\u0026#39;: return \u0026#39;\u0026#34;\u0026#39; case \u0026#39;\u0026amp;amp;\u0026#39;: return \u0026#39;\u0026amp;\u0026#39; } }) } // å‘å¤–æš´éœ² htmlEscape() å’Œ htmlUnEscape() æ–¹æ³• module.exports = { htmlEscape, htmlUnEscape } åœ¨linner-toolsç›®å½•ä¸‹ç¼–å†™index.jsï¼š\n/** * linner-tools åŒ…å…¥å£æ–‡ä»¶ */ /** * æ–¹å¼ä¸€ï¼šç›´æ¥æ¥æ”¶ dateFormat ä¸­ç‰¹å®šçš„æˆå‘˜ï¼ˆèŠ±æ‹¬å·ä¸­çš„å˜é‡åè¦ä¸æ¨¡å—ä¸­çš„æˆå‘˜åç›¸åŒï¼‰ * å¦‚æœæœ‰å¤šä¸ªæˆå‘˜è¦æ¥æ”¶ï¼Œå¯ä»¥åœ¨èŠ±æ‹¬å·ä¸­å®šä¹‰å¤šä¸ªå˜é‡è¿›è¡Œæ¥æ”¶ */ const { dateFormat } = require(\u0026#39;./src/dateFormat\u0026#39;); const escape = require(\u0026#39;./src/htmlEscape\u0026#39;); module.exports = { dateFormat, ...escape // æ–¹å¼äºŒï¼šä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ \u0026#34;...\u0026#34;ï¼ˆæ›´æ¨èä½¿ç”¨ï¼‰ } åˆ›å»ºä¸€ä¸ªä¸linner-toolsç›®å½•åŒçº§çš„linner-tools-test.jsè¿›è¡Œç®€å•çš„æµ‹è¯•ï¼š\nconst linnerTools = require(\u0026#39;./linner-tools\u0026#39;); // æµ‹è¯•æ ¼å¼åŒ–æ—¶é—´çš„åŠŸèƒ½ let datetime = linnerTools.dateFormat(new Date()) console.log(datetime); console.log(\u0026#39;--------------------\u0026#39;); // æµ‹è¯• HTML è½¬ä¹‰åŠŸèƒ½ let htmlStr = \u0026#39;\u0026lt;h1 title=\u0026#34;abc\u0026#34;\u0026gt;è¿™æ˜¯h1æ ‡ç­¾\u0026lt;span\u0026gt;123\u0026amp;nbsp;\u0026lt;/span\u0026gt;\u0026lt;/h1\u0026gt;\u0026#39; let str = linnerTools.htmlEscape(htmlStr) console.log(str); console.log(\u0026#39;--------------------\u0026#39;); // æµ‹è¯•åè½¬ä¹‰ HTML åŠŸèƒ½ htmlStr = linnerTools.htmlUnEscape(str) console.log(htmlStr); è¾“å‡ºç»“æœå¤§è‡´å¦‚ä¸‹ï¼š\n2023.08.9 14:24:29 -------------------- \u0026amp;lt;h1 title=\u0026amp;quot;abc\u0026amp;quot;\u0026amp;gt;è¿™æ˜¯h1æ ‡ç­¾\u0026amp;lt;span\u0026amp;gt;123\u0026amp;amp;nbsp;\u0026amp;lt;/span\u0026amp;gt;\u0026amp;lt;/h1\u0026amp;gt; -------------------- \u0026lt;h1 title=\u0026#34;abc\u0026#34;\u0026gt;è¿™æ˜¯h1æ ‡ç­¾\u0026lt;span\u0026gt;123\u0026amp;nbsp;\u0026lt;/span\u0026gt;\u0026lt;/h1\u0026gt; åŒ…çš„å‘å¸ƒä¸åˆ é™¤ å‘å¸ƒåŒ…ä¹‹å‰ï¼Œéœ€è¦å…ˆåœ¨ NPM å®˜ç½‘ä¸Šæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œæ³¨å†Œæ—¶éœ€è¦ä½¿ç”¨é‚®ç®±éªŒè¯ã€‚\næ³¨å†Œå®Œæ¯•åéœ€è¦åœ¨npmä¸Šè¿›è¡Œç™»å½•ï¼Œåœ¨ç™»å½•ä¹‹å‰éœ€è¦å°†é•œåƒåˆ‡æ¢ä¸ºNPMå®˜æ–¹æºã€‚\nä½¿ç”¨ä¸‹æ–¹ä»»æ„ä¸€ç§æ–¹å¼åˆ‡æ¢å³å¯ï¼š\nä½¿ç”¨nrmåˆ‡æ¢æºï¼š\nnrm use npm ä½¿ç”¨npmåˆ‡æ¢æºï¼š\nnpm config set registry https://registry.npmjs.org/ å¯ä»¥ä½¿ç”¨ä¸‹æ–¹ä»»æ„ä¸€æ¡å‘½ä»¤éªŒè¯æ˜¯å¦åˆ‡æ¢æˆåŠŸï¼š\nnrm ls npm config get registry åˆ‡æ¢åˆ°NPMå®˜æ–¹æºåï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹æ–¹å‘½ä»¤è¿›è¡Œç™»å½•ï¼š\nnpm login # è¾“å…¥è¿™æ¡å‘½ä»¤ä¹‹åï¼Œæœ‰ä¸¤ç§ç™»å½•æ–¹å¼ # ï¼ˆå¯¹äºæ—§çš„Node.jsç‰ˆæœ¬ï¼‰ä¸€ç§æ˜¯ç›´æ¥åœ¨ç»ˆç«¯ä¸­æç¤ºä½ éœ€è¦è¾“å…¥ç”¨æˆ·åï¼ˆusernameï¼‰ã€å¯†ç ï¼ˆpasswordï¼‰å’Œé‚®ç®±ï¼ˆemailï¼‰ç­‰ # ï¼ˆå¯¹äºæ–°çš„Node.jsç‰ˆæœ¬ï¼‰å¦å¤–ä¸€ç§æ˜¯ç»™ä½ ä¸€ä¸ªç™»å½•é“¾æ¥ï¼Œè®©ä½ åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œå¹¶ä¸”ä½¿ç”¨ç”¨æˆ·åå¯†ç æˆ–è€…é‚®ç®±éªŒè¯ç ç­‰æ–¹å¼è¿›è¡Œç™»å½• # ç¬¬äºŒç§æ–¹å¼å¹¶ä¸è¦æ±‚ä½ è¿è¡Œçš„NPMå’Œä½ æ‰“å¼€ç™»å½•é“¾æ¥çš„æœºå™¨æ˜¯åŒä¸€å° ç™»å½•æˆåŠŸåä¼šæç¤ºä½ ï¼š\nLogged in on https://registry.npmjs.org/. ç™»å½•æˆåŠŸåï¼Œè¿›å…¥é¡¹ç›®æ ¹ç›®å½•linner-toolsï¼Œè¿è¡Œä¸‹æ–¹å‘½ä»¤è¿›è¡Œå‘å¸ƒï¼š\nnpm publish å‘å¸ƒæˆåŠŸåä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š\nnpm notice Publishing to https://registry.npmjs.org/ with tag latest and default access + linner-tools@1.0.0 æ³¨ï¼š\nå¦‚æœå‘å¸ƒçš„åŒ…åç§°ä¸æœåŠ¡å™¨ä¸Šç°æœ‰çš„åŒ…åç§°é‡å¤æˆ–è€…è¿‡äºç›¸ä¼¼ï¼Œåœ¨è¿è¡Œnpm publishæ—¶ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š\nnpm ERR! 403 403 Forbidden - PUT https://registry.npmjs.org/linner-tools - Package name too similar to existing package linner-tools; try renaming your package to \u0026#39;@linner/linner-tools\u0026#39; and publishing with \u0026#39;npm publish --access=public\u0026#39; instead å‘å¸ƒåŒ…æ—¶éœ€è¦æ…é‡ï¼Œå°½é‡ä¸è¦å¾€NPMä¸Šå‘å¸ƒæ²¡æœ‰æ„ä¹‰çš„åŒ…ã€‚\nåˆ é™¤å·²å‘å¸ƒçš„åŒ…ï¼š\nnpm unpublish package-name --force ä¾‹å¦‚åˆ é™¤linner-toolsè¿™ä¸ªåŒ…ï¼Œå¯ä»¥è¿è¡Œï¼š\nnpm unpublish linner-tools@1.0.0 --force åˆ é™¤æˆåŠŸåï¼Œç»ˆç«¯ä¼šæœ‰ç±»ä¼¼ä¸‹æ–¹çš„æç¤ºï¼š\nnpm WARN using --force Recommended protections disabled. - linner-tools@1.0.0 åœ¨åˆ é™¤åŒ…æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š\nnpm unpublishå‘½ä»¤åªèƒ½åˆ é™¤72å°æ—¶ä»¥å†…å‘å¸ƒçš„åŒ…ã€‚ ä½¿ç”¨npm unpublishåˆ é™¤çš„åŒ…ï¼Œåœ¨24å°æ—¶å†…ä¸å…è®¸é‡å¤å‘å¸ƒã€‚ æ¨¡å—çš„åŠ è½½æœºåˆ¶ æ¨¡å—ï¼ˆåŒ…ï¼‰åœ¨ç¬¬ä¸€æ¬¡è¢«åŠ è½½åä¼šè¢«ç¼“å­˜ã€‚æ— è®ºä»€ä¹ˆæ¨¡å—ï¼ŒNode.jséƒ½ä¼šä¼˜å…ˆä»ç¼“å­˜ä¸­åŠ è½½å®ƒä»¬ï¼Œä»è€Œæé«˜æ¨¡å—çš„åŠ è½½æ•ˆç‡ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œå³ä½¿å¤šæ¬¡è°ƒç”¨require()åŠ è½½åŒä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—ä¹Ÿåªä¼šåœ¨ç¬¬ä¸€æ¬¡è¢«require()åŠ è½½æ—¶æ‰§è¡Œã€‚å³å¤šæ¬¡è°ƒç”¨require()åŠ è½½åŒä¸€ä¸ªæ¨¡å—ä¸ä¼šå¯¼è‡´æ¨¡å—ä¸­çš„ä»£ç è¢«å¤šæ¬¡æ‰§è¡Œã€‚\næ¼”ç¤ºNode.jsæ¨¡å—åŠ è½½æœºåˆ¶ï¼š\né¦–å…ˆæ–°å»ºä¸€ä¸ªmyModule.jsæ–‡ä»¶ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹ï¼š\nconsole.log(\u0026#39;Hello! This is my module!\u0026#39;); ç„¶åå†æ–°å»ºä¸€ä¸ªtestMyModule.jsï¼Œç¼–å†™3æ¡require()è¯­å¥ï¼š\nrequire(\u0026#39;./myModule\u0026#39;); require(\u0026#39;./myModule\u0026#39;); require(\u0026#39;./myModule\u0026#39;); è¿è¡ŒtestMyModule.jsï¼Œæœ€åæ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nHello! This is my module! Hello! This is my module!åªè¢«æ‰“å°äº†ä¸€æ¬¡ã€‚\nå†…ç½®æ¨¡å—çš„åŠ è½½æœºåˆ¶ Node.jså†…ç½®æ¨¡å—çš„ä¼˜å…ˆçº§ï¼Œåœ¨æ‰€æœ‰æ¨¡å—ä¸­æ˜¯æœ€é«˜çš„ã€‚ä¾‹å¦‚require('fs')å§‹ç»ˆè¿”å›å†…ç½®çš„fsæ¨¡å—ï¼Œå³ä½¿åœ¨node_modulesç›®å½•ä¸‹ä¹Ÿæœ‰ä¸€ä¸ªç›¸åŒåç§°çš„fsåŒ…ã€‚\nè‡ªå®šä¹‰æ¨¡å—çš„åŠ è½½æœºåˆ¶ åœ¨ä½¿ç”¨require()åŠ è½½è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ä»¥./æˆ–../å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ŒNode.jsä¼šå°†å…¶ä½œä¸ºå†…ç½®æ¨¡å—æˆ–ç¬¬ä¸‰æ–¹æ¨¡å—è¿›è¡ŒåŠ è½½ã€‚\nåœ¨ä½¿ç”¨require()å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶æ‰©å±•åï¼Œåˆ™Node.jsä¼šæŒ‰ä»¥ä¸‹é¡ºåºå°è¯•è¿›è¡ŒåŠ è½½ï¼š\næŒ‰ç…§ç¡®åˆ‡çš„æ–‡ä»¶åå°è¯•è¿›è¡ŒåŠ è½½ã€‚ è¡¥å…¨.jsæ‰©å±•ååï¼Œå°è¯•è¿›è¡ŒåŠ è½½ã€‚ è¡¥å…¨.jsonæ‰©å±•ååï¼Œå°è¯•è¿›è¡ŒåŠ è½½ã€‚ è¡¥å…¨.nodeæ‰©å±•ååï¼Œå°è¯•è¿›è¡ŒåŠ è½½ã€‚ æœ€åä¼šå°è¯•åŠ è½½åŒåçš„ç›®å½•ï¼ˆå³åŒ…ï¼Œè¿™é‡ŒåŠ è½½æ˜¯æŒ‰ç›®å½•åç§°å»åŒ¹é…çš„ï¼‰ã€‚ å¦‚æœä¸Šæ–¹æ²¡æœ‰ä¸€é¡¹åŠ è½½æˆåŠŸï¼Œåˆ™ç»ˆç«¯æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ã€‚ ç¬¬ä¸‰æ–¹æ¨¡å—çš„åŠ è½½æœºåˆ¶ å¦‚æœä¼ é€’ç»™require()çš„æ¨¡å—æ ‡è¯†ç¬¦ä¸æ˜¯ä¸€ä¸ªå†…ç½®æ¨¡å—ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ ‡è¯†ï¼Œåˆ™Node.jsä¼šä»å½“å‰æ¨¡å—çš„çˆ¶ç›®å½•ï¼ˆä¹Ÿå°±æ˜¯å½“å‰æ¨¡å—æ‰€åœ¨çš„ç›®å½•ï¼‰å¼€å§‹ï¼Œå°è¯•ä»node_modulesæ–‡ä»¶å¤¹ä¸­åŠ ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚\nå¦‚æœNode.jsæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œä¼šç§»åŠ¨åˆ°å†ä¸Šä¸€å±‚çš„çˆ¶ç›®å½•ä¸­ï¼Œè¿›è¡ŒåŠ è½½ï¼Œç›´åˆ°ç§»åŠ¨åˆ°æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ä¸ºæ­¢ã€‚\nä¾‹å¦‚åœ¨/home/linner/node/myModule.jsè°ƒç”¨äº†require('tools')ï¼ŒNode.jsä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ï¼š\n/home/linner/node/node_modules/tools /home/linner/node_modules/tools /home/node_modules/tools /node_modules/tools ç›®å½•æ¨¡å—çš„åŠ è½½æœºåˆ¶ åœ¨å°†ç›®å½•ä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦ï¼Œä¼ é€’ç»™require()è¿›è¡ŒåŠ è½½æ—¶ï¼ŒNode.jsä¼šåœ¨ç›®å½•ä¸‹æŸ¥æ‰¾package.jsonï¼š\nå¦‚æœç›®å½•ä¸‹å­˜åœ¨package.jsonï¼Œåˆ™æŸ¥æ‰¾package.jsonä¸­çš„mainå±æ€§ï¼š å¦‚æœpackage.jsonå­˜åœ¨mainå±æ€§ï¼Œé‚£ä¹ˆå°±å°†mainå±æ€§å®šä¹‰çš„æ–‡ä»¶ä½œä¸ºrequire()åŠ è½½çš„å…¥å£ã€‚\nå¦‚æœmainå±æ€§å®šä¹‰çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å°è¯•å°†ç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ä½œä¸ºåŠ è½½å…¥å£ã€‚æ­¤æ—¶æ¨¡å—æˆ–è®¸èƒ½æ­£å¸¸åŠ è½½ï¼Œä½†æ˜¯Node.jsä¼šåœ¨ç»ˆç«¯è¾“å‡ºè­¦å‘Šæ¶ˆæ¯ï¼š\n(node:7393) [DEP0128] DeprecationWarning: Invalid \u0026#39;main\u0026#39; field in \u0026#39;xxx/package.json\u0026#39; of \u0026#39;xxx.js\u0026#39;. Please either fix that or report it to the module author (Use `node --trace-deprecation ...` to show where the warning was created) å¦‚æœpackage.jsonä¸å­˜åœ¨mainå±æ€§ï¼Œå°†å°è¯•åŠ è½½ç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ï¼ˆåŠ è½½æˆåŠŸçš„è¯å¹¶ä¸ä¼šæœ‰æŠ¥é”™æˆ–è­¦å‘Šä¿¡æ¯ï¼‰ã€‚\nå¦‚æœç›®å½•ä¸‹ä¸å­˜åœ¨package.jsonï¼Œä¹Ÿæ˜¯å°è¯•åŠ è½½ç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ï¼ˆåŠ è½½æˆåŠŸçš„è¯å¹¶ä¸ä¼šæœ‰æŠ¥é”™æˆ–è­¦å‘Šä¿¡æ¯ï¼‰ã€‚ ä»ä»¥ä¸ŠåŠ è½½æ¨¡å—çš„æ­¥éª¤ä¸­å¯ä»¥çœ‹å‡ºï¼Œindex.jsæ˜¯ä½œä¸ºNode.jsçš„é»˜è®¤å…¥å£æ–‡ä»¶è€Œå­˜åœ¨ã€‚å¦‚æœindex.jsæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ¨¡å—åŠ è½½å¤±è´¥ï¼ŒNode.jsä¼šåœ¨ç»ˆç«¯æŠ¥å‘Šæ¨¡å—ç¼ºå¤±ï¼š\nError: Cannot find module \u0026#39;xxx\u0026#39; ","date":"2023å¹´8æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/npm-and-package/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691482675,"title":"NPM ä¸åŒ…"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ¨¡å—åŒ–æ¦‚å¿µ æ¨¡å—åŒ–æ˜¯æŒ‡è§£å†³ä¸€ä¸ªå¤æ‚é—®é¢˜æ—¶ï¼Œè‡ªé¡¶å‘ä¸‹é€å±‚æŠŠç³»ç»Ÿåˆ’åˆ†æˆè‹¥å¹²æ¨¡å—çš„è¿‡ç¨‹ã€‚å¯¹äºæ•´ä¸ªç³»ç»Ÿæ¥è¯´ï¼Œæ¨¡å—æ˜¯å¯ç»„åˆã€å¯åˆ†è§£å’Œå¯æ›´æ¢çš„å•å…ƒã€‚\nåœ¨æ¨¡å—åŒ–æ—¶ï¼Œè¦éµå®ˆå›ºå®šçš„è§„åˆ™ï¼ˆæ¨¡å—åŒ–è§„èŒƒï¼‰ï¼ŒæŠŠä¸€ä¸ªå¤§æ–‡ä»¶æ‹†æˆç‹¬ç«‹å¹¶äº’ç›¸ä¾èµ–çš„å¤šä¸ªå°æ¨¡å—ã€‚\nè¿›è¡Œæ¨¡å—åŒ–æ‹†åˆ†çš„å¥½å¤„ï¼š\næé«˜äº†ä»£ç çš„å¤ç”¨æ€§ã€‚ æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚ å¯ä»¥å®ç°æŒ‰éœ€åŠ è½½ã€‚ éµå®ˆåŒæ ·çš„æ¨¡å—åŒ–è§„èŒƒï¼Œæœ‰åˆ©äºé™ä½æ²Ÿé€šçš„æˆæœ¬ï¼Œæå¤§åœ°æ–¹ä¾¿äº†å„ä¸ªæ¨¡å—ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼Œåˆ©äººåˆ©å·±ã€‚ Node.js æ¨¡å—åŒ– Node.jsä¸­æ ¹æ®æ¨¡å—æ¥æºçš„ä¸åŒï¼Œå°†æ¨¡å—åˆ†ä¸ºäº†3å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š\nå†…ç½®æ¨¡å—ï¼šç”±Node.jså®˜æ–¹æä¾›ï¼Œä¾‹å¦‚fsã€pathã€httpç­‰ã€‚\nè‡ªå®šä¹‰æ¨¡å—ï¼šç”¨æˆ·è‡ªå®šä¹‰çš„æ¨¡å—ã€‚åœ¨Node.jsä¸­ï¼Œç”¨æˆ·åˆ›å»ºçš„æ¯ä¸ª.jsæ–‡ä»¶ï¼Œéƒ½å±äºè‡ªå®šä¹‰æ¨¡å—ã€‚\nåœ¨å°†.jsæ–‡ä»¶åŠ è½½ä¸ºæ¨¡å—æ—¶ï¼Œéœ€è¦æŒ‡å®šå…¶è·¯å¾„ï¼ˆ.jsåç¼€å¯ä»¥çœç•¥ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Šï¼‰ï¼š\nconst myModule = require(\u0026#39;./custom\u0026#39;) ç¬¬ä¸‰æ–¹æ¨¡å—ï¼šç”±å…¶ä»–ç”¨æˆ·å¼€å‘çš„æ¨¡å—ï¼Œå¹¶éå®˜æ–¹æä¾›æˆ–ç”¨æˆ·åˆ›å»ºçš„æ¨¡å—ã€‚ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—å‰éœ€è¦å…ˆè¿›è¡Œä¸‹è½½ï¼ˆä¾‹å¦‚ä½¿ç”¨npmå®‰è£…çš„æ¨¡å—ï¼‰ã€‚\næ³¨ï¼šä½¿ç”¨require()æ–¹æ³•åŠ è½½æ¨¡å—æ—¶ï¼Œä¼šåŒæ—¶æ‰§è¡Œè¢«åŠ è½½æ¨¡å—ä¸­çš„ä»£ç ã€‚\næ¨¡å—ä½œç”¨åŸŸ æ¨¡å—ä½œç”¨åŸŸæ˜¯æŒ‡åœ¨æ¨¡å—ä¸­å®šä¹‰çš„å˜é‡ã€æ–¹æ³•ç­‰æˆå‘˜ï¼Œåªèƒ½åœ¨å½“å‰æ¨¡å—å†…è¢«è®¿é—®ã€‚\næ¨¡å—ä½œç”¨åŸŸå¯ä»¥é˜²æ­¢å…¨å±€å˜é‡æ±¡æŸ“çš„é—®é¢˜ã€‚\nCommonJS æ¨¡å—åŒ–è§„èŒƒ Node.jséµå¾ªäº†CommonJSæ¨¡å—åŒ–è§„èŒƒï¼ŒCommonJSè§„å®šäº†æ¨¡å—çš„ç‰¹æ€§å’Œå„æ¨¡å—ä¹‹é—´ç›¸äº’ä¾èµ–çš„æ–¹å¼ã€‚\nCommonJSè§„å®šï¼š\næ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚ moduleå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§ï¼ˆå³module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚ åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§ã€‚require()æ–¹æ³•ç”¨äºåŠ è½½æ¨¡å—ã€‚ Module å¯¹è±¡ moduleå¯¹è±¡å­˜æ”¾äº†å½“å‰æ¨¡å—ä¸­çš„åŸºæœ¬ä¿¡æ¯ã€‚åœ¨ä¸€ä¸ªç©ºçš„jsæ–‡ä»¶ä¸­æ‰“å°moduleå¯¹è±¡çš„ç»“æœå¦‚ä¸‹ï¼š\nModule { id: \u0026#39;.\u0026#39;, exports: {}, parent: null, filename: \u0026#39;/root/study-js/modularization/module-object.js\u0026#39;, loaded: false, children: [], paths: [ \u0026#39;/root/study-js/modularization/node_modules\u0026#39;, \u0026#39;/root/study-js/node_modules\u0026#39;, \u0026#39;/root/node_modules\u0026#39;, \u0026#39;/node_modules\u0026#39; ] } moduleå¯¹è±¡çš„å±æ€§ï¼š\nfilenameï¼šå½“å‰æ¨¡å—æ–‡ä»¶çš„å…¨è·¯å¾„åã€‚ exportsï¼šå‘å¤–å…±äº«æˆå‘˜ã€æ¥å£ã€‚ å‘å¤–å…±äº«æ¨¡å—å†…æˆå‘˜ åœ¨è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨module.exportså¯¹è±¡ï¼Œå°†æ¨¡å—å†…çš„æˆå‘˜å‘å¤–éƒ¨çš„å…¶ä»–æ¨¡å—å…±äº«ï¼Œä¾›å¤–ç•Œä½¿ç”¨ã€‚åœ¨å¤–ç•Œä½¿ç”¨require()æ–¹æ³•å¯¼å…¥æ¨¡å—æ—¶ï¼Œrequire()æ–¹æ³•æä¾›çš„å°±æ˜¯module.exportsæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚\nä¸ºmodule.exportså¯¹è±¡æŒ‚è½½æˆå‘˜æ—¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š\nä¸ºmodule.exportså¯¹è±¡åˆ›å»ºæˆå‘˜ï¼š\n// åœ¨ module.exports å¯¹è±¡ä¸ŠæŒ‚è½½å±æ€§ module.exports.username = \u0026#39;Linner\u0026#39; // åœ¨ module.exports å¯¹è±¡ä¸ŠæŒ‚è½½æ–¹æ³• module.exports.hello = function () { console.log(\u0026#39;Hello Orther Module!\u0026#39;); } // æŒ‚è½½å¸¸é‡å±æ€§ const COLOR = \u0026#39;black\u0026#39; module.exports.COLOR = COLOR å®šä¹‰ä¸€ä¸ªmodule.exportså¯¹è±¡ï¼š\n// å®šä¹‰ module.exports å¯¹è±¡ module.exports = { username: \u0026#39;Linner\u0026#39;, hello () { console.log(\u0026#39;Hello Orther Module!\u0026#39;); }, COLOR: \u0026#39;black\u0026#39; } ä½¿ç”¨è¿™ä¸¤ç§æ–¹å¼æ¥æŒ‚è½½ï¼ŒåŒºåˆ«ä¸å¤§ï¼Œå¯ä»¥åœ¨å…¶å®ƒæ¨¡å—ä¸­æ‰“å°è¾“å‡ºè¿›è¡Œè§‚å¯Ÿï¼ˆå‡è®¾åˆ›å»ºçš„.jsæ–‡ä»¶åä¸ºmodule-exports.jsï¼‰ï¼š\nconst me = require(\u0026#39;./module-exports\u0026#39;); // æ‰“å°å…¶ä»–æ¨¡å—çš„ module.exports console.log(me); å‘å¤–å…±äº«æ¨¡å—ä½œç”¨åŸŸä¸­çš„æˆå‘˜ï¼Œé™¤äº†ä½¿ç”¨module.exportså¯¹è±¡å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨exportså¯¹è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œexportså’Œmoudle.exportsæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æœ€ç»ˆå…±äº«çš„ç»“æœï¼Œæ˜¯ä»¥module.exportsæŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†ã€‚\nåœ¨exports-object.jsä¸­ç¼–å†™ï¼š\nexports.username = \u0026#39;Linner\u0026#39; exports.age = null exports.hello = function () { console.log(\u0026#39;Hello!\u0026#39;); } // éªŒè¯ exports å’Œ module.exports æŒ‡å‘çš„æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ console.log(\u0026#39;exports\u0026#39;, exports); console.log(\u0026#39;module.exports\u0026#39;, module.exports); console.log(\u0026#39;Are they equal?\u0026#39;, exports === module.exports); /** * å¦‚æœç›´æ¥ä¸º exports å¯¹è±¡èµ‹å€¼ * æ­¤æ—¶ exports å’Œ module.exports æŒ‡å‘çš„å°±ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº† */ exports = { username: \u0026#39;Zhangsan\u0026#39;, age: \u0026#39;20\u0026#39; } console.log(\u0026#39;Assign a value to the exports:\u0026#39;); console.log(\u0026#39;exports\u0026#39;, exports); console.log(\u0026#39;module.exports\u0026#39;, module.exports); console.log(\u0026#39;Are they equal?\u0026#39;, exports === module.exports); ç„¶ååœ¨test-exports.jsä¸­è¿›è¡Œæµ‹è¯•ï¼š\nconst eo = require(\u0026#39;./exports-object\u0026#39;); console.log(\u0026#34;The module.exports in exports-object:\u0026#34;, eo); è¿è¡Œtest-exports.jsè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\nexports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } module.exports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } Are they equal? true Assign a value to the exports: exports { username: \u0026#39;Zhangsan\u0026#39;, age: \u0026#39;20\u0026#39; } module.exports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } Are they equal? false The module.exports in exports-object: { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } åœ¨exports-object.jsä¸­æ·»åŠ æ–°çš„ä»£ç ï¼š\n/* çœç•¥å…¶å®ƒä»£ç ... */ module.exports = { username: \u0026#39;Lisi\u0026#39;, age: \u0026#39;23\u0026#39;, gender: \u0026#39;man\u0026#39; } console.log(\u0026#39;Assign a value to the module.exports:\u0026#39;); console.log(\u0026#39;exports\u0026#39;, exports); console.log(\u0026#39;module.exports\u0026#39;, module.exports); console.log(\u0026#39;Are they equal?\u0026#39;, exports === module.exports); å†æ¬¡è¿è¡Œtest-exports.jsï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\nexports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } module.exports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } Are they equal? true Assign a value to the exports: exports { username: \u0026#39;Zhangsan\u0026#39;, age: \u0026#39;20\u0026#39; } module.exports { username: \u0026#39;Linner\u0026#39;, age: null, hello: [Function] } Are they equal? false Assign a value to the module.exports: exports { username: \u0026#39;Zhangsan\u0026#39;, age: \u0026#39;20\u0026#39; } module.exports { username: \u0026#39;Lisi\u0026#39;, age: \u0026#39;23\u0026#39;, gender: \u0026#39;man\u0026#39; } Are they equal? false The module.exports in exports-object: { username: \u0026#39;Lisi\u0026#39;, age: \u0026#39;23\u0026#39;, gender: \u0026#39;man\u0026#39; } æ€»ç»“ï¼šå¦‚æœå¯¹exportsæˆ–module.exportsåªè¿›è¡Œæ·»åŠ æˆå‘˜å¯¹è±¡çš„æ“ä½œï¼Œä¸ç›´æ¥ç»™å®ƒä»¬èµ‹å€¼ï¼Œé‚£ä¹ˆexportså’Œmodule.exportsæŒ‡å‘çš„å§‹ç»ˆéƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœå¯¹exportsæˆ–module.exportsè¿›è¡Œäº†èµ‹å€¼æ“ä½œï¼Œé‚£ä¹ˆexportså’Œmodule.exportsæŒ‡å‘çš„å°±ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å‘å¤–å…±äº«çš„æˆå‘˜è¿˜æ˜¯ä»¥module.exportsä¸ºå‡†ã€‚\næ³¨ï¼šä¸ºäº†é˜²æ­¢æ··ä¹±ï¼Œä¸è¦å†åŒä¸€ä¸ªæ¨¡å—ä¸­åŒæ—¶ä½¿ç”¨exportså’Œmodule.exportsã€‚å»ºè®®ä½¿ç”¨module.exportsã€‚\n","date":"2023å¹´8æœˆ7æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/modularization/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691418199,"title":"Node.js æ¨¡å—åŒ–"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"httpæ¨¡å—æ˜¯Node.jså®˜æ–¹æä¾›çš„ã€ç”¨äºåˆ›å»ºWebæœåŠ¡å™¨çš„æ¨¡å—ã€‚é€šè¿‡httpæ¨¡å—æä¾›çš„http.createServer()æ–¹æ³•ï¼Œå°±èƒ½åƒWebæœåŠ¡å™¨ä¸€æ ·å¯¹å¤–æä¾›Webèµ„æºæœåŠ¡ã€‚\nåœ¨Node.jsä¸­æ— éœ€ä½¿ç”¨ç¬¬ä¸‰æ–¹WebæœåŠ¡å™¨è½¯ä»¶ï¼Œé€šè¿‡httpæ¨¡å—å°±èƒ½æ¨¡æ‹ŸæœåŠ¡å™¨è½¯ä»¶ï¼Œä»è€Œå¯¹å¤–æä¾›WebæœåŠ¡ã€‚\nhttpæ¨¡å—ä¸»è¦ç”¨äºæ­å»ºHTTPæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ï¼Œä½¿ç”¨HTTPæœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯åŠŸèƒ½å¿…é¡»è°ƒç”¨httpæ¨¡å—ã€‚åœ¨Node.jsä¸­ä½¿ç”¨WebæœåŠ¡çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\nå¯¼å…¥httpæ¨¡å—ï¼š\nconst http = require(\u0026#39;http\u0026#39;) åˆ›å»ºWebæœåŠ¡å™¨å®ä¾‹ã€‚\nconst server = http.createServer() ä¸ºæœåŠ¡å™¨å®ä¾‹ç»‘å®šrequestäº‹ä»¶ï¼Œç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚\nserver.on(\u0026#39;request\u0026#39;, (req, res) =\u0026gt; { console.log(\u0026#39;Someone visit our web server.\u0026#39;); /* Request Handle... */ }) å¯åŠ¨æœåŠ¡å™¨ã€‚\nserver.listen(8080, () =\u0026gt; { // ç›‘å¬ 8080 ç«¯å£ console.log(\u0026#39;Server running at http://127.0.0.1:8080\u0026#39;); /* Started Handle... */ }) HTTP Demoå¦‚ä¸‹ï¼š\n// 1. å¯¼å…¥ http æ¨¡å— const http = require(\u0026#39;http\u0026#39;); // 2. åˆ›å»º web æœåŠ¡å™¨å®ä¾‹ const server = http.createServer() // 3. ä¸ºæœåŠ¡å™¨å®ä¾‹ç»‘å®š request äº‹ä»¶ï¼Œç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ server.on(\u0026#39;request\u0026#39;, (req, res) =\u0026gt; { /** * è®¾ç½®å“åº”å¤´ä¿¡æ¯ * çŠ¶æ€ç ï¼š200 * å†…å®¹ç±»å‹: æ–‡æœ¬ */ res.writeHead(200, {\u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39;}) // å‘é€å“åº”æ•°æ® \u0026#34;Hello World!\u0026#34; res.end(\u0026#39;Hello World!\\n\u0026#39;); console.log(\u0026#39;Someone visit our web server.\u0026#39;); }) // 4. å¯åŠ¨æœåŠ¡å™¨ server.listen(8080, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1:8080\u0026#39;); }) åœ¨server.on()æ–¹æ³•çš„å›è°ƒå‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸­ï¼Œreqå°±æ˜¯Requestï¼ˆè¯·æ±‚ï¼‰å¯¹è±¡ï¼Œreså°±æ˜¯Responseï¼ˆå“åº”ï¼‰å¯¹è±¡ã€‚\nRequest å¯¹è±¡ Request å¯¹è±¡ç”¨äºè·å–å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯çš„è¯·æ±‚ä¿¡æ¯ã€‚\nè·å–è¯·æ±‚ä¿¡æ¯ï¼ˆhttp.createServer()ä¹Ÿèƒ½æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œä¸‹æ–¹æ¼”ç¤ºäº†ä½¿ç”¨æ–¹å¼ï¼‰ï¼š\nconst { createServer } = require(\u0026#34;http\u0026#34;); createServer((req, res) =\u0026gt; { console.log(\u0026#39;Request URL: \u0026#39; + req.url); // è¯·æ±‚URL console.log(\u0026#39;Request Method: \u0026#39; + req.method); // è¯·æ±‚æ–¹å¼ }).listen(8080, () =\u0026gt; { console.log(\u0026#39;Server running at http://127.0.0.1:8080\u0026#39;); }) Response å¯¹è±¡ Request å¯¹è±¡ç”¨äºæœåŠ¡ç«¯å“åº”ç»™å®¢æˆ·ç«¯æ•°æ®ã€‚\nRequest å¯¹è±¡å“åº”æ•°æ®çš„æ–¹å¼æ˜¯ï¼Œè°ƒç”¨res.end()æ–¹æ³•ã€‚å°±å¦‚HTTP Demoä¸­æ‰€ç¤ºã€‚ä¸‹æ–¹å±•ç¤ºäº†å¦å¤–ä¸€ä¸ªDemoï¼Œè¯¥Demoå±•ç¤ºäº†Responseå¯¹è±¡çš„ä½¿ç”¨ï¼Œè¿˜å±•ç¤ºäº†http.Serverå¯¹è±¡çš„é“¾å¼è°ƒç”¨ï¼Œå¹¶ä¸”é€šè¿‡ç»™å“åº”å¤´è®¾ç½®å­—ç¬¦é›†çš„æ–¹å¼è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š\nconst { createServer } = require(\u0026#39;http\u0026#39;); var url = \u0026#39;http://127.0.0.1:8080\u0026#39; createServer().on(\u0026#39;request\u0026#39;, (req, res) =\u0026gt; { // è®¾ç½®å“åº”æ•°æ®ç±»å‹å¹¶è§£å†³ä¸­æ–‡ä¹±ç  res.setHeader(\u0026#39;Content-Type\u0026#39;, \u0026#39;text/plain; charset=utf-8\u0026#39;) // å‘é€å“åº”æ•°æ® res.end(`è¯·æ±‚åœ°å€: ${url}${req.url}\\nè¯·æ±‚æ–¹å¼: ${req.method}`); // å½“è°ƒç”¨äº† res.end() ä¹‹åï¼Œå°±è¡¨ç¤ºå“åº”å·²ç»ç»“æŸäº†ï¼Œæ­¤æ—¶å†è¿›è¡Œä»»ä½•å“åº”éƒ½æ˜¯æ— æ•ˆçš„ }).listen(8080, () =\u0026gt; { console.log(\u0026#39;Server running at \u0026#39; + url); }) æ ¹æ® URL è¿›è¡Œå“åº” ä½¿ç”¨Node.jsçš„httpæ¨¡å—ï¼Œä¸ºæ–‡ä»¶ç³»ç»Ÿæ¨¡å—ä¸­æ¡ˆä¾‹2ç”Ÿæˆçš„clocké¡µé¢æ­å»ºWeb Serverï¼š\nconst http = require(\u0026#39;http\u0026#39;); const fs = require(\u0026#39;fs\u0026#39;); const path = require(\u0026#39;path\u0026#39;); const server = http.createServer(); server.on(\u0026#39;request\u0026#39;, (req, res) =\u0026gt; { // res.setHeader(\u0026#39;Content-Type\u0026#39;, \u0026#39;text/html; charset=utf-8\u0026#39;) let url = req.url // URLå¤„ç† const DIR_NAME = \u0026#39;clock\u0026#39; if (url == \u0026#39;/\u0026#39;) { url = path.join(DIR_NAME, \u0026#39;index.html\u0026#39;) // åŒ¹é…ä»¥\u0026#39;/index\u0026#39;å¼€å¤´çš„URLè¯·æ±‚ } else if (url.startsWith(\u0026#39;/index\u0026#39;)) { url = path.join(DIR_NAME, url) } // èµ„æºè·¯å¾„æ‹¼æ¥ const PATH = path.join(__dirname, url) // è¯»å–æ–‡ä»¶ fs.readFile(PATH, \u0026#39;utf-8\u0026#39;, (err, data) =\u0026gt; { if (err) { // å±•ç¤ºé”™è¯¯æ¶ˆæ¯ res.end(`\u0026lt;h1\u0026gt;404 Error! ${req.url} Not Found!\u0026lt;/h1\u0026gt;`) } // å‘é€ç›¸åº”æ•°æ® res.end(data) }) }) server.listen(8080, () =\u0026gt; { console.log(\u0026#39;Server listen at http://127.0.0.1:8080/\u0026#39;); }) ","date":"2023å¹´8æœˆ7æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/http-module/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691395553,"title":"Node.js HTTP æ¨¡å—"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Node.js æ˜¯å•è¿›ç¨‹å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯å› ä¸º V8 å¼•æ“æä¾›çš„å¼‚æ­¥æ‰§è¡Œå›è°ƒæ¥å£ï¼Œé€šè¿‡è¿™äº›æ¥å£å¯ä»¥å¤„ç†å¤§é‡çš„å¹¶å‘ï¼Œæ‰€ä»¥æ€§èƒ½éå¸¸é«˜ã€‚\nNode.js å‡ ä¹æ¯ä¸€ä¸ª API éƒ½æ˜¯æ”¯æŒå›è°ƒå‡½æ•°çš„ã€‚\nNode.js åŸºæœ¬ä¸Šæ‰€æœ‰çš„äº‹ä»¶æœºåˆ¶éƒ½æ˜¯ç”¨è®¾è®¡æ¨¡å¼ä¸­è§‚å¯Ÿè€…æ¨¡å¼å®ç°ã€‚\nNode.js å•çº¿ç¨‹ç±»ä¼¼è¿›å…¥ä¸€ä¸ªwhile(true)çš„äº‹ä»¶å¾ªç¯ï¼Œç›´åˆ°æ²¡æœ‰äº‹ä»¶è§‚å¯Ÿè€…æ—¶é€€å‡ºã€‚æ¯ä¸ªå¼‚æ­¥äº‹ä»¶éƒ½ç”Ÿæˆä¸€ä¸ªäº‹ä»¶è§‚å¯Ÿè€…ï¼Œå¦‚æœæœ‰äº‹ä»¶å‘ç”Ÿå°±è°ƒç”¨è¯¥å›è°ƒå‡½æ•°ã€‚\näº‹ä»¶é©±åŠ¨ç¨‹åº Node.js ä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€‚åœ¨äº‹ä»¶é©±åŠ¨æ¨¡å‹ä¸­ï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¸»å¾ªç¯æ¥ç›‘å¬äº‹ä»¶ï¼Œå½“æ£€æµ‹åˆ°äº‹ä»¶æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼š\nè¿™å¥—æµç¨‹æœ‰ç‚¹ç±»ä¼¼äºè§‚å¯Ÿè€…æ¨¡å¼ï¼Œäº‹ä»¶ç›¸å½“äºä¸€ä¸ªä¸»é¢˜ï¼ˆSubjectï¼‰ï¼Œè€Œæ‰€æœ‰æ³¨å†Œåˆ°è¿™ä¸ªäº‹ä»¶ä¸Šçš„å¤„ç†å‡½æ•°ç›¸å½“äºè§‚å¯Ÿè€…ï¼ˆObserverï¼‰ã€‚å½“ä¸»é¢˜å‘ç”Ÿæ”¹å˜ï¼ˆäº‹ä»¶è§¦å‘ï¼‰æ—¶ï¼Œé€šçŸ¥è§‚å¯Ÿè€…è¿›è¡Œæ›´æ–°ï¼ˆè§¦å‘ç›¸åº”çš„å›è°ƒå‡½æ•°ï¼‰ã€‚\näº‹ä»¶æ¨¡å— Node.js æœ‰å¤šä¸ªå†…ç½®çš„äº‹ä»¶ï¼Œå¯ä»¥é€šè¿‡å¼•å…¥ events æ¨¡å—ï¼Œå¹¶é€šè¿‡å®ä¾‹åŒ– EventEmitter ç±»æ¥ç»‘å®šå’Œç›‘å¬äº‹ä»¶ï¼Œå¦‚ï¼š\n// å¼•å…¥ events æ¨¡å— const events = require(\u0026#39;events\u0026#39;); /** * åˆ›å»º EventEmitter å¯¹è±¡ * EventEmitterå¯ç”¨äºæ³¨å†Œäº‹ä»¶å¤„ç†å’Œè§¦å‘äº‹ä»¶ */ let eventEmitter = new events.EventEmitter() /** * ç»‘å®š data_received äº‹ä»¶å¤„ç†ç¨‹åº * eventEmitter.on() æ–¹æ³•ï¼š * - å‚æ•°1ï¼šç»‘å®šçš„äº‹ä»¶åç§° * - å‚æ•°2ï¼šè§¦å‘äº‹ä»¶æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•° */ const DATA_RECEIVED = \u0026#39;data_received\u0026#39; eventEmitter.on(DATA_RECEIVED, () =\u0026gt; { console.log(\u0026#39;Receiving Successful!\u0026#39;); }) // ç»‘å®š connection äº‹ä»¶å¤„ç†ç¨‹åº const CONNECTION = \u0026#39;connection\u0026#39; eventEmitter.on(CONNECTION, () =\u0026gt; { console.log(\u0026#39;Connected Successful!\u0026#39;); // è§¦å‘ data_received äº‹ä»¶ eventEmitter.emit(DATA_RECEIVED) }) // è§¦å‘ connection äº‹ä»¶ eventEmitter.emit(CONNECTION) console.log(\u0026#39;Executed...\u0026#39;); æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nConnected Successful! Receiving Successful! Executed... ","date":"2023å¹´8æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/event/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691333167,"title":"Node.js äº‹ä»¶å¾ªç¯"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä½¿ç”¨fsæ¨¡å—ï¼Œé¦–å…ˆéœ€è¦å¯¼å…¥ï¼š\nconst fs = require(\u0026#39;fs\u0026#39;) è¯»å–æ–‡ä»¶ ä¸‹æ–¹æ˜¯ä¸€ä¸ªé€šè¿‡fs.readFile()è¯»å–æ–‡ä»¶çš„ç¤ºä¾‹ï¼š\n// 1. å¯¼å…¥fsæ¨¡å—ï¼Œæ¥æ“ä½œæ–‡ä»¶ const fs = require(\u0026#39;fs\u0026#39;) /** * 2. è°ƒç”¨ fs.readFile() æ–¹æ³•è¯»å–æ–‡ä»¶ * - å‚æ•°1ï¼ˆå¿…é¡»ï¼‰ï¼šè¯»å–æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ * - å‚æ•°2ï¼ˆå¯é€‰ï¼‰ï¼šè¯»å–æ–‡ä»¶æ—¶é‡‡ç”¨çš„ç¼–ç æ ¼å¼ï¼Œé»˜è®¤æŒ‡å®šutf8 * - å‚æ•°3ï¼ˆå¿…é¡»ï¼‰ï¼šå›è°ƒå‡½æ•°ï¼Œæ‹¿åˆ°è¯»å–å¤±è´¥ï¼ˆerrï¼‰å’ŒæˆåŠŸçš„ç»“æœï¼ˆdataStrï¼‰ */ fs.readFile(\u0026#39;test.txt\u0026#39;, \u0026#39;utf-8\u0026#39;, (err, dataStr) =\u0026gt; { /** * 2.1 æ‰“å°å¤±è´¥çš„ç»“æœ * - å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™ err çš„å€¼ä¸º nullï¼ŒdataStrçš„å€¼ä¸º æ–‡ä»¶çš„å†…å®¹ * - å¦‚æœè¯»å–å¤±è´¥ï¼Œåˆ™ err çš„å€¼ä¸º é”™è¯¯å¯¹è±¡ï¼ŒdataStrçš„å€¼ä¸º undefined */ console.log(err) console.log(\u0026#39;-------------\u0026#39;) // 2.2 æ‰“å°æˆåŠŸçš„ç»“æœ console.log(dataStr) }) fs.readFile()ç”¨äºå¼‚æ­¥è¯»å–æ–‡ä»¶ã€‚å½“fs.readFile()è¯»å–åˆ°æ–‡ä»¶ä¹‹åï¼Œä¼šå°†ä¿¡æ¯ä¼ é€’ç»™errå’ŒdataStrå¯¹è±¡ã€‚errå¯¹è±¡å¯ç”¨äºè¯»å–æˆåŠŸä¸å¦çš„åˆ¤æ–­ï¼Œå¹¶ä¸”è®°å½•äº†è¯»å–å¤±è´¥æ—¶çš„ä¿¡æ¯ï¼›dataStrå¯¹è±¡è®°å½•äº†è¯»å–åˆ°çš„æ–‡ä»¶å†…å®¹ã€‚\nåˆ¤æ–­æ–‡ä»¶æ˜¯å¦è¯»å–æˆåŠŸï¼š\nconst fs = require(\u0026#39;fs\u0026#39;) let fileName = \u0026#39;test.txt\u0026#39; fs.readFile(fileName, \u0026#39;utf-8\u0026#39;, (err, dataStr) =\u0026gt; { if (err) { return console.log(\u0026#39;readFileErr: \u0026#39; + err.message) } console.log(\u0026#39;Read \u0026#39; + fileName + \u0026#39; success!\u0026#39;) console.log(dataStr) }) fsæ¨¡å—è¿˜æœ‰ä¸€ä¸ªreadFileSync()æ–¹æ³•ï¼Œç”¨äºåŒæ­¥åœ°æ–‡ä»¶è¯»å–ï¼Œå®ƒä¸readFile()å¼‚æ­¥åœ°æ–‡ä»¶è¯»å–åŒºåˆ«å¦‚ä¸‹ï¼š\nreadFile()ï¼š\nconst { readFile } = require(\u0026#39;fs\u0026#39;) console.log(\u0026#39;Program started...\u0026#39;); let fileName = \u0026#39;test.txt\u0026#39; readFile(fileName, \u0026#39;utf-8\u0026#39;, (err, dataStr) =\u0026gt; { console.log(\u0026#39;-------------\u0026#39;); if (err) { return console.log(\u0026#39;readFileErr: \u0026#39; + err.message) } console.log(\u0026#39;Read \u0026#39; + fileName + \u0026#39; success!\u0026#39;) console.log(dataStr) console.log(\u0026#39;-------------\u0026#39;); }) console.log(\u0026#39;Program ended...\u0026#39;); è¾“å‡ºç»“æœï¼š\nProgram started... Program ended... ------------- Read test.txt success! Hello Node.js! ------------- å¯ä»¥å‘ç°å¼‚æ­¥åœ°æ–‡ä»¶è¯»å–ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œç›´åˆ°æ–‡ä»¶è¯»å–æˆåŠŸæ‰æ‰§è¡Œå›è°ƒã€‚\nreadFileSync()ï¼š\nconst { readFileSync } = require(\u0026#34;fs\u0026#34;); // readFileSync() ä¸èƒ½æ³¨å†Œå›è°ƒå‡½æ•° var fileData = readFileSync(\u0026#39;test.txt\u0026#39;) if (fileData) { console.log(\u0026#39;-------------\u0026#39;); console.log(\u0026#39;Readed Success!\u0026#39;); // æ²¡æœ‰æŒ‡å®šå­—ç¬¦é›†çš„è¯æ˜¯è¿”å›ä¸€ä¸ª Buffer å¯¹è±¡ï¼Œæ‰€ä»¥è¦å°†å…¶è½¬ä¸º String var fileContent = String(fileData) console.log(fileContent); console.log(\u0026#39;-------------\u0026#39;); } else { console.log(\u0026#39;Readed Error!\u0026#39;); } console.log(\u0026#39;Program ended...\u0026#39;); è¾“å‡ºï¼š\nProgram started... ------------- Readed Success! Hello Node.js! ------------- Program ended... å†™å…¥å†…å®¹ // 1. å¯¼å…¥fs.writeFile() æ–¹æ³• const { writeFile } = require(\u0026#39;fs\u0026#39;); /** * 2. è°ƒç”¨ fs.wirteFile() æ–¹æ³•ï¼Œå†™å…¥æ–‡ä»¶çš„å†…å®¹ * - å‚æ•°1ï¼ˆå¿…é¡»ï¼‰ï¼šæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ * - å‚æ•°2ï¼ˆå¿…é¡»ï¼‰ï¼šè¦å†™å…¥æ–‡ä»¶çš„å†…å®¹ * - å‚æ•°3ï¼ˆå¯é€‰ï¼‰ï¼šè®¾ç½®æ–‡ä»¶æ¨¡å¼ * - å‚æ•°4ï¼ˆå¿…é¡»ï¼‰ï¼šå›è°ƒå‡½æ•° */ writeFile(\u0026#39;test1.txt\u0026#39;, \u0026#39;Writes new content\u0026#39;, (err) =\u0026gt; { // 2.1 å¦‚æœæ–‡ä»¶å†™å…¥æˆåŠŸï¼Œåˆ™ err == null // 2.3 å¦‚æœæ–‡ä»¶å†™å…¥å¤±è´¥ï¼Œåˆ™ err == é”™è¯¯å¯¹è±¡ console.log(err) }) æ³¨ï¼šè¦è§¦å‘æ–‡ä»¶ä¸å­˜åœ¨ï¼Œerrè¿”å›é”™è¯¯å¯¹è±¡çš„å‰ææ˜¯è·¯å¾„ä¹Ÿä¸å­˜åœ¨ï¼Œå¦åˆ™fs.wirteFile()é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¹¶å†™å…¥ã€‚ä¾‹å¦‚ä½ å½“å‰ç›®å½•ä¸‹ä¸å­˜åœ¨testè¿™ä¸ªç›®å½•çš„è¯ï¼Œå¯ä»¥å°†è·¯å¾„æ”¹æˆtest/test.txtæ¥è®©errè¿”å›é”™è¯¯å¯¹è±¡ã€‚\nåˆ¤æ–­æ–‡ä»¶å†™å…¥æ˜¯å¦æˆåŠŸï¼š\nconst { writeFile } = require(\u0026#34;fs\u0026#34;); writeFile(\u0026#39;test.txt\u0026#39;, \u0026#39;Writes new content...\u0026#39;, (err) =\u0026gt; { if (err) { return console.log(\u0026#39;writeFileErr: \u0026#39; + err.message) } console.log(\u0026#39;Writing Success!\u0026#39;) }) fs.writeFile()ä¹Ÿæœ‰ä¸fs.readFile()ç±»ä¼¼çš„åŒæ­¥å†™å…¥å‡½æ•°fs.writeFileSync()ï¼Œä½œç”¨ä¸fs.readFileSync()ç±»ä¼¼ã€‚\nè·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜ åœ¨ä½¿ç”¨fsæ¨¡å—æ“ä½œæ–‡ä»¶æ—¶ï¼Œå¦‚æœæä¾›çš„æ“ä½œè·¯å¾„æ˜¯ä»¥./æˆ–../å¼€å¤´çš„ç›¸å¯¹è·¯å¾„æ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°è·¯å¾„åŠ¨æ€æ‹¼æ¥é”™è¯¯çš„é—®é¢˜ã€‚\næ¼”ç¤ºè·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜ï¼š\nconst { readFile } = require(\u0026#39;fs\u0026#39;); readFile(\u0026#39;./test.txt\u0026#39;, \u0026#39;utf-8\u0026#39;, (err, data) =\u0026gt; { if (err) { console.log(err.message); } console.log(\u0026#39;Reading Success!\u0026#39;); }) console.log(data); åˆ‡æ¢åˆ°ä¸Šå±‚ç›®å½•ï¼Œæ‰§è¡Œè¯¥JSï¼Œä¼šå‘ç°æŠ¥é”™ï¼š\n$ cd .. $ node js/path-problem.js ENOENT: no such file or directory, open \u0026#39;./test.txt\u0026#39; è¿™æ˜¯å› ä¸ºä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šä»¥æ‰§è¡ŒNodeå‘½ä»¤æ—¶æ‰€å¤„çš„ç›®å½•ï¼ŒåŠ¨æ€æ‹¼æ¥å‡ºè¢«æ“ä½œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚\nåœ¨ä½¿ç”¨fsæ¨¡å—æ“ä½œæ–‡ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡__dirnameç›´æ¥æä¾›å®Œæ•´çš„è·¯å¾„ï¼Œä¸è¦æä¾›ä»¥./æˆ–../å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ï¼Œä»è€Œé˜²æ­¢è·¯å¾„åŠ¨æ€æ‹¼æ¥çš„é—®é¢˜ã€‚\nä¿®æ”¹å¦‚ä¸‹ï¼š\nconst { readFile } = require(\u0026#39;fs\u0026#39;); /** * å‡ºç°è·¯å¾„æ‹¼æ¥é—®é¢˜ï¼Œæ˜¯å› ä¸ºä½¿ç”¨äº† \u0026#39;./\u0026#39; æˆ– \u0026#39;../\u0026#39; ä¹‹ç±»çš„ç›¸å¯¹è·¯å¾„ * Nodeåœ¨è¿è¡ŒJSæ—¶ï¼Œä¼šå°†è¿™ç±»ç›¸å¯¹è·¯å¾„è¿›è¡Œå¤„ç†ï¼Œä½¿ç”¨å½“å‰JSæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æ‹¼æ¥åœ¨æ‰“å¼€çš„æ–‡ä»¶è·¯å¾„ä¸Š * __dirname è¡¨ç¤ºå½“å‰JSæ–‡ä»¶æ‰€å¤„çš„ç›®å½• */ readFile(__dirname + \u0026#39;/test.txt\u0026#39;, \u0026#39;utf-8\u0026#39;, (err, data) =\u0026gt; { if (err) { console.log(err.message); return } console.log(\u0026#39;Reading Success!\u0026#39;); console.log(data); }) å†æ¬¡æ‰§è¡Œï¼Œæ–‡ä»¶å¯ä»¥æˆåŠŸæ‰“å¼€ã€‚\nPath æ¨¡å—å¤„ç†è·¯å¾„ pathæ¨¡å—æ˜¯Node.jså®˜æ–¹æä¾›çš„ã€ç”¨æ¥å¤„ç†è·¯å¾„çš„æ¨¡å—ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨æ¥æ»¡è¶³ç”¨æˆ·å¯¹è·¯å¾„çš„å¤„ç†éœ€æ±‚ã€‚\nå¸¸ç”¨çš„æ–¹æ³•æœ‰ï¼š\npath.join()ï¼šå°†å¤šä¸ªè·¯å¾„ç‰‡æ®µæ‹¼æ¥æˆä¸€ä¸ªå®Œæ•´çš„è·¯å¾„å­—ç¬¦ä¸²ã€‚ path.basename()ï¼šä»è·¯å¾„å­—ç¬¦ä¸²ä¸­ï¼Œå°†æ–‡ä»¶åè§£æå‡ºæ¥ã€‚ path.extname()ï¼šä»è·¯å¾„å­—ç¬¦ä¸²ä¸­ï¼Œå°†æ–‡ä»¶åæ‰©å±•åè§£æå‡ºæ¥ã€‚ ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå¯¼å…¥pathæ¨¡å—ï¼š\nconst path = require(\u0026#39;path\u0026#39;) path.join()ï¼š\nconst path = require(\u0026#39;path\u0026#39;); // path.join() å°†å‚æ•°åˆ—è¡¨ä¸­çš„å­—ç¬¦ä¸²è¿›è¡Œè·¯å¾„æ‹¼æ¥ï¼Œå¹¶è¿”å›æ‹¼æ¥ç»“æœ const pathStr = path.join(\u0026#39;/dir1\u0026#39;, \u0026#39;dir2/dir3\u0026#39;, \u0026#39;../\u0026#39;, \u0026#39;./dir4\u0026#39;, \u0026#39;dir5\u0026#39;) console.log(pathStr); è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n/dir1/dir2/dir4/dir5 æ³¨ï¼špath.join()æ–¹æ³•ä»…ç”¨äºè·¯å¾„æ‹¼æ¥ï¼Œç›¸å½“äºè·¯å¾„å­—ç¬¦ä¸²çš„å¤„ç†ï¼Œä¸å¯¹è·¯å¾„çš„å­˜åœ¨ä¸å¦è¿›è¡Œæ£€æŸ¥ã€‚\nåˆ©ç”¨path.join()æ›¿ä»£+å·æ‹¼æ¥è·¯å¾„ï¼š\nconst { readFile } = require(\u0026#39;fs\u0026#39;); const { join } = require(\u0026#39;path\u0026#39;); readFile(join(__dirname, \u0026#39;test.txt\u0026#39;), \u0026#39;utf-8\u0026#39;, (err, data) =\u0026gt; { if (err) { console.log(err.message); } console.log(data); }) path.basename()ï¼š\nconst path = require(\u0026#39;path\u0026#39;); const fpath = \u0026#39;/var/local/html/blog/index.html\u0026#39; // æ–‡ä»¶å­˜æ”¾è·¯å¾„ /** * æ ¹æ®è·¯å¾„è§£ææ–‡ä»¶ï¼ˆç›®å½•ï¼‰å */ var fullName = path.basename(fpath) var nameWithoutExt = path.basename(fpath, \u0026#39;.html\u0026#39;) console.log(fullName); console.log(nameWithoutExt); è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\nindex.html index path.basename(path[, ext])å‚æ•°å’Œè¿”å›å€¼ï¼š\npathï¼ˆå¿…é€‰ï¼‰ï¼šè¡¨ç¤ºè¦è§£æçš„è·¯å¾„å­—ç¬¦ä¸²ã€‚\nextï¼ˆå¯é€‰ï¼‰ï¼šè¡¨ç¤ºæ–‡ä»¶æ‰©å±•åï¼ˆåç¼€ï¼‰ã€‚\nç»è¿‡æµ‹è¯•åä½ ä¼šå‘ç°ï¼Œpath.basename()åªæ˜¯å°†æœ€åä¸€æ®µå­—ç¬¦ä¸²è§£æå‡ºæ¥ï¼Œç„¶åå°†å…¶åç¼€ä¸­ä¸extç›¸åŒçš„éƒ¨åˆ†å»é™¤åè¿”å›ã€‚\nè¿”å›å€¼ï¼šè·¯å¾„ä¸­çš„æœ€åä¸€éƒ¨åˆ†ï¼ˆæœ‰å¯èƒ½æ˜¯æ–‡ä»¶åï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç›®å½•åï¼‰ã€‚å½“æŒ‡å®šæ‰©å±•åæ—¶ï¼Œè¿”å›çš„æœ‰å¯èƒ½æ˜¯ä¸åŒ…å«æ‰©å±•åçš„åç§°ã€‚\nä¸path.join()ç±»ä¼¼path.basename()ä»…ä»…æ˜¯åšå…³äºè·¯å¾„çš„å­—ç¬¦ä¸²è§£æï¼Œå¹¶ä¸å…³å¿ƒå®é™…ä¸Šæ˜¯å¦å­˜åœ¨è¿™æ ·çš„è·¯å¾„ã€‚path.basename()è§£æåˆ°çš„ä¸ä»…æ˜¯æ–‡ä»¶åï¼Œè¿˜å¯ä»¥æ˜¯ç›®å½•åã€‚å¹¶ä¸”path.basename()åœ¨è§£æåç¼€æ—¶ï¼Œå¦‚æœå½“å‰è·¯å¾„çš„basenameæ²¡æœ‰ç›¸åº”çš„åç¼€ï¼Œpath.basename()ä¼šå°†æ•´ä¸ªbasenameè¿”å›ã€‚\npath.extname()ï¼š\nconst path = require(\u0026#39;path\u0026#39;); const fpath = \u0026#39;/var/local/html/blog/index.html\u0026#39; // æ–‡ä»¶å­˜æ”¾è·¯å¾„ var extName = path.extname(fpath) console.log(extName); è¾“å‡ºç»“æœä¸ºï¼š\n.html æ¡ˆä¾‹ æ¡ˆä¾‹1 ä½¿ç”¨fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—ï¼Œå°†æ–‡ä»¶ä¸­çš„è€ƒè¯•æ•°æ®ï¼Œæ•´ç†åˆ°æ–°çš„æ–‡ä»¶ä¸­ã€‚\nåˆ›å»ºä¸€ä¸ªscore.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\nå°çº¢=99 å°ç™½=100 å°é»„=70 å°é»‘=66 å°ç»¿=88 ç¼–å†™JSï¼š\n// 1. å¯¼å…¥ fs const fs = require(\u0026#39;fs\u0026#39;) // 2. è¯»å–æ–‡ä»¶å†…å®¹ fs.readFile(\u0026#39;score.txt\u0026#39;, \u0026#39;utf-8\u0026#39;, (err, dataStr) =\u0026gt; { // 3. åˆ¤æ–­æ˜¯å¦è¯»å–æˆåŠŸ if (err) { return console.log(\u0026#39;readFileErr: \u0026#39; + err.message); } // console.log(\u0026#39;Reading Success!\u0026#39;); // console.log(dataStr); // 4.1 æŒ‰ç…§ç©ºæ ¼åˆ†å‰² const arrOld = dataStr.split(\u0026#39; \u0026#39;) // console.log(arrOld); // 4.2 å¾ªç¯åˆ†å‰²åçš„æ•°ç»„ï¼Œå¯¹æ¯é¡¹æ•°æ®è¿›è¡Œæ›¿æ¢æ“ä½œ const arrNew = [] arrOld.forEach(item =\u0026gt; { arrNew.push(item.replace(\u0026#39;=\u0026#39;, \u0026#39;: \u0026#39;)) }) // console.log(arrNew); // 4.3 æŠŠæ–°æ•°ç»„ä¸­çš„æ¯é¡¹è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°æ–°å­—ç¬¦ä¸² const newStr = arrNew.join(\u0026#39;\\r\\n\u0026#39;) // console.log(newStr); // 5. æŠŠå¤„ç†å®Œçš„æˆç»©ï¼Œå†™å…¥æ–°æ–‡ä»¶ fs.writeFile(\u0026#39;score-ok.txt\u0026#39;, newStr, (err) =\u0026gt; { if (err) { return console.log(\u0026#39;writeFileErr: \u0026#39; + err.message); } console.log(\u0026#39;Writing Success!\u0026#39;); }) }) å¤„ç†å®Œçš„ç»“æœå¤§è‡´å¦‚ä¸‹ï¼š\nå°çº¢: 99 å°ç™½: 100 å°é»„: 70 å°é»‘: 66 å°ç»¿: 88 æ¡ˆä¾‹2 ä½¿ç”¨fså’Œpathæ¨¡å—å°†ä¸‹æ–¹HTMLæ–‡ä»¶æ‹†åˆ†æˆå¯¹åº”çš„htmlã€csså’Œjsæ–‡ä»¶ï¼Œå¹¶å†™å…¥åˆ°clockç›®å½•ä¸‹ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;title\u0026gt;indexé¦–é¡µ\u0026lt;/title\u0026gt; \u0026lt;style\u0026gt; html, body { margin: 0; padding: 0; height: 100%; background-image: linear-gradient(to bottom right, red, gold); } .box { width: 400px; height: 250px; background-color: rgba(255, 255, 255, 0.6); border-radius: 6px; position: absolute; left: 50%; top: 40%; transform: translate(-50%, -50%); box-shadow: 1px 1px 10px #fff; text-shadow: 0px 1px 30px white; display: flex; justify-content: space-around; align-items: center; font-size: 70px; user-select: none; padding: 0 20px; /* ç›’å­æŠ•å½± */ -webkit-box-reflect: below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(0%, transparent), to(rgba(250, 250, 250, .2))); } \u0026lt;/style\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;box\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;HH\u0026#34;\u0026gt;00\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;:\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;mm\u0026#34;\u0026gt;00\u0026lt;/div\u0026gt; \u0026lt;div\u0026gt;:\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;ss\u0026#34;\u0026gt;00\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; window.onload = function () { // å®šæ—¶å™¨ï¼Œæ¯éš” 1 ç§’æ‰§è¡Œ 1 æ¬¡ setInterval(() =\u0026gt; { var dt = new Date() var HH = dt.getHours() var mm = dt.getMinutes() var ss = dt.getSeconds() // ä¸ºé¡µé¢ä¸Šçš„å…ƒç´ èµ‹å€¼ document.querySelector(\u0026#39;#HH\u0026#39;).innerHTML = padZero(HH) document.querySelector(\u0026#39;#mm\u0026#39;).innerHTML = padZero(mm) document.querySelector(\u0026#39;#ss\u0026#39;).innerHTML = padZero(ss) }, 1000) } // è¡¥é›¶å‡½æ•° function padZero(n) { return n \u0026gt; 9 ? n : \u0026#39;0\u0026#39; + n } \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; html-handle.jsï¼š\n// 1.1 å¯¼å…¥ fs å’Œ path æ¨¡å— const fs = require(\u0026#39;fs\u0026#39;); const path = require(\u0026#39;path\u0026#39;); // 1.2 å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ const regStyle = /\u0026lt;style\u0026gt;[\\s\\S]*\u0026lt;\\/style\u0026gt;/ const regScript = /\u0026lt;script\u0026gt;[\\s\\S]*\u0026lt;\\/script\u0026gt;/ // 1.3 è®¾ç½®ç›®å½•åå¹¶åˆ›å»ºç›®å½• const DIR_NAME = \u0026#39;clock\u0026#39; const DIR_FULL_PATH = path.join(__dirname, DIR_NAME) if (!fs.existsSync(DIR_FULL_PATH)) { fs.mkdirSync(DIR_FULL_PATH) } // 2.1 è¯»å–æ–‡ä»¶ fs.readFile(path.join(__dirname, \u0026#39;index.html\u0026#39;), \u0026#39;utf-8\u0026#39;, (err, data) =\u0026gt; { // 2.2 è¯»å–å¤±è´¥æ—¶ if (err) { return console.log(err.message); } // 2.3 è¯»å–æˆåŠŸåï¼Œè°ƒç”¨å¯¹åº”çš„3ä¸ªæ–¹æ³•è§£æå‡ºcssï¼Œjså’Œhtmlæ–‡ä»¶ resolveCSS(data) resolveJS(data) resolveHTML(data) }) // 3.1 å¤„ç† CSS æ ·å¼æ–‡ä»¶ function resolveCSS(htmlStr) { // 3.2 ä½¿ç”¨æ­£åˆ™æå–é¡µé¢çš„ \u0026lt;style\u0026gt;\u0026lt;/style\u0026gt;æ ‡ç­¾ const regStr = regStyle.exec(htmlStr) // 3.3 å°†æå–å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œè¿›è¡Œæ›¿æ¢ // console.log(regStr); const newCSS = regStr[0].replace(\u0026#39;\u0026lt;style\u0026gt;\u0026#39;, \u0026#39;\u0026#39;).replace(\u0026#39;\u0026lt;/style\u0026gt;\u0026#39;, \u0026#39;\u0026#39;) // console.log(newCSS); // 3.4 å°†æå–çš„æ ·å¼å†™å…¥åˆ°æ–°æ–‡ä»¶ä¸­ var fullPath = path.join(__dirname, DIR_NAME, \u0026#39;index.css\u0026#39;) fs.writeFile(fullPath, newCSS, (err) =\u0026gt; { if (err) { return console.log(err.message); } console.log(\u0026#39;Writing css successful!\u0026#39;); }) } // 4.1 å¤„ç† JS æ ·å¼æ–‡ä»¶ function resolveJS(htmlStr) { // 4.2 ä½¿ç”¨æ­£åˆ™æå–é¡µé¢çš„ \u0026lt;script\u0026gt;\u0026lt;/script\u0026gt;æ ‡ç­¾ const regStr = regScript.exec(htmlStr) // 4.3 å°†æå–å‡ºæ¥çš„å­—ç¬¦ä¸²ï¼Œè¿›è¡Œæ›¿æ¢ const newJS = regStr[0].replace(\u0026#39;\u0026lt;script\u0026gt;\u0026#39;, \u0026#39;\u0026#39;).replace(\u0026#39;\u0026lt;/script\u0026gt;\u0026#39;, \u0026#39;\u0026#39;) // 4.4 å°†æå–çš„æ ·å¼å†™å…¥åˆ°æ–°æ–‡ä»¶ä¸­ var fullPath = path.join(__dirname, DIR_NAME, \u0026#39;index.js\u0026#39;) fs.writeFile(fullPath, newJS, (err) =\u0026gt; { if (err) { return console.log(err.message); } console.log(\u0026#39;Writing js successful!\u0026#39;); }) } // 5. å¤„ç† html æ–‡ä»¶ function resolveHTML(htmlStr) { // 5.1 å°†å†…åµŒçš„ \u0026lt;style\u0026gt; å’Œ \u0026lt;script\u0026gt; æ›¿æ¢ä¸ºå¤–è”çš„ \u0026lt;link\u0026gt; å’Œ \u0026lt;script\u0026gt; const newHTML = htmlStr .replace(regStyle, \u0026#39;\u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;./index.css\u0026#34; /\u0026gt;\u0026#39;) .replace(regScript, \u0026#39;\u0026lt;script src=\u0026#34;./index.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt;\u0026#39;) // 5.2 å°†æ›¿æ¢å®Œæˆä¹‹åçš„ html ä»£ç ï¼Œå†™å…¥åˆ° index.html ä¸­ var fullPath = path.join(__dirname, DIR_NAME, \u0026#39;index.html\u0026#39;) fs.writeFile(fullPath, newHTML, (err) =\u0026gt; { if (err) { return console.log(err.message); } console.log(\u0026#39;Writing html successful!\u0026#39;); }) } ","date":"2023å¹´8æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/fs/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691307326,"title":"Node.js æ–‡ä»¶ç³»ç»Ÿæ¨¡å—"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Node.jsæ˜¯ä¸€ä¸ªåŸºäºChrome V8å¼•æ“çš„JavaScriptè¿è¡Œç¯å¢ƒã€‚\næµè§ˆå™¨å¯ä»¥å½“ä½œæ˜¯JavaScriptçš„å‰ç«¯è¿è¡Œç¯å¢ƒï¼›Node.jså¯ä»¥çœ‹ä½œæ˜¯JavaScriptçš„åç«¯è¿è¡Œç¯å¢ƒã€‚ä½†æ˜¯åœ¨Node.jsä¸­æ— æ³•è°ƒç”¨DOMå’ŒBOMç­‰æµè§ˆå™¨å†…ç½®APIã€‚\nNode.jsçš„å®‰è£…è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œæ¨èä½¿ç”¨NVMæ¥ç®¡ç†Node.jsï¼šNVMå®‰è£…ã€‚\næŸ¥çœ‹Node.jsçš„ç‰ˆæœ¬ï¼š\nnode -v å‡çº§npmï¼š\nsudo npm install npm -g NPM NPMï¼ˆNode Package Managerï¼‰æ˜¯ Node.js çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨äºåœ¨ Node.js ç¯å¢ƒä¸­å®‰è£…ã€ç®¡ç†å’Œå…±äº«ä»£ç æ¨¡å—ã€‚NPM æ˜¯éšåŒ Node.js ä¸€èµ·å®‰è£…çš„ï¼Œé»˜è®¤é›†æˆåœ¨ Node.js å®‰è£…åŒ…ä¸­ã€‚å®ƒé€šè¿‡å‘½ä»¤è¡Œæ¥å£æä¾›äº†ä¸€ç³»åˆ—å‘½ä»¤ï¼Œç”¨äºç®¡ç† Node.js åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ¨¡å—ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨å‰ç«¯å¼€å‘ä¸­ä½¿ç”¨ã€‚\næŸ¥çœ‹npmçš„ç‰ˆæœ¬ï¼š\nnpm -v ä»¥ä¸‹æ˜¯ NPM çš„ä¸€äº›é‡è¦åŠŸèƒ½å’Œç”¨é€”ï¼š\næ¨¡å—ç®¡ç†ï¼šNPM å…è®¸å¼€å‘è€…è½»æ¾åœ°å®‰è£…ã€æ›´æ–°å’Œåˆ é™¤ Node.js æ¨¡å—ã€‚ ä¾èµ–ç®¡ç†ï¼šé€šè¿‡åœ¨é¡¹ç›®çš„ package.json æ–‡ä»¶ä¸­å®šä¹‰ä¾èµ–é¡¹å’Œç‰ˆæœ¬èŒƒå›´ï¼ŒNPM å¯ä»¥ç®¡ç†é¡¹ç›®æ‰€éœ€çš„å„ä¸ªæ¨¡å—çš„ç‰ˆæœ¬ä¾èµ–å…³ç³»ã€‚è¿™æ ·ï¼Œå½“å…±äº«é¡¹ç›®æ—¶ï¼Œå…¶ä»–å¼€å‘è€…å¯ä»¥æ‰§è¡Œ npm install å‘½ä»¤å®‰è£…é¡¹ç›®æ‰€éœ€çš„æ¨¡å—åŠå…¶æŒ‡å®šçš„ç‰ˆæœ¬ã€‚ è„šæœ¬ç®¡ç†ï¼šNPM å…è®¸åœ¨é¡¹ç›®çš„ package.json æ–‡ä»¶ä¸­å®šä¹‰è„šæœ¬å‘½ä»¤ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ npm run \u0026lt;script\u0026gt; å‘½ä»¤æ¥è¿è¡Œè¿™äº›è„šæœ¬ã€‚è¿™æ–¹ä¾¿äº†å¼€å‘è€…åœ¨é¡¹ç›®ä¸­è‡ªå®šä¹‰å’Œç»„ç»‡å„ç§æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ç­‰ä»»åŠ¡ã€‚ æ¨¡å—å…±äº«ï¼šNPM æ˜¯ä¸€ä¸ªåºå¤§çš„å¼€æºæ¨¡å—ç”Ÿæ€ç³»ç»Ÿï¼Œå¼€å‘è€…å¯ä»¥å°†è‡ªå·±ç¼–å†™çš„æ¨¡å—å‘å¸ƒåˆ° NPM ä¾›å…¶ä»–å¼€å‘è€…ä½¿ç”¨ã€‚é€šè¿‡ npm publish å‘½ä»¤ï¼Œå¼€å‘è€…å¯ä»¥å°†è‡ªå·±çš„æ¨¡å—å‘å¸ƒåˆ° NPM ä¸Šï¼Œå¹¶é€šè¿‡ npm install å‘½ä»¤åœ¨å…¶ä»–é¡¹ç›®ä¸­å®‰è£…å’Œä½¿ç”¨è¿™äº›æ¨¡å—ã€‚ NPMæ¨¡å—ç®¡ç†å‘½ä»¤ï¼š\nå®‰è£…æ¨¡å—ï¼š\nnpm install package-name[@version] # æœ¬åœ°å®‰è£… npm install package-name[@version] -g # å…¨å±€å®‰è£… æœ¬åœ°å®‰è£…ï¼šå°†å®‰è£…åŒ…æ”¾åœ¨ ./node_modules ä¸‹ï¼ˆè¿è¡Œ npm å‘½ä»¤æ—¶æ‰€åœ¨çš„ç›®å½•ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ node_modules ç›®å½•ï¼Œä¼šåœ¨å½“å‰æ‰§è¡Œ npm å‘½ä»¤çš„ç›®å½•ä¸‹ç”Ÿæˆ node_modules ç›®å½•ã€‚\næœ¬åœ°å®‰è£…çš„NPMåŒ…å¯ä»¥é€šè¿‡ require() æ¥å¼•å…¥æœ¬åœ°å®‰è£…çš„åŒ…ã€‚\nå…¨å±€å®‰è£…ï¼šå°†å®‰è£…åŒ…æ”¾åœ¨ /usr/local ä¸‹æˆ–è€… node çš„å®‰è£…ç›®å½•ã€‚\nå…¨å±€å®‰è£…çš„NPMåŒ…å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ã€‚\nnpm linkï¼š\nåœ¨ä¸€ä¸ªåŒ…æ–‡ä»¶å¤¹å†…æ‰§è¡Œnpm linkå¯ä»¥åœ¨å…¨å±€æ–‡ä»¶å†…åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ‰§è¡Œnpm linkå‘½ä»¤ç›®å½•çš„ç¬¦å·é“¾æ¥ã€‚\nå…¶å®ƒç›®å½•ä¸‹æ‰§è¡Œ npm link package-name å‘½ä»¤ï¼Œå°†ä¼šåˆ›å»ºä¸€ä¸ªä»å…¨å±€å®‰è£…çš„ package-name NPMåŒ…åˆ°å½“å‰æ–‡ä»¶å†… node_modules ç›®å½•ä¸‹çš„ç¬¦å·é“¾æ¥ã€‚åŒ…çš„åç§°å¯èƒ½æœ‰ä½œç”¨åŸŸå‰ç¼€ï¼Œå¦‚æœæœ‰ï¼Œpackage-name ä¹Ÿè¦å¯¹åº”åŠ ä¸Šã€‚\nnpm iï¼š\nnpmä¸ºnpm installå‘½ä»¤æä¾›äº†ä¸€ä¸ªç®€ä¾¿çš„å†™æ³•ï¼Œä½ å¯ä»¥åƒä½¿ç”¨npm installå‘½ä»¤ä¸€æ ·ä½¿ç”¨npm iï¼Œä¾‹å¦‚ï¼š\nnpm i package-name[@version] # æœ¬åœ°å®‰è£… npm i package-name[@version] -g # å…¨å±€å®‰è£… å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\nnpm err! Error: connect ECONNREFUSED 127.0.0.1:8087 å¯ä»¥å…³é—­ä»£ç†ï¼š\nnpm config set proxy null å¸è½½æ¨¡å—ï¼š\nnpm uninstall package-name å¸è½½åï¼Œå¯ä»¥åˆ° /node_modules/ ç›®å½•ä¸‹æŸ¥çœ‹åŒ…æ˜¯å¦è¿˜å­˜åœ¨ï¼Œæˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š\nnpm ls æœç´¢æ¨¡å—ï¼š\nnpm search express cnpmçš„ç”¨æ³•ä¸npmç±»ä¼¼ï¼Œä¾‹å¦‚å®‰è£…æ¨¡å—å¯ä»¥ä½¿ç”¨cnpm installï¼Œå¸è½½æ¨¡å—å¯ä»¥ä½¿ç”¨npm uninstallã€‚æ›´å¤šcnpmçš„ç”¨æ³•å¯ä»¥æŸ¥çœ‹ npmmirror é•œåƒç«™ã€‚\nè®¾ç½® NPM é•œåƒæº æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥åŠ å¿«npmä¸‹è½½åŒ…çš„é€Ÿåº¦ï¼š\nä¸ºnpmè®¾ç½®æ·˜å®é•œåƒæºï¼ˆæ¨èï¼‰ï¼š\nç»™npmè®¾ç½®æ·˜å®é•œåƒï¼š\nnpm config set registry https://registry.npmmirror.com/ æŸ¥çœ‹å½“å‰åŒ…ä¸‹è½½æœåŠ¡å™¨åœ°å€ï¼š\nnpm config get registry ä½¿ç”¨æ·˜å®æä¾›çš„cnpmåŒ…ç®¡ç†å™¨ï¼š\nä½¿ç”¨æ·˜å®é•œåƒå®‰è£…cnpmï¼š\nsudo npm install -g cnpm --registry=https://registry.npmmirror.com npmé•œåƒçš„æä¾›è€…ä¸æ­¢ä¸€å®¶ï¼Œå¦‚æœè¦æ–¹ä¾¿åœ°åˆ‡æ¢å¤šä¸ªé•œåƒæºï¼Œå¯ä»¥ä½¿ç”¨nrmé•œåƒç®¡ç†å·¥å…·ï¼š\nå®‰è£…nrmï¼š\nnpm install nrm -g æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ä¸‹è½½æºï¼š\nnrm ls ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\nnpm ---------- https://registry.npmjs.org/ yarn --------- https://registry.yarnpkg.com/ tencent ------ https://mirrors.cloud.tencent.com/npm/ cnpm --------- https://r.cnpmjs.org/ * taobao ------- https://registry.npmmirror.com/ npmMirror ---- https://skimdb.npmjs.com/registry/ å½“å‰æ­£åœ¨ä½¿ç”¨çš„ä¸‹è½½æºå‰æ–¹ä¼šä½¿ç”¨ä¸€ä¸ª*ç¬¦å·æ¥æç¤ºã€‚\nåˆ‡æ¢ä¸‹è½½æºï¼š\nnrm use source-name ä¾‹å¦‚åˆ‡æ¢æ·˜å®é•œåƒï¼š\nnrm use taobao Hello Node.js ä½¿ç”¨Node.jsè¿è¡ŒJavaScriptï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª.jsæ–‡ä»¶ã€‚ä¾‹å¦‚hello.jsï¼š\nconsole.log(\u0026#34;Hello Node.js!\u0026#34;) ç„¶ååœ¨ç»ˆç«¯ä¸­è¿è¡Œnodeå‘½ä»¤æ¥è¿è¡Œè¯¥JSæ–‡ä»¶ï¼š\nnode hello.js å¯¼å…¥æ¨¡å— Node.jsä¸­ï¼Œå¯¼å…¥æ¨¡å—ä½¿ç”¨ä¸‹æ–¹è¯­æ³•ï¼š\nconst module = require(\u0026#39;module-name\u0026#39;) REPL äº¤äº’å¼è§£é‡Šå™¨ Node.js REPLï¼ˆRead Eval Print Loopï¼Œäº¤äº’å¼è§£é‡Šå™¨ï¼‰æ˜¯Node.jsçš„ç»ˆç«¯äº¤äº’å¼è§£é‡Šå™¨ï¼Œç±»ä¼¼Pythoné‚£æ ·ã€‚\nä½¿ç”¨Node REPLçš„æ–¹æ³•æ˜¯åœ¨ç»ˆç«¯ç›´æ¥ä½¿ç”¨nodeå‘½ä»¤ï¼š\n$ node \u0026gt; console.log(\u0026#34;Hello Node.js!\u0026#34;) Hello Node.js! undefined \u0026gt; 1 + 4 5 ","date":"2023å¹´8æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/node-js/introduction/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691304494,"title":"Node.js ä»‹ç»"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"Debian å®‰è£… NVM NVMï¼ˆNode Version Managerï¼‰æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† Node.js ç‰ˆæœ¬çš„å·¥å…·ã€‚å®ƒå…è®¸ä½ åœ¨åŒä¸€å°æœºå™¨ä¸ŠåŒæ—¶å®‰è£…å’Œåˆ‡æ¢ä¸åŒçš„ Node.js ç‰ˆæœ¬ï¼Œä»¥ä¾¿äºåœ¨ä¸åŒé¡¹ç›®ä¸­ä½¿ç”¨ç‰¹å®šçš„ Node.js ç‰ˆæœ¬ã€‚\nNVM æ”¯æŒåœ¨ Linuxã€macOSã€å’Œ Windows ç³»ç»Ÿä¸Šä½¿ç”¨ï¼Œå¹¶ä¸”ä¸ä¸åŒçš„ Shellï¼ˆå¦‚ Bashã€Zshï¼‰å…¼å®¹ã€‚\nåœ¨Debianä¸Šå®‰è£…NVMçš„æ­¥éª¤å¦‚ä¸‹ï¼ˆUbuntuåŒç†ï¼‰ï¼š\nå®‰è£…NVMä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ï¼š\nsudo apt update sudo apt upgrade sudo apt install curl build-essential gnupg2 -y ä¸‹è½½å¹¶æ‰§è¡ŒNVMçš„å®‰è£…è„šæœ¬ï¼š\ncurl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash å¦‚æœä½ è¦æŒ‡å®šå®‰è£…NVMçš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä¿®æ”¹ä»¥ä¸‹å‘½ä»¤ï¼š\ncurl https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash å°†v0.38.0æ¢æˆä½ æ‰€éœ€çš„ç‰ˆæœ¬å³å¯ã€‚\nç­‰å¾…ä¸‹è½½ï¼Œå¹¶ä¸”è„šæœ¬æ‰§è¡ŒæˆåŠŸåï¼Œé‡æ–°åŠ è½½ç»ˆç«¯çš„é…ç½®ä¿¡æ¯ï¼š\nsource .bashrc å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ZSHï¼Œå¯ä»¥ï¼š\nsource .zshrc ä¸åŒçš„ç»ˆç«¯ï¼Œé‡æ–°åŠ è½½å¯¹åº”çš„é…ç½®æ–‡ä»¶å³å¯ã€‚\nå®‰è£…è„šæœ¬æ— æ³•ä¸‹è½½çš„é—®é¢˜ å¦‚æœé‡åˆ°NVMçš„install.shæ— æ³•ä¸‹è½½çš„é—®é¢˜ï¼Œä¾‹å¦‚curlæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š\ncurl: (6) Could not resolve host: raw.githubusercontent.com å¤šåŠæ˜¯åŸŸåæ±¡æŸ“å¯¼è‡´çš„ã€‚å°±ç®—ä½ ä½¿ç”¨ç§‘å­¦çš„æ–¹æ³•ï¼Œä¹Ÿä¸ä¸€å®šèƒ½ä¸‹è½½æˆåŠŸï¼Œè¿˜æ˜¯ä¼šæŠ¥ä¸€æ ·çš„é”™è¯¯ã€‚\nè§£å†³è¿™ç§é—®é¢˜å¯ä»¥å…ˆä»åŸŸåIPæŸ¥è¯¢ç½‘ç«™ä¸ŠæŸ¥è¯¢IPï¼šhttps://www.ipaddress.com/ã€‚\nç„¶åå°†æŸ¥è¯¢åˆ°çš„IPé€šè¿‡æœ¬åœ°çš„hostsæ–‡ä»¶æ¥è§£æã€‚ä¾‹å¦‚ï¼š\nvim /etc/hosts ç„¶ååŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š\n185.199.108.133 raw.githubusercontent.com ä¸Šæ–¹çš„185.199.108.133è¿™ä¸ªIPï¼Œæ›¿æ¢æˆä½ æŸ¥è¯¢åˆ°çš„ç»“æœå³å¯ã€‚\n","date":"2023å¹´8æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/08/nvm-%E5%AE%89%E8%A3%85/","series":[{"title":"Node.js","url":"/series/node.js/"}],"smallImg":"","tags":[],"timestamp":1691299914,"title":"NVM å®‰è£…"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"AMQPï¼ˆAdvanced Message Queuing Protocolï¼‰æ˜¯ç”¨äºåœ¨åº”ç”¨ç¨‹åºä¹‹é—´ä¼ é€’ä¸šåŠ¡æ¶ˆæ¯çš„å¼€æ”¾æ ‡å‡†ã€‚è¯¥åè®®ä¸è¯­è¨€å’Œå¹³å°æ— å…³ï¼Œæ›´ç¬¦åˆå¾®æœåŠ¡ä¸­ç‹¬ç«‹æ€§çš„è¦æ±‚ã€‚\nRabbitMQå®ç°äº†AMQPåè®®ã€‚Spring AMQPæ˜¯åŸºäºAMQPåè®®å®šä¹‰çš„ä¸€å¥—APIè§„èŒƒï¼Œæä¾›äº†æ¨¡æ¿æ¥å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­spring-amqpæ˜¯åŸºç¡€æŠ½è±¡ï¼Œspring-rabbitæ˜¯åº•å±‚çš„é»˜è®¤å®ç°ã€‚\nSpring AMQPçš„ä¾èµ–å¦‚ä¸‹ï¼Œå…¶ä¸­åŒ…å«äº†RabbitMQçš„ä¾èµ–ï¼š\n\u0026lt;!-- AMQPä¾èµ–ï¼ŒåŒ…å«RabbitMQ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-amqp\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨Springä¸­ä½¿ç”¨RabbitMQå¯ä»¥ä½¿ç”¨Spring AMQPçš„ä¾èµ–ã€‚å¯¹äºRabbitMQæ¥è¯´ï¼ŒPublisherå’ŒConsumeréƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªä¾èµ–ï¼Œæ‰€ä»¥è¿™ä¸ªä¾èµ–åæ ‡å¯ä»¥æ”¾åœ¨å®ƒä»¬çš„çˆ¶å·¥ç¨‹ä¸­ã€‚\nå¯¼å…¥ä¾èµ–åï¼Œéœ€è¦å…ˆç¼–å†™application.ymlï¼Œæ·»åŠ RabbitMQè¿æ¥ä¿¡æ¯ï¼ˆPublisherå’ŒConsumeréƒ½éœ€è¦ç¼–å†™æ­¤é…ç½®ï¼‰ï¼š\nspring: rabbitmq: # RabbitMQé…ç½®ä¿¡æ¯ host: localhost # ä¸»æœºåœ°å€ port: 5672 # ç«¯å£ virtual-host: / # è™šæ‹Ÿä¸»æœº username: linner # ç”¨æˆ·å password: 123456 # å¯†ç  RabbitMQå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºäº†5ä¸ªDemoï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”å‡ ç§ä¸åŒçš„ç”¨æ³•ï¼š\nåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆBasic Queueï¼‰ï¼š\nå·¥ä½œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆWork Queueï¼‰ï¼š\nå‘å¸ƒä¸è®¢é˜…ï¼ˆPublish/Subscribeï¼‰ã€‚\næ ¹æ®äº¤æ¢æœºç±»å‹çš„ä¸åŒï¼Œå¯åˆ†ä¸ºä¸‰ç§ï¼š\nFanout Exchangeï¼ˆå¹¿æ’­ï¼‰ï¼š\nDirect Exchangeï¼ˆè·¯ç”±ï¼ŒRoutingï¼‰ï¼š\nTopic Exchangeï¼ˆä¸»é¢˜ï¼‰ï¼š\næ¥ä¸‹æ¥åˆ†åˆ«æŒ‰ç…§è¿™5ä¸ªæ¨¡å‹æ¥å®ç°ã€‚\nåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ— åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹åªåŒ…å«ä¸‰ç§è§’è‰²ï¼š\nPublisherï¼šæ¶ˆæ¯å‘å¸ƒè€…ï¼Œå°†æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—Queueã€‚ Queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè´Ÿè´£æ¥å—å¹¶ç¼“å­˜æ¶ˆæ¯ã€‚ Consumerï¼šè®¢é˜…é˜Ÿåˆ—ï¼Œå¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ Spring AMQPé€šè¿‡RabbitMQæä¾›çš„AMQPæ¥å£ï¼Œæ•´åˆäº†RabbitMQï¼Œè®©RabbitMQä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚\nSpring AMQPæä¾›äº†RabbitTemplateæ¥ç»™RabbitMQå‘é€æ¶ˆæ¯ï¼Œåœ¨ä½¿ç”¨ä¹‹æ—¶ç›´æ¥@Autowiredå³å¯ã€‚\nåœ¨Publisheræ¨¡å—ä¸­æ–°å»ºä¸€ä¸ªSpringAmqpTestæµ‹è¯•ç±»ï¼Œç„¶åä½¿ç”¨RabbitTemplateå‘é€æ¶ˆæ¯ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; @Test public void testSimpleQueue() { String queueName = \u0026#34;simple.queue\u0026#34;; String message = \u0026#34;Hello Spring AMQP!\u0026#34;; rabbitTemplate.convertAndSend(queueName, message); log.info(\u0026#34;å‘é€æ¶ˆæ¯ï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); } } å°†ä»¥ä¸Šä»£ç æ”¾åœ¨ä¸šåŠ¡ä»£ç ä¸­å³å¯å®ç°å¼‚æ­¥é€šè®¯ã€‚\nåœ¨Consumerä¸­æ–°å»ºä¸€ä¸ªlisteneråŒ…ï¼Œå¹¶ä¸”åœ¨åŒ…ä¸­åˆ›å»ºSpringRabbitListenerï¼Œç„¶åä½¿ç”¨@RabbitListenerå®šä¹‰æ¥æ”¶æ¶ˆæ¯çš„æ–¹æ³•ï¼š\n@Slf4j @Component public class SpringRabbitListener { @RabbitListener(queues = {\u0026#34;simple.queue\u0026#34;}) public void listenSimpleQueue(String msg) { log.info(\u0026#34;æ”¶åˆ°æ¶ˆæ¯ï¼š[\u0026#34; + msg + \u0026#34;]\u0026#34;); } } ç›´æ¥å¯åŠ¨Consumerçš„å¯åŠ¨ç±»å³å¯å¼€å§‹æ¥æ”¶æ¶ˆæ¯ã€‚\næ³¨ï¼š@RabbitListenerçš„queueså±æ€§æ²¡æœ‰åˆ›å»ºæ¶ˆæ¯é˜Ÿåˆ—çš„èƒ½åŠ›ã€‚å¦‚æœå…ˆå¯åŠ¨ConsumeræŠ¥é”™Failed to declare queue: simple.queueï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªRabbitConfigï¼Œç„¶ååœ¨RabbitConfigä¸­åˆ›å»ºé˜Ÿåˆ—ï¼›æˆ–è€…ç›´æ¥åœ¨å¯åŠ¨ç±»ä¸­åˆ›å»ºé˜Ÿåˆ—ã€‚\nåœ¨Consumerä¸­åˆ›å»ºsimple.queueï¼š\n@Configuration public class RabbitConfig { @Bean public Queue getSimpleQueue() { return new Queue(\u0026#34;simple.queue\u0026#34;); } } å¦å¤–è¿˜éœ€è¦æ³¨æ„ï¼Œå¯¼å…¥çš„Queueæ˜¯org.springframework.amqp.coreåŒ…ä¸‹çš„ã€‚\nå·¥ä½œé˜Ÿåˆ—æ¨¡å‹ ä¿®æ”¹Publisherï¼Œæ¨¡æ‹Ÿæ¯ç§’é’Ÿå‘é€50æ¡æ¶ˆæ¯ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; @Test public void testWorkQueue() throws InterruptedException { String queueName = \u0026#34;work.queue\u0026#34;; String message = \u0026#34;Hello Message__\u0026#34;; for (int i = 0; i \u0026lt; 50; i++) { String msg = message + i; rabbitTemplate.convertAndSend(queueName, msg); log.info(\u0026#34;å‘é€æ¶ˆæ¯ï¼š[\u0026#34; + msg + \u0026#34;]\u0026#34;); Thread.sleep(20); // ä¼‘çœ  20msï¼Œ1s == 1000msï¼Œæ‰€ä»¥1sæœ€å¤šåªèƒ½å‘50æ¡ } } } ä¿®æ”¹Consumerï¼Œæ¨¡æ‹Ÿä¸¤ä¸ªæ¶ˆè´¹è€…å…±åŒæ¥æ”¶work.queueçš„æ¶ˆæ¯ï¼š\n@Slf4j @Component public class SpringRabbitListener { @RabbitListener(queuesToDeclare = {@Queue(WORK_QUEUE)}) // å£°æ˜å¹¶è®¢é˜…Queue public void listenWorkQueue1(String msg) throws InterruptedException { log.warn(\u0026#34;æ¶ˆè´¹è€… 1 æ”¶åˆ°æ¶ˆæ¯ï¼š[\u0026#34; + msg + \u0026#34;]\u0026#34;); // ç”¨ä¸åŒçš„æ—¥å¿—çº§åˆ«åŒºåˆ†æ¶ˆè´¹è€…1å’Œæ¶ˆè´¹è€…2ï¼Œæ›´æ˜“äºé˜…è¯» Thread.sleep(20); // å¤„ç†é€Ÿåº¦çº¦ï¼š50æ¡/s } @RabbitListener(queuesToDeclare = {@Queue(WORK_QUEUE)}) public void listenWorkQueue2(String msg) throws InterruptedException { log.error(\u0026#34;æ¶ˆè´¹è€… 2 æ”¶åˆ°æ¶ˆæ¯ï¼š[\u0026#34; + msg + \u0026#34;]\u0026#34;); Thread.sleep(200); // å¤„ç†é€Ÿåº¦çº¦ï¼š5æ¡/s } } @RabbitListenerçš„queuesToDeclareå±æ€§æ˜¯@Queueç±»å‹æ•°ç»„ã€‚queuesToDeclareåœ¨æŒ‡å®šå¤šä¸ªé˜Ÿåˆ—çš„åŒæ—¶ï¼Œä¼šå»å£°æ˜å®ƒä»¬ï¼Œè¿™æ ·å°±èƒ½ä¸é€šè¿‡åˆ›å»ºBeanæ¥å£°æ˜å®ƒä»¬ã€‚\nå…ˆå¯åŠ¨Consumerï¼Œç„¶ååœ¨å¯åŠ¨Publisherï¼Œå‘ç°æ¶ˆæ¯è¢«ä¸¤ä¸ªæ¶ˆè´¹è€…å¹³åˆ†å¤„ç†äº†ï¼ˆä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†å•æ•°å·æ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªå¤„ç†åŒæ•°å·æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æŒ‰ç…§å„è‡ªå¤„ç†é€Ÿåº¦å»åˆ†é…ã€‚è¿™æ˜¯å› ä¸ºæ¶ˆè´¹è€…å­˜åœ¨æ¶ˆè´¹é¢„å–ã€‚æ— è®ºåœ¨è§„å®šæ—¶é—´å†…æ˜¯å¦èƒ½å¤„ç†å¾—å®Œï¼Œæ¶ˆè´¹è€…éƒ½ä¼šæŒ‰ç…§é…ç½®å»è‡ªåŠ¨é¢„å–ã€‚æ‰€ä»¥å°±å¯¼è‡´äº†ä¸¤ä¸ªæ¶ˆè´¹è€…å„å–ä¸€åŠæ¶ˆæ¯å»å¤„ç†ã€‚\nè¦è§£å†³è¿™ä¸ªæ¶ˆè´¹é¢„å–é™åˆ¶ï¼Œè®©æ¶ˆè´¹è€…èƒ½æ ¹æ®è‡ªå·±çš„èƒ½åŠ›é¢„å–æ¶ˆæ¯ï¼Œå¯ä»¥åœ¨application.ymlä¸­ä¿®æ”¹spring.rebbitmq.listener.simple.prefetchï¼š\nspring: rabbitmq: # RabbitMQé…ç½®ä¿¡æ¯ ##### è¿æ¥ä¿¡æ¯... ##### listener: simple: prefetch: 1 # æ¯æ¬¡åªèƒ½é¢„å– 1 æ¡æ¶ˆæ¯ï¼Œå¤„ç†å®Œæ‰èƒ½è·å–ä¸‹ä¸€æ¡ ç„¶åæŒ‰ç…§ä¸Šæ–¹ï¼Œå…ˆå¯åŠ¨ï¼ˆæˆ–é‡å¯ï¼‰Consumerï¼Œç„¶ååœ¨å¯åŠ¨Publisherï¼Œè§‚å¯Ÿæ§åˆ¶å°æ‰“å°çš„æ—¥å¿—å¯ä»¥å‘ç°è¿™æ¬¡å¤„ç†å®Œ50æ¡æ¶ˆæ¯çš„æ—¶é—´å¤§çº¦ä¸º1ç§’ã€‚\nå·¥ä½œé˜Ÿåˆ—æ¨¡å¼çš„ç‰¹ç‚¹æ˜¯ï¼š\nå¤šä¸ªæ¶ˆè´¹è€…ç»‘å®šåˆ°ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒåŒä¸€æ¡æ¶ˆæ¯åªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†ã€‚ é€šè¿‡è®¾ç½®Prefetchæ¥æ§åˆ¶æ¶ˆè´¹è€…é¢„å–çš„æ¶ˆæ¯æ•°é‡ã€‚ å‘å¸ƒ/è®¢é˜…æ¨¡å‹ å‘å¸ƒ/è®¢é˜…æ¨¡å¼é€šè¿‡Exchangeï¼ˆäº¤æ¢æœºï¼‰æ–¹å¼å®ç°äº†å°†åŒä¸€æ¶ˆæ¯å‘é€ç»™å¤šä¸ªæ¶ˆè´¹è€…ã€‚\nå‘å¸ƒ/è®¢é˜…çš„æ¨¡å‹å¦‚å›¾ï¼š\næ¨¡å‹ä¸­å¤šäº†Exchangeè§’è‰²ï¼Œå¹¶ä¸”è¿‡ç¨‹ç•¥æœ‰å˜åŒ–ï¼š\nPublisherï¼ˆç”Ÿäº§è€…ï¼‰ï¼šå€¼è¦å‘é€æ¶ˆæ¯çš„ç¨‹åºï¼Œä½†æ˜¯ä¸å†å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œè€Œæ˜¯å‘ç»™Exchangeï¼ˆäº¤æ¢æœºï¼‰ã€‚ Exchangeï¼ˆäº¤æ¢æœºï¼‰ï¼šä¸€æ–¹é¢ï¼Œæ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼›å¦ä¸€æ–¹é¢ï¼ŒçŸ¥é“å¦‚ä½•å¤„ç†æ¶ˆæ¯ï¼Œä¾‹å¦‚é€’äº¤ç»™æŸä¸ªç‰¹åˆ«é˜Ÿåˆ—ã€é€’äº¤ç»™æ‰€æœ‰é˜Ÿåˆ—ã€æˆ–æ˜¯å°†æ¶ˆæ¯ä¸¢å¼ƒã€‚åˆ°åº•å¦‚ä½•æ“ä½œï¼Œå–å†³äºExchangeçš„ç±»å‹ã€‚ Topicï¼š Consumerï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼šè®¢é˜…é˜Ÿåˆ—ï¼Œå¤„ç†é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ã€‚ Queueï¼šæ¥æ”¶æ¶ˆæ¯ã€ç¼“å­˜æ¶ˆæ¯ã€‚ æ³¨ï¼šExchangeè´Ÿè´£æ¶ˆæ¯è·¯ç”±ï¼Œè€Œä¸æ˜¯å­˜å‚¨ï¼Œè·¯ç”±å¤±è´¥åˆ™æ¶ˆæ¯ä¸¢å¤±ã€‚\nå¸¸è§Exchangeç±»å‹åŒ…æ‹¬ï¼š\nFanoutï¼ˆæ‰‡å‡ºï¼‰ï¼šå¹¿æ’­ï¼Œå°†æ¶ˆæ¯äº¤ç»™æ‰€æœ‰ç»‘å®šåˆ°äº¤æ¢æœºçš„é˜Ÿåˆ—ã€‚ Directï¼ˆå®šå‘ï¼‰ï¼šè·¯ç”±ï¼ŒæŠŠæ¶ˆæ¯äº¤ç»™ç¬¦åˆæŒ‡å®šRouting Keyçš„é˜Ÿåˆ—ã€‚ Topicï¼ˆè¯é¢˜ï¼‰ï¼šé€šé…ç¬¦ï¼ŒæŠŠæ¶ˆæ¯äº¤ç»™ç¬¦åˆRouting Patternï¼ˆè·¯ç”±æ¨¡å¼ï¼‰çš„é˜Ÿåˆ—ã€‚ Spring AMQPæä¾›äº†å£°æ˜äº¤æ¢æœºã€é˜Ÿåˆ—ã€ç»‘å®šå…³ç³»çš„APIï¼Œå£°æ˜äº¤æ¢æœºAPIçš„ç»§æ‰¿å…³ç³»å›¾å¦‚ä¸‹ï¼š\nFanout Exchange Fanout Exchangeä¼šå°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯è·¯ç”±åˆ°æ¯ä¸€ä¸ªè·Ÿå…¶ç»‘å®šçš„Queueã€‚å£°æ˜é˜Ÿåˆ—ã€å£°æ˜äº¤æ¢æœºå’Œç»‘å®šå…³ç³»éƒ½è¦åœ¨Consumerä¸­å®Œæˆã€‚\nåœ¨Consumerä¸­æ·»åŠ æ–°çš„é…ç½®ç±»ï¼š\n@Configuration public class FanoutConfig { public static final String FANOUT_EXCHANGE = \u0026#34;linner.fanout\u0026#34;; // äº¤æ¢æœºåç§° public static final String FANOUT_QUEUE_1 = \u0026#34;fanout.queue1\u0026#34;; // é˜Ÿåˆ—1åç§° public static final String FANOUT_QUEUE_2 = \u0026#34;fanout.queue2\u0026#34;; // é˜Ÿåˆ—2åç§° /** * å£°æ˜FanoutExchangeäº¤æ¢æœº */ @Bean public FanoutExchange getFanoutExchange() { return new FanoutExchange(FANOUT_EXCHANGE); } /** * å£°æ˜ç¬¬1ä¸ªé˜Ÿåˆ— */ @Bean(\u0026#34;fanoutQueue1\u0026#34;) public Queue getFanoutQueue1() { return new Queue(FANOUT_QUEUE_1); } /** * ç»‘å®šé˜Ÿåˆ—1å’Œäº¤æ¢æœº */ @Bean public Binding bindingQueue1(Queue fanoutQueue1, FanoutExchange fanoutExchange) { return BindingBuilder.bind(fanoutQueue1).to(fanoutExchange); } @Bean(\u0026#34;fanoutQueue2\u0026#34;) public Queue getFanoutQueue2() { return new Queue(FANOUT_QUEUE_2); } @Bean public Binding bindingQueue2(Queue fanoutQueue2, FanoutExchange fanoutExchange) { return BindingBuilder.bind(fanoutQueue2).to(fanoutExchange); } /* ç¬¬3ä¸ªé˜Ÿåˆ—ä»¥ç›¸åŒæ–¹å¼å£°æ˜ï¼Œå¹¶ç»‘å®š... */ } ç„¶åä¿®æ”¹Consumerçš„SpringRabbitListenerç±»ï¼š\n@Slf4j @Component public class SpringRabbitListener { @RabbitListener(queues = {FanoutConfig.FANOUT_QUEUE_1}) public void listenFanoutQueue1(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + FanoutConfig.FANOUT_QUEUE_1 + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } @RabbitListener(queues = {FanoutConfig.FANOUT_QUEUE_2}) public void listenFanoutQueue2(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + FanoutConfig.FANOUT_QUEUE_2 + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } } ä¿®æ”¹Publisherï¼Œæ·»åŠ æ–°çš„æµ‹è¯•æ–¹æ³•æ¨¡æ‹Ÿå‘é€æ¶ˆæ¯ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; private static final String FANOUT_EXCHANGE = \u0026#34;linner.fanout\u0026#34;; // äº¤æ¢æœºåç§° @Test public void testSendFanoutExchange() { String message = \u0026#34;Hello everyone!\u0026#34;; // æ¶ˆæ¯ // å‘é€æ¶ˆæ¯ rabbitTemplate.convertAndSend(FANOUT_EXCHANGE, \u0026#34;\u0026#34;, message); log.info(\u0026#34;å‘é€æ¶ˆæ¯ï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); } } å…ˆè¿è¡ŒConsumerï¼Œç„¶åå†è¿è¡ŒPublisherçš„testSendFanoutExchange()æµ‹è¯•æ–¹æ³•å‘é€æ¶ˆæ¯ï¼Œåœ¨Consumerçš„ç»ˆç«¯å¯ä»¥å‘ç°ï¼Œä¸¤ä¸ªæ¶ˆè´¹è€…éƒ½æ¥æ”¶åˆ°æ¶ˆæ¯äº†ã€‚\nRabbitTemplateçš„convertAndSend()æ–¹æ³•æœ‰ä¸åŒçš„å®ç°ï¼Œå¯ä»¥å‘é˜Ÿåˆ—å‘é€æ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥å‘äº¤æ¢æœºå‘é€ã€‚\nFanout Exchangeçš„ç‰¹ç‚¹ï¼š\nå¯ä»¥æœ‰å¤šä¸ªé˜Ÿåˆ—ï¼› æ¯ä¸ªé˜Ÿåˆ—éƒ½è¦ç»‘å®šåˆ°Exchangeï¼› ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼Œåªèƒ½å‘é€åˆ°Exchangeï¼Œç”±Exchangeå†³å®šå‘ç»™å“ªä¸ªé˜Ÿåˆ—ï¼Œç”Ÿäº§è€…æ— æ³•å†³å®šï¼ˆä¹Ÿä¸çŸ¥é“ï¼‰ï¼› äº¤æ¢æœºæŠŠæ¶ˆæ¯å‘é€ç»™ç»‘å®šè¿‡çš„æ‰€æœ‰é˜Ÿåˆ—ï¼› è®¢é˜…é˜Ÿåˆ—çš„æ¶ˆè´¹è€…éƒ½èƒ½æ‹¿åˆ°æ¶ˆæ¯ã€‚ Fanout Exchangeçš„ä½œç”¨ï¼š\næ¥æ”¶Publisherå‘é€çš„æ¶ˆæ¯ï¼› å°†æ¶ˆæ¯æŒ‰ç…§è§„åˆ™è·¯ç”±åˆ°ä¸ä¹‹ç»‘å®šçš„é˜Ÿåˆ—ï¼ŒFanout Exchangeçš„ä¼šå°†æ¶ˆæ¯è·¯ç”±åˆ°æ¯ä¸ªç»‘å®šçš„é˜Ÿåˆ—ï¼› ä¸èƒ½ç¼“å­˜æ¶ˆæ¯ï¼Œè·¯ç”±å¤±è´¥ï¼Œæ¶ˆæ¯ä¸¢å¤±ã€‚ Direct Exchange Direct Exchangeé€šè¿‡Binding Keyï¼ˆç»‘å®šå¯†é’¥ï¼‰å’ŒRouting Keyï¼ˆè·¯ç”±å¯†é’¥ï¼‰å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸åŒçš„é˜Ÿåˆ—ä¸Šã€‚\nåœ¨Direct Exchangeæ¨¡å¼ä¸‹ï¼Œé˜Ÿåˆ—åœ¨å£°æ˜æ—¶å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªBinding Keyï¼›Publisheråœ¨å‘Exchangeå‘é€æ¶ˆæ¯æ—¶ï¼Œé€šè¿‡æŒ‡å®šRouting Keyï¼Œå‘Šè¯‰Exchangeè¦å°†æ¶ˆæ¯å‘é€åˆ°å“ªä¸ªé˜Ÿåˆ—ä¸Šã€‚\nåœ¨Consumerä¸­æ·»åŠ æ–°çš„listenæ–¹æ³•ï¼š\n@Slf4j @Component public class SpringRabbitListener { private static final String DIRECT_EXCHANGE_NAME = \u0026#34;linner.direct\u0026#34;; private static final String DIRECT_QUEUE_1_NAME = \u0026#34;direct.queue1\u0026#34;; private static final String DIRECT_QUEUE_2_NAME = \u0026#34;direct.queue2\u0026#34;; @RabbitListener(bindings = {@QueueBinding( // è®¾ç½®ç»‘å®šå…³ç³»ï¼Œç»‘å®šé˜Ÿåˆ— value = @Queue(DIRECT_QUEUE_1_NAME), // è®¾ç½®ç»‘å®šçš„é˜Ÿåˆ—ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºé˜Ÿåˆ—ï¼‰ exchange = @Exchange(name = DIRECT_EXCHANGE_NAME, // è®¾ç½®ç»‘å®šçš„äº¤æ¢æœºï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºäº¤æ¢æœºï¼‰ type = ExchangeTypes.DIRECT /* è®¾ç½®äº¤æ¢æœºç±»å‹ï¼Œé»˜è®¤ä¸ºDirect */), key = {\u0026#34;red\u0026#34;, \u0026#34;blue\u0026#34;} // Binding Keysï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªï¼Œå½“ )}) public void listenDirectQueue1(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + DIRECT_QUEUE_1_NAME + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } @RabbitListener(bindings = {@QueueBinding( value = @Queue(DIRECT_QUEUE_2_NAME), exchange = @Exchange(name = DIRECT_EXCHANGE_NAME, type = ExchangeTypes.DIRECT /* é»˜è®¤ */), key = {\u0026#34;red\u0026#34;, \u0026#34;yellow\u0026#34;} )}) public void listenDirectQueue2(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + DIRECT_QUEUE_2_NAME + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } } @RabbitListenerçš„bindingså±æ€§æä¾›äº†ç®€ä¾¿çš„ç»‘å®šæ–¹å¼ã€‚bindingså±æ€§æ˜¯@QueueBindingç±»å‹æ•°ç»„ï¼Œå¯ä»¥åŒæ—¶æœ‰å¤šä¸ªç»‘å®šã€‚å…¶ä¸­çš„æ¯ä¸ªç»‘å®šä½¿ç”¨@QueueBindingæ¥å®šä¹‰ã€‚\n@QueueBindingé€šå¸¸éœ€è¦è®¾ç½®çš„å±æ€§æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š\nvalueï¼šæŒ‡æ˜ç»‘å®šçš„é˜Ÿåˆ—ï¼Œç±»å‹ä¸º@Queueã€‚é€šè¿‡ä½¿ç”¨@Queueæ¥å£°æ˜å¹¶è®¢é˜…é˜Ÿåˆ—ã€‚ exchangeï¼šæŒ‡æ˜ç»‘å®šçš„äº¤æ¢æœºï¼Œç±»å‹ä¸º@Exchangeã€‚é€šè¿‡ä½¿ç”¨@Exchangeï¼Œå¯ä»¥æŒ‡å®šäº¤æ¢æœºçš„åç§°å’Œç±»å‹ã€‚äº¤æ¢æœºç±»å‹å¯ä»¥ä½¿ç”¨ExchangeTypesä¸‹çš„å­—ç¬¦ä¸²å¸¸é‡ã€‚ keyï¼šæŒ‡æ˜Binding Key(s)ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ç±»å‹ã€‚ åœ¨Publisherä¸­æ·»åŠ æ–°çš„testSendæ–¹æ³•ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; private static final String DIRECT_EXCHANGE = \u0026#34;linner.direct\u0026#34;; // äº¤æ¢æœºåç§° @Test public void testSendDirectExchange() { String routingKey = \u0026#34;red\u0026#34;; String message = \u0026#34;Hello direct exchange \u0026#34; + routingKey + \u0026#34;!\u0026#34;; // æ¶ˆæ¯ // å‘é€æ¶ˆæ¯ï¼ˆå‘é€æ¶ˆæ¯æ—¶éœ€è¦æŒ‡å®šRouting Keyï¼‰ rabbitTemplate.convertAndSend(DIRECT_EXCHANGE, routingKey, message); log.info(\u0026#34;å‘é€æ¶ˆæ¯ï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); } } å…ˆå¯åŠ¨Consumerï¼Œç„¶åå†å¯åŠ¨Publisherçš„testSendDirectExchange()æ–¹æ³•æ¥è¿›è¡Œæµ‹è¯•ã€‚ä½ å¯ä»¥é€šè¿‡å°†routingKeyä¿®æ”¹ä¸ºblueæˆ–yellowæ¥æµ‹è¯•å…¶å®ƒè·¯ç”±å¯†é’¥ã€‚\nDirect Exchangeçš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š\nQueueç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ªBinding Key(s)åˆ°Exchangeã€‚ Publisheråœ¨ç»™Exchangeå‘é€æ¶ˆæ¯æ—¶ï¼ŒæŒ‡å®šRouting Keyã€‚ Exchangeæ”¶åˆ°æ¶ˆæ¯ï¼Œå¹¶ä¸”æ ¹æ®PublisheræŒ‡å®šçš„Routing Keyå»åŒ¹é…å¯¹åº”çš„Queue(s)ã€‚å½“Exchangeå‘ç°æœ‰Queue(s)çš„Binding Keysä¸­ï¼Œæœ‰ä¸PublisheræŒ‡å®šçš„Routing Keyå¯¹åº”çš„Keyæ—¶ï¼Œå°±å°†æ¶ˆæ¯å‘é€ç»™å¯¹åº”çš„Queue(s)ã€‚ æ³¨ï¼šå¦‚æœåœ¨Direct Exchangeæ¨¡å¼ä¸‹ä½¿ç”¨Fanout Exchangeçš„æ–¹å¼å‘é€æ¶ˆæ¯ï¼ˆå³rabbitTemplate.convertAndSend(DIRECT_EXCHANGE, \u0026quot;\u0026quot;, message);ï¼‰ï¼Œé‚£ä¹ˆæ˜¯ä¸ä¼šæœ‰ä»»ä½•ä¸€ä¸ªé˜Ÿåˆ—æ¥æ”¶åˆ°æ­¤æ¶ˆæ¯çš„ã€‚é™¤éåœ¨ç»‘å®šé˜Ÿåˆ—æ—¶ï¼Œè®¾ç½®äº†è¿™æ ·ä¸€ä¸ªKeyï¼škey = {\u0026quot;\u0026quot;}ã€‚Direct Exchangeæ¨¡å¼å°†\u0026quot;\u0026quot;è¯†åˆ«ä¸ºä¸€ä¸ªKeyã€‚\nTopic Exchange Topic Exchangeæ¨¡å¼ä¸Direct Exchangeæ¨¡å¼ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºTopic Exchangeä¸‹çš„Routing Keyå¿…é¡»æ˜¯ä¸ªå¤šä¸ªå•è¯çš„åˆ—è¡¨ï¼Œå¹¶ä¸”ä»¥.åˆ†å‰²ã€‚\nä¾‹å¦‚ï¼š\nchina.newsï¼šä»£è¡¨æœ‰ä¸­å›½çš„æ–°é—»æ¶ˆæ¯ï¼› china.weatherï¼šä»£è¡¨ä¸­å›½çš„å¤©æ°”æ¶ˆæ¯ã€‚ Topic Exchangeæ¨¡å¼ä¸­ï¼ŒQueueä¸ExchangeæŒ‡å®šBinding Keyæ—¶å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼š\né€šé…ç¬¦ è¯´æ˜ # ä»£æŒ‡0ä¸ªæˆ–å¤šä¸ªå•è¯ã€‚ * ä»£æŒ‡1ä¸ªå•è¯ã€‚ åœ¨Consumerä¸­æ·»åŠ æ–°çš„listenæ–¹æ³•ï¼š\n@Slf4j @Component public class SpringRabbitListener { private static final String TOPIC_EXCHANGE_NAME = \u0026#34;linner.topic\u0026#34;; private static final String TOPIC_QUEUE_1_NAME = \u0026#34;topic.queue1\u0026#34;; private static final String TOPIC_QUEUE_2_NAME = \u0026#34;topic.queue2\u0026#34;; @RabbitListener(bindings = @QueueBinding( value = @Queue(TOPIC_QUEUE_1_NAME), exchange = @Exchange( name = TOPIC_EXCHANGE_NAME, type = ExchangeTypes.TOPIC // è®¾ç½®äº¤æ¢æœºç±»å‹ä¸ºTopic ), key = \u0026#34;china.#\u0026#34; // è®¾ç½®åŒ…å«é€šé…ç¬¦çš„Binding Key )) public void listenTopicQueue1(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + TOPIC_QUEUE_1_NAME + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } @RabbitListener(bindings = @QueueBinding( value = @Queue(TOPIC_QUEUE_2_NAME), exchange = @Exchange( name = TOPIC_EXCHANGE_NAME, type = ExchangeTypes.TOPIC ), key = \u0026#34;#.news\u0026#34; )) public void listenTopicQueue2(String msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + TOPIC_QUEUE_2_NAME + \u0026#34;] çš„æ¶ˆæ¯: [\u0026#34; + msg + \u0026#34;]\u0026#34;); } } åœ¨Publisherä¸­æ·»åŠ æ–°çš„testSendæ–¹æ³•ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; private static final String TOPIC_EXCHANGE = \u0026#34;linner.topic\u0026#34;; // äº¤æ¢æœºåç§° @Test public void testSendTopicExchange() { String routingKey = \u0026#34;china.news\u0026#34;; String message = \u0026#34;Hello \u0026#34; + TOPIC_EXCHANGE + \u0026#34; \u0026#34; + routingKey + \u0026#34;!\u0026#34;; // æ¶ˆæ¯ // å‘é€æ¶ˆæ¯ rabbitTemplate.convertAndSend(TOPIC_EXCHANGE, routingKey, message); log.info(\u0026#34;å‘é€æ¶ˆæ¯ï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); } } åŒæ ·æ˜¯ä»¥å…ˆå¯åŠ¨Consumerï¼Œå†å¯åŠ¨Publisherçš„æ–¹å¼è¿›è¡Œæµ‹è¯•ï¼Œç„¶åå†é€šè¿‡ä¿®æ”¹routingKeyæ¥æµ‹è¯•ä¸åŒçš„åŒ¹é…è§„åˆ™ã€‚\næ¶ˆæ¯è½¬æ¢å™¨ åœ¨Spring AMOPä¸­ï¼Œå‘é€æ¶ˆæ¯çš„RabbitTemplate.convertAndSend()æ–¹æ³•ï¼Œå…¶å®å‘é€çš„æ˜¯Objectç±»å‹ã€‚åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼ŒSpring AMOPä¼šå°†å‘é€çš„æ¶ˆæ¯åºåˆ—åŒ–ä¸ºå­—èŠ‚å‘é€ç»™RabbitMQï¼›æ¥æ”¶æ¶ˆæ¯çš„æ—¶å€™ï¼Œè¿˜ä¼šæŠŠå­—èŠ‚ååºåˆ—åŒ–ä¸ºJavaå¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè®¯è¿‡ç¨‹ä¼ è¾“çš„æ¶ˆæ¯å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚\né»˜è®¤åºåˆ—åŒ–æ–¹å¼ é»˜è®¤æƒ…å†µä¸‹Spring AMOPé‡‡ç”¨çš„åºåˆ—åŒ–æ–¹å¼æ˜¯JDKåºåˆ—åŒ–ã€‚\nåœ¨Consumerçš„RabbitConfigä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„é˜Ÿåˆ—ï¼š\n@Configuration public class RabbitConfig { public static final String OBJECT_QUEUE_NAME = \u0026#34;object.queue\u0026#34;; @Bean public Queue getObjectQueue() { return new Queue(OBJECT_QUEUE_NAME); } } ç„¶åå¯åŠ¨Consumerï¼ˆè¿™æ˜¯ä¸ºäº†å±•ç¤ºSpring AMQPé»˜è®¤åºåˆ—åŒ–æ–¹å¼åœ¨RabbitMQä¸­çš„åºåˆ—åŒ–ç»“æœï¼Œæ‰€ä»¥å…ˆä¸åœ¨Consumerä¸­æ¥æ”¶æ¶ˆæ¯ï¼‰ã€‚\næ¥ç€åœ¨Publisherä¸­åˆ›å»ºtestSendæ–¹æ³•ï¼š\n@Slf4j @RunWith(SpringRunner.class) @SpringBootTest public class SpringAmqpTest { @Autowired private RabbitTemplate rabbitTemplate; private static final String OBJECT_QUEUE_NAME = \u0026#34;object.queue\u0026#34;; @Test public void testSendObjectQueue() { Map\u0026lt;String, Object\u0026gt; msg = new HashMap\u0026lt;\u0026gt;(); msg.put(\u0026#34;name\u0026#34;, \u0026#34;Linner\u0026#34;); msg.put(\u0026#34;age\u0026#34;, null); rabbitTemplate.convertAndSend(OBJECT_QUEUE_NAME, msg); // å‘é€ä¸€ä¸ªMapå¯¹è±¡ } } å¯åŠ¨æµ‹è¯•æ–¹æ³•ï¼Œåœ¨RabbitMQç®¡ç†é¡µé¢å¯ä»¥çœ‹åˆ°object.queueä¸­å­˜åœ¨è¿™æ ·ä¸€æ¡æ¶ˆæ¯ï¼š\nå¯ä»¥å‘ç°JDKåºåˆ—åŒ–å­˜åœ¨ä¸‹åˆ—é—®é¢˜ï¼š\næ•°æ®ä½“ç§¯è¿‡å¤§ï¼› æœ‰å®‰å…¨æ¼æ´ï¼› å¯è¯»æ€§å·®ã€‚ è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹å¼ JSONæ˜¯ä¸€ç§å¾ˆå¥½çš„åºåˆ—åŒ–æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†Spring AMQPé»˜è®¤çš„JDKåºåˆ—åŒ–æ”¹æˆJacksonã€‚\né¦–å…ˆå¯¼å…¥ä¾èµ–ï¼Œç”±äºåºåˆ—åŒ–åè¿˜éœ€ååºåˆ—åŒ–ï¼Œæ‰€ä»¥Publisherå’ŒConsumseræ¨¡å—éƒ½éœ€è¦å¯¼å…¥Jacksonä¾èµ–ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¾èµ–å¯¼å…¥å®ƒä»¬çš„çˆ¶å·¥ç¨‹ï¼š\n\u0026lt;!--Jacksonæ ¸å¿ƒä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.dataformat\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-dataformat-xml\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.9.10\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ç„¶ååˆ†åˆ«åœ¨Publisherå’ŒConsumserä¸­æ›¿æ¢Spring AMQPé»˜è®¤åºåˆ—åŒ–æ–¹å¼ï¼š\n@Configuration public class AmqpConfig { /** * è‡ªå®šä¹‰æ¶ˆæ¯è½¬æ¢å™¨ */ @Bean public MessageConverter getMessageConverter() { return new Jackson2JsonMessageConverter(); } } å…ˆè¿è¡ŒPublisher.testSendObjectQueue()æ–¹æ³•ï¼Œè§‚å¯ŸJacksonæ˜¯å¦æœ‰ç”Ÿæ•ˆã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\næœ€ååœ¨Consumserä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„listenæ–¹æ³•ï¼š\n@Slf4j @Component public class SpringRabbitListener { private static final String OBJECT_QUEUE_NAME = \u0026#34;object.queue\u0026#34;; @RabbitListener(queuesToDeclare = @Queue(OBJECT_QUEUE_NAME)) public void listenObjectQueue(Map\u0026lt;String, Object\u0026gt; msg) { log.info(\u0026#34;æ¶ˆè´¹è€…æ”¶åˆ° [\u0026#34; + OBJECT_QUEUE_NAME + \u0026#34;] çš„æ¶ˆæ¯: \u0026#34; + msg); } } é‡å¯Consumserï¼Œè§‚å¯Ÿç»ˆç«¯è¾“å‡ºçš„æ—¥å¿—ï¼Œå¦‚æœæˆåŠŸæ‰“å°å‡ºMapå¯¹è±¡ï¼Œè¯´æ˜ååºåˆ—åŒ–æˆåŠŸã€‚\næ³¨ï¼šè‡ªå®šä¹‰Spring AMQPåºåˆ—åŒ–æ–¹å¼æ—¶ï¼ŒPublisherå’ŒConsumeré…ç½®çš„æ¶ˆæ¯è½¬æ¢å™¨éƒ½å¿…é¡»ç›¸åŒã€‚å°±æ˜¯è¯´ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¸€å®šè¦ä½¿ç”¨åŒä¸ªæ¶ˆæ¯è½¬æ¢å™¨ã€‚\n","date":"2023å¹´8æœˆ4æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/communications/spring-amqp/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1691138411,"title":"Spring AMQP"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"RabbitMQå®˜ç½‘ï¼šhttps://www.rabbitmq.com/ã€‚\nå®˜æ–¹æ–‡æ¡£ï¼šhttps://rabbitmq.com/documentation.htmlã€‚\nå®˜æ–¹Demoï¼šhttps://www.rabbitmq.com/getstarted.htmlã€‚\néƒ¨ç½² RabbitMQ ä½¿ç”¨Dockeræ¥éƒ¨ç½²RabbitMQåªéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š\npull RabbitMQé•œåƒï¼š\ndocker pull rabbitmq:3-management RabbitMQé€šè¿‡æ’ä»¶çš„æ–¹å¼æä¾›äº†ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢ã€‚åœ¨RabbitMQå®˜æ–¹çš„é•œåƒä¸­ï¼Œå¸¦managementç‰ˆæœ¬çš„å°±æ˜¯é›†æˆäº†è¯¥å¯è§†åŒ–æ’ä»¶çš„é•œåƒã€‚\né€šè¿‡Dockerå®˜æ–¹çš„é•œåƒæºæ¥pull RabbitMQé•œåƒå¯èƒ½ä¼šæœ‰ç‚¹æ…¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›å›½å†…çš„é•œåƒæºï¼š\næä¾›æ–¹ |é•œåƒURL ä¸­å›½åŒºå®˜æ–¹é•œåƒ |https://registry.docker-cn.com æ¸…åæº |https://docker.mirrors.ustc.edu.cn é˜¿é‡Œæº |https://cr.console.aliyun.com è…¾è®¯æº |https://mirror.ccs.tencentyun.com ç½‘æ˜“æº |http://hub-mirror.c.163.com é“å®¢é•œåƒç«™ |http://f1361db2.m.daocloud.io\nå¯åŠ¨RabbitMQå®¹å™¨ï¼š\ndocker run \\ -e RABBITMQ_DEFAULT_USER=linner \\ # RabbitMQç”¨æˆ·åï¼ˆé»˜è®¤ä¸ºguestï¼‰ -e RABBITMQ_DEFAULT_PASS=123456 \\ # RabbitMQå¯†ç ï¼ˆé»˜è®¤ä¸ºguestï¼‰ --name rabbitmq-server \\ --hostname rabbitmq \\ # åŸŸåï¼Œå•æœºä¸‹å¯å¿½ç•¥ï¼Œé€šå¸¸ç”¨äºé›†ç¾¤éƒ¨ç½²æ—¶ -p 15672:15672 \\ # å¯è§†åŒ–ç®¡ç†ç•Œé¢ç«¯å£ -p 5672:5672 \\ # æœåŠ¡ç«¯å£ -d \\ rabbitmq:3-management å¯åŠ¨å®¹å™¨åï¼Œè¿›å…¥http://localhost:15672/å³å¯è¿›å…¥RabbitMQç®¡ç†ç•Œé¢ã€‚\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹RabbitMQæ—¥å¿—ï¼š\ndocker logs rabbitmq-server # æ›¿æ¢æˆä½ å®¹å™¨çš„åç§° RabbitMQ ç»“æ„ RabbitMQçš„åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š\nåœ¨RabbitMQä¸­æœ‰å‡ ä¸ªæ¦‚å¿µï¼š\nchannelï¼šæ“ä½œRabbitMQçš„å·¥å…·ã€‚ exchangeï¼šè·¯ç”±æ¶ˆæ¯åˆ°é˜Ÿåˆ—ä¸­ã€‚ queueï¼šç¼“å­˜æ¶ˆæ¯ã€‚ virtual hostï¼šè™šæ‹Ÿä¸»æœºï¼Œæ˜¯å¯¹queueã€exchangeç­‰èµ„æºçš„é€»è¾‘åˆ†ç»„ã€‚ RabbitMQä¸­çš„è§’è‰²ä¸»è¦æœ‰ï¼š\nPublisherï¼šç”Ÿäº§è€…ã€‚å°†æ¶ˆæ¯å‘é€ç»™Queueï¼ˆé˜Ÿåˆ—ï¼‰æˆ–Exchangeï¼ˆäº¤æ¢æœºï¼‰ã€‚ Consumerï¼šæ¶ˆè´¹è€…ã€‚ä»Queueè·å–æ¶ˆæ¯ï¼Œå¹¶åšå“åº”çš„å¤„ç†ã€‚ Exchangeï¼šäº¤æ¢æœºã€‚è´Ÿè´£æ¶ˆæ¯è·¯ç”±ï¼Œå°†ä»Publisheræ¥å—åˆ°çš„æ¶ˆæ¯åˆ†å‘åˆ°ä¸åŒçš„Queuesä¸Šã€‚ Queueï¼šé˜Ÿåˆ—ã€‚ç”¨äºä»Publishersæˆ–Exchangeæ¥æ”¶æ¶ˆæ¯å¹¶å­˜å‚¨ã€‚ Virtual Hostï¼šè™šæ‹Ÿä¸»æœºã€‚éš”ç¦»ä¸åŒç”¨æˆ·çš„Exchangeã€Queueï¼Œæ¶ˆæ¯çš„éš”ç¦»ã€‚ æ¶ˆæ¯æ¨¡å‹ RabbitMQå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºäº†5ä¸ªDemoï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”å‡ ç§ä¸åŒçš„ç”¨æ³•ï¼š\nåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆBasic Queueï¼‰ï¼š\nå·¥ä½œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆWork Queueï¼‰ï¼š\nå‘å¸ƒä¸è®¢é˜…ï¼ˆPublish and Subscribeï¼‰ã€‚\næ ¹æ®äº¤æ¢æœºç±»å‹çš„ä¸åŒï¼Œå¯åˆ†ä¸ºä¸‰ç§ï¼š\nFanout Exchangeï¼ˆå¹¿æ’­ï¼‰ï¼š\nDirect Exchangeï¼ˆè·¯ç”±ï¼‰ï¼š\nTopic Exchangeï¼ˆä¸»é¢˜ï¼‰ï¼š\nRabbitMQ ä¾èµ– ä½¿ç”¨RabbitMQä¹‹å‰éœ€è¦å…ˆå¯¼å…¥ä¾èµ–ã€‚å¯ä»¥å¯¼å…¥Spring AMQPçš„ä¾èµ–ï¼Œå…¶ä¸­åŒ…å«äº†RabbitMQçš„ä¾èµ–ï¼š\n\u0026lt;!-- AMQPä¾èµ–ï¼ŒåŒ…å«RabbitMQ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-amqp\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; å¯¹äºRabbitMQæ¥è¯´ï¼ŒPublisherå’ŒConsumeréƒ½æ˜¯ä½¿ç”¨è¿™ä¸ªä¾èµ–ï¼Œæ‰€ä»¥è¿™ä¸ªä¾èµ–åæ ‡å¯ä»¥æ”¾åœ¨å®ƒä»¬çš„çˆ¶å·¥ç¨‹ä¸­ã€‚\nåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ— æœ€åŸºç¡€çš„æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹åªåŒ…å«ä¸‰ç§è§’è‰²ï¼š\nPublisherï¼šæ¶ˆæ¯å‘å¸ƒè€…ï¼Œå°†æ¶ˆæ¯å‘é€åˆ°é˜Ÿåˆ—Queueã€‚ Queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè´Ÿè´£æ¥å—å¹¶ç¼“å­˜Publisherå‘é€çš„æ¶ˆæ¯ã€‚ Consumerï¼šè®¢é˜…é˜Ÿåˆ—ï¼Œå¤„ç†Queueä¸­çš„æ¶ˆæ¯ã€‚ Queueç”±RabbitMQå®ç°ï¼Œéœ€è¦ç”±æˆ‘ä»¬å®ç°çš„è§’è‰²ä¸ºPublisherå’ŒConsumerã€‚\nå®ç°åŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ä½¿ç”¨RabbitMQçš„åŸç”Ÿæ¥å£æ¥æ¨¡æ‹Ÿã€‚åˆ›å»ºä¸¤ä¸ªSpringæ¨¡å—Publisherå’ŒConsumeræ¥æ¨¡æ‹Ÿæ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶ï¼š\nåœ¨Publisheræ¨¡å—ä¸­åˆ›å»ºPublisherTestæµ‹è¯•ç±»æ¥æ¨¡æ‹Ÿæ¶ˆæ¯å‘é€ï¼š\npublic class PublisherTest { @Test public void testSendMessage() throws IOException, TimeoutException { // 1. å»ºç«‹è¿æ¥ ConnectionFactory factory = new ConnectionFactory(); // 1.1. è®¾ç½®è¿æ¥å‚æ•° factory.setHost(\u0026#34;localhost\u0026#34;); // ä¸»æœºåœ°å€ factory.setPort(5672); // ç«¯å£å· factory.setVirtualHost(\u0026#34;/\u0026#34;); // è™šæ‹Ÿä¸»æœº factory.setUsername(\u0026#34;linner\u0026#34;); // è´¦å· factory.setPassword(\u0026#34;123456\u0026#34;); // å¯†ç  // 1.2. å»ºç«‹è¿æ¥ Connection connection = factory.newConnection(); // 2. åˆ›å»ºé€šé“Channel Channel channel = connection.createChannel(); // 3. åˆ›å»ºé˜Ÿåˆ— String queueName = \u0026#34;simple.queue\u0026#34;; channel.queueDeclare(queueName, false, false, false, null); // 4. å‘é€æ¶ˆæ¯ String message = \u0026#34;Hello RabbitMQ!\u0026#34;; channel.basicPublish(\u0026#34;\u0026#34;, queueName, null, message.getBytes()); System.out.println(\u0026#34;å‘é€æ¶ˆæ¯æˆåŠŸï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); // 5. å…³é—­é€šé“å’Œè¿æ¥ channel.close(); connection.close(); } } åœ¨Consumeræ¨¡å—ä¸­åˆ›å»ºConsumerTestæ¥æ¨¡æ‹Ÿæ¶ˆæ¯æ¥æ”¶ï¼š\næ³¨ï¼šæ¥æ”¶æ¶ˆæ¯éœ€è¦åœ¨main()ä¸­åˆ›å»ºå›è°ƒå‡½æ•°ã€‚ä¸èƒ½ä½¿ç”¨ä¸€èˆ¬çš„æµ‹è¯•æ–¹æ³•ã€‚\npublic class ConsumerTest { public static void main(String[] args) throws IOException, TimeoutException { // 1. åˆ›å»ºè¿æ¥å·¥å‚ï¼Œå»ºç«‹è¿æ¥ ConnectionFactory factory = new ConnectionFactory(); // 1.1. è®¾ç½®è¿æ¥å‚æ•° factory.setHost(\u0026#34;localhost\u0026#34;); // ä¸»æœºåœ°å€ factory.setPort(5672); // ç«¯å£å· factory.setVirtualHost(\u0026#34;/\u0026#34;); // è™šæ‹Ÿä¸»æœº factory.setUsername(\u0026#34;linner\u0026#34;); // ç”¨æˆ·å factory.setPassword(\u0026#34;123456\u0026#34;); // å¯†ç  // 1.2. å»ºç«‹è¿æ¥ Connection connection = factory.newConnection(); // 2. åˆ›å»ºé€šé“Channel Channel channel = connection.createChannel(); // 3. åˆ›å»ºé˜Ÿåˆ— String queueName = \u0026#34;simple.queue\u0026#34;; channel.queueDeclare(queueName, false, false, false, null); // 4. è®¢é˜…æ¶ˆæ¯ channel.basicConsume(queueName, true, new DefaultConsumer(channel){ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { // 5. å¤„ç†æ¶ˆæ¯ String message = new String(body); System.out.println(\u0026#34;æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š[\u0026#34; + message + \u0026#34;]\u0026#34;); } }); System.out.println(\u0026#34;ç­‰å¾…æ¥æ”¶æ¶ˆæ¯......\u0026#34;); } } æ¨¡æ‹Ÿè¿‡ç¨‹ï¼š\nå…ˆç»™testSendMessage()æ‰“ä¸ªæ–­ç‚¹ï¼Œç„¶åå†ä»¥è°ƒè¯•æ¨¡å¼å¯åŠ¨PublisherTestï¼Œé€æ¡æ‰§è¡Œã€‚å¯ä»¥åœ¨RabbitMQç®¡ç†ç•Œé¢ä¸­å‘ç°åˆ›å»ºäº†å¯¹åº”çš„è¿æ¥ã€é€šé“å’Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚å¹¶ä¸”ï¼Œè¿›å…¥é˜Ÿåˆ—åå¯ä»¥å‘ç°æœ‰ä¸€æ¡æ¶ˆæ¯åœ¨å‡†å¤‡ä¸­ã€‚\nMQè¿æ¥ï¼š\nMQé€šé“ï¼š\næ¶ˆæ¯é˜Ÿåˆ—ï¼ˆReadé¡¹ä¸º1ï¼Œè¡¨ç¤ºæœ‰1æ¡å‡†å¤‡æ¶ˆæ¯ï¼‰ï¼š\nå‡†å¤‡ä¸­çš„æ¶ˆæ¯ï¼š\næ­¤æ—¶å¯åŠ¨Consumerï¼Œå¯ä»¥å‘ç°æœ‰ä¸€æ¡æ–°çš„è¿æ¥å’Œæ–°çš„é€šé“ã€‚å¹¶ä¸”æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„å‡†å¤‡æ¶ˆæ¯å˜ä¸º0ã€‚\næ–°çš„MQè¿æ¥ï¼š\næ–°çš„MQé€šé“ï¼š\næ¶ˆæ¯é˜Ÿåˆ—ï¼š\nåœ¨Consumerçš„æ§åˆ¶å°ä¸­å¯ä»¥å‘ç°æ‰“å°äº†ä¸€æ¡æ–°æ¶ˆæ¯ï¼š\næ¥æ”¶åˆ°æ¶ˆæ¯ï¼š[Hello RabbitMQ!] å†æ¬¡å¯åŠ¨PublisherTestï¼ŒConsumeræ§åˆ¶å°å†æ¬¡æ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼š\næ¥æ”¶åˆ°æ¶ˆæ¯ï¼š[Hello RabbitMQ!] åœ¨æ­å»ºåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—çš„è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºé˜Ÿåˆ—ä¹‹å‰çš„æ“ä½œå¯¹äºPublisherå’ŒConsumeræ¥è¯´æ˜¯ä¸€è‡´çš„ã€‚å»ºç«‹è¿æ¥è¿™ä¸ªè¿‡ç¨‹å¯¹äºPublisherå’ŒConsumeræ¥è¯´éƒ½æ˜¯å¿…è¦çš„ï¼Œä¹‹æ‰€ä»¥å®ƒä»¬éƒ½è¦åˆ›å»ºé˜Ÿåˆ—ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢é˜Ÿåˆ—ä¸å­˜åœ¨çš„æƒ…å†µå‘ç”Ÿã€‚å®ƒä»¬çš„æµç¨‹ä¸­ä¸åŒçš„æ˜¯Publisheråˆ›å»ºé˜Ÿåˆ—åæ˜¯ä¸ºäº†å‘é€æ¶ˆæ¯ï¼ŒConsumeråˆ›å»ºé˜Ÿåˆ—åæ˜¯ä¸ºäº†æ¥æ”¶æ¶ˆæ¯ã€‚\nåˆ›å»ºåŸºæœ¬æ¶ˆæ¯é˜Ÿåˆ—çš„æµç¨‹å¤§è‡´å¯æ€»ç»“ä¸ºï¼š\nå»ºç«‹è¿æ¥ï¼ˆConnectionï¼‰ã€‚ åˆ›å»ºè¿æ¥å·¥å‚ï¼› è®¾ç½®è¿æ¥å‚æ•°ï¼› æœ€åå†å»ºç«‹è¿æ¥ã€‚ åˆ©ç”¨Connectionåˆ›å»ºé€šé“ï¼ˆChannelï¼‰ã€‚ åˆ©ç”¨Channelå£°æ˜æ¶ˆæ¯é˜Ÿåˆ—ã€‚ åˆ©ç”¨Channelåœ¨æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯æˆ–è®¢é˜…æ¶ˆæ¯ã€‚ å¯¹äºPublisheræ¥è¯´ï¼Œéœ€è¦åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ã€‚å‘é€å®Œæ¶ˆæ¯åï¼Œéœ€è¦æŒ‰é¡ºåºå…³é—­é€šé“å’Œè¿æ¥ã€‚ å¯¹äºConsumeræ¥è¯´ï¼Œéœ€è¦åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¥æ”¶æ¶ˆæ¯ã€‚ ","date":"2023å¹´8æœˆ3æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/communications/rabbit-mq/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1691050245,"title":"RabbitMQ"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¾®æœåŠ¡é—´é€šè®¯æœ‰ä¸¤ç§æ–¹å¼ï¼š\nåŒæ­¥é€šè®¯ï¼šå®æ—¶å“åº”ã€‚ å¼‚æ­¥é€šè®¯ï¼šä¸éœ€è¦é©¬ä¸Šå›å¤ã€‚ ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜åŠ£ï¼ŒåŒæ­¥é€šè®¯å¯ä»¥ç«‹å³å¾—åˆ°å“åº”ï¼Œä½†æ˜¯å´ä¸èƒ½è·Ÿå¤šä¸ªæœåŠ¡åŒæ—¶é€šè®¯ã€‚å¼‚æ­¥é€šè®¯å¯ä»¥åŒæ—¶ä¸å¤šä¸ªæœåŠ¡é€šè®¯ï¼Œä½†æ˜¯å¾€å¾€å“åº”ä¼šæœ‰æ‰€å»¶è¿Ÿã€‚\nåŒæ­¥é€šè®¯ Feignè°ƒç”¨å°±å±äºåŒæ­¥æ–¹å¼ï¼Œè™½ç„¶è°ƒç”¨å¯ä»¥å®æ—¶å¾—åˆ°ç»“æœï¼Œä½†å­˜åœ¨ä¸‹é¢çš„é—®é¢˜ï¼š\nè€¦åˆåº¦é«˜ï¼šæ¶ˆè´¹è€…ä¸æä¾›è€…ä¹‹é—´å­˜åœ¨ç›´æ¥çš„è°ƒç”¨å…³ç³»ã€‚åœ¨æœåŠ¡ä¸­æ¯æ¬¡åŠ å…¥æ–°çš„éœ€æ±‚ï¼Œéƒ½è¦ä¿®æ”¹åŸæ¥çš„ä»£ç ã€‚ æ€§èƒ½ä¸‹é™ï¼šæ¶ˆè´¹è€…éœ€è¦ç­‰å¾…æä¾›è€…å“åº”ï¼Œå¦‚æœè°ƒç”¨é“¾è¿‡é•¿ï¼Œå“åº”æ—¶é—´ç­‰äºæ¯æ¬¡è°ƒç”¨çš„æ—¶é—´ä¹‹å’Œã€‚ èµ„æºæµªè´¹ï¼šæ¶ˆè´¹è€…åœ¨ç­‰å¾…å“åº”è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½é‡Šæ”¾è¯·æ±‚å ç”¨çš„èµ„æºï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ä¼šæåº¦æµªè´¹ç³»ç»Ÿèµ„æºã€‚ çº§è”å¤±è´¥ï¼šå¦‚æœæä¾›è€…å‡ºç°é—®é¢˜ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…éƒ½ä¼šè·Ÿç€å‡ºé—®é¢˜ã€‚å¦‚åŒå¤šç±³è¯éª¨ç‰Œä¸€æ ·ï¼Œè¿…é€Ÿå¯¼è‡´æ•´ä¸ªå¾®æœåŠ¡ç¾¤æ•…éšœã€‚ è¿˜æœ‰ä¸€ä¸ªå¯¼è‡´æ€§èƒ½ä¸‹é™å’Œèµ„æºæµªè´¹çš„åŸå› ï¼šæ¶ˆè´¹è€…åœ¨ç»™æä¾›è€…å‘è¯·æ±‚æ—¶ï¼Œæä¾›è€…åœ¨å¤„ç†åˆ«çš„æ¶ˆè´¹è€…çš„è¯·æ±‚ï¼Œæ— æ³•åŠæ—¶å“åº”ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´è¯¥æ¶ˆè´¹è€…ç­‰å¾…è¿‡é•¿æ—¶é—´çš„å“åº”ã€‚\nåŒæ­¥é€šè®¯å¹¶éåªæœ‰ç¼ºç‚¹æ²¡æœ‰ä¼˜ç‚¹ï¼Œå…¶ä¼˜ç‚¹ä¸ºæ—¶æ•ˆæ€§è¾ƒå¼ºï¼Œå¯ä»¥ç«‹å³å¾—åˆ°ç»“æœã€‚\nå¼‚æ­¥é€šè®¯ å¼‚æ­¥è°ƒç”¨å¯ä»¥é¿å…ä¸Šè¿°åŒæ­¥é€šè®¯æ—¶é€ æˆçš„é—®é¢˜ã€‚\nåœ¨å¼‚æ­¥é€šè®¯ä¸­ï¼Œä½¿ç”¨äº‹ä»¶ï¼ˆEventï¼‰å’Œä»£ç†ï¼ˆBrokerï¼‰å¤„ç†é€šè®¯ã€‚åœ¨å¼‚æ­¥é€šè®¯ä¸­æœ‰ä¸‰ç§è§’è‰²ï¼š\näº‹ä»¶å‘å¸ƒè€…ï¼ˆPublisherï¼‰ï¼šPublisheråœ¨å¤„ç†å®Œè‡ªå·±çš„ä¸šåŠ¡åï¼Œå‘å¸ƒä¸€ä¸ªäº‹ä»¶ç»™Brokerã€‚ äº‹ä»¶ä»£ç†è€…ï¼ˆBrokerï¼‰ï¼šBorkeråœ¨æ¥æ”¶åˆ°Publisherçš„äº‹ä»¶æ¶ˆæ¯åï¼Œå°†è¯¥æ¶ˆæ¯å‘é€ç»™è®¢é˜…äº†è¯¥äº‹ä»¶çš„Consumerã€‚ äº‹ä»¶è®¢é˜…è€…ï¼ˆConsumerï¼‰ï¼šConsumeræ¥æ”¶åˆ°è‡ªå·±è®¢é˜…çš„äº‹ä»¶æ¶ˆæ¯åï¼Œæ ¹æ®äº‹ä»¶åšç›¸åº”çš„ä¸šåŠ¡å¤„ç†ã€‚å¹¶ä¸”Consumerå¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µå’Œä¸šåŠ¡å¤„ç†èƒ½åŠ›æ¥å¤„ç†ï¼ˆå°±å¥½æ¯”è¯´èƒ½åŠ›ä¸å¤Ÿå°±ä¸è¦æ½å¤ªå¤šæ´»ï¼ŒConsumeræ€§èƒ½ä¸å¤Ÿå°±ä¸ä¼šåŒæ—¶å¤„ç†å¤ªå¤šä¸šåŠ¡ï¼‰ã€‚ åœ¨äº‹ä»¶æ¨¡å¼ä¸­ï¼ŒPublisheråœ¨å¤„ç†å®Œä¸šåŠ¡åï¼Œå°±åªç®¡å‘å¸ƒäº‹ä»¶ç»™Brokerã€‚å‰©ä¸‹çš„ç”±Brokerå’ŒConsumerå®Œæˆã€‚è¿™æ ·Publisherä¸Consumerå¹¶æ²¡æœ‰ç›´æ¥é€šè®¯ï¼Œè€Œä¸”Publisherä¹Ÿæ— éœ€ç­‰å¾…å“åº”ï¼Œå³å¯ä»¥é™ä½è€¦åˆã€å‡å°‘çº§è”å¤±è´¥çš„æƒ…å†µï¼Œåˆèƒ½æé«˜æ€§èƒ½ã€å‡å°‘èµ„æºæµªè´¹ã€‚Brokeråœ¨è¿™ä¸€æ¨¡å¼ä¸­ï¼Œå°±åƒæ˜¯ä¸€ä¸ªæ•°æ®æ€»çº¿ï¼Œæ‰€æœ‰çš„æœåŠ¡è¦æ¥æ”¶æ•°æ®å’Œå‘é€æ•°æ®éƒ½å‘åˆ°è¿™ä¸ªæ€»çº¿ä¸Šï¼›è¿™ä¸ªæ€»çº¿å°±åƒåè®®ä¸€æ ·ï¼Œè®©æœåŠ¡é—´çš„é€šè®¯å˜å¾—æ ‡å‡†å’Œå¯æ§ã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå‘å¸ƒè€…ä¸è®¢é˜…è€…æ˜¯ç›¸å¯¹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»æ•´ä¸ªç³»ç»Ÿæ¥çœ‹ï¼Œå‘å¸ƒè€…å¯ä»¥æ˜¯è®¢é˜…è€…ï¼Œè®¢é˜…è€…ä¹Ÿå¯ä»¥æ˜¯å‘å¸ƒè€…ï¼›ä»å…·ä½“çš„ä¸šåŠ¡é€»è¾‘çº¿ä¸Šçœ‹ï¼Œæ‰æœ‰æŸä¸ªæœåŠ¡æ˜¯å¦å¤–æŸä¸ªæœåŠ¡çš„å‘å¸ƒè€…ï¼ŒæŸä¸ªæœåŠ¡æ˜¯å¦å¤–æŸä¸ªæœåŠ¡çš„è®¢é˜…è€…ã€‚\nä½¿ç”¨äº‹ä»¶æ¨¡å¼çš„å¼‚æ­¥é€šè®¯çš„å¥½å¤„ï¼š\nååé‡æå‡ï¼šå‘å¸ƒè€…æ— éœ€ç­‰å¾…è®¢é˜…è€…å¤„ç†å®Œæˆï¼Œå“åº”æ›´å¿«é€Ÿã€‚ æ•…éšœéš”ç¦»ï¼šæœåŠ¡æ²¡æœ‰ç›´æ¥è°ƒç”¨ï¼Œä¸å­˜åœ¨çº§è”å¤±è´¥é—®é¢˜ã€‚ æé«˜èµ„æºåˆ©ç”¨ï¼šè°ƒç”¨é—´æ²¡æœ‰é˜»å¡ï¼Œä¸ä¼šé€ æˆæ— æ•ˆçš„èµ„æºå ç”¨ã€‚ è€¦åˆåº¦æä½ï¼šç”±Borkeråšä»£ç†ï¼Œæ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥çµæ´»æ’æ‹”ï¼Œå¯æ›¿æ¢ã€‚ æµé‡å‰Šå³°ï¼šä¸ç®¡å‘å¸ƒäº‹ä»¶çš„æµé‡æ³¢åŠ¨å¤šå¤§ï¼Œéƒ½ç”±Brokeræ¥æ”¶ï¼Œè®¢é˜…è€…å¯ä»¥æŒ‰ç…§è‡ªå·±çš„é€Ÿåº¦å»å¤„ç†äº‹ä»¶ã€‚ è™½ç„¶å¼‚æ­¥é€šè®¯å¥½å¤„å¤šï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼š\næ¶æ„å¤æ‚ï¼Œä¸šåŠ¡æ²¡æœ‰æ˜æ˜¾çš„æµç¨‹çº¿ï¼Œä¸æ˜“äºç®¡ç†ã€‚ éœ€è¦ä¾èµ–äºBrokerçš„å¯é ã€å®‰å…¨ã€æ€§èƒ½ï¼ˆBrokeræŒ‚äº†ï¼Œå°±æ²¡äººç»™è®¢é˜…è€…å‘æ¶ˆæ¯äº†ï¼‰ã€‚ MQ æŠ€æœ¯ MQï¼ˆMessage Queueï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œå°±æ˜¯å­˜æ”¾æ¶ˆæ¯çš„é˜Ÿåˆ—ï¼Œæ˜¯å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­çš„Brokerçš„ä¸€ç§æ–¹æ³•ã€‚\næ¯”è¾ƒå¸¸è§çš„å‡ ç§MQå®ç°åŠå…¶å¯¹æ¯”å¦‚ä¸‹ï¼š\n| **RabbitMQ** | **ActiveMQ** | **RocketMQ** | **Kafka** \u0026mdash;\u0026mdash;\u0026mdash;- | \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash; | \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash; | \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; | \u0026mdash;\u0026mdash;\u0026mdash;- å…¬å¸/ç¤¾åŒº | Rabbit | Apache | é˜¿é‡Œ | Apache å¼€å‘è¯­è¨€ | Erlang | Java | Java | Scala\u0026amp;Java åè®®æ”¯æŒ | AMQPï¼ŒXMPPï¼ŒSMTPï¼ŒSTOMP | OpenWireï¼ŒSTOMPï¼ŒRESTï¼ŒXMPPï¼ŒAMQP| è‡ªå®šä¹‰åè®® | è‡ªå®šä¹‰åè®® å¯ç”¨æ€§ | é«˜ | ä¸€èˆ¬ | é«˜ | é«˜ å•æœºååé‡ | ä¸€èˆ¬ | å·® | é«˜ | éå¸¸é«˜ æ¶ˆæ¯å»¶è¿Ÿ | å¾®ç§’çº§ | æ¯«ç§’çº§ | æ¯«ç§’çº§ | æ¯«ç§’ä»¥å†… æ¶ˆæ¯å¯é æ€§ | é«˜ | ä¸€èˆ¬ | é«˜ | ä¸€èˆ¬\nä¸€èˆ¬æŒ‰ç…§ä»¥ä¸‹æ–¹å¼é€‰å–ï¼š\nè¿½æ±‚å¯ç”¨æ€§ï¼šKafkaã€ RocketMQ ã€RabbitMQã€‚ è¿½æ±‚å¯é æ€§ï¼šRabbitMQã€RocketMQã€‚ è¿½æ±‚ååèƒ½åŠ›ï¼šRocketMQã€Kafkaã€‚ è¿½æ±‚æ¶ˆæ¯ä½å»¶è¿Ÿï¼šRabbitMQã€Kafkaã€‚ ","date":"2023å¹´8æœˆ3æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/communications/introduction/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1691048074,"title":"é€šè®¯æ–¹å¼"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä»‹ç» Docker Composeæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Dockeråº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡Composeï¼Œå¯ä»¥ä½¿ç”¨YMLæ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚\nComposeä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤ï¼š\nä½¿ç”¨Dockerfileå®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒã€‚ ä½¿ç”¨docker-compose.ymlå®šä¹‰æ„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éš”ç¦»ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œã€‚ æœ€åï¼Œæ‰§è¡Œdocker-compose upå‘½ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚ docker-compose.ymlçš„é…ç½®æ¡ˆä¾‹å¦‚ä¸‹ï¼š\nversion:Â \u0026#34;3.8\u0026#34; services: mysql: image:Â mysql:5.7.25 environment: MYSQL_ROOT_PASSWORD: 123456 volumes: -Â \u0026#34;/tmp/mysql/data:/var/lib/mysql\u0026#34; -Â \u0026#34;/tmp/mysql/conf/hmy.cnf:/etc/mysql/conf.d/hmy.cnf\u0026#34; web: build:Â . ports: - \u0026#34;8090:8090\u0026#34; ä¸Šæ–¹çš„docker-compose.ymlæè¿°äº†ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªå®¹å™¨ï¼š\nmysqlï¼šä¸€ä¸ªåŸºäºmysql:5.7.25é•œåƒæ„å»ºçš„å®¹å™¨ï¼Œå¹¶ä¸”æŒ‚è½½äº†ä¸¤ä¸ªç›®å½•ã€‚ webï¼šä¸€ä¸ªåŸºäºdocker buildä¸´æ—¶æ„å»ºçš„é•œåƒå®¹å™¨ï¼Œæ˜ å°„ç«¯å£ä¸º8090ã€‚ Docker Composeçš„è¯¦ç»†è¯­æ³•å¯å‚è€ƒå®˜ç½‘Compose file referenceæˆ–è€…èœé¸Ÿæ•™ç¨‹çš„Docker Composeã€‚\ndocker-compose.ymlå¯ä»¥çœ‹åšæ˜¯å°†å¤šä¸ªdocker runå‘½ä»¤å†™åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œåªæ˜¯è¯­æ³•ç¨æœ‰å·®å¼‚ã€‚\nå°†docker-compose.ymlå’ŒDockerfileæ”¾ç½®åœ¨åŒä¸€ä¸ªå·¥ä½œç›®å½•ä¸­ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç¨‹åºï¼š\ndocker-compose up å‘½ä»¤æ‰§è¡ŒæˆåŠŸåDocker Composeä¼šè‡ªåŠ¨å¸®ä½ æ„å»ºæ‰€éœ€çš„é•œåƒã€‚\nå¦‚æœæƒ³åœ¨åå°æ‰§è¡Œè¯¥æœåŠ¡å¯ä»¥åŠ ä¸Š-då‚æ•°ï¼š\ndocker-compose up -d å®‰è£… Linuxä¸Šå¯ä»¥ä»Githubä¸Šä¸‹è½½Composeçš„äºŒè¿›åˆ¶åŒ…æ¥ä½¿ç”¨ï¼Œæœ€æ–°å‘è¡Œçš„ç‰ˆæœ¬åœ°å€ï¼šhttps://github.com/docker/compose/releasesã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ä¸‹è½½ Docker Compose çš„å½“å‰ç¨³å®šç‰ˆæœ¬ï¼š\nsudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose å¦‚æœè¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„Composeï¼Œè¯·æ›¿æ¢URLä¸­çš„v2.2.2ã€‚\nDocker Composeå­˜æ”¾åœ¨ GitHubï¼Œä¸å¤ªç¨³å®šã€‚å¯ä»¥é€šè¿‡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œé«˜é€Ÿå®‰è£…Docker Composeï¼š\ncurl -L https://get.daocloud.io/docker/compose/releases/download/v2.4.1/docker-compose-`uname -s`-`uname -m` \u0026gt; /usr/local/bin/docker-compose å°†å¯æ‰§è¡Œæƒé™åº”ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼š\nsudo chmod +x /usr/local/bin/docker-compose åˆ›å»ºè½¯é“¾ï¼š\nsudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼š\ndocker-compose version æ³¨æ„ï¼š å¯¹äºAlpineï¼Œéœ€è¦ä»¥ä¸‹ä¾èµ–åŒ…ï¼špy-pipï¼Œpython-devï¼Œlibffi-devï¼Œopenssl-devï¼Œgccï¼Œlibc-devå’Œmakeã€‚\nMacOSå’ŒWindowsçš„Docker Desktopå·²ç»åŒ…å«Composeå’Œå…¶ä»–Dockeråº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥æ— éœ€å†è¿›è¡Œå®‰è£…ã€‚\n","date":"2023å¹´8æœˆ2æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/docker-compose/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690965138,"title":"Docker Compose"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¸¸è§çš„é•œåƒåœ¨Docker Hubå°±èƒ½æ‰¾åˆ°ï¼Œä½†æ˜¯è¦éƒ¨ç½²è‡ªå·±çš„æœåŠ¡å¯èƒ½éœ€è¦è‡ªå·±æ„å»ºé•œåƒã€‚æ„å»ºé•œåƒå¯ä»¥ä½¿ç”¨Dockerfileã€‚Dockerfileæ˜¯ä¸€ä¸ªç”¨æ¥æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹åŒ…å«äº†ä¸€æ¡æ¡æ„å»ºé•œåƒæ‰€éœ€çš„æŒ‡ä»¤å’Œè¯´æ˜ã€‚\né•œåƒç»“æ„ é•œåƒæ˜¯å°†åº”ç”¨ç¨‹åºåŠå…¶éœ€è¦çš„ç³»ç»Ÿå‡½æ•°åº“ã€ç¯å¢ƒã€é…ç½®ã€ä¾èµ–æ‰“åŒ…è€Œæˆã€‚\nä»¥MySQLé•œåƒçš„ç»„æˆç»“æ„ä¸ºä¾‹ï¼š\né•œåƒå°±æ˜¯åœ¨ç³»ç»Ÿå‡½æ•°åº“ã€è¿è¡Œç¯å¢ƒåŸºç¡€ä¸Šï¼Œæ·»åŠ åº”ç”¨ç¨‹åºæ–‡ä»¶ã€é…ç½®æ–‡ä»¶ã€ä¾èµ–æ–‡ä»¶ç­‰ç»„åˆï¼Œç„¶åç¼–å†™å¥½å¯åŠ¨è„šæœ¬æ‰“åŒ…åœ¨ä¸€èµ·å½¢æˆçš„æ–‡ä»¶ã€‚æ„å»ºé•œåƒï¼Œå…¶å®å°±æ˜¯å®ç°ä¸Šè¿°æ‰“åŒ…çš„è¿‡ç¨‹ã€‚\nè¯­æ³• æ„å»ºè‡ªå®šä¹‰çš„é•œåƒæ—¶ï¼Œå¹¶ä¸éœ€è¦ä¸€ä¸ªä¸ªæ–‡ä»¶å»æ‹·è´ï¼Œæ‰“åŒ…ã€‚æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰Dockerï¼Œé•œåƒçš„ç»„æˆï¼Œéœ€è¦å“ªäº›BaseImageã€éœ€è¦æ‹·è´ä»€ä¹ˆæ–‡ä»¶ã€éœ€è¦å®‰è£…ä»€ä¹ˆä¾èµ–ã€å¯åŠ¨è„šæœ¬æ˜¯ä»€ä¹ˆã€‚Dockerfileå°±æ˜¯æè¿°ä¸Šè¿°ä¿¡æ¯çš„æ–‡ä»¶ã€‚Dockerä¼šé€šè¿‡Dockerfileæ„å»ºé•œåƒã€‚\nDockerfileæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªä¸ªçš„æŒ‡ä»¤(Instructionï¼‰ï¼Œç”¨æŒ‡ä»¤æ¥è¯´æ˜è¦æ‰§è¡Œä»€ä¹ˆæ“ä½œæ¥æ„å»ºé•œåƒã€‚æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šå½¢æˆä¸€å±‚Layerã€‚\næŒ‡ä»¤ è¯´æ˜ ç¤ºä¾‹ FROM æŒ‡å®šåŸºç¡€é•œåƒã€‚å¿…é¡»åœ¨Dockerfileçš„ç¬¬ä¸€è¡ŒæŒ‡å®šã€‚ FORM centos:6 ENV è®¾ç½®ç¯å¢ƒå˜é‡ã€‚åœ¨ä½¿ç”¨docker runæ—¶å¯ä»¥é€šè¿‡-eé‡è®¾ç¯å¢ƒå˜é‡å€¼ã€‚ ENV key=value COPY æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°é•œåƒçš„æŒ‡å®šç›®å½•ã€‚ å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„mysql-5.7.rpmåˆ°é•œåƒçš„/tmpç›®å½•ï¼š\nCOPY ./mysql-5.7.rpm /tmp RUN æ‰§è¡ŒLinuxçš„Shellå‘½ä»¤ï¼Œä¸€èˆ¬æ˜¯å®‰è£…è¿‡ç¨‹çš„å‘½ä»¤ã€‚RUNåœ¨docker buildæ—¶æ‰§è¡Œã€‚ RUN yum install gcc EXPOSE æŒ‡å®šå®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ã€‚ EXPOSE 8080 CMD ï¼ˆå¯ä»¥è¢«è¦†ç›–ï¼‰æŒ‡å®šå®¹å™¨åˆ›å»ºæ—¶çš„é»˜è®¤å‘½ä»¤ã€‚CMDåœ¨docker runæ—¶æ‰§è¡Œã€‚ ENTRYPOINT (ä¸å¯è¢«è¦†ç›–ï¼‰é•œåƒä¸­åº”ç”¨çš„å¯åŠ¨å‘½ä»¤ï¼Œå®¹å™¨è¿è¡Œæ—¶è°ƒç”¨ã€‚ ENTRYPOINT java -jar xxx.jar VOLUME ä¸ºå®¹å™¨åˆ›å»ºæŒ‚è½½ç‚¹æˆ–å£°æ˜å·ã€‚ WORKDIR è®¾ç½®åç»­æŒ‡ä»¤çš„å·¥ä½œç›®å½•ã€‚ USER æŒ‡å®šåç»­æŒ‡ä»¤çš„ç”¨æˆ·ä¸Šä¸‹æ–‡ã€‚ SHELL è¦†ç›–Dockerä¸­é»˜è®¤çš„Shellï¼Œç”¨äºRUNã€CMDå’ŒENTRYPOINTæŒ‡ä»¤ã€‚ æ›´æ–°è¯¦ç»†è¯­æ³•è¯´æ˜ï¼Œè¯·å‚è€ƒå®˜ç½‘æ–‡æ¡£ï¼šDockerfile referenceã€‚\nåœ¨ä½¿ç”¨Ubuntuã€Debianè¿™æ ·çš„å®¹å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æ²¡åŠæ³•ä½¿ç”¨å®ƒä»¬çš„systemctlå‘½ä»¤ã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬åœ¨å¯åŠ¨æ—¶é»˜è®¤æ²¡æœ‰åˆå§‹åŒ–ç³»ç»Ÿï¼ˆinitè¿›ç¨‹æ²¡æœ‰è¿è¡Œï¼‰ã€‚æ–°çš„Debianå’ŒUbuntué•œåƒä¸­ç§»é™¤äº†initè½¯ä»¶åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Dockerfileåœ¨åˆ›å»ºä¸€ä¸ªåŒ…å«initè½¯ä»¶åŒ…çš„Debiané•œåƒï¼š\nFROM debian:latest # è®¾ç½®ç¯å¢ƒå˜é‡ ENV APT_ETC_DIR=/etc/apt SOURCES_LIST_PATH=./sources.list # å°†åœ¨æœ¬åœ°é…ç½®å¥½çš„é•œåƒæºæ–‡ä»¶æ‹·è´åˆ°é•œåƒ COPY $SOURCES_LIST_PATH $APT_DIR # æ›´æ¢é•œåƒæº RUN apt update \u0026amp;\u0026amp; apt-get update # å®‰è£…initè½¯ä»¶åŒ… RUN apt-get install init -y # å®‰è£…ssh RUN apt-get install -y openssh-server RUN apt-get clean all # æš´éœ²ç«¯å£ EXPOSE 22 æ¥ç€é€šè¿‡docker buildå‘½ä»¤æ„å»ºé•œåƒï¼š\ndocker build -f ./Dockerfile . -t linner/debian ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œå®¹å™¨ï¼š\ndocker run -ti \\ --name my-debian \\ --privileged=true \\ -e SOURCES_LIST_PATH=/etc/apt/sources.list \\ # æŠŠæœ¬åœ°ä¸Šä½¿ç”¨çš„é•œåƒæºé…ç½®æ‹·è´åˆ°å®¹å™¨ä¸­ linner/debian \\ /sbin/init # å¯åŠ¨æ—¶è¿è¡Œinit ","date":"2023å¹´8æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/dockerfile/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690899963,"title":"Dockerfile"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å®¹å™¨çŠ¶æ€ Dockerå®¹å™¨ä¸€èˆ¬ä¼šæœ‰ä»¥ä¸‹ä¸‰ç§çŠ¶æ€ï¼š\nè¿è¡Œï¼šè¿›ç¨‹æ­£å¸¸è¿è¡Œã€‚ æš‚åœï¼šè¿›ç¨‹æš‚åœï¼ŒCPUä¸å†è¿è¡Œï¼Œä½†ä¸ä¼šé‡Šæ”¾å†…å­˜ã€‚ åœæ­¢ï¼šè¿›ç¨‹ç»ˆæ­¢ï¼Œå›æ”¶è¿›ç¨‹å ç”¨çš„å†…å­˜ã€CPUç­‰èµ„æºã€‚ ç›¸å…³çš„å‘½ä»¤å¦‚ä¸‹ï¼š\nå‘½ä»¤ è¯´æ˜ docker run åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹å¤„äºè¿è¡ŒçŠ¶æ€ã€‚ docker pause è®©ä¸€ä¸ªè¿è¡Œçš„å®¹å™¨æš‚åœã€‚ä¾‹å¦‚docker pause my-debianã€‚ docker unpause è®©ä¸€ä¸ªå®¹å™¨ä»æš‚åœçŠ¶æ€æ¢å¤è¿è¡Œã€‚ä¾‹å¦‚docker unpause my-debianã€‚ docker stop åœæ­¢ä¸€ä¸ªè¿è¡Œçš„å®¹å™¨ã€‚ä¾‹å¦‚docker stop my-debianã€‚ docker start è®©ä¸€ä¸ªåœæ­¢çš„å®¹å™¨å†æ¬¡è¿è¡Œã€‚ä¾‹å¦‚docker start my-debianã€‚ docker rm åˆ é™¤ä¸€ä¸ªå®¹å™¨ã€‚ä¾‹å¦‚docker rm my-debianã€‚ docker pauseã€docker unpauseã€docker stopã€docker startå’Œdocker rmçš„ç”¨æ³•ååˆ†ç›¸ä¼¼ï¼Œéƒ½æ˜¯åœ¨å‘½ä»¤åé¢æŒ‡å®šè¦æ“ä½œçš„å®¹å™¨åç§°æˆ–è€…å®¹å™¨IDï¼ˆContainer IDï¼‰ã€‚\nåˆ›å»ºå®¹å™¨ åˆ›å»ºå®¹å™¨ä½¿ç”¨docker runå‘½ä»¤ã€‚å¯ä»¥ä½¿ç”¨docker run --helpæŸ¥çœ‹å®ƒçš„ç”¨æ³•ã€‚\nå¦‚æœè¦åˆ›å»ºä¸€ä¸ªdebianå®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\ndocker run -ti \\ # å‚æ•° -ti è¡¨ç¤ºä½¿ç”¨ç»ˆç«¯äº¤äº’å¼æ“ä½œ --name my-debian \\ # --name æŒ‡å®šå®¹å™¨çš„åç§° -p 8088:80 \\ # -p æŒ‡å®šæ˜ å°„çš„ç«¯å£ï¼Œå°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°æœ¬åœ°8088 -v /home/debian:/root \\ # -v ä»£è¡¨æŒ‚è½½ï¼Œå°†æœ¬åœ°çš„/home/deianç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„/rootç›®å½• debian:latest \\ # æŒ‡å®šåˆ›å»ºå®¹å™¨çš„é•œåƒ /bin/bash # å®¹å™¨è¿è¡Œçš„å‘½ä»¤ï¼Œè¿™é‡ŒæŒ‡è¿è¡Œå®¹å™¨çš„bashç»ˆç«¯ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯å¸¸è§çš„å‘½ä»¤è¡Œçª—å£ï¼‰ è¿è¡Œè¯¥å‘½ä»¤ä¼šè¿›å…¥åˆ›å»ºå¥½çš„Debianå®¹å™¨ä¸­ï¼ˆé»˜è®¤æ˜¯è¿›å…¥/ç›®å½•ï¼‰ï¼Œè¾“å…¥exitå¯ä»¥é€€å‡ºDebianç»ˆç«¯ã€‚\nå®¹å™¨æŒ‚è½½ç›®å½•å’Œç«¯å£æ˜ å°„çš„è¯­æ³•ç±»ä¼¼ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨:ç¬¦å·åˆ†éš”å®¿ä¸»æœºå’Œå®¹å™¨ã€‚:å·¦è¾¹çš„æ˜¯å®¿ä¸»æœºçš„ç›®å½•åœ°å€æˆ–ç«¯å£å·ï¼Œ:å³è¾¹çš„æ˜¯å®¹å™¨çš„ç›®å½•åœ°å€æˆ–ç«¯å£å·ã€‚å®ƒä»¬çš„è¯­æ³•å¦‚ä¸‹ï¼š\næ“ä½œ å‘½ä»¤å‚æ•°è¯­æ³• æŒ‚è½½ç›®å½• -v [å®¿ä¸»æœºç›®å½•æˆ–æ•°æ®å·åç§°]:[å®¹å™¨ç›®å½•] ç«¯å£æ˜ å°„ -p [å®¿ä¸»æœºå¯ç”¨ç«¯å£å·]:[å®¹å™¨åº”ç”¨ç«¯å£å·] æ³¨ï¼šåœ¨ä½¿ç”¨docker runæŒ‡ä»¤æ—¶ï¼Œå¦‚æœæŒ‡å®šçš„é•œåƒæœªpullï¼Œä½†åœ¨é•œåƒä»“åº“ä¸­å­˜åœ¨ï¼Œdocker runä¼šè‡ªåŠ¨ä»ä»“åº“ä¸­æ‹‰å–é•œåƒã€‚\nå¤§éƒ¨åˆ†æƒ…å†µä¸‹å®¹å™¨æ˜¯åœ¨åå°è¿è¡Œçš„ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨-dæŒ‡å®šå®¹å™¨çš„è¿è¡Œæ¨¡å¼ï¼š\ndocker run -tid --name my-debian debian:latest /bin/bash åŠ äº†-då‚æ•°å°±ä¸ä¼šè¿›å…¥å®¹å™¨é‡Œé¢ã€‚\næ³¨ï¼šDockerå®¹å™¨å’Œé•œåƒä¸€æ ·ï¼Œå®ƒä»¬é™¤äº†IDä¹‹å¤–éƒ½æœ‰ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„æ ‡è¯†ã€‚Dockerå®¹å™¨çš„æ ‡è¯†å°±æ˜¯NAMEã€‚å®¹å™¨çš„åç§°åœ¨Dockerä¸­æ ‡è¯†å”¯ä¸€çš„ä¸€ä¸ªå®¹å™¨ï¼Œä½†æ˜¯å®¹å™¨çš„åç§°å¯ä»¥ä¸ºç©ºï¼ˆåœ¨docker runæ—¶ä¸æŒ‡å®š--nameï¼‰ã€‚åç§°ä¸ºç©ºçš„å®¹å™¨éœ€è¦ä½¿ç”¨å®¹å™¨IDæ¥å¯¹å…¶è¿›è¡Œæ“ä½œã€‚\næ“ä½œå®¹å™¨å†…éƒ¨ åœ¨åå°è¿è¡Œçš„å®¹å™¨ï¼Œæˆ‘ä»¬æƒ³è¦è¿›å…¥å®¹å™¨å†…éƒ¨æˆ–è€…åœ¨å®¹å™¨è¿è¡Œæ—¶è¿è¡Œä¸€äº›å…¶å®ƒå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨docker execå‘½ä»¤ã€‚\nä¾‹å¦‚è¦è¿›å…¥åœ¨åå°è¿è¡Œçš„my-debianï¼š\ndocker exec -ti my-debian /bin/bash åˆæˆ–è€…å‡è®¾ä½ åœ¨my-debianä¸­è£…äº†MySQLï¼Œä½†æ˜¯å¯åŠ¨å®¹å™¨æ—¶MySQL Serverå¹¶æ²¡æœ‰å¯åŠ¨ï¼Œæ­¤æ—¶ä½ å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯MySQLï¼š\ndocker exec -tid my-debian systemctl restart mysql æŸ¥çœ‹å®¹å™¨ æŸ¥çœ‹æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„Dockerå®¹å™¨æœ‰3ç§æ–¹æ³•ï¼š\ndocker ps docker container ls docker container ps æŸ¥çœ‹Dockeræ‰€æœ‰çš„å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼‰ï¼š\ndocker ps -a docker container ls -a docker container ps -a æ•°æ®å· åœ¨ç»™å®¹å™¨æŒ‚è½½ç›®å½•ä¹‹å‰å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼Œè¿™ä¸ªæ•°æ®å·ä¹Ÿæ˜¯åœ¨å®¿ä¸»æœºä¸Šçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹çš„è·¯å¾„ç”±Dockerç¡®å®šã€‚ä¸€æ—¦å®Œæˆæ•°æ®å·æŒ‚è½½ï¼Œå¯¹å®¹å™¨ä¸­è¢«æŒ‚è½½ç›®å½•çš„ä¸€åˆ‡æ“ä½œéƒ½ä¼šä½œç”¨åœ¨æ•°æ®å·å¯¹åº”çš„å®¿ä¸»æœºç›®å½•ã€‚\næ•°æ®å·çš„ä½œç”¨æ˜¯å°†å®¹å™¨ä¸æ•°æ®åˆ†ç¦»ï¼Œè§£è€¦åˆï¼Œæ–¹ä¾¿æ“ä½œå®¹å™¨å†…æ•°æ®ï¼Œä¿è¯æ•°æ®å®‰å…¨ã€‚\næ•°æ®å·æ“ä½œå‘½ä»¤æ˜¯docker volumeï¼š\ndocker volume [COMMAND] æ•°æ®å·æ“ä½œï¼š\nå‘½ä»¤ è¯´æ˜ docker volume create åˆ›å»ºæ•°æ®å·ã€‚ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå­˜æ”¾é™æ€é¡µé¢çš„æ•°æ®å·ï¼šdocker volume create htmlã€‚ docker volume ls æŸ¥çœ‹æ‰€æœ‰æ•°æ®å·ã€‚ docker volume inspect æŸ¥çœ‹æ•°æ®å·è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å…³è”çš„å®¿ä¸»æœºç›®å½•ä½ç½®ã€‚ä¾‹å¦‚æŸ¥çœ‹ä¸Šé¢åˆ›å»ºçš„htmlæ•°æ®å·ï¼šdocker volume inspect htmlã€‚ docker volume rm åˆ é™¤æŒ‡å®šæ•°æ®å·ã€‚åˆ é™¤htmlæ•°æ®å·docker volume rm htmlã€‚ docker volume prune åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„æ•°æ®å·ã€‚ å‡è®¾è¦å°†htmlæ•°æ®å·æŒ‚è½½åˆ°nginxä¸Šï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š\ndocker run -d \\ --name nginx-test \\ -v html:/usr/share/nginx/html \\ -p 8080:80 \\ nginx æ³¨ï¼šå¦‚æœåˆ›å»ºå®¹å™¨æ—¶å‘ç°/usr/share/nginxç›®å½•ä¸å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨Dockerfileå…ˆè¡Œåˆ›å»ºç›®å½•ã€‚\nä¾‹å¦‚åˆ›å»ºä¸€ä¸ªMySQLå®¹å™¨ï¼š\ndocker run -id --name %name% \\ -p 3306:3306 \\ -v /home/docker/mysql/lib:/var/lib/mysql \\ -v /home/docker/mysql/conf.d:/etc/mysql/conf.d \\ -v /home/docker/mysql/log:/var/log/mysql \\ -v /home/docker/mysql/my.cnf:/etc/my.cnf \\ -e TZ=Asia/Shanghai \\ # è®¾ç½®ç¯å¢ƒå˜é‡ -e MYSQL_ROOT_PASSWORD=123456 \\ # æŸäº›å®¹å™¨åˆ›å»ºæ—¶æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡æ¥é…ç½® mysql \\ --character-set-server=utf8mb4 \\ # è¿™äº›æ˜¯mysqlå‘½ä»¤çš„å‚æ•°ï¼Œä¸Dockeræ— å…³ --collation-server=utf8mb4_general_ci ","date":"2023å¹´8æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/container-options/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[],"timestamp":1690899870,"title":"Docker å®¹å™¨æ“ä½œ"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ‹‰å–é•œåƒ åœ¨ä½¿ç”¨å®¹å™¨å‰ï¼Œéœ€è¦å…ˆè·å–ç›¸å¯¹åº”çš„é•œåƒã€‚ä¾‹å¦‚è¦åœ¨Dockerä¸­å®‰è£…MySQL 5.7ï¼Œéœ€è¦å…ˆè·å–MySQL 5.7çš„Dockeré•œåƒã€‚ç›¸åº”çš„å‘½ä»¤ä¸ºï¼š\ndocker pull mysql:5.7 å‘½ä»¤çš„æœ¬è´¨æ„æ€ä¸ºï¼Œä»Dockeré•œåƒä»“åº“ä¸­è·å–ç‰ˆæœ¬ä¸º5.7çš„MySQLé•œåƒã€‚\nåœ¨Dockerä¸­é•œåƒçš„æ ‡è¯†ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\nRepositoryï¼šé€šå¸¸æ˜¯ç”±é•œåƒä¸»è¦è¿è¡Œçš„è½¯ä»¶åç§°ç»„æˆã€‚ä¾‹å¦‚Tomcatçš„é•œåƒçš„Repositoryå°±æ˜¯tomcatã€‚\nTagï¼šé€šå¸¸ä»£è¡¨é•œåƒçš„ç‰ˆæœ¬ã€‚åœ¨æ²¡æœ‰æ˜¾å¼æŒ‡å®šTagçš„æƒ…å†µä¸‹ï¼ŒDockerä¼šç»™Tagä¸€ä¸ªé»˜è®¤å€¼latestï¼Œä»£è¡¨å½“å‰é•œåƒçš„æœ€æ–°ç‰ˆæœ¬ã€‚\nä¾‹å¦‚æ‹‰å–MySQLæœ€æ–°ç‰ˆæœ¬çš„é•œåƒï¼š\ndocker pull mysql åœ¨Dockerä¸­ï¼Œæ²¡æœ‰æŒ‡å®šTagçš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯æŒ‡ä½¿ç”¨latestã€‚\næ¯ä¸ª[repository]:[tag]æ ‡è¯†äº†å”¯ä¸€çš„ä¸€ä¸ªé•œåƒã€‚\né•œåƒé™¤äº†[repository]:[tag]è¿™ä¸ªæ ‡è¯†å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé•œåƒIDï¼ˆImage IDï¼‰ã€‚ä½†é€šå¸¸ä½¿ç”¨é•œåƒæ—¶éƒ½æ˜¯ä½¿ç”¨[repository]:[tag]è¿™ä¸ªæ ‡è¯†ã€‚\næŸ¥æ‰¾é•œåƒ åœ¨æˆ‘ä»¬ä¸çŸ¥é“è¦ä½¿ç”¨çš„é•œåƒçš„å…·ä½“åç§°æ—¶ï¼Œé™¤äº†å¯ä»¥å»Docker Hubä¸ŠæŸ¥æ‰¾å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨docker searchå‘½ä»¤æœç´¢ã€‚ä¾‹å¦‚æœç´¢nginxç›¸å…³çš„é•œåƒï¼š\ndocker search nginx è¿™ä¸ªå‘½ä»¤ä¼šå°†é•œåƒä»“åº“ä¸­åŒ…å«nginxå­—ç¬¦çš„é•œåƒä¸€ä¸€åˆ—ä¸¾å‡ºæ¥ã€‚\ndocker searchæŸ¥æ‰¾çš„æ˜¯é•œåƒä»“åº“ä¸Šçš„é•œåƒã€‚å¦‚æœè¦æŸ¥çœ‹æœ¬åœ°é•œåƒï¼Œå¯ä»¥ä½¿ç”¨docker imageså‘½ä»¤ã€‚docker imageså‘½ä»¤ä¼šåˆ—å‡ºä½ æœ¬åœ°ä¸Šæ‰€æœ‰çš„é•œåƒï¼Œå¹¶ä¸”åˆ—å‡ºé•œåƒçš„REPOSITORYã€TAGã€IMAGE IDç­‰ä¿¡æ¯ã€‚\nåˆ é™¤é•œåƒ æ‹‰å–åˆ°æœ¬åœ°æˆ–è€…è‡ªå·±åˆ›å»ºçš„é•œåƒï¼Œå¯ä»¥ä½¿ç”¨docker rmiå‘½ä»¤æ¥åˆ é™¤ã€‚ä¾‹å¦‚åˆ é™¤mysql:5.7é•œåƒï¼š\ndocker rmi mysql:5.7 é•œåƒçš„ä¿å­˜å’Œè½½å…¥ åˆ›å»ºåœ¨Dockerä¸­çš„é•œåƒï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸èƒ½ç§»åŠ¨çš„ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡ä½¿ç”¨docker saveå‘½ä»¤å°†é•œåƒå¯¼å‡ºåˆ°ç£ç›˜ä¸­ï¼š\ndocker save -o [ä¿å­˜çš„ç›®æ ‡æ–‡ä»¶è·¯å¾„åç§°] [é•œåƒåç§°] ä¾‹å¦‚å¯¼å‡ºmysql:lateståˆ°ç£ç›˜ï¼š\ndocker save -o mysql_latest.tar mysql:latest å¯¼å‡ºçš„é•œåƒæ˜¯ä¸€ä¸ªtarï¼ˆå‹ç¼©ï¼‰åŒ…ã€‚\nå°†å¯¼å‡ºçš„é•œåƒè½½å…¥Dockerå¯ä»¥ä½¿ç”¨docker loadå‘½ä»¤ï¼š\ndocker load -i [é•œåƒtaråŒ…å] ä¾‹å¦‚å°†å¯¼å‡ºçš„mysql_latest.tarå¯¼å…¥Dockerï¼š\ndocker load -i mysql_latest.tar æ³¨ï¼šåœ¨ä½¿ç”¨taråŒ…å¯¼å…¥é•œåƒæ—¶ï¼ŒDockerä¼šåœ¨taråŒ…ä¸­è¯»å–é•œåƒçš„Repositoryå’ŒTagç­‰ä¿¡æ¯ã€‚ç”±äº[repository]:[tag]æ ‡è¯†å”¯ä¸€çš„ä¸€ä¸ªé•œåƒã€‚æ‰€ä»¥åœ¨å¯¼å…¥mysql_latest.tarä¹‹å‰éœ€è¦å…ˆåœ¨Dockerä¸­åˆ æ‰mysql:latesté•œåƒï¼š\ndocker rmi mysql ","date":"2023å¹´8æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/images-options/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690899730,"title":"Docker é•œåƒæ“ä½œ"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"DockerHubæ˜¯ä¸€ä¸ªå®˜æ–¹çš„Dockeré•œåƒçš„æ‰˜ç®¡å¹³å°ï¼Œé‡Œé¢å­˜æ”¾äº†äººä»¬é…ç½®å¥½çš„é•œåƒã€‚è¿™æ ·çš„å¹³å°ç§°ä¸ºDocker Registryã€‚\nå›½å†…ä¹Ÿæœ‰è¿™æ ·çš„Dockerä»“åº“ï¼Œå®ƒä»¬è¢«ç§°ä¸ºDockerçš„é•œåƒä»“åº“æˆ–é•œåƒæºã€‚è¿™äº›é•œåƒæºéƒ½æ˜¯ä¸Dockerå®˜æ–¹ä»“åº“åŒæ­¥çš„ã€‚\nä¾‹å¦‚å¯¼å…¥è…¾è®¯çš„é•œåƒæºï¼š\nä¿®æ”¹/etc/docker/daemon.jsoné…ç½®æ–‡ä»¶ï¼š\nvim /etc/docker/daemon.json æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå¹¶ä¿å­˜ï¼š\n{ \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://mirror.ccs.tencentyun.com\u0026#34; ] } é‡å¯Dockerï¼š\nsudo systemctl restart docker ","date":"2023å¹´8æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/docker-hub/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690899626,"title":"Docker Hub"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åˆ†å¸ƒå¼ç³»ç»Ÿçš„éƒ¨ç½²é—®é¢˜ å¤§å¤šæ•°WebæœåŠ¡éƒ½æ˜¯è¿è¡Œåœ¨Linuxç³»ç»Ÿä¹‹ä¸Šï¼Œå› ä¸ºLinuxå¼€æºã€å…è´¹ã€å®‰å…¨ã€ç¨³å®šç­‰ç­‰ã€‚Linuxè®¡ç®—æœºçš„æ¶æ„å¤§è‡´å¦‚å›¾ï¼š\nè®¡ç®—æœºç¡¬ä»¶ï¼šä¾‹å¦‚CPUã€å†…å­˜ã€ç£ç›˜ç­‰ã€‚ ç³»ç»Ÿå†…æ ¸ï¼šæ‰€æœ‰Linuxå‘è¡Œç‰ˆçš„å†…æ ¸éƒ½æ˜¯Linuxã€‚å†…æ ¸å¯ä»¥ä¸è®¡ç®—æœºç¡¬ä»¶äº¤äº’ï¼Œå¯¹å¤–æä¾›å†…æ ¸æŒ‡ä»¤ï¼Œç”¨äºæ“ä½œè®¡ç®—æœºç¡¬ä»¶ã€‚ ç³»ç»Ÿåº”ç”¨ï¼šæ“ä½œç³»ç»Ÿæœ¬èº«æä¾›çš„åº”ç”¨ã€å‡½æ•°åº“ã€‚è¿™äº›å‡½æ•°åº“æ˜¯å¯¹å†…æ ¸æŒ‡ä»¤çš„å°è£…ï¼Œä½¿ç³»ç»Ÿç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚ åº”ç”¨ä¸Linuxè®¡ç®—æœºäº¤äº’è¿‡ç¨‹å¤§è‡´ä¸ºï¼š\nåº”ç”¨è°ƒç”¨æ“ä½œç³»ç»Ÿåº”ç”¨ï¼ˆå‡½æ•°åº“ï¼‰ï¼Œå®ç°å„ç§åŠŸèƒ½ã€‚ ç³»ç»Ÿå‡½æ•°åº“æ˜¯å¯¹å†…æ ¸æŒ‡ä»¤é›†çš„å°è£…ï¼Œä¼šè°ƒç”¨å†…æ ¸æŒ‡ä»¤ã€‚ å†…æ ¸æŒ‡ä»¤æ“ä½œè®¡ç®—æœºç¡¬ä»¶ã€‚ Linuxçš„å‘è¡Œç‰ˆæœ‰å¾ˆå¤šå¾ˆå¤šï¼Œä¾‹å¦‚Debainã€Ubuntuã€CentOSç­‰ç­‰ã€‚è™½ç„¶è¿™äº›éƒ½æ˜¯å±äºLinxuç³»ç»Ÿï¼ˆåŸºäºLinuxå†…æ ¸ï¼‰ï¼Œä½†æ˜¯å®ƒä»¬çš„æ“ä½œç³»ç»Ÿä¸åŒï¼Œå¯èƒ½ä¼šå¯¼è‡´è½¯ä»¶æ— æ³•ä»ä¸€ä¸ªLinuxç³»ç»Ÿç§»æ¤åˆ°å¦ä¸€ä¸ªLinuxç³»ç»Ÿä¸Šã€‚ä¾‹å¦‚ï¼Œåœ¨Ubuntuä¸Šè¿è¡Œçš„è½¯ä»¶ä¸ä¸€å®šèƒ½ç§»æ¤åˆ°CentOSä¸Šã€‚\nåœ¨ç³»ç»Ÿå†…æ ¸ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªåº”ç”¨æ— æ³•ä»ä¸€ä¸ªç³»ç»Ÿç§»æ¤åˆ°å¦ä¸€ä¸ªç³»ç»Ÿè¿è¡Œçš„åŸå› æ˜¯ï¼šä¸åŒæ“ä½œç³»ç»Ÿæä¾›çš„ç³»ç»Ÿåº”ç”¨æœ‰æ‰€ä¸åŒï¼Œé‚£ä¹ˆç›¸åº”çš„å‡½æ•°åº“ä¹Ÿä¼šæœ‰æ‰€å·®å¼‚ã€‚è½¯ä»¶ç§»æ¤åˆ°å¦å¤–ä¸€ä¸ªç³»ç»Ÿï¼Œç”±äºæŸäº›å‡½æ•°åº“ä¸åŒ¹é…æˆ–ä¸å­˜åœ¨ï¼Œå¯¼è‡´è½¯ä»¶æ— æ³•è¿è¡Œã€‚\nå¹¶ä¸”åœ¨ä½¿ç”¨å¾®æœåŠ¡è¿™ç§åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼ŒæœåŠ¡æ˜¯éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨ä¸Šçš„ï¼Œæ¯ä¸ªæœåŠ¡éƒ½æœ‰å®ƒè‡ªå·±ä¾èµ–çš„ç»„ä»¶å’Œç¯å¢ƒç­‰ï¼Œè€Œå®ƒä»¬è¿è¡Œçš„ç¯å¢ƒä¸ä¸€å®šä¸€è‡´ï¼Œå°±å®¹æ˜“å‡ºç°å„ç§é—®é¢˜ã€‚ä¾‹å¦‚æœåŠ¡éƒ¨ç½²æ—¶æ‰€éœ€çš„å‡½æ•°åº“ã€ä¾èµ–å„ä¸ç›¸åŒï¼Œæœ‰æ—¶è¿˜ä¼šå‡ºç°å†²çªã€‚è¿™äº›éƒ½ç»™éƒ¨ç½²é€ æˆå¾ˆå¤§çš„éº»çƒ¦ã€‚\nDocker ç®€ä»‹ Dockerå°±æ˜¯ç”¨æ¥è§£å†³è¿™äº›éƒ¨ç½²æ—¶äº§ç”Ÿçš„é—®é¢˜ã€‚\nDockeræ˜¯ä¸€æ¬¾è¿è¡Œåœ¨Linuxä¸Šçš„è½¯ä»¶ï¼Œå®ƒä½¿ç”¨çš„æ˜¯Linuxå†…æ ¸æ¥åˆ†éš”è¿›ç¨‹ï¼Œè®©å„è¿›ç¨‹èƒ½ç›¸äº’ç‹¬ç«‹è¿è¡Œã€‚å¹¶ä¸”é€šè¿‡è¿™ç§ç‹¬ç«‹æ€§ï¼Œå°è£…æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„å®¹å™¨ã€‚æ¯ä¸ªå®¹å™¨å¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒã€‚Dockerè¿˜æä¾›äº†åŸºäºé•œåƒçš„éƒ¨ç½²æ¨¡å¼ï¼Œå¯ä»¥å°†å®¹å™¨æ‰“åŒ…æˆé•œåƒï¼Œæˆ–è€…é€šè¿‡é•œåƒåˆ›å»ºå®¹å™¨ã€‚åœ¨Dockerä¸­çš„ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µï¼š\né•œåƒï¼ˆImageï¼‰ï¼šDockerå°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€éœ€çš„Libsï¼ˆå‡½æ•°åº“ï¼‰ã€Depsï¼ˆä¾èµ–ï¼‰ã€é…ç½®ç­‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬åº”ç”¨ï¼‰æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç§°ä¸ºé•œåƒã€‚è¿™ä¸ªé•œåƒåŒ…å«äº†åº”ç”¨è¿è¡Œæ‰€éœ€çš„å®Œæ•´ç¯å¢ƒé…ç½®ã€‚\nä¸€åˆ‡åº”ç”¨æœ€ç»ˆéƒ½æ˜¯ä»£ç ç»„æˆï¼Œéƒ½æ˜¯ç¡¬ç›˜ä¸­çš„ä¸€ä¸ªä¸ªçš„å­—èŠ‚å½¢æˆçš„æ–‡ä»¶ã€‚åªæœ‰è¿è¡Œæ—¶ï¼Œæ‰ä¼šåŠ è½½åˆ°å†…å­˜ï¼Œå½¢æˆè¿›ç¨‹ã€‚é•œåƒå°±æ˜¯æŠŠä¸€ä¸ªåº”ç”¨åœ¨ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ã€åŠå…¶è¿è¡Œç¯å¢ƒã€éƒ¨åˆ†ç³»ç»Ÿå‡½æ•°åº“æ–‡ä»¶ä¸€èµ·æ‰“åŒ…å½¢æˆçš„æ–‡ä»¶åŒ…ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…æ˜¯åªè¯»çš„ã€‚\nå®¹å™¨ï¼ˆContainerï¼‰ï¼šé•œåƒä¸­çš„åº”ç”¨ç¨‹åºè¿è¡Œåå½¢æˆçš„è¿›ç¨‹å°±æ˜¯å®¹å™¨ã€‚Dockerä¼šç»™å®¹å™¨è¿›ç¨‹åšéš”ç¦»ï¼Œå¯¹å¤–ä¸å¯è§ï¼Œé¿å…åº”ç”¨ä¹‹é—´äº’ç›¸æ‰“æ‰°ï¼Œé˜²æ­¢ä¸åŒä¾èµ–ä¹‹é—´çš„å†²çªã€‚\nå®¹å™¨å°±æ˜¯å°†è¿™äº›æ–‡ä»¶ä¸­ç¼–å†™çš„ç¨‹åºã€å‡½æ•°åŠ è½½åˆ°å†…å­˜ä¸­è¿è¡Œï¼Œå½¢æˆè¿›ç¨‹ï¼Œåªä¸è¿‡è¦éš”ç¦»èµ·æ¥ã€‚å› æ­¤ä¸€ä¸ªé•œåƒå¯ä»¥å¯åŠ¨å¤šæ¬¡ï¼Œå½¢æˆå¤šä¸ªå®¹å™¨è¿›ç¨‹ã€‚\nDockerå®¹å™¨å°±åƒæ˜¯ä½¿ç”¨é•œåƒå®‰è£…å®Œæˆçš„ã€å¯ä»¥è¿è¡Œçš„æ“ä½œç³»ç»Ÿã€‚å½“ç„¶Dockerå®¹å™¨è·Ÿæ“ä½œç³»ç»Ÿä¹Ÿå¹¶ä¸ä¸€æ ·ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥å·®åˆ«ä¸å¤§ã€‚\nDockerå’Œè™šæ‹Ÿæœºçš„å·®åˆ«å¦‚ä¸‹ï¼š\nè™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰ï¼šåœ¨æ“ä½œç³»ç»Ÿä¸­æ¨¡æ‹Ÿç¡¬ä»¶è®¾å¤‡ï¼Œç„¶åè¿è¡Œå¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚ Dockerï¼šä»…ä»…æ˜¯å°è£…å‡½æ•°åº“ï¼Œå¹¶æ²¡æœ‰æ¨¡æ‹Ÿå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚ ç‰¹æ€§ Docker è™šæ‹Ÿæœº æ€§èƒ½ æ¥è¿‘åŸç”Ÿ æ€§èƒ½è¾ƒå·® ç¡¬ç›˜å ç”¨ è¾ƒå°ï¼Œä¸€èˆ¬ä¸ºMB è¾ƒå¤§ï¼Œä¸€èˆ¬ä¸ºGB å¯åŠ¨ è¾ƒå¿«ï¼Œä¸€èˆ¬ä¸ºç§’çº§ è¾ƒæ…¢ï¼Œä¸€èˆ¬ä¸ºåˆ†é’Ÿçº§ Dockeræ˜¯ä¸€ä¸ªCSæ¶æ„çš„ç¨‹åºï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\næœåŠ¡ç«¯ï¼ˆServerï¼‰ï¼šDockerå®ˆæŠ¤è¿›ç¨‹ï¼Œè´Ÿè´£å¤„ç†DockeræŒ‡ä»¤ï¼Œç®¡ç†é•œåƒã€å®¹å™¨ç­‰ã€‚ å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼šé€šè¿‡å‘½ä»¤æˆ–RestAPIå‘DockeræœåŠ¡ç«¯å‘é€æŒ‡ä»¤ã€‚å¯ä»¥åœ¨æœ¬åœ°æˆ–è¿œç¨‹å‘æœåŠ¡ç«¯å‘é€æŒ‡ä»¤ã€‚ ä»“åº“ï¼ˆRepositoryï¼‰ï¼šä»“åº“å¯çœ‹æˆä¸€ä¸ªä»£ç æ§åˆ¶ä¸­å¿ƒï¼Œç”¨æ¥ä¿å­˜é•œåƒã€‚ å…¶æ¶æ„å¦‚å›¾æ‰€ç¤ºï¼š\n","date":"2023å¹´8æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/docker/introduction/","series":[{"title":"Docker","url":"/series/docker/"}],"smallImg":"","tags":[{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690899440,"title":"Docker ç®€ä»‹"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"æ­å»ºMySQLä¸»ä»æ•°æ®åº“ï¼Œé¦–å…ˆéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š\nè‡³å°‘ä¸¤å°ä»¥ä¸ŠæœåŠ¡å™¨ï¼ˆå¯ç”¨è™šæ‹Ÿæœºæ¨¡æ‹Ÿï¼‰ï¼› ä¸¤å°æœåŠ¡å™¨ä¸­MySQLçš„ç‰ˆæœ¬ä¸€è‡´ã€‚ æœ€å¥½æ˜¯ä½¿ç”¨åˆšå®‰è£…çš„MySQLå¹¶ä¸”æ²¡æœ‰ä»»ä½•ä¿®æ”¹ã€‚\nå¦‚æœè¦é…ç½®ä»åº“çš„MySQLæœåŠ¡å™¨ä¸­æœ‰æ•°æ®åº“å­˜åœ¨ï¼ˆæˆ–è€…æ˜¯è¦ç»™ä¸»åº“é…ç½®æ–°çš„ä»åº“ï¼‰ï¼Œè¿˜éœ€è¦å°†è¯¥æœåŠ¡å™¨ä¸­æ•°æ®åº“çš„ç»“æ„åŠå…¶æ•°æ®å¯¼å‡ºï¼Œå¹¶ä¸”å¯¼å…¥åˆ°ä»åº“æœåŠ¡å™¨ä¸­ï¼Œä¿æŒä¸»åº“å’Œä»åº“çš„çŠ¶æ€ä¸€è‡´ï¼ˆéå¸¸é‡è¦ï¼ï¼ï¼ï¼‰ã€‚\nä¿®æ”¹æ•°æ®åº“é…ç½® å‡è®¾ä½ å·²ç»æ»¡è¶³äº†ä»¥ä¸Šæ¡ä»¶ï¼Œå‡†å¤‡å¼€å§‹é…ç½®ä¸»åº“ã€‚\nä¿®æ”¹ä¸»åº“çš„é…ç½®æ–‡ä»¶/etc/my.cnfï¼š\nvim /etc/my.cnf å¢åŠ ï¼ˆä¿®æ”¹ï¼‰ä»¥ä¸‹å†…å®¹ï¼š\n[mysqld] # ä¸»åº“Master log-bin=mysql-bin # [å¿…é¡»] å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— server-id=100 # [å¿…é¡»] æœåŠ¡å™¨å”¯ä¸€IDï¼ˆé»˜è®¤æ˜¯1ï¼Œä¸€èˆ¬å–IPæœ€åä¸€æ®µï¼‰ æ¥ç€ä¿®æ”¹ä»åº“é…ç½®æ–‡ä»¶/etc/my.cnfï¼ˆæ–¹æ³•ä¸ä¸Šç±»ä¼¼ï¼‰ï¼š\n[mysqld] # ä»åº“Slave log-bin=mysql-bin # [å¯é€‰] å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— server-id=101 # [å¿…é¡»] æœåŠ¡å™¨å”¯ä¸€ID åˆ†åˆ«é‡å¯ä¸¤å°æœåŠ¡å™¨çš„MySQLï¼š\nservice mysqld restart; # æˆ– systemctl restart mysql; æˆæƒ åœ¨ä¸»æœåŠ¡å™¨ä¸Šå»ºç«‹å¸æˆ·å¹¶ç»™ä»åº“æˆæƒï¼š\nmysql -uroot -p # ç™»å½•ä½ çš„ä¸»æœåŠ¡å™¨MySQL GRANT REPLICATION SLAVE ON *.* TO \u0026#39;mysync\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;123456\u0026#39;; -- ä¸€èˆ¬ä¸ç”¨rootè´¦å·è¿›è¡Œæˆæƒ %ï¼šè¡¨ç¤ºæ‰€æœ‰å®¢æˆ·ç«¯éƒ½å¯è¿æ¥ï¼Œåªè¦è´¦å·ã€å¯†ç æ­£ç¡®å³å¯ã€‚å¯ä»¥ä½¿ç”¨å…·ä½“çš„IPåœ°å€ä»£æ›¿ä»¥åŠ å¼ºå®‰å…¨ã€‚ mysyncï¼šè¡¨ç¤ºä½¿ç”¨å®¢æˆ·ç«¯ä¸Šmysyncè¿™ä¸ªè´¦å·è¿›è¡Œç™»å½•ã€‚ IDENTIFIED BY '123456'ï¼šè¡¨ç¤ºä½¿ç”¨123456ä½œä¸ºå¯†ç ç™»å½•ã€‚ æˆæƒæˆåŠŸåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢Masterçš„çŠ¶æ€ï¼š\nSHOW MASTER STATUS; ä¼šè¿”å›å¦‚ä¸‹ä¿¡æ¯ï¼š\n+------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+------------------+-------------------+ | mysql-bin.000013 | 157 | | | | +------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec) æ³¨ï¼šæ‰§è¡Œå®Œæˆåä¸è¦å†æ“ä½œä¸»æœåŠ¡å™¨MySQLï¼Œé˜²æ­¢ä¸»æœåŠ¡å™¨çŠ¶æ€å€¼å˜åŒ–ã€‚\né…ç½®ä»æœåŠ¡å™¨Slaveï¼š\nmysql -uroot -p # ç™»å½•ä½ çš„ä»æœåŠ¡å™¨MySQL CHANGE MASTER TO master_host=\u0026#39;192.168.145.100\u0026#39;, -- ä¸»åº“IPåœ°å€ master_port=3306, -- ä¸»åº“MySQLç«¯å£å·ï¼ˆé»˜è®¤å°±æ˜¯3306ï¼Œå¯ä»¥ç§»é™¤ï¼‰ master_user=\u0026#39;mysync\u0026#39;, -- ä½¿ç”¨ä¸»åº“çš„mysyncç”¨æˆ·ç™»å½• master_password=\u0026#39;123456\u0026#39;, -- ä½¿ç”¨123456ä½œä¸ºç™»å½•å¯†ç  master_log_file=\u0026#39;mysql-bin.000013\u0026#39;, -- ä¸»åº“çš„æ—¥å¿—æ–‡ä»¶ï¼ˆä¸ä¸Šæ–¹æŸ¥è¯¢çš„ç»“æœè¦ä¸€è‡´ï¼‰ master_log_pos=157; -- ä¸»åº“çš„Positionï¼ˆä¸ä¸Šæ–¹æŸ¥è¯¢çš„ç»“æœè¦ä¸€è‡´ï¼‰ æŸ¥è¯¢ä»åº“å¤åˆ¶åŠŸèƒ½çŠ¶æ€ï¼š\nSHOW SLAVE STATUS\\G æ³¨ï¼šæŸ¥è¯¢ä»åº“å¤åˆ¶åŠŸèƒ½çŠ¶æ€æ—¶ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨SHOW SLAVE STATUS;æŸ¥è¯¢ã€‚è¿™æ ·æŸ¥è¯¢çš„ç»“æœæ˜¯ä¸€å¼ ç”¨å­—ç¬¦ç»„ç»‡èµ·æ¥çš„è¡¨ï¼ˆååˆ†å†—é•¿ï¼‰ã€‚ä½¿ç”¨SHOW SLAVE STATUS\\Gè¾“å‡ºæ›´åŠ æ˜“è¯»ã€‚\nå¦‚æœæŸ¥è¯¢ç»“æœä¸­æœ‰ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜é…ç½®æˆåŠŸï¼š\nSlave_IO_Running: Yes Slave_SQL_Running: Yes ä½¿ç”¨ Docker æ­å»º å¦‚æœæƒ³è¦åœ¨ä¸€å°ä¸»æœºä¸Šæ¨¡æ‹ŸMySQLåˆ†åº“ã€‚å¯ä»¥ä½¿ç”¨Dockerã€‚\næ‹‰å–MySQLé•œåƒï¼š\ndocker pull mysql å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦æŒ‡å®šMySQLé•œåƒçš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š\ndocker pull mysql:5.7 åœ¨Dockerä¸­ï¼Œä¸¤ä¸ªé•œåƒç›¸äº’è¿æ¥éœ€è¦ä½¿ç”¨Docker Networkï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè®©MySQLå¯ä»¥äº’ç›¸è®¿é—®çš„Networkï¼š\ndocker network create mysql-network é¦–å…ˆåˆ›å»ºä¸€ä¸ªMySQLå®¹å™¨ï¼Œç”¨äºè·å–å®ƒçš„é…ç½®æ–‡ä»¶ï¼š\n$ docker run -id --name mysql \\ -e TZ=Asia/Shanghai \\ # è®¾ç½®æ—¶åŒº -e MYSQL_ROOT_PASSWORD=123456 \\ # è®¾ç½®rootç”¨æˆ·çš„å¯†ç  mysql \\ # åˆ›å»ºæ—¶ä½¿ç”¨çš„é•œåƒ --character-set-server=utf8mb4 \\ # è®¾ç½®å­—ç¬¦é›† --collation-server=utf8mb4_general_ci $ docker cp mysql:/etc/my.cnf /home/mysql/my.cnf # å°†mysqlå®¹å™¨ä¸­çš„/etc/my.cnfå¤åˆ¶åˆ°æœ¬åœ° $ mkdir /home/mysql/master $ mkdir /home/mysql/slave_1 $ cp /home/mysql/my.cnf /home/mysql/master $ cp /home/mysql/my.cnf /home/mysql/slave_1 åˆ›å»ºMasterå®¹å™¨ï¼š\ndocker run -id --name mysql-master \\ -p 3306:3306 \\ # ç«¯å£æ˜ å°„ -v /home/mysql/master/data:/var/lib/mysql \\ -v /home/mysql/master/conf:/etc/mysql/conf.d \\ -v /home/mysql/master/log:/var/log/mysql \\ -v /home/mysql/master/my.cnf:/etc/my.cnf \\ --network mysql-network \\ # æŒ‡å®šNetwork -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123456 \\ mysql \\ --character-set-server=utf8mb4 \\ --collation-server=utf8mb4_general_ci æ³¨ï¼šä¸Šæ–¹å‘½ä»¤åœ¨åˆ›å»ºå®¹å™¨æ—¶ï¼Œå°†å®¹å™¨ä¸­çš„/etc/my.cnfæŒ‚è½½åˆ°æœ¬åœ°çš„/home/mysql/master/my.cnfæ–‡ä»¶ä¸Šã€‚åœ¨åˆ›å»ºå®¹å™¨å‰éœ€ç¡®ä¿/home/mysql/masterç›®å½•ä¸­æœ‰my.cnfè¿™ä¸ªæ–‡ä»¶ã€‚åœ¨æŒ‚è½½æˆåŠŸåï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹æœ¬åœ°çš„my.cnfæ–‡ä»¶ã€‚\næµ‹è¯•è¿æ¥Masterï¼š\ndocker exec -ti mysql-master mysql -uroot -p123456 åˆ›å»ºSlaveå®¹å™¨çš„æ­¥éª¤ä¸Masterç±»ä¼¼ï¼š\n$ docker run -id --name mysql-slave-1 \\ -p 3316:3306 \\ # ç«¯å£æ˜ å°„ï¼ˆæ³¨æ„ä¸è¦ç«¯å£å†²çªï¼‰ -v /home/mysql/slave_1/data:/var/lib/mysql \\ -v /home/mysql/slave_1/conf:/etc/mysql/conf.d \\ -v /home/mysql/slave_1/log:/var/log/mysql \\ -v /home/mysql/slave_1/my.cnf:/etc/my.cnf \\ --network mysql-network \\ # æŒ‡å®šNetwork -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123456 \\ mysql \\ --character-set-server=utf8mb4 \\ --collation-server=utf8mb4_general_ci $ docker exec -ti mysql-slave-1 mysql -uroot -p123456 æœ€åæŒ‰ç…§ä¸Šæ–¹é…ç½®å’Œæˆæƒçš„æ­¥éª¤å³å¯æ­å»ºæˆåŠŸã€‚\nè¯»å†™åˆ†ç¦» åœ¨ä¸€èˆ¬çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ä¸€å°æ•°æ®æœåŠ¡å™¨è¿›è¡Œå†™æ“ä½œï¼ˆä¸€èˆ¬å¾ˆå°‘è¿›è¡Œå†™æ“ä½œï¼Œæ‰€ä»¥ä¸€å°å°±å¤Ÿäº†ï¼‰ã€‚è¿™å°è¿›è¡Œå†™æ“ä½œçš„æœåŠ¡å™¨å°±æ˜¯ä¸»åº“ã€‚è¿›è¡Œè¯»æ“ä½œåˆ™å¯ä»¥æ ¹æ®ç½‘ç«™çš„æµè§ˆé‡é…ç½®å¯¹åº”æ•°é‡çš„ä¸“é—¨ç”¨äºè¯»å–æ•°æ®çš„æ•°æ®æœåŠ¡å™¨ã€‚è¿™äº›è¿›è¡Œè¯»æ“ä½œçš„æœåŠ¡å™¨å°±æ˜¯ä»åº“ï¼Œæ‰€ä»¥éœ€è¦é…ç½®å¤šå°ä»æœåŠ¡å™¨ã€‚\nä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›é—®é¢˜ æŸ¥è¯¢ä»åº“çš„çŠ¶æ€ï¼Œä»åº“å¿½ç„¶Slave_SQL_Running: Noã€‚è¿™æ˜¯è¿è¡Œè¿‡ç¨‹ä¸­çš„åŒæ­¥æ•…éšœã€‚å‡ºç°è¯¥é—®é¢˜åŸå› å¯èƒ½æœ‰ï¼š\nç¨‹åºå¯èƒ½åœ¨Slaveä¸Šè¿›è¡Œäº†å†™æ“ä½œï¼ˆåº”è¯¥æåŠ›é¿å…æ­¤ç§æƒ…å†µå‘ç”Ÿï¼‰ã€‚ å¯èƒ½æ˜¯Slaveæœºå™¨é‡èµ·åï¼Œäº‹åŠ¡å›æ»šé€ æˆçš„ï¼ˆä¸€èˆ¬æ˜¯è¿™ç§æƒ…å†µï¼‰ã€‚ è§£å†³äº‹åŠ¡å›æ»šé€ æˆçš„Slave_SQL_Running: Noï¼Œè¿›å…¥MySQLï¼Œè¿è¡Œï¼š\nSTOP SLAVE; SET GLOBAL SQL_SLAVE_SKIP_COUNTER=1; START SLAVE; å¦‚æœè¿˜æ˜¯Slave_SQL_Running: Noï¼Œæœ‰å¯èƒ½æ˜¯CHANGE MASTERæ—¶ä¿¡æ¯å‡ºç°é”™è¯¯ã€‚å¯ä»¥å›åˆ°ä¸»æœåŠ¡å™¨ä¸­è¿è¡ŒSHOW MASTER STATUS;æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å’ŒPositionæ˜¯å¦ä¸ä»åº“çš„ä¸€è‡´ã€‚ç„¶åå†åœ¨ä»åº“ä¸­é‡æ–°CHANGE MASTERã€‚\n","date":"2023å¹´7æœˆ28æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/mysql-sharding/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"title":"MySQL","url":"/tags/mysql/"},{"title":"ç¯å¢ƒæ­å»º","url":"/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"title":"SQL","url":"/tags/sql/"},{"title":"Docker","url":"/tags/docker/"}],"timestamp":1690528831,"title":"MySQL åˆ†åº“æ­å»º"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"Postman Apifoxï¼ˆä½œè€…ä¹Ÿåœ¨ç”¨ï¼‰ Apifoxå’ŒPostmanå·®ä¸å¤šï¼Œä½†æ˜¯æ¯”Postmanæ›´æ˜“ç”¨ã€‚ç•Œé¢ç¾è§‚ã€æ”¯æŒä¸­æ–‡ã€‚è€Œä¸”è®¾ç½®æ¥å£å‚æ•°ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œè¿˜èƒ½è‡ªåŠ¨ç”Ÿæˆéšæœºçš„å‚æ•°ã€‚æ”¯æŒå°†æ¥å£å¯¼å‡ºä¸ºHTMLã€Markdownã€PDFç­‰æ ¼å¼ã€‚åœ¨ç¼–å†™APIæµ‹è¯•æ—¶ï¼Œè¿˜èƒ½ç”¨å®ƒæ¥ç¼–å†™Markdownæ–‡æ¡£æ¥è¿›ä¸€æ­¥è¯´æ˜ã€‚\næ”¯æŒå¤šç§å¯¼å…¥æ–¹å¼ï¼š\nç¼ºç‚¹å°±æ˜¯æ¯æ¬¡å¼€æœºç¬¬ä¸€æ¬¡æ‰“å¼€Apifoxéƒ½éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´çš„åŠ è½½ï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘æœºæ¢°ç¡¬ç›˜å¤ªæ…¢äº†ï¼‰ã€‚\nSwaggerï¼ˆKnife4jï¼‰ Swaggeræ˜¯ä¸€æ¬¾ç”¨äºJavaçš„APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆçš„æ¡†æ¶ã€‚\nKnife4jæ˜¯Swaggerçš„å¢å¼ºUIå®ç°ã€‚å¹¶ä¸”Swaggerå’ŒKnife4jå¯ä»¥æ— ç¼åˆ‡æ¢ã€‚\nKnife4jï¼ˆSwaggerï¼‰çš„Mavenä¾èµ–åæ ‡å¦‚ä¸‹ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.xiaoymin\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;knife4j-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.2\u0026lt;/version\u0026gt; \u0026lt;!-- ç‰ˆæœ¬å· --\u0026gt; \u0026lt;/dependency\u0026gt; ","date":"2023å¹´7æœˆ27æ—¥","img":"/images/dark-purple.png","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springmvc/api-tools/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"APIæµ‹è¯•","url":"/tags/api%E6%B5%8B%E8%AF%95/"}],"timestamp":1690464553,"title":"API æµ‹è¯•å·¥å…·"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"æœ¬åœ°éƒ¨ç½² Nacosæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå·²ç»åœ¨Githubä¸Šå¼€æºã€‚åœ¨æœ¬åœ°æ­å»ºNacoséœ€è¦è®¿é—®Nacosé¡¹ç›®ä»“åº“ï¼Œä½ å¯ä»¥é€‰æ‹©å°†è¯¥é¡¹ç›®cloneåˆ°æœ¬åœ°è‡ªå·±æ‰“åŒ…åéƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç›´æ¥è®¿é—®Nacosçš„Releasesé¡µé¢ä¸‹è½½å·²ç»æ‰“åŒ…å¥½çš„é¡¹ç›®å‹ç¼©æ–‡ä»¶è¿›è¡Œéƒ¨ç½²ã€‚ä½ ä¹Ÿå¯ä»¥è®¿é—®Nacoså®˜ç½‘æŸ¥çœ‹å¦‚ä½•éƒ¨ç½²ã€‚\ncloneåˆ°æœ¬åœ°ï¼š\ngit clone https://github.com/alibaba/nacos è®¿é—®Nacosçš„Releasesé¡µé¢ï¼š\né€‰æ‹©è‡ªå·±æƒ³è¦çš„ç‰ˆæœ¬ï¼ˆå¦‚2.2.3ï¼‰è¿›è¡Œä¸‹è½½ï¼š\næ— è®ºæ˜¯é€‰æ‹©ä¸‹è½½.zipè¿˜æ˜¯.tar.gzåç¼€çš„å‹ç¼©åŒ…éƒ½å¯ä»¥ã€‚ä½†æ˜¯åœ¨Linuxç¯å¢ƒä¸‹é€‰æ‹©ä¸‹è½½.tar.gzä¸ºä½³ã€‚\nLinuxä¸­è§£å‹.tar.gzçš„å‘½ä»¤å¦‚ï¼š\ntar -zxvf å‹ç¼©åŒ…æ–‡ä»¶å.tar.gz å°†ä¸‹è½½å¥½çš„å‹ç¼©åŒ…è§£å‹åˆ°ä»»æ„éä¸­æ–‡ç›®å½•ä¸‹ã€‚è§£å‹å¥½çš„ç›®å½•ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š\ntargetï¼šå­˜æ”¾NacosjaråŒ…çš„ç›®å½•ã€‚\nlogsï¼šå­˜æ”¾æ—¥å¿—æ–‡ä»¶ã€‚\nconfï¼šå­˜æ”¾é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚application.propertiesç­‰ï¼‰ä»¥åŠæ­å»ºå­˜æ”¾Nacosé…ç½®ä¿¡æ¯çš„æ•°æ®åº“çš„.sqlè„šæœ¬æ–‡ä»¶ï¼ˆå¦‚nacos-mysql.sqlç­‰ï¼‰ã€‚\nbinï¼šå­˜æ”¾å¯åŠ¨å’Œå…³é—­Nacos Serverçš„è„šæœ¬æ–‡ä»¶ä»¥åŠä¸€äº›å…¶å®ƒçš„æ–‡ä»¶ã€‚\nåœ¨Windowsç³»ç»Ÿä¸­å¯åŠ¨å’Œå…³é—­Nacosä½¿ç”¨çš„æ˜¯.cmdæ–‡ä»¶ï¼Œå³startup.cmdå’Œshutdown.cmdï¼Œåˆ†åˆ«å¯¹åº”å¯åŠ¨å’Œå…³é—­ã€‚åœ¨Linuxç³»ç»Ÿä¸­ä½¿ç”¨çš„æ˜¯.shæ–‡ä»¶ï¼Œstartup.shå¯åŠ¨ï¼Œshutdown.shå…³é—­ã€‚\nä½¿ç”¨startup.cmdæˆ–startup.shé»˜è®¤ä¸ºé›†ç¾¤æ¨¡å¼ï¼Œå¯ä»¥æ·»åŠ å‚æ•°-m standaloneä½¿ç”¨å•æœºæ¨¡å¼å¯åŠ¨ã€‚\nWindowsç³»ç»Ÿï¼š\ncd Nacosçš„è·¯å¾„\\bin .\\startup.cmd -m standalone Linuxç³»ç»Ÿï¼š\ncd Nacosçš„è·¯å¾„/bin ./startup.sh -m standalone åœ¨Windowsç³»ç»Ÿå’ŒLinuxç³»ç»Ÿä¸Šè¿›è¡Œæœ¬åœ°ç®€å•åœ°éƒ¨ç½²Nacoså¹¶æ²¡æœ‰åŒºåˆ«ï¼Œè¿™é‡Œä¸å†åˆ†åˆ«è¿›è¡Œèµ˜è¿°ã€‚\nè®¿é—®http://localhsot:8848/nacoså³å¯ã€‚é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç å‡ä¸ºnacosã€‚\nå¯åŠ¨æˆåŠŸåçš„Nacoså¤§æ¦‚é•¿è¿™æ ·å­ï¼š\nåŸºäº MySQL æ•°æ®åº“éƒ¨ç½² Nacoså¯ä»¥ä½¿ç”¨MySQLæ•°æ®åº“å­˜æ”¾é…ç½®ä¿¡æ¯ã€‚é¦–å…ˆéœ€è¦ç¡®ä¿ä½ çš„ç”µè„‘ä¸Šæœ‰MySQLã€‚\næ³¨æ„ï¼šä½¿ç”¨MySQLæ­å»ºNacosçš„æ•°æ®åº“ï¼Œæ¨èä½¿ç”¨MySQL 5ï¼Œå› ä¸ºNacosçš„MySQLé©±åŠ¨ç‰ˆæœ¬å¯ä»¥ä¸æ”¯æŒMySQL 8ã€‚å¦‚æœéè¦ä½¿ç”¨MySQL 8ï¼Œå¯ä»¥åœ¨Nacosä¸­å‡çº§MySQLçš„é©±åŠ¨ã€‚\né¦–å…ˆåœ¨MySQLä¸­æ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼š\nCREATE DATABASE nacos; USE nacos; source \u0026#34;Nacosçš„è·¯å¾„/bin/mysql-schema.sql\u0026#34;; åˆ›å»ºæˆåŠŸåçš„Nacosæ•°æ®åº“å¦‚ä¸‹ï¼š\næ¥ç€ä¿®æ”¹åœ¨confç›®å½•é‡Œçš„application.propertiesæ–‡ä»¶ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œå°±å°†application.properties.exampleæ–‡ä»¶å¤åˆ¶ä¸€ä»½ï¼Œæ”¹åä¸ºapplication.propertiesï¼‰ã€‚éœ€è¦ä¿®æ”¹çš„é…ç½®å¦‚ä¸‹ï¼š\n# æ•°æ®æº spring.datasource.platform=mysql # æ•°æ®åº“æ•°é‡ db.num=1 # è¿æ¥ç¬¬1ä¸ªæ•°æ®åº“çš„urlï¼ˆæ›¿æ¢æˆè‡ªå·±çš„ï¼‰ db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useUnicode=true\u0026amp;useSSL=false\u0026amp;serverTimezone=UTC # è¿æ¥ç¬¬1ä¸ªæ•°æ®åº“çš„ç”¨æˆ·å’Œå¯†ç ï¼ˆæ›¿æ¢æˆè‡ªå·±çš„ï¼‰ db.user.0=root db.password.0=root # æ•°æ®åº“é©±åŠ¨ï¼ˆå¦‚æœå…¶å®ƒé…ç½®æ­£ç¡®ï¼Œä½†æ— æ³•å¯åŠ¨æ—¶ï¼Œä¿®æ”¹è¯¥é…ç½®ï¼‰ # db.driver-class-name=com.mysql.cj.jdbc.Driver æ¥ä¸‹æ¥é‡å¯Nacoså³å¯ï¼š\n./shutdown.sh # ä¹Ÿå¯ä»¥ç›´æ¥ CTRL+C ç»“æŸ ./startup.sh -m standalone éƒ¨ç½² Nacos é›†ç¾¤ åœ¨æœ¬åœ°éƒ¨ç½²Nacosé›†ç¾¤é¦–å…ˆå°†Nacosæ•´ä¸ªåº”ç”¨ç›®å½•å¤åˆ¶ï¼Œè¦åœ¨é›†ç¾¤ä¸­éƒ¨ç½²å‡ ä¸ªNacoså°±å¤åˆ¶å‡ ä»½ã€‚æ¥ç€å†åˆ†åˆ«ä¿®æ”¹å®ƒä»¬çš„é…ç½®æ–‡ä»¶application.propertiesã€‚\nä¾‹å¦‚è¦éƒ¨ç½²ä¸¤ä¸ªNacosï¼Œåšè´Ÿè½½å‡è¡¡ï¼š\nç¬¬ä¸€ä¸ªNacosçš„é…ç½®æ–‡ä»¶å¯ä»¥å¦‚ä¸‹ï¼š\n# æœåŠ¡ç«¯å£ server.port=8841 # æ•°æ®åº“é…ç½® spring.datasource.platform=mysql db.num=1 db.url.0=jdbc:mysql://localhost:3306/nacos?characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useUnicode=true\u0026amp;useSSL=false\u0026amp;serverTimezone=UTC db.user.0=root db.password.0=root ç¬¬äºŒä¸ªNacosçš„é…ç½®æ–‡ä»¶å¯ä»¥å¦‚ä¸‹ï¼š\n# æœåŠ¡ç«¯å£ server.port=8842 # æ•°æ®åº“é…ç½® spring.datasource.platform=mysql db.num=1 db.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useUnicode=true\u0026amp;useSSL=false\u0026amp;serverTimezone=UTC db.user.0=root db.password.0=root å› ä¸ºæ˜¯éƒ¨ç½²åœ¨æœ¬åœ°ï¼ˆå³ä¸€å°æœºå™¨ä¸Šï¼‰ï¼Œæ‰€ä»¥ä¸¤ä¸ªNacosçš„ç«¯å£ä¸èƒ½ç›¸åŒï¼ˆå¦åˆ™ä¼šå‘ç”Ÿå†²çªï¼‰ã€‚\næ¥ç€ä½¿ç”¨startup.cmdæˆ–startup.shåˆ†åˆ«å¯åŠ¨è¿™ä¸¤ä¸ªNacosï¼ˆè¿™é‡Œè¦ä½¿ç”¨é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼ŒNacosé»˜è®¤ä½¿ç”¨é›†ç¾¤æ¨¡å¼å¯åŠ¨ï¼Œæ‰€ä»¥ä¸èƒ½åŠ ä¸Š-m standaloneå‚æ•°ï¼‰ã€‚\næ­¤æ—¶åˆ†åˆ«è®¿é—®è¿™ä¸¤ä¸ªæœåŠ¡ï¼ˆä¾‹å¦‚ä½¿ç”¨http://localhost:8841/nacoså’Œhttp://localhost:8842/nacosè®¿é—®ï¼‰ï¼Œéƒ½èƒ½æ­£å¸¸ä½¿ç”¨ã€‚\næœ€åéœ€è¦ç»™è¿™ä¸ªNacosé›†ç¾¤åŠ ä¸ªè·¯ç”±ï¼ˆä¾‹å¦‚ä½¿ç”¨Nginxï¼‰ã€‚Nginxçš„é…ç½®å¦‚ä¸‹ï¼š\n# Nacos é›†ç¾¤ upstream nacos-cluster { server nacos-cluster-test-1:8848; server nacos-cluster-test-2:8848; } # Nacos æœåŠ¡ server { listen 8849; server_name localhost; location /nacos { proxy_pass http://nacos-cluster; } } æ·»åŠ å®Œé…ç½®åé‡å¯Nginxå³å¯ï¼Œè¿™é‡Œä¸åšèµ˜è¿°ã€‚\né…ç½®å®Œåè®¿é—®http://localhsot:8849/nacoså³å¯ã€‚\nåŸºäº Docker éƒ¨ç½² ä½¿ç”¨Dockeréƒ¨ç½²ï¼Œé¦–å…ˆéœ€è¦ä¸‹è½½Nacosçš„é•œåƒã€‚Nacoså®˜æ–¹æä¾›äº†å¯¹åº”çš„é•œåƒnacos/nacos-serverã€‚ä½¿ç”¨ä¸‹æ–¹å‘½ä»¤ä¸‹è½½è¯¥å®¹å™¨ï¼š\ndocker pull nacos/nacos-server ä¸Šæ–¹çš„å‘½ä»¤æ‹‰å–ï¼ˆä¸‹è½½ï¼‰çš„æ˜¯ç‰ˆæœ¬ä¸ºlatestã€‚è¦æ‹‰å–å¯¹åº”ç‰ˆæœ¬çš„é•œåƒï¼Œå¯ä»¥æŸ¥çœ‹Dockerå®˜æ–¹æä¾›çš„ç½‘ç«™hub.docker.comï¼Œåœ¨å…¶ä¸­æœç´¢nacos-serverå¹¶ç‚¹å‡»tagsæŸ¥æ‰¾å¯¹åº”çš„ç‰ˆæœ¬ï¼ˆç‚¹å‡»å¿«é€ŸæŸ¥æ‰¾Nacos Serverç‰ˆæœ¬ã€‚\nä¾‹å¦‚æ‹‰å–v1.4.6ç‰ˆæœ¬çš„nacos/nacos-serverï¼š\ndocker pull nacos/nacos-server:v1.4.6 nacos/nacos-serveræ‹‰å–å®Œæˆåå°±å¯ä»¥åˆ›å»ºå¯¹åº”å®¹å™¨ï¼š\ndocker run -d \\ --name nacos-server \\ # å®¹å™¨åç§° -p 8848:8848 \\ # ç«¯å£æ˜ å°„ï¼Œåˆ†å·å·¦è¾¹ä¸ºæœ¬åœ°ç«¯å£ï¼Œåˆ†å·å³è¾¹ä¸ºå®¹å™¨çš„å†…éƒ¨ç«¯å£ --privileged=true \\ -e MODE=standalone \\ # æŒ‡å®šä¸ºå•æœºæ¨¡å¼ï¼ˆä½¿ç”¨Dockeråˆ›å»ºçš„Dockerå®¹å™¨é»˜è®¤ä¹Ÿä¸ºé›†ç¾¤æ¨¡å¼ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šå•æœºæ¨¡å¼ï¼‰ -e PREFER_HOST_MODE=hostname \\ -v /home/nacos/nacos-server/logs:/home/nacos/logs \\ # æ–‡ä»¶æŒ‚è½½ï¼Œåˆ†å·å·¦è¾¹ä¸ºæœ¬åœ°ç›®å½•ï¼Œåˆ†å·å³è¾¹ä¸ºå®¹å™¨å†…éƒ¨çš„ç›®å½•ï¼Œè¿™é‡Œæ˜¯è¿›è¡Œæ—¥å¿—æ–‡ä»¶ç›®å½•æ˜ å°„ -v /home/nacos/nacos-server/conf/:/home/nacos/conf/ \\ # é…ç½®æ–‡ä»¶æ˜ å°„ -e JVM_XMS=256m -e JVM_XMX=256m \\ nacos/nacos-server \\ # åˆ›å»ºå®¹å™¨æ‰€ä½¿ç”¨çš„é•œåƒ /usr/sbin/init è®¿é—®http://localhsot:8848/nacoså³å¯ã€‚é»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç å‡ä¸ºnacosã€‚\nå¦‚æœæ˜¯åœ¨Windowsä¸­ä½¿ç”¨Docker Desktopéƒ¨ç½²ï¼Œç›®å½•æ˜ å°„çš„è·¯å¾„åº”è¯¥è¿™æ ·å†™ï¼š\ndocker run -d \\ --name nacos-server \\ -p 8848:8848 \\ --privileged=true \\ -e MODE=standalone \\ -e PREFER_HOST_MODE=hostname \\ -v /d/docker-volume/nacos/nacos-server/logs:/home/nacos/logs \\ -v /d/docker-volume/nacos/nacos-server/conf/:/home/nacos/conf/ \\ -e JVM_XMS=256m -e JVM_XMX=256m \\ nacos/nacos-server \\ /usr/sbin/init åŸºäº Docker ä½¿ç”¨ MySQL éƒ¨ç½² æ ¹æ®å¦‚ä¸Šæ–¹æ³•åˆ›å»ºNacoså®¹å™¨ï¼Œç„¶åä¿®æ”¹æ˜ å°„åˆ°æœ¬åœ°çš„é…ç½®æ–‡ä»¶ã€‚ä¾‹å¦‚ä¿®æ”¹/home/nacos/nacos-server/confä¸‹çš„application.propertiesï¼š\n# æ•°æ®åº“é…ç½®ï¼ˆæ ¹æ®ä½ çš„é…ç½®ç¯å¢ƒä¿®æ”¹ï¼‰ spring.datasource.platform=mysql db.num=1 db.url.0=jdbc:mysql://localhost:3306/nacos?characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useUnicode=true\u0026amp;useSSL=false\u0026amp;serverTimezone=UTC db.user.0=root db.password.0=root æ³¨ï¼šè¿™ä¸ªMySQLéœ€è¦ä½¿ç”¨mysql-schema.sqlåˆ›å»ºnacosæ•°æ®åº“ã€‚\nå¦‚æœMySQLä¹Ÿæ˜¯ä½¿ç”¨Dockeråˆ›å»ºçš„ï¼Œå¯ä»¥ç»™Nacoså®¹å™¨å’ŒMySQLå®¹å™¨æ·»åŠ ä¸€ä¸ªDocker Networkï¼Œå¹¶å°†å®ƒä»¬éƒ½åŠ å…¥è¿™ä¸ªNetworkä¸­ï¼š\nåˆ›å»ºDocker Networkï¼š\ndocker network create nacos-network åˆ†åˆ«å°†Nacoså®¹å™¨å’ŒMySQLå®¹å™¨åŠ å…¥Docker Networkï¼ˆå‡è®¾MySQLçš„å®¹å™¨åä¸ºmysqlï¼‰ï¼š\ndocker network connect nacos-network nacos-server docker network connect nacos-network mysql ä¹‹ååœ¨åŠ å…¥è¿™ä¸ªNetworkçš„å®¹å™¨ä¸­ï¼Œå¯ä»¥å°†å®ƒä»¬çš„å®¹å™¨åå½“ä½œIPåœ°å€æ¥ä½¿ç”¨ã€‚æ‰€ä»¥åœ¨nacos-serverä¸­å¯ä»¥å°†db.urlä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š\ndb.url.0=jdbc:mysql://mysql:3306/nacos?characterEncoding=utf8\u0026amp;connectTimeout=1000\u0026amp;socketTimeout=3000\u0026amp;autoReconnect=true\u0026amp;useUnicode=true\u0026amp;useSSL=false\u0026amp;serverTimezone=UTC å…¶å®ä½¿ç”¨Dockeréƒ¨ç½²å¹¶ä½¿ç”¨MySQLæ•°æ®åº“è¿˜æœ‰ä¸€ä¸ªç®€ä¾¿çš„æ–¹æ³•ï¼ˆæŒ‰ç…§ä¸Šè¿°æ–¹æ³•ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶å¯èƒ½ä¸ç”Ÿæ•ˆï¼‰ï¼Œå¯ä»¥åœ¨åˆ›å»ºå®¹å™¨çš„Dockerå‘½ä»¤ä¸­é€šè¿‡nacos-serveræä¾›çš„ç¯å¢ƒå˜é‡ç›´æ¥æŒ‡å®šMySQLæœåŠ¡çš„é…ç½®ä¿¡æ¯ï¼ˆnacos-serverå®¹å™¨åœ¨åˆ›å»ºæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼‰ï¼š\ndocker run -d \\ --name nacos-server \\ -p 8848:8848 \\ --network nacos-network\\ # åœ¨åˆ›å»ºå®¹å™¨æ—¶æŒ‡å®šNetwork --privileged=true \\ -e SPRING_DATASOURCE_PLATFORM=mysql \\ # æŒ‡å®šæ•°æ®æºç±»å‹ä¸ºMySQL -e MYSQL_SERVICE_HOST=mysql \\ # MySQLæœåŠ¡å™¨çš„åœ°å€ï¼ˆè¿™é‡ŒåŠ å…¥äº†Networkæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨å®¹å™¨åç§°æ¥å½“Hostï¼‰ -e MYSQL_SERVICE_PORT=3306 \\ # MySQLæœåŠ¡ç«¯å£ -e MYSQL_SERVICE_USER=root \\ # MySQLç”¨æˆ·å -e MYSQL_SERVICE_PASSWORD=root \\ # MySQLå¯†ç  -e MYSQL_SERVICE_DB_NAME=nacos \\ # MySQLçš„æ•°æ®åº“åç§° -e PREFER_HOST_MODE=hostname \\ -v /d/27120/docker-volume/nacos/%name%/logs:/home/nacos/logs \\ -v /d/27120/docker-volume/nacos/%name%/conf/:/home/nacos/conf/ \\ -e JVM_XMS=256m -e JVM_XMX=256m \\ nacos/nacos-server \\ /usr/sbin/init ä½¿ç”¨Dockeråˆ›å»ºçš„MySQLå®¹å™¨åŒæ ·éœ€è¦åˆ›å»ºnacosæ•°æ®åº“ã€‚å¯ä»¥é€šè¿‡å…¶å®ƒæ–‡ä»¶ä¼ è¾“æ–¹å¼ä¼ è¾“åˆ°å®¹å™¨ä¸­ï¼ˆè¿™ç§æ–¹å¼é€‚ç”¨äºä½ æœ‰ä¸€ä¸ªå·²ç»åœ¨è¿è¡Œçš„MySQLå®¹å™¨ï¼‰ã€‚\nåœ¨å®¹å™¨ä¸­åˆ›å»ºæ•°æ®åº“å¯ä»¥åœ¨æœ¬æœºè¾“å…¥å‘½ä»¤ï¼ˆå‡è®¾mysql-schema.sqlå¯¼å…¥åˆ°äº†å®¹å™¨çš„rootç›®å½•ä¸­ï¼‰ï¼š\ndocker exec mysql mysql -uroot -proot -e \u0026#34;CREATE DATABASE nacos; USE nacos; SOURCE /root/mysql-schema.sql;\u0026#34; ä¸Šæ–¹å‘½ä»¤ç¬¬ä¸€ä¸ªmysqlæ˜¯æŒ‡å®¹å™¨åç§°ï¼Œç¬¬äºŒä¸ªæ˜¯æŒ‡å®¹å™¨ä¸­çš„mysqlå‘½ä»¤ã€‚\næˆ–è€…æ˜¯åœ¨æœ¬åœ°ä½¿ç”¨Dockerç™»å½•MySQLåè¿›è¡Œæ“ä½œï¼š\ndocker exec mysql mysql -uroot -p # ç„¶åè¾“å…¥ä½ çš„å¯†ç ï¼Œå›è½¦ mysql\u0026gt; CREATE DATABASE nacos; mysql\u0026gt; USE nacos; mysql\u0026gt; SOURCE /root/mysql-schema.sql; æ¨èä½¿ç”¨Dockerfileæ–¹å¼åˆ›å»ºä¸€ä¸ªåŒ…å«nacosæ•°æ®åº“çš„MySQLå®¹å™¨ï¼š\nFROM mysql:5.7 ENV TZ=Asia/Shanghai ENV MYSQL_ROOT_PASSWORD=123456 ENV LANG=C.UTF-8 COPY ./mysql-schema.sql /docker-entrypoint-initdb.d è¿™æ˜¯åˆ©ç”¨MySQLé•œåƒçš„æœºåˆ¶ã€‚MySQLå®¹å™¨åœ¨åˆ›å»ºæ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œ/docker-entrypoint-initdb.dç›®å½•ä¸‹çš„.shã€.sqlç­‰æ–‡ä»¶ã€‚å› ä¸ºNacoså®˜æ–¹æä¾›çš„mysql-schema.sqlä¸­å¹¶æ²¡æœ‰åˆ›å»ºæ•°æ®åº“å’Œä½¿ç”¨æ•°æ®åº“çš„SQLè¯­å¥ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºå®¹å™¨ä¹‹å‰è¿˜éœ€è¦å¯¹mysql-schema.sqlç¨åŠ ä¿®æ”¹ã€‚åœ¨mysql-schema.sqlé‡Œé¢æœ€ä¸Šæ–¹æ·»åŠ è¿™ä¹ˆä¸¤å¥ï¼š\nCREATE DATABASE IF NOT EXISTS nacos; USE nacos; éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„æ•°æ®åº“åç§°è¦å’Œåˆ›å»ºnacos-serveræ—¶é…ç½®çš„ä¸€è‡´ã€‚\nç„¶åå°†mysql-schema.sqlå¤åˆ¶åˆ°ä¸DockerfileåŒçº§çš„ç›®å½•ä¸­ï¼ˆæˆ–è€…ä½ ä¹Ÿå¯ä»¥åœ¨Dockerfileå°†mysql-schema.sqlçš„è·¯å¾„ä¿®æ”¹åˆ°ä½ æƒ³è¦çš„ä½ç½®ï¼‰ã€‚æ¥ç€ä½¿ç”¨docker buildå‘½ä»¤æ„å»ºé•œåƒï¼š\ndocker build -f .\\Dockerfile . -t linner/mysql-nacos æœ€åä½¿ç”¨docker runè¿è¡Œå®¹å™¨ï¼š\ndocker run -id --name mysql-nacos -p 3306:3306 linner/nacos-mysql å› ä¸ºä¸€äº›é…ç½®åœ¨Dockerfileæå‰è®¾ç½®è¿‡äº†ï¼Œæ‰€ä»¥è¿™æ¡æ„å»ºMySQLå®¹å™¨çš„å‘½ä»¤ååˆ†ç®€æ´ã€‚\nåŸºäº Docker æ­å»º Nacos é›†ç¾¤ åŸºäºDockeræ­å»ºNacosé›†ç¾¤ï¼Œé¦–å…ˆå¯ä»¥åˆ›å»ºä¸€ä¸ªç”¨äºåˆ›å»ºé›†ç¾¤æ¨¡å¼Nacosçš„è„šæœ¬create_nacos.shï¼ˆä½¿ç”¨MySQLï¼‰ï¼š\nname=$1 port=$2 docker run -d \\ --name $name \\ -p $port:8848 \\ --network nacos-network \\ --privileged=true \\ -e SPRING_DATASOURCE_PLATFORM=mysql \\ -e MYSQL_SERVICE_HOST=mysql \\ -e MYSQL_SERVICE_PORT=3306 \\ -e MYSQL_SERVICE_USER=root \\ -e MYSQL_SERVICE_PASSWORD=123456 \\ -e MYSQL_SERVICE_DB_NAME=nacos_config \\ -e PREFER_HOST_MODE=hostname \\ -v /home/nacos/$name/logs:/home/nacos/logs \\ -v /home/nacos/$name/conf/:/home/nacos/conf/ \\ -e JVM_XMS=256m -e JVM_XMX=256m \\ nacos/nacos-server \\ /usr/sbin/init ä¾‹å¦‚åˆ›å»ºä¸¤ä¸ªNacoså®¹å™¨ï¼ˆåœ¨æœ¬åœ°åˆ›å»ºä¸¤ä¸ªå®¹å™¨ï¼Œç«¯å£ä¸èƒ½é‡å¤ï¼‰ï¼š\n./create_nacos.sh nacos1 8841 ./create_nacos.sh nacos2 8842 æ¥ç€å°†å®ƒä»¬åŠ å…¥nacos-networkåé‡å¯ï¼ˆå¦‚æœè¿™ä¸¤ä¸ªNacoså®¹å™¨æ²¡æœ‰åœæ­¢è¿è¡Œçš„è¯ï¼Œå¯ä»¥å¿½ç•¥ï¼‰ï¼š\ndocker restart nacos1 docker restart nacos2 æ¥ç€é…ç½®Nginxçš„æ–¹æ³•å’Œä¹‹å‰æè¿°çš„æ–¹å¼ç±»ä¼¼ã€‚å¦‚æœNginxæ˜¯ä½¿ç”¨Dockeråˆ›å»ºçš„ï¼Œä¹Ÿå¯ä»¥å°†è¯¥Nginxå®¹å™¨åŠ å…¥nacos-networkï¼Œç„¶åç›´æ¥ä½¿ç”¨å®¹å™¨çš„åç§°ä½œä¸ºHostå³å¯ã€‚\næœ€åè®¿é—®Nginxå³å¯ã€‚\n","date":"2023å¹´7æœˆ24æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/nacos-deploy/","series":[],"smallImg":"","tags":[{"title":"Spring","url":"/tags/spring/"},{"title":"Maven","url":"/tags/maven/"},{"title":"Nacos","url":"/tags/nacos/"},{"title":"Docker","url":"/tags/docker/"},{"title":"ç¯å¢ƒæ­å»º","url":"/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"timestamp":1690138716,"title":"Nacos éƒ¨ç½²"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Eureka æœåŠ¡æ³¨å†Œä¸­å¿ƒ Eurekaæ¶æ„ä¸‹å°†æœåŠ¡åˆ†ä¸ºä»¥ä¸‹ä¸¤ä¸ªè§’è‰²ï¼š\næ³¨å†Œä¸­å¿ƒï¼ˆEureka Serverï¼ŒæœåŠ¡ç«¯ï¼‰ã€‚ å®¢æˆ·ç«¯ï¼ˆEureka Clientï¼‰ã€‚ Eurekaä¼šå°†å®¢æˆ·ç«¯ï¼ˆå³æœåŠ¡ï¼‰çš„ä¿¡æ¯è¿›è¡Œæ³¨å†Œï¼Œè®©å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡Eurekaæ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡ä¿¡æ¯å¹¶è¿›è¡Œè°ƒç”¨ã€‚\nEurekaçš„ä½œç”¨ï¼š\næ³¨å†ŒæœåŠ¡ä¿¡æ¯ï¼šæœåŠ¡æä¾›è€…å¯åŠ¨æ—¶å‘Eurekaæ³¨å†Œè‡ªå·±çš„ä¿¡æ¯ï¼ŒEurekaä¿å­˜è¿™äº›æœåŠ¡ä¿¡æ¯åˆ°æœåŠ¡åˆ—è¡¨ä¸­ã€‚ è·å–æœåŠ¡ä¿¡æ¯ï¼šæœåŠ¡æ¶ˆè´¹è€…æ ¹æ®æœåŠ¡åç§°å‘Eurekaæ‹‰å–æœåŠ¡åˆ—è¡¨ã€‚ è´Ÿè½½å‡è¡¡ï¼šæœ‰å¤šä¸ªæœåŠ¡æä¾›è€…æ—¶ï¼ŒæœåŠ¡æ¶ˆè´¹è€…åˆ©ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä»Eurekaæ³¨å†Œçš„æœåŠ¡åˆ—è¡¨ä¸­æŒ‘é€‰ä¸€ä¸ªæœåŠ¡åå‘èµ·è¿œç¨‹è°ƒç”¨ã€‚ æ„ŸçŸ¥æœåŠ¡å¥åº·çŠ¶æ€ï¼š æœåŠ¡æä¾›è€…ä¼šæ¯éš”30ç§’å‘Eureka Serverå‘é€å¿ƒè·³è¯·æ±‚ï¼ŒæŠ¥å‘Šè‡ªå·±çš„å¥åº·çŠ¶æ€ã€‚ Eurekaä¼šæ›´æ–°è®°å½•æœåŠ¡ä¿¡æ¯åˆ—è¡¨ï¼Œå¿ƒè·³ä¸æ­£å¸¸çš„æœåŠ¡ä¼šè¢«å‰”é™¤ã€‚ åœ¨Eurekaæ¶æ„ä¸­ï¼Œè§’è‰²æœ‰ä»¥ä¸‹åˆ†å·¥ï¼š\nEureka Serverï¼šè®°å½•æœåŠ¡ä¿¡æ¯ï¼›è¿›è¡Œå¿ƒè·³ç›‘æ§ï¼Œå‰”é™¤å¿ƒè·³ä¸æ­£å¸¸çš„æœåŠ¡ã€‚ Eureka Clientï¼š Providerï¼šæ³¨å†Œè‡ªå·±çš„ä¿¡æ¯åˆ°Eureka Serverï¼›æ¯éš”30ç§’å‘Eureka Serverå‘é€å¿ƒè·³ã€‚ Consumerï¼šæ ¹æ®æœåŠ¡åç§°ä»Eureka Serveræ‹‰å–æœåŠ¡åˆ—è¡¨ï¼›åŸºäºæœåŠ¡åˆ—è¡¨åšè´Ÿè½½å‡è¡¡ï¼Œé€‰ä¸­ä¸€ä¸ªæœåŠ¡åå‘èµ·è¿œç¨‹è°ƒç”¨ã€‚ Eureka ç¤ºä¾‹ ä¾ç…§ä¸Šä¾‹ï¼Œè®¢å•æœåŠ¡åœ¨è·å–è®¢å•ä¿¡æ¯æ—¶éœ€è¦ä»ç”¨æˆ·æœåŠ¡ä¸­è·å–ç”¨æˆ·ä¿¡æ¯å¹¶ä¸€åŒå‘é€ï¼š\né¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„Mavenæ¨¡å—æ¥è¿è¡ŒEureka Serverã€‚\nEureka Serverçš„pom.xmlå¦‚ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;asia.linner.demo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cloud-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;artifactId\u0026gt;eureka-server\u0026lt;/artifactId\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;8\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;8\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;project.build.sourceEncoding\u0026gt;UTF-8\u0026lt;/project.build.sourceEncoding\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--EurekaæœåŠ¡ç«¯--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-netflix-eureka-server\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; å…¶ä¸­æœ€ä¸»è¦çš„å°±æ˜¯å¯¼å…¥eureka-serverèµ·æ­¥ä¾èµ–ï¼š\n\u0026lt;!--EurekaæœåŠ¡ç«¯--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-netflix-eureka-server\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨Eurekaä¸­ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æœ‰ä¸åŒçš„ä¾èµ–ï¼ŒæœåŠ¡ç«¯çš„èµ·æ­¥ä¾èµ–å°±æ˜¯spring-cloud-starter-netflix-eureka-serverã€‚\nç¼–å†™EurekaApplicationå¯åŠ¨ç±»ï¼Œå¹¶åœ¨å¯åŠ¨ç±»ä¸Šä½¿ç”¨@EnableEurekaServeræ³¨è§£è£…é…EurekaServerï¼š\n@EnableEurekaServer // EurekaServerå¼€å…³ï¼Œè‡ªåŠ¨è£…é…EurekaServer @SpringBootApplication public class EurekaApplication { public static void main(String[] args) { SpringApplication.run(EurekaApplication.class, args); } } åœ¨eureka-serverä¸­ï¼Œæ·»åŠ application.ymlå¹¶åŠ å…¥ä»¥ä¸‹é…ç½®ä¿¡æ¯ï¼š\nserver: # æœåŠ¡ç«¯å£ï¼ˆè§†å…·ä½“æƒ…å†µè¿›è¡Œæ›´æ”¹ï¼‰ port: 8180 spring: application: # æœåŠ¡åç§° name: eureka-server eureka: client: service-url: # Eurekaçš„åœ°å€ä¿¡æ¯ï¼ˆå¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™ç”¨é€—å·â€,â€œéš”å¼€ï¼‰ defaultZone: http://localhost:8180/eureka åˆ†åˆ«åœ¨order-serviceå’Œuser-serviceä¸­æ·»åŠ Eurekaå®¢æˆ·ç«¯ä¾èµ–ï¼š\n\u0026lt;!-- Eurekaå®¢æˆ·ç«¯ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-netflix-eureka-client\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; åˆ†åˆ«åœ¨Eurekaå®¢æˆ·ç«¯çš„application.ymlä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯ï¼š\neureka: # é…ç½®eureka-serverçš„ä¿¡æ¯ client: service-url: # defaultZoneè¦ä¸eureka-serverä¸­çš„defaultZoneç›¸åŒ defaultZone: http://localhost:8180/eureka åˆ†åˆ«åœ¨Eurekaå®¢æˆ·ç«¯çš„application.ymlä¸­æ·»åŠ æœåŠ¡åç§°ï¼ˆspring.application.nameï¼‰ï¼Œå¦‚order-serviceï¼š\nspring: application: # æœåŠ¡åç§° name: order-service Eureka Serveråˆ©ç”¨spring.application.nameæ¥æ‰¾åˆ°å¯¹åº”æ¨¡å—çš„ä¿¡æ¯ï¼Œå¹¶è¿”å›ã€‚åˆ©ç”¨spring.application.nameä¹Ÿå¯ä»¥åšè´Ÿè½½å‡è¡¡ã€‚\nç”±äºæ‰€æœ‰æ¨¡å—éƒ½å¯èƒ½ä½œä¸ºæœåŠ¡æä¾›è€…è¢«å…¶ä»–æœåŠ¡è°ƒç”¨ï¼Œæ‰€ä»¥é¡¹ç›®ä¸­æ‰€æœ‰æœåŠ¡æ¨¡å—éƒ½åº”è¯¥åœ¨Eureka Serverä¸­è¿›è¡Œæ³¨å†Œã€‚\nåœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸­ï¼Œéœ€è¦åœ¨æ³¨å†ŒRestTemplateçš„æ–¹æ³•ä¸Šä½¿ç”¨æ³¨è§£@LoadBalancedæ¥å¼€å¯Eurekaçš„è´Ÿè½½å‡è¡¡ã€‚\nå¦‚order-serviceä¸­ï¼š\n@Bean @LoadBalanced // å¼€å¯Eurekaè´Ÿè½½å‡è¡¡ public RestTemplate restTemplate() { return new RestTemplate(); } æœåŠ¡æ¶ˆè´¹è€…é€šè¿‡Eurekaï¼Œä½¿ç”¨RestTemplateè°ƒç”¨å…¶ä»–æ¨¡å—ã€‚\nå¦‚order-serviceè°ƒç”¨user-serviceï¼š\n@Service public class OrderService { @Autowired private OrderMapper orderMapper; // æ³¨å…¥RestTemplate @Autowired private RestTemplate restTemplate; public Order queryOrderById(Long orderId) { // 1.æŸ¥è¯¢è®¢å• Order order = orderMapper.findById(orderId); // 2.åˆ©ç”¨RestTemplateå‘èµ·HTTPè¯·æ±‚ï¼ŒæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ // 2.1.URLè·¯å¾„ï¼ˆå°†æœåŠ¡çš„IPæ”¹ä¸ºæœåŠ¡çš„åç§°ï¼‰ String url = \u0026#34;http://user-service/user/\u0026#34; + order.getUserId(); // 2.2.å‘é€HTTPï¼ˆGETï¼‰è¯·æ±‚ï¼Œå®ç°è¿œç¨‹è°ƒç”¨ User user = restTemplate.getForObject(url, User.class); // 3.å°è£…Useråˆ°Order order.setUser(user); // 4.è¿”å› return order; } } è¿™é‡Œé¢æœ€ä¸»è¦çš„æ˜¯ï¼Œé…ç½®äº†Eurekaåï¼Œä½¿ç”¨RestTemplateè°ƒç”¨å…¶ä»–æ¨¡å—æ—¶ï¼ŒURLä¸­çš„IPå¯ä»¥æ”¹ä¸ºæœåŠ¡æä¾›è€…ï¼ˆè¢«è°ƒæ¨¡å—ï¼‰çš„æœåŠ¡åç§°ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨åšè´Ÿè½½å‡è¡¡ã€‚å³ï¼ŒåŸæœ¬æ˜¯ä½¿ç”¨localhost:8081è¿™ä¸ªIPç«¯å£æ¥è°ƒç”¨user-serviceï¼Œä½†æ˜¯ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨http://user-serviceæ¥è°ƒç”¨user-serviceæä¾›çš„æ¥å£ã€‚\nEureka æœåŠ¡æ³¨å†Œé…ç½®æ€»ç»“ æŒ‰ç…§è§’è‰²é…ç½®Eurekaï¼Œè‡³å°‘éœ€è¦åšå¦‚ä¸‹é…ç½®ï¼š\nEureka Serverï¼š\nä¾èµ–ï¼š\n\u0026lt;!--EurekaæœåŠ¡ç«¯--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-netflix-eureka-server\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®ï¼ˆapplication.ymlï¼‰ï¼š\nserver: # EurekaæœåŠ¡ç«¯å£ï¼ˆè§†å…·ä½“æƒ…å†µè¿›è¡Œæ›´æ”¹ï¼‰ port: 8180 spring: application: # æœåŠ¡åç§° name: eureka-server eureka: client: service-url: # Eurekaçš„åœ°å€ä¿¡æ¯ï¼ˆå¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™ç”¨é€—å·â€,â€œéš”å¼€ï¼‰ defaultZone: http://localhost:8180/eureka Eureka Clientï¼š\nä¾èµ–ï¼š\n\u0026lt;!-- Eurekaå®¢æˆ·ç«¯ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-netflix-eureka-client\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®ï¼ˆapplication.ymlï¼‰ï¼š\nspring: application: # æœåŠ¡åç§° name: clinet-1-service eureka: client: service-url: # defaultZoneè¦ä¸eureka-serverä¸­çš„defaultZoneç›¸åŒ defaultZone: http://localhost:8180/eureka æœåŠ¡æ¶ˆè´¹è€…ï¼š\nå¼€å¯è´Ÿè½½å‡è¡¡ï¼š\n@Bean @LoadBalanced // å¼€å¯Eurekaè´Ÿè½½å‡è¡¡ public RestTemplate restTemplate() { return new RestTemplate(); } ä½¿ç”¨RestTemplateè°ƒç”¨å…¶ä»–æœåŠ¡æ—¶ï¼ŒURLä¸­çš„IPå¯ä»¥æ”¹ä¸ºæœåŠ¡æä¾›è€…ï¼ˆè¢«è°ƒæ¨¡å—ï¼‰çš„æœåŠ¡åç§°ã€‚\nIdea é…ç½®æ¨¡å—çš„å¤šä¸ªå®ä¾‹ å¤åˆ¶ç°æœ‰çš„é…ç½®ï¼š\nä½¿ç”¨VM Optionsä¿®æ”¹ç«¯å£ï¼Œé¿å…ä¸åŸæœ‰çš„æ¨¡å—äº§ç”Ÿç«¯å£å†²çªï¼š\nRibbon è´Ÿè½½å‡è¡¡ Ribbonæ˜¯ä¸€æ¬¾è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œè€ŒEurekaçš„è´Ÿè½½å‡è¡¡åˆ™æ˜¯åŸºäºRibbonå®ç°çš„ã€‚å¦‚ä¸Šä¾‹ï¼ˆorder-serviceï¼‰ä¸­ï¼š\n@Bean @LoadBalanced // å¼€å¯Eurekaè´Ÿè½½å‡è¡¡ public RestTemplate restTemplate() { return new RestTemplate(); } è´Ÿè½½å‡è¡¡æµç¨‹ Eurekaä¸­ä½¿ç”¨æ³¨è§£@LoadBalancedæ ‡è¯†RestTemplateï¼Œä»è€Œå®ç°æ‹¦æˆªRestTemplateå‘èµ·çš„è¯·æ±‚ï¼Œå¹¶è·å–ç›¸åº”çš„æœåŠ¡ä¿¡æ¯å’Œæ‰§è¡Œè´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚\n@LoadBalancedæ³¨è§£ä½¿ç”¨LoadBalancerInterceptoræ¥æ‰§è¡Œè¯·æ±‚çš„æ‹¦æˆªã€‚LoadBalancerInterceptorå®ç°äº†ClientHttpRequestInterceptoræ¥å£ã€‚è€ŒClientHttpRequestInterceptoræ¥å£ä¸»è¦ç”¨äºæ‹¦æˆªå®¢æˆ·ç«¯HTTPè¯·æ±‚ã€‚\nClientHttpRequestInterceptoræ¥å£ï¼š\n@FunctionalInterface public interface ClientHttpRequestInterceptor { ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException; } æ‹¦æˆªæµç¨‹ï¼š\nä½¿ç”¨RestTemplateå‘é€è¯·æ±‚æ—¶ï¼ŒEurekaä¼šä½¿ç”¨LoadBalancerInterceptorçš„intercept()æ¥æ‰§è¡Œæ‹¦æˆªï¼š\npublic class LoadBalancerInterceptor implements ClientHttpRequestInterceptor { private LoadBalancerClient loadBalancer; // è´Ÿè½½å‡è¡¡å®¢æˆ·ç«¯ @Override public ClientHttpResponse intercept(final HttpRequest request, final byte[] body, final ClientHttpRequestExecution execution) throws IOException { /* è·å–è¯·æ±‚å‘å‡ºçš„URL ä¾‹å¦‚order-serviceä¸­è·å–è®¢å•ä¿¡æ¯æ—¶ï¼Œä¼šå‘å‡º[http://user-service/user/{userId}]è¿™ä¸ªè¯·æ±‚ è¿™é‡Œçš„request.getURI()ä¼šè·å–åˆ°[http://user-service/user/{userId}]è¿™ä¸ªè¯·æ±‚çš„URI */ final URI originalUri = request.getURI(); /* é€šè¿‡URIè·å–è¯·æ±‚çš„Host å¦‚ï¼šuser-service */ String serviceName = originalUri.getHost(); Assert.state(serviceName != null, \u0026#34;Request URI does not contain a valid hostname: \u0026#34; + originalUri); /* å°†Hostä½œä¸ºEurekaå®¢æˆ·ç«¯åç§°ï¼Œè·å–ç›¸åº”çš„æœåŠ¡ä¿¡æ¯å¹¶æ‰§è¡Œè´Ÿè½½å‡è¡¡ç­–ç•¥ */ return this.loadBalancer.execute(serviceName, this.requestFactory.createRequest(request, body, execution)); } } LoadBalancerClientæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯æ‰§è¡Œè´Ÿè½½å‡è¡¡çš„æ¥å£ï¼Œå½“å®é™…æ‰§è¡Œæ—¶ï¼Œä½¿ç”¨çš„æ˜¯RibbonLoadBalancerClientè¿™ä¸ªå®ç°ç±»ï¼š\npublic class RibbonLoadBalancerClient implements LoadBalancerClient { /* ... */ /** * å®é™…æ‰§è¡Œçš„æ˜¯è¿™ä¸ªæ–¹æ³• */ public \u0026lt;T\u0026gt; T execute( String serviceId, // ä¼ å…¥çš„æ˜¯serviceNameï¼Œå¦‚ user-service LoadBalancerRequest\u0026lt;T\u0026gt; request, Object hint) throws IOException { /* æ ¹æ®serviceIdè·å–è´Ÿè½½å‡è¡¡å™¨ loadBalancerä¸­æœ‰è¿™ä¹ˆä¸¤ä¸ªå±æ€§ï¼š - AllServerList - UpServerList å®ƒä»¬è®°å½•äº†è·å–åˆ°çš„Eurekaå®¢æˆ·ç«¯ä¿¡æ¯ å®é™…æ‰§è¡Œæ—¶ï¼ŒloadBalancerçš„ç±»å‹æ˜¯ZoneAwareLoadBalancer ZoneAwareLoadBalancerç»§æ‰¿äº†DynamicServerListLoadBalancer åœ¨loadBalancerä¸­ï¼Œä½¿ç”¨IRuleå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥ */ ILoadBalancer loadBalancer = getLoadBalancer(serviceId); /* æ ¹æ®LoadBalancerï¼Œæ‰§è¡Œè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œè·å–Eurekaå®¢æˆ·ç«¯çš„çœŸå®æœåŠ¡åœ°å€ å¦‚ï¼Œè·å–åˆ° localhost:8081 */ Server server = getServer(loadBalancer, hint); /* ... */ } /* ... */ } è´Ÿè½½å‡è¡¡ç­–ç•¥ Ribbonçš„è´Ÿè½½å‡è¡¡ç­–ç•¥æ˜¯ä½¿ç”¨IRuleè¿™ä¸ªæ¥å£æ¥å®šä¹‰ã€‚åœ¨Eurekaä¸­ç»™å‡ºäº†å‡ ä¸ªè´Ÿè½½å‡è¡¡ç­–ç•¥çš„å®ç°ï¼Œå®ƒä»¬çš„ç»§æ‰¿å…³ç³»å›¾å¦‚ä¸‹ï¼š\nEurekaä¸­è´Ÿè½½å‡è¡¡é»˜è®¤çš„å®ç°æ˜¯ZoneAvoidanceRuleï¼Œå®ƒä»¬çš„å«ä¹‰å¦‚ä¸‹ï¼š\nå†…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ç±» è§„åˆ™æè¿° RoundRobinRule ç®€å•è½®è¯¢æœåŠ¡åˆ—è¡¨æ¥é€‰æ‹©æœåŠ¡å™¨ã€‚å®ƒæ˜¯Ribboné»˜è®¤çš„è´Ÿè½½å‡è¡¡è§„åˆ™ã€‚ AvailabilityFilteringRule å¯¹ä»¥ä¸‹ä¸¤ç§æœåŠ¡å™¨è¿›è¡Œå¿½ç•¥ï¼šçŸ­è·¯çš„æœåŠ¡å™¨ï¼š\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å°æœåŠ¡å™¨å¦‚æœ3æ¬¡è¿æ¥å¤±è´¥ï¼Œè¿™å°æœåŠ¡å™¨å°±ä¼šè¢«è®¾ç½®ä¸ºâ€œçŸ­è·¯â€çŠ¶æ€ã€‚\nçŸ­è·¯çŠ¶æ€å°†æŒç»­30ç§’ï¼Œå¦‚æœå†æ¬¡è¿æ¥å¤±è´¥ï¼ŒçŸ­è·¯çš„æŒç»­æ—¶é—´å°±ä¼šå‡ ä½•çº§åœ°å¢åŠ ã€‚å¹¶å‘æ•°è¿‡é«˜çš„æœåŠ¡å™¨ï¼š\nå¦‚æœä¸€ä¸ªæœåŠ¡å™¨çš„å¹¶å‘è¿æ¥æ•°è¿‡é«˜ï¼Œé…ç½®äº†AvailabilityFilteringRuleè§„åˆ™çš„å®¢æˆ·ç«¯ä¹Ÿä¼šå°†å…¶å¿½ç•¥ã€‚\nå¹¶å‘è¿æ¥æ•°çš„ä¸Šé™ï¼Œå¯ä»¥ç”±å®¢æˆ·ç«¯çš„\u0026lt;clientName\u0026gt;.\u0026lt;clientConfigNameSpace\u0026gt;.ActiveConnectionsLimitå±æ€§è¿›è¡Œé…ç½®ã€‚ WeightedResponseTimeRule ä¸ºæ¯ä¸€ä¸ªæœåŠ¡å™¨èµ‹äºˆä¸€ä¸ªæƒé‡å€¼ã€‚æœåŠ¡å™¨å“åº”æ—¶é—´è¶Šé•¿ï¼Œè¿™ä¸ªæœåŠ¡å™¨çš„æƒé‡å°±è¶Šå°ã€‚\nè¿™ä¸ªè§„åˆ™ä¼šéšæœºé€‰æ‹©æœåŠ¡å™¨ï¼Œè¿™ä¸ªæƒé‡å€¼ä¼šå½±å“æœåŠ¡å™¨çš„é€‰æ‹©ã€‚ ZoneAvoidanceRule ä»¥åŒºåŸŸå¯ç”¨çš„æœåŠ¡å™¨ä¸ºåŸºç¡€è¿›è¡ŒæœåŠ¡å™¨çš„é€‰æ‹©ã€‚\nä½¿ç”¨Zoneå¯¹æœåŠ¡å™¨è¿›è¡Œåˆ†ç±»ï¼ˆè¿™ä¸ªZoneå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœºæˆ¿ã€ä¸€ä¸ªæœºæ¶ç­‰ï¼‰ã€‚è€Œåå†å¯¹Zoneå†…çš„å¤šä¸ªæœåŠ¡åšè½®è¯¢ã€‚\nåœ¨é…ç½®æœåŠ¡æ³¨å†Œæ—¶ï¼ŒZoneçš„å€¼å¯ä»¥è¢«è®¾ç½®ï¼ˆæŒ‰ç…§æœåŠ¡å™¨æ‰€åœ¨çš„åœ°ç†ä½ç½®è¿›è¡Œè®¾ç½®ï¼‰ã€‚ä½¿ç”¨æ­¤è§„åˆ™ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¼šä¼˜å…ˆé€‰æ‹©è·Ÿè‡ªå·±åœ¨åŒä¸€ä¸ªZoneå†…çš„æœåŠ¡ï¼Œç„¶åå†åšè½®è¯¢ã€‚ BestAvailableRule å¿½ç•¥é‚£äº›çŸ­è·¯çš„æœåŠ¡å™¨ï¼Œå¹¶é€‰æ‹©å¹¶å‘æ•°è¾ƒä½çš„æœåŠ¡å™¨ã€‚ RandomRule éšæœºé€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„æœåŠ¡å™¨ã€‚ RetryRule é‡è¯•æœºåˆ¶çš„é€‰æ‹©é€»è¾‘ é…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ é…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™æœ‰ä¸¤ç§æ–¹å¼ï¼š\né…ç½®å…¨å±€é»˜è®¤çš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼š\nåœ¨ä»»ä½•ä¸€ä¸ªé…ç½®ç±»æˆ–æ–°å»ºä¸€ä¸ªé…ç½®ç±»ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªæ–°çš„Beanã€‚\n@Bean public IRule getLoadBalancerRule() { // æ­¤å¤„ä»¥RandomRuleä¸ºä¾‹ return new RandomRule(); } ä½¿ç”¨Beançš„æ–¹å¼é…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œæ— è®ºå½“å‰æœåŠ¡è¿œç¨‹è°ƒç”¨å“ªä¸ªæœåŠ¡æä¾›è€…ï¼Œéƒ½æ˜¯é‡‡ç”¨è¿™ä¸ªBeané‡Œé¢é…ç½®çš„è§„åˆ™ã€‚\nä¸ºæŒ‡å®šçš„æœåŠ¡æä¾›è€…é…ç½®å•ç‹¬çš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼š\nå¯ä»¥åœ¨application.ymlä¸­ä½¿ç”¨serverName.ribbon.NFLoadBalancerRuleClassNameé…ç½®æŒ‡å®šæœåŠ¡çš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œå®ƒçš„å€¼æ˜¯å…·ä½“è§„åˆ™çš„å®ç°ç±»çš„å…¨ç±»åã€‚\nä¾‹å¦‚åœ¨order-serviceä¸­é…ç½®user-serviceçš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼š\nuser-service: ribbon: # è´Ÿè½½å‡è¡¡è§„åˆ™ NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule Ribbon é¥¥é¥¿åŠ è½½ æ‡’åŠ è½½ï¼šç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰åŠ è½½ã€‚ é¥¥é¥¿åŠ è½½ï¼šåœ¨é¡¹ç›®å¯åŠ¨æ—¶å°±å¼€å§‹åŠ è½½ã€‚ Ribboné»˜è®¤æ˜¯é‡‡ç”¨æ‡’åŠ è½½ï¼Œå³ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰ä¼šå»åˆ›å»ºLoadBalanceClientï¼Œè¯·æ±‚æ—¶é—´ä¼šå¾ˆé•¿ã€‚è€Œé¥¥é¥¿åŠ è½½åˆ™ä¼šåœ¨é¡¹ç›®å¯åŠ¨æ—¶åˆ›å»ºï¼Œé™ä½ç¬¬ä¸€æ¬¡è®¿é—®çš„è€—æ—¶ã€‚\nå¯ä»¥åœ¨application.ymlä¸­ï¼Œé€šè¿‡ä¸‹é¢é…ç½®å¼€å¯Ribbonçš„é¥¥é¥¿åŠ è½½ï¼š\nribbon: eager-load: # é¥¥é¥¿åŠ è½½ enabled: true # å¼€å¯é¥¥é¥¿åŠ è½½ clients: user-service # æŒ‡å®šå¯¹userserviceè¿™ä¸ªæœåŠ¡é¥¥é¥¿åŠ è½½ ribbon.eager-load.clientsæ˜¯ä¸€ä¸ªé›†åˆç±»å‹ï¼Œå¦‚æœè¦å¯¹å¤šä¸ªæœåŠ¡æä¾›è€…å¼€å¯é¥¥é¥¿åŠ è½½ï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š\nribbon: eager-load: # é¥¥é¥¿åŠ è½½ enabled: true # å¼€å¯é¥¥é¥¿åŠ è½½ # å¯¹å¤šä¸ªæœåŠ¡æä¾›è€…å¼€å¯é¥¥é¥¿åŠ è½½ clients: - clinet-1-service - clinet-2-service - clinet-3-service ","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/eureka/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"Eureka"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å°½ç®¡ä½¿ç”¨äº†æ³¨å†Œä¸­å¿ƒæ¥è§£å†³URLçš„ç¡¬ç¼–ç ç­‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚ä»Šä½¿ç”¨RestTemplateè¿˜æ˜¯å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š\nä»£ç å¯è¯»æ€§å·®ï¼Œç¼–ç¨‹ä½“éªŒä¸ç»Ÿä¸€ï¼› å‚æ•°å¤æ‚URLéš¾ä»¥ç»´æŠ¤ã€‚ Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼çš„HTTPå®¢æˆ·ç«¯ï¼Œä½œç”¨äºæœåŠ¡æ¶ˆè´¹è€…ï¼Œåœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸­ä¸ºæœåŠ¡æä¾›è€…åˆ›å»ºä¸€ä¸ªHTTPè¿œç¨‹è°ƒç”¨ã€‚å®˜æ–¹åœ°å€ï¼šhttps://github.com/OpenFeign/feignã€‚å…¶ä½œç”¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„å®ç°HTTPè¯·æ±‚çš„å‘é€ï¼Œè§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ã€‚\nä½¿ç”¨ Feign ä½¿ç”¨Feignéå¸¸ç®€å•ï¼Œå¤§è‡´åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š\nåœ¨pom.xmlä¸­å¼•å…¥Feignå®¢æˆ·ç«¯ä¾èµ–ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-openfeign\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨é¡¹ç›®çš„å¯åŠ¨ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableFeignClientsä»¥å¼€å¯Feignçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ä¸ºorder-serviceï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰å¼€å¯Feignï¼š\n@EnableFeignClients @MapperScan(\u0026#34;asia.linner.demo.order.mapper\u0026#34;) @SpringBootApplication public class OrderApplication { public static void main(String[] args) { SpringApplication.run(OrderApplication.class, args); } } ä¸ºæœåŠ¡æä¾›è€…ç¼–å†™ä¸€ä¸ªFeignClientæ¥å£ã€‚ä¾‹å¦‚åœ¨order-serviceï¼ˆæ¶ˆè´¹è€…ï¼‰ä¸­ä¸ºuser-serviceï¼ˆæä¾›è€…ï¼‰ç¼–å†™FeignClientï¼š\n@FeignClient(\u0026#34;user-service\u0026#34;) public interface UserClient { @GetMapping(\u0026#34;/user/{id}\u0026#34;) User findById(@PathVariable Long id); } @FeignClientï¼šæ ‡æ³¨è¯¥æ¥å£ä¸ºFeignClientï¼Œå…¶valueå±æ€§æŒ‡å®šä¸€ä¸ªå®¢æˆ·ç«¯çš„æœåŠ¡åç§°ã€‚ @GetMappingï¼šä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒFeignä½¿ç”¨çš„æ˜¯Springçš„æ³¨è§£ï¼Œå…¶ç”¨æ³•å’Œä½œç”¨ä¸Springä¸­çš„ç±»ä¼¼ã€‚ FeignClientå¯ä»¥æ”¾åœ¨é¡¹ç›®ä¸­çš„clientsåŒ…ä¸‹ã€‚\né€šè¿‡FeignClientè¿œç¨‹è°ƒç”¨æœåŠ¡ã€‚ä¾‹å¦‚åœ¨order-serviceï¼ˆæ¶ˆè´¹è€…ï¼‰ä¸­é€šè¿‡FeignClientè¿œç¨‹è°ƒç”¨user-serviceï¼ˆæä¾›è€…ï¼‰ï¼š\n@Service public class OrderService { @Autowired private OrderMapper orderMapper; // æ³¨å…¥Feignå®¢æˆ·ç«¯ @Autowired private UserClient userClient; public Order queryOrderById(Long orderId) { // 1.æŸ¥è¯¢è®¢å• Order order = orderMapper.findById(orderId); // 2.åˆ©ç”¨Feignè¿œç¨‹è°ƒç”¨ User user = userClient.findById(order.getUserId()); // 3.å°è£…Useråˆ°Order order.setUser(user); // 4.è¿”å› return order; } } æ³¨æ„ï¼šä½¿ç”¨äº†FeignClientï¼ŒåŸæœ¬å£°æ˜RestTemplateçš„Beanå¯ä»¥åˆ é™¤æ‰ã€‚å› ä¸ºä½¿ç”¨FeignClientå¹¶ä¸éœ€è¦RestTemplateçš„Beanã€‚\nFeignClient é…ç½® Feignå¯ä»¥ä¿®æ”¹çš„é…ç½®å¦‚ä¸‹ï¼š\nç±»å‹ ä½œç”¨ è¯´æ˜ feign.Logger.Level ä¿®æ”¹æ—¥å¿—çº§åˆ« FeignåŒ…å«å››ç§ä¸åŒçš„æ—¥å¿—çº§åˆ«ï¼š\nNONEï¼šä¸è®°å½•ä»»ä½•æ—¥å¿—ã€‚BASICï¼šåŸºç¡€æ—¥å¿—çº§åˆ«ã€‚è®°å½•è¯·æ±‚æ–¹æ³•ã€URLä»¥åŠå“åº”çŠ¶æ€ä»£ç å’Œæ‰§è¡Œæ—¶é—´ã€‚HEADERSï¼šè®°å½•åŸºæœ¬ä¿¡æ¯ä»¥åŠè¯·æ±‚å’Œå“åº”å¤´ä¿¡æ¯ã€‚FULLï¼šå…¨æ—¥å¿—çº§åˆ«ã€‚è®°å½•åŸºæœ¬ä¿¡æ¯ä»¥åŠè¯·æ±‚å’Œå“åº”å¤´ä¿¡æ¯ã€è¯·æ±‚å’Œå“åº”ä½“ä¿¡æ¯ã€‚ feign.codec.Decoder å“åº”ç»“æœçš„è§£æå™¨ HTTPè¿œç¨‹è°ƒç”¨çš„ç»“æœåšè§£æï¼Œä¾‹å¦‚è§£æJSONå­—ç¬¦ä¸²ä¸ºJavaå¯¹è±¡ã€‚ feign.codec.Encoder è¯·æ±‚å‚æ•°ç¼–ç  å°†è¯·æ±‚å‚æ•°ç¼–ç ï¼Œä¾¿äºé€šè¿‡HTTPè¯·æ±‚å‘é€ã€‚ feign.Contract æ”¯æŒçš„æ³¨è§£æ ¼å¼ é»˜è®¤æ˜¯SpringMVCçš„æ³¨è§£ã€‚ feign.Retryer å¤±è´¥é‡è¯•æœºåˆ¶ è¯·æ±‚å¤±è´¥çš„é‡è¯•æœºåˆ¶ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰ï¼Œä¸è¿‡ä¼šä½¿ç”¨Ribbonçš„é‡è¯•ã€‚ ä¸€èˆ¬éœ€è¦é…ç½®çš„æ˜¯æ—¥å¿—çº§åˆ«ã€‚æœ‰ä»¥ä¸‹å‡ ç§é…ç½®æ–¹å¼ï¼š\nåœ¨application.ymlä¸­å¯¹å…¨å±€è¿›è¡Œé…ç½®ï¼š\nfeign: # Feigné…ç½® client: # å®¢æˆ·ç«¯é…ç½® config: default: # é»˜è®¤é…ç½®ï¼ˆå…¨å±€ç”Ÿæ•ˆï¼‰ logger-level: FULL # æ—¥å¿—çº§åˆ« åœ¨application.ymlä¸­å¯¹æŒ‡å®šçš„æœåŠ¡è¿›è¡Œé…ç½®ã€‚ä¾‹å¦‚åœ¨order-serviceä¸­å¯¹user-serviceè¿›è¡Œé…ç½®ï¼š\nfeign: # Feigné…ç½® client: # å®¢æˆ·ç«¯é…ç½® config: user-service: # æŒ‡å®šæœåŠ¡è¿›è¡Œé…ç½® logger-level: HEADERS # æ—¥å¿—çº§åˆ« åªéœ€è¦å°†å…¨å±€é»˜è®¤é…ç½®ä¸­çš„defaultæ”¹æˆæŒ‡å®šçš„æœåŠ¡åç§°å³å¯ã€‚\nå¦å¤–ä¸€ç§æ–¹æ³•æ˜¯åˆ›å»ºFeignClienté…ç½®ç±»ï¼š\nimport feign.Logger; /** * FeignClienté…ç½®ç±» */ public class DefaultFeignClientConfig { @Bean public Logger.Level getFeignLogLevel() { return Logger.Level.BASIC; } } æ³¨æ„ï¼šFeignClienté…ç½®ç±»ä¸­çš„Loggerå¯¼å…¥çš„æ˜¯feignåŒ…ä¸‹çš„Loggerã€‚å¹¶ä¸”åœ¨application.ymlä¸­çš„é…ç½®éœ€è¦æ³¨é‡Šæ‰ï¼Œå¦åˆ™å³ä½¿å¼€å¯äº†é…ç½®ï¼Œé…ç½®ç±»ä¸­çš„é…ç½®ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚å› ä¸ºapplication.ymlä¸­çš„é…ç½®ä¼šå°†é…ç½®ç±»ä¸­çš„é…ç½®è¦†ç›–æ‰ã€‚\nåˆ›å»ºå¥½äº†FeignClienté…ç½®ç±»ï¼Œè¿™äº›é…ç½®å¹¶ä¸ä¼šç”Ÿæ•ˆã€‚å› ä¸ºFeignClienté…ç½®ç±»ä¸­å¹¶æ²¡æœ‰ä»»ä½•ä¿¡æ¯å‘Šè¯‰Springè¿™ä¸ªæ˜¯ä¸ªé…ç½®ç±»ã€‚æ‰€ä»¥éœ€è¦å¯¹é…ç½®ç±»è¿›è¡Œå£°æ˜ã€‚\næœ‰ä¸¤ç§å£°æ˜æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨é¡¹ç›®çš„å¯åŠ¨ç±»ä¸­è¿›è¡Œå£°æ˜ï¼Œå‘Šè¯‰Springè¿™ä¸ªæ˜¯FeignClientçš„é…ç½®ç±»ã€‚å¹¶ä¸”è¿™ç§å£°æ˜æ–¹å¼ä¼šåœ¨å…¨å±€ç”Ÿæ•ˆã€‚å£°æ˜FeignClientçš„é…ç½®ç±»éœ€è¦åœ¨å¯åŠ¨ç±»ä¸­ä½¿ç”¨@EnableFeignClientsæ³¨è§£ï¼Œå¹¶ä¸ºå…¶defaultConfigurationå±æ€§æŒ‡å®šè¯¥FeignClientçš„é…ç½®ç±»çš„classã€‚ä¾‹å¦‚ä¸ºorder-serviceå£°æ˜è¯¥é…ç½®ç±»ï¼š\n@EnableFeignClients(defaultConfiguration = DefaultFeignClientConfig.class) // å…¨å±€é»˜è®¤çš„Feigné…ç½® @MapperScan(\u0026#34;asia.linner.demo.order.mapper\u0026#34;) @SpringBootApplication public class OrderApplication { public static void main(String[] args) { SpringApplication.run(OrderApplication.class, args); } } å¦å¤–ä¸€ç§æ–¹å¼æ˜¯ï¼Œåœ¨æŸä¸ªå…·ä½“æœåŠ¡FeignClientçš„æ¥å£ä¸­è¿›è¡Œå£°æ˜ã€‚è¯¥æ–¹å¼ä½¿ç”¨@FeignClientæ³¨è§£ï¼Œå¹¶ä¸ºå…¶configurationå±æ€§æŒ‡å®šä¸€ä¸ªFeignClienté…ç½®ç±»çš„classã€‚ä¾‹å¦‚åœ¨order-serviceä¸­ä¸ºuser-serviceå£°æ˜ä½¿ç”¨ä¸€ä¸ªUserFeignClientConfigé…ç½®ç±»ï¼ˆå‡è®¾å·²ç»åˆ›å»ºå¥½äº†è¯¥é…ç½®ç±»ï¼‰ï¼š\n@FeignClient(value = \u0026#34;user-service\u0026#34;, configuration = UserFeignClientConfig.class) public interface UserClient { @GetMapping(\u0026#34;/user/{id}\u0026#34;) User findById(@PathVariable Long id); } è®°å½•æ—¥å¿—ä¼šæŸè€—ä¸€éƒ¨åˆ†æ€§èƒ½ï¼Œæ‰€ä»¥é™¤äº†åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨FULLæ—¥å¿—çº§åˆ«ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¥½ä½¿ç”¨BASICæˆ–NONEæ—¥å¿—çº§åˆ«ä»¥å‡å°‘æ€§èƒ½æŸè€—ï¼ˆå°½é‡ä½¿ç”¨BASICï¼‰ã€‚\né…ç½®è¿æ¥æ±  æ¯æ¬¡HTTPè¯·æ±‚ï¼Œéƒ½éœ€è¦ä¸‰æ¬¡æ¡æ‰‹å»å»ºç«‹è¿æ¥ï¼Œå®Œæˆåå†æ–­å¼€è¿æ¥ã€‚åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œè¿™æ ·å¾€å¤åœ°æ“ä½œä¼šé€ æˆçš„æ€§èƒ½æŸè€—æ˜¯æ¯”è¾ƒå¤§çš„ã€‚å¼•å…¥è¿æ¥æ± æ˜¯ä¸ºäº†å‡å°‘è¿™ç§æ€§èƒ½çš„æŸè€—ã€‚\nFeignåº•å±‚å‘èµ·HTTPè¯·æ±‚ï¼Œä¾èµ–äºå…¶å®ƒçš„æ¡†æ¶ã€‚å…¶åº•å±‚å®¢æˆ·ç«¯å®ç°åŒ…æ‹¬ï¼š\nè¿æ¥æ±  è¯´æ˜ URLConnection é»˜è®¤å®ç°ï¼Œä¸æ”¯æŒè¿æ¥æ±  Apache HttpClient æ”¯æŒè¿æ¥æ±  OKHttp æ”¯æŒè¿æ¥æ±  æé«˜Feignçš„æ€§èƒ½ä¸»è¦æ‰‹æ®µå°±æ˜¯ä½¿ç”¨HttpClientæˆ–OKHttpè¿æ¥æ± ä»£æ›¿é»˜è®¤çš„URLConnectionã€‚\nè¿™é‡Œé€‰æ‹©ä½¿ç”¨HttpClientã€‚é¦–å…ˆåœ¨æ¶ˆè´¹è€…ä¸­å¼•å…¥å…¶ä¾èµ–ï¼š\n\u0026lt;!--HttpClientä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.github.openfeign\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;feign-httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; ç„¶ååœ¨application.ymlä¸­ä¿®æ”¹é…ç½®ï¼š\nfeign: # Feigné…ç½® httpclient: # HttpClienté…ç½® # å¦‚æœè¦ä½¿ç”¨OKHttpï¼Œåœ¨feign.okhttpä¸­åšç›¸åº”çš„é…ç½®å³å¯ enabled: true # æ”¯æŒHttpClientçš„å¼€å…³ # é»˜è®¤æ˜¯trueï¼Œä½†æ˜¯æ²¡å¼•å…¥ä¾èµ–ä¸ä¼šç”Ÿæ•ˆ max-connections: 200 # æœ€å¤§è¿æ¥æ•° max-connections-per-route: 50 # å•ä¸ªè¯·æ±‚è·¯å¾„çš„æœ€å¤§è¿æ¥æ•° æé«˜Feignçš„æ€§èƒ½è¿˜å¯ä»¥å¯¹è¿æ¥æ± å®¢æˆ·ç«¯çš„æœ€å¤§è¿æ¥æ•°æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œç›¸åº”çš„é…ç½®è°ƒæ•´ã€‚\næŠ½å–APIæ¥å£ ç”±äºFeignClientæ¥å£ä¸­ç¼–å†™çš„æ¥å£æ–¹æ³•ä¸å…¶å¯¹åº”çš„æä¾›è€…ä¸­çš„Controllerçš„æ–¹æ³•ä¸€è‡´ã€‚æ‰€ä»¥å¯ä»¥å¯¹FeignClientæ¥å£å’ŒControlleråšä¸€ä¸ªç»Ÿä¸€çš„APIæ¥å£æŠ½å–ï¼Œç„¶åå†é€šè¿‡é›†æˆçš„æ–¹å¼åˆ†åˆ«å»å®ç°FeignClientå’ŒControllerã€‚ä½†æ˜¯è¿™æ ·çš„æ–¹æ³•æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š\næœåŠ¡æä¾›æ–¹ã€æœåŠ¡æ¶ˆè´¹æ–¹ç´§è€¦åˆã€‚\nå‚æ•°åˆ—è¡¨ä¸­çš„æ³¨è§£æ˜ å°„å¹¶ä¸ä¼šç»§æ‰¿ï¼Œå› æ­¤Controllerä¸­å¿…é¡»å†æ¬¡å£°æ˜æ–¹æ³•ã€å‚æ•°åˆ—è¡¨ã€æ³¨è§£ã€‚\nåœ¨APIçˆ¶æ¥å£çš„æ–¹æ³•å‚æ•°ä¸­ä½¿ç”¨çš„æ³¨è§£ä¸ä¼šå¯¹Springï¼ˆä¹Ÿå°±æ˜¯Controllerï¼‰ç”Ÿæ•ˆã€‚å³@PathVariableã€@RequestParamè¿™æ ·çš„æ³¨è§£ï¼Œåœ¨APIçˆ¶æ¥å£ä¸­å£°æ˜äº†ï¼Œåœ¨å¯¹åº”çš„Controllerä¸­ä¹Ÿéœ€è¦å†æ¬¡å£°æ˜ã€‚\nä»¥user-serviceä¸ºä¾‹ï¼š\nAPIçˆ¶æ¥å£ï¼š\npublic interface UserAPI { @GetMapping(\u0026#34;/user/{id}\u0026#34;) User findById(@PathVariable Long id); } FeignClientï¼š\n@FeignClient(\u0026#34;user-service\u0026#34;) public interface UserClient {} Controllerï¼š\n@RestController public interface UserAPI { User findById(@PathVariable Long id) { /* ä¸šåŠ¡ä»£ç ... */ } } è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ç®€å•ã€å®ç°äº†ä»£ç å…±äº«ï¼Œéµå¾ªäº†é¢å‘å¥‘çº¦çš„ç¼–ç¨‹æ€æƒ³ã€‚\næŠ½å– feign-api æ¨¡å— å¦å¤–ä¸€ç§æ–¹å¼æ˜¯å°†æ‰€æœ‰çš„æä¾›è€…å¯¹åº”çš„FeignClientæŠ½å–ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼Œå¹¶ä¸”æŠŠæ¥å£æœ‰å…³çš„POJOã€é»˜è®¤çš„Feigné…ç½®éƒ½æ”¾åˆ°è¿™ä¸ªæ¨¡å—ä¸­ï¼Œé€šè¿‡Mavenå¼•å…¥ä¾èµ–çš„æ–¹å¼æä¾›ç»™æ‰€æœ‰æ¶ˆè´¹è€…ä½¿ç”¨ã€‚\nå‡è®¾æœ‰å¤šä¸ªæ¶ˆè´¹è€…éƒ½éœ€è¦è°ƒç”¨åˆ°åŒä¸€ä¸ªæä¾›è€…ã€‚å¦‚æœè®©æ¶ˆè´¹è€…åˆ†åˆ«å®ç°è‡ªå·±çš„FeignClientï¼Œä¸ä»…ä¼šæœ‰è®¸å¤šå†—ä½™çš„ä»£ç ï¼Œè€Œä¸”ä¹Ÿä¸åˆ©äºç»´æŠ¤ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼å°†FeignClientæŠ½å–å‡ºæ¥ï¼Œå¯ä»¥ç”±å®ç°æä¾›è€…çš„ç¨‹åºå‘˜æ¥æä¾›å¯¹åº”çš„feign-apiå®ç°ã€‚\nè¿™æ ·çš„æ–¹æ³•ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œåœ¨ä½¿ç”¨ä¸€ä¸ªæä¾›è€…çš„æ¥å£æ—¶ï¼Œéœ€è¦åŒæ—¶å¼•å…¥è¯¥æä¾›è€…çš„æ‰€æœ‰æ¥å£å’Œå…¶å®ƒæä¾›è€…çš„æ‰€æœ‰æ¥å£ã€‚\næŠ½å–feign-apiçš„æ­¥éª¤ï¼š\nåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—ï¼Œå‘½åä¸ºfeign-apiã€‚\nåœ¨feign-apiä¸­å¼•å…¥Feignçš„Staterä¾èµ–ï¼š\n\u0026lt;!-- Feignå®¢æˆ·ç«¯ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-openfeign\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; å¦‚æœè¦é»˜è®¤ä½¿ç”¨HttpClientè¿æ¥æ± ï¼Œè¿˜éœ€è¦å¯¼å…¥å…¶åæ ‡ï¼š\n\u0026lt;!--HttpClientä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;io.github.openfeign\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;feign-httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; æ³¨ï¼šå¼•å…¥åæ ‡æ˜¯ä¸ºäº†åœ¨æ¶ˆè´¹è€…çš„pom.xmlä¸­å¯ä»¥ä¸åŒæ˜¾å¼åœ°å¯¼å…¥HttpClientçš„ä¾èµ–ï¼ˆä½¿ç”¨Mavençš„ä¾èµ–ä¼ é€’ï¼‰ï¼Œä½†æ˜¯HttpClientçš„é…ç½®è¿˜æ˜¯å¾—åœ¨æ¶ˆè´¹è€…ä¸­çš„application.ymlä¸­é…ç½®ã€‚\nå¦‚æœåœ¨feign-apiä¸­åˆ›å»ºapplication.ymlä¸­å¹¶é…ç½®HttpClientï¼Œè¿™æ ·çš„é…ç½®æ˜¯ä¸ä¼šåœ¨æ¶ˆè´¹è€…ä¸­ç”Ÿæ•ˆçš„ã€‚å› ä¸ºfeign-apiæ²¡æœ‰å¯åŠ¨ç±»ï¼Œè€Œä¸”æ¶ˆè´¹è€…çš„å¯åŠ¨ç±»ä¹Ÿä¸ä¼šä½¿ç”¨feign-apiä¸­application.ymlçš„é…ç½®ã€‚é™¤éä½¿ç”¨é…ç½®ç±»ç¼–å†™å¯¹HttpClientçš„é…ç½®ï¼Œå¹¶ä¸”åœ¨æ¶ˆè´¹è€…ä¸­å¯ç”¨è¿™ä¸ªé…ç½®ç±»ã€‚\nå°†æ‰€æœ‰æ¶ˆè´¹è€…çš„FeignClientã€POJOå’ŒDefaultFeignClientConfigéƒ½æŠ½å–åˆ°feign-apiæ¨¡å—ä¸­ã€‚\næ³¨ï¼šDefaultFeignClientConfigçš„æŠ½å–æ˜¯å¯¹æ‰€æœ‰çš„FeignClientåšä¸€ä¸ªé»˜è®¤çš„é…ç½®æŠ½å–ã€‚\nåœ¨æ¶ˆè´¹è€…ä¸­å¼•å…¥feign-apiä¾èµ–ã€‚\nåœ¨æ¶ˆè´¹è€…ä¸­ä½¿ç”¨feign-apiæä¾›çš„APIæ¥å£ã€‚\næ³¨ï¼šéœ€è¦ä¿®æ”¹æ¶ˆè´¹è€…çš„å¯åŠ¨ç±»ï¼Œåœ¨æ¶ˆè´¹è€…çš„å¯åŠ¨ç±»ä¸Šä½¿ç”¨@EnableFeignClientsæ³¨è§£çš„basePackagesæˆ–clientså±æ€§æŒ‡å®šæ‰«æçš„FeignClientåŒ…æˆ–å…·ä½“çš„FeignClientç±»ï¼Œè®©æ¶ˆè´¹è€…çš„å¯åŠ¨ç±»èƒ½æ‰«æåˆ°feign-apiçš„FeignClientã€‚\nä»¥order-serviceï¼ˆæ¶ˆè´¹è€…ï¼‰å’Œuser-serviceï¼ˆæä¾›è€…ï¼‰ä¸ºä¾‹ï¼š\nåˆ›å»ºfeign-apiï¼Œå¹¶å¯¼å…¥Feignä¾èµ–ã€‚\nå°†åŸæœ¬ç¼–å†™åœ¨order-serviceä¸­çš„UserClientã€Userå’ŒDefaultFeignClientConfigæŠ½å–å‡ºæ¥ï¼Œæ”¾åœ¨feign-apiä¸­å¯¹åº”çš„åŒ…ä¸‹ã€‚ä¾‹å¦‚ï¼š\nasia.linner.demo.feignï¼ˆfeign-apiçš„åŒ…åï¼‰ä¸‹çš„åŒ…ç»“æ„:\nclientsï¼š UserClient.java pojoï¼š User.java configï¼š DefaultFeignClientConfig.java æŠ½å–å®Œæˆåï¼ŒåŸæœ¬åœ¨order-serviceä¸­çš„UserClientã€Userå’ŒDefaultFeignClientConfigéƒ½å¯ä»¥åˆ é™¤ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„å¤åˆ¶åœ¨feign-apiä¸­çš„UserClientã€Userå’ŒDefaultFeignClientConfigå®ƒä»¬çš„åŒ…åè¦æ”¹æˆfeign-apiçš„åŒ…åã€‚\nåœ¨order-serviceä¸­å¯¼å…¥feign-apiï¼š\n\u0026lt;!--å¼•å…¥æŠ½å–çš„feign-apiæ¨¡å—--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;asia.linner.demo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;feign-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨order-serviceä¸­çš„Feignä¾èµ–å¯ä»¥åˆ é™¤ï¼›å¦‚æœæœ‰åœ¨feign-apiä¸­å¯¼å…¥å¹¶é…ç½®HttpClientï¼ŒHttpClientçš„ä¾èµ–ä¹Ÿå¯ä»¥åˆ é™¤ã€‚éœ€è¦æ³¨æ„å¼•å…¥order-serviceä¸­çš„UserClientã€Userå’ŒDefaultFeignClientConfigå®ƒä»¬çš„åŒ…åè¦æ”¹æˆfeign-apiçš„åŒ…åã€‚\nè®©order-serviceçš„å¯åŠ¨ç±»æ‰«æFeignClientã€‚\nå› ä¸ºfeign-apiå’Œorder-serviceçš„åŒ…åå¹¶ä¸ç›¸åŒï¼ˆå¦‚asia.linner.demo.feignå’Œasia.linner.demo.orderï¼‰ï¼Œæ‰€ä»¥åœ¨æ²¡æœ‰æ‰«æåŒ…æŒ‡å®šçš„æƒ…å†µä¸‹order-serviceçš„å¯åŠ¨ç±»å¹¶ä¸èƒ½æ‰«æåˆ°feign-apiä¸­çš„UserClientï¼Œæ‰€ä»¥ä¼šå¯¼è‡´order-serviceä¸­çš„UserClientæ³¨å…¥å¤±è´¥ã€‚\nFeignçš„@EnableFeignClientsæ³¨è§£æä¾›äº†ä¸¤ç§æ–¹å¼æ¥è®©æ¶ˆè´¹è€…çš„å¯åŠ¨ç±»æ‰«æåˆ°FeignClientï¼š\nbasePackagesï¼š\n@EnableFeignClients(defaultConfiguration = DefaultFeignClientConfig.class, basePackages = \u0026#34;asia.linner.demo.feign.clients\u0026#34; // æ‰«ææ•´ä¸ªclientsåŒ… ) clientsï¼š\n@EnableFeignClients(defaultConfiguration = DefaultFeignClientConfig.class, clients = {UserClient.class} // æŒ‡å®šéœ€è¦åŠ è½½çš„FeignClientæ¥å£ ) clientså±æ€§çš„ç±»å‹æ˜¯ä¸€ä¸ªclassæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥æŒ‡å®šå¤šä¸ªFeignClientã€‚æ¨èä½¿ç”¨è¯¥æ–¹å¼ã€‚\nåœ¨ä¸Šè¿°æ–¹æ³•ä¸­é€‰ä¸€ç§ï¼Œç„¶åä¿®æ”¹order-serviceçš„å¯åŠ¨ç±»å³å¯ã€‚\n","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/feign/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"Feign"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç½‘å…³ ç½‘å…³æ˜¯æ‰€æœ‰å¾®æœåŠ¡çš„ç»Ÿä¸€å…¥å£ã€‚ç½‘å…³çš„æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§ï¼š\nè¯·æ±‚è·¯ç”±ï¼šä¸€åˆ‡è¯·æ±‚éƒ½å¿…é¡»å…ˆç»è¿‡ç½‘å…³ï¼Œä½†ç½‘å…³ä¸å¤„ç†ä¸šåŠ¡ï¼Œè€Œæ˜¯æ ¹æ®æŸç§è§„åˆ™ï¼ŒæŠŠè¯·æ±‚è½¬å‘åˆ°æŸä¸ªå¾®æœåŠ¡ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšè·¯ç”±ã€‚å½“è·¯ç”±çš„ç›®æ ‡æœåŠ¡æœ‰å¤šä¸ªæ—¶ï¼Œè¿˜éœ€è¦åšè´Ÿè½½å‡è¡¡ã€‚ æƒé™æ§åˆ¶ï¼šç½‘å…³ä½œä¸ºå¾®æœåŠ¡å…¥å£ï¼Œéœ€è¦æ ¡éªŒç”¨æˆ·æ˜¯æ˜¯å¦æœ‰è¯·æ±‚èµ„æ ¼ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œæ‹¦æˆªã€‚ é™æµï¼šå½“è¯·æ±‚æµé‡è¿‡é«˜æ—¶ï¼Œåœ¨ç½‘å…³ä¸­æŒ‰ç…§ä¸‹æµçš„å¾®æœåŠ¡èƒ½å¤Ÿæ¥å—çš„é€Ÿåº¦æ¥æ”¾è¡Œè¯·æ±‚ï¼Œé¿å…æœåŠ¡å‹åŠ›è¿‡å¤§ã€‚ åœ¨SpringCloudä¸­ç½‘å…³çš„å®ç°åŒ…æ‹¬ä¸¤ç§ï¼š\nGatewayï¼šåŸºäºSpring5ä¸­æä¾›çš„WebFluxï¼Œå±äºå“åº”å¼ç¼–ç¨‹çš„å®ç°ï¼Œå…·å¤‡æ›´å¥½çš„æ€§èƒ½ã€‚ Zuulï¼šåŸºäºServletçš„å®ç°ï¼Œå±äºé˜»å¡å¼ç¼–ç¨‹ã€‚ Spring Cloud Gatewayæ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•æœ‰æ•ˆçš„ç»Ÿä¸€çš„APIè·¯ç”±ç®¡ç†æ–¹å¼ã€‚\nåˆ›å»º Gateway æœåŠ¡ åˆ›å»ºä¸€ä¸ªGatewayæœåŠ¡çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºä¸€ä¸ªæ–°çš„gatewayæ¨¡å—ã€‚\nå¯¼å…¥Gatewayæ‰€éœ€ä¾èµ–ï¼š\n\u0026lt;!-- NacosæœåŠ¡æ³¨å†Œå‘ç°ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-alibaba-nacos-discovery\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- ç½‘å…³Gatewayä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-gateway\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; å› ä¸ºGatewayå±äºä¸€ä¸ªæœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºå¹¶ç¼–å†™GatewayApplicationå¯åŠ¨ç±»ï¼š\n@SpringBootApplication public class GatewayApplication { public static void main(String[] args) { SpringApplication.run(GatewayApplication.class, args); } } åœ¨é…ç½®æ–‡ä»¶application.ymlä¸­ç¼–å†™Gatewayç›¸å…³é…ç½®ï¼š\nserver: port: 10010 # ç½‘å…³ç«¯å£ spring: application: name: gateway # æœåŠ¡åç§° cloud: nacos: # Nacosé…ç½® server-addr: localhost:8848 gateway: routes: # ç½‘å…³è·¯ç”±é…ç½®ï¼ˆæ˜¯æ•°ç»„ç±»å‹ï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼‰ - id: user-service # è·¯ç”±IDï¼Œè‡ªå®šä¹‰ï¼Œåªè¦å”¯ä¸€å³å¯ # uriæ”¯æŒä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼Œæ¨èä½¿ç”¨lbæ–¹å¼ # uri: http://localhost:8081 # è·¯ç”±çš„ç›®æ ‡åœ°å€ï¼Œä½¿ç”¨httpè¡¨ç¤ºå›ºå®šåœ°å€ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ uri: lb://user-service # è·¯ç”±çš„ç›®æ ‡åœ°å€ # lbæ˜¯Load Balanceçš„ç¼©å†™ï¼Œè¡¨ç¤ºè´Ÿè½½å‡è¡¡ # åé¢æ˜¯æœåŠ¡åœ°å€ predicates: # è·¯ç”±æ–­è¨€ï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦ç¬¦åˆè·¯ç”±è§„åˆ™çš„æ¡ä»¶ - Path=/user/** # è·¯å¾„æ–­è¨€ï¼ŒåŒ¹é…\u0026#34;/user/\u0026#34;å¼€å¤´çš„è¯·æ±‚ - id: order-service uri: lb://${spring.cloud.gateway.routes[1].id} # é€šè¿‡yamlå˜é‡è®¾ç½®uri predicates: - Path=/order/** - Before=2037-01-20T17:42:47.789-07:00[America/Denver] å¯åŠ¨GatewayApplicationï¼Œä½¿ç”¨localhost:10010æ¥è®¿é—®ç³»ç»Ÿä¸Šçš„æœåŠ¡ã€‚\nä¾‹å¦‚è®¿é—®user-serviceä¸Šçš„/user/{id}è¯·æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨http://localhost:10010/user/{id}è®¿é—®ã€‚è·å–idä¸º1çš„userå°±è®¿é—®http://localhost:10010/user/1ã€‚\nå¦‚ä¸Šæ‰€è¿°ï¼Œè®¿é—®order-serviceä¸Šçš„/order/{id}å°±ä½¿ç”¨http://localhost:10010/order/{id}è®¿é—®ã€‚\nä½¿ç”¨ç½‘å…³å°±å¯ä»¥é€šè¿‡ç½‘å…³æ¥è®¿é—®æœåŠ¡ä¸­çš„èµ„æºï¼Œå¹¶ä¸”è¿˜èƒ½åšåˆ°è´Ÿè½½å‡è¡¡å’Œæƒé™æ§åˆ¶ç­‰ã€‚\nè·¯ç”±é…ç½® Gatewayçš„è·¯ç”±é…ç½®å¦‚ä¸Šæ‰€ç¤ºï¼š\ncloud: gateway: routes: # ç½‘å…³è·¯ç”±é…ç½®ï¼ˆæ˜¯æ•°ç»„ç±»å‹ï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼‰ - id: user-service # è·¯ç”±IDï¼Œè‡ªå®šä¹‰ï¼Œåªè¦å”¯ä¸€å³å¯ # uriæ”¯æŒä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼Œæ¨èä½¿ç”¨lbæ–¹å¼ # uri: http://localhost:8081 # è·¯ç”±çš„ç›®æ ‡åœ°å€ï¼Œä½¿ç”¨httpè¡¨ç¤ºå›ºå®šåœ°å€ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ uri: lb://user-service # è·¯ç”±çš„ç›®æ ‡åœ°å€ # lbæ˜¯Load Balanceçš„ç¼©å†™ï¼Œè¡¨ç¤ºè´Ÿè½½å‡è¡¡ # åé¢æ˜¯æœåŠ¡åœ°å€ predicates: # è·¯ç”±æ–­è¨€ï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦ç¬¦åˆè·¯ç”±è§„åˆ™çš„æ¡ä»¶ - Path=/user/** # è·¯å¾„æ–­è¨€ï¼ŒåŒ¹é…\u0026#34;/user/\u0026#34;å¼€å¤´çš„è¯·æ±‚ - id: order-service uri: lb://${spring.cloud.gateway.routes[1].id} # é€šè¿‡yamlå˜é‡è®¾ç½®uri predicates: - Path=/order/** - Before=2037-01-20T17:42:47.789-07:00[America/Denver] cloud.gateway.routesï¼šGatewayçš„ç½‘å…³è·¯ç”±é…ç½®ï¼Œæ•°ç»„ç±»å‹ã€‚å…¶å…ƒç´ å¯ä»¥æœ‰idã€uriå’Œpredicatesç­‰å±æ€§ã€‚\nidå±æ€§ï¼šæ ‡è¯†ä¸€ä¸ªæœåŠ¡çš„è·¯ç”±é…ç½®çš„å”¯ä¸€IDã€‚å¯ç”±ç”¨æˆ·è‡ªå®šä¹‰ï¼Œä½†åœ¨å½“å‰Gatewayç½‘å…³æœåŠ¡ä¸­ä¸å¯é‡å¤å­˜åœ¨ã€‚\nuriå±æ€§ï¼šæ ‡è¯†å½“å‰æœåŠ¡è·¯ç”±é…ç½®çš„ç›®æ ‡åœ°å€ã€‚æœ‰ä¸¤ç§é…ç½®æ–¹å¼ï¼š\nhttpï¼šä½¿ç”¨http://å‰ç¼€ï¼Œè¡¨ç¤ºå½“å‰çš„åœ°å€æ˜¯å›ºå®šåœ°å€ã€‚ä¾‹å¦‚http://localhost:8081ã€‚\nlbï¼šä½¿ç”¨lb://å‰ç¼€ï¼Œè¡¨ç¤ºå½“å‰çš„åœ°å€æ˜¯éå›ºå®šçš„ï¼Œéœ€è¦åšè´Ÿè½½å‡è¡¡ã€‚ä¾‹å¦‚ï¼šlb://user-serviceã€‚\nlbæ˜¯Load Balanceçš„ç¼©å†™ï¼Œè¡¨ç¤ºè´Ÿè½½å‡è¡¡ã€‚\npredicateså±æ€§ï¼šè·¯ç”±æ–­è¨€ï¼Œæ ¹æ®Gatewayæä¾›çš„æ–­è¨€å·¥å‚ï¼Œå¯¹ç»è¿‡ç½‘å…³çš„è¯·æ±‚è¿›è¡Œæƒé™çš„æ–­è¨€ï¼ˆä¹Ÿå°±æ˜¯åˆ¤æ–­æœ‰æ²¡æœ‰æƒé™å¯ä»¥è®¿é—®è¯¥æœåŠ¡ï¼‰ã€‚predicatesæ˜¯æ•°ç»„å±æ€§ï¼Œå¯ä»¥é…ç½®å¤šä¸ªè§„åˆ™ã€‚\næ–­è¨€å·¥å‚ åœ¨é…ç½®æ–‡ä»¶ä¸­å†™çš„æ–­è¨€è§„åˆ™ï¼Œä¼šè¢«Predicate Factoryè¯»å–å¹¶å¤„ç†ï¼Œè½¬å˜ä¸ºè·¯ç”±åˆ¤æ–­çš„æ¡ä»¶ã€‚\nä¾‹å¦‚ä¸Šæ–¹Path=/user/**å°±æ˜¯æŒ‰ç…§è·¯å¾„åŒ¹é…ï¼Œæ–­è¨€åªæœ‰/user/**è¿™ä¸ªè¯·æ±‚æ–¹å¼æ‰èƒ½é€šè¿‡ç½‘å…³è®¿é—®åˆ°user-serviceã€‚order-serviceä¸­çš„Path=/order/**åŒç†ã€‚è¿™ä¸¤æ¡è§„åˆ™æ˜¯ç”±org.springframework.cloud.gateway.handler.predicate.PathRoutePredicateFactoryç±»æ¥å¤„ç†çš„ã€‚\nåœ¨Gatewayä¸­è¿˜æœ‰ä»¥ä¸‹æ–­è¨€å·¥å‚ï¼š\nåç§° è¯´æ˜ ç¤ºä¾‹ After æ˜¯æŸä¸ªæ—¶é—´ç‚¹åçš„è¯·æ±‚ã€‚ After=2037-01-20T17:42:47.789-07:00[America/Denver] Before æ˜¯æŸä¸ªæ—¶é—´ç‚¹ä¹‹å‰çš„è¯·æ±‚ã€‚ Before=2031-04-13T15:14:47.433+08:00[Asia/Shanghai] Between æ˜¯æŸä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹å‰çš„è¯·æ±‚ã€‚ Between=2037-01-20T17:42:47.789-07:00[America/Denver], 2037-01-21T17:42:47.789-07:00[America/Denver] Cookie è¯·æ±‚å¿…é¡»åŒ…å«æŸäº›cookieã€‚ Cookie=chocolate, ch.p Header è¯·æ±‚å¿…é¡»åŒ…å«æŸäº›headerã€‚ Header=X-Request-Id, \\d+ Host è¯·æ±‚å¿…é¡»æ˜¯è®¿é—®æŸä¸ªhostï¼ˆåŸŸåï¼‰ã€‚ Host=**.somehost.org,**.anotherhost.org Method è¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯æŒ‡å®šæ–¹å¼ã€‚ Method=GET,POST Path è¯·æ±‚è·¯å¾„å¿…é¡»ç¬¦åˆæŒ‡å®šè§„åˆ™ã€‚ Path=/red/{segment},/blue/** Query è¯·æ±‚å‚æ•°å¿…é¡»åŒ…å«æŒ‡å®šå‚æ•°ã€‚ Query=name, Jackï¼Œ\næˆ–è€…Query=name RemoteAddr è¯·æ±‚è€…çš„ipå¿…é¡»æ˜¯æŒ‡å®šèŒƒå›´ã€‚ RemoteAddr=192.168.1.1/24 Weight æƒé‡å¤„ç†ã€‚ è·¯ç”±è¿‡æ»¤å™¨ GatewayFilteræ˜¯ç½‘å…³ä¸­æä¾›çš„ä¸€ç§è¿‡æ»¤å™¨ï¼Œå¯ä»¥å¯¹è¿›å…¥ç½‘å…³çš„è¯·æ±‚å’Œå¾®æœåŠ¡è¿”å›çš„å“åº”åšå¤„ç†ã€‚\nSpringæä¾›äº†31ç§ä¸åŒçš„è·¯ç”±è¿‡æ»¤å™¨å·¥å‚ã€‚å¸¸ç”¨çš„æœ‰ï¼š\nåç§° è¯´æ˜ AddRequestHeader ç»™å½“å‰è¯·æ±‚æ·»åŠ ä¸€ä¸ªè¯·æ±‚å¤´ã€‚ RemoveRequestHeader ç§»é™¤è¯·æ±‚ä¸­çš„ä¸€ä¸ªè¯·æ±‚å¤´ã€‚ AddResponseHeader ç»™å“åº”ç»“æœä¸­æ·»åŠ ä¸€ä¸ªå“åº”å¤´ã€‚ RemoveResponseHeader ä»å“åº”ç»“æœä¸­ç§»é™¤æœ‰ä¸€ä¸ªå“åº”å¤´ã€‚ RequestRateLimiter é™åˆ¶è¯·æ±‚çš„æµé‡ã€‚ GatewayFilterçš„ä½¿ç”¨ä¹Ÿæ˜¯åœ¨application.ymlä¸­é…ç½®ï¼š\nspring: cloud: gateway: routes: - id: user-service uri: lb://user-service predicates: - Path=/user/** filters: # è¿‡æ»¤å™¨ - AddRequestHeader=Hello, Hello Spring Cloud Gateway! # æ·»åŠ è¯·æ±‚å¤´ DefaultFilter ä¸Šæ–¹æ‰€ç¤ºçš„GatewayFilteråªæœ‰åœ¨è®¿é—®user-serviceæ—¶æ‰èƒ½ç”Ÿæ•ˆã€‚Spring Cloud Gatewayè¿˜æä¾›äº†å…¨å±€é»˜è®¤çš„GatewayFilteré…ç½®æ–¹å¼ï¼š\nspring: cloud: gateway: routes: - id: user-service uri: lb://userservice predicates: - Path=/user/** - id: order-service uri: lb://order-service predicates: - Path=/order/** default-filters: # é»˜è®¤è¿‡æ»¤é¡¹ - AddRequestHeader=Truth, Itcast is freaking awesome! è¿™ç§æ–¹å¼æ— è®ºè®¿é—®çš„æ˜¯user-serviceè¿˜æ˜¯order-serviceéƒ½ä¼šç”Ÿæ•ˆã€‚\nåœ¨Spring Cloud Gatewayçš„å®˜æ–¹æ–‡æ¡£ä¸­å¯ä»¥æŸ¥æ‰¾æ›´å¤šè·¯ç”±å·¥å‚åŠå…¶ä½¿ç”¨æ–¹å¼ï¼š\nGlobalFilter GlobalFilterçš„ä½œç”¨ä¸GatewayFilterçš„ä½œç”¨ä¸€æ ·ï¼Œä¹Ÿæ˜¯å¤„ç†ä¸€åˆ‡è¿›å…¥ç½‘å…³çš„è¯·æ±‚å’Œå¾®æœåŠ¡å“åº”ã€‚åŒºåˆ«åœ¨äºGatewayFilteré€šè¿‡é…ç½®å®šä¹‰ï¼Œå¤„ç†é€»è¾‘æ˜¯å›ºå®šçš„ï¼›è€ŒGlobalFilterçš„é€»è¾‘éœ€è¦è‡ªå·±å†™ä»£ç å®ç°ï¼Œå¯ä»¥è‡ªå®šä¹‰å®ç°ã€‚\nGlobalFilteræ¥å£ï¼š\npublic interface GlobalFilter { /** * å¤„ç†å½“å‰è¯·æ±‚ï¼Œæœ‰å¿…è¦çš„è¯é€šè¿‡{@link GatewayFilterChain}å°†è¯·æ±‚äº¤ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨å¤„ç† * @param exchange è¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œé‡Œé¢å¯ä»¥è·å–Requestã€Responsesç­‰ä¿¡æ¯ * @param chain ç”¨æ¥æŠŠè¯·æ±‚å§”æ‰˜ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼ˆæ”¾è¡Œè¯·æ±‚ï¼‰ * @return {@code Mono\u0026lt;Void\u0026gt;} è¿”å›ä¸€ä¸ªå½“å‰è¿‡æ»¤å™¨ä¸šåŠ¡ç»“æŸçš„æ ‡ç¤º */ Mono\u0026lt;Void\u0026gt; filter(ServerWebExchange exchange, GatewayFilterChain chain); } æ³¨ï¼šGlobalFilteræ˜¯åœ¨org.springframework.cloud.gateway.filteråŒ…ä¸‹çš„ï¼Œæ˜¯å±äºSpring Cloud Gatewayä¸­çš„ä¸€éƒ¨åˆ†ã€‚\nåœ¨Filterä¸­ç¼–å†™è‡ªå®šä¹‰é€»è¾‘ï¼Œå¯ä»¥å®ç°ç™»å½•çŠ¶æ€åˆ¤æ–­ã€æƒé™æ ¡éªŒã€è¯·æ±‚é™æµç­‰ç­‰åŠŸèƒ½ã€‚\nå‡è®¾å®ç°ä¸€ä¸ªç®€å•çš„ç”¨æˆ·æƒé™åˆ¤æ–­ï¼Œå…¶åˆ¤æ–­é€»è¾‘å¦‚ä¸‹ï¼š\nè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦æœ‰authorizationï¼› authorizationå‚æ•°å€¼æ˜¯å¦ä¸ºadminã€‚ å¦‚æœåŒæ—¶æ»¡è¶³åˆ™æ”¾è¡Œï¼Œå¦åˆ™æ‹¦æˆªã€‚\n/** * è¯†åˆ«ç”¨æˆ·æƒé™ */ @Order(-1) // é¡ºåºæ³¨è§£ï¼ˆå®šä¹‰è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåºï¼‰ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ @Component public class AuthorizeFilter implements GlobalFilter { @Override public Mono\u0026lt;Void\u0026gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { // 1. è·å–è¯·æ±‚å‚æ•° ServerHttpRequest request = exchange.getRequest(); MultiValueMap\u0026lt;String, String\u0026gt; params = request.getQueryParams(); // 2. è·å–å‚æ•°ä¸­çš„ authorization String auth = params.getFirst(\u0026#34;authorization\u0026#34;); // 3. åˆ¤æ–­å‚æ•°å€¼æ˜¯å¦ç­‰äº admin if (\u0026#34;admin\u0026#34;.equals(auth)) { // 4. æ˜¯åˆ™æ”¾è¡Œ // chain.filter()çš„è¿”å›å€¼æ˜¯Mono\u0026lt;Void\u0026gt; return chain.filter(exchange); } // 5. å¦åˆ™æ‹¦æˆª ServerHttpResponse response = exchange.getResponse(); // 5.1. è®¾ç½®çŠ¶æ€ç  // HttpStatus.UNAUTHORIZED è¡¨ç¤ºç”¨æˆ·æœªè®¤è¯ï¼ŒçŠ¶æ€ç ä¸º401 response.setStatusCode(HttpStatus.UNAUTHORIZED); // 5.2. æ‹¦æˆªè¯·æ±‚ // setComplete()çš„è¿”å›ä¹Ÿæ˜¯Mono\u0026lt;Void\u0026gt; return response.setComplete(); } } å®šä¹‰GlobalFilterçš„è¿‡ç¨‹å¯æ€»ç»“ä¸ºï¼š\nç»§æ‰¿GlobalFilteræ¥å£ã€‚\nå®ç°GlobalFilter.filter()æ–¹æ³•ã€‚\nåœ¨å®ç°GlobalFilter.filter()æ—¶ï¼Œå¯ä»¥ä½¿ç”¨exchangeå¯¹è±¡è·å–è¯·æ±‚çš„Requestã€Responseã€Attributeã€Sessionã€FormDataç­‰ä¿¡æ¯ã€‚å…¶ä¸­è·å–åˆ°çš„Requestå’ŒResponseåˆ†åˆ«æ˜¯ServerHttpRequestå’ŒServerHttpResponseå¯¹è±¡ã€‚\nä½¿ç”¨exchangeè·å–åˆ°çš„å¯¹è±¡ä¸ä½¿ç”¨æ ‡å‡†çš„ServletAPIè·å–åˆ°çš„ä¸ä¸€æ ·ã€‚\næ”¾è¡Œèµ„æºä½¿ç”¨çš„æ˜¯chainå¯¹è±¡ã€‚è¯¥å¯¹è±¡ä»…æœ‰ä¸€ä¸ªæ–¹æ³•filter()ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªServerWebExchangeå¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯exchangeï¼Œç›¸å½“äºå°†exchangeä¼ ç»™ä¸‹ä¸€çº§Filterï¼‰ï¼Œå¹¶è¿”å›ç»™ä¸Šå±‚Filterä¸€ä¸ªMono\u0026lt;Void\u0026gt;å¯¹è±¡ã€‚æ”¾è¡Œèµ„æºæ—¶æ ‡å‡†çš„ç”¨æ³•æ˜¯ï¼š\nreturn chain.filter(exchange); æ‹¦æˆªèµ„æºä½¿ç”¨çš„æ˜¯ä»exchangeä¸­è·å–çš„responseå¯¹è±¡ã€‚è°ƒç”¨responseå¯¹è±¡çš„setComplete()æ–¹æ³•ï¼Œè¿”å›ç»™ä¸Šå±‚Filterä¸€ä¸ªMono\u0026lt;Void\u0026gt;ã€‚æ ‡å‡†ç”¨æ³•å¦‚ä¸‹ï¼š\nreturn response.setComplete(); è¿™æ ·ç›¸å½“äºç›´æ¥å°†ä¸šåŠ¡ç»“æŸæ ‡ç¤ºMono\u0026lt;Void\u0026gt;è¿”å›ç»™ä¸Šå±‚Filterã€‚è€Œæ²¡æœ‰è°ƒç”¨chain.filter(exchange)çš„è¯ï¼Œè¯·æ±‚ä¹Ÿå°±ä¸ä¼šè¿›å…¥åˆ°ä¸‹å±‚Filterã€‚\nä¸ºå®ç°çš„GlobalFilterä½¿ç”¨@Componentæ³¨è§£ï¼Œè®©Springå¯ä»¥å°†è¯¥è¿‡æ»¤å™¨åŠ è½½ä¸ºBeanã€‚\nä¸ºå®ç°çš„GlobalFilterå®šä¹‰é¡ºåºï¼ˆæœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ï¼‰ã€‚\nå®šä¹‰GlobalFilteræ‰§è¡Œçš„ä¼˜å…ˆçº§é¡ºåºçš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä½¿ç”¨å¦‚ä¸Šæ‰€ç¤ºçš„@Orderæ³¨è§£ã€‚åœ¨@Orderæ³¨è§£ä¸­ï¼Œå…¶valueå±æ€§æ˜¯ä¸€ä¸ªintç±»å‹çš„å€¼ï¼Œé»˜è®¤ä¸ºInteger.MAX_VALUEä¹Ÿå°±æ˜¯intç±»å‹çš„æœ€å¤§å€¼2147483647ï¼ˆå³$2^{31}-1$ï¼ŒæŒ‰32ä½è¡¥ç è®¡ç®—ï¼‰ï¼Œvalueè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚\nå¦ä¸€ç§æ–¹å¼å°±æ˜¯ç»§æ‰¿ä¸€ä¸ªOrderedæ¥å£ï¼Œå¹¶å®ç°å…¶getOrder()æ–¹æ³•ï¼š\n@Component public class AuthorizeFilter implements GlobalFilter, Ordered { @Override public Mono\u0026lt;Void\u0026gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { /* æ‹¦æˆª/æ”¾è¡Œé€»è¾‘... */ } /** * å®šä¹‰è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåºï¼Œæ•ˆæœä¸{@code @Order}ç›¸åŒ * @return è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåºï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ */ @Override public int getOrder() { return -1; } } è¿‡æ»¤å™¨é“¾ è¯·æ±‚è¿›å…¥ç½‘å…³åä¼šé‡åˆ°ä¸‰ç±»è¿‡æ»¤å™¨ï¼š\nå½“å‰è·¯ç”±çš„è¿‡æ»¤å™¨ï¼› é»˜è®¤è¿‡æ»¤å™¨ï¼ˆDefaultFilterï¼‰ï¼› å…¨å±€è¿‡æ»¤å™¨ï¼ˆGlobalFilterï¼‰ã€‚ åœ¨è¯·æ±‚è·¯ç”±åï¼ŒSpring Cloud Gatewayä¼šå°†æ¯ä¸ªè·¯ç”±çš„è·¯ç”±è¿‡æ»¤å™¨ã€é»˜è®¤è¿‡æ»¤å™¨å’Œå…¨å±€è¿‡æ»¤å™¨åˆå¹¶åˆ°ä¸€ä¸ªè¿‡æ»¤å™¨é“¾ï¼ˆé›†åˆï¼‰ä¸­ï¼Œå¹¶è¿›è¡Œæ’åºã€‚ç„¶åSpring Cloud Gatewayä¼šæ ¹æ®è¯·æ±‚ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œè·¯ç”±å¯¹åº”çš„è¿‡æ»¤å™¨é“¾ã€‚\nåœ¨CSDNä¸Šçœ‹åˆ°ä¸€ä¸ªGatewayæ‰§è¡Œæµç¨‹å›¾ï¼Œç¡®å®æ˜¯åœ¨è¯·æ±‚è·¯ç”±ä¹‹åæ‰å¼€å§‹ç»„è£…è¿‡æ»¤å™¨é“¾ï¼š\nåŸæ–‡é“¾æ¥ï¼šSpring Cloud Gateway æºç å‰–æä¹‹Filter Chainè¿‡æ»¤å™¨é“¾ã€‚\nè·¯ç”±è¿‡æ»¤å™¨å’Œé»˜è®¤è¿‡æ»¤å™¨çš„å®ç°ååˆ†æ¥è¿‘ï¼Œå®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯AddRequestHeaderGatewayFilterFactoryï¼Œå¹¶ä¸”æœ€åé€šè¿‡apply()æ–¹æ³•è¯»å–é…ç½®åç”Ÿæˆç»Ÿä¸€çš„è¿‡æ»¤å™¨å¯¹è±¡GatewayFilterï¼š\npublic class AddRequestHeaderGatewayFilterFactory extends AbstractNameValueGatewayFilterFactory { @Override public GatewayFilter apply(NameValueConfig config) { return new GatewayFilter() { // ç”Ÿæˆè¿‡æ»¤å™¨å¯¹è±¡ @Override public Mono\u0026lt;Void\u0026gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { /* ... */ } @Override public String toString() { /* ... */ } }; } } å…¨å±€è¿‡æ»¤å™¨åˆ™æ˜¯é€šè¿‡FilteringWebHandlerä¸­çš„ç§æœ‰ç±»GatewayFilterAdapterï¼ˆè¿‡æ»¤å™¨é€‚é…å™¨ï¼‰ç”Ÿæˆï¼Œä½¿ç”¨loadFilters()å°†æ‰€æœ‰GlobalFilterè½¬åŒ–ä¸ºGatewayFilterAdapterï¼š\npublic class FilteringWebHandler implements WebHandler { private final List\u0026lt;GatewayFilter\u0026gt; globalFilters; public FilteringWebHandler(List\u0026lt;GlobalFilter\u0026gt; globalFilters) { this.globalFilters = loadFilters(globalFilters); } /** * å°†æ‰€æœ‰GlobalFilteré“¾è½¬ä¸ºGatewayFilter */ private static List\u0026lt;GatewayFilter\u0026gt; loadFilters(List\u0026lt;GlobalFilter\u0026gt; filters) { return filters.stream().map(filter -\u0026gt; { GatewayFilterAdapter gatewayFilter = new GatewayFilterAdapter(filter); if (filter instanceof Ordered) { int order = ((Ordered) filter).getOrder(); return new OrderedGatewayFilter(gatewayFilter, order); } return gatewayFilter; }).collect(Collectors.toList()); } /** * åŠ è½½å…¨å±€è¿‡æ»¤å™¨ï¼Œä¸æ‰€æœ‰çš„è·¯ç”±è¿‡æ»¤å™¨å’Œé»˜è®¤è¿‡æ»¤å™¨åˆå¹¶åæ›´å…·Orderæ’åºã€ç»„ç»‡è¿‡æ»¤å™¨é“¾ */ @Override public Mono\u0026lt;Void\u0026gt; handle(ServerWebExchange exchange) { Route route = exchange.getRequiredAttribute(GATEWAY_ROUTE_ATTR); // åŠ è½½æ‰€æœ‰çš„é»˜è®¤è¿‡æ»¤å™¨å’Œè·¯ç”±è¿‡æ»¤å™¨ // åŠ è½½æ–¹å¼æ˜¯ï¼Œå…ˆåŠ è½½é»˜è®¤è¿‡æ»¤å™¨é“¾ï¼Œç„¶åæ ¹æ®Routeï¼ˆè§„åˆ™ï¼‰åŠ è½½è·¯ç”±è¿‡æ»¤å™¨é“¾ï¼Œæœ€ååˆå¹¶ä¸ºä¸€ä¸ªè¿‡æ»¤å™¨é“¾ List\u0026lt;GatewayFilter\u0026gt; gatewayFilters = route.getFilters(); List\u0026lt;GatewayFilter\u0026gt; combined = new ArrayList\u0026lt;\u0026gt;(this.globalFilters); combined.addAll(gatewayFilters); // TODO: needed or cached? AnnotationAwareOrderComparator.sort(combined); if (logger.isDebugEnabled()) { logger.debug(\u0026#34;Sorted gatewayFilterFactories: \u0026#34; + combined); } return new DefaultGatewayFilterChain(combined).filter(exchange); } private static class GatewayFilterAdapter implements GatewayFilter { private final GlobalFilter delegate; /** * ç§æœ‰ç±»æ„é€ æ–¹æ³• */ GatewayFilterAdapter(GlobalFilter delegate) { this.delegate = delegate; } /** * å®ç°GatewayFilterçš„filter()æ–¹æ³• */ @Override public Mono\u0026lt;Void\u0026gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { return this.delegate.filter(exchange, chain); } @Override public String toString() { /* ... */ } } /* ... */ } ç»¼ä¸Šæ‰€è¿°ï¼ŒSpring Cloud GatewayåŠ è½½è¿‡æ»¤å™¨é“¾çš„è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š\nåŠ è½½é»˜è®¤è¿‡æ»¤å™¨é“¾ã€‚\nåŠ è½½è·¯ç”±è¿‡æ»¤å™¨é“¾ã€‚\nåˆå¹¶é»˜è®¤è¿‡æ»¤å™¨é“¾å’Œè·¯ç”±è¿‡æ»¤å™¨é“¾ä¸ºä¸€æ¡è¿‡æ»¤å™¨é“¾ã€‚\nè·¯ç”±è¿‡æ»¤å™¨å’Œé»˜è®¤è¿‡æ»¤å™¨çš„Orderç”±SpringæŒ‡å®šï¼Œé»˜è®¤æ˜¯æŒ‰ç…§å£°æ˜é¡ºåºä»1é€’å¢ã€‚\nåŠ è½½å…¨å±€è¿‡æ»¤å™¨é“¾ã€‚\nå°†å…¨å±€è¿‡æ»¤å™¨é“¾å’Œ é»˜è®¤è¿‡æ»¤å™¨ä¸è·¯ç”±è¿‡æ»¤å™¨åˆå¹¶çš„é“¾ åˆå¹¶ã€‚\næ‰€æœ‰çš„è¿‡æ»¤å™¨éƒ½æœ‰ä¸€ä¸ªintç±»å‹çš„Orderå€¼ï¼ŒOrderå€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œæ‰§è¡Œé¡ºåºè¶Šé å‰ã€‚\nå½“è¿‡æ»¤å™¨çš„Orderå€¼ä¸€æ ·æ—¶ï¼Œä¼šæŒ‰ç…§ é»˜è®¤è¿‡æ»¤å™¨ \u0026gt; è·¯ç”±è¿‡æ»¤å™¨ \u0026gt; å…¨å±€è¿‡æ»¤å™¨ çš„é¡ºåºæ‰§è¡Œã€‚\nè·¨åŸŸé—®é¢˜å¤„ç† è·¨åŸŸæ˜¯æŒ‡å‘é€ä¸å½“å‰æœåŠ¡çš„åŸŸåï¼ˆæˆ–ç«¯å£ã€åè®®ï¼‰ä¸ä¸€è‡´çš„è¯·æ±‚ã€‚\nè·¨åŸŸé—®é¢˜çš„äº§ç”ŸåŸå› æ˜¯æµè§ˆå™¨ä¸å…è®¸Ajaxè¯·æ±‚å¯¹åŸŸåä¸åŒæˆ–ç«¯å£ä¸åŒçš„æœåŠ¡å‘èµ·è¯·æ±‚ã€‚ä¾‹å¦‚ï¼š\nåŸŸåä¸åŒï¼š www.taobao.comå’Œwww.taobao.orgï¼Œwww.linner.asiaå’Œblog.linner.asiaã€‚ åŸŸåç›¸åŒï¼Œç«¯å£ä¸åŒï¼šlocalhost:8080å’Œlocalhost8081ã€‚ è§£å†³æ–¹æ¡ˆä¹‹ä¸€å°±æ˜¯CORSï¼ˆJSONPåªæ”¯æŒGETè¯·æ±‚ï¼Œä¸æ¨èï¼‰ã€‚Gatewayä¸ºæˆ‘ä»¬æä¾›äº†ä½¿ç”¨CORSå¤„ç†è·¨åŸŸé—®é¢˜çš„æ–¹æ³•ï¼Œåªéœ€ä¿®æ”¹application.ymlå³å¯ï¼š\nspring: cloud: gateway: globalcors: # å…¨å±€çš„è·¨åŸŸå¤„ç† add-to-simple-url-handler-mapping: true # è§£å†³optionsè¯·æ±‚è¢«æ‹¦æˆªé—®é¢˜ cors-configurations: \u0026#39;[/**]\u0026#39;: # å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè·¨åŸŸå¤„ç† allowedOrigins: # å…è®¸è·¨åŸŸè¯·æ±‚çš„ç½‘ç«™ - \u0026#34;http://localhost:5500\u0026#34; - \u0026#34;http://http://127.0.0.1:5500\u0026#34; allowedMethods: # å…è®¸çš„è·¨åŸŸajaxçš„è¯·æ±‚æ–¹å¼ - \u0026#34;GET\u0026#34; - \u0026#34;POST\u0026#34; - \u0026#34;DELETE\u0026#34; - \u0026#34;PUT\u0026#34; - \u0026#34;OPTIONS\u0026#34; allowedHeaders: \u0026#34;*\u0026#34; # å…è®¸åœ¨è¯·æ±‚ä¸­æºå¸¦çš„å¤´ä¿¡æ¯ï¼ˆè¿™é‡Œæ˜¯å…è®¸æ‰€æœ‰ï¼‰ allowCredentials: true # æ˜¯å¦å…è®¸æºå¸¦cookie maxAge: 360000 # æ¯æ¬¡è·¨åŸŸæ£€æµ‹çš„æœ‰æ•ˆæœŸï¼ˆåœ¨æœ‰æ•ˆæœŸå†…æµè§ˆå™¨ä¸ä¼šé‡å¤è¯¢é—®è·¨åŸŸè¯·æ±‚ï¼‰ æ¨¡æ‹Ÿä¸€ä¸ªè·¨åŸŸé—®é¢˜ï¼š\nç¼–å†™ä¸€ä¸ªç®€å•çš„é¡µé¢ï¼Œå…¶ä¸­ç”¨Ajaxå‘èµ·è·¨åŸŸè¯·æ±‚ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;meta http-equiv=\u0026#34;X-UA-Compatible\u0026#34; content=\u0026#34;ie=edge\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;æ¨¡æ‹Ÿè·¨åŸŸé—®é¢˜\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;script src=\u0026#34;https://unpkg.com/axios/dist/axios.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // å‘é€è¯·æ±‚åˆ°Gatewayç½‘å…³ä¸Š axios.get(\u0026#34;http://localhost:10010/user/1?authorization=admin\u0026#34;) .then(resp =\u0026gt; console.log(resp.data)) .catch(err =\u0026gt; console.log(err)) \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; ä½¿ç”¨Tomcatæˆ–Nginxä¹‹ç±»çš„WebæœåŠ¡å™¨æ”¾ç½®è¿™ä¸ªHtmlé¡µé¢ã€‚\næˆ‘åœ¨æ¨¡æ‹Ÿæ—¶ä½¿ç”¨çš„æ˜¯VS Codeçš„Live Serveræ’ä»¶ã€‚å®ƒä¼šæƒ³WebæœåŠ¡å™¨ä¸€æ ·åœ¨ä½ ç”µè„‘ä¸Šå¼€ä¸€ä¸ªç«¯å£åŠ è½½é¡µé¢ï¼Œè®©ä½ èƒ½å®æ—¶é¢„è§ˆä½ çš„é¡µé¢æ•ˆæœã€‚ç”¨åœ¨è¿™é‡Œåšä¸ªç®€å•çš„é™æ€é¡µé¢WebæœåŠ¡å™¨ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚\nLive Serverä½¿ç”¨çš„ç«¯å£æ˜¯5500ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½ä¸åŒã€‚\nåœ¨ç»™Gatewayç½‘å…³é…ç½®è·¨åŸŸè¯·æ±‚å¤„ç†ä¹‹å‰ï¼Œé€šè¿‡WebæœåŠ¡å™¨è®¿é—®é¡µé¢ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨æ§åˆ¶å°å‘ç°ç±»ä¼¼ä»¥ä¸‹çš„æŠ¥é”™ï¼š\né…ç½®æˆåŠŸåé‡å¯Gatewayç½‘å…³ï¼Œå†æ¬¡è®¿é—®é¡µé¢ï¼Œå¯ä»¥å‘ç°æµè§ˆå™¨æ§åˆ¶å°æ‰“å°å‡ºäº†è·¨åŸŸè¯·æ±‚è·å–åˆ°çš„ç»“æœã€‚\n","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/gateway/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"Gateway"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"éƒ¨ç½² Nacos Server å®‰è£…å’Œé…ç½®å¥½Nacosåï¼Œåœ¨nacosçš„binç›®å½•ä¸­ä½¿ç”¨è„šæœ¬å¯åŠ¨ï¼š\nWindowsï¼š\nå•æœºå¯åŠ¨ï¼š\nstartup.cmd -m standalone Linuxï¼š\nå•æœºå¯åŠ¨ï¼š\nsh startup.sh -m standalone åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨å¯¹åº”çš„IPå’Œç«¯å£è®¿é—®ï¼Œå¦‚http://localhost:8848/nacosã€‚\né»˜è®¤è´¦å·å’Œå¯†ç å‡ä¸ºnacosã€‚\næ›´å¤šNacosçš„éƒ¨ç½²æ–¹å¼ï¼šNacos éƒ¨ç½²\næœåŠ¡æ³¨å†Œä¸­å¿ƒ Nacos å®¢æˆ·ç«¯ä¾èµ– çˆ¶å·¥ç¨‹ï¼š\n\u0026lt;!-- Spring Cloud Alibaba åŒ…å«äº†Nacosçš„ç‰ˆæœ¬ç®¡ç† --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-alibaba-dependencies\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2.5.RELEASE\u0026lt;/version\u0026gt; \u0026lt;type\u0026gt;pom\u0026lt;/type\u0026gt; \u0026lt;scope\u0026gt;import\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å®¢æˆ·ç«¯ï¼š\n\u0026lt;!-- Nacos å®¢æˆ·ç«¯ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-alibaba-nacos-discovery\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®Nacosï¼ˆapplication.ymlï¼‰ï¼š\nspring: cloud: nacos: # Nacosé…ç½® server-addr: localhost:8848 # NacosæœåŠ¡åœ°å€ æœåŠ¡å™¨é›†ç¾¤ åœ¨Nacosä¸­é…ç½®æœåŠ¡å™¨é›†ç¾¤ï¼Œéœ€è¦åœ¨application.ymlä½¿ç”¨æ¥é…ç½®spring.cloud.nacos.discovery.cluster-nameå®¢æˆ·ç«¯æœåŠ¡å™¨çš„é›†ç¾¤åç§°ï¼š\nspring: cloud: nacos: # Nacosé…ç½® server-addr: localhost:8848 # NacosæœåŠ¡åœ°å€ discovery: cluster-name: HZ # é›†ç¾¤åç§° ä½¿ç”¨Nacosæä¾›çš„é›†ç¾¤é…ç½®ï¼Œå°±å¯ä»¥å°†åŒä¸€æœºæˆ¿å†…çš„å®ä¾‹åˆ’åˆ†ä¸ºä¸€ä¸ªé›†ç¾¤ã€‚\nè´Ÿè½½å‡è¡¡ç­–ç•¥ Nacosæä¾›äº†ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç­–ç•¥NacosRuleé…ç½®å®ƒå’Œé…ç½®å…¶å®ƒçš„Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥ç›¸åŒã€‚åœ¨application.ymlä¸­ï¼š\nservice-name: # æœåŠ¡åç§° ribbon: # è´Ÿè½½å‡è¡¡è§„åˆ™ # NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule # Nacosæä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ NFLoadBalancerRuleClassName: com.alibaba.cloud.nacos.ribbon.NacosRule å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨Beançš„æ–¹å¼é…ç½®å…¨å±€çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š\n@Bean public IRule getLoadBalancerRule() { return new NacosRule(); } NacosRuleä¼šæ ¹æ®å½“å‰æœåŠ¡æ‰€åœ¨çš„é›†ç¾¤ï¼Œä¼˜å…ˆæŒ‘é€‰ä¸å½“å‰æœåŠ¡ç›¸åŒçš„é›†ç¾¤ã€‚å› ä¸ºåœ¨åŒä¸€æœºæˆ¿åŒä¸€é›†ç¾¤çš„é…ç½®ä¸‹ï¼Œè®¿é—®æœ¬åœ°çš„é›†ç¾¤ï¼ˆå³ç›¸åŒçš„é›†ç¾¤ï¼‰é€Ÿåº¦å°†ä¼šæ›´å¿«ã€‚å¦‚æœç›¸åŒçš„é›†ç¾¤ä¸‹æ— å¯ç”¨å®ä¾‹ï¼Œæ‰ä¼šé€‰æ‹©å…¶å®ƒç¤ºä¾‹ï¼Œå¹¶ä¸”æ§åˆ¶å°ä¼šç»™å‡ºè­¦å‘Šã€‚å¦‚æœåœ¨ç›¸åŒé›†ç¾¤çš„æƒ…å†µä¸‹ï¼Œåˆ™ä½¿ç”¨éšæœºè½®è¯¢ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªå®ä¾‹ã€‚\nè®¿é—®æƒé‡ é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨NacosRuleæ˜¯åœ¨åŒé›†ç¾¤å†…éšæœºæŒ‘é€‰ï¼Œå¹¶ä¸ä¼šè€ƒè™‘æœºå™¨çš„æ€§èƒ½é—®é¢˜ã€‚\nä¸ºäº†è®©æ€§èƒ½æ›´å¿«çš„æœåŠ¡å¯ä»¥è¢«åˆ†é…åˆ°æ›´å¤šçš„è¯·æ±‚ï¼ŒNacosæä¾›äº†æƒé‡é…ç½®æ¥æ§åˆ¶è®¿é—®é¢‘ç‡ã€‚ä½¿ç”¨è®¿é—®æƒé‡ï¼Œå¯ä»¥è°ƒèŠ‚æœåŠ¡è¢«è®¿é—®åˆ°çš„æ¦‚ç‡ã€‚è®¿é—®æƒé‡çš„å–å€¼ä¸º0~1ï¼Œé»˜è®¤å€¼æ˜¯1ï¼Œæƒé‡è¶Šé«˜ï¼Œè¢«è®¿é—®åˆ°çš„æ¦‚ç‡å°±è¶Šå¤§ã€‚å¦‚æœå°†è®¿é—®æƒé‡ä¿®æ”¹ä¸º0ï¼Œé‚£ä¹ˆè¯¥å®ä¾‹å°†æ°¸è¿œä¸ä¼šè¢«è®¿é—®ã€‚\nå°†è®¿é—®æƒé‡ä¿®æ”¹ä¸º0å¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨åœæœºï¼Œåªæ˜¯åç»­çš„è¯·æ±‚ä¸ä¼šä½¿ç”¨åˆ°è¿™ä¸ªæœåŠ¡å™¨ï¼Œè€Œå½“å‰è¯¥æœåŠ¡å™¨æ‰€å¤„ç†çš„è¯·æ±‚è¿˜ä¼šç»§ç»­ã€‚\nä¿®æ”¹è®¿é—®æƒé‡å¯ä»¥åœ¨Nacosæ§åˆ¶å°ä¸­ä¿®æ”¹ï¼š\nä¾‹å¦‚ï¼Œä¿®æ”¹user-serviceçš„æƒé‡ï¼Œæ‰¾åˆ°user-serviceçš„å®ä¾‹åˆ—è¡¨ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œå³å¯ä¿®æ”¹æƒé‡ï¼š\nåœ¨å¼¹å‡ºçš„ç¼–è¾‘çª—å£ï¼Œä¿®æ”¹æƒé‡ï¼š\néä¸´æ—¶å®ä¾‹ Nacosçš„æœåŠ¡å®ä¾‹ï¼ˆæœåŠ¡æä¾›è€…ï¼‰åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š\nä¸´æ—¶å®ä¾‹ï¼šå¦‚æœå®ä¾‹å®•æœºè¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œä¼šä»æœåŠ¡åˆ—è¡¨å‰”é™¤ï¼Œæ˜¯æ‰€æœ‰å®ä¾‹é»˜è®¤çš„ç±»å‹ã€‚ éä¸´æ—¶å®ä¾‹ï¼ˆæ°¸ä¹…å®ä¾‹ï¼‰ï¼šå¦‚æœå®ä¾‹å®•æœºï¼Œä¸ä¼šå°†å…¶ä»æœåŠ¡åˆ—è¡¨å‰”é™¤ã€‚ spring: cloud: nacos: # Nacosé…ç½® server-addr: localhost:8848 # NacosæœåŠ¡åœ°å€ discovery: ephemeral: false # æ³¨å†Œä¸ºéä¸´æ—¶å®ä¾‹ ç¯å¢ƒéš”ç¦» Nacosæä¾›äº†namespaceï¼ˆå‘½åç©ºé—´ï¼‰æ¥å®ç°ç¯å¢ƒéš”ç¦»åŠŸèƒ½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰serviceã€dataã€groupéƒ½åœ¨åŒä¸€ä¸ªåä¸ºpublicçš„namespaceã€‚æ¯ä¸ªnamespaceéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œå¹¶ä¸”ä¸åŒnamespaceä¸‹çš„æœåŠ¡ä¹‹é—´äº’ä¸å¯è§ã€‚namespaceå¯ä»¥åœ¨Nacosæ§åˆ¶å°ä¸­åˆ›å»ºã€‚\nä¸ºæœåŠ¡è®¾ç½®namespaceï¼Œéœ€è¦åœ¨application.ymlä¸­é…ç½®spring.cloud.nacos.discovery.namespaceï¼Œå®ƒçš„å€¼ä¸ºå¯¹åº”å‘½åç©ºé—´çš„IDï¼š\nspring: cloud: nacos: # Nacosé…ç½® server-addr: localhost:8848 # NacosæœåŠ¡åœ°å€ discovery: # å‘½åç©ºé—´ï¼Œå€¼ä¸ºå¯¹åº”å‘½åç©ºé—´çš„ID namespace: df79820e-775d-4787-b0a8-0b6e5fabeb13 Nacos ä¸ Eureka çš„åŒºåˆ« Nacoså’ŒEurekaæ•´ä½“ç»“æ„ç±»ä¼¼ï¼Œéƒ½æœ‰æœåŠ¡æ³¨å†Œã€æœåŠ¡æ‹‰å–ã€å¿ƒè·³ç­‰å¾…ç­‰ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€äº›å·®å¼‚ï¼š\nå…±åŒç‚¹ï¼š éƒ½æ”¯æŒæœåŠ¡æ³¨å†Œå’ŒæœåŠ¡æ‹‰å–ã€‚ éƒ½æ”¯æŒæœåŠ¡æä¾›è€…å¿ƒè·³æ–¹å¼åšå¥åº·æ£€æµ‹ã€‚ ä¸åŒç‚¹ï¼š Nacosæ”¯æŒæœåŠ¡ç«¯ä¸»åŠ¨æ£€æµ‹æä¾›è€…çŠ¶æ€ï¼š\nä¸´æ—¶å®ä¾‹é‡‡ç”¨å¿ƒè·³æ¨¡å¼ï¼› éä¸´æ—¶å®ä¾‹é‡‡ç”¨ä¸»åŠ¨æ£€æµ‹æ¨¡å¼ã€‚ ä¸»åŠ¨æ£€æµ‹çš„å¼Šç«¯ï¼šä¼šç»™æœåŠ¡å™¨é€ æˆä¸€å®šçš„å‹åŠ›ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ä¸´æ—¶å®ä¾‹çš„å¿ƒè·³æ¨¡å¼å³å¯ã€‚\nåœ¨Nacosä¸­ï¼Œä¸´æ—¶å®ä¾‹å¿ƒè·³ä¸æ­£å¸¸ä¼šè¢«å‰”é™¤ï¼Œéä¸´æ—¶å®ä¾‹åˆ™ä¸ä¼šè¢«å‰”é™¤ã€‚\nNacosæ”¯æŒæœåŠ¡åˆ—è¡¨å˜æ›´çš„æ¶ˆæ¯æ¨é€æ¨¡å¼ï¼ŒæœåŠ¡åˆ—è¡¨æ›´æ–°æ›´åŠ åŠæ—¶ã€‚\nNacosé›†ç¾¤é»˜è®¤é‡‡ç”¨APæ–¹å¼ï¼Œå½“é›†ç¾¤ä¸­å­˜åœ¨éä¸´æ—¶å®ä¾‹æ—¶ï¼Œé‡‡ç”¨CPæ¨¡å¼ï¼›Eurekaé‡‡ç”¨APæ–¹å¼ã€‚\né…ç½®ç®¡ç† Nacosä¸€æ–¹é¢å¯ä»¥å°†é…ç½®é›†ä¸­ç®¡ç†ï¼Œå¦ä¸€æ–¹å¯ä»¥åœ¨é…ç½®å˜æ›´æ—¶ï¼ŒåŠæ—¶é€šçŸ¥å¾®æœåŠ¡ï¼Œå®ç°é…ç½®çš„çƒ­æ›´æ–°ã€‚\nåœ¨Nacosä¸­ï¼Œé…ç½®è·å–çš„æ­¥éª¤å¦‚ä¸‹ï¼š\né¡¹ç›®å¯åŠ¨ã€‚ è¯»å–Nacosä¸­çš„ç»™æœåŠ¡å®šä¹‰çš„é…ç½®æ–‡ä»¶ã€‚ è¯»å–æœ¬åœ°é…ç½®æ–‡ä»¶application.ymlã€‚ä¸ä¸Šä¸€æ­¥åœ¨Nacosä¸­è¯»å–åˆ°çš„é…ç½®ç›¸åˆå¹¶ã€‚ åˆ›å»ºSpringå®¹å™¨ã€‚ åŠ è½½Bean ä¾èµ–pom.xmlï¼š\n\u0026lt;!-- Nacosé…ç½®ç®¡ç†ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-starter-alibaba-nacos-config\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; æ–°å»ºé…ç½®æ–‡ä»¶bootstrap.ymlï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š\nspring: application: name: service-name # æœåŠ¡å profiles: active: env-name # ç¯å¢ƒåç§° cloud: nacos: # Nacos é…ç½® server-addr: localhost:8848 config: file-extension: yml # é…ç½®æ–‡ä»¶åç¼€å ä¾èµ–å’Œé…ç½®åœ¨éœ€è¦é…ç½®ç®¡ç†çš„æœåŠ¡ä¸­æ·»åŠ å’Œä¿®æ”¹ã€‚\nåœ¨bootstrap.ymlä¸­å·²ç»é…ç½®è¿‡çš„é…ç½®ï¼Œåœ¨application.ymlä¸­å¯ä»¥ä¸ç”¨é‡å¤é…ç½®ã€‚\nåœ¨Nacosæ§åˆ¶å°ä¸­æ·»åŠ é…ç½®æ–‡ä»¶ï¼š\nå¯¹æ–°æ·»åŠ çš„é…ç½®æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œç¼–è¾‘å®Œæˆå¥½åç‚¹å‡»å‘å¸ƒè¿›è¡Œæäº¤ï¼š\nå¤šç¯å¢ƒé…ç½®å…±äº« å¾®æœåŠ¡å¯åŠ¨æ—¶ä¼šä»Nacosä¸­è¯»å–å¤šä¸ªé…ç½®æ–‡ä»¶ï¼š\n[service-name]-[env-name].[file-extension]ï¼šå½“å‰ç¯å¢ƒé…ç½®ã€‚åªèƒ½åœ¨å¯¹åº”ç¯å¢ƒçš„æƒ…å†µä¸‹è¿›è¡Œè¯»å–ã€‚ [service-name].[file-extension]ï¼šå…±äº«ç¯å¢ƒé…ç½®ã€‚æ— è®ºå½“å‰å®ä¾‹å¤„äºä»€ä¹ˆç¯å¢ƒä¸‹ï¼Œè¯¥æ–‡ä»¶ä¸€å®šä¼šè¢«åŠ è½½ã€‚æ‰€ä»¥å¤šç¯å¢ƒå…±äº«é…ç½®å¯ä»¥å†™åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚ [file-extension]ä¸ºé…ç½®ä¸­å¯¹åº”çš„æ–‡ä»¶æ‰©å±•åã€‚\nè¯»å–é…ç½® ä½¿ç”¨@RefreshScopeæ³¨è§£è¿›è¡Œé…ç½®è‡ªåŠ¨åˆ·æ–°ï¼š\n@RestController @RefreshScope // é…ç½®è‡ªåŠ¨åˆ·æ–° public class TestController { @Value(\u0026#34;${pattern.dateformat}\u0026#34;) private String dateformat; /** * è¿”å›å½“å‰æŒ‰ç…§è§„å®šæ ¼å¼è¿›è¡Œæ ¼å¼åŒ–çš„æ—¶é—´ */ @GetMapping(\u0026#34;/now\u0026#34;) public String now() { return LocalDateTime.now().format( DateTimeFormatter.ofPattern(dateformat)); } } ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£ï¼š\n@Data @Component // è¯»å–ä»¥patternä¸ºå¼€å¤´çš„é…ç½® @ConfigurationProperties(prefix = \u0026#34;pattern\u0026#34;) public class PatternProperties { private String dateformat; // ç›¸å½“äº pattern.dateformat } @RestController public class TestController { @Autowired private PatternProperties properties; @GetMapping(\u0026#34;/now\u0026#34;) public String now() { return LocalDateTime.now().format( DateTimeFormatter.ofPattern(properties.getDateformat())); } } ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å°†é…ç½®è¯»å–åˆ°ç±»ä¸­ï¼Œåœ¨é…ç½®æ›´æ”¹çš„æ—¶å€™ï¼Œç±»å°†ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œè€Œæ— éœ€ä½¿ç”¨@RefreshScopeæ³¨è§£ã€‚\né…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ Nacosä¸­å¤šç§é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§ä»é«˜åˆ°ä½çš„é¡ºåºå¦‚ä¸‹ï¼š\n[service-name]-[env-name].yml [service-name].yml æœ¬åœ°é…ç½®æ–‡ä»¶ï¼ˆå¦‚application.ymlï¼Œæœ¬åœ°é…ç½®æ–‡ä»¶ä¹Ÿæœ‰è‡ªå·±çš„ä¼˜å…ˆçº§ï¼‰ ","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/nacos/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"Nacos"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¾®æœåŠ¡è¿œç¨‹è°ƒç”¨ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸åŒå¾®æœåŠ¡éƒ½åº”è¯¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ•°æ®åº“ä»¥å‡å°‘æœåŠ¡ä¹‹é—´çš„å†—ä½™ã€‚è€Œä¸åŒçš„æœåŠ¡ä¹‹é—´å¯èƒ½éœ€è¦å…±äº«æ•°æ®ã€‚ä½†æ‹†åˆ†åçš„æœåŠ¡ï¼Œå®ƒä»¬çš„æ•°æ®åº“æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªæœåŠ¡ä¸å¯èƒ½å»è°ƒç”¨å¦ä¸€ä¸ªæœåŠ¡çš„æ•°æ®åº“ï¼Œæ‰€ä»¥æœåŠ¡ä¹‹é—´çš„ä¿¡æ¯å…±äº«æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚\nä¸ºäº†è§£å†³æœåŠ¡ä¹‹é—´çš„ä¿¡æ¯å…±äº«ï¼Œå¾®æœåŠ¡é€šè¿‡å°†ä¸šåŠ¡æš´éœ²ä¸ºæ¥å£ï¼Œä»¥ä¾›å…¶å®ƒå¾®æœåŠ¡ä½¿ç”¨ã€‚è¿™ç§æœåŠ¡è°ƒç”¨æ–¹å¼ä¸ç”¨æˆ·è°ƒç”¨æœåŠ¡çš„æ–¹å¼æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯é€šè¿‡URLæ¥è¿œç¨‹è°ƒç”¨æ¥å£ã€‚\nåœ¨å¾®æœåŠ¡è¿œç¨‹è°ƒç”¨ä¸­ï¼Œæœ‰ä¸€ä¸‹ä¸¤ç§è§’è‰²ï¼š\næœåŠ¡æä¾›è€…ï¼ˆProviderï¼‰ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè¢«å…¶å®ƒå¾®æœåŠ¡è°ƒç”¨çš„æœåŠ¡ã€‚\nå³æä¾›æ¥å£ç»™å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡ã€‚\næœåŠ¡æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè°ƒç”¨å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡ã€‚\nå³è°ƒç”¨å…¶å®ƒå¾®æœåŠ¡æä¾›çš„æ¥å£çš„æœåŠ¡ã€‚\næœåŠ¡çš„è§’è‰²æ˜¯ç›¸å¯¹è€Œè¨€çš„ã€‚æŠ›å¼€ä¸šåŠ¡æ¥è®²ï¼ŒæœåŠ¡æ—¢å¯ä»¥æ˜¯æä¾›è€…ä¹Ÿå¯ä»¥æ¶ˆè´¹è€…ã€‚\nRestTemplate è¿œç¨‹è°ƒç”¨ åœ¨SpringCloudä¸­ï¼Œå¾®æœåŠ¡çš„è¿œç¨‹è°ƒç”¨æ–¹å¼å¯ä»¥é€šè¿‡RestTemplateå‘èµ·HTTPè¯·æ±‚æ¥è°ƒç”¨ã€‚è€ŒHTTPè¯·æ±‚åšè¿œç¨‹è°ƒç”¨æ˜¯ä¸è¯­è¨€æ— å…³çš„è°ƒç”¨ï¼Œåªè¦çŸ¥é“å¯¹æ–¹çš„ipã€ç«¯å£ã€æ¥å£è·¯å¾„ã€è¯·æ±‚å‚æ•°å³å¯ã€‚\nä¾‹å¦‚æœ‰ä¸¤ä¸ªæœåŠ¡ï¼Œåˆ†åˆ«æ˜¯ç”¨æˆ·æœåŠ¡å’Œè®¢å•æœåŠ¡ï¼Œè®¢å•æœåŠ¡åœ¨è·å–è®¢å•ä¿¡æ¯æ—¶éœ€è¦å°†ç”¨æˆ·ä¿¡æ¯ä¸€åŒå‘é€ï¼š\nä½¿ç”¨RestTemplateéœ€è¦å…ˆè¿›è¡Œæ³¨å†Œï¼ˆé…ç½®ï¼‰ã€‚\nåœ¨è®¢å•æœåŠ¡æ¨¡å—ï¼ˆæ¶ˆè´¹è€…ï¼‰ä¸­æ–°å»ºä¸€ä¸ªé…ç½®å¹¶å£°æ˜ä¸€ä¸ªBeanï¼š\n/** * åˆ›å»ºRestTemplateï¼Œå¹¶æ³¨å…¥Springå®¹å™¨ */ @Bean public RestTemplate getRestTemplate() { return new RestTemplate(); } åœ¨OrderServiceä¸­æ³¨å…¥RestTemplateï¼Œå¹¶é€šè¿‡RestTemplateè¿œç¨‹è°ƒç”¨ç”¨æˆ·æœåŠ¡æ¨¡å—ï¼š\n@Service public class OrderService { @Autowired private OrderMapper orderMapper; // æ³¨å…¥RestTemplate @Autowired private RestTemplate restTemplate; public Order queryOrderById(Long orderId) { // 1.æŸ¥è¯¢è®¢å• Order order = orderMapper.findById(orderId); // 2.åˆ©ç”¨RestTemplateå‘èµ·HTTPè¯·æ±‚ï¼ŒæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ // 2.1.URLè·¯å¾„ String url = \u0026#34;http://localhost:8081/user/\u0026#34; + order.getUserId(); // 2.2.å‘é€HTTPï¼ˆGETï¼‰è¯·æ±‚ï¼Œå®ç°è¿œç¨‹è°ƒç”¨ User user = restTemplate.getForObject(url, User.class); // 3.å°è£…Useråˆ°Order order.setUser(user); // 4.è¿”å› return order; } } RestTemplate.getForObject()æ˜¯RestTemplateè°ƒç”¨HTTP-GETè¯·æ±‚çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„URLå‚æ•°ï¼Œå¹¶å¯ä»¥é€šè¿‡.classæ¥æŒ‡å®šå“åº”çš„ç±»å‹ã€‚\nç”¨æˆ·æœåŠ¡æ¨¡å—ä¸­ç›¸åº”çš„æ¥å£å¦‚ä¸‹ï¼ˆå‡è®¾æœåŠ¡çš„ç«¯å£ä¸ºæœ¬åœ°8081ç«¯å£ï¼‰ï¼š\n@RestController @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { @Autowired private UserService userService; /** * æ ¹æ®ç”¨æˆ·IDè·å–ç”¨æˆ·ä¿¡æ¯ * @param id ç”¨æˆ·ID * @return ç”¨æˆ·ä¿¡æ¯ */ @GetMapping(\u0026#34;/{id}\u0026#34;) public User queryById(@PathVariable(\u0026#34;id\u0026#34;) Long id) { return userService.queryById(id); } } ä½¿ç”¨RestTemplateå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š\nURLçš„ç¡¬ç¼–ç é—®é¢˜ã€‚ æœåŠ¡æ¶ˆè´¹è€…è¯¥å¦‚ä½•è·å–æœåŠ¡æä¾›è€…çš„åœ°å€ä¿¡æ¯ã€‚ å¦‚æœæœ‰å¤šä¸ªæœåŠ¡æä¾›è€…ï¼Œæ¶ˆè´¹è€…è¯¥å¦‚ä½•é€‰æ‹©ã€‚ æ¶ˆè´¹è€…å¦‚ä½•å¾—çŸ¥æœåŠ¡æä¾›è€…çš„å¥åº·çŠ¶æ€ã€‚ RestTemplateæ˜¯Spring Cloudè‡ªå¸¦çš„ï¼Œæ‰€ä»¥ä¸ç”¨å¼•å…¥ä¾èµ–ã€‚\n","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/remote-call/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"RestTemplate"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¾®æœåŠ¡éœ€è¦æ ¹æ®ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ï¼Œåšåˆ°å•ä¸€èŒè´£ï¼Œä¸è¦é‡å¤å¼€å‘ç›¸åŒä¸šåŠ¡ã€‚\nçˆ¶å·¥ç¨‹ å¾®æœåŠ¡æ˜¯ä¸€ç§åˆ†å¸ƒå¼å¼€å‘ï¼Œè¦å°†ä¸€ä¸ªé¡¹ç›®æ‹†åˆ†ä¸ºè‹¥å¹²ä¸ªæœåŠ¡ï¼Œæ‰€ä»¥ä¼šæœ‰å¾ˆå¤šä¸ªæœåŠ¡æ¨¡å—ã€‚è€Œè¦ç»Ÿä¸€ç®¡ç†è¿™äº›æœåŠ¡æ¨¡å—ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªçˆ¶å·¥ç¨‹æ¥ç®¡ç†ã€‚\nåœ¨Mavenä¸­ï¼Œç”¨æ¥ç»Ÿä¸€ç®¡ç†çš„çˆ¶å·¥ç¨‹æ˜¯ä¸€ä¸ªä¸åŒ…å«å®é™…ä»£ç ï¼Œåªå«æœ‰pom.xmlçš„æ¨¡å—ã€‚é€šè¿‡åœ¨pom.xmlå®šä¹‰ä¸€äº›ç»Ÿä¸€çš„ä¿¡æ¯ï¼ˆå¦‚ä¾èµ–ã€ä¾èµ–çš„ç‰ˆæœ¬ç­‰ç­‰ï¼‰ï¼Œä»è€Œæ¥ç®¡ç†æ•´ä¸ªå·¥ç¨‹ã€‚\nçˆ¶å·¥ç¨‹Mavenä¾èµ–ï¼ˆpom.xmlï¼‰ï¼š\n\u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;asia.linner.demo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cloud-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;!-- å£°æ˜å­æ¨¡å— --\u0026gt; \u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;user-service\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;order-service\u0026lt;/module\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/modules\u0026gt; \u0026lt;!-- æ‰“åŒ…æ–¹å¼ --\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; \u0026lt;!-- çˆ¶å·¥ç¨‹ --\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.9.RELEASE\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;project.build.sourceEncoding\u0026gt;UTF-8\u0026lt;/project.build.sourceEncoding\u0026gt; \u0026lt;project.reporting.outputEncoding\u0026gt;UTF-8\u0026lt;/project.reporting.outputEncoding\u0026gt; \u0026lt;java.version\u0026gt;1.8\u0026lt;/java.version\u0026gt; \u0026lt;spring-cloud.version\u0026gt;Hoxton.SR10\u0026lt;/spring-cloud.version\u0026gt; \u0026lt;mysql.version\u0026gt;5.1.47\u0026lt;/mysql.version\u0026gt; \u0026lt;mybatis.version\u0026gt;2.1.1\u0026lt;/mybatis.version\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;!-- å£°æ˜ä¾èµ–ï¼Œå¹¶ä¸è¿›è¡Œå¯¼å…¥ï¼ˆå­æ¨¡å—ä¾ç„¶éœ€è¦å¯¼å…¥ï¼Œä½†ä¸ç”¨æŒ‡å®šç‰ˆé¢ï¼‰ --\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!-- SpringCloudä¾èµ–åº“ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-dependencies\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${spring-cloud.version}\u0026lt;/version\u0026gt; \u0026lt;type\u0026gt;pom\u0026lt;/type\u0026gt; \u0026lt;scope\u0026gt;import\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MySQLé©±åŠ¨ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${mysql.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MyBatis --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${mybatis.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.projectlombok\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;lombok\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; å…¶ä¸­ä¸»è¦çš„æœ‰ï¼š\nçˆ¶å·¥ç¨‹ï¼šå’ŒSpringBootä¸€æ ·ï¼Œä½¿ç”¨SpringCloudéœ€è¦å¯¼å…¥çˆ¶å·¥ç¨‹ã€‚\n\u0026lt;!-- çˆ¶å·¥ç¨‹ --\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.3.9.RELEASE\u0026lt;/version\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;/parent\u0026gt; SpringCloudä¾èµ–ï¼š\n\u0026lt;!-- SpringCloudä¾èµ–åº“ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.cloud\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-cloud-dependencies\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${spring-cloud.version}\u0026lt;/version\u0026gt; \u0026lt;type\u0026gt;pom\u0026lt;/type\u0026gt; \u0026lt;scope\u0026gt;import\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å£°æ˜åœ¨\u0026lt;dependencyManagement\u0026gt;çš„\u0026lt;dependencies\u0026gt;ä¸­ã€‚SpringCloudä¾èµ–åº“å®šä¹‰äº†SpringCloudçš„ä¾èµ–ä»¥åŠå®ƒä»¬çš„ç‰ˆæœ¬ã€‚\n\u0026lt;dependencyManagement\u0026gt;æ˜¯å¯¹æ•´ä¸ªé¡¹ç›®çš„ä¾èµ–ç‰ˆæœ¬çš„ç®¡ç†ã€‚åœ¨\u0026lt;dependencyManagement\u0026gt;å…ƒç´ ä¸­å£°æ˜æ‰€ä¾èµ–çš„jaråŒ…çš„ç‰ˆæœ¬å·ç­‰ä¿¡æ¯ï¼Œé‚£ä¹ˆæ‰€æœ‰å­é¡¹ç›®å†æ¬¡å¼•å…¥æ­¤ä¾èµ–jaråŒ…æ—¶åˆ™æ— éœ€æ˜¾å¼çš„åˆ—å‡ºç‰ˆæœ¬å·ï¼ŒMavenä¼šæ²¿ç€çˆ¶å­å±‚çº§å‘ä¸Šå¯»æ‰¾æ‹¥æœ‰\u0026lt;dependencyManagement\u0026gt;å…ƒç´ çš„é¡¹ç›®ï¼Œç„¶åä½¿ç”¨å®ƒæŒ‡å®šçš„ç‰ˆæœ¬å·ã€‚\nä¾‹å¦‚åœ¨SpringBootä¸­ï¼Œå¼•å…¥äº†çˆ¶å·¥ç¨‹spring-boot-starter-parentï¼Œé‚£ä¹ˆå¼•å…¥spring-boot-starter-webè¿™äº›åœ¨çˆ¶å·¥ç¨‹ä¸­å·²ç»å°†ç‰ˆæœ¬å®šä¹‰å¥½äº†çš„ä¾èµ–ï¼Œå°±æ— éœ€åœ¨å½“å‰å·¥ç¨‹çš„pom.xmlä¸­æŒ‡å®šç‰ˆæœ¬ã€‚\nåœ¨å½“å‰\u0026lt;dependencies\u0026gt;ï¼ˆä¸æ˜¯\u0026lt;dependencyManagement\u0026gt;ä¸‹çš„\u0026lt;dependencies\u0026gt;ä¸­å£°æ˜çš„ä¾èµ–ï¼Œä¼šç›´æ¥è¢«å¯¼å…¥ï¼Œå¹¶ä¸”è¢«å­å­é¡¹ç›®æ‰€ç»§æ‰¿ã€‚\n\u0026lt;modules\u0026gt;ï¼šåˆ©ç”¨\u0026lt;modules\u0026gt;å¯ä»¥å¾ˆå¥½åœ°è¿›è¡Œå¤šæ¨¡å—å¼€å‘ã€‚\n\u0026lt;!-- å£°æ˜æ¨¡å— --\u0026gt; \u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;user-service\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;order-service\u0026lt;/module\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/modules\u0026gt; åœ¨æ„å»ºå½“å‰é¡¹ç›®æ—¶ï¼ŒMavenä¼šæ ¹æ®\u0026lt;modules\u0026gt;ä¸­çš„å£°æ˜ï¼Œå»å¯»æ‰¾ç›¸åº”çš„æ¨¡å—å¹¶è‡ªåŠ¨å®Œæˆæ„å»ºã€‚\n\u0026lt;modules\u0026gt;çš„å€¼æ˜¯å¯¹åº”æ¨¡å—çš„\u0026lt;artifactId\u0026gt;çš„å€¼ã€‚\nå¾®æœåŠ¡æ‹†åˆ† å­æ¨¡å—Mavenä¾èµ–ç¤ºä¾‹ï¼ˆpom.xmlï¼‰ï¼š\n\u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;!-- ä¸çˆ¶å·¥ç¨‹ä¸­æ‰€å®šä¹‰çš„ç›¸å¯¹åº” --\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;asia.linner.demo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cloud-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;artifactId\u0026gt;user-service\u0026lt;/artifactId\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MySQL --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MyBatis --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;finalName\u0026gt;app\u0026lt;/finalName\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt; å…¶ä¸­ï¼Œè¯¥é¡¹ç›®çš„çˆ¶å·¥ç¨‹ä¸º\n\u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;asia.linner.demo\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cloud-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0\u0026lt;/version\u0026gt; \u0026lt;/parent\u0026gt; æ¨¡å—å£°æ˜çš„çˆ¶å·¥ç¨‹å¯¹åº”çˆ¶å·¥ç¨‹ä¸­å®šä¹‰çš„\u0026lt;groupId\u0026gt;ã€\u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;ã€‚å½“å‰é¡¹ç›®ä¼šç»§æ‰¿çˆ¶å·¥ç¨‹ä¸­å®šä¹‰çš„ç‰ˆæœ¬å·å’Œä¾èµ–ã€‚æ‰€ä»¥spring-boot-starter-webã€mysql-connector-javaå’Œmybatis-spring-boot-starteréƒ½æ— éœ€æ˜¾å¼åœ°å£°æ˜ç‰ˆæœ¬ã€‚\n","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/config/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"Spring ç¯å¢ƒå’Œé…ç½®"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¾®æœåŠ¡æ¶æ„ ä»å‰çš„é¡¹ç›®æ˜¯ä½¿ç”¨å•ä½“æ¶æ„ï¼Œå•ä½“æ¶æ„æ˜¯æŒ‡å°†ä¸šåŠ¡çš„æ‰€æœ‰åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å¼€å‘ï¼Œæ‰“æˆä¸€ä¸ªåŒ…éƒ¨ç½²ã€‚\nå•ä½“æ¶æ„çš„ä¼˜ç‚¹æ˜¯ï¼š\næ¶æ„ç®€å•ï¼› éƒ¨ç½²æˆæœ¬ä½ã€‚ ç¼ºç‚¹æ˜¯æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦é«˜ï¼Œä¸åˆ©äºå¤§å‹é¡¹ç›®å¼€å‘ã€‚\néšç€äº’è”ç½‘è¡Œä¸šçš„å‘å±•ï¼ŒæœåŠ¡æ¶æ„ä»å•ä½“æ¶æ„é€æ¸æ¼”å˜ä¸ºç°åœ¨æµè¡Œçš„å¾®æœåŠ¡æ¶æ„ï¼ˆå±äºåˆ†å¸ƒå¼æ¶æ„çš„ä¸€ç§ï¼‰ã€‚\nåˆ†å¸ƒå¼æ¶æ„æ˜¯æŒ‡æ ¹æ®ä¸šåŠ¡åŠŸèƒ½å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ï¼Œæ¯ä¸ªä¸šåŠ¡æ¨¡å—ä½œä¸ºç‹¬ç«‹é¡¹ç›®å¼€å‘ï¼Œç§°ä¸ºä¸€ä¸ªæœåŠ¡ã€‚\nåˆ†å¸ƒå¼æ¶æ„çš„ä¼˜ç‚¹ï¼š\né™ä½æœåŠ¡ä¹‹é—´çš„è€¦åˆï¼› æœ‰åˆ©äºæœåŠ¡å‡çº§æ‹“å±•ã€‚ å¾®æœåŠ¡æ˜¯ä¸€ç§ç»è¿‡è‰¯å¥½æ¶æ„è®¾è®¡çš„åˆ†å¸ƒå¼æ¶æ„æ–¹æ¡ˆã€‚\nå¾®æœåŠ¡çš„æ¶æ„ç‰¹å¾ï¼š\nå•ä¸€èŒè´£ï¼šå¾®æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´å°ï¼Œæ¯ä¸€ä¸ªæœåŠ¡éƒ½å¯¹åº”å”¯ä¸€çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšåˆ°å•ä¸€èŒè´£ã€‚ è‡ªæ²»ï¼šå›¢é˜Ÿç‹¬ç«‹ã€æŠ€æœ¯ç‹¬ç«‹ã€æ•°æ®ç‹¬ç«‹ï¼Œç‹¬ç«‹éƒ¨ç½²å’Œäº¤ä»˜ã€‚ é¢å‘æœåŠ¡ï¼šæœåŠ¡æä¾›ç»Ÿä¸€æ ‡å‡†çš„æ¥å£ï¼Œä¸è¯­è¨€å’ŒæŠ€æœ¯æ— å…³ã€‚ éš”ç¦»æ€§å¼ºï¼šæœåŠ¡è°ƒç”¨åšå¥½éš”ç¦»ã€å®¹é”™ã€é™çº§ï¼Œé¿å…å‡ºç°çº§è”é—®é¢˜ã€‚ å¾®æœåŠ¡æŒ‰ç…§æœåŠ¡çš„ä¸åŒå°†é¡¹ç›®åˆ†ä¸ºä¸åŒçš„é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®è¿è¡Œä¸€ä¸ªæœåŠ¡ã€‚\nä¾‹å¦‚ï¼Œå°†ç”¨æˆ·æœåŠ¡å’Œè®¢å•æœåŠ¡åˆ†ä¸ºä¸¤ä¸ªé¡¹ç›®ã€‚\nå¾®æœåŠ¡æŠ€æœ¯æ ˆ å¾®æœåŠ¡æŠ€æœ¯æ ˆåŒ…æ‹¬ï¼š\nå¾®æœåŠ¡æŠ€æœ¯ å¼‚æ­¥é€šè®¯æŠ€æœ¯ ç¼“å­˜æŠ€æœ¯ DevOps æœç´¢æŠ€æœ¯ å¾®æœåŠ¡æŠ€æœ¯ åœ¨å›½å†…çŸ¥åçš„å¾®æœåŠ¡è½åœ°æŠ€æœ¯æœ‰SpringCloudå’Œé˜¿é‡Œçš„Dubboã€‚\nå¸¸è§å¾®æœåŠ¡æŠ€æœ¯çš„å¯¹æ¯”ï¼š\nDubbo SpringCloud SpringCloudAlibaba æ³¨å†Œä¸­å¿ƒ Zookeeperã€Redis Eurekaã€Consul Nacosã€Eureka æœåŠ¡è¿œç¨‹è°ƒç”¨ Dubboåè®® Feignï¼ˆHTTPåè®®ï¼‰ Dubboã€Feign é…ç½®ä¸­å¿ƒ æ—  SpringCloudConfig SpringCloudConfigã€Nacos æœåŠ¡ç½‘å…³ æ—  SpringCloudGatewayã€Zuul SpringCloudGatewayã€Zuul æœåŠ¡ç›‘æ§å’Œä¿æŠ¤ dubbo-adminï¼ˆåŠŸèƒ½å¼±ï¼‰ Hystix Sentinel SpringCloud å®˜ç½‘ã€‚\nSpringCloudé›†æˆäº†å„ç§å¾®æœåŠ¡åŠŸèƒ½ç»„ä»¶ï¼Œå¹¶åŸºäºSpringBootå®ç°äº†è¿™äº›ç»„ä»¶çš„è‡ªåŠ¨è£…é…ã€‚è€ŒSpringCloudä¸SpringBootçš„ä¹‹é—´çš„ç‰ˆæœ¬å­˜åœ¨ä¸€ä¸ªå…¼å®¹å…³ç³»ï¼Œå¯é€šè¿‡å®˜ç½‘çš„è¯´æ˜æ–‡æ¡£æŸ¥çœ‹ã€‚\n","date":"2023å¹´6æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springcloud/introduction/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringCloud","url":"/tags/springcloud/"}],"timestamp":1687751172,"title":"å¾®æœåŠ¡ç®€ä»‹"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"è®¡ç®—æœºç³»ç»Ÿ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”è®¡ç®—æœºç³»ç»Ÿç¯‡\nåŸºæœ¬å•ä½ ä½ï¼ˆæ¯”ç‰¹ï¼‰\næœ€å°æ•°æ®å•ä½ bitã€b å­—èŠ‚\næœ€å°å­˜å‚¨å•ä½ byteã€B 1B = 8b åƒå­—èŠ‚ KB 1KB = 1024B å…†å­—èŠ‚ MB 1MB = 1024KB å‰å­—èŠ‚ GB 1GB = 1024MB å¤ªå­—èŠ‚ TB 1TB = 1024GB ä¸­å¤®å¤„ç†å•å…ƒ CPUçš„åŠŸèƒ½ï¼š\nåŠŸèƒ½ è¯´æ˜ ç¨‹åºæ§åˆ¶ é€šè¿‡æ‰§è¡ŒæŒ‡ä»¤æ¥æ§åˆ¶ç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚ æ“ä½œæ§åˆ¶ CPUäº§ç”Ÿæ¯æ¡æŒ‡ä»¤çš„ï¼ˆè‹¥å¹²ï¼‰æ“ä½œä¿¡å·å¹¶å°†æ“ä½œä¿¡å·é€å¾€å¯¹åº”çš„éƒ¨ä»¶ï¼Œæ§åˆ¶ç›¸åº”çš„éƒ¨ä»¶æŒ‰æŒ‡ä»¤çš„åŠŸèƒ½è¦æ±‚è¿›è¡Œæ“ä½œã€‚ æ—¶é—´æ§åˆ¶ å¯¹å„ç§æ“ä½œè¿›è¡Œæ—¶é—´ä¸Šçš„æ§åˆ¶ï¼Œå³æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­æ“ä½œä¿¡å·çš„å‡ºç°æ—¶é—´ã€æŒç»­æ—¶é—´åŠå‡ºç°çš„æ—¶é—´é¡ºåºéƒ½éœ€è¦è¿›è¡Œä¸¥æ ¼æ§åˆ¶ã€‚ æ•°æ®å¤„ç† é€šè¿‡å¯¹æ•°æ®è¿›è¡Œç®—æœ¯è¿ç®—åŠé€»è¾‘è¿ç®—ç­‰æ–¹å¼è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œæ•°æ®åŠ å·¥å¤„ç†çš„ç»“æœè¢«äººä»¬æ‰€åˆ©ç”¨ã€‚ CPUçš„ç»„æˆï¼š\nè¿ç®—å™¨ï¼š ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰ï¼šå¤„ç†æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—ã€‚ ç´¯åŠ å¯„å­˜å™¨ï¼ˆACï¼Œç´¯åŠ å™¨ï¼‰ï¼šé€šç”¨å¯„å­˜å™¨ï¼Œå­˜æ”¾æ“ä½œæ•°æˆ–è€…ç»“æœã€‚ã€‚ æ•°æ®ç¼“å†²å¯„å­˜å™¨ï¼ˆDRï¼‰ï¼šæš‚å­˜ç”±å†…å­˜è¯»/å†™çš„ä¸€æ¡æŒ‡ä»¤æˆ–ä¸€ä¸ªæ•°æ®å­—ã€‚ çŠ¶æ€æ¡ä»¶å¯„å­˜å™¨ï¼ˆPSWï¼‰ï¼šä¿å­˜äº†å½“å‰æŒ‡ä»¤æ‰§è¡Œå®Œæˆä¹‹åçš„çŠ¶æ€ã€‚ æ§åˆ¶å™¨ï¼š æŒ‡ä»¤å¯„å­˜å™¨ï¼ˆIRï¼‰ï¼šæš‚å­˜è¦æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼ŒæŒ‡ä»¤è®¡æ•°å™¨ï¼‰ï¼šå¯„å­˜ä¿¡æ¯å’ŒæŒ‡ä»¤è®¡æ•°ã€‚ åœ°å€å¯„å­˜å™¨ï¼ˆARï¼‰ï¼šä¿å­˜å½“å‰CPUæ‰€è®¿é—®çš„å†…å­˜å•å…ƒçš„åœ°å€ã€‚ æŒ‡ä»¤è¯‘ç å™¨ï¼ˆIDï¼‰ã€‚ å¯„å­˜å™¨ç»„ å†…éƒ¨æ€»çº¿ æ•°æ®ç¼–ç  å¯»å€æ–¹å¼ å¯»å€æ–¹å¼ è¯´æ˜ ç«‹å³å¯»å€ æ“ä½œæ•°å°±åŒ…å«åœ¨æŒ‡ä»¤ä¸­ã€‚ ç›´æ¥å¯»å€ æ“ä½œæ•°åœ¨å†…å­˜ï¼ŒæŒ‡ä»¤ç»™å‡ºæ“ä½œæ•°çš„åœ°å€ã€‚ å¯„å­˜å™¨å¯»å€ æ“ä½œæ•°åœ¨å¯„å­˜å™¨ï¼ŒæŒ‡ä»¤ç»™å‡ºæ“ä½œæ•°çš„å¯„å­˜å™¨åï¼ˆåœ°å€ï¼‰ã€‚ å¯„å­˜å™¨é—´æ¥å¯»å€ æ“ä½œæ•°åœ¨å†…å­˜ï¼Œå¯„å­˜å™¨å­˜æ”¾æ“ä½œæ•°çš„åœ°å€ï¼ŒæŒ‡ä»¤ç»™å‡ºå­˜æ”¾æ“ä½œæ•°åœ°å€çš„å¯„å­˜å™¨åœ°å€ã€‚ é—´æ¥å¯»å€ æŒ‡ä»¤ä¸­ç»™å‡ºæ“ä½œæ•°åœ°å€ï¼ˆæ“ä½œæ•°åœ°å€åœ¨å†…å­˜ä¸­ï¼‰çš„åœ°å€ã€‚ ç›¸å¯¹å¯»å€ æŒ‡ä»¤åœ°å€ç ç»™å‡ºçš„æ˜¯ä¸€ä¸ªåç§»é‡ï¼ˆå¯æ­£å¯è´Ÿï¼‰ï¼Œæ“ä½œæ•°åœ°å€ç­‰äºæœ¬æ¡æŒ‡ä»¤çš„åœ°å€åŠ ä¸Šè¯¥åç§»é‡ã€‚ å˜å€å¯»å€ æ“ä½œæ•°åœ°å€ç­‰äºå˜å€å¯„å­˜å™¨çš„å†…å®¹åŠ åç§»é‡ã€‚ æ ¡éªŒç  ç¼–ç ç³»ç»Ÿçš„ç è·ï¼š\n$\\ge 2$ï¼šè¯¥ç¼–ç ç³»ç»Ÿå…·æœ‰æ£€é”™èƒ½åŠ›ï¼› $\\ge 3$ï¼šè¯¥ç¼–ç ç³»ç»Ÿæ‰å¯èƒ½æœ‰çº é”™èƒ½åŠ›ã€‚ å¥‡å¶æ ¡éªŒç ï¼š\nç è·ä¸º2ã€‚ ä»…èƒ½æ£€æµ‹å¥‡æ•°ä½æ•°å‡ºé”™ã€‚ æµ·æ˜ç ï¼š\nè®¾æ•°æ®ä½æ˜¯$n$ä½ï¼Œæ ¡éªŒä½æ˜¯$k$ä½ï¼Œåˆ™$n$å’Œ$k$å¿…é¡»æ»¡è¶³ä»¥ä¸‹å…³ç³»ï¼š\n$$ 2^k-1 \\ge n+k $$\nå¾ªç¯å†—ä½™ï¼ˆn,kï¼‰ç ï¼š\nä¿¡æ¯ç ï¼ˆæ•°æ®ï¼‰ï¼Œå kä½ï¼› æ ¡éªŒç ï¼Œå n-kä½ï¼› ç è·ä¸º2ï¼Œå¯ä»¥æ£€é”™ä¸èƒ½çº é”™ã€‚ è®¡ç®—æœºæŒ‡ä»¤é›† RISC\nç²¾ç®€æŒ‡ä»¤é›†ï¼ˆè®¡ç®—æœºï¼‰ CISC\nå¤æ‚æŒ‡ä»¤é›†ï¼ˆè®¡ç®—æœºï¼‰ æŒ‡ä»¤ç§ç±» å°‘ã€ç²¾ç®€ å¤šã€å¤æ‚ æŒ‡ä»¤å¤æ‚åº¦ ä½ï¼ˆç®€å•ï¼‰ é«˜ï¼ˆå¤æ‚ï¼‰ æŒ‡ä»¤é•¿åº¦ å›ºå®š å˜åŒ– å¯»å€æ–¹å¼ å°‘ å¤æ‚å¤šæ · å®ç°ï¼ˆè¯‘ç æ–¹å¼ï¼‰ ç¡¬å¸ƒçº¿æ§åˆ¶é€»è¾‘ï¼ˆç»„åˆé€»è¾‘æ§åˆ¶å™¨ï¼‰ å¾®ç¨‹åºæ§åˆ¶æŠ€æœ¯ é€šç”¨å¯„å­˜å™¨æ•°é‡ å¤šã€å¤§é‡ ä¸€èˆ¬ æµæ°´çº¿æŠ€æœ¯ æ”¯æŒ ä¸æ”¯æŒ æµæ°´çº¿æŠ€æœ¯ æ‰§è¡Œ$n$æ¡æŒ‡ä»¤ï¼š\né¡ºåºæ‰§è¡Œæ€»æ—¶é—´ï¼š\n$$ é¡ºåºæ‰§è¡Œæ€»æ—¶é—´=å•æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ—¶é—´\\times n $$\næµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´ï¼š\n$$ æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´=ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ—¶é—´+æµæ°´çº¿å‘¨æœŸ \\times (n-1) $$\næµæ°´çº¿ï¼ˆæ“ä½œï¼‰å‘¨æœŸä¸ºæ‰§è¡Œæ—¶é—´æœ€é•¿çš„ä¸€æ®µæ“ä½œçš„æ—¶é—´ã€‚\nè¿ç»­è¾“å…¥$n$æ¡æŒ‡ä»¤çš„ååç‡ï¼š\n$$ ååç‡=\\cfrac {n}{æ€»æ‰§è¡Œæ—¶é—´} $$\nå¦‚æœæ˜¯æµæ°´çº¿çš„ååç‡ï¼Œåˆ™æ€»æ‰§è¡Œæ—¶é—´ä¸ºæµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´ã€‚ æµæ°´çº¿çš„ååç‡æ˜¯æœ€é•¿æµæ°´æ®µæ“ä½œæ—¶é—´çš„å€’æ•°ã€‚å³ï¼š\n$$ æœ€é•¿æµæ°´æ®µæ“ä½œæ—¶é—´=\\cfrac {æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´}{n} $$\nåŠ é€Ÿæ¯”ï¼š\n$$ åŠ é€Ÿæ¯” = \\cfrac{é¡ºåºæ‰§è¡Œæ€»æ—¶é—´}{æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´} $$\nå­˜å‚¨å™¨ æŒ‰å­˜å‚¨å™¨æ‰€å¤„ä½ç½®å¯åˆ†ä¸ºï¼š\nå†…å­˜ï¼ˆä¸»å­˜ï¼‰ï¼šåœ¨ä¸»æœºå†…æˆ–ä¸»æ¿ä¸Šï¼Œå­˜æ”¾æœºå™¨å½“å‰è¿è¡Œæ‰€éœ€çš„ç¨‹åºå’Œæ•°æ®ï¼Œä»¥ä¾¿å‘CPUæä¾›ä¿¡æ¯ã€‚ï¼ˆç›¸å¯¹å¤–å­˜ï¼‰å®¹é‡å°ã€é€Ÿåº¦å¿«ã€‚ å¤–å­˜ï¼ˆè¾…å­˜ï¼‰ï¼šå­˜æ”¾å½“å‰ä¸å‚åŠ è¿è¡Œçš„å¤§é‡ä¿¡æ¯ï¼Œåœ¨éœ€è¦æ—¶è°ƒå…¥å†…å­˜ã€‚ æŒ‰å­˜å‚¨å™¨å·¥ä½œæ–¹å¼ï¼š\nè¯»/å†™å­˜å‚¨å™¨ï¼ˆRAMï¼‰ã€‚ åªè¯»å­˜å‚¨å™¨ï¼šROMã€PROMã€EPROMã€EEPROMç­‰ã€‚ å›ºå®šåªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰ï¼šå‚å®¶ç”Ÿäº§æ—¶å°±å†™å¥½æ•°æ®åœ¨å…¶ä¸­ã€‚åªèƒ½è¯»ï¼ˆç”¨æˆ·ï¼‰ä¸èƒ½å†™ã€‚ä¸€èˆ¬ç”¨äºå­˜æ”¾BIOSå’Œå¾®ç¨‹åºæ§åˆ¶ã€‚ å¯ç¼–ç¨‹è¯»åªè¯»å­˜å‚¨å™¨ï¼ˆPROMï¼‰ï¼šå…¶å†…å®¹å¯ä»¥ç”±ç”¨æˆ·ä¸€æ¬¡æ€§åœ°å†™å…¥ï¼Œå†™å…¥åä¸èƒ½å†ä¿®æ”¹ã€‚ ç¼“å­˜ é«˜é€Ÿç¼“å­˜ä¸­çš„åœ°å€æ˜ åƒæ–¹æ³•ï¼š\nç›´æ¥æ˜ åƒï¼šä¸»å­˜çš„å—ä¸Cacheå—çš„å¯¹åº”å…³ç³»æ˜¯å›ºå®šçš„ã€‚å†²çªå¤šã€å…³ç³»å›ºå®šã€‚\nå…¨ç›¸è”æ˜ åƒï¼šå…è®¸ä¸»å­˜çš„ä»»ä¸€å—è°ƒå…¥Cacheå­˜å‚¨å™¨çš„ä»»ä¸€å—ã€‚å†²çªå°‘ã€å…³ç³»ä¸å›ºå®šã€‚\nç»„ç›¸è”æ˜ åƒï¼šå°†ç¼“å­˜å’Œä¸»å­˜å…ˆåˆ†ä¸ºç»„ï¼Œç»„ä¸‹å†åˆ†ä¸ºå—ã€‚ç»„ä¸ç»„é‡‡ç”¨ç›´æ¥æ˜ åƒï¼Œç»„å†…çš„å—é‡‡ç”¨å…¨ç›¸è”æ˜ åƒã€‚å†²çªè¾ƒå°‘ï¼Œæ˜¯ç›´æ¥æ˜ åƒä¸å…¨ç›¸è”æ˜ åƒçš„æŠ˜ä¸­ã€‚\nå‘ç”Ÿå—å†²çªä»å¤šåˆ°å°‘çš„é¡ºåºï¼šç›´æ¥æ˜ åƒ \u0026gt; ç»„ç›¸è”æ˜ åƒ \u0026gt; å…¨ç›¸è”æ˜ åƒã€‚\nåœ°å€æ˜ åƒéƒ½æ˜¯ç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆã€‚\nä¸­æ–­ ç¨‹åºæŸ¥è¯¢æ–¹å¼ï¼ˆç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼ï¼‰ï¼š\nCPUå’ŒI/Oåªèƒ½ä¸²è¡Œå·¥ä½œã€‚CPUéœ€è¦ä¸€ç›´è½®è¯¢æ£€æŸ¥ï¼Œé•¿æœŸå¤„äºå¿™ç­‰çŠ¶æ€ï¼ŒCPUåˆ©ç”¨ç‡ä½ã€‚ ä¸€æ¬¡åªèƒ½è¯»/å†™ä¸€ä¸ªå­—ã€‚ ç”±CPUå°†æ•°æ”¾å…¥å†…å­˜ã€‚ ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼š\nI/Oè®¾å¤‡é€šè¿‡ä¸­æ–­ä¿¡å·ä¸»åŠ¨å‘CPUæŠ¥å‘ŠI/Oæ“ä½œå·²å®Œæˆã€‚ CPUå’ŒI/Oå¯å¹¶è¡Œå·¥ä½œã€‚ CPUåˆ©ç”¨ç‡å¾—åˆ°æå‡ã€‚ ä¸€æ¬¡åªèƒ½è¯»/å†™ä¸€ä¸ªå­—ã€‚ ç”±CPUå°†æ•°æ®æ”¾å…¥å†…å­˜ã€‚ DMAæ–¹å¼ï¼ˆç›´æ¥å­˜å‚¨å™¨å­˜å‚¨æ–¹å¼ï¼‰ï¼š\nCPUå’ŒI/Oå¯å¹¶è¡Œå·¥ä½œã€‚ ä»…åœ¨ä¼ é€æ•°æ®å—å¤šå¼€å§‹å’Œç»“æŸæ—¶æ‰éœ€è¦CPUçš„å¹²é¢„ã€‚ ç”±å¤–è®¾ç›´æ¥å°†æ•°æ®æ”¾å…¥å†…å­˜ã€‚ ä¸€æ¬¡è¯»å†™çš„å•ä½ä¸º\u0026quot;å—\u0026quot;è€Œä¸æ˜¯å­—ã€‚ DMAä¼ è¾“æ•°æ®æ¯”ä¸­æ–­é©±åŠ¨æ–¹å¼ä¼ è¾“æ•°æ®è¦å¿«ä¸€ç‚¹ã€‚\næ€»çº¿ å¾®æœºä¸­çš„æ€»çº¿åˆ†ä¸ºï¼š\næ•°æ®æ€»çº¿ åœ°å€æ€»çº¿ æ§åˆ¶æ€»çº¿ å¸¸è§æ€»çº¿ï¼š\nISAæ€»çº¿ã€‚ EISAæ€»çº¿ã€‚ PCIæ€»çº¿ï¼šPCIæ€»çº¿æ˜¯ç›®å‰å¾®å‹æœºä¸Šå¹¿æ³›é‡‡ç”¨çš„å†…æ€»çº¿ï¼Œé‡‡ç”¨å¹¶è¡Œä¼ è¾“æ–¹å¼ã€‚ PCI Express æ€»çº¿ã€‚ å‰ç«¯æ€»çº¿ã€‚ RS-232Cã€‚ SCSIæ€»çº¿ï¼šå°å‹è®¡ç®—æœºç³»ç»Ÿæ¥å£ï¼ˆSCSIï¼‰æ˜¯ä¸€æ¡å¹¶è¡Œå¤–æ€»çº¿ã€‚ SATAã€‚ USBã€‚ IEEE-1394ã€‚ IEEE-488æ€»çº¿ã€‚ åŠ å¯†ä¸è®¤è¯æŠ€æœ¯ åŠ å¯†æŠ€æœ¯ç”¨äºé˜²æ­¢ç¬¬ä¸‰æ–¹çªƒå¬ï¼š\nå¯¹ç§°åŠ å¯†ï¼šåªæœ‰ä¸€æŠŠå¯†é’¥ã€‚åŠ å¯†å’Œè§£å¯†ç”¨åŒä¸€æŠŠå¯†é’¥ã€‚\nå¯†é’¥åˆ†å‘æœ‰ç¼ºé™·ã€‚ åŠ å¯†è§£å¯†é€Ÿåº¦å¾ˆå¿«ã€‚ é€‚åˆåŠ é‡å¤§é‡æ˜æ–‡æ•°æ®ã€‚ éå¯¹ç§°åŠ å¯†ï¼š\nåŠ å¯†å’Œè§£å¯†ä¸æ˜¯åŒä¸€æŠŠå¯†é’¥ã€‚ ä¸€å…±æœ‰ä¸¤æŠŠå¯†é’¥ï¼Œåˆ†åˆ«æ˜¯å…¬é’¥å’Œç§é’¥ã€‚ ç”¨å…¬é’¥åŠ å¯†åªèƒ½ç”¨ç§é’¥è§£å¯†ï¼Œç”¨ç§é’¥åŠ å¯†åªèƒ½ç”¨å…¬é’¥è§£å¯†ã€‚ ä¸èƒ½é€šè¿‡ä¸€æŠŠå¯†é’¥æ¨å‡ºå¦ä¸€æŠŠå¯†é’¥ã€‚ ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥åŠ å¯†æ˜æ–‡å¯ä»¥å®ç°é˜²æ­¢çªƒå¬çš„æ•ˆæœã€‚ å¯†é’¥åˆ†å‘æ²¡æœ‰ç¼ºé™·ã€‚ åŠ å¯†è§£å¯†é€Ÿåº¦å¾ˆæ…¢ã€‚ è®¤è¯æŠ€æœ¯ç”¨äºé˜²æ­¢ç¯¡æ”¹ã€å‡å†’å’Œå¦è®¤ï¼š\næ‘˜è¦ï¼ˆé˜²æ­¢ç¯¡æ”¹ï¼‰ï¼šHashç®—æ³•åŠ å¯†ï¼Œæ”¾åœ¨å¯†æ–‡åã€‚ æ•°å­—ç­¾åï¼ˆé˜²æ­¢å‡å†’å’Œå¦è®¤ï¼‰ï¼šå‘é€æ–¹ç”¨ç§é’¥å¯¹æ‘˜è¦è¿›è¡Œç­¾åï¼ˆåŠ å¯†ï¼‰ã€‚æ¥æ”¶æ–¹ç”¨å‘é€æ–¹çš„å…¬é’¥å¯¹æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼ˆè§£å¯†ï¼‰ã€‚ æ•°å­—è¯ä¹¦ï¼šCAæœºæ„ç”¨ç§é’¥å¯¹ç”¨æˆ·çš„å…¬é’¥ç­¾åï¼ˆåŠ å¯†ï¼‰ã€‚æ¥æ”¶æ–¹ç”¨CAçš„å…¬é’¥éªŒè¯ï¼ˆè§£å¯†ï¼‰ï¼Œä»è€Œå¾—åˆ°ç”¨æˆ·çš„å…¬é’¥ã€‚\nåŠ å¯†ç®—æ³•ï¼š\nå¯¹ç§°å¯†é’¥ï¼ˆç§é’¥ã€ç§æœ‰å¯†é’¥åŠ å¯†ï¼‰ç®—æ³•ï¼ˆå…±äº«å¯†é’¥åŠ å¯†ç®—æ³•ï¼‰ï¼š DES 3DES RC-5 IDEA AES RC4 éå¯¹ç§°å¯†é’¥ï¼ˆå…¬é’¥ã€å…¬å¼€å¯†é’¥åŠ å¯†ï¼‰ç®—æ³•ï¼š RSA ECC DSA å…¶ä»–åŠ å¯†ç®—æ³•ï¼š Hashå‡½æ•° SHA-1å®‰å…¨æ•£åˆ—ç®—æ³• MD5æ‘˜è¦ç®—æ³• ç³»ç»Ÿå¯é åº¦ ç¨‹åºè®¾è®¡è¯­è¨€ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”ç¨‹åºè®¾è®¡è¯­è¨€ç¯‡\nç¼–è¯‘è¿‡ç¨‹ å¿…é¡»çš„ç¼–è¯‘è¿‡ç¨‹é˜¶æ®µï¼š\nè¯æ³•åˆ†æ è¯­æ³•åˆ†æ è¯­ä¹‰åˆ†æ ç›®æ ‡ä»£ç ç”Ÿæˆ å¯çœç•¥çš„ç¼–è¯‘è¿‡ç¨‹é˜¶æ®µï¼š\nä¸­é—´ä»£ç ç”Ÿæˆ ï¼ˆä¸­é—´æˆ–ç›®æ ‡ï¼‰ä»£ç ä¼˜åŒ– é˜¶æ®µ è¯´æ˜ è¯æ³•åˆ†æ å¯¹æºç¨‹åºä»å‰åˆ°åï¼ˆä»å·¦åˆ°å³ï¼‰é€ä¸ªå­—ç¬¦åœ°æ‰«æï¼Œä»ä¸­è¯†åˆ«å‡ºä¸€ä¸ªä¸ªâ€œå•è¯â€ç¬¦å· è¯­æ³•åˆ†æ æ ¹æ®è¯­è¨€çš„è¯­æ³•è§„åˆ™å°†å•è¯ç¬¦å·åºåˆ—åˆ†è§£æˆå„ç±»è¯­æ³•å•ä½ è¯­ä¹‰åˆ†æ æ£€æŸ¥æºç¨‹åºæ˜¯å¦åŒ…å«é™æ€è¯­ä¹‰é”™è¯¯ ä¸­é—´ä»£ç ç”Ÿæˆ åˆ†æ°´å²­ï¼Œä¸Šé¢æ˜¯å‰ç«¯ï¼Œä¸‹é¢æ˜¯åç«¯ ä»£ç ä¼˜åŒ– æ‰€åšçš„ä¼˜åŒ–ä¸€èˆ¬ä¸å…·ä½“çš„æœºå™¨æ— å…³ ç›®æ ‡ä»£ç ç”Ÿæˆ æŠŠä¸­é—´ä»£ç å˜æ¢æˆæœºå™¨æŒ‡ä»¤ æ­£è§„å¼ ç¬¦å· åç§° å«ä¹‰ * é—­åŒ… è¡¨ç¤ºå…¶å‰é¢é“¾æ¥çš„ç¬¦å·æˆ–é›†åˆå¯ä»¥å‡ºç°$[0, +\\infty]$æ¬¡ã€‚ Â· è¿æ¥ å¯çœç•¥ï¼Œå°†å¤šä¸ªç¬¦å·æˆ–é›†åˆè¿æ¥èµ·æ¥ã€‚è¡¨ç¤ºé€»è¾‘ä¸ | æˆ– è¡¨ç¤ºé€»è¾‘æˆ–ã€‚ Exampleï¼š\nè®¾$U$ã€$V$å’Œ$W$å‡ä¸ºæ­£è§„å¼ï¼š\næœ‰é™è‡ªåŠ¨æœº ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic Finite Automataï¼ŒDFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦åè½¬ç§»çš„çŠ¶æ€æ˜¯å”¯ä¸€çš„ã€‚\nä¸€ä¸ªDFAæ˜¯ä¸€ä¸ªäº”å…ƒç»„$(S, \\Sigma, f, s_0, Z)$ï¼š\n$S$ï¼šåŒ…å«çŠ¶æ€çš„æœ‰é™é›†ï¼ˆæ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€ï¼‰ã€‚\n$\\Sigma$ï¼šæœ‰ç©·å­—æ¯è¡¨ï¼Œå…¶æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥å­—ç¬¦ã€‚\n$f$ï¼š$S \\times \\Sigma \\to S$ ä¸Šçš„å•å€¼éƒ¨åˆ†æ˜ åƒã€‚\n$$ f(A,a)=Q \\qquad A \\in S, a \\in \\Sigma $$\nè¡¨ç¤ºå½“å‰çŠ¶æ€ä¸º$A$ã€è¾“å…¥ä¸º$a$æ—¶ï¼Œå°†è½¬æ¢åˆ°ä¸‹ä¸€çŠ¶æ€$Q$ï¼Œç§°$Q$ä¸º$A$çš„ä¸€ä¸ªåç»§çŠ¶æ€ã€‚\n$s_0$ï¼šå”¯ä¸€çš„å¼€å§‹çŠ¶æ€ï¼Œ$s_0 \\in S$ã€‚\n$Z$ï¼šéç©ºçš„ç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œ$Z \\subseteq S$ã€‚\nDFAå¯ä»¥ç”¨ä¸¤ç§ç›´è§‚çš„æ–¹å¼è¡¨ç¤ºï¼š\nçŠ¶æ€è½¬æ¢å›¾ï¼šç®€ç§°ä¸ºè½¬æ¢å›¾ï¼Œæ˜¯ä¸€ä¸ªæœ‰å‘å›¾ã€‚\nDFAä¸­çš„æ¯ä¸ªçŠ¶æ€å¯¹åº”è½¬æ¢å›¾ä¸­çš„ä¸€ä¸ªç»“ç‚¹ã€‚\nDFAä¸­çš„æ¯ä¸ªè½¬æ¢å‡½æ•°å¯¹åº”å›¾ä¸­çš„ä¸€æ¡æœ‰å‘å¼§ã€‚\nåŒåœˆè¡¨ç¤ºçš„ç»“ç‚¹æ˜¯ç»ˆæ€ç»“ç‚¹ã€‚\nç»ˆæ€ä¹Ÿå¯ä»¥æ˜¯åˆæ€ã€‚\nè‹¥è½¬æ¢å‡½æ•°ä¸º$f(A,a)=Q$ï¼Œåˆ™è¯¥æœ‰å‘å¼§ä»ç»“ç‚¹$A$å‡ºå‘ï¼Œè¿›å…¥ç»“ç‚¹$Q$,å­—ç¬¦$a$æ˜¯å¼§ä¸Šçš„æ ‡è®°ã€‚\nçŠ¶æ€è½¬æ¢çŸ©é˜µï¼šç”¨ä¸€ä¸ªäºŒä½æ•°ç»„$M$è¡¨ç¤ºã€‚\nçŸ©é˜µå…ƒç´ $M[A,a]$ï¼š\nè¡Œä¸‹æ ‡ï¼šè¡¨ç¤ºçŠ¶æ€ã€‚å½“å‰çŠ¶æ€ä¸º$A$ã€‚ åˆ—ä¸‹æ ‡ï¼šè¡¨ç¤ºè¾“å…¥çš„å­—ç¬¦ã€‚å½“å‰è¾“å…¥ä¸º$a$ã€‚ $M[A,a]$çš„å€¼ï¼šå½“å‰çŠ¶æ€ä¸º$A$ã€è¾“å…¥ä¸º$a$æ—¶ï¼Œåº”è¯¥è½¬æ¢åˆ°çš„ä¸‹ä¸€çŠ¶æ€ã€‚ ä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automataï¼ŒNFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦åè½¬ç§»çš„çŠ¶æ€æ˜¯ä¸å”¯ä¸€çš„ã€‚\nNFAä¹Ÿæ˜¯ä¸€ä¸ªäº”å…ƒç»„$(S, \\Sigma, f, s_0, Z)$ã€‚ä¸DFAçš„åŒºåˆ«æ˜¯ï¼š\n$f$æ˜¯$S \\times \\Sigma \\to 2^S$ ä¸Šçš„æ˜ åƒã€‚\nå¯¹äº$S$ä¸­çš„ä¸€ä¸ªç»™å®šçŠ¶æ€åŠè¾“å…¥ç¬¦å·ï¼Œè¿”å›ä¸€ä¸ªçŠ¶æ€çš„é›†åˆã€‚å³å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚\næœ‰å‘å¼§ä¸Šçš„æ ‡è®°å¯ä»¥æ˜¯ $\\varepsilon$ï¼ˆ$\\varepsilon$ è¡¨ç¤ºç©ºï¼‰ã€‚\nDFAæ˜¯NFAçš„ç‰¹ä¾‹ã€‚\næœ‰é™è‡ªåŠ¨æœºè¯†åˆ«æˆåŠŸçš„ä¾æ®æ˜¯è·¯è·‘çš„é€šå¹¶ä¸”è·‘å®Œåçš„ç»ˆç‚¹æ˜¯ç»ˆæ€ã€‚\nè®¾è®¡è¯­è¨€æˆåˆ† æˆåˆ† åŒ…å« æ•°æ®æˆåˆ† æ ‡è¯†ç¬¦å…³é”®å­—å¸¸é‡å˜é‡å…¨å±€é‡å±€éƒ¨é‡æ•°æ®ç±»å‹ è¿ç®—æˆåˆ† ç®—æ•°å…³ç³»é€»è¾‘ä½ æ§åˆ¶ç»“æ„ é¡ºåºç»“æ„é€‰æ‹©ç»“æ„å¾ªç¯ç»“æ„ ä¼ è¾“æˆåˆ† å‡½æ•° æ•°æ®ç»“æ„ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”æ•°æ®ç»“æ„ç¯‡\nçº¿æ€§è¡¨ é¡ºåºè¡¨ï¼š\nåœ¨è¡¨é•¿ä¸º$n$çš„çº¿æ€§è¡¨ä¸­ï¼Œæœ‰$n+1$ä¸ªæ’å…¥ä½ç½®ï¼ˆä¸è€ƒè™‘æ’å…¥æ˜¯å¦ä¼šå¯¼è‡´æº¢å‡ºï¼‰ï¼š\nåœ¨ç¬¬$i$ä¸ªæ’å…¥ä½ç½®æ’å…¥ï¼Œéœ€è¦ç§»åŠ¨$n+1-i$ä¸ªå…ƒç´ ã€‚\nåœ¨ç¬¬1ä¸ªä½ç½®æ’å…¥ï¼ˆ$a_1$ï¼‰éœ€è¦ç§»åŠ¨$n$ä¸ªå…ƒç´ ï¼› åœ¨ç¬¬$n+1$ä¸ªä½ç½®æ’å…¥ï¼ˆ$a_n$åé¢ï¼‰ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ è®¾åœ¨ç¬¬$i$ä¸ªæ’å…¥ä½ç½®æ’å…¥çš„æ¦‚ç‡ä¸º$p_i$ï¼Œç­‰æ¦‚ç‡ä¸‹æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ éœ€è¦ç§»åŠ¨çš„å…ƒç´ ä¸ªæ•°çš„æœŸæœ›å€¼$E_{insert}$ä¸ºï¼š\n$$ E_{insert} = \\cfrac{æ’å…¥ä½ç½®æ•°-1}{2} = \\cfrac{n+1}{2} $$\nåœ¨è¡¨é•¿ä¸º$n$çš„çº¿æ€§è¡¨ä¸­åˆ é™¤å…ƒç´ æ—¶ï¼Œå…±æœ‰$n$ä¸ªå¯åˆ é™¤çš„å…ƒç´ ï¼š\nåˆ é™¤ç¬¬$i$ä¸ªå…ƒç´ $a_i$éœ€è¦ç§»åŠ¨$n-i$ä¸ªå…ƒç´ ã€‚\nåˆ é™¤å…ƒç´ $a_1$éœ€è¦ç§»åŠ¨$n-1$ä¸ªå…ƒç´ ï¼› åˆ é™¤å…ƒç´ $a_n$ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ è®¾$a_i$è¢«åˆ é™¤çš„æ¦‚ç‡ä¸º$q_i$ï¼Œç­‰æ¦‚ç‡ä¸‹åˆ é™¤å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨çš„å…ƒç´ ä¸ªæ•°çš„æœŸæœ›å€¼$E_{delete}$ä¸ºï¼š\n$$ E_{delete} = \\cfrac{åˆ é™¤ä½ç½®æ•°}{2} = \\cfrac{n-1}{2} $$\næ’å…¥æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼š\næœ€å¥½æƒ…å†µï¼ˆåœ¨ç¬¬$n+1$ä¸ªä½ç½®æ’å…¥ï¼‰ï¼š$O(1)$ï¼› æœ€åæƒ…å†µï¼ˆåœ¨ç¬¬1ä¸ªä½ç½®æ’å…¥ï¼‰ï¼š$O(n)$ï¼› å¹³å‡å¤æ‚åº¦ï¼š$O(n)$ã€‚ é“¾è¡¨æ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼ˆå¸¦ä¸å¸¦å¤´èŠ‚ç‚¹çš„å¤æ‚åº¦éƒ½ä¸€æ ·ï¼‰ï¼š\næœ€å¥½æƒ…å†µï¼ˆåœ¨$i=1$ä½ç½®ï¼‰ï¼š$O(1)$ï¼› æœ€åæƒ…å†µï¼ˆåœ¨$n+1$ä½ç½®æ’å…¥/åˆ é™¤$n$ä½ç½®ï¼‰ï¼š$O(n)$ å¹³å‡å¤æ‚åº¦ï¼š$O(n)$ ä¸²çš„æ¨¡å¼åŒ¹é… æœ´ç´ çš„æ¨¡å¼åŒ¹é…ï¼ˆå¸ƒé²ç‰¹ä¸€ç¦æ–¯ï¼‰ç®—æ³•ï¼š\nè®¾ä¸»ä¸²å’Œæ¨¡å¼ä¸²çš„é•¿åº¦åˆ†åˆ«ä¸º$n$å’Œ$m$ï¼Œç®—æ³•æ—¶é—´å¤æ‚åº¦å’Œæ¯”è¾ƒæ¬¡æ•°ï¼š\næœ€å¥½æƒ…å†µï¼š$O(m)$ï¼Œæ¬¡æ•°ä¸º$m$ï¼›\næœ€åæƒ…å†µï¼š$O(n \\times m)$ï¼Œæ¬¡æ•°ä¸º$\\cfrac{1}{2} m(n-m+2)$ï¼š\n$$ \\sum_{i=0}^{n-m}{p_i\\big( (i+1) \\times m \\big)} = \\cfrac{m}{n-m+1} \\sum_{i=0}^{n-m}{(i+1)} = \\cfrac{1}{2} m(n-m+2) $$\nå¹³å‡ï¼š$O(n+m)$ï¼Œæ¬¡æ•°ä¸º$\\cfrac{1}{2} (n+m)$ï¼š\n$$ \\sum_{i=0}^{n-m}{p_i(i+m)} = \\cfrac{1}{n-m+1} \\sum_{i=0}^{n-m}{i+m} = \\cfrac{1}{2} (n+m) $$\næ•°ç»„ è®¾ï¼š\näºŒç»´æ•°ç»„ä¸º$A[n,m]$ï¼Œ$n$ä¸ºè¡Œæ•°ï¼Œ$m$ä¸ºåˆ—æ•°ï¼› æ•°ç»„å…ƒç´ $a_{i,j},\\ 0 \\le i \\le n-1,\\ 0 \\le j \\le m-1$ï¼› $LOC(a_{i,j})$ä¸ºå…ƒç´ $a_{i,j}$çš„åœ°å€ï¼› $L$ä¸ºå•ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´å¤§å°ã€‚ åˆ™æœ‰ï¼š\nä»¥è¡Œä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{0,0}) + (i \\times n + j) \\times L $$\nå¦‚æœä¸‹æ ‡ä»1å¼€å§‹ï¼ˆ$1 \\le i \\le n,\\ 1 \\le j \\le m$ï¼‰ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{1,1}) + \\big( (i-1) \\times n + (j-1) \\big) \\times L $$\nä»¥åˆ—ä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{0,0}) + (i + j \\times m) \\times L $$\nå¦‚æœä¸‹æ ‡ä»1å¼€å§‹ï¼ˆ$1 \\le i \\le n,\\ 1 \\le j \\le m$ï¼‰ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{1,1}) + \\big( (i-1) + (j-1) \\times m \\big) \\times L $$\nå¯¹ç§°çŸ©é˜µï¼š\nå‡è®¾å°†$n$é˜¶å¯¹ç§°çŸ©é˜µ$A_{n \\times n}$å‹ç¼©å­˜å‚¨åˆ°ä¸€ç»´æ•°ç»„$B\\left[ \\cfrac{n(n+1)}{2} \\right]$ï¼Œåˆ™$B[k]\\ (1 \\le k \\le \\cfrac{n(n+1)}{2})$ä¸çŸ©é˜µå…ƒç´ $a_{ij}(a_{ji})\\ (1 \\le i,j \\le n)$ä¹‹é—´å­˜åœ¨ä¸€ä¸€å¯¹åº”å…³ç³»ï¼ˆä»¥è¡Œä¸ºä¸»åºï¼‰ï¼š\n$$ k = \\begin{cases} \\cfrac{i(i-1)}{2} + j, \u0026amp; å½“\\ i \\ge j \\\\ \\cfrac{j(j-1)}{2} + i, \u0026amp; å½“\\ i \u0026lt; j \\end{cases} $$\nå¦‚æœä¸‹æ ‡ä»0å¼€å§‹ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ ä¸º$a_{00}$ï¼Œ$0 \\le k \\le \\cfrac{n(n+1)}{2} - 1$ï¼Œå¹¶ä¸”$0 \\le i,j \\le n-1$ï¼‰ï¼š\n$$ k = \\begin{cases} \\cfrac{i(i+1)}{2} + j + 1, \u0026amp; å½“\\ i \\ge j \\\\ \\cfrac{j(j+1)}{2} + i + 1, \u0026amp; å½“\\ i \u0026lt; j \\end{cases} $$\nä¸‰å¯¹è§’çŸ©é˜µï¼š\nè®¾æœ‰$n$é˜¶ä¸‰å¯¹è§’çŸ©é˜µ$A_{n \\times n}$ï¼Œå°†å…¶é0å…ƒç´ $a_{ij}(a_{ji})\\ (1 \\le i,j \\le n)$å­˜å‚¨åœ¨ä¸€ç»´æ•°ç»„$B[k](1 \\le k \\le 3 \\times n - 2)$ä¸­ï¼Œåˆ™å…ƒç´ ä½ç½®ä¹‹é—´çš„å¯¹åº”å…³ç³»ä¸ºï¼š\n$$ k = 3 \\times (i-1) - 1 + j - i + 1 + 1 = 2i + j -2 $$\nå¦‚æœä¸‹æ ‡ä»0å¼€å§‹ï¼ˆ$0 \\le k \\le 3(n-1)$ï¼Œå¹¶ä¸”$0 \\le i,j \\le n-1$ï¼‰ï¼š\n$$ k = 3 \\times i - 1 + j - i + 1 + 1 = 2i + j + 1 $$\næ ‘ è®¾$n$ä¸ªç»“ç‚¹çš„æ ‘ï¼Œ$d_i \\ (1 \\le i \\le n)$ä¸ºè¯¥æ ‘ä¸­ç»“ç‚¹çš„åº¦ï¼š\n$$ n = (\\sum_{i=1}^{n}{d_i})+1 $$\nåº¦ï¼šç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ã€‚\nåº¦ä¸º$m$çš„æ ‘ä¸­ç¬¬$i$å±‚ä¸Šè‡³å¤šæœ‰$m^{i-1}$ä¸ªç»“ç‚¹ï¼ˆ$i \\ge 1$ï¼‰ã€‚\né«˜åº¦ä¸º$h$çš„$m$åº¦æ ‘è‡³å¤šæœ‰$\\cfrac{m^h-1}{m-1}$ä¸ªç»“ç‚¹ã€‚\näºŒå‰æ ‘ï¼š\nç¬¬$i$å±‚ï¼ˆ$i \\ge 1$ï¼‰ä¸Šæœ€å¤šæœ‰$2^{i-1}$ä¸ªç»“ç‚¹ã€‚\né«˜åº¦ä¸º$k$çš„äºŒå‰æ ‘æœ€å¤šæœ‰$2^k-1$ä¸ªç»“ç‚¹ï¼ˆ$k \\ge 1$ï¼‰ã€‚\nè‹¥äºŒå‰æ ‘ç»ˆç«¯ç»“ç‚¹æ•°ï¼ˆåº¦ä¸º0çš„ç»“ç‚¹æ•°ï¼‰ä¸º$n_0$ï¼Œåº¦2çš„ç»“ç‚¹æ•°ä¸º$n_2$ï¼Œåˆ™$n_0=n_2+1$ã€‚\nå…·æœ‰$n$ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ï¼ˆé«˜åº¦ï¼‰ä¸ºï¼š\n$$ \\lfloor \\log_2{n} \\rfloor + 1; $$\næˆ–ï¼š\n$$ \\lceil \\log_2{(n+1)} \\rceil $$\näºŒå‰æ ‘å½¢æ€æ€»æ•°ï¼ˆå¡ç‰¹å…°æ•°ï¼‰ï¼š\n$$ \\cfrac{C^{n}_{2n}}{n+1} $$\né“¾å¼å­˜å‚¨äºŒå‰æ ‘ï¼š\nè®¾æœ‰$n$ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œåˆ™å…¶ç©ºæŒ‡é’ˆåŸŸæ•°é‡ï¼š\nå¯¹äºäºŒå‰é“¾è¡¨ï¼š\næ€»æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$2n$ï¼› åˆ†æ”¯æ•°ï¼ˆå­å­™ç»“ç‚¹æ•°ï¼Œéç©ºæŒ‡é’ˆåŸŸä¸ªæ•°ï¼‰ï¼š$n-1$ã€‚ å¯å¾—ï¼š\n$$ ç©ºæŒ‡é’ˆåŸŸæ•°=2n-(n-1)=n+1 $$\nå¯¹äºä¸‰å‰é“¾è¡¨ï¼š\næ€»æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$3n$ï¼› åˆ†æ”¯æ•°ï¼ˆå­å­™ç»“ç‚¹æ•°ï¼‰ï¼š$n-1$ï¼› æŒ‡å‘çˆ¶ç»“ç‚¹ä¸”éç©ºçš„æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$n-1$ã€‚ å³ï¼Œéç©ºæŒ‡é’ˆåŸŸä¸ªæ•°ä¸ºï¼š$2(n-1)$ã€‚\nå¯å¾—ï¼š\n$$ ç©ºæŒ‡é’ˆåŸŸæ•°=3n-2(n-1)=n+2 $$\nå¹³è¡¡äºŒå‰æ ‘ï¼š\nè®¾ä¸€ä¸ªäºŒå‰æ ‘çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸º$d$ï¼Œé‚£ä¹ˆ\nä¸å¹³è¡¡çš„äºŒå‰æ ‘ï¼š$d \u0026gt; 1$ï¼› å¹³è¡¡çš„äºŒå‰æ ‘ï¼š$d \\le 1$ã€‚ å“ˆå¤«æ›¼æ ‘ï¼ˆæœ€ä¼˜äºŒå‰æ ‘ï¼‰ï¼šå¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­ã€‚\nè®¾ï¼š\nå¸¦æƒå¶å­ç»“ç‚¹æ•°ï¼š$n$ï¼› å¶å­ç»“ç‚¹çš„æƒå€¼ï¼š$w_k$ï¼› å¶å­ç»“ç‚¹åˆ°æ ¹çš„è·¯å¾„é•¿åº¦ï¼š$l_k$ã€‚ åˆ™æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºï¼š\n$$ WPL = \\sum_{k=1}^{n}{w_kl_k} $$\nç»™å®š$n$ä¸ªæƒå€¼åï¼Œå“ˆå¤«æ›¼æ ‘çš„ç»“ç‚¹æ•°$m$å°±ç¡®å®šäº†ï¼š\n$$ m = 2 \\times n - 1 $$\nå“ˆå¤«æ›¼å‹ç¼©æ¯”ï¼š\næŒ‰ç…§å‡ºç°é¢‘ç‡è®¡ç®—åŠ æƒå¹³å‡é•¿åº¦ï¼š\n$$ åŠ æƒå¹³å‡é•¿åº¦ = \\sum_{i=1}^{5}{å­—ç¬¦içš„ä½æ•° \\times å­—ç¬¦iå‡ºç°é¢‘ç‡} $$\nå³ï¼š\n$$ 1 \\times 40% + 3 \\times (10% + 20% + 16% + 14%) = 2.2 $$\nå‹ç¼©åå¹³å‡é•¿åº¦ä¸º2.2ã€‚\nè®¡ç®—å‹ç¼©æ¯”ï¼š\n$$ å‹ç¼©æ¯” = \\cfrac{å‹ç¼©å‰ç¼–ç é•¿åº¦ - å‹ç¼©åå¹³å‡é•¿åº¦}{å‹ç¼©å‰ç¼–ç é•¿åº¦} $$\nå³ï¼Œ\nç¼–ç 5ä¸ªå­—ç¬¦è‡³å°‘éœ€è¦3ä½ï¼š$2^2 \u0026lt; 5 \u0026lt; 2^3$ï¼Œæ‰€ä»¥å‹ç¼©å‰ç¼–ç é•¿åº¦ä¸º3ï¼›\nå‹ç¼©æ¯”ï¼š\n$$ \\cfrac{3-2.2}{3} \\approx 0.27 $$\nå›¾ å®Œå…¨å›¾ï¼š\n$n$ä¸ªé¡¶ç‚¹çš„æ— å‘å®Œå…¨å›¾å…±æœ‰$\\cfrac{n(n-1)}{2}$æ¡è¾¹ã€‚ $n$ä¸ªé¡¶ç‚¹çš„æœ‰å‘å®Œå…¨å›¾å…±æœ‰$n(n-1)$æ¡è¾¹ã€‚ å¯¹äºæ‰€æœ‰çš„å›¾ï¼Œå…¶æ‰€æœ‰é¡¶ç‚¹çš„åº¦æ•°ä¹‹å’Œ $= 2e$ï¼ˆ$e$ä¸ºè¾¹æ•°ï¼‰ã€‚\n$n$ä¸ªç»“ç‚¹çš„è¿é€šå›¾ï¼Œå®ƒçš„è¾¹çš„å–å€¼èŒƒå›´æ˜¯$[n-1,\\cfrac{n(n-1)}{2}]$ã€‚\nå›¾çš„é‚»æ¥çŸ©é˜µï¼šæ¨ª$i$ç«–$j$ï¼Œæ¨ªå‡ºç«–å…¥ã€‚\næ·±åº¦ä¼˜å…ˆæœç´¢ï¼š\nè®¾ç½®æœç´¢æŒ‡é’ˆ$p$ï¼Œä½¿$p$æŒ‡å‘é¡¶ç‚¹$v$ï¼› è®¿é—®$p$æ‰€æŒ‡é¡¶ç‚¹ï¼Œå¹¶ä½¿$p$æŒ‡å‘ä¸å…¶ç›¸é‚»æ¥çš„ä¸”å°šæœªè¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚ è‹¥$p$æ‰€æŒ‡é¡¶ç‚¹å­˜åœ¨ï¼Œåˆ™é‡å¤æ­¥éª¤2ï¼Œå¦åˆ™æ‰§è¡Œæ­¥éª¤4ã€‚ æ²¿ç€è®¿é—®çš„æ¬¡åºå’Œæ–¹å‘å›æº¯åˆ°æœ€åä¸€ä¸ªæœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥é¡¶ç‚¹çš„é¡¶ç‚¹ï¼Œå¹¶ä½¿$p$æŒ‡å‘è¿™ä¸ªæœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œç„¶åé‡å¤æ­¥éª¤2åˆ°4ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¹ç‚¹å‡è¢«è®¿é—®ä¸ºæ­¢ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š\nä»å›¾ä¸­çš„æŸä¸ªé¡¶ç‚¹$v$å‡ºå‘ï¼› è®¿é—®$v$åï¼Œä¾æ¬¡è®¿é—®$v$çš„å„ä¸ªæœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ï¼› åˆ†åˆ«ä»$v$çš„é‚»æ¥ç‚¹å‡ºå‘ï¼Œä¾æ¬¡è®¿é—®å®ƒä»¬çš„é‚»æ¥ç‚¹ï¼› æŒ‰ç…§$v$çš„é‚»æ¥ç‚¹è®¿é—®çš„å…ˆåé¡ºåºï¼Œé‡å¤æ­¥éª¤2åˆ°4ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰å·²è¢«è®¿é—®çš„é¡¹ç‚¹çš„é‚»æ¥ç‚¹éƒ½è¢«è®¿é—®åˆ°ï¼› è‹¥æ­¤æ—¶è¿˜æœ‰æœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰å›¾ä¸­çš„ä¸€ä¸ªæœªè¢«è®¿é—®çš„é¡¹ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ä¸ºæ­¢ã€‚ å¹¿åº¦å’Œæ·±åº¦ä¼˜å…ˆæœç´¢æ—¶é—´å¤æ‚åº¦ï¼ˆä¸€æ ·ï¼‰ï¼š\né‚»æ¥çŸ©é˜µï¼š$O(n^2)$ï¼› é‚»æ¥é“¾è¡¨ï¼š$O(n+e)$ã€‚ AOV ç½‘æ‹“æ‰‘æ’åºï¼šå¦‚æœæ‰€æœ‰é¡¶ç‚¹å·²è¾“å‡ºï¼Œè¯´æ˜ç½‘ä¸­ä¸å­˜åœ¨å›è·¯ï¼Œå¦åˆ™è¯´æ˜å­˜åœ¨ã€‚\nåœ¨AOVç½‘ä¸­é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º0çš„é¡¶ç‚¹ä¸”è¾“å‡ºå®ƒã€‚ ä»ç½‘ä¸­åˆ é™¤è¯¥é¡¶ç‚¹åŠä¸è¯¥é¡¶ç‚¹æœ‰å…³çš„æ‰€æœ‰å¼§ã€‚ é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œç›´åˆ°ç½‘ä¸­ä¸å­˜åœ¨å…¥åº¦ä¸º0çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚ æ“ä½œç³»ç»Ÿ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”æ“ä½œç³»ç»Ÿç¯‡\nè¿›ç¨‹çš„ä¸‰æ€ è¿è¡Œï¼šå½“ä¸€ä¸ªè¿›ç¨‹åœ¨å¤„ç†æœºä¸Šè¿è¡Œæ—¶ã€‚ å°±ç»ªï¼šä¸€ä¸ªè¿›ç¨‹è·å¾—äº†é™¤å¤„ç†æœºå¤–çš„ä¸€åˆ‡æ‰€éœ€èµ„æºï¼Œä¸€æ—¦å¾—åˆ°å¤„ç†æœºå³å¯è¿è¡Œï¼ˆè¿˜æœªå¾—åˆ°ï¼‰ã€‚ é˜»å¡ï¼ˆç­‰å¾…æˆ–ç¡çœ ï¼‰ï¼šä¸€ä¸ªè¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸€äº‹ä»¶å‘ç”Ÿè€Œæš‚æ—¶åœæ­¢è¿è¡Œï¼Œè¿™æ—¶å³ä½¿æŠŠå¤„ç†æœºåˆ†é…ç»™è¿›ç¨‹ä¹Ÿæ— æ³•è¿è¡Œã€‚ åŒæ­¥äº’æ–¥ åŒæ­¥ï¼šæŒ‡åœ¨ç³»ç»Ÿä¸­ä¸€äº›éœ€è¦ç›¸äº’åˆä½œï¼ŒååŒå·¥ä½œçš„è¿›ç¨‹ã€‚\näº’æ–¥ï¼šæŒ‡ç³»ç»Ÿä¸­å¤šä¸ªè¿›ç¨‹å› äº‰ç”¨ä¸´ç•Œèµ„æºè€Œäº’æ–¥æ‰§è¡Œã€‚\nä¸´ç•Œèµ„æºï¼ˆCRï¼‰ï¼šåœ¨å¤šé“ç¨‹åºç³»ç»Ÿç¯å¢ƒä¸­ï¼Œé‚£äº›ä¸€æ¬¡åªèƒ½ä¾›ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºã€‚å¦‚æ‰“å°æœºã€å…±äº«å˜é‡å’Œè¡¨æ ¼ç­‰ã€‚\nä¸´ç•ŒåŒºï¼ˆCSï¼‰ï¼šæ˜¯è¿›ç¨‹ä¸­å¯¹ä¸´ç•Œèµ„æºå®æ–½æ“ä½œçš„é‚£æ®µç¨‹åºã€‚\näº’æ–¥ä¸´ç•ŒåŒºç®¡ç†çš„4æ¡åŸåˆ™ï¼šæœ‰ç©ºå³è¿›ã€æ— ç©ºåˆ™ç­‰ã€æœ‰é™ç­‰å¾…å’Œè®©æƒç­‰å¾…ã€‚\nä¿¡å·é‡ å…¬ç”¨ä¿¡å·é‡ï¼šå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ï¼Œåˆå€¼ä¸º1æˆ–èµ„æºçš„æ•°ç›®ã€‚ ç§ç”¨ä¿¡å·é‡ï¼šå®ç°è¿›ç¨‹é—´çš„åŒæ­¥ï¼Œåˆå€¼ä¸º0æˆ–æŸä¸ªæ­£æ•´æ•°ã€‚ ä¿¡å·é‡$S$çš„ç‰©ç†æ„ä¹‰ï¼š\n$S \\ge 0$ï¼šè¡¨ç¤ºæŸèµ„æºçš„å¯ç”¨æ•°ï¼Œæ­¤æ—¶æœ‰å¯ç”¨èµ„æºï¼› $S \u0026lt; 0$ï¼šåˆ™å…¶ç»å¯¹å€¼è¡¨ç¤ºé˜»å¡é˜Ÿåˆ—ä¸­ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹æ•°ï¼Œæ­¤æ—¶æ— å¯ç”¨èµ„æºï¼Œå¹¶ä¸”æœ‰è¿›ç¨‹è¢«é˜»å¡ã€‚ PVæ“ä½œï¼šPç”³è¯·Vé‡Šæ”¾ï¼ŒPå‡VåŠ ï¼ŒPè¿›Vå‡ºã€‚\nPæ“ä½œ$S \u0026lt; 0$ï¼šæ— å¯ç”¨èµ„æºï¼Œç½®è¯¥è¿›ç¨‹ä¸ºé˜»å¡çŠ¶æ€ã€‚ Væ“ä½œ$S \\le 0$ï¼šè¡¨ç¤ºé‡Šæ”¾å‰æœ‰ç¨‹åºè¢«é˜»å¡ï¼Œä»é˜»å¡çŠ¶æ€å”¤é†’ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å°†å…¶æ’å…¥å°±ç»ªé˜Ÿåˆ—ã€‚ å‡å®šä¿¡å·é‡Sè¡¨ç¤ºæŸæ¡æ¶ˆæ¯ï¼Œè¿›ç¨‹å¯ä»¥ï¼š\nè°ƒç”¨Pæ“ä½œï¼šæµ‹è¯•æ¶ˆæ¯æ˜¯å¦åˆ°è¾¾ï¼› è°ƒç”¨Væ“ä½œï¼šé€šçŸ¥æ¶ˆæ¯å·²ç»å‡†å¤‡å¥½ã€‚ æ­»é” äº§ç”Ÿæ­»é”çš„åŸå› ï¼š\nè¿›ç¨‹é—´äº’ç›¸ç«äº‰èµ„æºã€‚ è¿›ç¨‹æ¨è¿›é¡ºåºéæ³•ã€‚ äº§ç”Ÿæ­»é”çš„4ä¸ªå¿…è¦æ¡ä»¶ï¼š\näº’æ–¥æ¡ä»¶ è¯·æ±‚ä¿æŒæ¡ä»¶ ä¸å¯å‰¥å¤ºæ¡ä»¶ ç¯è·¯æ¡ä»¶ å‘ç”Ÿæ­»é”æ—¶ï¼Œåœ¨è¿›ç¨‹èµ„æºæœ‰å‘å›¾ä¸­å¿…æ„æˆç¯è·¯ã€‚\né€ æˆæ­»é”çš„æƒ…å†µï¼š\nè¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“ åŒç±»èµ„æºåˆ†é…ä¸å½“ PVæ“ä½œä½¿ç”¨ä¸å½“ æ­»é”çš„å¤„ç†ç­–ç•¥ï¼š\né¸µé¸Ÿç­–ç•¥ï¼ˆä¸ç†ç¬ç­–ç•¥ï¼‰ é¢„é˜²ç­–ç•¥ é¿å…ç­–ç•¥ æ£€æµ‹ä¸è§£é™¤æ­»é” æ­»é”é¢„é˜²ï¼š\né¢„å…ˆé™æ€åˆ†é…æ³•ï¼šç ´åäº†â€œä¸å¯å‰¥å¤ºæ¡ä»¶â€ï¼Œé¢„å…ˆåˆ†é…æ‰€éœ€èµ„æºï¼Œä¿è¯ä¸ç­‰å¾…èµ„æºã€‚\nè¯¥æ–¹æ³•çš„é—®é¢˜æ˜¯é™ä½äº†å¯¹èµ„æºçš„åˆ©ç”¨ç‡ï¼Œé™ä½è¿›ç¨‹çš„å¹¶å‘ç¨‹åº¦ï¼›æœ‰æ—¶å¯èƒ½æ— æ³•é¢„å…ˆçŸ¥é“æ‰€éœ€èµ„æºã€‚\nèµ„æºæœ‰åºåˆ†é…æ³•ï¼šç ´åäº†â€œç¯è·¯æ¡ä»¶â€ï¼ŒæŠŠèµ„æºåˆ†ç±»æŒ‰é¡ºåºæ’åˆ—ï¼Œä¿è¯ä¸å½¢æˆç¯è·¯ã€‚\nè¯¥æ–¹æ³•å­˜åœ¨çš„é—®é¢˜æ˜¯é™åˆ¶è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚ï¼šç”±äºèµ„æºçš„æ’åºå ç”¨ç³»ç»Ÿå¼€é”€ã€‚\né“¶è¡Œå®¶ç®—æ³•\nçº¿ç¨‹ï¼ˆè½»å‹è¿›ç¨‹ï¼‰ åŸºæœ¬ä¸Šä¸æ‹¥æœ‰èµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼ˆå¦‚ç¨‹åºè®¡æ•°å™¨ã€ä¸€ç»„å¯„å­˜å™¨å’Œæ ˆï¼‰ã€‚ ä¸å…¶å®ƒåŒä¸€è¿›ç¨‹çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚ çº¿ç¨‹åˆ†ä¸ºï¼š\nç”¨æˆ·çº§çº¿ç¨‹ å†…æ ¸æ”¯æŒçº¿ç¨‹ å­˜å‚¨ç®¡ç† ç¨‹åºçš„å±€é™æ€§ï¼š\næ—¶é—´å±€é™æ€§ï¼š\nå¦‚æœç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œåˆ™ä¸ä¹…çš„å°†æ¥è¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡è¢«æ‰§è¡Œï¼› å¦‚æœæŸä¸ªå­˜å‚¨å•å…ƒè¢«è®¿é—®ï¼Œåˆ™ä¸ä¹…ä»¥åè¯¥å­˜å‚¨å•å…ƒå¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚ äº§ç”Ÿæ—¶é—´å±€é™æ€§çš„å…¸å‹åŸå› æ˜¯åœ¨ç¨‹åºä¸­å­˜åœ¨ç€å¤§é‡çš„å¾ªç¯æ“ä½œã€‚\nç©ºé—´å±€é™æ€§ï¼šæŒ‡ä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿæœ€æœ‰å¯èƒ½è¢«è®¿é—®ã€‚\nå³ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€å¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼Œå…¶å…¸å‹åŸå› ä¸ºç¨‹åºæ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚\næ®µé¡µå¼å­˜å‚¨ç®¡ç†ï¼š\nå°†æ•´ä¸ªä¸»å­˜åˆ’åˆ†æˆå¤§å°ç›¸ç­‰çš„å­˜å‚¨å—ï¼ˆé¡µæ¡†ï¼‰ã€‚ å°†ç”¨æˆ·ç¨‹åºæŒ‰ç¨‹åºçš„é€»è¾‘å…³ç³»åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µï¼Œå¹¶ä¸ºæ¯ä¸ªæ®µèµ‹äºˆä¸€ä¸ªæ®µåã€‚ å°†æ¯ä¸ªæ®µåˆ’åˆ†æˆè‹¥å¹²é¡µï¼Œä»¥é¡µæ¡†ä¸ºå•ä½ç¦»æ•£åˆ†é…ã€‚ ç¼“å†² $n$ä¸ªä½œä¸šçš„å•ç¼“å†²æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ºï¼š\n$$ (Max(C, T) + M) \\times n + Min(C, T) $$\n$n$ä¸ªä½œä¸šçš„åŒç¼“å†²æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ºï¼š\n$$ Max(T, M, C) \\times n + T + M + C - Max(T, M, C) $$\nå³ï¼Œ\n$$ Max(T, M, C) \\times (n - 1) + T + M + C $$\nç£ç›˜è°ƒåº¦ å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFirst-Come First-Servedï¼ŒFCFSï¼‰ï¼šæ ¹æ®è¿›ç¨‹è¯·æ±‚è®¿é—®ç£ç›˜çš„å…ˆåæ¬¡åºè¿›è¡Œè°ƒåº¦ã€‚\nä¼˜ç‚¹ï¼šå…¬å¹³ã€ç®€å•ï¼Œä¸”æ¯ä¸ªè¿›ç¨‹çš„è¯·æ±‚éƒ½èƒ½ä¾æ¬¡å¾—åˆ°å¤„ç†ï¼Œä¸ä¼šå‡ºç°æŸè¿›ç¨‹çš„è¯·æ±‚é•¿æœŸå¾—ä¸åˆ°æ»¡è¶³çš„æƒ…å†µã€‚ ç¼ºç‚¹ï¼šæ­¤ç®—æ³•ç”±äºæœªå¯¹å¯»é“è¿›è¡Œä¼˜åŒ–ï¼Œè‡´ä½¿å¹³å‡å¯»é“æ—¶é—´å¯èƒ½è¾ƒé•¿ã€‚ æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼ˆShortest Seek Time Firstï¼ŒSSTFï¼Œæœ€çŸ­ç§»è‡‚ç®—æ³•ï¼‰ï¼šè¯¥ç®—æ³•é€‰æ‹©è¿™æ ·çš„è¿›ç¨‹ï¼Œå…¶è¦æ±‚è®¿é—®çš„ç£é“ä¸å½“å‰ç£å¤´æ‰€åœ¨çš„ç£é“è·ç¦»æœ€è¿‘ï¼Œä½¿å¾—æ¯æ¬¡çš„å¯»é“æ—¶é—´æœ€çŸ­ã€‚\nä¼˜ç‚¹ï¼šå¯èƒ½ä¼šå‡ºç°é¥¥é¥¿ç°è±¡ã€‚ ç¼ºç‚¹ï¼šä¸èƒ½ä¿è¯å¹³å‡å¯»é“æ—¶é—´æœ€çŸ­ã€‚ æ‰«æç®—æ³•ï¼ˆSCANï¼Œç”µæ¢¯è°ƒåº¦ç®—æ³•ï¼‰ï¼šæ€»æ˜¯ä»ç£å¤´å½“å‰ä½ç½®å¼€å§‹ï¼Œæ²¿ç£å¤´çš„ç§»åŠ¨æ–¹å‘å»é€‰æ‹©ç¦»å½“å‰ç£å¤´æœ€è¿‘çš„é‚£ä¸ªæŸ±é¢çš„è¯·æ±‚ã€‚å¦‚æœæ²¿ç£å¤´çš„æ–¹å‘æ— è¯·æ±‚è®¿é—®æ—¶ï¼Œå°±æ”¹å˜ç£å¤´çš„ç§»åŠ¨æ–¹å‘ã€‚\nåœ¨è¿™ç§è°ƒåº¦æ–¹æ³•ä¸‹ç£å¤´çš„ç§»åŠ¨ç±»ä¼¼äºç”µæ¢¯çš„è°ƒåº¦ï¼Œæ‰€ä»¥å®ƒä¹Ÿç§°ä¸ºç”µæ¢¯è°ƒåº¦ç®—æ³•ã€‚\nä¼˜ç‚¹ï¼šé¿å…äº†é¥¥é¥¿ç°è±¡çš„å‡ºç°ã€‚ ç¼ºç‚¹ï¼šå½“ç£å¤´åˆšä»é‡Œå‘å¤–ç§»åŠ¨è¿‡æŸä¸€ç£é“æ—¶ï¼Œæ°æœ‰ä¸€è¿›ç¨‹è¯·æ±‚è®¿é—®æ­¤ç£é“ï¼Œè¿™æ—¶è¯¥è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œå¾…ç£å¤´ä»é‡Œå‘å¤–ï¼Œå†ä»å¤–å‘é‡Œæ‰«æå®Œæ‰€æœ‰è¦è®¿é—®çš„ç£é“åæ‰å¤„ç†è¯¥è¿›ç¨‹çš„è¯·æ±‚ï¼Œè‡´ä½¿è¯¥è¿›ç¨‹çš„è¯·æ±‚è¢«ä¸¥é‡åœ°æ¨è¿Ÿã€‚ å•å‘æ‰«æç®—æ³•ï¼ˆCSCANï¼Œå¾ªç¯æ‰«æç®—æ³•ï¼‰ï¼šä¸ºäº†å‡å°‘ä¸Šè¿°SCANç¼ºç‚¹ä¸­å­˜åœ¨çš„è¿™ç§å»¶è¿Ÿï¼Œç®—æ³•è§„å®šç£å¤´åªåšå•å‘ç§»åŠ¨ã€‚\nä¾‹å¦‚ï¼Œåªæ˜¯è‡ªé‡Œå‘å¤–ç§»åŠ¨ï¼Œä»å½“å‰ä½ç½®å¼€å§‹æ²¿ç£å¤´çš„ç§»åŠ¨æ–¹å‘å»é€‰æ‹©ç¦»å½“å‰ç£å¤´æœ€è¿‘çš„é‚£ä¸ªæŸ±é¢è®¿é—®ï¼Œå¦‚æœæ²¿ç£å¤´çš„æ–¹å‘æ— è¯·æ±‚è®¿é—®æ—¶ï¼Œç£å¤´ç«‹å³è¿”å›åˆ°æœ€é‡Œé¢çš„æ¬²è®¿é—®çš„æŸ±é¢ï¼Œå†äº¦å³å°†æœ€å°æŸ±é¢å·ç´§æ¥ç€æœ€å¤§æŸ±é¢å·æ„æˆå¾ªç¯ï¼Œè¿›è¡Œå¾ªç¯æ‰«æã€‚\næ—‹è½¬è°ƒåº¦ç®—æ³• è®¾$n$ä¸ªæ‰‡åŒºçš„ç£ç›˜ï¼Œç»è¿‡ä¸€ä¸ªæ‰‡åŒºçš„æ—¶é—´ä¸º$t$ï¼Œè¯»å–ä¸€ä¸ªè®°å½•åå¤„ç†çš„æ—¶é—´ä¸º$c$ï¼Œé‚£ä¹ˆï¼š\né¡ºåºå¤„ç†å®Œæ‰€æœ‰è®°å½•çš„æ€»æ—¶é—´ä¸ºï¼š\n$$ (t + nt) (n-1) + t + c $$\nå³ï¼š\n$$ t \\times n^2 + c $$\nè®°å½•ä¼˜åŒ–åçš„æ€»æ—¶é—´ï¼š\n$$ n(t + c) $$\nå¤šçº§ç£ç›˜ç´¢å¼•ç»“æ„ ç›´æ¥ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹ç›´æ¥æŒ‡å‘ç£ç›˜æ•°æ®å—ã€‚\nä¸€çº§é—´æ¥åœ°å€ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹æŒ‡å‘ä¸€ä¸ªç£ç›˜ç´¢å¼•å—ã€‚è¿™ä¸ªç´¢å¼•å—ä¸­çš„è®°å½•æ˜¯åœ°å€é¡¹ï¼Œè¿™äº›åœ°å€é¡¹ç›´æ¥æŒ‡å‘ç£ç›˜æ•°æ®å—ã€‚\nç§°è¿™ä¸ªç£ç›˜ç´¢å¼•å—ä¸ºä¸€çº§ç´¢å¼•å—ã€‚\näºŒçº§é—´æ¥åœ°å€ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹æŒ‡å‘ä¸€ä¸ªç£ç›˜ç´¢å¼•å—ã€‚è¿™ä¸ªç´¢å¼•å—ä¸­çš„ä¸€ä¸ªè®°å½•æŒ‡å‘ä¸€ä¸ªä¸€çº§ç´¢å¼•å—ã€‚\nç§°è¿™ä¸ªè®°å½•æŒ‡å‘ä¸€çº§ç´¢å¼•å—çš„ç£ç›˜ç´¢å¼•å—ä¸ºäºŒçº§ç´¢å¼•å—ã€‚\né¢å‘å¯¹è±¡ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”é¢å‘å¯¹è±¡ç¯‡\nè®¾è®¡åŸåˆ™ è´£ä»»åŸåˆ™ï¼ˆSingle Responsibility Principleï¼ŒSRPï¼‰ï¼šå½“éœ€è¦ä¿®æ”¹æŸä¸ªç±»çš„æ—¶å€™åŸå› æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œè®©ä¸€ä¸ªç±»åªåšä¸€ç§ç±»å‹è´£ä»»ã€‚\nå¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen \u0026amp; Close Principleï¼ŒOCPï¼‰ï¼šè½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº” è¯¥å¯ä»¥æ‰©å±•çš„ï¼Œå³å¼€æ”¾çš„ï¼›ä½†æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œå³å°é—­çš„ã€‚\né‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼ŒLSPï¼‰ï¼šå­ç±»å‹å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æ‰ä»–ä»¬çš„åŸº ç±»å‹ã€‚\nå³ï¼Œåœ¨ä»»ä½•çˆ¶ç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨å­ç±»çš„å®ä¾‹æ¥èµ‹å€¼ç»™çˆ¶ç±»å‹çš„å¼•ç”¨ã€‚\nå½“ä¸€ä¸ªå­ç±»çš„å®ä¾‹åº”è¯¥èƒ½å¤Ÿæ›¿æ¢ä»»ä½•å…¶è¶…ç±»çš„å®ä¾‹æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ‰å…·æœ‰æ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰å…³ç³»ã€‚\nä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼ŒDPï¼‰ï¼šæŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»† èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚å³ï¼Œé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚\næ¥å£åˆ†ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼ŒISPï¼‰ï¼šä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–äºå®ƒä»¬ä¸ ç”¨çš„æ–¹æ³•ã€‚æ¥å£å±äºå®¢æˆ·ï¼Œä¸å±äºå®ƒæ‰€åœ¨çš„ç±»å±‚æ¬¡ç»“æ„ã€‚\nå³ï¼šä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“ï¼ŒåŒæ—¶åœ¨æŠ½è±¡çº§åˆ«ä¸åº”è¯¥æœ‰å¯¹äºç»†èŠ‚çš„ä¾èµ–ã€‚\nè¿™æ ·åšçš„å¥½å¤„å°±åœ¨äºå¯ä»¥æœ€å¤§é™åº¦åœ°åº”å¯¹å¯èƒ½çš„å˜åŒ–ã€‚\nRobert C. Martinæå‡ºçš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼ˆé‡ç‚¹çš„ï¼‰ï¼š\nå…±åŒå°é—­åŸåˆ™ï¼ˆCommon Closure Principleï¼ŒCCPï¼‰ï¼šåŒ…ä¸­çš„æ‰€æœ‰ç±»å¯¹äºåŒä¸€ç±»æ€§è´¨çš„å˜åŒ–åº”è¯¥æ˜¯å…±åŒåˆ°é—­çš„ã€‚ä¸€ä¸ªå˜åŒ–è‹¥å¯¹ä¸€ä¸ªåŒ…äº§ç”Ÿå½±å“ï¼Œåˆ™å°†å¯¹è¯¥åŒ…ä¸­çš„æ‰€æœ‰ç±»äº§ç”Ÿå½±å“ï¼Œè€Œå¯¹äºå…¶ä»–çš„åŒ…ä¸é€ æˆä»»ä½•å½±å“ã€‚ å…±åŒé‡ç”¨åŸåˆ™ï¼ˆCommon Reuse Principleï¼ŒCRPï¼‰ï¼šä¸€ä¸ªåŒ…ä¸­çš„æ‰€æœ‰ç±»åº”è¯¥æ˜¯å…±åŒé‡ç”¨ çš„ã€‚å¦‚æœé‡ç”¨äº†åŒ…ä¸­çš„ä¸€ä¸ªç±»é‚£ä¹ˆå°±è¦é‡ç”¨åŒ…ä¸­çš„æ‰€æœ‰ç±»ã€‚ UML é¢å‘å¯¹è±¡â€”â€”UML\nUMLå›¾ é™æ€å»ºæ¨¡ åŠ¨æ€å»ºæ¨¡ ç‰©ç†å»ºæ¨¡ ç±»å›¾ $\\checkmark$ $\\times$ $\\times$ å¯¹è±¡å›¾ $\\checkmark$ $\\times$ $\\times$ ç”¨ä¾‹å›¾ $\\checkmark$ $\\times$ $\\times$ æ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾) $\\checkmark$ $\\times$ $\\checkmark$ éƒ¨ç½²å›¾ $\\checkmark$ $\\times$ $\\checkmark$ åºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ é€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ çŠ¶æ€å›¾ $\\times$ $\\checkmark$ $\\times$ æ´»åŠ¨å›¾ $\\times$ $\\checkmark$ $\\times$ æ´»åŠ¨å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nç›¸åŒç‚¹ï¼šçŠ¶æ€ä¸­éƒ½æœ‰åˆæ€å’Œç»ˆæ€ã€‚ ä¸»è¦å·®å¼‚ï¼š æ´»åŠ¨å›¾çš„è½¬æ¢ç§°ä¸ºæµï¼› æ´»åŠ¨å›¾æœ‰åˆ†æ”¯ã€å¹¶å‘åˆ†å²”å’Œå¹¶å‘æ±‡åˆã€‚ é¡ºåºå›¾å’Œé€šä¿¡å›¾æ˜¯åŒæ„çš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚å®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nå·®å¼‚ åºåˆ—å›¾ é€šä¿¡å›¾ å¼ºè°ƒ æ¶ˆæ¯æ—¶é—´é¡ºåº æ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡ ä¸åŒçš„ç‰¹æ€§ æœ‰å¯¹è±¡ç”Ÿå‘½çº¿ï¼šå¯¹è±¡å­˜åœ¨çš„æ—¶é—´æ®µæœ‰æ§åˆ¶ç„¦ç‚¹ï¼šå¯¹è±¡æ‰§è¡ŒåŠ¨ä½œæ‰€ç»å†çš„æ—¶é—´æ®µ æœ‰è·¯å¾„ï¼šè¡¨ç¤ºå¯¹è±¡ä¹‹é—´æœ‰äº¤äº’æœ‰åºå·ï¼šè¡¨ç¤ºæ¶ˆæ¯çš„æ—¶é—´é¡ºåºï¼Œå¯åµŒå¥—è¡¨ç¤º ä»¥ä¸‹æ˜¯UMLå›¾çš„æ€»ç»“ï¼š\nç±»å›¾ï¼šå±•ç°ä¸€ç»„å¯¹è±¡ï¼ˆç±»ï¼‰ã€æ¥å£ã€åä½œå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»\nå¯¹è±¡å›¾ï¼šå±•ç°æŸä¸€æ—¶åˆ»çš„ä¸€ç»„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°äº†åœ¨ç±»å›¾ä¸­æ‰€å»ºç«‹äº‹ç‰©çš„å®ä¾‹çš„é™æ€å¿«ç…§\nç”¨ä¾‹å›¾ï¼šå±•ç°äº†ä¸€ç»„ç”¨ä¾‹ã€å‚ä¸è€…ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆåŒ…å«ã€æ‰©å±•ã€å…³è”å’Œæ³›åŒ–ï¼‰\nåºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ï¼šæè¿°äº†ä»¥æ—¶é—´é¡ºåºç»„ç»‡çš„å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ´»åŠ¨ï¼Œå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåº\né€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ï¼šå¼ºè°ƒæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡\nçŠ¶æ€å›¾ï¼ˆçŠ¶æ€è½¬æ¢å›¾ï¼‰ï¼šå±•ç°äº†ä¸€ä¸ªçŠ¶æ€æœºï¼Œå¼ºè°ƒå¯¹è±¡è¡Œä¸ºçš„äº‹ä»¶é¡ºåº\næ´»åŠ¨å›¾ï¼šä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå±•ç°äº†åœ¨ç³»ç»Ÿå†…ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ï¼Œå¼ºè°ƒå¯¹è±¡é—´çš„æ§åˆ¶æµç¨‹\næ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾)ï¼šå±•ç°äº†ä¸€ç»„æ„ä»¶ä¹‹é—´çš„ç»„ç»‡å’Œä¾èµ–ï¼Œå°†æ„ä»¶æ˜ å°„ä¸ºç±»ã€æ¥å£æˆ–åä½œ\néƒ¨ç½²å›¾ï¼šå¯¹ç‰©ç†å»ºæ¨¡ï¼Œå±•ç°äº†è¿è¡Œæ—¶å¤„ç†ç»“ç‚¹ä»¥åŠå…¶ä¸­æ„ä»¶ï¼ˆåˆ¶å“ï¼‰çš„é…ç½®\nè®¾è®¡æ¨¡å¼ é¢å‘å¯¹è±¡â€”â€”è®¾è®¡æ¨¡å¼\nè®¾è®¡æ¨¡å¼ä»£ç ä»“åº“ï¼šhttps://gitee.com/linner_cheng/design-patterns\nè®¾è®¡æ¨¡å¼åˆ†ç±»ï¼š\nåˆ›å»ºå‹ ç»“æ„å‹ è¡Œä¸ºå‹ è¯´æ˜ ä¸å¯¹è±¡çš„åˆ›å»ºæœ‰å…³ å¤„ç†ç±»æˆ–å¯¹è±¡çš„ç»„åˆ æè¿°ç±»æˆ–å¯¹è±¡çš„äº¤äº’å’ŒèŒè´£åˆ†é… ç±»æ¨¡å¼ Factory Methodï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ Adapterï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰ Interpreterï¼ˆè§£é‡Šå™¨æ¨¡å¼ï¼‰\nTemplate Methodï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰ å¯¹è±¡æ¨¡å¼ Abstract Factoryï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰\nBuilderï¼ˆç”Ÿæˆå™¨æ¨¡å¼ï¼‰\nPrototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰\nSingletonï¼ˆå•ä¾‹æ¨¡å¼ï¼‰ Adapterï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰\nBridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰\nCompositeï¼ˆç»„åˆæ¨¡å¼ï¼‰\nDecoratorï¼ˆè£…é¥°å™¨æ¨¡å¼ï¼‰\nFacadeï¼ˆå¤–è§‚æ¨¡å¼ï¼‰\nFlyweightï¼ˆäº«å…ƒæ¨¡å¼ï¼‰\nProxyï¼ˆä»£ç†æ¨¡å¼ï¼‰ Chain of Responsibilityï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰\nCommandï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰\nIteratorï¼ˆè¿­ä»£å™¨æ¨¡å¼ï¼‰\nMediatorï¼ˆä¸­ä»‹è€…æ¨¡å¼ï¼‰\nMementoï¼ˆå¤‡å¿˜å½•æ¨¡å¼ï¼‰\nObserverï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰\nStateï¼ˆçŠ¶æ€æ¨¡å¼ï¼‰\nStrategyï¼ˆç­–ç•¥æ¨¡å¼ï¼‰\nVisitorï¼ˆè®¿é—®è€…æ¨¡å¼ï¼‰ åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼ˆæŠ½è±¡äº†å¯¹è±¡çš„å®ä¾‹åŒ–è¿‡ç¨‹ï¼‰ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ å·¥å‚æ–¹æ³• åŠ¨æ€ç”Ÿäº§å¯¹è±¡ å®šä¹‰åˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œç”±å­ç±»å®ä¾‹åŒ–å¯¹è±¡ã€‚è®©ç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ æŠ½è±¡å·¥å‚ ç”Ÿæˆç³»åˆ—å¯¹è±¡ æä¾›åˆ›å»ºä¸€ç³»åˆ—å¯¹è±¡çš„æ¥å£ï¼Œæ— éœ€æŒ‡å®šå…·ä½“çš„ç±»ã€‚ ç”Ÿæˆå™¨ æ„é€ å¤æ‚å¯¹è±¡ å°†å¤æ‚å¯¹è±¡çš„æ„å»ºä¸è¡¨ç¤ºåˆ†ç¦»ã€‚ä½¿å¾—åŒæ ·çš„æ„å»ºå¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ åŸå‹ å…‹éš†å¯¹è±¡ ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œé€šè¿‡å¤åˆ¶åŸå‹æ¥åˆ›å»ºå¯¹è±¡ã€‚ å•ä¾‹ ä¸€ä¸ªå®ä¾‹ ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚ æ¨¡å¼ é€‚ç”¨æ€§ å·¥å‚æ–¹æ³• ä¸€ä¸ªç±»ä¸çŸ¥é“å®ƒæ‰€å¿…é¡»åˆ›å»ºå¯¹è±¡çš„ç±»ç”±å­ç±»æ¥æŒ‡å®šåˆ›å»ºçš„å¯¹è±¡å°†åˆ›å»ºå¯¹è±¡çš„èŒè´£å§”æ‰˜ç»™å¤šä¸ªå¸®åŠ©å­ç±»ä¸­çš„æŸä¸€ä¸ª æŠ½è±¡å·¥å‚ ç³»ç»Ÿç‹¬ç«‹äºå®ƒäº§å“çš„åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºç³»ç»Ÿç”±å¤šä¸ªäº§å“ç³»åˆ—ä¸­çš„ä¸€ä¸ªæ¥é…ç½®å¼ºè°ƒä¸€ç³»åˆ—ç›¸å…³äº§å“å¯¹è±¡çš„è®¾è®¡ï¼Œä»¥ä¾¿è¿›è¡Œè”åˆä½¿ç”¨æä¾›ä¸€ä¸ªäº§å“ç±»åº“ï¼Œåªæ˜¾ç¤ºå®ƒä»¬çš„æ¥å£è€Œä¸æ˜¯å®ç° ç”Ÿæˆå™¨ åˆ›å»ºå¤æ‚å¯¹è±¡çš„ç®—æ³•ï¼Œç‹¬ç«‹äºè¯¥å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä»¥åŠå®ƒä»¬çš„è£…é…æ–¹å¼æ„é€ è¿‡ç¨‹å¿…é¡»å…è®¸è¢«æ„é€ çš„å¯¹è±¡æœ‰ä¸åŒçš„è¡¨ç¤º åŸå‹ ç³»ç»Ÿç‹¬ç«‹äºå®ƒäº§å“åˆ›å»ºã€æ„æˆå’Œè¡¨ç¤ºè¦å®ä¾‹åŒ–çš„ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ»æŒ‡å®šï¼Œå¦‚åŠ¨æ€è£…è½½é¿å…åˆ›å»ºä¸€ä¸ªä¸äº§å“ç±»å±‚æ¬¡å¹³è¡Œçš„å·¥å‚ç±»å±‚æ¬¡ å•ä¾‹ ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç”¨æˆ·å¯ä»ä¸€ä¸ªå…¨å±€ç‚¹è®¿é—®è¿™ä¸ªå”¯ä¸€å®ä¾‹æ˜¯é€šè¿‡å­ç±»åŒ–å¯æ‰©å±•çš„ï¼Œå®¢æˆ·æ— é¡»æ›´æ”¹ä»£ç å°±èƒ½ä½¿ç”¨æ‰©å±•å®ä¾‹ ç»“æ„å‹æ¨¡å¼ï¼ˆç»„åˆç±»æˆ–å¯¹è±¡è·å¾—æ–°çš„ç»“æ„ï¼‰ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ é€‚é…å™¨ï¼ˆç±»/å¯¹è±¡ï¼‰ æ¥å£è½¬æ¢ å°†ç±»çš„æ¥å£è½¬æ¢æˆå…¼å®¹å…¶ä»–ç±»çš„æ¥å£ã€‚\nä½¿åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ æ¡¥æ¥ æŠ½è±¡ä¸å®ç°åˆ†ç¦» å°†ç±»çš„æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚ ç»„åˆ ç»„åˆå¯¹è±¡ å°†å¯¹è±¡ç»„åˆæˆæ ‘å‹ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†â€”â€”æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚\nä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ è£…é¥° åŠ¨æ€é™„åŠ èŒè´£ åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œæ¯”ç”¨å­ç±»æ¥æ‰©å±•åŠŸèƒ½æ›´çµæ´»ã€‚ å¤–è§‚ å¯¹å¤–ç»Ÿä¸€æ¥å£ ä¸ºå­ç³»ç»Ÿå®šä¹‰å’Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„å¯¹å¤–é«˜å±‚æ¥å£ï¼ˆå¤–è§‚ï¼‰ã€‚\nç®€åŒ–äº†è¯¥å­ç³»ç»Ÿçš„ä½¿ç”¨ã€‚ äº«å…ƒ å…±äº«å¤§é‡ç»†ç²’åº¦å¯¹è±¡ æä¾›æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡å…±äº«çš„æœ‰æ•ˆæ–¹æ³•ã€‚ ä»£ç† ä¸­ä»‹ä»£ç† ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ æ¨¡å¼ é€‚ç”¨æ€§ é€‚é…å™¨ ä½¿ç”¨æ¥å£ä¸ç¬¦åˆè¦æ±‚çš„ç±»åˆ›å»ºå¯å¤ç”¨ã€å¯ä¸å…¶å®ƒä¸ç›¸å…³ç±»æˆ–ä¸å¯é¢„è§ç±»ååŒå·¥ä½œï¼ˆä»…é€‚ç”¨äºå¯¹è±¡é€‚é…å™¨ï¼‰æƒ³ä½¿ç”¨å­ç±»ï¼Œä½†åˆä¸æƒ³å¯¹å®ƒä»¬å­ç±»åŒ–æ¥åŒ¹é…æ¥å£ æ¡¥æ¥ åœ¨æŠ½è±¡å’Œå®ç°ä¹‹é—´æ²¡æœ‰å›ºå®šçš„ç»‘å®šå…³ç³»æŠ½è±¡ä»¥åŠå®ç°éƒ½å¯ä»¥é€šè¿‡ç”Ÿæˆå­ç±»çš„æ–¹æ³•æ‰©å……å¯¹æŠ½è±¡çš„å®ç°éƒ¨åˆ†çš„ä¿®æ”¹ä¸ä¼šå¯¹ç”¨æˆ·äº§ç”Ÿå½±å“éšè—æŠ½è±¡çš„å®ç°åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«å®ç°ï¼Œç”¨æˆ·å¹¶ä¸çŸ¥é“ ç»„åˆ è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†â€”â€”æ•´ä½“å±‚æ¬¡ç»“æ„å¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œå¹¶ç»Ÿä¸€åœ°ä½¿ç”¨å®ƒä»¬ è£…é¥°å™¨ ä¸å½±å“å…¶ä»–å¯¹è±¡ï¼Œè€ŒåŠ¨æ€é€æ˜åœ°æ·»åŠ èŒè´£å¤„ç†é‚£äº›å¯ä»¥æ’¤é”€çš„èŒè´£ä¸èƒ½é‡‡ç”¨å­ç±»è¿›è¡Œæ‰©å…… å¤–è§‚ ä¸ºä¸€ä¸ªå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•æ¥å£å®¢æˆ·ç¨‹åºä¸æŠ½è±¡ç±»çš„å®ç°éƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤§çš„ä¾èµ–æ€§éœ€è¦æ„å»ºä¸€ä¸ªå±‚æ¬¡ç»“æ„çš„å­ç³»ç»Ÿæ—¶ äº«å…ƒ ä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§å¼€é”€å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯å˜ä¸ºå¤–éƒ¨çŠ¶æ€åˆ é™¤å¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€åï¼Œå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¾ˆå¤šç»„å¯¹è±¡ ä»£ç† åœ¨éœ€è¦æ¯”è¾ƒé€šç”¨å’Œå¤æ‚å¯¹è±¡æŒ‡é’ˆä»£æ›¿ç®€å•æŒ‡é’ˆæ—¶ è¡Œä¸ºå‹æ¨¡å¼ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ è´£ä»»é“¾ èŒè´£ä¼ é€’ å°†å¤„ç†è¯·æ±‚çš„å¤šä¸ªå¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œè¯·æ±‚åœ¨é“¾ä¸­ä¼ é€’ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†ã€‚\nç»™å¤šä¸ªå¯¹è±¡å¤„ç†è¯·æ±‚çš„æœºä¼šï¼Œå‡å°‘è¯·æ±‚çš„å‘é€è€…ä¸æ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆã€‚ å‘½ä»¤ è¯·æ±‚å°è£…ä¸ºå¯¹è±¡ å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå¯ç”¨ä¸åŒè¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ã€‚\nå°†è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•æ—¥å¿—ï¼Œæ”¯æŒæ’¤é”€æ“ä½œã€‚ è§£é‡Šå™¨ è¯­å¥è§£é‡Š ç»™å®šä¸€ç§è¯­è¨€ï¼Œå®šä¹‰å…¶æ–‡æ³•å’Œè§£é‡Šå™¨ï¼Œè§£é‡Šå™¨æ ¹æ®æ–‡æ³•è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ è¿­ä»£å™¨ é¡ºåºè®¿é—®æ•°æ®é›† æä¾›ä¸€ä¸ªé¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­å…ƒç´ çš„æ–¹æ³•ï¼Œä¸éœ€è¦æš´éœ²å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ä¸­ä»‹è€… ä¸ç›´æ¥å¼•ç”¨ ç”¨å¯¹è±¡å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚\nä½¿å„å¯¹è±¡ä¸éœ€æ˜¾å¼åœ°ç›¸äº’è°ƒç”¨ï¼Œè¾¾åˆ°ä½è€¦åˆã€‚\nå¯ä»¥ç‹¬ç«‹æ”¹å˜å¯¹è±¡é—´çš„äº¤äº’ã€‚ å¤‡å¿˜å½• ä¿å­˜çŠ¶æ€ ä¸ç ´åå°è£…çš„å‰æä¸‹ï¼Œæ•è·å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜ã€‚\nå¯ä»¥åœ¨ä»¥åæ¢å¤ä¿å­˜çš„çŠ¶æ€ã€‚ è§‚å¯Ÿè€… è”åŠ¨ å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šä¾èµ–å…³ç³»ã€‚\nä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ çŠ¶æ€ çŠ¶æ€å°è£…æˆç±» æŠŠå¯¹è±¡çš„è¡Œä¸ºå°è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ã€‚\nå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ ç­–ç•¥ å¤šæ–¹æ¡ˆåˆ‡æ¢ å®šä¹‰å¹¶å°è£…ä¸€ç³»åˆ—ç®—æ³•ï¼Œä½¿å®ƒä»¬å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ç›¸äº’æ›¿æ¢ã€‚ æ¨¡æ¿æ–¹æ³• æ¡†æ¶ å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè®©å…¶å­ç±»æ¥å®ç°ç®—æ³•ä¸­çš„å‰©ä½™é€»è¾‘ã€‚\nå¯ä»¥ä¸æ”¹å˜ç®—æ³•ç»“æ„è€Œé‡æ–°å®šä¹‰å…¶æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ è®¿é—®è€… æ•°æ®ä¸æ“ä½œåˆ†ç¦» å°è£…ä½œç”¨ä¸æŸå¯¹è±¡ç»“æ„ä¸­å…ƒç´ çš„æ“ä½œã€‚\nå¯ä»¥åœ¨ä¸æ”¹å˜å…ƒç´ ç±»çš„å‰æä¸‹ï¼Œå®šä¹‰æˆ–ä¿®æ”¹ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ“ä½œã€‚ æ¨¡å¼ é€‚ç”¨æ€§ è´£ä»»é“¾ æœ‰å¤šä¸ªå¯¹è±¡å¤„ç†è¯·æ±‚ï¼Œè¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šç”±è°å¤„ç†ä¸æ˜æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹å‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤è¯·æ±‚å¯å¤„ç†è¯·æ±‚çš„å¯¹è±¡é›†åˆè¢«åŠ¨æ€æŒ‡å®š å‘½ä»¤ æŠ½è±¡å‡ºå¾…æ‰§è¡Œçš„åŠ¨ä½œä»¥å‚æ•°åŒ–æŸå¯¹è±¡ä¸åŒçš„æ—¶åˆ»æŒ‡å®šã€æ’åˆ—å’Œæ‰§è¡Œè¯·æ±‚æ”¯æŒå–æ¶ˆæ“ä½œï¼Œæ”¯æŒä¿®æ”¹æ—¥å¿— è§£é‡Šå™¨ æ–‡æ³•ç®€å•æ•ˆç‡ä¸æ˜¯å…³é”®é—®é¢˜ è¿­ä»£å™¨ è®¿é—®èšåˆå¯¹è±¡çš„å†…å®¹è€Œä¸æš´éœ²å…¶å†…éƒ¨è¡¨ç¤ºæ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éå†ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ ä¸­ä»‹è€… ä¸€ç»„å¯¹è±¡ä»¥å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±» å¤‡å¿˜å½• å¿…é¡»ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€ä¸ªæ—¶åˆ»çš„ï¼ˆéƒ¨åˆ†ï¼‰çŠ¶æ€å¦‚æœç”¨æ¥å£è®©å…¶ä»–å¯¹è±¡ç›´æ¥å¾—åˆ°è¿™äº›çŠ¶æ€ï¼Œä¼šæš´éœ²å¯¹è±¡çš„å®ç°ç»†èŠ‚å¹¶ç ´åå¯¹è±¡çš„å°è£…æ€§ è§‚å¯Ÿè€… å½“æŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢å½“æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„åŒæ—¶éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œåˆä¸çŸ¥é“æœ‰å¤šå°‘å¯¹è±¡å¾…æ”¹å˜å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œåˆä¸èƒ½å‡å®šå…¶ä»–å¯¹è±¡æ˜¯è°ï¼ˆä¸èƒ½ç´§è€¦åˆï¼‰ çŠ¶æ€ å¯¹è±¡çš„è¡Œä¸ºå†³å®šäºå®ƒçš„çŠ¶æ€ï¼Œä¸”åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜è¡Œä¸ºæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ ç­–ç•¥ è®¸å¤šç›¸å…³çš„ç±»ä»…ä»…æ˜¯è¡Œä¸ºæœ‰å¼‚éœ€è¦ä½¿ç”¨ä¸€ä¸ªç®—æ³•çš„ä¸åŒå˜ä½“ æ¨¡æ¿æ–¹æ³• ä¸€æ¬¡æ€§å®ç°ç®—æ³•ä¸­ä¸å˜çš„éƒ¨åˆ†ï¼Œå°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»å®ç°å„å­ç±»ä¸­å…¬å…±è¡Œä¸ºè¢«æå–åˆ°å…¬å…±çˆ¶ç±»ä¸­ï¼Œé¿å…ä»£ç é‡å¤ è®¿é—®è€… å¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å¯¹è±¡ï¼Œç”¨æˆ·æƒ³å¯¹è¿™äº›å¯¹è±¡å®æ–½æ“ä½œå¯¹å¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒä¸”ä¸ç›¸å…³çš„æ“ä½œå®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤ç»“æ„ä¸Šå®šä¹‰æ–°æ“ä½œ ä¸ªäººç†è§£çš„æ–¹å¼ï¼š\næ¨¡å¼ ç®€è¿° å·¥å‚æ–¹æ³• å…·ä½“å·¥å‚ï¼ˆå·¥å‚æ¥å£çš„å®ç°ï¼‰åˆ›å»ºå…·ä½“å¯¹è±¡ã€‚ æŠ½è±¡å·¥å‚ ä¸€ä¸ªå…·ä½“å·¥å‚ï¼ˆæŠ½è±¡å·¥å‚çš„å­ç±»ï¼‰åˆ›å»ºå¤šä¸ªäº§å“ï¼Œä¸åŒå·¥å‚ç”¨ä¸åŒæ–¹å¼åˆ›å»ºè¿™ä¸€ç³»åˆ—äº§å“ã€‚ ç”Ÿæˆå™¨ å¤æ‚å¯¹è±¡é€šè¿‡åˆ‡æ¢æ„å»ºconstruct(Builder)æ¥åˆ›å»ºä¸åŒè¡¨ç¤ºã€‚ åŸå‹ å¤šä¸ªåŸå‹ä¹‹é—´é€šè¿‡å…‹éš†Prototype.clone()æ¥å¤åˆ¶å¯¹è±¡ã€‚ å•ä¾‹ é€šè¿‡ç§æœ‰åŒ–æ— å‚æ„é€ æ–¹æ³•ã€é™æ€Singleton instanceå±æ€§å’Œé™æ€getInstance()æ–¹æ³•ä½¿å¯¹è±¡ä¿æŒå•ä¾‹ã€‚ é€‚é…å™¨ é€‚é…å™¨ç»§æ‰¿ç›®æ ‡ç±»ï¼Œé‡å†™ç›®æ ‡ç±»çš„æ–¹æ³•ï¼Œæ–¹æ³•å°†ä¸å…¼å®¹çš„æ¥å£åŒ…è£…æˆä¸ç›®æ ‡ç±»ä¸€è‡´çš„æ¥å£ã€‚ æ¡¥æ¥ å°†äº§å“ï¼ˆæŠ½è±¡ï¼‰ä¸å…¶æŸå±æ€§ï¼ˆå®ç°ï¼‰åˆ†å¼€ï¼Œé€šè¿‡æ¡¥æ¥ï¼ˆç»„åˆï¼‰äº§å“ä¸å…¶å±æ€§ç‹¬ç«‹å‡ºæ¥çš„ç±»æ¥åˆ¶é€ ä¸åŒäº§å“ã€‚ ç»„åˆ ç”¨æ ‘å½¢ç»“æ„å’Œä¸€è‡´çš„æŠ½è±¡ç±»è®©éƒ¨åˆ†å’Œæ•´ä½“çš„æ“ä½œä¸€è‡´ã€‚å¦‚æ–‡ä»¶æ ‘ã€‚ è£…é¥°å™¨ è£…é¥°å™¨ç»§æ‰¿è¢«è£…é¥°ç±»ï¼Œé€šè¿‡æ„é€ å™¨ä¼ å…¥è¢«è£…é¥°å¯¹è±¡ï¼Œç„¶ååœ¨ä¸è¢«è£…é¥°ç±»ä¸€è‡´çš„æ–¹æ³•ä¸­æ·»åŠ æ–°æ“ä½œã€‚å¤šä¸ªè£…é¥°å™¨åµŒå¥—å¯ç»„æˆä¸€æ¡è£…é¥°é“¾ã€‚ å¤–è§‚ å¤æ‚å­ç³»ç»Ÿæœ‰å¾ˆå¤šæ“ä½œï¼Œå¤–è§‚å°†å…¶ç®€åŒ–ã€‚è·Ÿé€‚é…å™¨å¾ˆåƒã€‚ äº«å…ƒ è®©ä¸€ä¸ªå¯¹è±¡å‡è£…æˆè®¸å¤šä¸ªå¯¹è±¡ã€‚å°±æ˜¯å¾ˆå¤šä¸ªå¯¹è±¡ä¹‹é—´å¯èƒ½æœ‰ä¸€éƒ¨åˆ†å±æ€§çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç„¶åå…±äº«è¿™éƒ¨åˆ†å±æ€§ã€‚ ä»£ç† ä»£ç†å°±æ˜¯ç»™è¢«ä»£ç†å¯¹è±¡åŠ ä¸€äº›æ“ä½œï¼Œè·Ÿé€‚é…å™¨å’Œå¤–è§‚ä¸åŒçš„æ˜¯ä»£ç†çš„æ¥å£æ˜¯ä¸è¢«ä»£ç†å¯¹è±¡ä¸€è‡´çš„ã€‚ è´£ä»»é“¾ æœ‰å¤šä¸ªæ¥å£ä¸€è‡´çš„å¯¹è±¡ï¼Œå°†è¯·æ±‚åœ¨è¿™äº›å¯¹è±¡é—´å±‚å±‚è½¬å‘ï¼Œè¯·æ±‚å¯ä»¥è¢«å…¶ä¸­ä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼ˆJavaWebé‡Œçš„è¿‡æ»¤å™¨ï¼‰ã€‚å’ŒåµŒå¥—çš„è£…é¥°å™¨å¾ˆåƒã€‚ å‘½ä»¤ å°±æ˜¯ä¸€ä¸ªå‘½ä»¤ä¸€ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨è¿™äº›å¯¹è±¡çš„æ–¹å¼ä¸€è‡´ï¼ˆå¯¹è±¡æ¥å£ä¸€è‡´ï¼‰ã€‚ è§£é‡Šå™¨ è§£é‡Šè¯­è¨€çš„ä¸Šä¸‹æ–‡ã€‚ è¿­ä»£å™¨ åœ¨é›†åˆå¯¹è±¡çš„å¤–éƒ¨ï¼Œé€šè¿‡è¿­ä»£å™¨è®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œå¯¹åº”çš„è¿­ä»£å™¨å¯ç”±é›†åˆå¯¹è±¡ç»™å‡ºiterator()ã€‚è·ŸJavaé‡Œçš„è¿­ä»£å™¨ä¸€ä¸ªæ ·ã€‚ ä¸­ä»‹è€… æœ‰å¤šä¸ªç±»ä¼¼å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡é€šè¿‡ä¸­ä»‹äº’ç›¸å‘é€æ¶ˆæ¯ï¼ˆå°±å¥½åƒå¾®ä¿¡èŠå¤©ä¸€æ ·ï¼Œå¾®ä¿¡å°±æ˜¯ä¸­ä»‹ï¼‰ã€‚ å¤‡å¿˜å½• æ•è·å¹¶ä¿å­˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æ¢å¤åˆ°åŸå‹ä¿å­˜çš„çŠ¶æ€ã€‚ è§‚å¯Ÿè€… åœ¨ç›®æ ‡å¯¹è±¡çŠ¶æ€æ›´æ–°æ—¶ï¼Œè§‚å¯Ÿè€…ä»¬å¯ä»¥æ”¶åˆ°é€šçŸ¥update()ï¼Œç„¶åæ›´æ–°è‡ªèº«çŠ¶æ€ï¼Œä¸ç›®æ ‡å¯¹è±¡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚ çŠ¶æ€ ä¸€ä¸ªçŠ¶æ€ä¸€ä¸ªç±»ï¼Œåœ¨çŠ¶æ€ä¸­é€šè¿‡åˆ¤æ–­å˜æ¢åˆ°å…¶å®ƒçŠ¶æ€ã€‚ ç­–ç•¥ å°±æ˜¯åŠ¨æ€åˆ‡æ¢ç®—æ³•ã€‚ æ¨¡æ¿æ–¹æ³• æ¨¡æ¿å®ç°ç®—æ³•æ“ä½œä¸­ä¸å˜çš„éƒ¨åˆ†ï¼Œå…¶ä½™çš„äº¤ç»™å­ç±»å»å®ç°ã€‚ è®¿é—®è€… å°±æ˜¯åœ¨Visitor.visit(è®¿é—®å¯¹è±¡)ä¸­å®šä¹‰å¯¹è±¡çš„æ“ä½œï¼Œç„¶ååœ¨ç»“æ„ç±»ä¸­æä¾›accept(Visitor)æ¥è®¿é—®è¿™äº›å¯¹è±¡ã€‚ æ•°æ®åº“ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”æ•°æ®åº“ç¯‡\nä¸‰çº§æ¨¡å¼ä¸¤çº§æ˜ åƒ ä¸‰çº§ç»“æ„æœ‰3ç±»æ•°æ®æ¨¡å‹ï¼š\nå¤–æ¨¡å‹ï¼šç”¨æˆ·ä½¿ç”¨çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸€ç§å±€éƒ¨çš„é€»è¾‘æ•°æ®è§†å›¾ï¼Œè¡¨ç¤ºç”¨æˆ·æ‰€ç†è§£çš„å®ä½“ã€å®ä½“å±æ€§å’Œå®ä½“å…³ç³»ã€‚ æ¦‚å¿µæ¨¡å‹ï¼šå…¨å±€çš„é€»è¾‘æ•°æ®è§†å›¾ï¼Œæ˜¯æ•°æ®åº“ç®¡ç†å‘˜æ‰€çœ‹åˆ°çš„å®ä½“ã€å®ä½“å±æ€§å’Œå®ä½“ä¹‹é—´çš„è”ç³»ã€‚ å†…æ¨¡å‹ï¼šæ•°æ®çš„ç‰©ç†å­˜å‚¨æ¨¡å‹ã€‚ ä¸‰ä¸ªç‰©ç†æ¨¡å‹åˆ†åˆ«å¯¹åº”æ•°æ®åº“ç³»ç»Ÿçš„3å±‚ç»“æ„ï¼š\nå¤–æ¨¡å¼ï¼ˆå­æ¨¡å¼ã€ç”¨æˆ·æ¨¡å¼ï¼‰ï¼šæ•°æ®åº“ç”¨æˆ·çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸æŸä¸€åº”ç”¨ç¨‹åºæœ‰å…³çš„æ•°æ®çš„é€»è¾‘è¡¨ç¤ºã€‚\næ¦‚å¿µæ¨¡å¼ï¼ˆæ¨¡å¼ï¼‰ï¼šæ‰€æœ‰ç”¨æˆ·çš„å…¬å…±æ•°æ®è§†å›¾ï¼Œä¸å…·ä½“çš„åº”ç”¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºå¼€å‘å·¥å…·æ— å…³ã€‚\nå†…æ¨¡å¼ï¼ˆç‰©ç†æ¨¡å¼ã€å­˜å‚¨æ¨¡å¼ï¼‰ï¼šæ˜¯æ•°æ®åœ¨æ•°æ®åº“å†…éƒ¨çš„è¡¨ç¤ºæ–¹å¼ã€‚\nå®šä¹‰æ‰€æœ‰çš„å†…éƒ¨è®°å½•ç±»å‹ã€ç´¢å¼•å’Œæ–‡ä»¶çš„ç»„ç»‡æ–¹å¼ã€‚\næ•°æ®åº“ç³»ç»Ÿåœ¨ä¸‰çº§æ¨¡å¼ä¹‹é—´æä¾›äº†ä¸¤çº§æ˜ åƒï¼š\næ¨¡å¼â€”â€”å†…æ¨¡å¼æ˜ åƒå­˜åœ¨äºæ¦‚å¿µçº§å’Œå†…éƒ¨çº§ä¹‹é—´ï¼Œå®ç°æ¦‚å¿µæ¨¡å¼å’Œå†…æ¨¡å¼é—´çš„ç›¸äº’è½¬æ¢ã€‚ å¤–æ¨¡å¼â€”â€”æ¨¡å¼æ˜ åƒï¼šå­˜åœ¨äºå¤–éƒ¨çº§å’Œæ¦‚å¿µçº§ä¹‹é—´ï¼Œå®ç°äº†å¤–æ¨¡å¼å’Œæ¦‚å¿µæ¨¡å¼ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚ äºŒçº§æ˜ åƒåŠŸèƒ½ä¿è¯æ•°æ®çš„ç‹¬ç«‹æ€§ï¼š\nç‰©ç†ç‹¬ç«‹æ€§ï¼šæŒ‡å½“æ•°æ®åº“çš„å†…æ¨¡å¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ•°æ®çš„é€»è¾‘ç»“æ„ä¸å˜ã€‚ é€»è¾‘ç‹¬ç«‹æ€§ï¼šæŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„é€»è¾‘ç»“æ„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ å®Œæ•´æ€§çº¦æŸ å®ä½“å®Œæ•´æ€§ å‚ç…§å®Œæ•´æ€§ ç”¨æˆ·å®šä¹‰å®Œæ•´æ€§ å…³ç³»ä»£æ•°è¿ç®—ç¬¦ å¹¿ä¹‰ç¬›å¡å„¿ç§¯ï¼ˆExtended Cartesian Productï¼‰ï¼šä¸¤ä¸ªå…ƒç»„åˆ†åˆ«ä¸º$n$ç›®å’Œ$m$ç›®çš„å…³ç³»$R$å’Œ$S$çš„å¹¿ä¹‰ç¬›å¡å„¿ç§¯æ˜¯ä¸€ä¸ª$(n+m)$åˆ—çš„å…ƒç»„çš„é›†åˆã€‚\nå…ƒç»„çš„å‰$n$åˆ—æ˜¯å…³ç³»$R$çš„ä¸€ä¸ªå…ƒç»„ï¼Œå$m$åˆ—æ˜¯å…³ç³»$S$çš„ä¸€ä¸ªå…ƒç»„ï¼Œè®°ä½œ$R \\times S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\times S = \\{ t| (t \\ = \\ \u0026lt;t^n, t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\} $$\nå¦‚æœ$R$å’Œ$S$ä¸­æœ‰ç›¸åŒçš„å±æ€§åï¼Œå¯åœ¨å±æ€§åå‰åŠ å…³ç³»åä½œä¸ºé™å®šï¼Œä»¥ç¤ºåŒºåˆ«ã€‚è‹¥$R$æœ‰$K_1$,ä¸ªå…ƒç»„ï¼Œ$S$æœ‰$K_2$ä¸ªå…ƒç»„ï¼Œåˆ™$R$å’Œ$S$çš„å¹¿ä¹‰ç¬›å¡å„¿ç§¯æœ‰$K_1 \\times K2$ä¸ªå…ƒç»„ã€‚\n$\u0026lt;t^n, t^m\u0026gt;$æ˜¯ä¸€ä¸ªå…ƒç»„$t^n$å’Œ$t^m$æ‹¼æ¥æˆçš„ä¸€ä¸ªå…ƒç»„ã€‚\næŠ•å½±ï¼ˆProjectionï¼‰ï¼šæŠ•å½±è¿ç®—æ˜¯ä»å…³ç³»çš„å‚ç›´æ–¹å‘è¿›è¡Œè¿ç®—ï¼Œåœ¨å…³ç³»$R$ä¸­é€‰å‡ºè‹¥å¹²å±æ€§åˆ—$A$ç»„æˆæ–°çš„å…³ç³»ï¼Œè®°ä½œ$\\pi_A (R)$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ \\pi_A (R) = \\{ t[A]|t \\in R \\} $$\né€‰æ‹©ï¼ˆSelectionï¼‰ï¼šé€‰æ‹©è¿ç®—æ˜¯ä»å…³ç³»çš„æ°´å¹³æ–¹å‘è¿›è¡Œè¿ç®—ï¼Œæ˜¯ä»å…³ç³»$R$ä¸­é€‰æ‹©æ»¡è¶³ç»™å®šæ¡ä»¶çš„è¯¸å…ƒç»„ï¼Œè®°ä½œ$\\sigma_F (R)$å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ \\sigma_A (R) = \\{ t| (t \\in R) \\wedge F(t) = True \\} $$\nå…¶ä¸­ï¼Œ$F(t)$ä¸­çš„è¿ç®—å¯¹è±¡å¯ä»¥æ˜¯ï¼š\nå±æ€§åï¼ˆæˆ–åˆ—çš„åºå·ï¼‰ï¼› å¸¸æ•°ï¼› è¿ç®—ç¬¦ï¼› ç®—æœ¯æ¯”è¾ƒç¬¦ï¼ˆ$\u0026lt;, \\le, \u0026gt;, \\ge, \\neq$ï¼‰ï¼› é€»è¾‘è¿ç®—ç¬¦ï¼ˆ$\\wedge, \\vee, \\neg$ï¼‰ã€‚ è¿æ¥ï¼ˆJoinï¼‰ï¼šè¿æ¥è¿ç®—æ˜¯ä»ä¸¤ä¸ªå…³ç³»$R$å’Œ$S$çš„ç¬›å¡å„¿ç§¯ä¸­é€‰å–æ»¡è¶³æ¡ä»¶çš„å…ƒç»„ã€‚\nå¯ä»¥è®¤ä¸ºç¬›å¡å„¿ç§¯æ˜¯æ— æ¡ä»¶è¿æ¥ï¼Œå…¶ä»–çš„è¿æ¥æ“ä½œè®¤ä¸ºæ˜¯æœ‰æ¡ä»¶è¿æ¥ã€‚\n$\\theta$è¿æ¥ï¼šä»$R$ä¸$S$çš„ç¬›å¡å„¿ç§¯ä¸­é€‰å–å±æ€§é—´æ»¡è¶³ä¸€å®šæ¡ä»¶çš„å…ƒç»„ã€‚è®°ä½œï¼š\n$$ R \\mathop{\\Join}\\limits_{X \\theta Y} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[X] \\ \\theta \\ t^m[Y]) \\} $$\nå…¶ä¸­ï¼š\n$X \\theta Y$ï¼šè¿æ¥çš„æ¡ä»¶ï¼› $\\theta$ï¼šæ¯”è¾ƒè¿ç®—ç¬¦ï¼› $X$å’Œ$Y$åˆ†åˆ«ä¸º$R$å’Œ$S$ä¸Šåº¦æ•°ç›¸ç­‰ä¸”å¯æ¯”çš„å±æ€§ç»„ï¼› $t^n\\left[ X \\right]$è¡¨ç¤º$R$ä¸­$t^n$å…ƒç»„çš„å¯¹åº”äºå±æ€§$X$çš„ä¸€ä¸ªåˆ†é‡ï¼› $t^m[Y]$è¡¨ç¤º$S$ä¸­$t^m$å…ƒç»„çš„å¯¹åº”äºå±æ€§$Y$çš„ä¸€ä¸ªåˆ†é‡ã€‚ $\\theta$è¿æ¥ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºï¼š\n$$ R \\mathop{\\Join}\\limits_{i \\theta j} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[i] \\ \\theta \\ t^m[j]) \\} $$\nå…¶ä¸­ï¼Œ\n$i=1,2,3,\\cdots,n$ï¼›\n$j=1,2,3,\\cdots,m$ï¼›\n$i \\theta j$ï¼š\nä»ä¸¤ä¸ªå…³ç³»$R$å’Œ$S$ä¸­é€‰å–$R$çš„ç¬¬$i$åˆ—å’Œ$S$çš„ç¬¬$j$åˆ—ä¹‹é—´æ»¡è¶³$\\theta$è¿ç®—çš„å…ƒç»„è¿›è¡Œè¿æ¥ã€‚\n$\\theta$è¿æ¥å¯ä»¥ç”±åŸºæœ¬çš„å…³ç³»è¿ç®—ç¬›å¡å„¿ç§¯å’Œé€‰å–è¿ç®—å¯¼å‡ºã€‚å› æ­¤ï¼Œ$\\theta$è¿æ¥å¯è¡¨ç¤ºä¸ºï¼š\n$$ R \\mathop{\\Join}\\limits_{X \\theta Y} S = \\sigma_{X \\theta Y}(R \\times S) $$\næˆ–ï¼š\n$$ R \\mathop{\\Join}\\limits_{i \\theta j} S = \\sigma_{i \\theta j}(R \\times S) $$\nç­‰å€¼è¿æ¥ï¼šå½“$\\theta$ä¸ºâ€œ=â€æ—¶ï¼Œç§°ä¹‹ä¸ºç­‰å€¼è¿æ¥ï¼Œè®°ä¸º$R \\mathop{\\Join}\\limits_{i = j} S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\mathop{\\Join}\\limits_{i = j} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[i] = t^m[j]) \\} $$\n$F$è¿æ¥ï¼šä»å…³ç³»$R$å’Œ$S$çš„ç¬›å¡å°”ç§¯ä¸­é€‰å–å±æ€§å€¼æ»¡è¶³æŸä¸€å…¬å¼$F$çš„å…ƒç»„ï¼Œè®°ä¸º$\\mathop{\\Join}\\limits_{F}$ã€‚\n$F$æ˜¯å½¢ä¸º$F_1 \\wedge F_2 \\wedge \\cdots \\wedge F_n$çš„å…¬å¼ï¼Œæ¯ä¸ª$F_p$æ˜¯å½¢ä¸º$i \\theta j$çš„å¼å­ã€‚\nè‡ªç„¶è¿æ¥ï¼šè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥ï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå…³ç³»ä¸­è¿›è¡Œæ¯”è¾ƒçš„åˆ†é‡å¿…é¡»æ˜¯ç›¸åŒçš„å±æ€§ç»„ï¼Œå¹¶ä¸”åœ¨ç»“æœé›†ä¸­å°†é‡å¤å±æ€§åˆ—å»æ‰ã€‚\nè‹¥ï¼š\n$t^n \\in R$ï¼Œ$t^m \\in S$ï¼›\n$R$å’Œ$S$å…·æœ‰ç›¸åŒçš„å±æ€§ç»„$B$ï¼Œä¸”$B=(B_1,B_2,,B_k)$ï¼›\nå‡å®š$R$å…³ç³»çš„å±æ€§ï¼š\n$$ A_1,A_2,\\cdots,A_{n-k},B_1,B_2,\\cdots,B_k $$\n$S$å…³ç³»çš„å±æ€§ï¼š\n$$ B_1,B2,\\cdots,B_k,B_{k+1},B_{k+2},\\cdots,B_m $$\nè‡ªç„¶è¿æ¥å¯ä»¥è®°ä¸º$R \\Join S$,å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\Join S = \\{ t| (t = \u0026lt;t^n, t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (R.B_1 = S.B_1) \\wedge (R.B_2 = S.B_2) \\wedge \\cdots \\wedge (R.B_k = S.B_k) \\} $$\nå¤–è¿æ¥ï¼ˆOuter Jionï¼‰ï¼šå¤–è¿æ¥è¿ç®—æ˜¯è¿æ¥è¿ç®—çš„æ‰©å±•ï¼Œå¯ä»¥å¤„ç†ç”±äºè¿æ¥è¿ç®—è€Œç¼ºå¤±çš„ä¿¡æ¯ã€‚\nå¤–è¿æ¥è¿ç®—æœ‰3ç§ï¼š\nå·¦å¤–è¿æ¥ï¼ˆLeft Outer Jionï¼ŒâŸ•ï¼‰ï¼šå–å‡ºå·¦ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å³ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œç”¨ç©ºå€¼$null$å……å¡«æ‰€æœ‰æ¥è‡ªå³ä¾§å…³ç³»çš„å±æ€§ï¼Œæ„æˆæ–°çš„å…ƒç»„ï¼Œå°†å…¶åŠ å…¥è‡ªç„¶è¿æ¥çš„ç»“æœä¸­ã€‚\nå³å¤–è¿æ¥ï¼ˆRight Outer Jionï¼ŒâŸ–ï¼‰ï¼šå–å‡ºå³ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å·¦ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œç”¨ç©ºå€¼$null$å¡«å……æ‰€æœ‰æ¥è‡ªå·¦ä¾§å…³ç³»çš„å±æ€§ï¼Œæ„æˆæ–°çš„å…ƒç»„ï¼Œå°†å…¶åŠ å…¥è‡ªç„¶è¿æ¥çš„ç»“æœä¸­ã€‚\nå…¨å¤–è¿æ¥ï¼ˆFull Outer Jionï¼ŒâŸ—ï¼‰ã€‚å®Œæˆå·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥çš„æ“ä½œã€‚\nSQL æ•°æ®åº“ç¯‡â€”â€”SQL\nDDLï¼ˆData Definition Languageï¼Œæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼šæ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰ã€‚\nå…³é”®å­—ï¼šCREATEã€DROPã€ALTER ç­‰ã€‚\nDMLï¼ˆData Manipulation Languageï¼Œæ•°æ®æ“ä½œè¯­è¨€ï¼‰ï¼šç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹ã€‚\nå…³é”®å­—ï¼šINSERTã€DELETEã€UPDATE ç­‰ã€‚\nDQLï¼ˆData Query Languageï¼Œæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰ï¼šç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•ã€‚\nå…³é”®å­—ï¼šSELECTç­‰ã€‚\nDCLï¼ˆData Control Languageï¼Œæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼ŒåŠåˆ›å»ºç”¨æˆ·ã€‚\næˆæƒè¯­å¥æ ¼å¼ï¼ˆGRANTï¼‰ï¼š\nGRANT \u0026lt;æƒé™\u0026gt;[, \u0026lt;æƒé™\u0026gt;] ... [ON \u0026lt;å¯¹è±¡ç±»å‹\u0026gt; \u0026lt;å¯¹è±¡å\u0026gt;] TO\u0026lt;ç”¨æˆ·\u0026gt;[, \u0026lt;ç”¨æˆ·\u0026gt;]... [WITH GRANT OPTION]; å¸¸è§çš„æ“ä½œæƒé™å¦‚ä¸‹ï¼š\nå¯¹è±¡ å¯¹è±¡ç±»å‹ æ“ä½œæƒé™ å±æ€§åˆ— TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALL PRIVILEGES è§†å›¾ TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALL PRIVILEGES åŸºæœ¬è¡¨ TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALTERã€\nINDEXã€\nALL PRIVILEGES æ•°æ®åº“ DATABASE CREATETAB å»ºç«‹è¡¨çš„æƒé™ï¼Œå¯ç”±DBAæˆäºˆæ™®é€šç”¨æˆ·ï¼› WITH GRANT OPTIONï¼šè¡¨ç¤ºè·å¾—äº†è¿™äº›æƒé™çš„ç”¨æˆ·è¿˜å¯ä»¥å°†æƒé™èµ‹ç»™å…¶ä»–ç”¨æˆ·ã€‚ æ”¶å›æƒé™è¯­å¥æ ¼å¼ï¼ˆREVOKEï¼‰ï¼š\nREVOKE \u0026lt;æƒé™\u0026gt;[, \u0026lt;æƒé™\u0026gt;]... [ON \u0026lt;å¯¹è±¡ç±»å‹\u0026gt; \u0026lt;å¯¹è±¡å\u0026gt;] FROM \u0026lt;ç”¨æˆ·\u0026gt;[, \u0026lt;ç”¨æˆ·\u0026gt;]; å‡½æ•°ä¾èµ– åç§° æ¡ä»¶ ç»“è®º å‡½æ•°ä¾èµ– å…ƒç»„åœ¨$X$ä¸Šçš„å±æ€§å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆåœ¨$Y$ä¸Šçš„å±æ€§å€¼ä¹Ÿç›¸ç­‰ $X$å‡½æ•°å†³å®š$Y$æˆ–$Y$å‡½æ•°ä¾èµ–äº$X$ï¼Œè®°ä½œ$X \\rightarrow Y$ éå¹³å‡¡çš„å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\not\\subseteq X$ $X \\rightarrow Y$æ˜¯éå¹³å‡¡çš„å‡½æ•°ä¾èµ– å¹³å‡¡çš„å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\subseteq X$ $X \\rightarrow Y$æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ– å®Œå…¨å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$X\u0026rsquo; \\subset X$ï¼Œ$X\u0026rsquo; \\not\\rightarrow Y$ $Y$å¯¹$X$å®Œå…¨å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{f}{\\longrightarrow} Y$ éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼ˆå±€éƒ¨å‡½æ•°ä¾èµ–ï¼‰ $X \\rightarrow Y$ï¼Œ$X \\stackrel{f}{\\not\\longrightarrow} Y$ $Y$å¯¹$X$éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{P}{\\longrightarrow} Y$ ä¼ é€’ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\not\\subseteq X$ï¼Œ$Y \\rightarrow Z$ $Z$å¯¹$X$ä¼ é€’ä¾èµ– åç§° å®šä¹‰ ç ï¼ˆå€™é€‰ç ï¼Œå€™é€‰å…³é”®å­—ï¼‰ è‹¥$K \\stackrel{f}{\\rightarrow} U$ï¼Œåˆ™$K$ä¸º$R$çš„å€™é€‰ç  ä¸»å±æ€§ åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ éä¸»å±æ€§ ä¸åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ å¤–ç  $X$é$R$çš„ç ï¼Œä½†$X$æ˜¯å¦ä¸€ä¸ªå…³ç³»çš„ç ï¼Œåˆ™ç§°$X$ä¸ºå¤–ç  Armstrongå…¬ç†ç³»ç»Ÿï¼š\nå®šå¾‹ æ¡ä»¶ Fè•´å« è‡ªåå¾‹ $Y \\subseteq X \\subseteq U$ $X \\rightarrow Y$ å¢å¹¿å¾‹ $X \\rightarrow Y$ï¼Œ$Z \\subseteq U$ $XZ \\rightarrow XZ$ ä¼ é€’å¾‹ $X \\rightarrow Y,\\ Y \\rightarrow Z$ $X \\rightarrow Z$ è§„åˆ™ æ¡ä»¶ Fè•´å« åˆå¹¶è§„åˆ™ $X \\rightarrow Y,\\ X \\rightarrow Z$ $X \\rightarrow YZ$ ä¼ªä¼ é€’å¾‹ $X \\rightarrow Y,\\ WY \\rightarrow Z$ $XW \\rightarrow Z$ åˆ†è§£è§„åˆ™ $X \\rightarrow Y,\\ Z \\subseteq Y$ $X \\rightarrow Z$ å…³ç³»æ¨¡å¼çš„åˆ†è§£ æ— æŸè¿æ¥ ä¿æŒå‡½æ•°ä¾èµ– èŒƒå¼ æ•°æ®åº“ç¯‡â€”â€”èŒƒå¼\nç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼Rçš„æ¯ä¸€ä¸ªåˆ†é‡æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®é¡¹ï¼Œåˆ™å…³ç³»æ¨¡å¼Rå±äºç¬¬ä¸€èŒƒå¼ã€‚\nå¦‚ï¼Œå…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼š\n$$ U = \\{ å­¦å·,å§“å,å­¦é™¢,é™¢é•¿,è¯¾ç¨‹å·,è¯¾ç¨‹å,æˆç»© \\} \\\\ F = \\{ å­¦å· \\rightarrow å§“å,å­¦å· \\rightarrow å­¦é™¢,å­¦é™¢ \\rightarrow é™¢é•¿,è¯¾ç¨‹å· \\rightarrow è¯¾ç¨‹å,(å­¦å·,è¯¾ç¨‹å·) \\rightarrow æˆç»© \\} $$\nç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼$R \\in 1NF$ï¼Œä¸”æ¯ä¸€ä¸ªéä¸»å±æ€§å®Œå…¨ä¾èµ–äºç ï¼Œåˆ™å…³ç³»æ¨¡å¼$R \\in 2NF$ã€‚\nå³å½“1NFæ¶ˆé™¤äº†å¯¹ä¸»é”®çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–åå°±èƒ½æ»¡è¶³2NFã€‚\nä¾‹å¦‚ï¼Œ$å­¦å· \\rightarrow å­¦é™¢$ï¼Œå³$(å­¦å·,è¯¾ç¨‹å·) \\stackrel{P}{\\rightarrow} å­¦é™¢$ï¼ˆéƒ¨åˆ†ä¾èµ–äºç ï¼‰ï¼Œæ‰€ä»¥$R \\not\\in 2NF$ã€‚\næ¨¡å¼çš„åˆ†è§£éœ€è¦ä¿æŒå‡½æ•°ä¾èµ–ã€‚æ ¹æ®$F$ï¼Œå°†$R$åˆ†è§£ä¸ºï¼š\n$R_1\u0026lt;U_1,F_1\u0026gt;$ï¼š\n$$ U_1 = \\{ å­¦å·,å§“å,å­¦é™¢,é™¢é•¿ \\} \\\\ F_1 = \\{ å­¦å· \\rightarrow å§“å,å­¦å· \\rightarrow å­¦é™¢,å­¦é™¢ \\rightarrow é™¢é•¿ \\} $$\n$R_2\u0026lt;U_2,F_2\u0026gt;$ï¼š\n$$ U_2 = \\{ è¯¾ç¨‹å·,è¯¾ç¨‹å \\} \\\\ F_2 = \\{ è¯¾ç¨‹å· \\rightarrow è¯¾ç¨‹å \\} $$\n$R_3\u0026lt;U_3,F_3\u0026gt;$ï¼š\n$$ U_3 = \\{ å­¦å·,è¯¾ç¨‹å·,æˆç»© \\} \\\\ F_3 = \\{ (å­¦å·,è¯¾ç¨‹å·) \\rightarrow æˆç»© \\}\nåˆ™ï¼Œ$R1 \\in 2NF$ï¼Œ$R2 \\in 2NF$ï¼Œ$R3 \\in 2NF$ã€‚\nç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼$R(R \\in 2NF)$ä¸­ä»»ä½•ä¸€ä¸ªéä¸»å±æ€§éƒ½ä¸ä¼ é€’å‡½æ•°ä¾èµ–äºç ã€‚\nè‹¥å…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼ˆ$U$ä¸ºå…³ç³»é›†ï¼Œ$F$ä¸ºå‡½æ•°ä¾èµ–é›†ï¼‰ä¸­ä¸å­˜åœ¨è¿™æ ·çš„ç $X$ï¼Œä½¿å¾—ï¼š\n$X \\rightarrow Y(Y \\not\\rightarrow X)$ï¼Œ $Y \\rightarrow Z$ï¼Œ åˆ™å…³ç³»æ¨¡å¼$R \\in 3NF$ï¼Œå…¶ä¸­ï¼š\n$Y$ä¸ºå±æ€§ç»„ï¼Œ $Z(Z \\not\\subseteq Y)$ä¸ºéä¸»å±æ€§ã€‚ å³å½“2NFæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹ä¸»é”®çš„ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œåˆ™ç§°ä¸º3NFã€‚\nå¦‚ï¼Œ$R_1$ä¸­æœ‰$å­¦å· \\rightarrow å­¦é™¢$ï¼Œ$å­¦é™¢ \\rightarrow é™¢é•¿$ï¼ˆéä¸»å±æ€§\u0026quot;é™¢é•¿\u0026quot;ä¼ é€’ä¾èµ–äºä¸»é”®\u0026quot;å­¦å·\u0026quot;ï¼‰ã€‚å¯å°†$R_1$åˆ†è§£ä¸ºï¼š\n$R_{11}\u0026lt;U_{11},F_{11}\u0026gt;$ï¼š\n$$ U_{11} = \\{ å­¦å·,å§“å,å­¦é™¢ \\} \\\\ F_{11} = \\{ å­¦å· \\rightarrow å§“å, å­¦å· \\rightarrow å­¦é™¢ \\} $$\n$R_{12}\u0026lt;U_{12},F_{12}\u0026gt;$ï¼š\n$$ U_{12} = \\{ å­¦é™¢,é™¢é•¿ \\} \\\\ F_{12} = \\{ å­¦é™¢ \\rightarrow é™¢é•¿ \\} $$\nèŒƒå¼ä¹‹é—´çš„å…³ç³»ï¼š\n$$ 5NF \\sub 4NF \\sub BCNF \\sub 3NF \\sub 2NF \\sub 1NF $$\n3NFå’ŒBCNEå®ƒä»¬æ˜¯è¿›è¡Œè§„èŒƒåŒ–çš„ä¸»è¦ç›®æ ‡ã€‚\n1NFåˆ°4NFä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼š\nèŒƒå¼ è½¬æ¢å…³ç³» 1NF æ¯ä¸€ä¸ªåˆ†é‡æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®é¡¹ 2NF 1NFæ¶ˆé™¤äº†éƒ¨åˆ†å‡½æ•°ä¾èµ–åæ»¡è¶³2NF 3NF 2NFæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹ç çš„ä¼ é€’å‡½æ•°ä¾èµ–åæ»¡è¶³3NF BCNF 3NFæ¶ˆé™¤äº†ä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å’Œä¼ é€’å‡½æ•°ä¾èµ–åæ»¡è¶³BCNF 4NF BCNFæ¶ˆé™¤éå¹³å‡¡ä¸”éå‡½æ•°ä¾èµ–çš„å¤šå€¼ä¾èµ–åæ»¡è¶³4NF å‡ ç§èŒƒå¼åŠå…¶åˆ†è§£çš„æ€§è´¨ï¼š\næ€§è´¨ 3NF BCNF 4NF æ¶ˆé™¤å‡½æ•°ä¾èµ–å¸¦æ¥å†—ä½™ å¦ æ˜¯ æ˜¯ æ¶ˆé™¤å¤šå€¼å‡½æ•°ä¾èµ–å¸¦æ¥å†—ä½™ å¦ å¦ æ˜¯ ä¿æŒå‡½æ•°ä¾èµ– æ˜¯ å¦ å¦ ä¿æŒå¤šå€¼å‡½æ•°ä¾èµ– å¦ å¦ å¦ æ•°æ®åº“è®¾è®¡ æ•°æ®åº“ç¯‡â€”â€”æ•°æ®åº“è®¾è®¡\nåˆ†å¸ƒå¼æ•°æ®åº“ åŸºæœ¬æ¦‚å¿µï¼š\nåˆ†ç‰‡é€æ˜ å¤åˆ¶é€æ˜ ä½ç½®é€æ˜ é€»è¾‘é€æ˜ æ€§è´¨ï¼š\nå…±äº«æ€§ï¼šæ•°æ®å­˜å‚¨åœ¨ä¸åŒçš„ç»“ç‚¹æ•°æ®å…±äº«ã€‚ è‡ªæ²»æ€§ï¼šæŒ‡æ¯ç»“ç‚¹å¯¹æœ¬åœ°æ•°æ®éƒ½èƒ½ç‹¬ç«‹ç®¡ç†ã€‚ å¯ç”¨æ€§ï¼šæŒ‡å½“æŸä¸€åœºåœ°æ•…éšœæ—¶ï¼Œç³»ç»Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åœºåœ°ä¸Šçš„å‰¯æœ¬è€Œä¸è‡³äºä½¿æ•´ä¸ªç³»ç»Ÿç˜«ç—ªã€‚ åˆ†å¸ƒæ€§ ç»“æ„åŒ–è®¾è®¡ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”ç»“æ„åŒ–è®¾è®¡ç¯‡\næ¨¡å—åŒ– æ¨¡å—ï¼šæ˜¯åœ¨ç¨‹åºä¸­æ˜¯æ•°æ®è¯´æ˜ã€å¯æ‰§è¡Œè¯­å¥ç­‰ç¨‹åºå¯¹è±¡çš„é›†åˆï¼Œæˆ–è€…æ˜¯å•ç‹¬å‘½åå’Œç¼–å€çš„å…ƒç´ ï¼Œä¾‹å¦‚é«˜çº§è¯­è¨€ä¸­çš„è¿‡ç¨‹ã€å‡½æ•°å’Œå­ç¨‹åºç­‰ã€‚\nåœ¨è½¯ä»¶çš„ä½“ç³»ç»“æ„ä¸­ï¼Œæ¨¡å—æ˜¯å¯ç»„åˆã€åˆ†è§£å’Œæ›´æ¢çš„å•å…ƒã€‚\næ¨¡å—åŒ–ï¼šæ˜¯æŒ‡å°†ä¸€ä¸ªå¾…å¼€å‘çš„è½¯ä»¶åˆ†è§£æˆè‹¥å¹²ä¸ªå°çš„ç®€å•éƒ¨åˆ†ä¸€æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯ç‹¬ç«‹åœ°å¼€å‘ã€æµ‹è¯•ï¼Œæœ€åç»„è£…æˆå®Œæ•´çš„ç¨‹åºã€‚\nè¿™æ˜¯ä¸€ç§å¤æ‚é—®é¢˜â€œåˆ†è€Œæ²»ä¹‹â€çš„åŸåˆ™ã€‚\næ¨¡å—åŒ–çš„ç›®çš„æ˜¯ä½¿ç¨‹åºçš„ç»“æ„æ¸…æ™°ï¼Œå®¹æ˜“é˜…è¯»ã€ç†è§£ã€æµ‹è¯•å’Œä¿®æ”¹ã€‚\næ¨¡å—ç‹¬ç«‹ï¼šæ˜¯æŒ‡æ¯ä¸ªæ¨¡å—å®Œæˆä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ç‰¹å®šå­åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸å…¶ä»–æ¨¡å—ä¹‹é—´çš„è”ç³»ç®€å•ã€‚\nè¡¡é‡æ¨¡å—ç‹¬ç«‹ç¨‹åº¦çš„æ ‡å‡†æœ‰ï¼ˆæ¨¡å—ç‹¬ç«‹æ€§çš„ä¸¤ä¸ªå®šæ€§æ ‡å‡†ï¼‰ï¼š\nè€¦åˆæ€§ï¼› å†…èšæ€§ã€‚ åœ¨å°†è½¯ä»¶ç³»ç»Ÿåˆ’åˆ†æ¨¡å—æ—¶ï¼Œåº”å°½é‡åšåˆ°é«˜å†…èšã€ä½è€¦åˆï¼Œæé«˜æ¨¡å—çš„ç‹¬ç«‹æ€§ã€‚\né€šå¸¸ï¼Œå¯ä»¥æŒ‰ç…§åœ¨è½¯ä»¶ç³»ç»Ÿä¸­çš„åŠŸèƒ½å°†æ¨¡å—åˆ†ä¸ºå››ç§ç±»å‹ï¼š\nä¼ å…¥æ¨¡å—ï¼šå–å¾—æ•°æ®æˆ–è¾“å…¥æ•°æ®ï¼Œç»è¿‡æŸäº›å¤„ç†ï¼Œå†å°†å…¶ä¼ é€ç»™å…¶ä»–æ¨¡å—ã€‚ ä¼ å‡ºæ¨¡å—ï¼šè¾“å‡ºæ•°æ®ï¼Œåœ¨è¾“å‡ºå‰å¯èƒ½è¿›è¡ŒæŸäº›å¤„ç†ã€‚æ•°æ®å¯èƒ½è¢«è¾“å‡ºåˆ°ç³»ç»Ÿçš„å¤–éƒ¨ï¼Œæˆ–è€…ä¼šè¾“å‡ºåˆ°å…¶ä»–æ¨¡å—è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚ å˜æ¢æ¨¡å—ï¼šä»ä¸Šçº§è°ƒç”¨æ¨¡å—å¾—åˆ°æ•°æ®ï¼Œè¿›è¡Œç‰¹å®šçš„å¤„ç†ï¼Œè½¬æ¢æˆå…¶ä»–å½¢å¼ï¼Œå†å°†åŠ å·¥ç»“æœè¿”å›ç»™è°ƒç”¨æ¨¡å—ã€‚ åè°ƒæ¨¡å—ï¼šä¸€èˆ¬ä¸å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥ï¼Œä¸»è¦æ˜¯é€šè¿‡è°ƒç”¨ã€åè°ƒå’Œç®¡ç†å…¶ä»–æ¨¡å—æ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½ã€‚ è€¦åˆå’Œå†…èš è€¦åˆç±»å‹ è¯´æ˜ æ— ç›´æ¥è€¦åˆ æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä¸ä¼ é€’ä»»ä½•ä¿¡æ¯ æ•°æ®è€¦åˆ è°ƒç”¨å…³ç³»ï¼Œä¼ é€’ç®€å•æ•°æ®å€¼ æ ‡è®°è€¦åˆ ä¼ é€’æ•°æ®ç»“æ„ æ§åˆ¶è€¦åˆ è°ƒç”¨å…³ç³»ï¼Œè¢«è°ƒæ¨¡å—ä¼ é€’ç»™ä¸»è°ƒæ¨¡å—æ§åˆ¶å˜é‡ å¤–éƒ¨è€¦åˆ é€šè¿‡è½¯ä»¶ä¹‹å¤–çš„ç¯å¢ƒè”ç»“ å…¬å…±è€¦åˆ é€šè¿‡å…¬å…±æ•°æ®ç¯å¢ƒç›¸äº’ä½œç”¨ å†…å®¹è€¦åˆ ç›´æ¥ä½¿ç”¨å¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨æ•°æ®\næˆ–é€šè¿‡éæ­£å¸¸å…¥å£è½¬å…¥å¦ä¸€ä¸ªæ¨¡å—å†…éƒ¨ å†…èšç±»å‹ è¯´æ˜ å¶ç„¶å†…èš\nï¼ˆå·§åˆå†…èšï¼‰ å„å¤„ç†ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³» é€»è¾‘å†…èš æ‰§è¡Œè‹¥å¹²ä¸ªé€»è¾‘ä¸Šç›¸ä¼¼çš„åŠŸèƒ½ï¼Œ\né€šè¿‡å‚æ•°ç¡®å®šè¯¥æ¨¡å—å®Œæˆå“ªä¸€ä¸ªåŠŸèƒ½ æ—¶é—´å†…èš æŠŠéœ€è¦åŒæ—¶æ‰§è¡Œçš„åŠ¨ä½œç»„åˆåœ¨ä¸€èµ· è¿‡ç¨‹å†…èš å®Œæˆå¤šä¸ªä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å¿…é¡»æŒ‰æŒ‡å®šçš„è¿‡ç¨‹æ‰§è¡Œ é€šä¿¡å†…èš æ‰€æœ‰å¤„ç†éƒ½åœ¨åŒä¸€ä¸ªæ•°æ®ç»“æ„ä¸Šæ“ä½œï¼Œ\næˆ–è€…å„å¤„ç†ä½¿ç”¨ç›¸åŒçš„è¾“å…¥æ•°æ®æˆ–è€…äº§ç”Ÿç›¸åŒçš„è¾“å‡ºæ•°æ® é¡ºåºå†…èš å„å¤„ç†éƒ½ä¸åŒä¸€åŠŸèƒ½å¯†åˆ‡ç›¸å…³ä¸”å¿…é¡»é¡ºåºæ‰§è¡Œï¼Œ\nå‰ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å‡ºå°±æ˜¯ä¸‹ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å…¥ åŠŸèƒ½å†…èš æ‰€æœ‰å…ƒç´ å…±åŒä½œç”¨å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œç¼ºä¸€ä¸å¯ ç³»ç»Ÿç»“æ„è®¾è®¡åŸåˆ™ ä¸ºä¿è¯æ€»ä½“ç»“æ„è®¾è®¡é¡ºåˆ©å®Œæˆï¼Œåº”éµå¾ªä»¥ä¸‹å‡ æ¡åŸåˆ™ï¼š\nåˆ†è§£â€”â€”åè°ƒåŸåˆ™ï¼š\nç³»ç»Ÿæ•´ä½“ï¼Œå…·æœ‰å…¶æ•´ä½“çš„ç›®çš„å’ŒåŠŸèƒ½ï¼Œä½†è¿™äº›ç›®çš„å’ŒåŠŸèƒ½çš„å®ç°åˆæ˜¯ç”±ç›¸äº’è”ç³»çš„å„ä¸ªç»„æˆéƒ¨åˆ†å…±åŒå·¥ä½œçš„ç»“æœã€‚è§£å†³å¤æ‚é—®é¢˜çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸåˆ™å°±æ˜¯æŠŠå®ƒåˆ†è§£æˆå¤šä¸ªå°é—®é¢˜åˆ†åˆ«å¤„ç†ï¼Œåœ¨å¤„ç†è¿‡ç¨‹ä¸­æ ¹æ®ç³»ç»Ÿæ€»ä½“è¦æ±‚åè°ƒå„éƒ¨é—¨çš„å…³ç³»ã€‚\nè‡ªé¡¶å‘ä¸‹çš„åŸåˆ™ï¼šä»ä¸Šå¾€ä¸‹ï¼Œé€å±‚åˆ†è§£ï¼›å…ˆç¡®å®šä¸Šå±‚æ¨¡å—çš„åŠŸèƒ½ï¼Œå†ç¡®å®šä¸‹å±‚æ¨¡å—çš„åŠŸèƒ½ã€‚\nä¿¡æ¯éšè”½ã€æŠ½è±¡çš„åŸåˆ™ï¼šä¸Šå±‚æ¨¡å—åªè§„å®šä¸‹å±‚æ¨¡å—åšä»€ä¹ˆå’Œæ‰€å±æ¨¡å—é—´çš„åè°ƒå…³ç³»ï¼Œä½†ä¸è§„å®šæ€ä¹ˆåšã€‚\nä¸€è‡´æ€§åŸåˆ™ï¼šç»Ÿä¸€çš„è§„èŒƒã€æ ‡å‡†ã€æ–‡ä»¶æ¨¡å¼â€¦â€¦\næ˜ç¡®æ€§åŸåˆ™ï¼šæ¯ä¸ªæ¨¡å—å¿…é¡»ï¼š\nåŠŸèƒ½æ˜ç¡®ã€æ¥å£æ˜ç¡®ï¼› æ¶ˆé™¤å¤šé‡åŠŸèƒ½å’Œæ— ç”¨æ¥å£ã€‚ é«˜å†…èšã€ä½è€¦åˆ\næ¨¡å—çš„æ‰‡å…¥ç³»æ•°å’Œæ‰‡å‡ºç³»æ•°è¦åˆç†ï¼š\næ‰‡å‡ºç³»æ•°ï¼šæ¨¡å—ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—çš„ä¸ªæ•°ã€‚ æ‰‡å…¥ç³»æ•°ï¼šæ¨¡å—è¢«å…¶ä»–æ¨¡å—è°ƒç”¨æ—¶ï¼Œç›´æ¥è°ƒç”¨å®ƒçš„æ¨¡å—ä¸ªæ•°ã€‚ ä¸€ä¸ªè®¾è®¡å¾—å¥½çš„ç³»ç»Ÿçš„å¹³å‡æ‰‡å…¥ã€æ‰‡å‡ºç³»æ•°é€šå¸¸æ˜¯ 3 æˆ– 4ï¼Œä¸€èˆ¬ä¸åº”è¶…è¿‡ 7ã€‚\næ¨¡å—çš„è§„æ¨¡é€‚å½“ï¼š\nè¿‡å¤§çš„æ¨¡å—å¸¸å¸¸ä½¿ç³»ç»Ÿåˆ†è§£å¾—ä¸å……åˆ†ï¼› è¿‡å°çš„æ¨¡å—æœ‰å¯èƒ½é™ä½æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œé€ æˆç³»ç»Ÿæ¥å£çš„å¤æ‚æ€§ã€‚ æ¨¡å—çš„ä½œç”¨èŒƒå›´åº”è¯¥åœ¨å…¶æ§åˆ¶èŒƒå›´ä¹‹å†…ã€‚\né¿å…æˆ–å‡å°‘ä½¿ç”¨ç—…æ€è¿æ¥ï¼šç—…æ€è¿æ¥æ˜¯æŒ‡ä»ä¸­éƒ¨è¿›å…¥æˆ–è®¿é—®ä¸€ä¸ªæ¨¡å—ã€‚\nç³»ç»Ÿæ–‡æ¡£ äººå‘˜ é˜¶æ®µ æ–‡æ¡£ ç”¨æˆ·\nç³»ç»Ÿåˆ†æäººå‘˜ ç³»ç»Ÿè§„åˆ’\nç³»ç»Ÿåˆ†æ æ²Ÿé€šæ–‡æ¡£ï¼Œä¸»è¦æ˜¯è§„åˆ’æŠ¥å‘Šã€åˆåŒã€æ–¹æ¡ˆï¼š\nå¯è¡Œæ€§ç ”ç©¶æŠ¥å‘Šæ€»ä½“è§„åˆ’æŠ¥å‘Šç³»ç»Ÿå¼€å‘åˆåŒç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ ç³»ç»Ÿå¼€å‘äººå‘˜\né¡¹ç›®ç®¡ç†äººå‘˜ é¡¹ç›®æœŸå†… æ²Ÿé€šæ–‡æ¡£ï¼ˆé¡¹ç›®ç®¡ç†æ–‡ä»¶ï¼‰ï¼Œä¸»è¦æ˜¯è®¡åˆ’ã€æŠ¥å‘Šç±»æ–‡æ¡£ï¼š\nç³»ç»Ÿå¼€å‘è®¡åˆ’å·¥ä½œä»»åŠ¡åˆ†è§£è¡¨PERTå›¾ç”˜ç‰¹å›¾é¢„ç®—åˆ†é…è¡¨ç³»ç»Ÿå¼€å‘æœˆæŠ¥ç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Š ç³»ç»Ÿæµ‹è¯•äººå‘˜\nç³»ç»Ÿå¼€å‘äººå‘˜ æµ‹è¯• ç³»ç»Ÿæµ‹è¯•äººå‘˜æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿè¿›è¡Œæµ‹è¯•ï¼š\nç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ç³»ç»Ÿå¼€å‘åˆåŒç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦æµ‹è¯•è®¡åˆ’ç³»ç»Ÿæµ‹è¯•äººå‘˜å†å°†è¯„ä¼°ç»“æœæ’°å†™æˆç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š ç³»ç»Ÿå¼€å‘äººå‘˜\nç”¨æˆ· ç³»ç»Ÿè¿è¡ŒæœŸé—´ ç”¨æˆ·é€šè¿‡ç³»ç»Ÿå¼€å‘äººå‘˜æ’°å†™çš„æ–‡æ¡£è¿è¡Œç³»ç»Ÿï¼š\nç”¨æˆ·æ‰‹å†Œæ“ä½œæŒ‡å— ç³»ç»Ÿå¼€å‘äººå‘˜\nç³»ç»Ÿç»´æŠ¤äººå‘˜ ç»´æŠ¤ æ²Ÿé€šæ–‡æ¡£ï¼šç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦ç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Šç ”åˆ¶æŠ¥å‘Šç ”åˆ¶æŠ¥å‘ŠæŠ€æœ¯æ‰‹å†Œ ç”¨æˆ·\nç»´ä¿®äººå‘˜ è¿ç»´ ç”¨æˆ·å°†è¿è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜è¿›è¡Œè®°è½½ï¼šç³»ç»Ÿè¿è¡ŒæŠ¥å‘Šç»´æŠ¤ä¿®æ”¹å»ºè®®ç³»ç»Ÿç»´æŠ¤äººå‘˜æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿè¿›è¡Œç»´æŠ¤å’Œå‡çº§ï¼šç»´æŠ¤ä¿®æ”¹å»ºè®®ç³»ç»Ÿå¼€å‘äººå‘˜ç•™ä¸‹çš„æŠ€æœ¯æ‰‹å†Œç­‰æ–‡æ¡£ æ•°æ®æµå›¾å’Œæ•°æ®å­—å…¸ ç»“æ„åŒ–è®¾è®¡ç¯‡â€”â€”ç»“æ„åŒ–åˆ†ææ–¹æ³•\nè½¯ä»¶å·¥ç¨‹ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”è½¯ä»¶å·¥ç¨‹ç¯‡\nè½¯ä»¶è¿‡ç¨‹æ¨¡å‹ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ï¼ˆä»1å¼€å§‹ï¼‰ï¼š\nçº§åˆ« è¯´æ˜ åˆå§‹çº§ æ‚ä¹±æ— ç« ï¼Œå‡ ä¹æ²¡æœ‰æ˜ç¡®å®šä¹‰çš„æ­¥éª¤ã€‚ å¯é‡å¤çº§ å»ºç«‹åŸºæœ¬çš„é¡¹ç›®ç®¡ç†è¿‡ç¨‹å’Œå®è·µæ¥è·Ÿè¸ªé¡¹ç›®è´¹ç”¨ã€è¿›åº¦å’ŒåŠŸèƒ½ç‰¹æ€§ã€‚ å·²å®šä¹‰çº§ å°†ç®¡ç†å’Œå·¥ç¨‹æ–‡æ¡£åŒ–ã€æ ‡å‡†åŒ–å¹¶ç»¼åˆæˆæ ‡å‡†è½¯ä»¶è¿‡ç¨‹ï¼›\nä½¿ç”¨æ ‡å‡†å¼€å‘è¿‡ç¨‹ï¼ˆæˆ–æ–¹æ³•è®ºï¼‰æ„å»ºï¼ˆæˆ–é›†æˆï¼‰ç³»ç»Ÿã€‚ å·±ç®¡ç†çº§ å¯¹è½¯ä»¶è¿‡ç¨‹å’Œäº§å“è´¨é‡åˆ¶å®šäº†çš„è¯¦ç»†åº¦é‡æ ‡å‡†ï¼Œä¸”æœ‰å®šé‡çš„ç†è§£å’Œæ§åˆ¶ã€‚ ä¼˜åŒ–çº§ åŠ å¼ºäº†å®šé‡åˆ†æï¼Œé€šè¿‡è¿‡ç¨‹è´¨é‡å’Œæ–°è§‚å¿µã€æ–°æŠ€æœ¯ä½¿è¿‡ç¨‹ä¸æ–­åœ°æ”¹è¿›ã€‚ èƒ½åŠ›æˆç†Ÿåº¦é›†æˆè¿ç»­å¼æ¨¡å‹ï¼ˆä»0å¼€å§‹ï¼‰ï¼š\nèƒ½åŠ›ç­‰çº§ ç›®æ ‡ æœªå®Œæˆçš„ æœªæ‰§è¡Œæˆ–æœªå¾—åˆ°ç­‰çº§1ä¸­çš„æ‰€æœ‰ç›®æ ‡ã€‚ å·²æ‰§è¡Œçš„ å¯æ ‡è¯†çš„è¾“å…¥å·¥ä½œäº§å“åˆ°è¾“å‡ºå·¥ä½œäº§å“çš„è½¬æ¢ï¼Œå®ç°ç‰¹å®šç›®æ ‡ã€‚å…³æ³¨ï¼šç‰¹å®šç›®æ ‡çš„å®Œæˆã€‚\nå·²ç®¡ç†çš„ å·²ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚å…³æ³¨ï¼šé’ˆå¯¹å•ä¸ªè¿‡ç¨‹å®ä¾‹çš„èƒ½åŠ›ã€‚\nå·²å®šä¹‰çº§çš„ å·²å®šä¹‰çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚å…³æ³¨ï¼šè¿‡ç¨‹çš„ç»„ç»‡çº§æ ‡å‡†åŒ–å’Œéƒ¨ç½²ã€‚\nå®šé‡ç®¡ç†çš„ å¯å®šé‡ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚è¯´æ˜ï¼šä½¿ç”¨æµ‹é‡å’Œè´¨é‡ä¿è¯æ¥æ§åˆ¶å’Œæ”¹è¿›ã€‚\nä¼˜åŒ–çš„ ä¼˜åŒ–çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚è¯´æ˜ï¼šä½¿ç”¨é‡åŒ–æ‰‹æ®µæ”¹å˜å’Œä¼˜åŒ–ã€‚\nå„å¼€å‘æ¨¡å‹çš„é€‚ç”¨èŒƒå›´ï¼š\næ¨¡å‹ è¯´æ˜ é€‚ç”¨èŒƒå›´ ç€‘å¸ƒæ¨¡å‹ å°†è½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­çš„æ´»åŠ¨å®šä¸ºçº¿æ€§é¡ºåºé“¾æ¥çš„é˜¶æ®µæ¨¡å‹ éœ€æ±‚æ˜ç¡®ã€å¤§è‡´å›ºå®šä¸”å˜æ›´å°‘ Væ¨¡å‹ ç€‘å¸ƒæ¨¡å‹çš„å˜ä½“ï¼Œå¼ºè°ƒæµ‹è¯•è´¯ç©¿é¡¹ç›®çš„å§‹ç»ˆï¼Œæ˜¯ä¸€ç§æµ‹è¯•çš„å¼€å‘æ¨¡å‹ éœ€æ±‚æ˜ç¡®ã€ä½é£é™© å¢é‡æ¨¡å‹ èåˆç€‘å¸ƒæ¨¡å‹å’ŒåŸå‹è¿­ä»£ï¼Œæ ¸å¿ƒåŠŸèƒ½å…ˆå®Œæˆï¼Œæ¯è½®è¿­ä»£éƒ½ä¼šæœ‰æ–°çš„å¢é‡ï¼Œæ ¸å¿ƒåŠŸèƒ½å¾—åˆ°å……åˆ†æµ‹è¯•ï¼Œå¼ºè°ƒæ¯ä¸ªå¢é‡å‡å‘å¸ƒä¸€ä¸ªå¯æ“ä½œçš„äº§å“ å¿«é€Ÿæ„é€ å¯è¿è¡Œçš„äº§å“ï¼Œäº§å“å‡çº§ï¼Œé¢†åŸŸç†Ÿæ‚‰æˆ–å·²æœ‰åŸå‹ æ¼”åŒ–æ¨¡å‹ è¿­ä»£çš„è¿‡ç¨‹æ¨¡å‹ï¼Œéœ€æ±‚æ— æ³•è¢«å®Œæ•´å®šä¹‰ï¼ŒåŠŸèƒ½åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸æ–­å®Œå–„ å¯¹è½¯ä»¶éœ€æ±‚ç¼ºä¹å‡†ç¡®è®¤è¯†çš„æƒ…å†µ åŸå‹æ¨¡å‹ åŸå‹å¼€å‘æ–¹æ³•æ¨¡å‹ï¼Œç›®çš„æ˜¯å¿«é€Ÿã€ä½æˆæœ¬åœ°æ„å»ºåŸå‹ç³»ç»Ÿ éœ€æ±‚ä¸æ¸…æˆ–å¤šå˜ã€é¢†åŸŸé™Œç”Ÿï¼›ä¸é€‚åˆå¤§è§„æ¨¡ç³»ç»Ÿ èºæ—‹æ¨¡å‹ ç»“åˆç€‘å¸ƒå’Œæ¼”åŒ–æ¨¡å‹ï¼Œå¼ºè°ƒå¼•å…¥é£é™©åˆ†æï¼Œå±äºé¢å‘å¯¹è±¡å¼€å‘æ¨¡å‹ åºå¤§ã€å¤æ‚ã€é«˜é£é™©çš„ç³»ç»Ÿï¼Œå¼€å‘äººå‘˜æœ‰ä¸°å¯Œçš„é£é™©è¯„ä¼°ç»éªŒå’ŒçŸ¥è¯† å–·æ³‰æ¨¡å‹ é¢å‘å¯¹è±¡æ¨¡å‹ï¼Œç‰¹ç‚¹æ˜¯è¿­ä»£ã€æ— é—´éš™å’Œæ”¯æŒé‡ç”¨ï¼Œå„é˜¶æ®µæ— æ˜æ˜¾ç•Œé™ï¼Œå¯è¿­ä»£äº¤å‰ é¢å‘å¯¹è±¡çš„å¼€å‘è¿‡ç¨‹ ç»Ÿä¸€è¿‡ç¨‹ ç”¨ä¾‹é©±åŠ¨ã€ä»¥æ¶æ„ä¸ºä¸­å¿ƒã€è¿­ä»£å’Œå¢é‡ ç»Ÿä¸€è¿‡ç¨‹æ¨¡å‹é˜¶æ®µé‡Œç¨‹ç¢‘å’Œå…³æ³¨ç‚¹æ€»ç»“ï¼š\né˜¶æ®µ é‡Œç¨‹ç¢‘ å…³æ³¨ åˆå§‹é˜¶æ®µ ç”Ÿå‘½å‘¨æœŸç›®æ ‡ é¡¹ç›®çš„åˆåˆ›æ´»åŠ¨ ç²¾åŒ–é˜¶æ®µ ç”Ÿå‘½å‘¨æœŸæ¶æ„ éœ€æ±‚åˆ†æå’Œæ¶æ„æ¼”è¿› æ„å»ºé˜¶æ®µ åˆå§‹è¿ä½œåŠŸèƒ½ ç³»ç»Ÿçš„æ„å»º ç§»äº¤é˜¶æ®µ äº§å“å‘å¸ƒ è½¯ä»¶æäº¤æ–¹é¢çš„å·¥ä½œ è½¯ä»¶éœ€æ±‚ åŠŸèƒ½éœ€æ±‚ï¼šè€ƒè™‘ç³»ç»Ÿè¦åšä»€ä¹ˆï¼Œåœ¨ä½•æ—¶åšï¼Œåœ¨ä½•æ—¶ä»¥åŠå¦‚ä½•ä¿®æ”¹æˆ–å‡çº§ã€‚\næ€§èƒ½éœ€æ±‚ï¼šè€ƒè™‘è½¯ä»¶å¼€å‘çš„æŠ€æœ¯æ€§æŒ‡æ ‡ã€‚\nä¾‹å¦‚ï¼š\nå­˜å‚¨å®¹é‡é™åˆ¶ï¼› æ‰§è¡Œé€Ÿåº¦ï¼› å“åº”æ—¶é—´ï¼› ååé‡ã€‚ ç”¨æˆ·æˆ–äººçš„å› ç´ ï¼šè€ƒè™‘ç”¨æˆ·çš„ç±»å‹ã€‚\nä¾‹å¦‚ï¼š\nå„ç§ç”¨æˆ·å¯¹ä½¿ç”¨è®¡ç®—æœºçš„ç†Ÿç»ƒç¨‹åº¦ï¼Œéœ€è¦æ¥å—çš„è®­ç»ƒï¼› ç”¨æˆ·ç†è§£ã€ä½¿ç”¨ç³»ç»Ÿçš„éš¾åº¦ï¼› ç”¨æˆ·é”™è¯¯æ“ä½œç³»ç»Ÿçš„å¯èƒ½æ€§ã€‚ ç¯å¢ƒéœ€æ±‚ï¼šè€ƒè™‘æœªæ¥è½¯ä»¶åº”ç”¨çš„ç¯å¢ƒï¼ŒåŒ…æ‹¬ç¡¬ä»¶å’Œè½¯ä»¶ã€‚\nå¯¹ç¡¬ä»¶è®¾å¤‡çš„éœ€æ±‚åŒ…æ‹¬ï¼šæœºå‹ã€å¤–è®¾ã€æ¥å£ã€åœ°ç‚¹ã€åˆ†å¸ƒã€æ¹¿åº¦ã€ç£åœºå¹²æ‰°ç­‰ï¼› å¯¹è½¯ä»¶çš„éœ€æ±‚åŒ…æ‹¬ï¼šæ“ä½œç³»ç»Ÿã€ç½‘ç»œã€æ•°æ®åº“ç­‰ã€‚ ç•Œé¢éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\næ¥è‡ªå…¶ä»–ç³»ç»Ÿçš„è¾“å…¥ï¼› åˆ°å…¶ä»–ç³»ç»Ÿçš„è¾“å‡ºï¼› å¯¹æ•°æ®æ ¼å¼çš„ç‰¹æ®Šè§„å®šï¼› å¯¹æ•°æ®å­˜å‚¨ä»‹è´¨çš„è§„å®šã€‚ æ–‡æ¡£éœ€æ±‚ï¼šè€ƒè™‘éœ€è¦å“ªäº›æ–‡æ¡£ï¼Œæ–‡æ¡£é’ˆå¯¹å“ªäº›è¯»è€…ã€‚\næ•°æ®éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nè¾“å…¥ã€è¾“å‡ºæ•°æ®çš„æ ¼å¼ï¼› æ¥æ”¶ã€å‘é€æ•°æ®çš„é¢‘ç‡ï¼› æ•°æ®çš„å‡†ç¡®æ€§å’Œç²¾åº¦ï¼› æ•°æ®æµé‡ï¼› æ•°æ®éœ€ä¿æŒçš„æ—¶é—´ã€‚ èµ„æºä½¿ç”¨éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nè½¯ä»¶è¿è¡Œæ—¶æ‰€éœ€è¦çš„æ•°æ®ã€å…¶ä»–è½¯ä»¶ã€å†…å­˜ç©ºé—´ç­‰èµ„æºï¼› è½¯ä»¶å¼€å‘ã€ç»´æŠ¤æ—¶ï¼Œæ‰€éœ€çš„äººåŠ›ã€æ”¯æ’‘è½¯ä»¶ã€å¼€å‘è®¾å¤‡ã€‚ å®‰å…¨ä¿å¯†è¦æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\næ˜¯å¦éœ€è¦å¯¹è®¿é—®ç³»ç»Ÿæˆ–ç³»ç»Ÿä¿¡æ¯åŠ ä»¥æ§åˆ¶ï¼› éš”ç¦»ç”¨æˆ·æ•°æ®çš„æ–¹æ³•ï¼› ç”¨æˆ·ç¨‹åºå¦‚ä½•ä¸å…¶ä»–ç¨‹åºå’Œæ“ä½œç³»ç»Ÿéš”ç¦» ç³»ç»Ÿå¤‡ä»½è¦æ±‚ã€‚ å¯é æ€§è¦æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nç³»ç»Ÿçš„å¯é æ€§è¦æ±‚ï¼› ç³»ç»Ÿæ˜¯å¦å¿…é¡»æ£€æµ‹å’Œéš”ç¦»é”™è¯¯ï¼› å‡ºé”™åï¼Œé‡å¯ç³»ç»Ÿå…è®¸çš„æ—¶é—´ã€‚ è½¯ä»¶æˆæœ¬æ¶ˆè€—ä¸å¼€å‘è¿›åº¦éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nå¼€å‘æ˜¯å¦æœ‰è§„å®šçš„æ—¶é—´è¡¨ï¼› è½¯/ç¡¬ä»¶æŠ•èµ„æœ‰æ— é™åˆ¶ã€‚ å…¶ä»–éåŠŸèƒ½æ€§è¦æ±‚ï¼š\nå¦‚é‡‡ç”¨æŸç§å¼€å‘æ¨¡å¼ï¼Œéœ€è¦ç¡®å®šï¼š\nè´¨é‡æ§åˆ¶æ ‡å‡†ï¼› é‡Œç¨‹ç¢‘å’Œè¯„å®¡ï¼› éªŒæ”¶æ ‡å‡†ï¼› å„ç§è´¨é‡è¦æ±‚çš„ä¼˜å…ˆçº§ï¼› å¯ç»´æŠ¤æ€§æ–¹é¢çš„è¦æ±‚ã€‚ å•å…ƒæµ‹è¯• åœ¨æµ‹è¯•ä¸­åº”æ£€æŸ¥ä»¥ä¸‹è¦ç‚¹ï¼š\næ¨¡å—æ¥å£ï¼šæ¨¡å—çš„æ¥å£ä¿è¯äº†æµ‹è¯•æ¨¡å—çš„æ•°æ®æµå¯ä»¥æ­£ç¡®åœ°æµå…¥ã€æµå‡ºã€‚\nåœ¨æµ‹è¯•ä¸­åº”æ£€æŸ¥ä»¥ä¸‹è¦ç‚¹ï¼š\næµ‹è¯•æ¨¡å—çš„è¾“å…¥å‚æ•°å’Œå½¢å¼å‚æ•°åœ¨ä¸ªæ•°ã€å±æ€§ã€å•ä½ä¸Šæ˜¯å¦ä¸€è‡´ã€‚ è°ƒç”¨å…¶ä»–æ¨¡å—æ—¶ï¼Œæ‰€ç»™å‡ºçš„å®é™…å‚æ•°å’Œè¢«è°ƒç”¨æ¨¡å—çš„å½¢å¼å‚æ•°åœ¨ä¸ªæ•°ã€å±æ€§ã€å•ä½ä¸Šæ˜¯å¦ä¸€è‡´ã€‚ è°ƒç”¨æ ‡å‡†å‡½æ•°æ—¶ï¼Œæ‰€ç”¨çš„å‚æ•°åœ¨å±æ€§ã€æ•°ç›®å’Œé¡ºåºä¸Šæ˜¯å¦æ­£ç¡®ã€‚ å…¨å±€å˜é‡åœ¨å„æ¨¡å—ä¸­çš„å®šä¹‰å’Œç”¨æ³•æ˜¯å¦ä¸€è‡´ã€‚ è¾“å…¥æ˜¯å¦ä»…æ”¹å˜äº†å½¢å¼å‚æ•°ã€‚ å¼€/å…³çš„è¯­å¥æ˜¯å¦æ­£ç¡®ã€‚ è§„å®šçš„I/Oæ ¼å¼æ˜¯å¦ä¸è¾“å…¥/è¾“å‡ºè¯­å¥ä¸€è‡´ã€‚ åœ¨ä½¿ç”¨æ–‡ä»¶ä¹‹å‰æ˜¯å¦å·²ç»æ‰“å¼€æ–‡ä»¶æˆ–ä½¿ç”¨æ–‡ä»¶ä¹‹åæ˜¯å¦å·±ç»å…³é—­æ–‡ä»¶ã€‚ å±€éƒ¨æ•°æ®ç»“æ„\né‡è¦çš„æ‰§è¡Œè·¯å¾„\nå‡ºé”™å¤„ç†\nè¾¹ç•Œæ¡ä»¶\né›†æˆæµ‹è¯• éå¢é‡é›†æˆï¼šåˆ†åˆ«æµ‹è¯•å„ä¸ªæ¨¡å—ï¼Œå†æŠŠè¿™äº›æ¨¡å—ç»„åˆèµ·æ¥è¿›è¡Œæ•´ä½“æµ‹è¯•ã€‚\nä¼˜ç‚¹ï¼šå¯ä»¥å¯¹æ¨¡å—è¿›è¡Œå¹¶è¡Œæµ‹è¯•ï¼Œèƒ½å……åˆ†åˆ©ç”¨äººåŠ›ï¼Œå¹¶åŠ å¿«å·¥ç¨‹è¿›åº¦ã€‚ ç¼ºç‚¹ï¼šå®¹æ˜“æ··ä¹±ï¼Œå‡ºç°é”™è¯¯ä¸å®¹æ˜“æŸ¥æ‰¾å’Œå®šä½ã€‚ å¢é‡é›†æˆï¼šä»¥å°å¢é‡çš„æ–¹å¼é€æ­¥è¿›è¡Œæ„é€ å’Œæµ‹è¯•ã€‚\nå¢é‡å¼æµ‹è¯•çš„èŒƒå›´ä¸€æ­¥æ­¥æ‰©å¤§ï¼Œé”™è¯¯å®¹æ˜“å®šä½ï¼Œæ›´æ˜“äºå¯¹æ¥å£è¿›è¡Œå½»åº•æµ‹è¯•ï¼Œå¹¶ä¸”å¯ä»¥è¿ç”¨ç³»ç»ŸåŒ–çš„æµ‹è¯•æ–¹æ³•ã€‚\nå¢é‡é›†æˆç­–ç•¥ï¼š\nè‡ªé¡¹å‘ä¸‹é›†æˆæµ‹è¯•ï¼šä»ä¸»æ§æ¨¡å—ï¼ˆä¸»ç¨‹åºï¼‰å¼€å§‹ï¼Œä»¥æ·±åº¦ä¼˜å…ˆæˆ–å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼ã€‚ä¸éœ€è¦é©±åŠ¨æ¨¡å—ã€‚ è‡ªåº•å‘ä¸Šé›†æˆæµ‹è¯•ï¼šä»åŸå­æ¨¡å—å¼€å§‹è¿›è¡Œæ„é€ å’Œæµ‹è¯•ã€‚ä¸éœ€è¦æ¡©æ¨¡å—ã€‚ å›å½’æµ‹è¯• å†’çƒŸæµ‹è¯• æµ‹è¯•æ–¹æ³• é»‘ç™½ç›’æµ‹è¯•æ³•å±äºåŠ¨æ€æµ‹è¯•ã€‚è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶åº”åŒ…æ‹¬åˆç†çš„è¾“å…¥æ¡ä»¶å’Œä¸åˆç†çš„è¾“å…¥æ¡ä»¶ã€‚\né»‘ç›’æµ‹è¯• ç­‰ä»·ç±»åˆ’åˆ†ï¼šä»æ¯ä¸ªç­‰ä»·ç±»ä¸­é€‰å–ä¸€ä¸ªä»£è¡¨æ€§æ•°æ®ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚ç”¨å°‘é‡ä»£è¡¨æ€§çš„æµ‹è¯•ç”¨ä¾‹å–å¾—è¾ƒå¥½çš„æµ‹è¯•æ•ˆæœã€‚\nåˆ†ä¸ºæœ‰æ•ˆç­‰ä»·ç±»å’Œæ— æ•ˆç­‰ä»·ç±»ã€‚\nå®šä¹‰ç­‰ä»·ç±»çš„åŸåˆ™å¦‚ä¸‹ã€‚\nåœ¨è¾“å…¥æ¡ä»¶è§„å®šäº†å–å€¼èŒƒå›´æˆ–å€¼çš„ä¸ªæ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰1ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œ2ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è¾“å…¥æ¡ä»¶è§„å®šäº†è¾“å…¥å€¼çš„é›†åˆæˆ–è§„å®šäº†â€œå¿…é¡»å¦‚ä½•â€çš„æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰1ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œä¸€ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è¾“å…¥æ¡ä»¶æ˜¯ä¸€ä¸ªå¸ƒå°”é‡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œä¸€ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è§„å®šäº†è¾“å…¥æ•°æ®çš„ä¸€ç»„å€¼ï¼ˆå‡å®š$n$ä¸ªï¼‰ï¼Œå¹¶ä¸”ç¨‹åºè¦å¯¹æ¯ä¸€ä¸ªè¾“å…¥å€¼åˆ†åˆ«å¤„ç†çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰$n$ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œ1ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è§„å®šäº†è¾“å…¥æ•°æ®å¿…é¡»éµå®ˆçš„è§„åˆ™çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæœ‰æ•ˆç­‰ä»·ç±»ï¼ˆç¬¦åˆè§„åˆ™ï¼‰å’Œè‹¥å¹²ä¸ªæ— æ•ˆç­‰ä»·ç±»ï¼ˆä»ä¸åŒè§’åº¦è¿åè§„åˆ™ï¼‰ã€‚ åœ¨ç¡®çŸ¥å·±åˆ’åˆ†çš„ç­‰ä»·ç±»ä¸­ï¼Œå„å…ƒç´ åœ¨ç¨‹åºå¤„ç†ä¸­çš„æ–¹å¼ä¸åŒçš„æƒ…å†µä¸‹ï¼Œåˆ™åº”å°†è¯¥ç­‰ä»·ç±»è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºæ›´å°çš„ç­‰ä»·ç±»ã€‚ æ— æ•ˆç­‰ä»·ç±»çš„åˆ’åˆ†ï¼šæ¯ä¸ªæ— æ•ˆç­‰ä»·ç±»çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåªè¿åä¸€ä¸ªè¾“å…¥çš„å–å€¼èŒƒå›´ã€‚å¦‚æœè¿åäº†å¤šä¸ªè¾“å…¥çš„å–å€¼èŒƒå›´ï¼Œé‚£ä¾¿æ˜¯ä¸å¥½çš„æµ‹è¯•ç”¨ä¾‹ã€‚\nä¾‹å¦‚ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$y$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼Œé‚£ä¹ˆå¯ä»¥å®šä¹‰ä¸‰ä¸ªç­‰ä»·ç±»ï¼š\næœ‰æ•ˆç­‰ä»·ç±»1ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼› æ— æ•ˆç­‰ä»·ç±»2ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$x \u0026lt; 0 \\ \\ OR \\ \\ x \u0026gt; 10$ï¼Œè¾“å…¥$y$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼› æ— æ•ˆç­‰ä»·ç±»3ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$x \u0026lt; -10 \\ \\ OR \\ \\ x \u0026gt; -1$ã€‚ é™¤äº†ç­‰ä»·ç±»åˆ’åˆ†è¿˜æœ‰ï¼š\nè¾¹ç•Œå€¼åˆ†æ é”™è¯¯æ¨æµ‹ å› æœå›¾ ç™½ç›’æµ‹è¯• é€»è¾‘è¦†ç›–ï¼šè€ƒå¯Ÿç”¨æµ‹è¯•æ•°æ®è¿è¡Œè¢«æµ‹ç¨‹åºæ—¶ï¼Œå¯¹ç¨‹åºé€»è¾‘çš„è¦†ç›–ç¨‹åº¦ã€‚\nä¸»è¦çš„é€»è¾‘è¦†ç›–æ ‡å‡†æœ‰6ç§ï¼Œå®ƒä»¬çš„è¦†ç›–ç¨‹åº¦ä»ä½åˆ°é«˜ä¸ºï¼š\né€»è¾‘è¦†ç›– è¯´æ˜ è¯­å¥è¦†ç›– æ¯æ¡è¯­å¥æ‰§è¡Œä¸€æ¬¡ åˆ†æ”¯ï¼ˆåˆ¤å®šï¼‰è¦†ç›– æ¯ä¸ªåˆ†æ”¯è·å¾—ä¸€æ¬¡True/False æ¡ä»¶è¦†ç›– æ¯ä¸ªåˆ†æ”¯ä¸­çš„æ¯ä¸ªé€»è¾‘æ¡ä»¶çš„æ‰€æœ‰å¯èƒ½å–å€¼æ»¡è¶³ä¸€æ¬¡ åˆ¤å®š/æ¡ä»¶è¦†ç›– åˆ†æ”¯è¦†ç›– + æ¡ä»¶è¦†ç›– æ¡ä»¶ç»„åˆè¦†ç›– æ¯ä¸ªåˆ¤å®šä¸­æ¡ä»¶çš„å„ç§å¯èƒ½å€¼çš„ç»„åˆéƒ½å‡ºç°ä¸€æ¬¡ è·¯å¾„è¦†ç›– è¦†ç›–è¢«æµ‹è¯•ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ é™¤äº†é€»è¾‘è¦†ç›–è¿˜æœ‰ï¼š\nå¾ªç¯è¦†ç›– åŸºæœ¬è·¯å¾„æµ‹è¯• è½¯ä»¶ç»´æŠ¤ æ­£ç¡®æ€§å’Œå®Œå–„æ€§ç»´æŠ¤æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ç»´æŠ¤ï¼Œé€‚åº”æ€§å’Œé¢„é˜²æ€§æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„ç»´æŠ¤ã€‚\næ­£ç¡®æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯ç³»ç»Ÿå†…éƒ¨çš„é”™è¯¯ã€‚\næ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ï¼Œä¸é”™è¯¯æœ‰å…³çš„éƒ½æ˜¯å±äºæ­£ç¡®æ€§ç»´æŠ¤ã€‚\nå®Œå–„æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯ç³»ç»Ÿå†…éƒ¨ä¸åŠŸèƒ½ã€æ€§èƒ½ç­‰æ–¹é¢æœ‰å…³çš„ç»´æŠ¤ã€‚\næ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ï¼Œä¸ç³»ç»ŸåŠŸèƒ½ã€æ€§èƒ½ç­‰æ–¹é¢æœ‰å…³çš„æ”¹å–„éƒ½æ˜¯å®Œå–„æ€§ç»´æŠ¤ã€‚å®Œå–„æ€§ç»´æŠ¤çš„éœ€æ±‚å¯ä»¥æ¥è‡ªå¤–éƒ¨ï¼Œä¾‹å¦‚åŠŸèƒ½çš„æ‰©å±•ã€‚\né€‚åº”æ€§ç»´æŠ¤æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„æŠ€æœ¯ã€ç®¡ç†éœ€æ±‚ç­‰æ–¹é¢çš„å˜åŒ–ã€‚\né’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„å˜åŒ–ï¼Œç³»ç»ŸåŠŸèƒ½ç­‰æ–¹é¢æ²¡æœ‰ç¼ºå¤±ï¼Œä»…ä»…åªæ˜¯é€‚åº”å½“å‰ç¯å¢ƒå˜åŒ–æ‰€åšçš„æ›´æ”¹ï¼Œéƒ½æ˜¯å±äºé€‚åº”æ€§ç»´æŠ¤ã€‚\né¢„é˜²æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯æœªæ¥çš„ç¯å¢ƒå˜åŒ–ã€‚\næ²Ÿé€šè·¯å¾„ è½¯ä»¶é¡¹ç›®ä¸­æ²Ÿé€šè·¯å¾„$m$çš„è®¡ç®—å…¬å¼ï¼ˆäººæ•°$n$ï¼‰ï¼š\næ²Ÿé€šå›¾ä¸­æ— ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = \\sum_{i=1}^{n} i-1 = \\cfrac{(n-1)n}{2} $$\næ²Ÿé€šå›¾ä¸­æœ‰ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = n - 1 $$\nä¼°ç®—æ¨¡å‹ COCOMOæ¨¡å‹ï¼š\næ¨¡å‹åˆ†ç±» ç±»å‹æˆ–è¯´æ˜ åŸºæœ¬COCOMOæ¨¡å‹ é™æ€å•å˜é‡æ¨¡å‹ï¼Œå¯¹æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿè¿›è¡Œä¼°ç®— ä¸­çº§COCOMOæ¨¡å‹ é™æ€å¤šå˜é‡æ¨¡å‹ï¼Œå°†ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿå’Œéƒ¨ä»¶2ä¸ªå±‚æ¬¡ è¯¦ç»†COCOMOæ¨¡å‹ å°†ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿã€å­ç³»ç»Ÿå’Œæ¨¡å—3ä¸ªå±‚æ¬¡ COCOMOII å±‚æ¬¡ç»“æ„ï¼Œåˆ†ä¸ºåº”ç”¨ç»„è£…æ¨¡å‹ã€æ—©æœŸè®¾è®¡é˜¶æ®µæ¨¡å‹å’Œä½“ç³»ç»“æ„é˜¶æ®µæ¨¡å‹ COCOMOIIçš„ä½¿ç”¨æ—¶æœŸåŠè§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼š\né˜¶æ®µæ€§æ¨¡å‹ è§„æ¨¡ä¼°ç®—é€‰æ‹© åº”ç”¨ç»„è£…æ¨¡å‹ å¯¹è±¡ç‚¹ æ—©æœŸè®¾è®¡é˜¶æ®µæ¨¡å‹ åŠŸèƒ½ç‚¹ ä½“ç³»ç»“æ„é˜¶æ®µæ¨¡å‹ ä»£ç è¡Œ ç”˜ç‰¹å›¾å’ŒPERTå›¾ è½¯ä»¶å·¥ç¨‹ç¯‡â€”â€”é¡¹ç›®è¿›åº¦ç®¡ç†\né£é™©åˆ†ç±» åˆ†ç±» è¯´æ˜ é¡¹ç›®é£é™© å¨èƒåˆ°é¡¹ç›®è®¡åˆ’ã€‚é£é™©å› ç´ ï¼š\né¢„ç®—ã€è¿›åº¦ã€äººå‘˜ã€èµ„æºå’Œåˆ©ç›Šç›¸å…³è€…ï¼Œé¡¹ç›®å¤æ‚åº¦ã€è§„æ¨¡å’Œç»“æ„çš„ä¸ç¡®å®šæ€§\næŠ€æœ¯é£é™© å¨èƒåˆ°è½¯ä»¶çš„è´¨é‡åŠäº¤ä»˜æ—¶é—´ã€‚é£é™©å› ç´ ï¼š\nè®¾è®¡ã€å®ç°ã€æ¥å£ã€éªŒè¯å’Œç»´æŠ¤ï¼Œè§„æ ¼è¯´æ˜çš„æ­§ä¹‰æ€§ã€æŠ€æœ¯çš„ä¸ç¡®å®šæ€§ã€æŠ€æœ¯é™ˆæ—§å’Œä½¿ç”¨â€œå‰æ²¿â€æŠ€æœ¯\nå¸‚åœºé£é™© å¼€å‘äº†ä¸€ä¸ªæ²¡æœ‰äººçœŸæ­£éœ€è¦çš„äº§å“æˆ–ç³»ç»Ÿã€‚ ç­–ç•¥é£é™© å¼€å‘çš„äº§å“ä¸å†ç¬¦åˆå…¬å¸çš„æ•´ä½“å•†ä¸šç­–ç•¥ã€‚ é”€å”®é£é™© å¼€å‘äº†ä¸€ä¸ªé”€å”®éƒ¨é—¨ä¸çŸ¥é“å¦‚ä½•å»é”€å”®çš„äº§å“ã€‚ ç®¡ç†é£é™© ç”±äºé‡ç‚¹çš„è½¬ç§»æˆ–äººå‘˜çš„å˜åŠ¨è€Œå¤±å»äº†é«˜çº§ç®¡ç†å±‚çš„æ”¯æŒã€‚ é¢„ç®—é£é™© æ²¡æœ‰å¾—åˆ°é¢„ç®—æˆ–äººå‘˜çš„ä¿è¯ã€‚ é£é™©ç®¡ç†æ€»ç»“ï¼š\né£é™©ç®¡ç† è¯´æ˜ é£é™©è¯†åˆ« æŒ‡å‡ºå¯¹é¡¹ç›®è®¡åˆ’çš„å¨èƒã€‚å¯é€šè¿‡å»ºç«‹é£é™©æ¡ç›®æ£€æŸ¥è¡¨è¯†åˆ«ã€‚ é£é™©é¢„æµ‹ ä»é£é™©å‘ç”Ÿçš„å¯èƒ½æ€§æˆ–æ¦‚ç‡ã€é£é™©äº§ç”Ÿçš„åæœè¯„ä¼°å¯èƒ½å‘ç”Ÿçš„é£é™©ã€‚ é£é™©è¯„ä¼° ä»é£é™©å‘ç”Ÿçš„æ¦‚ç‡å’Œäº§ç”Ÿçš„å½±å“è¯„ä¼°é£é™©ã€‚å¯ç”¨å®šä¹‰é£é™©å‚ç…§æ°´å‡†æŠ€æœ¯è¯„ä¼°ã€‚ é£é™©æ§åˆ¶ ç›®çš„æ˜¯è¾…åŠ©é¡¹ç›®å»ºç«‹å¤„ç†é£é™©çš„ç­–ç•¥ã€‚ç­–ç•¥æ˜¯é£é™©é¿å…ã€é£é™©ç›‘æ§å’ŒRMMMè®¡åˆ’ã€‚ é£é™©é¿å… åº”å¯¹é£é™©çš„æœ€å¥½åŠæ³•æ˜¯ä¸»åŠ¨åœ°é¿å…é£é™©ã€‚ é£é™©ç›‘æ§ é¡¹ç›®ç®¡ç†è€…åº”ç›‘æ§æŸäº›å¯ä»¥æä¾›é£é™©é«˜ä½å˜åŒ–æŒ‡ç¤ºçš„å› ç´ ã€‚ ISO/IEC 9126 è½¯ä»¶è´¨é‡æ¨¡å‹ ç”±3ä¸ªå±‚æ¬¡ç»„æˆï¼š\nç¬¬ä¸€å±‚ï¼šè´¨é‡ç‰¹æ€§ ç¬¬äºŒå±‚ï¼šè´¨é‡å­ç‰¹æ€§ ç¬¬ä¸‰å±‚ï¼šåº¦é‡æŒ‡æ ‡ è¯¥æ¨¡å‹çš„è´¨é‡ç‰¹æ€§å’Œè´¨é‡å­ç‰¹æ€§ï¼š\nè´¨é‡ç‰¹æ€§ è´¨é‡å­ç‰¹æ€§ åŠŸèƒ½æ€§ï¼ˆFunctionalityï¼‰ é€‚åˆæ€§ï¼ˆSuitabilityï¼‰ å‡†ç¡®æ€§ï¼ˆAccuratenessï¼‰ äº’ç”¨æ€§ï¼ˆInteroperabilityï¼‰ ä¾ä»æ€§ï¼ˆComplianceï¼‰ å®‰å…¨æ€§ï¼ˆSecurityï¼‰ å¯é æ€§ï¼ˆReliabilityï¼‰ æˆç†Ÿæ€§ï¼ˆMaturityï¼‰ å®¹é”™æ€§ï¼ˆFault toleranceï¼‰ æ˜“æ¢å¤æ€§ï¼ˆRecoverabilityï¼‰ æ˜“ä½¿ç”¨æ€§ï¼ˆUsabilityï¼‰ æ˜“ç†è§£æ€§ï¼ˆUnderstandabilityï¼‰ æ˜“å­¦æ€§ï¼ˆLearnabilityï¼‰ æ˜“æ“ä½œæ€§ï¼ˆOperabilityï¼‰ æ•ˆç‡ï¼ˆEfficiencyï¼‰ æ—¶é—´ç‰¹æ€§ï¼ˆTime behaviorï¼‰ èµ„æºç‰¹æ€§ï¼ˆResource behaviorï¼‰ å¯ç»´æŠ¤æ€§ï¼ˆMaintainabilityï¼‰ æ˜“åˆ†ææ€§ï¼ˆAnalyzabilityï¼‰ æ˜“æ”¹å˜æ€§ï¼ˆChangeabilityï¼‰ ç¨³å®šæ€§ï¼ˆStabilityï¼‰ æ˜“æµ‹è¯•æ€§ï¼ˆTestabilityï¼‰ å¯ç§»æ¤æ€§ï¼ˆPortabilityï¼‰ é€‚åº”æ€§ï¼ˆAdaptabilityï¼‰ æ˜“å®‰è£…æ€§ï¼ˆInstallabilityï¼‰ ä¸€è‡´æ€§ï¼ˆConformanceï¼‰ æ˜“æ›¿æ¢æ€§ï¼ˆReplaceabilityï¼‰ è´¨é‡å­ç‰¹æ€§çš„å«ä¹‰ï¼š\nåŠŸèƒ½æ€§ï¼š é€‚åˆæ€§ï¼šä¸å¯¹è§„å®šä»»åŠ¡èƒ½å¦æä¾›ä¸€ç»„åŠŸèƒ½ä»¥åŠè¿™ç»„åŠŸèƒ½æ˜¯å¦é€‚åˆæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å‡†ç¡®æ€§ï¼šä¸èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®æˆ–ç›¸ç¬¦çš„ç»“æœæˆ–æ•ˆæœæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ äº’ç”¨æ€§ï¼šä¸å…¶ä»–æŒ‡å®šç³»ç»Ÿè¿›è¡Œäº¤äº’æ“ä½œçš„èƒ½åŠ›ç›¸å…³çš„è½¯ä»¶å±æ€§ã€‚ ä¾ä»æ€§ï¼šä½¿è½¯ä»¶æœä»æœ‰å…³çš„æ ‡å‡†ã€çº¦å®šã€æ³•è§„åŠç±»ä¼¼è§„å®šçš„è½¯ä»¶å±æ€§ã€‚ å®‰å…¨æ€§ï¼šä¸é¿å…å¯¹ç¨‹åºåŠæ•°æ®çš„éæˆæƒæ•…æ„æˆ–æ„å¤–è®¿é—®çš„èƒ½åŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯é æ€§ï¼š æˆç†Ÿæ€§ï¼šä¸ç”±è½¯ä»¶æ•…éšœå¼•èµ·å¤±æ•ˆçš„é¢‘åº¦æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å®¹é”™æ€§ï¼šä¸åœ¨è½¯ä»¶é”™è¯¯æˆ–è¿åæŒ‡å®šæ¥å£çš„æƒ…å†µä¸‹ç»´æŒæŒ‡å®šçš„æ€§èƒ½æ°´å¹³çš„èƒ½åŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ¢å¤æ€§ï¼šä¸åœ¨æ•…éšœå‘ç”Ÿåï¼Œé‡æ–°å»ºç«‹å…¶æ€§èƒ½æ°´å¹³å¹¶æ¢å¤ç›´æ¥å—å½±å“æ•°æ®çš„èƒ½åŠ›ï¼Œä»¥åŠä¸ºè¾¾åˆ°æ­¤ç›®çš„æ‰€éœ€çš„æ—¶é—´å’ŒåŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“ä½¿ç”¨æ€§ï¼š æ˜“ç†è§£æ€§ï¼šä¸ç”¨æˆ·ä¸ºç†è§£é€»è¾‘æ¦‚å¿µåŠå…¶åº”ç”¨æ‰€ä»˜å‡ºçš„åŠ³åŠ¨æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“å­¦æ€§ï¼šä¸ç”¨æˆ·ä¸ºå­¦ä¹ å…¶åº”ç”¨ï¼ˆä¾‹å¦‚æ“ä½œæ§åˆ¶ã€è¾“å…¥ã€è¾“å‡ºï¼‰æ‰€ä»˜å‡ºçš„åŠªåŠ›ç›¸å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ“ä½œæ€§ï¼šä¸ç”¨æˆ·ä¸ºè¿›è¡Œæ“ä½œå’Œæ“ä½œæ§åˆ¶æ‰€ä»˜å‡ºçš„åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ•ˆç‡ï¼š æ—¶é—´ç‰¹æ€§ï¼šä¸å“åº”å’Œå¤„ç†æ—¶é—´ä»¥åŠè½¯ä»¶æ‰§è¡Œå…¶åŠŸèƒ½æ—¶çš„ååé‡æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ èµ„æºç‰¹æ€§ï¼šä¸è½¯ä»¶æ‰§è¡Œå…¶åŠŸèƒ½æ—¶ï¼Œæ‰€ä½¿ç”¨çš„èµ„æºé‡ä»¥åŠä½¿ç”¨èµ„æºçš„æŒç»­æ—¶é—´æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯ç»´æŠ¤æ€§ï¼š æ˜“åˆ†ææ€§ï¼šä¸ä¸ºè¯Šæ–­ç¼ºé™·æˆ–å¤±æ•ˆåŸå› ï¼Œæˆ–ä¸ºåˆ¤å®šå¾…ä¿®æ”¹çš„éƒ¨åˆ†æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ”¹å˜æ€§ï¼šä¸è¿›è¡Œä¿®æ”¹ã€æ’é”™æˆ–é€‚åº”ç¯å¢ƒå˜æ¢æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ ç¨³å®šæ€§ï¼šä¸ä¿®æ”¹é€ æˆæœªé¢„æ–™æ•ˆæœçš„é£é™©æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æµ‹è¯•æ€§ï¼šä¸ºç¡®è®¤ç»ä¿®æ”¹è½¯ä»¶æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯ç§»æ¤æ€§ï¼š é€‚åº”æ€§ï¼šä¸è½¯ä»¶è½¬ç§»åˆ°ä¸åŒç¯å¢ƒæ—¶çš„å¤„ç†æˆ–æ‰‹æ®µæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“å®‰è£…æ€§ï¼šä¸åœ¨æŒ‡å®šç¯å¢ƒä¸‹å®‰è£…è½¯ä»¶æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ ä¸€è‡´æ€§ï¼šä½¿è½¯ä»¶æœä»ä¸å¯ç§»æ¤æ€§æœ‰å…³çš„æ ‡å‡†æˆ–çº¦å®šçš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ›¿æ¢æ€§ï¼šä¸ä¸€è½¯ä»¶åœ¨è¯¥è½¯ä»¶ç¯å¢ƒä¸­ç”¨æ¥æ›¿ä»£æŒ‡å®šçš„å…¶ä»–è½¯ä»¶çš„å¯èƒ½å’ŒåŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ è®¡ç®—æœºç½‘ç»œ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”è®¡ç®—æœºç½‘ç»œç¯‡\nç½‘ç»œåˆ†ç±» æŒ‰é€šä¿¡è·ç¦»åˆ†ç±»ï¼š\nç½‘ç»œåˆ†ç±» åˆ†å¸ƒè·ç¦» è®¡ç®—æœºåˆ†å¸ƒèŒƒå›´ ä¼ è¾“é€Ÿç‡ å±€åŸŸç½‘ MAN 10må·¦å³ æˆ¿é—´ 4Mbps ~ 1Gbps 100må·¦å³ æ¥¼å¯“ 1000må·¦å³ æ ¡å›­ åŸåŸŸç½‘ WAN 10km åŸå¸‚ 50Kbps ~ 100 Mbps å¹¿åŸŸç½‘ LAN 100kmä»¥ä¸Š å›½å®¶æˆ–å…¨çƒ 9.6Kbps ~ 45Mbps ISO/OSI ç½‘ç»œä½“ç³»ç»“æ„ é€šä¿¡å­ç½‘å¯¹åº”äºOSIä¸­çš„ä½ä¸‰å±‚ï¼š ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ èµ„æºå­ç½‘å¯¹åº”äºOSIä¸­çš„é«˜ä¸‰å±‚ï¼š ä¼šè¯å±‚ è¡¨ç¤ºå±‚ åº”ç”¨å±‚ ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ æ€»çº¿å‹ç»“æ„ï¼š\næ˜Ÿå‹ç»“æ„ï¼š\nç¯å‹ç»“æ„ï¼š\næ ‘å‹ç»“æ„ï¼š\nåˆ†å¸ƒå¼ç»“æ„ï¼š\nç½‘ç»œè®¾å¤‡ æŒ‰ç…§ISO/OSIçš„åˆ†å±‚å°†äº’è¿è®¾å¤‡åˆ†ç±»ï¼š\nç‰©ç†å±‚è®¾å¤‡ï¼š\nä¸­ç»§å™¨ï¼ˆRepeaterï¼‰ é›†çº¿å™¨ï¼ˆHubï¼‰ï¼šä¸€ç§å¤šç«¯å£çš„ä¸­ç»§å™¨ã€‚é›†çº¿å™¨ä¸èƒ½è‡ªåŠ¨å¯»å€ï¼Œä½†å¯ä»¥æ£€æµ‹å‘é€å†²çªã€‚ æ•°æ®é“¾è·¯å±‚è®¾å¤‡ï¼š\nç½‘æ¡¥ï¼ˆBridgeï¼‰\näº¤æ¢æœºï¼ˆSwitchï¼‰ï¼šä¸€ç§å¤šç«¯å£çš„ç½‘æ¡¥ã€‚\näº¤æ¢æŠ€æœ¯ï¼š\nç«¯å£äº¤æ¢ å¸§äº¤æ¢ ä¿¡å…ƒäº¤æ¢ ç½‘ç»œå±‚è®¾å¤‡ï¼šè·¯ç”±å™¨ï¼ˆRouterï¼‰\nåº”ç”¨å±‚è®¾å¤‡ï¼šç½‘å…³ï¼ˆGatewayï¼‰\nç½‘ç»œä¼ è¾“ä»‹è´¨ æœ‰çº¿ä»‹è´¨ï¼š åŒç»çº¿ï¼ˆTwisted-Pairï¼‰ åŒè½´ç”µç¼†ï¼ˆCoaxialï¼‰ å…‰çº¤ï¼ˆFiber Opticï¼‰ æ— çº¿ä»‹è´¨ï¼š å¾®æ³¢ çº¢å¤–çº¿å’Œæ¿€å…‰ å«æ˜Ÿé€šä¿¡ LAN æ¨¡å‹ ä»¥å¤ªç½‘ IEEE 802.3ä¸­å®šä¹‰çš„æ ‡å‡†å±€åŸŸç½‘ï¼Œé€Ÿåº¦ä¸º10Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºç»†åŒè½´ç”µç¼†ï¼› IEEE 802.3uä¸­å®šä¹‰çš„å¿«é€Ÿä»¥å¤ªç½‘ï¼Œé€Ÿåº¦ä¸º100Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºåŒç»çº¿ï¼› IEEE 802.3zä¸­å®šä¹‰çš„åƒå…†ä»¥å¤ªç½‘ï¼Œé€Ÿåº¦ä¸º1000Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºå…‰çº¤æˆ–åŒç»çº¿ã€‚ TCP/IP åè®®æ— åŸºæœ¬ç‰¹æ€§ï¼š\né€»è¾‘ç¼–åˆ¶ï¼šIPåœ°å€åŒ…æ‹¬ï¼š ç½‘ç»œIDå·ï¼šç”¨æ¥æ ‡è¯†ç½‘ç»œï¼› å­ç½‘IDå·ï¼šç”¨æ¥æ ‡è¯†ç½‘ç»œä¸Šçš„ä¸€ä¸ªå­ç½‘ï¼› ä¸»æœºIDå·ï¼šç”¨æ¥æ ‡è¯†å­ç½‘ä¸Šçš„ä¸€å°è®¡ç®—æœºã€‚ è·¯ç”±é€‰æ‹© åŸŸåï¼ˆDNSï¼‰è§£æ é”™è¯¯æ£€æµ‹ æµé‡æ§åˆ¶ TCP/IPåˆ†å±‚æ¨¡å‹ç”±4ä¸ªå±‚æ¬¡æ„æˆï¼š\nåº”ç”¨å±‚ ä¼ è¾“å±‚ ç½‘é™…å±‚ ç½‘ç»œæ¥å£å±‚ TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰ï¼šåœ¨IPæä¾›çš„ä¸å¯é æ•°æ®æœåŠ¡çš„åŸºç¡€ä¸Šä¸ºåº”ç”¨ç¨‹åºæä¾›äº†å¯é çš„ã€é¢å‘è¿æ¥çš„ã€å…¨åŒå·¥çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚\né‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹æ¥ç¡®è®¤å»ºç«‹å’Œå…³é—­è¿æ¥æ˜¯å¦æˆåŠŸã€‚\nUDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ï¼šä¸€ç§ä¸å¯é çš„ã€æ— è¿æ¥çš„åè®®ï¼Œå¯ä»¥ä¿è¯åº”ç”¨ç¨‹åºè¿›ç¨‹é—´çš„é€šä¿¡ã€‚\nåœ°å€è§£æåè®® ARPï¼ˆåœ°å€è§£æåè®®ï¼‰ï¼šå°†IPåœ°å€è½¬æ¢ä¸ºMACåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ã€‚ RARPï¼ˆååœ°å€è§£æåè®®ï¼‰ï¼šå°†MACåœ°å€è½¬æ¢ä¸ºIPåœ°å€ã€‚ åŠ¨æ€ä¸»æœºé…ç½®åè®® DHCP DHCPå®¢æˆ·ç«¯å¯ä»¥ä»DHCPæœåŠ¡å™¨è·å¾—ä»¥ä¸‹å†…å®¹ï¼š\næœ¬æœºIPåœ°å€ DNSæœåŠ¡å™¨åœ°å€ DHCPæœåŠ¡å™¨åœ°å€ é»˜è®¤ç½‘å…³çš„åœ°å€ æ— æ•ˆåœ°å€ Windowsæ— æ•ˆåœ°å€ï¼š169.254.X.X\n169.254.X.Xæ˜¯Windowsç³»ç»Ÿåœ¨DHCPä¿¡æ¯ç§Ÿç”¨å¤±è´¥æ—¶è‡ªåŠ¨ç»™å®¢æˆ·æœºåˆ†é…çš„IPåœ°å€ã€‚\nLinuxæ— æ•ˆåœ°å€ï¼š0.0.0.0\nåŸŸåå’ŒURL ä¸»æœºå.æœ¬åœ°å.ç»„å.æœ€é«˜å±‚åŸŸå ä¸»æœºæ‰€åœ¨çš„ç½‘ç»œçº§åˆ«è¾ƒé«˜ï¼š\næœ¬åœ°å.ç»„å.æœ€é«˜å±‚åŸŸå URLå³ç»Ÿä¸€èµ„æºå®šä½å™¨ï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ï¼š\nåè®®å://ä¸»æœºå.åŸŸå.åŸŸååç¼€.åŸŸååˆ†ç±»/ç›®å½•/ç½‘é¡µæ–‡ä»¶ IP IPv4ï¼š\nå…¨0ä»£è¡¨çš„æ˜¯ç½‘ç»œï¼Œå…¨1ä»£è¡¨çš„æ˜¯å¹¿æ’­ã€‚\nIPv4èƒ½è¡¨ç¤ºçš„åœ°å€ä¸ªæ•°ä¸ºï¼š\n$$ 2^{32} \\approx 40äº¿ $$\n**IPv6ï¼š**é•¿è¾¾128ä½çš„åœ°å€ç©ºé—´ï¼Œå½»åº•è§£å†³IPv4åœ°å€ä¸è¶³çš„é—®é¢˜ã€‚\nIPv6ç†è®ºä¸Šèƒ½è¡¨ç¤ºçš„åœ°å€ä¸ªæ•°ï¼š\n$$ 2^{128} = 3.4 \\times 10^{38} $$\né˜²ç«å¢™æŠ€æœ¯ é˜²ç«å¢™æŠ€æœ¯æ˜¯å»ºç«‹åœ¨å†…å¤–ç½‘ç»œè¾¹ç•Œä¸Šçš„è¿‡æ»¤å°é”æœºåˆ¶ï¼Œå®ƒè®¤ä¸ºï¼š\nå†…éƒ¨ç½‘ç»œæ˜¯å®‰å…¨å’Œå¯ä¿¡èµ–çš„ï¼› å¤–éƒ¨ç½‘ç»œæ˜¯ä¸å®‰å…¨å’Œä¸å¯ä¿¡èµ–çš„ã€‚ é˜²ç«å¢™çš„ä½œç”¨ï¼šé˜²æ­¢ä¸å¸Œæœ›çš„ã€æœªç»æˆæƒåœ°è¿›å‡ºè¢«ä¿æŠ¤çš„å†…éƒ¨ç½‘ç»œã€‚\né˜²ç«å¢™æŠ€æœ¯ç»å†äº†ä¸‰ä¸ªå‘å±•é˜¶æ®µï¼š\nåŒ…è¿‡æ»¤é˜²ç«å¢™ åº”ç”¨ä»£ç†ç½‘å…³é˜²ç«å¢™ çŠ¶æ€æ£€æµ‹æŠ€æœ¯é˜²ç«å¢™ å…¥ä¾µæ£€æµ‹ å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼ˆDSï¼‰ä½œä¸ºé˜²ç«å¢™ä¹‹åçš„ç¬¬äºŒé“å®‰å…¨å±éšœã€‚\nå…¥ä¾µæ£€æµ‹ç³»ç»Ÿæœ‰æ•ˆçš„å¼¥è¡¥äº†é˜²ç«å¢™ç³»ç»Ÿå¯¹ç½‘ç»œä¸Šçš„å…¥ä¾µè¡Œä¸ºæ— æ³•è¯†åˆ«å’Œæ£€æµ‹çš„ä¸è¶³ã€‚\nå…¥ä¾µé˜²å¾¡ç³»ç»Ÿï¼ˆIPSï¼‰æ˜¯åœ¨å…¥ä¾µæ£€æµ‹ç³»ç»Ÿçš„åŸºç¡€ä¸Šå‘å±•èµ·æ¥çš„ï¼Œä¸ä»…èƒ½æ£€æµ‹åˆ°ç½‘ç»œä¸­çš„æ”»å‡»è¡Œä¸ºï¼ŒåŒæ—¶ä¸»åŠ¨å¯¹æ”»å‡»è¡Œä¸ºå‘å‡ºå“åº”ï¼Œå¯¹æ”»å‡»è¿›è¡Œé˜²å¾¡ã€‚\nç½‘ç»œæ”»å‡» æ”»å‡»ç›®æ ‡å¯¹äºæ”»å‡»è€…æ˜¯ä¸ªé»‘ç›’å­ã€‚\nç½‘ç»œæ”»å‡»æ‰‹æ®µæœ‰ï¼š\næ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDosæ”»å‡»ï¼‰ï¼šä½¿è®¡ç®—æœºæˆ–ç½‘ç»œæ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡é€šè¿‡ä¸æ–­å‘è®¡ç®—æœºå‘èµ·è¯·æ±‚æ¥å®ç°çš„ã€‚ é‡æ”¾æ”»å‡»ï¼šæ”»å‡»è€…å‘é€ä¸€ä¸ªç›®çš„ä¸»æœºå·²ç»æ¥å—è¿‡çš„æŠ¥æ–‡æ¥è¾¾åˆ°æ”»å‡»ç›®çš„ã€‚ å£ä»¤å…¥ä¾µæ”»å‡»ã€‚ ç‰¹æ´›ä¼Šæœ¨é©¬ã€‚ ç«¯å£æ¬ºéª—æ”»å‡»ã€‚ ç½‘ç»œç›‘å¬ã€‚ IPæ¬ºéª—æ”»å‡»ã€‚ SQLæ³¨å…¥æ”»å‡»ã€‚ ç—…æ¯’ ç—…æ¯’ç±»å‹ï¼š\nWormï¼ˆè •è™«ç—…æ¯’ï¼‰ï¼š\næ¬¢ä¹æ—¶å…‰ï¼Œ ç†ŠçŒ«çƒ§é¦™ï¼Œ çº¢è‰²ä»£ç ï¼Œ çˆ±è™«ç—…æ¯’ï¼Œ éœ‡ç½‘ã€‚ Trojanï¼ˆç‰¹æ´›ä¼Šæœ¨é©¬ï¼‰ï¼šé€šè¿‡å†…éƒ¨å‘èµ·è¿æ¥ä¸å¤–éƒ¨ä¸»æœºå»ºç«‹è”ç³»ï¼Œç”±å¤–éƒ¨ä¸»æœºæ§åˆ¶å¹¶ç›—å–ç”¨æˆ·ä¿¡æ¯ã€‚\nè®¡ç®—æœºæ„ŸæŸ“ç‰¹æ´›ä¼Šæœ¨é©¬åçš„å…¸å‹çº¿å‹æ˜¯æœ‰æœªçŸ¥ç¨‹åºè¯•å›¾å»ºç«‹ç½‘ç»œè¿æ¥ã€‚\nå¸¸è§çš„æœ¨é©¬å¦‚å†°æ²³ã€‚\nBackdoorï¼ˆåé—¨ç—…æ¯’ï¼‰ã€‚\nMacroï¼ˆå®ç—…æ¯’ï¼‰ï¼š\nå®ç—…æ¯’æ„ŸæŸ“çš„å¯¹è±¡ä¸»è¦æ˜¯æ–‡æœ¬æ–‡æ¡£ã€ç”µå­è¡¨æ ¼ç­‰ã€‚\nç®—æ³•è®¾è®¡ä¸åˆ†æ è·³è½¬è¿æ¥ï¼šè½¯ä»¶è®¾è®¡å¸ˆâ€”â€”ç®—æ³•è®¾è®¡ä¸åˆ†æç¯‡\nç®—æ³•è®¾è®¡æ–¹æ³• ç®—æ³•è®¾è®¡æ–¹æ³• è¯´æ˜ ç‰¹ç‚¹ å®ä¾‹ åˆ†æ²»æ³• å°†åŸé—®é¢˜åˆ†è§£æˆå¤šä¸ªä¸åŸé—®é¢˜ç›¸åŒçš„å­é—®é¢˜é€’å½’åœ°æ±‚è§£å„å­é—®é¢˜å°†å­é—®é¢˜çš„è§£åˆå¹¶æˆåŸé—®é¢˜çš„è§£ åŸé—®é¢˜è§„æ¨¡å¤§ä¸”èƒ½åˆ†è§£ä¸ºå¤šä¸ªä¸åŸé—®é¢˜ç›¸åŒçš„å­é—®é¢˜ å½’å¹¶æ’åºå¿«é€Ÿæ’åºæœ€å¤§å­—æ®µå’Œé—®é¢˜ åŠ¨æ€è§„åˆ’æ³• æ‰¾å‡ºå¹¶åˆ»ç”»æœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼è‡ªåº•å‘ä¸Šæ–¹å¼è®¡ç®—æœ€ä¼˜å€¼æˆ–æ„é€ æœ€ä¼˜è§£ æ±‚è§£å…·æœ‰æŸç§æœ€ä¼˜æ€§è´¨çš„é—®é¢˜ 0-1 èƒŒåŒ…é—®é¢˜çŸ©é˜µè¿ä¹˜æœ€é•¿å…¬å…±åºåˆ—ï¼ˆLCSï¼‰ è´ªå¿ƒæ³• ä¸åŠ¨æ€è§„åˆ’ç±»ä¼¼ï¼Œä½†è´ªå¿ƒæ³•è€ƒè™‘çš„æ˜¯å±€éƒ¨æœ€ä¼˜è§£ å¹¶ä¸ä¿è¯å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œä½†é€šå¸¸èƒ½å¾—åˆ°è¿‘ä¼¼æœ€ä¼˜è§£ æ´»åŠ¨é€‰æ‹©é—®é¢˜èƒŒåŒ…é—®é¢˜ å›æº¯æ³• åœ¨è§£ç©ºé—´æ ‘ä¸­ï¼ŒæŒ‰æ·±åº¦ä¼˜å…ˆç­–ç•¥ï¼Œä»æ ¹ç»“ç‚¹å‡ºå‘æœç´¢è§£ç©ºé—´æ ‘ å¯ä»¥æœç´¢é—®é¢˜çš„æ‰€æœ‰è§£æˆ–ä»»ä¸€è§£é€‚ç”¨äºæ±‚è§£ç»„åˆæ•°è¾ƒå¤§çš„é—®é¢˜é€šè¿‡é™ç•Œå‡½æ•°å‡å°‘é—®é¢˜çš„æœç´¢ç©ºé—´ 0-1èƒŒåŒ…é—®é¢˜nçš‡åé—®é¢˜ åˆ†æ”¯é™ç•Œæ³• ä¸å›æº¯æ³•ç±»ä¼¼ï¼Œåœ¨è§£ç©ºé—´æ ‘ç§æŒ‰å¹¿åº¦ä¼˜å…ˆæˆ–æœ€å°è€—è´¹ä¼˜å…ˆæ–¹å¼ï¼Œæœç´¢æ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£ å¯ä»¥ç»™å‡ºåœ¨æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£åˆ†ä¸ºé˜Ÿåˆ—å¼å’Œä¼˜å…ˆé˜Ÿåˆ—å¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—å¼é€šè¿‡æœ€å¤§å †æˆ–æœ€å°å †å®ç° 0-1 èƒŒåŒ…é—®é¢˜ ç®—æ³•å®ä¾‹ ç®—æ³•è®¾è®¡ä¸åˆ†æç¯‡â€”â€”ç®—æ³•å®ä¾‹\næŸ¥æ‰¾ç®—æ³• ç®—æ³•è®¾è®¡ä¸åˆ†æç¯‡â€”â€”æŸ¥æ‰¾ç®—æ³•\næŸ¥æ‰¾ç®—æ³•åœ¨æŸ¥æ‰¾æˆåŠŸæ—¶çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦å…³é”®å­—å’Œç»™å®šå€¼æ¯”è¾ƒæ¬¡æ•°çš„æœŸæœ›å€¼ï¼š\n$$ ASL = \\sum_{i=1}^{n}{P_iC_i} $$\n$P_i$ä¸ºå¯¹è¡¨ä¸­ç¬¬$i$ä¸ªè®°å½•è¿›è¡ŒæŸ¥æ‰¾çš„æ¦‚ç‡ï¼Œ\nä¸€èˆ¬è®¤ä¸º$P_i=\\cfrac{1}{n}, 1 \\le i \\le n$ï¼Œå³$\\sum_{i=1}^{n}{P_i}$ï¼›\n$C_i$ä¸ºæŸ¥æ‰¾æˆåŠŸæ—¶ï¼Œå·²ç»è¿›è¡Œè¿‡æ¯”è¾ƒçš„å…³é”®å­—ä¸ªæ•°ã€‚\né™æ€æŸ¥æ‰¾è¡¨æœ‰ä»¥ä¸‹æŸ¥æ‰¾æ–¹æ³•ï¼š\né¡ºåºæŸ¥æ‰¾ï¼› æŠ˜åŠæŸ¥æ‰¾ï¼› åˆ†å—æŸ¥æ‰¾ã€‚ åŠ¨æ€æŸ¥æ‰¾è¡¨æœ‰ä»¥ä¸‹æŸ¥æ‰¾æ–¹æ³•ï¼š\näºŒå‰æ’åºæ ‘ï¼› å¹³è¡¡æ’åºæ ‘ï¼› B-æ ‘ï¼› å“ˆå¸Œè¡¨ã€‚ é¡ºåºæŸ¥æ‰¾ä¸­ï¼Œ$C_i$å–å†³äºæ‰€æŸ¥è®°å½•åœ¨è¡¨ä¸­çš„ä½ç½®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ$C_i = n - i + 1$ï¼Œåœ¨ç­‰æ¦‚ç‡ä¸‹ï¼Œé¡ºåºæŸ¥æ‰¾çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦ä¸ºï¼š\n$$ ASL_{ss} = \\cfrac{1}{n} \\sum_{i=1}^{n}{(n-i+1)} = \\cfrac{n+1}{2} $$\næŠ˜åŠæŸ¥æ‰¾çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦ï¼ˆå‡è®¾ç»“ç‚¹æ€»æ•°ä¸º$n=2^h-1$ï¼Œå³æŠ˜åŠæŸ¥æ‰¾æ ‘ä¸ºæ·±åº¦$h=log_2(n+1)$çš„æ»¡äºŒå‰æ ‘ï¼‰ï¼š\n$$ ASL_{bs} = \\cfrac{1}{n} \\sum_{i=1}^{n}{i \\times 2^{i-1}} = \\cfrac{n+1}{n} log_2{(n+1)} - 1 $$\nå½“$n$å€¼è¾ƒå¤§æ—¶ï¼Œ$ASL_{bs} \\approx log_2{(n+1)} - 1$ã€‚\nå“ˆå¸Œå‡½æ•° å“ˆå¸Œå‡½æ•°æ„é€ æ–¹æ³•ï¼š\nç›´æ¥å®šå€æ³•ï¼› æ•°å­—åˆ†ææ³•ï¼› å¹³æ–¹å–ä¸­æ³•ï¼› æŠ˜å æ³•ï¼› éšæœºæ•°æ³•ï¼› é™¤ç•™ä½™æ•°æ³• å“ˆå¸Œå‡½æ•°çš„æ„é€ è¦è€ƒè™‘åˆ°ï¼š\nå‹ç¼©æ€§ï¼šèŠ‚çœå­˜å‚¨ç©ºé—´ï¼› æ•£åˆ—æ€§ï¼šå°½é‡å‡å°‘å†²çªã€‚ é™¤ç•™å–ä½™æ•°æ³•ï¼š\n$$ f(key)=key \\enspace mod \\enspace p\\quad (p\\le m),\\ mä¸ºæ•£åˆ—è¡¨é•¿ $$\nå†²çªå¤„ç†æ–¹æ³•ï¼š\nå¼€æ”¾åœ°å€æ³•ï¼› å¤šé‡æ•£åˆ—æ³•ï¼ˆå†å“ˆå¸Œæ³•ï¼‰ï¼› é“¾åœ°å€æ³•ï¼› å…¬å…±æº¢å‡ºåŒºæ³•â€¦â€¦ å¼€æ”¾åœ°å€æ³•ï¼ˆä¸‰ç§å¯»æ‰¾ç©ºæ•£åˆ—åœ°å€çš„æ–¹æ³•ï¼‰ï¼š\nçº¿æ€§æ¢æµ‹æ³•ï¼ˆçº¿æ€§æ¢æµ‹å†æ•£åˆ—ï¼‰ï¼š\n$$ H_i=(H(key)+d) mod m $$\nå…¶ä¸­ï¼š\n$d$å–$0,1,2,\u0026hellip;,m-1$ï¼› $m$ä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ã€‚ $d$åˆå§‹ä¸º0ï¼Œå¦‚æœæœ‰å†²çªï¼Œé‚£ä¹ˆ$d$å°±é€šè¿‡é€’å¢æ¥å¯»æ‰¾ç©ºçš„æ•£åˆ—åœ°å€ã€‚\näºŒæ¬¡æ¢æµ‹æ³•ï¼ˆäºŒæ¬¡æ¢æµ‹å†æ•£åˆ—ï¼‰ï¼š\n$$ H_i=(H(key)+q^2) mod m $$\nå…¶ä¸­ï¼š\n$q$å–$0,1,-1,2,-2,\u0026hellip;,\\pm k$ï¼Œ$k \\le \\cfrac{m}{2}$ $m$ä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ æ’åºç®—æ³• ç®—æ³•è®¾è®¡ä¸åˆ†æç¯‡â€”â€”æ’åºç®—æ³•\næ’åºç®—æ³•æœ‰ç¨³å®šæ’åºå’Œä¸ç¨³å®šæ’åºä¸¤ç§ã€‚å‡è®¾å¾…æ’åºåºåˆ—ä¸­ï¼Œ$R_i$å’Œ$R_j$å€¼ç›¸åŒï¼Œä¸”$R_i$é¢†å…ˆäº$R_j$ï¼Œæ’åºåï¼š\nç¨³å®šæ’åºï¼šæ’åºå$R_i$å’Œ$R_j$ç›¸å¯¹æ¬¡åºä¸å˜ï¼Œ$R_i$ä»»é¢†å…ˆäº$R_j$ï¼› ä¸ç¨³å®šæ’åºï¼šæ’åºåå¯èƒ½å‡ºç°$R_j$é¢†å…ˆäº$R_i$çš„æƒ…å†µã€‚ æ ¹æ®è®°å½•å­˜å‚¨çš„ä½ç½®å¯åˆ†ä¸ºï¼š\nå†…éƒ¨æ’åºï¼šå¾…æ’åºè®°å½•å­˜å‚¨åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºçš„è¿‡ç¨‹ã€‚ å¤–éƒ¨æ’åºï¼šæ’åºè®°å½•çš„æ•°é‡å¾ˆå¤§ï¼Œå†…å­˜æ— æ³•å®¹çº³å…¨éƒ¨è®°å½•ï¼Œåœ¨æ’åºè¿‡ç¨‹éœ€è¦å¯¹å¤–å­˜è¿›è¡Œè®¿é—®çš„æ’åºè¿‡ç¨‹ã€‚ æ’åºç®—æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ æœ€åæ—¶é—´å¤æ‚åº¦ æœ€å¥½æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ æ˜¯å¦å½’ä½ ç›´æ¥æ’å…¥æ’åº $O(n^2)$ $O(n^2)$ $O(n)$ $O(1)$ ç¨³å®š å¦ å¸Œå°”æ’åº $O(n^{1.3})$ $O(n^2)$ $O(n)$ $O(1)$ ä¸ç¨³å®š å¦ ç®€å•é€‰æ‹©æ’åº $O(n^2)$ $O(n^2)$ $O(n^2)$ $O(1)$ ä¸ç¨³å®š æ˜¯ å †æ’åº $O(nlog_2{n})$ $O(nlog_2{n})$ $O(nlog_2{n})$ $O(1)$ ä¸ç¨³å®š æ˜¯ å†’æ³¡æ’åº $O(n^2)$ $O(n^2)$ $O(n)$ $O(1)$ ç¨³å®š æ˜¯ å¿«é€Ÿæ’åº $O(nlog_2{n})$ $O(n^2)$ $O(nlog_2{n})$ $O(log_2{n})$ ä¸ç¨³å®š æ˜¯ å½’å¹¶æ’åº $O(nlog_2{n})$ $O(nlog_2{n})$ $O(nlog_2{n})$ $O(n)$ ç¨³å®š å¦ æ˜¯å¦å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½å¦ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\n","date":"2023å¹´5æœˆ25æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/05/%E8%BD%AF%E8%80%83%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93%E7%AF%87/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"}],"timestamp":1684985694,"title":"è½¯è€ƒæ¦‚å¿µæ€»ç»“ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ•°æ®æµå›¾ï¼ˆDFDï¼‰ æ•°æ®æµå›¾æ˜¯åœ¨é€»è¾‘ä¸Šæè¿°ç³»ç»Ÿçš„åŠŸèƒ½ã€è¾“å…¥ã€è¾“å‡ºå’Œæ•°æ®å­˜å‚¨ç­‰ã€‚\næ•°æ®æµå›¾ä¸­çš„åŸºæœ¬å›¾å½¢å…ƒç´ åŒ…æ‹¬ï¼š\nåŸºæœ¬å…ƒç´  å›¾å½¢è¡¨ç¤º æ•°æ®æµ åŠ å·¥ æ•°æ®å­˜å‚¨ å¤–éƒ¨å®ä½“ è½¯ä»¶ç³»ç»Ÿå†…éƒ¨çš„æ•°æ®å¤„ç†æ¨¡å‹ï¼Œä½¿ç”¨æ•°æ®æµã€åŠ å·¥å’Œæ•°æ®å­˜å‚¨æ„å»ºã€‚\næ•°æ®æµï¼ˆData Flowï¼‰ï¼šç”±ä¸€ç»„å›ºå®šæˆåˆ†çš„æ•°æ®ç»„æˆï¼Œè¡¨ç¤ºæ•°æ®çš„æµå‘ã€‚\nåœ¨DFDç§ï¼Œæ•°æ®æµçš„æµå‘ç”±ä»¥ä¸‹å‡ ç§ï¼š\nä»åŠ å·¥æµå‘å¦ä¸€ä¸ªåŠ å·¥ï¼› ä»åŠ å·¥æµå‘æ•°æ®å­˜å‚¨ï¼ˆå†™ï¼‰ï¼› ä»æ•°æ®å­˜å‚¨æµå‘åŠ å·¥ï¼ˆè¯»ï¼‰ï¼› ä»å¤–éƒ¨å®ä½“æµå‘åŠ å·¥ï¼ˆè¾“å…¥ï¼‰ï¼› ä»åŠ å·¥æµå‘å¤–éƒ¨å®ä½“ï¼ˆè¾“å‡ºï¼‰ã€‚ å³æ•°æ®æµçš„èµ·ç‚¹æˆ–ç»ˆç‚¹å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åŠ å·¥ã€‚\né™¤äº†ä¸æ•°æ®å­˜å‚¨æœ‰å…³çš„æ•°æ®æµï¼ˆæµå‘æ•°æ®å­˜å‚¨æˆ–ä»æ•°æ®å­˜å‚¨æµå‡ºï¼‰ï¼ŒDFDä¸­çš„æ¯ä¸ªæ•°æ®æµéƒ½å¿…é¡»ç”¨ä¸€ä¸ªå®šä¹‰æ˜ç¡®çš„åå­—è¡¨ç¤ºã€‚\nåŠ å·¥ï¼ˆProcessï¼‰ï¼šåŠ å·¥æè¿°äº†è¾“å…¥æ•°æ®æµåˆ°è¾“å‡ºæ•°æ®æµä¹‹é—´çš„å˜æ¢ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥æ•°æ®æµç»è¿‡ä»€ä¹ˆå¤„ç†åå˜æˆäº†è¾“å‡ºæ•°æ®æµã€‚\næ¯ä¸ªåŠ å·¥éƒ½æœ‰ä¸€ä¸ªåå­—å’Œç¼–å·ã€‚\nä¸€ä¸ªåŠ å·¥å¯ä»¥æœ‰å¤šä¸ªè¾“å…¥æ•°æ®æµå’Œå¤šä¸ªè¾“å‡ºæ•°æ®æµï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªè¾“å…¥æ•°æ®æµå’Œä¸€ä¸ªè¾“å‡ºæ•°æ®æµã€‚\næ•°æ®æµå›¾ä¸­å¸¸è§çš„3ç§é”™è¯¯å¦‚ä¸‹æ‰€ç¤ºï¼š\né»‘æ´ï¼šåŠ å·¥åªæœ‰è¾“å…¥ï¼Œæ²¡æœ‰è¾“å‡ºã€‚\nå¦‚ä¸‹å›¾åŠ å·¥1ã€‚\nç™½æ´ï¼šåŠ å·¥åªæœ‰è¾“å‡ºä½†æ²¡æœ‰è¾“å…¥ã€‚\nå¦‚ä¸‹å›¾åŠ å·¥2ã€‚\nç°æ´ï¼šåŠ å·¥ä¸­è¾“å…¥æ•°æ®ä¸è¶³ä»¥äº§ç”Ÿè¾“å‡ºæ•°æ®ã€‚\næœ‰å‡ ç§å¯èƒ½çš„åŸå› ï¼š\nä¸€ä¸ªé”™è¯¯çš„å‘½åè¿‡ç¨‹ï¼› é”™è¯¯å‘½åçš„è¾“å…¥æˆ–è¾“å‡ºï¼› ä¸å®Œå…¨çš„äº‹å®ã€‚ å¦‚ä¸‹å›¾åŠ å·¥3ã€‚\næ•°æ®å­˜å‚¨ï¼ˆData Storeï¼‰ï¼šå­˜å‚¨å’Œæä¾›æ•°æ®ã€‚\næ¯ä¸ªæ•°æ®å­˜å‚¨éƒ½æœ‰ä¸€ä¸ªå®šä¹‰æ˜ç¡®çš„åå­—æ ‡è¯†ã€‚\næ•°æ®å­˜å‚¨å¯ä»¥ï¼š\nå­˜å‚¨åŠ å·¥çš„è¾“å‡ºæ•°æ®ï¼šæ•°æ®æµæµå…¥æ•°æ®å­˜å‚¨ï¼Œè¡¨ç¤ºæ•°æ®çš„å†™å…¥æ“ä½œï¼› æä¾›åŠ å·¥çš„è¾“å…¥æ•°æ®ï¼šæ•°æ®æµä»æ•°æ®å­˜å‚¨æµå‡ºï¼Œè¡¨ç¤ºæ•°æ®çš„è¯»æ“ä½œã€‚ åŒå‘ç®­å¤´çš„æ•°æ®æµæŒ‡å‘æ•°æ®å­˜å‚¨ï¼Œè¡¨ç¤ºå¯¹æ•°æ®çš„ä¿®æ”¹ã€‚ DFDä¸­çš„æ•°æ®å­˜å‚¨åœ¨å…·ä½“å®ç°æ—¶å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å®ç°ï¼š\næ–‡ä»¶ç³»ç»Ÿå®ç°ï¼› æ•°æ®åº“ç³»ç»Ÿå®ç°ã€‚ æ•°æ®å­˜å‚¨çš„å­˜å‚¨ä»‹è´¨å¯ä»¥æ˜¯ï¼š\nç£ç›˜ã€ ç£å¸¦ã€ å…¶ä»–å­˜å‚¨ä»‹è´¨ã€‚ å¤–éƒ¨å®ä½“ï¼ˆExternal Agentï¼Œå¤–éƒ¨ä¸»ä½“ï¼‰ï¼šæŒ‡å­˜åœ¨äºè½¯ä»¶ç³»ç»Ÿä¹‹å¤–çš„äººå‘˜ã€ç»„ç»‡ã€ç‰©ä½“æˆ–å¤–éƒ¨ç³»ç»Ÿï¼Œå®ƒæŒ‡å‡ºç³»ç»Ÿæ‰€éœ€æ•°æ®çš„å‘æºåœ°ï¼ˆæºï¼‰å’Œç³»ç»Ÿæ‰€äº§ç”Ÿçš„æ•°æ®çš„å½’å®¿åœ°ï¼ˆå®¿ï¼‰ã€‚\nä¾‹å¦‚ï¼š\näººå‘˜ï¼šå­¦ç”Ÿã€è€å¸ˆã€å‘˜å·¥ã€ä¸»è§‚ã€åŒ»ç”Ÿã€å®¢æˆ·â€¦â€¦ ç»„ç»‡ï¼šä¾›åº”å•†ã€é‡‡è´­éƒ¨é—¨â€¦â€¦ ç‰©ä½“ï¼šä¼ æ„Ÿå™¨ã€æ§åˆ¶å™¨ã€å•è½¦ã€è½¦è¾†â€¦â€¦ å¤–éƒ¨ç³»ç»Ÿï¼šæ”¯ä»˜ç³»ç»Ÿã€è½¦è¾†äº¤æ˜“ç³»ç»Ÿã€åº“å­˜ç®¡ç†ç³»ç»Ÿã€é“é—¸æ§åˆ¶ç³»ç»Ÿâ€¦â€¦ åœ¨è®¸å¤šç³»ç»Ÿä¸­ï¼ŒæŸä¸ªæºå’ŒæŸä¸ªå®¿å¯ä»¥æ˜¯åŒä¸€ä¸ªäººå‘˜ã€ç»„ç»‡ã€ç‰©ä½“æˆ–å¤–éƒ¨ç³»ç»Ÿï¼Œæ­¤æ—¶ï¼Œåœ¨DFDä¸­å¯ä»¥ç”¨åŒä¸€ä¸ªç¬¦å·è¡¨ç¤ºï¼š\nå½“æ•°æ®æµä»è¯¥ç¬¦å·æµå‡ºæ—¶ï¼Œè¡¨ç¤ºå®ƒæ˜¯æºï¼› å½“æ•°æ®æµæµå‘è¯¥ç¬¦å·æ—¶ï¼Œè¡¨ç¤ºå®ƒæ˜¯å®¿ï¼› å½“ä¸¤è€…çš†æœ‰æ—¶ï¼Œè¡¨ç¤ºå®ƒæ—¢æ˜¯æºåˆæ˜¯å®¿ã€‚ å¤–éƒ¨å®ä½“è¡¨ç¤ºå­˜åœ¨äºç³»ç»Ÿä¹‹å¤–çš„å¯¹è±¡ï¼Œç”¨æ¥å¸®åŠ©ç”¨æˆ·ç†è§£ç³»ç»Ÿæ•°æ®çš„æ¥æºå’Œå»å‘ã€‚\næ•°æ®æµå›¾å¿…é¡»ç¡®ä¿ï¼š\næ•°æ®æµçš„èµ·ç‚¹æˆ–ç»ˆç‚¹å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åŠ å·¥ã€‚ åŠ å·¥è‡³å°‘æœ‰ä¸€ä¸ªè¾“å…¥æ•°æ®æµå’Œä¸€ä¸ªè¾“å‡ºæ•°æ®æµã€‚ åˆ†å±‚æ•°æ®æµå›¾ï¼š\né¡¶å±‚å›¾ï¼šæè¿°ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºã€‚\nå³æè¿°ç³»ç»Ÿä»å“ªäº›å¤–éƒ¨å®ä½“æ¥å—æ•°æ®æµï¼Œä»¥åŠç³»ç»Ÿå‘é€æ•°æ®æµåˆ°å“ªäº›å¤–éƒ¨å®ä½“ã€‚\né¡¶å±‚å›¾åªæœ‰ä¸€ä¸ªåŠ å·¥ï¼Œå³å¾…å¼€å‘çš„è½¯ä»¶ç³»ç»Ÿã€‚ é¡¶å±‚å›¾ä¸­çš„æ•°æ®æµå°±æ˜¯ç³»ç»Ÿçš„è¾“å…¥/è¾“å‡ºä¿¡æ¯ã€‚ é¡¶å±‚å›¾ä¸­é€šå¸¸æ²¡æœ‰æ•°æ®å­˜å‚¨ã€‚ 0å±‚å›¾ï¼šåˆ†è§£é¡¶å±‚å›¾çš„åŠ å·¥ã€‚\nå†åˆ†è§£ï¼šå°†DFDä¸­æŸäº›æ¯”è¾ƒå¤æ‚çš„åŠ å·¥å†æ¬¡åˆ†è§£æˆä¸€å¼ DFDå­å›¾ã€‚\nå®ä½“è”ç³»å›¾ï¼ˆE-R å›¾ï¼ŒERDï¼‰ E-Rå›¾æœ‰ä»¥ä¸‹å‡ ä¸ªæˆåˆ†ï¼ˆåŒ…å«æ‰©å……çš„E-Ræ¨¡å‹æˆåˆ†ï¼‰ï¼š\nå®ä½“ï¼šç”¨çŸ©å½¢è¡¨ç¤ºã€‚\nå¼±å®ä½“ï¼šä½¿ç”¨åŒçº¿çŸ©å½¢æ¡†è¡¨ç¤ºã€‚å°†éœ€è¦ä¾èµ–å…¶ä»–å®ä½“å­˜åœ¨çš„å®ä½“ã€‚\nå®ä½“é—´çš„æ‰€æœ‰ï¼ˆOwnershipï¼Œæ‹¥æœ‰ï¼‰å…³ç³»ä»£è¡¨ä¸€ä¸ªå®ä½“å¯¹å¦ä¸€äº›å®ä½“å…·æœ‰å¾ˆå¼ºçš„ä¾èµ–å…³ç³»ï¼Œå³ä¸€ä¸ªå®ä½“çš„å­˜åœ¨å¿…é¡»ä»¥å¦ä¸€ä¸ªå®ä½“ä¸ºå‰æã€‚\nä¾‹å¦‚èŒå·¥ä¸å®¶å±çš„è”ç³»ï¼Œå®¶å±æ€»æ˜¯å±äºæŸèŒå·¥çš„ï¼ˆåœ¨å…³ç³»æ¨¡å¼ä¸­éœ€è¦ä¾èµ–èŒå·¥è€Œå­˜åœ¨ï¼‰ï¼Œæ‰€ä»¥å®¶å±æ˜¯å¼±å®ä½“ã€‚\nç‰¹æ®ŠåŒ–ï¼šå°†ä¸€ä¸ªå®ä½“é›†æŒ‰ç…§æŸäº›ç‰¹æ€§åŒºåˆ†ä¸ºå‡ ä¸ªå­å®ä½“ã€‚è¿™ç§ä»æ™®éåˆ°ç‰¹æ®Šçš„è¿‡ç¨‹å³ä¸ºç‰¹æ®ŠåŒ–ã€‚\nå­å®ä½“çš„å›¾å½¢è¡¨ç¤ºå¦‚ä¸‹ï¼š\nå­å®ä½“ç”±ç§°ä¸ºå­ç±»ï¼Œå®ƒä¼šæœ‰ä¸€ä¸ªè¶…ç±»ï¼Œå¹¶ä¸”èƒ½ç»§æ‰¿è¶…ç±»çš„å±æ€§ï¼Œè¶…ç±»çš„å±æ€§æ˜¯å®ä½“é›†ä¸­æ‰€æœ‰å­å®ä½“çš„ç›¸åŒå±æ€§ã€‚\nè”ç³»ï¼šç”¨æ£±å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹åˆ†åˆ«ä¸æœ‰å…³å®ä½“è¿æ¥èµ·æ¥ï¼ŒåŒæ—¶åœ¨æ— å‘è¾¹æ ‡æ³¨è”ç³»çš„ç±»å‹ã€‚\nè”ç³»çš„ç±»å‹æœ‰ä¸¤ç§ï¼š\nä¸¤ä¸ªå®ä½“é—´çš„è”ç³»ï¼š\n$1:1$ï¼šä¸€å¯¹ä¸€è”ç³»ï¼› $1:n$ï¼šä¸€å¯¹å¤šè”ç³»ï¼› $m:n$ï¼šå¤šå¯¹å¤šè”ç³»ã€‚ ä¸¤ä¸ªä»¥ä¸Šå®ä½“é—´çš„è”ç³»ï¼š\nä¾‹å¦‚3ä¸ªå®ä½“é—´çš„è”ç³»æœ‰ï¼š\n$1:1:1$ $1:1:n$ $1â“œï¸n$ $râ“œï¸n$ å±æ€§ï¼šç”¨æ¤­åœ†å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹å°†å…¶ä¸ç›¸åº”çš„å®ä½“è¿æ¥èµ·æ¥\nE-Ræ¨¡å‹ä¸­çš„å±æ€§æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š\nç®€å•å±æ€§ï¼šæ˜¯åŸå­çš„ã€ä¸å¯å†åˆ†çš„ã€‚ å¤åˆå±æ€§ï¼šå¯ä»¥ç»†åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ã€‚ å•å€¼å±æ€§ï¼šä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ªå€¼ã€‚ å¤šå€¼å±æ€§ï¼šä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ç»„å€¼ã€‚ NULLå±æ€§ï¼šå®ä½“åœ¨æŸä¸ªå±æ€§ä¸Šæ²¡æœ‰å€¼æˆ–å±æ€§å€¼æœªçŸ¥æ—¶ï¼Œä½¿ç”¨NULLå€¼è¡¨ç¤ºã€‚ æ´¾ç”Ÿå±æ€§ï¼šæ´¾ç”Ÿå±æ€§å¯ä»¥ä»å…¶ä»–å±æ€§å¾—æ¥ï¼ˆé€šè¿‡è¿ç®—ç­‰æ–¹å¼æ±‚å‡ºï¼‰ã€‚ æ¦‚å¿µç»“æ„æ¨¡å‹ï¼ˆåˆå¹¶åˆ† E-R å›¾ï¼‰ å»ºç«‹æ¦‚å¿µç»“æ„æ¨¡å‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š\né€‰æ‹©å±€éƒ¨åº”ç”¨ï¼šé€‰æ‹©é€‚å½“å±‚æ¬¡çš„æ•°æ®æµå›¾ï¼Œè®©è¿™ä¸€å±‚çš„æ¯ä¸€éƒ¨åˆ†å¯¹åº”ä¸€ä¸ªå±€éƒ¨åº”ç”¨ï¼Œå®ç°æŸä¸€é¡¹åŠŸèƒ½ã€‚\né€ä¸€è®¾è®¡åˆ†E-Rå›¾ã€‚\nE-Rå›¾åˆå¹¶ï¼š\nåˆå¹¶æ—¶éœ€è¦è€ƒè™‘å„åˆ†E-Rå›¾ä¹‹é—´çš„å†²çªï¼š\nå±æ€§å†²çªï¼šåŒä¸€å±æ€§åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸Šçš„å±æ€§ç±»å‹ã€å–å€¼èŒƒå›´å’Œæ•°æ®å•ä½ç­‰å¯èƒ½ä¼šä¸ä¸€è‡´ã€‚ å‘½åå†²çªï¼šç›¸åŒæ„ä¹‰çš„å±æ€§åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„å‘½åã€‚ ç»“æ„å†²çªï¼šåŒä¸€å®ä½“åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„å±æ€§ï¼›åŒä¸€å¯¹è±¡åœ¨æŸä¸€åˆ†E-Rå›¾ä¸­è¢«æŠ½è±¡ä¸ºå®ä½“ï¼Œè€Œåœ¨å¦ä¸€åˆ†E-Rå›¾ä¸­åˆå¯èƒ½è¢«æŠ½è±¡ä¸ºå±æ€§ï¼Œåä¹‹äº¦ç„¶ã€‚ è½¬æ¢å…³ç³»æ¨¡å¼ å®ä½“å‘å…³ç³»æ¨¡å¼çš„è½¬æ¢ï¼š\nå°†E-Rå›¾ä¸­çš„å®ä½“é€ä¸€è½¬æ¢æˆä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼š\nå®ä½“åï¼šå¯¹åº”å…³ç³»æ¨¡å¼çš„åç§°ï¼› å®ä½“çš„å±æ€§ï¼šè½¬æ¢æˆå…³ç³»æ¨¡å¼çš„å±æ€§ï¼› å®ä½“æ ‡è¯†ç¬¦ï¼šå…³ç³»çš„ç ï¼ˆé”®ï¼‰ã€‚ è¶…ç±»å’Œå­ç±»çš„è½¬æ¢ï¼šè¶…ç±»å’Œå­ç±»å®šä¹‰ä¸ºä¸¤ä¸ªå…³ç³»æ¨¡å¼ï¼Œå°†è¶…ç±»çš„ä¸»é”®åŠ åˆ°å­ç±»ä¸­ã€‚\nè”ç³»å‘å…³ç³»æ¨¡å¼çš„è½¬æ¢ï¼š\nä¸€å¯¹ä¸€è”ç³»çš„è½¬æ¢ï¼š\næœ‰ä¸¤ç§æ–¹å¼ï¼š\næ–¹å¼1ï¼šå°†è”ç³»è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§åŒ…æ‹¬è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç å–è‡ªä»»ä¸€æ–¹å®ä½“çš„ç ã€‚\né‚£ä¹ˆä¸€ä¸ªä¸€å¯¹ä¸€è”ç³»éœ€è¦è½¬æ¢æˆä¸‰ä¸ªå…³ç³»æ¨¡å¼ã€‚\næ–¹å¼2ï¼ˆä¸€èˆ¬ä½¿ç”¨è¯¥æ–¹å¼ï¼‰ï¼šå°†è”ç³»å½’å¹¶åˆ°å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ä»»ä¸€æ–¹ï¼Œç»™å¾…å½’å¹¶çš„ä¸€æ–¹å®ä½“å±æ€§é›†ä¸­å¢åŠ å¦ä¸€æ–¹å®ä½“çš„ç å’Œè¯¥è”ç³»çš„å±æ€§å³å¯ï¼Œå½’å¹¶åçš„å®ä½“ç ä¿æŒä¸å˜ã€‚\nä¸€ä¸ªä¸€å¯¹ä¸€è”ç³»ä»…éœ€è½¬æ¢æˆä¸¤ä¸ªå…³ç³»æ¨¡å¼ã€‚\nä¾‹å¦‚ï¼š\næ–¹å¼1ï¼š\nå‚é•¿ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nå·¥å‚ï¼ˆå‚å·ï¼Œå‚åï¼Œåœ°ç‚¹ï¼‰\nç®¡ç†ï¼ˆï¼ˆå‚é•¿ï¼‰å§“åï¼Œå‚å·ï¼Œä»»æœŸï¼‰\nç²—ä½“ä»£è¡¨è¯¥å…³ç³»æ¨¡å¼çš„ç ã€‚ç®¡ç†çš„ç å¯ä»¥ä¸ºå§“åæˆ–å‚å·ã€‚\næ–¹å¼2ï¼š\nå‚é•¿ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nå·¥å‚ï¼ˆå‚å·ï¼Œå‚åï¼Œåœ°ç‚¹ï¼Œï¼ˆå‚é•¿ï¼‰å§“åï¼Œä»»æœŸï¼‰\nä¸€å¯¹å¤šè”ç³»çš„è½¬æ¢ï¼š\nä¸¤ç§æ–¹å¼ï¼š\næ–¹å¼1ï¼šå°†è”ç³»è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§å–è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç æ˜¯å¤šæ–¹å®ä½“çš„ç ï¼› æ–¹å¼2ï¼ˆä¸€èˆ¬ä½¿ç”¨è¯¥æ–¹å¼ï¼‰ï¼šå°†è”ç³»å½’å¹¶åˆ°å…³è”çš„ä¸¤ä¸ªå®ä½“çš„å¤šæ–¹ï¼Œç»™å¾…å½’å¹¶çš„å¤šæ–¹å®ä½“å±æ€§é›†ä¸­å¢åŠ ä¸€æ–¹å®ä½“çš„ç å’Œè¯¥è”ç³»çš„å±æ€§å³å¯ï¼Œå½’å¹¶åçš„å¤šæ–¹å®ä½“ç ä¿æŒä¸å˜ã€‚ ä¾‹å¦‚ï¼š\næ–¹å¼1:\nä»“åº“ï¼ˆä»“åº“å·ï¼Œåœ°ç‚¹ï¼Œé¢ç§¯ï¼‰\nå•†å“ï¼ˆè´§å·ï¼Œå•†å“åï¼Œä»·æ ¼ï¼‰\nä»“å‚¨ï¼ˆè´§å·ï¼Œä»“åº“å·ï¼Œæ•°é‡ï¼‰\næ–¹å¼2ï¼š\nä»“åº“ï¼ˆä»“åº“å·ï¼Œåœ°ç‚¹ï¼Œé¢ç§¯ï¼‰\nå•†å“ï¼ˆè´§å·ï¼Œå•†å“åï¼Œä»·æ ¼ï¼Œä»“åº“å·ï¼Œæ•°é‡ï¼‰\nå¤šå¯¹å¤šè”ç³»çš„è½¬æ¢ï¼š\nå¤šå¯¹å¤šè”ç³»åªèƒ½è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§å–è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå¤šæ–¹å®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç æ˜¯å¤šæ–¹å®ä½“çš„ç æ„æˆçš„å±æ€§ç»„ã€‚\nä¾‹å¦‚ï¼š\nè½¬æ¢æˆï¼š\nå­¦ç”Ÿï¼ˆå­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nè¯¾ç¨‹ï¼ˆè¯¾ç¨‹å·ï¼Œè¯¾ç¨‹åï¼Œå­¦æ—¶ï¼‰\né€‰ä¿®ï¼ˆï¼ˆå­¦å·ï¼Œè¯¾ç¨‹å·ï¼‰ï¼Œæˆç»©ï¼‰\nUML UMLï¼ˆUnified Modeling Languageï¼Œç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼‰æ˜¯é¢å‘å¯¹è±¡è½¯ä»¶çš„æ ‡å‡†åŒ–å»ºæ¨¡è¯­è¨€ã€‚\nUMLä¸­åŒ…å«3ç§åŸºæœ¬æ„é€ å—ï¼š\näº‹ç‰©ï¼› å…³ç³»ï¼› å›¾ã€‚ äº‹ç‰© UMLä¸­æœ‰4ç§äº‹ç‰©ï¼š\nç»“æ„äº‹ç‰©ï¼ˆStructural Thingï¼‰ï¼šæ¨¡å‹çš„é™æ€éƒ¨åˆ†ã€‚\nè¡Œä¸ºäº‹ç‰©ï¼ˆBehavior Thingï¼‰ï¼šæ¨¡å‹çš„åŠ¨æ€éƒ¨åˆ†ã€‚\nåˆ†ç»„äº‹ç‰©ï¼ˆGrouping Thingï¼‰ï¼šæ¨¡å‹çš„ç»„ç»‡éƒ¨åˆ†ã€‚\næ³¨é‡Šäº‹ç‰©ï¼ˆAnnotational Thingï¼‰ï¼šæ¨¡å‹çš„è§£é‡Šéƒ¨åˆ†ã€‚\nå…³ç³» UMLä¸­æœ‰4ç§å…³ç³»ï¼Œè¿™4ç§å…³ç³»æ˜¯UMLæ¨¡å‹ä¸­å¯ä»¥åŒ…å«çš„åŸºæœ¬å…³ç³»äº‹ç‰©ï¼š\nä¾èµ–ï¼ˆDependencyï¼‰ï¼šæ˜¯ä¸¤ä¸ªäº‹ç‰©é—´çš„è¯­ä¹‰å…³ç³»ï¼Œå…¶ä¸­ä¸€ä¸ªäº‹ç‰©ï¼ˆç‹¬ç«‹äº‹ç‰©ï¼‰å‘ç”Ÿå˜åŒ–ä¼šå½±å“å¦ä¸€ä¸ªäº‹ç‰©ï¼ˆä¾èµ–äº‹ç‰©ï¼‰çš„è¯­ä¹‰ã€‚\nåœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªä¾èµ–ç”»æˆä¸€æ¡å¯èƒ½æœ‰æ–¹å‘çš„è™šçº¿ï¼Œå¦‚å›¾ï¼š\nä¾èµ–æœ‰å¶ç„¶æ€§å’Œä¸´æ—¶æ€§ï¼Œå³éœ€è¦çš„æ—¶å€™ä¾èµ–ï¼Œä¸éœ€è¦çš„æ—¶å€™ä¸ä¾èµ–ã€‚\nå…³è”ï¼ˆAssociationï¼‰ï¼šæ˜¯ä¸€ç§ç»“æ„å…³ç³»ï¼Œå®ƒæè¿°äº†ä¸€ç»„é“¾ï¼Œé“¾æ˜¯å¯¹è±¡ä¹‹é—´çš„è¿æ¥ã€‚\nå…³è”ä½¿ç”¨å®çº¿è¡¨ç¤ºï¼Œåœ¨å…³è”ä¸Šå¯ä»¥æ ‡æ³¨é‡å¤åº¦ï¼ˆMultiplicityï¼‰å’Œè§’è‰²ï¼ˆRoleï¼‰ã€‚\næè¿°äº†æ•´ä½“å’Œéƒ¨åˆ†é—´çš„ç»“æ„å…³ç³»çš„ç‰¹æ®Šç±»å‹çš„å…³è”ï¼š\nèšé›†ï¼ˆAggregationï¼Œèšåˆï¼‰ï¼šéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´ï¼Œæ•´ä½“æ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä»ç„¶å­˜åœ¨ï¼Œéƒ¨åˆ†å¯ä»¥è„±ç¦»æ•´ä½“å­˜åœ¨ã€‚\nä½¿ç”¨ä¸€ç«¯å¸¦ç©ºå¿ƒè±å½¢çš„å®çº¿è¡¨ç¤ºã€‚\nç»„åˆï¼šéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´ï¼Œæ•´ä½“æ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä¹Ÿæ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä¸å¯ä»¥è„±ç¦»æ•´ä½“è€Œå­˜åœ¨ã€‚\nä½¿ç”¨ä¸€ç«¯å¸¦å®å¿ƒè±å½¢çš„å®çº¿è¡¨ç¤ºã€‚\nèšåˆå’Œç»„åˆä¸­ï¼Œå¸¦è±å½¢çš„ä¸€ç«¯æŒ‡å‘æ•´ä½“ï¼Œå¦ä¸€ç«¯æŒ‡å‘éƒ¨åˆ†ã€‚\nå…³è”çš„å…³ç³»å¼ºåº¦æ¯”ä¾èµ–çš„å…³ç³»å¼ºåº¦è¦å¼ºä¸€ç‚¹ã€‚\nå•å‘å…³è”ï¼šç”¨å¸¦ç®­å¤´å®çº¿è¡¨ç¤ºã€‚\nå¤šé‡åº¦ï¼š\nè¿›è¡Œé¢å‘å¯¹è±¡è®¾è®¡æ—¶ï¼Œç±»å›¾ä¸­å¯ä»¥å±•ç°ç±»ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œè¿˜å¯ä»¥åœ¨ç±»å›¾ä¸­å›¾ç¤ºå…³è”ä¸­çš„æ•°é‡å…³ç³»ï¼Œå³å¤šé‡åº¦ã€‚è¡¨ç¤ºæ•°é‡å…³ç³»æ—¶ï¼Œç”¨å¤šé‡åº¦è¯´æ˜æ•°é‡æˆ–æ•°é‡èŒƒå›´ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªå®ä¾‹ï¼ˆå¯¹è±¡ï¼‰èƒ½è¢«è¿æ¥èµ·æ¥ï¼Œå³ä¸€ä¸ªç±»çš„å®ä¾‹èƒ½å¤Ÿä¸å¦ä¸€ä¸ªç±»çš„å¤šå°‘ä¸ªå®ä¾‹ç›¸å…³è”ã€‚\nå…³è”ç±»ï¼š\nå½“ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”çš„é‡å¤åº¦æ˜¯å¤šå¯¹å¤šæ—¶ï¼Œéœ€è¦å€ŸåŠ©é¢å¤–çš„å±æ€§æ¥å¸®åŠ©è¡¨è¾¾å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œè€Œè¿™ä¸ªå±æ€§å°±éœ€è¦å®šä¹‰åœ¨ä¸€ä¸ªæ–°çš„å…³è”ç±»ä¸­ã€‚å…³è”ç±»è®°å½•äº†è¿™ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”ä¿¡æ¯ã€‚å…³è”ä¸­è¿™äº›é¢å¤–çš„å±æ€§ç”¨ä¸€æ¡å‚ç›´äºå…³è”çš„å®çº¿è¡¨ç¤ºï¼Œå®çº¿çš„ä¸€æ®µè¿æ¥æ¥åˆ°å…³è”çš„å®çº¿ä¸Šï¼Œå¦ä¸€ç«¯æŒ‡å‘è¿™äº›å±æ€§ã€‚\næ³›åŒ–ï¼ˆGeneralizationï¼‰ï¼šæ˜¯ä¸€ç§ç‰¹æ®Š/ä¸€èˆ¬å…³ç³»ï¼Œç‰¹æ®Šå…ƒç´ ï¼ˆå­å…ƒç´ ï¼‰çš„å¯¹è±¡å¯æ›¿ä»£ä¸€èˆ¬å…ƒç´ ï¼ˆçˆ¶å…ƒç´ ï¼‰çš„å¯¹è±¡ã€‚ç”¨è¿™ç§æ–¹æ³•ï¼Œå­å…ƒç´ å…±äº«äº†çˆ¶å…ƒç´ çš„ç»“æ„å’Œè¡Œä¸ºã€‚\nåœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªæ³›åŒ–å…³ç³»ç”»æˆä¸€æ¡å¸¦æœ‰ç©ºå¿ƒç®­å¤´çš„å®çº¿ï¼Œå®ƒæŒ‡å‘çˆ¶å…ƒç´ ï¼š\nå®ç°ï¼ˆRealizationï¼‰ï¼šæ˜¯ç±»å…ƒä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œå…¶ä¸­ä¸€ä¸ªç±»å…ƒæŒ‡å®šäº†ç”±å¦ä¸€ä¸ªç±»å…ƒä¿è¯æ‰§è¡Œçš„å¥‘çº¦ã€‚\nåœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªå®ç°å…³ç³»ç”»æˆä¸€æ¡å¸¦æœ‰ç©ºå¿ƒç®­å¤´çš„è™šçº¿ï¼Œç®­å¤´æŒ‡å‘æ¨¡æ¿ç±»ï¼Œå¦ä¸€ç«¯äºå®ç°ç±»è¿æ¥ã€‚\nUMLå›¾ ç±»å›¾ ç±»å›¾ï¼ˆClass Diagramï¼‰å±•ç°äº†ä¸€ç»„å¯¹è±¡ã€æ¥å£ã€åä½œå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿçš„å»ºæ¨¡ä¸­æœ€å¸¸è§çš„å›¾å°±æ˜¯ç±»å›¾ã€‚ç±»å›¾ç»™å‡ºç³»ç»Ÿçš„é™æ€è®¾è®¡è§†å›¾ã€‚\nç±»å›¾ä¸­é€šå¸¸åŒ…æ‹¬ä¸‹è¿°å†…å®¹ï¼š\nç±»ï¼š\nç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§å‰é¢æœ‰ä»¥ä¸‹ä¸‰ç§ä¿®é¥°ç¬¦ï¼š\nä¿®é¥°ç¬¦ å«ä¹‰ + public å…¬æœ‰çš„ - private ç§æœ‰çš„ # protected å—ä¿æŠ¤çš„ ~ package åŒ…çš„ ä¾‹å¦‚ï¼š\nStudent - id\u0026nbsp;\u0026nbsp;\u0026nbsp;:\u0026nbsp;int + name\u0026nbsp;:\u0026nbsp;String + age\u0026nbsp;\u0026nbsp;:\u0026nbsp;int + getId()\u0026nbsp;:\u0026nbsp;int æ¥å£ï¼š\nåä½œï¼š\nå…³ç³»ï¼š\nå¯¹è±¡å›¾ å¯¹è±¡å›¾ï¼ˆObject Diagramï¼‰å±•ç°äº†æŸä¸€æ—¶åˆ»ä¸€ç»„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°äº†åœ¨ç±»å›¾ä¸­æ‰€å»ºç«‹çš„äº‹ç‰©çš„å®ä¾‹çš„é™æ€å¿«ç…§ã€‚\nå¯¹è±¡å›¾ä¸€èˆ¬åŒ…æ‹¬å¯¹è±¡å’Œé“¾ï¼Œå¦‚å›¾ï¼š\nå¯¹è±¡ï¼šå¯¹è±¡å›¾ä¸­çš„å¯¹è±¡åŒ…å«äº†ç±»åã€å¯¹è±¡åå’Œå±æ€§ã€‚\nå…¶å›¾å½¢åŒ–å¦‚ä¸‹ï¼š\nå¯¹è±¡å : ç±»å å±æ€§1 = å€¼1 å±æ€§2 = å€¼2 ...... åŒ¿åå¯¹è±¡ï¼ˆæ²¡æœ‰å¯¹è±¡åï¼‰ï¼š\n: ç±»å å±æ€§1 = å€¼1 å±æ€§2 = å€¼2 ...... å’Œç±»å›¾ä¸€æ ·ï¼Œå¯¹è±¡å›¾ç»™å‡ºç³»ç»Ÿçš„é™æ€è®¾è®¡è§†å›¾æˆ–é™æ€è¿›ç¨‹è§†å›¾ï¼Œä½†å®ƒä»¬æ˜¯ä»çœŸå®çš„æˆ–åŸå‹å®ä¾‹çš„è§’åº¦å»ºç«‹çš„ã€‚\nç”¨ä¾‹å›¾ ç”¨ä¾‹å›¾ï¼ˆUse Case Diagramï¼‰é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š\nç”¨ä¾‹ï¼šæ˜¯ä»ç”¨æˆ·è§’åº¦æè¿°ç³»ç»Ÿçš„è¡Œä¸ºï¼Œå®ƒå°†ç³»ç»Ÿçš„ä¸€ä¸ªåŠŸèƒ½æè¿°æˆä¸€ç³»åˆ—çš„äº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶æœ€ç»ˆå¯¹æ“ä½œè€…äº§ç”Ÿæœ‰ä»·å€¼çš„è§‚æµ‹ç»“æœã€‚\nç”¨ä¾‹æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒä»£è¡¨ä¸€ç±»åŠŸèƒ½è€Œä¸æ˜¯ä½¿ç”¨è¯¥åŠŸèƒ½çš„æŸä¸€å…·ä½“å®ä¾‹ã€‚\nå‚ä¸è€…ï¼šæ˜¯ä¸ç³»ç»Ÿäº¤äº’çš„å¤–éƒ¨å®ä½“ã€‚\nå‚ä¸è€…ç”¨ä¸€ä¸ªäººå½¢å›¾æ ‡è¡¨ç¤ºã€‚\nå…³ç³»ï¼š\nç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ï¼š\nåŒ…å«å…³ç³»ï¼šç”¨å¸¦\u0026lt;\u0026lt;include\u0026gt;\u0026gt;çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œå¦‚ï¼š\næ‰©å±•å…³ç³»ï¼šç”¨å¸¦\u0026lt;\u0026lt;extend\u0026gt;\u0026gt;çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œå¦‚ï¼š\næ‰©å±•ç”¨ä¾‹æ˜¯æŒ‡ï¼Œä¸€ä¸ªç”¨ä¾‹ä¸­ï¼Œç¬¦åˆæŸäº›ç‰¹å®šæƒ…å†µæ‰ä¼šè§¦å‘çš„å¦ä¸€ä¸ªç”¨ä¾‹ã€‚\nå³ä¸€ä¸ªç”¨ä¾‹æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€äº›ç‰¹æ®Šæƒ…å†µæˆ–å¯é€‰æƒ…å†µï¼Œè¿™ç§æƒ…å†µå°±æ˜¯è¿™ä¸ªç”¨ä¾‹çš„æ‰©å±•ç”¨ä¾‹ã€‚\nå‚ä¸è€…å’Œç”¨ä¾‹ä¹‹é—´çš„å…³è”å…³ç³»ã€‚\nç”¨ä¾‹ä¸ç”¨ä¾‹ä»¥åŠå‚ä¸è€…ä¸å‚ä¸è€…ä¹‹é—´çš„æ³›åŒ–å…³ç³»ã€‚\nåºåˆ—å›¾ åºåˆ—å›¾ï¼ˆSequence Diagramï¼Œé¡ºåºå›¾ï¼‰æè¿°äº†ä»¥æ—¶é—´é¡ºåºç»„ç»‡çš„å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ´»åŠ¨ï¼Œå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåºã€‚\nåºåˆ—å›¾çš„ç»„æˆï¼š\næŠŠå‚åŠ äº¤äº’çš„å¯¹è±¡æ”¾åœ¨å›¾çš„ä¸Šæ–¹ï¼Œæ²¿æ°´å¹³æ–¹å‘æ’åˆ—ã€‚\né€šå¸¸æŠŠå‘èµ·äº¤äº’çš„å¯¹è±¡æ”¾åœ¨å·¦è¾¹ï¼Œä¸‹çº§å¯¹è±¡ä¾æ¬¡æ”¾åœ¨å³è¾¹ã€‚\næŠŠè¿™äº›å¯¹è±¡å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯ï¼Œæ²¿å‚ç›´æ–¹å‘ï¼ŒæŒ‰æ—¶é—´é¡ºåºä»ä¸Šåˆ°ä¸‹æ”¾ç½®ã€‚\nåºåˆ—å›¾çš„ç»„æˆéƒ¨åˆ†ï¼š\nå¯¹è±¡ï¼šç”¨æ–¹æ¡†æ¡†èµ·æ¥çš„å¯¹è±¡å:ç±»åï¼Œæ²¡æœ‰å±æ€§å’Œæ–¹æ³•ç­‰æˆåˆ†ã€‚\nå¯¹è±¡ç”Ÿå‘½çº¿ï¼šè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å­˜åœ¨çš„æ—¶é—´æ®µã€‚\nå¦‚ä¸Šå›¾ä¸­å¯¹è±¡ä¸‹æ–¹å‚ç›´çš„è™šçº¿ã€‚\nå¯¹è±¡å¯ä»¥åœ¨äº¤äº’è¿‡ç¨‹ä¸­åˆ›å»ºï¼šç”Ÿå‘½çº¿ä»æ¥æ”¶åˆ°æ„é€ å‹createæ¶ˆæ¯å¼€å§‹ï¼› ä¹Ÿå¯ä»¥åœ¨äº¤äº’è¿‡ç¨‹ä¸­æ’¤é”€ï¼šç”Ÿå‘½çº¿ä»æ¥æ”¶åˆ°æ„é€ å‹destroyæ¶ˆæ¯ç»“æŸï¼Œå¹¶ä¸”ç»™å‡ºä¸€ä¸ªå¤§$\\times$çš„æ ‡è®°è¡¨æ˜ç”Ÿå‘½çº¿çš„ç»“æŸã€‚ æ§åˆ¶ç„¦ç‚¹ï¼šæ§åˆ¶ç„¦ç‚¹è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæ‰€ç»å†çš„æ—¶é—´æ®µã€‚\nå¦‚ä¸Šå›¾ä¸­å¯¹è±¡ä¸‹æ–¹çš„ç©ºè¡¨çŸ©å½¢æ¡æ¡†ã€‚\næ¶ˆæ¯ï¼š\næ™®é€šçš„æ¶ˆæ¯ç”¨å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚æ‰€æœ‰æ¶ˆæ¯çš„ç®­å¤´éƒ½æ˜¯æŒ‡å‘æ¥æ”¶å¯¹è±¡ã€‚\nè¿”å›æ¶ˆæ¯ï¼šç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºã€‚ åŒæ­¥æ¶ˆæ¯ï¼ˆè°ƒç”¨æ¶ˆæ¯ï¼‰ï¼šæŒ‡æ¶ˆæ¯å‘é€ç»™æ¥æ”¶å¯¹è±¡åï¼Œéœ€è¦ç­‰å¾…æ¥æ”¶å¯¹è±¡è¿”å›åæ‰å¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ å¼‚æ­¥æ¶ˆæ¯ï¼šæŒ‡æ¶ˆæ¯å‘é€ç»™æ¥æ”¶å¯¹è±¡åï¼Œæ— éœ€ç­‰å¾…æ¥æ”¶å¯¹è±¡è¿”å›å³å¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ åºåˆ—å›¾æœ‰ä¸¤ä¸ªä¸åŒäºé€šä¿¡å›¾çš„ç‰¹æ€§ï¼š\nåºåˆ—å›¾æœ‰å¯¹è±¡ç”Ÿå‘½çº¿ï¼› åºåˆ—å›¾æœ‰æ§åˆ¶ç„¦ç‚¹ã€‚ é€šä¿¡å›¾ é€šä¿¡å›¾ï¼ˆCommunication Diagramï¼Œåä½œå›¾ï¼‰å¼ºè°ƒæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡ã€‚é€šä¿¡å›¾å¼ºè°ƒå‚åŠ äº¤äº’çš„å¯¹è±¡çš„ç»„ç»‡ã€‚\né€šä¿¡å›¾çš„ç»„æˆï¼š\nå°†å‚åŠ äº¤äº’çš„å¯¹è±¡ä½œä¸ºå›¾çš„é¡¶ç‚¹ï¼› æŠŠè¿æ¥è¿™äº›å¯¹è±¡çš„é“¾è¡¨ç¤ºä¸ºå›¾çš„å¼§ï¼› ç”¨å¯¹è±¡å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯æ¥ä¿®é¥°è¿™äº›é“¾ã€‚ é€šä¿¡å›¾æœ‰ä»¥ä¸‹æˆåˆ†ï¼š\nå¯¹è±¡ï¼šä¸åºåˆ—å›¾ä¸€æ ·ï¼Œæ˜¯ç”¨ä¸€ä¸ªæ–¹æ¡†æ¡†èµ·æ¥çš„å¯¹è±¡å:ç±»åã€‚\nè·¯å¾„ï¼ˆé“¾æ¥ï¼‰ï¼šç”¨å®çº¿è¡¨ç¤ºï¼Œå¯ä»¥åœ¨é“¾çš„æœ«ç«¯é™„ä¸Šä¸€ä¸ªè·¯å¾„æ„é€ å‹ã€‚\né€šå¸¸ä»…éœ€æ˜¾å¼åœ°è¡¨ç¤ºä»¥ä¸‹å‡ ç§é“¾çš„è·¯å¾„ï¼š\næ„é€ å‹ å«ä¹‰ \u0026lt;\u0026lt;local\u0026gt;\u0026gt; å±€éƒ¨ \u0026lt;\u0026lt;parameter\u0026gt;\u0026gt; å‚æ•° \u0026lt;\u0026lt;global\u0026gt;\u0026gt; å…¨å±€ \u0026lt;\u0026lt;self\u0026gt;\u0026gt; è‡ªèº« ä¸å¿…è¡¨ç¤ºassociationï¼ˆå…³è”ï¼‰ã€‚\nåºå·ï¼šç”¨æ¥è¡¨ç¤ºæ¶ˆæ¯çš„æ—¶é—´é¡ºåºã€‚æ˜¯æ¶ˆæ¯å‰çš„ä¸€ä¸ªæ•°å­—å‰ç¼€ï¼Œå¯ä½¿ç”¨å¸¦å°æ•°ç‚¹çš„å·ç è¡¨ç¤ºåµŒå¥—æ¶ˆæ¯ï¼ŒåµŒå¥—å¯ä¸ºä»»æ„æ·±åº¦ã€‚\nå¦‚2è¡¨ç¤ºç¬¬2ä¸ªæ¶ˆæ¯ï¼Œ2.1è¡¨ç¤ºåµŒå¥—åœ¨æ¶ˆæ¯2ä¸­çš„ç¬¬1ä¸ªæ¶ˆæ¯ã€‚\næ¶ˆæ¯ï¼šæ²¿åŒä¸€ä¸ªé“¾å¯ä»¥æ˜¾ç¤ºè®¸å¤šæ¶ˆæ¯ï¼ˆå¯èƒ½å‘è‡ªä¸åŒæ–¹å‘ï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰å”¯ä¸€çš„åºå·ã€‚\né€šä¿¡å›¾æœ‰ä¸¤ä¸ªä¸åŒäºåºåˆ—å›¾çš„ç‰¹æ€§ï¼š\né€šä¿¡å›¾æœ‰è·¯å¾„ï¼› é€šä¿¡å›¾æœ‰åºå·ã€‚ çŠ¶æ€å›¾ çŠ¶æ€å›¾ï¼ˆState Diagramï¼ŒçŠ¶æ€è½¬æ¢å›¾ï¼‰å…³æ³¨ç³»ç»Ÿçš„åŠ¨æ€è§†å›¾ï¼Œå¼ºè°ƒå¯¹è±¡è¡Œä¸ºçš„äº‹ä»¶é¡ºåºã€‚\nçŠ¶æ€å›¾ç”±ä»¥ä¸‹ç»„æˆï¼š\nçŠ¶æ€ï¼šæŒ‡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸­æŸä¸ªæ¡ä»¶æˆ–è€…çŠ¶æ€ï¼Œæ˜¯ä»»ä½•å¯ä»¥è¢«è§‚å¯Ÿåˆ°çš„ç³»ç»Ÿè¡Œä¸ºæ¨¡å¼ï¼Œä¸€ä¸ªçŠ¶æ€ä»£è¡¨ç³»ç»Ÿçš„ä¸€ç§è¡Œä¸ºæ¨¡å¼ã€‚\nçŠ¶æ€è§„å®šäº†ç³»ç»Ÿå†…å¯¹äº‹ä»¶çš„å“åº”æ–¹å¼ã€‚\nç³»ç»Ÿå¯¹äº‹ä»¶çš„å“åº”ï¼š\nå¯ä»¥æ˜¯åšä¸€ä¸ªï¼ˆæˆ–ä¸€ç³»åˆ—ï¼‰åŠ¨ä½œï¼› å¯ä»¥æ˜¯ä»…ä»…æ”¹å˜ç³»ç»Ÿæœ¬èº«çš„çŠ¶æ€ï¼› å¯ä»¥æ˜¯å³æ”¹å˜çŠ¶æ€ï¼ŒåˆåšåŠ¨ä½œã€‚ çŠ¶æ€è½¬æ¢å›¾ä¸­å®šä¹‰çš„çŠ¶æ€ä¸»è¦æœ‰ï¼š\nåˆæ€ï¼ˆåˆå§‹çŠ¶æ€ï¼‰ï¼šç”¨ä¸€ä¸ªå®å¿ƒåœ†ç‚¹è¡¨ç¤ºã€‚ä¸€å¼ çŠ¶æ€å›¾åªèƒ½æœ‰ä¸€ä¸ªåˆæ€ã€‚ ç»ˆæ€ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰ï¼šç”¨ä¸€ä¸ªå®å¿ƒåœ†ç‚¹å¤–åŠ ä¸€ä¸ªåœ†åœˆè¡¨ç¤ºã€‚ä¸€å¼ çŠ¶æ€å›¾å¯ä»¥æ²¡æœ‰ç»ˆæ€ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªã€‚ ä¸­é—´çŠ¶æ€ã€‚ çŠ¶æ€å›¾ä¸­çš„çŠ¶æ€ç”¨ä¸€ä¸ªåœ†è§’çŸ©å½¢è¡¨ç¤ºï¼Œå¯ä»¥ç”¨ä¸¤æ¡æ°´å¹³æ¨ªçº¿å°†å…¶åˆ†ä¸ºä¸Šä¸­ä¸‹3ä¸ªéƒ¨åˆ†ï¼š\nä¸Šé¢éƒ¨åˆ†ï¼ˆå¿…é¡»ï¼‰ï¼šçŠ¶æ€çš„åç§°ï¼› ä¸­é—´éƒ¨åˆ†ï¼ˆå¯é€‰ï¼‰ï¼šçŠ¶æ€å˜é‡çš„åç§°å’Œå€¼ï¼› ä¸‹é¢éƒ¨åˆ†ï¼ˆå¯é€‰ï¼‰ï¼šæ´»åŠ¨è¡¨ã€‚ çŠ¶æ€è¿˜å¯åˆ†ä¸ºï¼š\nç®€å•çŠ¶æ€ã€‚\nç»„åˆçŠ¶æ€ï¼šå«æœ‰å­çŠ¶æ€çš„çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¹Ÿç§°ä¸ºå…¶å­çŠ¶æ€çš„è¶…çŠ¶æ€ã€‚\nå­çŠ¶æ€ï¼šåµŒå¥—åœ¨å¦å¤–ä¸€ä¸ªçŠ¶æ€ä¸­çš„çŠ¶æ€ã€‚\nè½¬æ¢ï¼ˆè¿ç§»ï¼‰ï¼šæ˜¯ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„ä¸€ç§å…³ç³»ï¼Œè¡¨ç¤ºå¯¹è±¡å°†åœ¨æºçŠ¶æ€ä¸­æ‰§è¡Œä¸€å®šçš„åŠ¨ä½œï¼Œå¹¶åœ¨æŸä¸ªç‰¹å®šäº‹ä»¶å‘ç”Ÿï¼Œè€Œä¸”æŸä¸ªç‰¹å®šçš„è­¦ç•Œï¼ˆç›‘æŠ¤ï¼‰æ¡ä»¶æ»¡è¶³æ—¶è¿›å…¥ç›®æ ‡çŠ¶æ€ã€‚\nçŠ¶æ€è½¬æ¢ç”¨ä¸€æ¡å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚\näº‹ä»¶ï¼šæ˜¯åœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»å‘ç”Ÿçš„äº‹æƒ…ï¼Œå®ƒæ˜¯å¯¹å¼•èµ·ç³»ç»ŸåšåŠ¨ä½œæˆ–ï¼ˆå’Œï¼‰ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸ªçŠ¶æ€çš„å¤–ç•Œäº‹ä»¶çš„æŠ½è±¡ã€‚\näº‹ä»¶è§¦å‘çŠ¶æ€è½¬æ¢ï¼šçŠ¶æ€å˜è¿é€šå¸¸æ˜¯ç”±äº‹ä»¶è§¦å‘çš„ã€‚çŠ¶æ€ä¹‹é—´å¸¦ç®­å¤´å®çº¿ä¸Šçš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒçŠ¶æ€è½¬æ¢å¼€å§‹ï¼ˆè¿˜å¯ç§°ä¹‹ä¸ºçŠ¶æ€â€œç‚¹ç«â€æˆ–çŠ¶æ€è¢«â€œè§¦å‘â€ï¼‰ã€‚\nè¿™ç§æƒ…å†µä¸‹åº”åœ¨è¡¨è¾¾çŠ¶æ€è½¬æ¢çš„ç®­å¤´çº¿ä¸Šæ ‡å‡ºè§¦å‘è½¬æ¢çš„äº‹ä»¶è¡¨è¾¾å¼ï¼š\näº‹ä»¶è¯´æ˜ [å®ˆå«æ¡ä»¶] / åŠ¨ä½œè¡¨è¾¾å¼ äº‹ä»¶è¯´æ˜çš„è¯­æ³•ä¸ºï¼š\näº‹ä»¶å (å‚æ•°è¡¨) å®ˆå«æ¡ä»¶ï¼ˆç›‘æŠ¤æ¡ä»¶ï¼‰ï¼šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ã€‚\nå½“ä¸”ä»…å½“äº‹ä»¶å‘ç”Ÿä¸”å®ˆå«æ¡ä»¶ä¸ºçœŸæ—¶ï¼ŒçŠ¶æ€è½¬æ¢æ‰å‘ç”Ÿï¼› åªæœ‰å®ˆå«æ¡ä»¶æ²¡æœ‰äº‹ä»¶è¯´æ˜æ—¶ï¼Œåªè¦å®ˆå«æ¡ä»¶ä¸ºçœŸï¼ŒçŠ¶æ€è½¬æ¢å°±å‘ç”Ÿã€‚ åŠ¨ä½œè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªè¿‡ç¨‹è¡¨è¾¾å¼ï¼Œå½“çŠ¶æ€è½¬æ¢ï¼ˆäº‹ä»¶ï¼‰å¼€å§‹æ—¶æ‰§è¡Œã€‚\nè‡ªåŠ¨è§¦å‘çŠ¶æ€è½¬æ¢ï¼šå¦‚æœç®­å¤´çº¿ä¸Šæœªæ ‡æ˜äº‹ä»¶ï¼Œåˆ™è¡¨ç¤ºåœ¨æºçŠ¶æ€çš„å†…éƒ¨æ´»åŠ¨æ‰§è¡Œå®Œä¹‹åè‡ªåŠ¨è§¦å‘è½¬æ¢ã€‚\næ´»åŠ¨ï¼šæŒ‡çŠ¶æ€ä¸­çš„æ´»åŠ¨è¡¨ä¸­çš„æ´»åŠ¨ã€‚\nè¯­æ³•å¦‚ä¸‹ï¼š\näº‹ä»¶å (å‚æ•°è¡¨) /åŠ¨ä½œè¡¨è¾¾å¼ äº‹ä»¶åï¼šå¯ä»¥æ˜¯ä»»ä½•äº‹ä»¶çš„åç§°ã€‚\nåœ¨æ´»åŠ¨è¡¨ä¸­ç»å¸¸ä½¿ç”¨ä»¥ä¸‹3ä¸­æ ‡å‡†äº‹ä»¶ï¼š\näº‹ä»¶å å«ä¹‰ entry å…¥å£åŠ¨ä½œï¼ŒæŒ‡å®šè¿›å…¥è¯¥çŠ¶æ€çš„åŠ¨ä½œï¼Œç«‹å³æ‰§è¡Œ exit å‡ºå£åŠ¨ä½œï¼ŒæŒ‡å®šé€€å‡ºè¯¥çŠ¶æ€çš„åŠ¨ä½œï¼Œç«‹å³æ‰§è¡Œ do å†…éƒ¨æ´»åŠ¨ï¼ŒæŒ‡å®šåœ¨è¯¥çŠ¶æ€ä¸‹çš„åŠ¨ä½œï¼Œå æœ‰æœ‰é™æ—¶é—´ï¼Œå¹¶å¯ä¸­æ–­åœ°å·¥ä½œ æ´»åŠ¨ï¼ˆåŠ¨ä½œï¼‰å¯ä»¥åœ¨çŠ¶æ€å†…æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨çŠ¶æ€è½¬æ¢ï¼ˆè¿ç§»ï¼‰æ—¶æ‰§è¡Œã€‚\nå½“çŠ¶æ€å›¾å¯¹ç³»ç»Ÿã€ç±»æˆ–ç”¨ä¾‹çš„åŠ¨æ€æ–¹é¢å»ºæ¨¡æ—¶ï¼Œé€šå¸¸æ˜¯å¯¹ååº”å‹å¯¹è±¡å»ºæ¨¡ã€‚\næ´»åŠ¨å›¾ æ´»åŠ¨å›¾ï¼ˆActivity Diagramï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå®ƒå±•ç°äº†åœ¨ç³»ç»Ÿå†…ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ã€‚æ´»åŠ¨å›¾ä¸“æ³¨äºç³»ç»Ÿçš„åŠ¨æ€è§†å›¾ï¼Œå¼ºè°ƒå¯¹è±¡é—´çš„æ§åˆ¶æµç¨‹ã€‚\næ´»åŠ¨å›¾ä¸€èˆ¬åŒ…æ‹¬ï¼š\nçŠ¶æ€ï¼š\næ´»åŠ¨å›¾çš„çŠ¶æ€ä¹ŸåŒ…å«åˆæ€å’Œç»ˆæ€ã€‚å…¶ä½™çš„çŠ¶æ€è¿˜å¯åˆ†ä¸ºï¼š\nåŠ¨ä½œçŠ¶æ€ï¼šä¸èƒ½è¢«åˆ†è§£ï¼ŒåŠ¨ä½œä¸èƒ½è¢«ä¸­æ–­ã€‚ æ´»åŠ¨çŠ¶æ€ï¼šèƒ½å¤Ÿè¢«è¿›ä¸€æ­¥åˆ†è§£ï¼Œå¯ä»¥è¢«ä¸­æ–­ï¼Œå…¶æ´»åŠ¨ç”±å…¶å®ƒçš„æ´»åŠ¨å›¾æ¥è¡¨ç¤ºã€‚ æµï¼ˆè½¬æ¢ï¼‰ã€‚\nå¯¹è±¡ã€‚\næ´»åŠ¨å›¾å¯ä»¥è¡¨ç¤ºï¼š\nåˆ†æ”¯ï¼ˆåˆ¤æ–­ï¼‰ï¼šåˆ†æ”¯çš„æµä¸Šç”¨[]æ ‡è®°çš„æ˜¯ç›‘æŠ¤è¡¨è¾¾å¼ï¼› ï¼ˆå¹¶å‘ï¼‰åˆ†å²”ï¼šå°†ä¸€ä¸ªæµåˆ†ä¸ºå¤šä¸ªå¯å¹¶å‘æ‰§è¡Œçš„æµï¼› ï¼ˆå¹¶å‘ï¼‰æ±‡åˆï¼šå°†åˆ†å²”å‡ºå»çš„å¤šä¸ªæµåˆå¹¶ä¸ºåŒä¸€ä¸ªæµã€‚ å½“å¯¹ä¸€ä¸ªç³»ç»Ÿçš„åŠ¨æ€æ–¹é¢å»ºæ¨¡æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ä½¿ç”¨æ´»åŠ¨å›¾çš„æ–¹å¼ï¼š\nå¯¹å·¥ä½œæµå»ºæ¨¡ï¼› å¯¹æ“ä½œå»ºæ¨¡ï¼› å¯¹ä¸šåŠ¡çš„å¤æ‚æµç¨‹å»ºæ¨¡ã€‚ æ„ä»¶å›¾ æ„ä»¶å›¾ï¼ˆComponent Diagramï¼Œç»„ä»¶å›¾ï¼‰å±•ç°äº†ä¸€ç»„æ„ä»¶ä¹‹é—´çš„ç»„ç»‡å’Œä¾èµ–ã€‚æ„ä»¶å›¾ä¸“æ³¨äºç³»ç»Ÿçš„é™æ€å®ç°è§†å›¾ï¼Œå®ƒä¸ç±»å›¾ç›¸å…³ï¼Œé€šå¸¸æŠŠæ„ä»¶æ˜ å°„ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç±»ã€æ¥å£æˆ–åä½œã€‚\næ„ä»¶å›¾çš„æˆåˆ†æœ‰ï¼š\næ„ä»¶ï¼šç”¨çŸ©å½¢è¡¨ç¤ºï¼Œåœ¨çŸ©å½¢å³ä¸Šæ–¹æœ‰ä¸€ä¸ªå°æ ‡è®°ã€‚ ä¾›æ¥å£ï¼šç”¨ä¸€ä¸ªåœ†åœˆå’Œè¿æ¥åˆ°æ„ä»¶ä¸Šçš„å®çº¿è¡¨ç¤ºã€‚æ„ä»¶æä¾›æ¥å£ç»™å…¶å®ƒæ„ä»¶ä½¿ç”¨ã€‚ éœ€æ¥å£ï¼šç”¨ä¸€ä¸ªåŠåœ†å’Œè¿æ¥åˆ°æ„ä»¶ä¸Šçš„å®çº¿è¡¨ç¤ºã€‚æ„ä»¶ä½¿ç”¨éœ€æ¥å£è¡¨ç¤ºéœ€è¦è°ƒç”¨å…¶å®ƒæ„ä»¶æä¾›æ¥å£ã€‚ ä¾èµ–ï¼šå°†ä¾›æ¥å£ï¼ˆåœ†åœˆï¼‰å’Œè™šæ¥å£ï¼ˆåŠåœ†ï¼‰è¿æ¥åˆ°ä¸€èµ·ï¼Œè¡¨ç¤ºä¸¤ä¸ªæ„ä»¶é€šè¿‡è¿™ä¸ªæ¥å£ç›¸ä¾èµ–ã€‚ éƒ¨ç½²å›¾ éƒ¨ç½²å›¾ï¼ˆDeployment Diagramï¼‰æ˜¯ç”¨æ¥å¯¹é¢å‘å¯¹è±¡ç³»ç»Ÿçš„ç‰©ç†æ–¹é¢å»ºæ¨¡çš„æ–¹æ³•ï¼Œå±•ç°äº†è¿è¡Œæ—¶å¤„ç†ç»“ç‚¹ä»¥åŠå…¶ä¸­æ„ä»¶ï¼ˆåˆ¶å“ï¼‰çš„é…ç½®ã€‚éƒ¨ç½²å›¾å¯¹ç³»ç»Ÿçš„é™æ€éƒ¨ç½²è§†å›¾è¿›è¡Œå»ºæ¨¡ï¼Œå®ƒä¸æ„ä»¶å›¾ç›¸å…³ã€‚\néƒ¨ç½²å›¾å±•ç°äº†ç³»ç»Ÿçš„è½¯ä»¶å’Œç¡¬ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨å®æ–½é˜¶æ®µä½¿ç”¨ã€‚\n\u0026lt;\u0026lt;artifact\u0026gt;\u0026gt;è¡¨ç¤ºåˆ¶å“ã€‚\næ€»ç»“ UMLå›¾åˆ†ç±»ï¼š\nUMLå›¾ é™æ€å»ºæ¨¡ åŠ¨æ€å»ºæ¨¡ ç‰©ç†å»ºæ¨¡ ç±»å›¾ $\\checkmark$ $\\times$ $\\times$ å¯¹è±¡å›¾ $\\checkmark$ $\\times$ $\\times$ ç”¨ä¾‹å›¾ $\\checkmark$ $\\times$ $\\times$ æ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾) $\\checkmark$ $\\times$ $\\checkmark$ éƒ¨ç½²å›¾ $\\checkmark$ $\\times$ $\\checkmark$ åºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ é€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ çŠ¶æ€å›¾ $\\times$ $\\checkmark$ $\\times$ æ´»åŠ¨å›¾ $\\times$ $\\checkmark$ $\\times$ ç±»å›¾æˆåˆ†æ€»ç»“ï¼š\nåç§° å›¾ç¤º ç±» æ¥å£ åä½œ ä¾èµ– æ³›åŒ– å…³è” ç”¨ä¾‹å›¾æˆåˆ†æ€»ç»“ï¼š\nåç§° å›¾ç¤º ç”¨ä¾‹ åŒ…å«å…³ç³» æ‰©å±•å…³ç³» æ³›åŒ–å…³ç³» äº¤äº’å›¾ä¸­ï¼Œé¡ºåºå›¾å’Œé€šä¿¡å›¾æ˜¯åŒæ„çš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚å®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nå·®å¼‚ åºåˆ—å›¾ é€šä¿¡å›¾ å¼ºè°ƒ æ¶ˆæ¯æ—¶é—´é¡ºåº æ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡ ä¸åŒçš„ç‰¹æ€§ æœ‰å¯¹è±¡ç”Ÿå‘½çº¿ï¼šå¯¹è±¡å­˜åœ¨çš„æ—¶é—´æ®µæœ‰æ§åˆ¶ç„¦ç‚¹ï¼šå¯¹è±¡æ‰§è¡ŒåŠ¨ä½œæ‰€ç»å†çš„æ—¶é—´æ®µ æœ‰è·¯å¾„ï¼šè¡¨ç¤ºå¯¹è±¡ä¹‹é—´æœ‰äº¤äº’æœ‰åºå·ï¼šè¡¨ç¤ºæ¶ˆæ¯çš„æ—¶é—´é¡ºåºï¼Œå¯åµŒå¥—è¡¨ç¤º æ´»åŠ¨å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nç›¸åŒç‚¹ï¼šçŠ¶æ€ä¸­éƒ½æœ‰åˆæ€å’Œç»ˆæ€ã€‚ ä¸»è¦å·®å¼‚ï¼š æ´»åŠ¨å›¾çš„è½¬æ¢ç§°ä¸ºæµï¼› æ´»åŠ¨å›¾æœ‰åˆ†æ”¯ã€å¹¶å‘åˆ†å²”å’Œå¹¶å‘æ±‡åˆã€‚ ä»¥ä¸‹æ˜¯UMLå›¾çš„æ€»ç»“ï¼š\nç±»å›¾ï¼šå±•ç°ä¸€ç»„å¯¹è±¡ï¼ˆç±»ï¼‰ã€æ¥å£ã€åä½œå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»\nå¯¹è±¡å›¾ï¼šå±•ç°æŸä¸€æ—¶åˆ»çš„ä¸€ç»„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°äº†åœ¨ç±»å›¾ä¸­æ‰€å»ºç«‹äº‹ç‰©çš„å®ä¾‹çš„é™æ€å¿«ç…§\nç”¨ä¾‹å›¾ï¼šå±•ç°äº†ä¸€ç»„ç”¨ä¾‹ã€å‚ä¸è€…ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆåŒ…å«ã€æ‰©å±•ã€å…³è”å’Œæ³›åŒ–ï¼‰\nåºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ï¼šæè¿°äº†ä»¥æ—¶é—´é¡ºåºç»„ç»‡çš„å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ´»åŠ¨ï¼Œå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåº\né€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ï¼šå¼ºè°ƒæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡\nçŠ¶æ€å›¾ï¼ˆçŠ¶æ€è½¬æ¢å›¾ï¼‰ï¼šå±•ç°äº†ä¸€ä¸ªçŠ¶æ€æœºï¼Œå¼ºè°ƒå¯¹è±¡è¡Œä¸ºçš„äº‹ä»¶é¡ºåº\næ´»åŠ¨å›¾ï¼šä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå±•ç°äº†åœ¨ç³»ç»Ÿå†…ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ï¼Œå¼ºè°ƒå¯¹è±¡é—´çš„æ§åˆ¶æµç¨‹\næ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾)ï¼šå±•ç°äº†ä¸€ç»„æ„ä»¶ä¹‹é—´çš„ç»„ç»‡å’Œä¾èµ–ï¼Œå°†æ„ä»¶æ˜ å°„ä¸ºç±»ã€æ¥å£æˆ–åä½œ\néƒ¨ç½²å›¾ï¼šå¯¹ç‰©ç†å»ºæ¨¡ï¼Œå±•ç°äº†è¿è¡Œæ—¶å¤„ç†ç»“ç‚¹ä»¥åŠå…¶ä¸­æ„ä»¶ï¼ˆåˆ¶å“ï¼‰çš„é…ç½®\nè½¯ä»¶å·¥ç¨‹ æ²Ÿé€šè·¯å¾„ æ²Ÿé€šå›¾æ˜¯æŒ‡é¡¹ç›®ä¸­äººå‘˜æˆ–éƒ¨é—¨ä¹‹é—´çš„æ²Ÿé€šç”¨ä¸€æ¡æ— å‘è¾¹è¿æ¥èµ·æ¥ï¼Œæ‰€æ„æˆå›¾å³ä¸ºæ²Ÿé€šå›¾ã€‚æ²Ÿé€šå›¾ä¸­çš„è·¯å¾„ç§°ä¸ºæ²Ÿé€šè·¯å¾„ã€‚\nè½¯ä»¶é¡¹ç›®ä¸­æ²Ÿé€šè·¯å¾„$m$çš„è®¡ç®—å…¬å¼ï¼š\næ²Ÿé€šå›¾ä¸­æ— ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = \\sum_{i=1}^{n} i-1 = \\cfrac{(n-1)n}{2} $$\næ²Ÿé€šå›¾ä¸­æœ‰ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = n - 1 $$\nGanttå›¾ Ganttå›¾ï¼šä¸€ç§ç®€å•çš„æ°´å¹³æ¡å½¢å›¾ï¼Œå®ƒä»¥æ—¥å†ä¸ºåŸºå‡†æè¿°é¡¹ç›®ä»»åŠ¡ã€‚\nå‚ç›´è½´ï¼šè¡¨ç¤ºå¤šä¸ªä¸åŒçš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æŒ‰ç…§å·¦ä¾§ä»»åŠ¡åç§°å‚ç›´æ’åˆ—ã€‚\næ°´å¹³è½´ï¼šè¡¨ç¤ºæ—¥å†æ—¶é—´çº¿ï¼ˆå¦‚æ—¶ã€å¤©ã€å‘¨ã€æœˆå’Œå¹´ç­‰ï¼‰ã€‚\næ¯ä¸ªæ°´å¹³æ¡è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡ï¼š\næ¯ä¸€æ°´å¹³æ¡çš„èµ·ç‚¹ï¼šè¡¨ç¤ºè¯¥ä»»åŠ¡çš„å¼€å§‹æ—¶é—´ï¼› æ¯ä¸€æ°´å¹³æ¡çš„ç»ˆç‚¹ï¼šè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ç»“æŸæ—¶é—´ï¼› æ¯ä¸€æ°´å¹³æ¡çš„é•¿åº¦ï¼šè¡¨ç¤ºå®Œæˆè¯¥ä»»åŠ¡çš„æŒç»­æ—¶é—´ã€‚ å½“æ—¥å†ä¸­åŒä¸€æ—¶æ®µå­˜åœ¨å¤šä¸ªæ°´å¹³æ¡æ—¶ï¼Œè¡¨ç¤ºä»»åŠ¡ä¹‹é—´çš„å¹¶å‘ã€‚\nå¦‚å›¾ï¼š\nGanttå›¾ä¼˜ç‚¹ï¼š\nèƒ½æ¸…æ™°åœ°æè¿°ï¼š\næ¯ä¸ªä»»åŠ¡çš„å¼€å§‹æ—¶é—´ï¼› æ¯ä¸ªä»»åŠ¡çš„ç»“æŸæ—¶é—´ï¼› ä»»åŠ¡çš„è¿›å±•æƒ…å†µï¼› å„ä¸ªä»»åŠ¡ä¹‹é—´çš„å¹¶è¡Œæ€§ã€‚ Ganttå›¾ç¼ºç‚¹ï¼š\nä¸èƒ½æ¸…æ™°åœ°åæ˜ å„ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼› éš¾ä»¥ç¡®å®šæ•´ä¸ªé¡¹ç›®çš„å…³é”®æ‰€åœ¨ï¼Œå³ä¸èƒ½æ¸…æ™°åœ°ç¡®å®šå½±å“è¿›åº¦çš„å…³é”®ä»»åŠ¡ï¼› ä¸èƒ½åæ˜ è®¡åˆ’ä¸­æœ‰æ½œåŠ›çš„éƒ¨åˆ†ã€‚ PERTå›¾ PERTå›¾æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼š\nå¼§ï¼šè¡¨ç¤ºä»»åŠ¡ã€‚\nä»»åŠ¡åŒ…å«ä»¥ä¸‹æˆåˆ†ï¼š\nå®Œæˆè¯¥ä»»åŠ¡æ‰€éœ€çš„æ—¶é—´ï¼ˆä»»åŠ¡æŒç»­æ—¶é—´ï¼‰ã€‚\næ¾å¼›æ—¶é—´ï¼ˆSlack Timeï¼‰ï¼šè¡¨ç¤ºåœ¨ä¸å½±å“æ•´ä¸ªå·¥æœŸçš„å‰æä¸‹å®Œæˆè¯¥ä»»åŠ¡æœ‰å¤šå°‘æœºåŠ¨ä½™åœ°ã€‚\nå³æ¾å¼›æ—¶é—´æŒ‡å½“å‰ä»»åŠ¡çš„å·¥æœŸå¯ä»¥æ¨è¿Ÿçš„æ—¶é—´ã€‚\nç©ºä»»åŠ¡ï¼šç”¨è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œè¡¨ç¤ºä»»åŠ¡é—´çš„å…³ç³»æ‰€æ·»åŠ ã€‚å®Œæˆç©ºä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ä¸º0ã€‚\nç»“ç‚¹ï¼šè¡¨ç¤ºäº‹ä»¶ã€‚\näº‹ä»¶æ˜¯æµå…¥ç»“ç‚¹çš„ä»»åŠ¡çš„ç»“æŸï¼Œæˆ–æµå‡ºç»“ç‚¹çš„ä»»åŠ¡çš„å¼€å§‹ã€‚äº‹ä»¶è¡¨ç¤ºæŸä¸ªæ—¶é—´ç‚¹ï¼Œæœ¬èº«ä¸æ¶ˆè€—æ—¶é—´å’Œèµ„æºã€‚\näº‹ä»¶åŒ…å«ä»¥ä¸‹æˆåˆ†ï¼š\näº‹ä»¶å·ã€‚ å‡ºç°è¯¥äº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼šè¡¨ç¤ºåœ¨æ­¤æ—¶åˆ»ä¹‹å‰ä»è¯¥äº‹ä»¶å‡ºå‘çš„ä»»åŠ¡ä¸å¯èƒ½å¼€å§‹ã€‚ å‡ºç°è¯¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ»ï¼šè¡¨ç¤ºä»è¯¥äº‹ä»¶å‡ºå‘çš„ä»»åŠ¡æœ€è¿Ÿåœ¨æ­¤æ—¶åˆ»å¼€å§‹ï¼Œå¦åˆ™æ•´ä¸ªå·¥ç¨‹å°±ä¸èƒ½å¦‚æœŸå®Œæˆã€‚ åªæœ‰å½“æµå…¥è¯¥ç»“ç‚¹çš„æ‰€æœ‰ä»»åŠ¡éƒ½ç»“æŸæ—¶ï¼Œç»“ç‚¹æ‰€è¡¨ç¤ºçš„äº‹ä»¶æ‰å‡ºç°ï¼Œæµå‡ºç»“ç‚¹çš„ä»»åŠ¡æ‰å¯ä»¥å¼€å§‹ã€‚\nç‰¹æ®Šçš„äº‹ä»¶ï¼š\nå¼€å§‹äº‹ä»¶ï¼šæ²¡æœ‰ä»»ä½•ä»»åŠ¡æµå‘è¯¥äº‹ä»¶ï¼› ç»“æŸäº‹ä»¶ï¼šæ²¡æœ‰ä»»åŠ¡ä»»åŠ¡ä»è¯¥äº‹ä»¶æµå‡ºã€‚ ä¸€ä¸ªé¡¹ç›®æ˜¯ä»å¼€å§‹äº‹ä»¶å¼€å§‹åˆ°ç»“æŸäº‹ä»¶ç»“æŸã€‚\nè®¾ï¼š\n$T(e)$ï¼šå®Œæˆä»»åŠ¡$e$çš„æ‰€éœ€æ—¶é—´ï¼› $T_s(e)$ï¼šå®Œæˆä»»åŠ¡$e$çš„æ¾å¼›æ—¶é—´ï¼› $T_e(v)$ï¼šäº‹ä»¶$v$çš„æœ€æ—©æ—¶åˆ»ï¼› $T_l(v)$ï¼šäº‹ä»¶$v$çš„æœ€è¿Ÿæ—¶åˆ»ã€‚ PERTå›¾å„æˆåˆ†å–å€¼ï¼ˆä¸ä¸€å®šéœ€è¦æ»¡è¶³ä¸‹é¢çš„å…³ç³»ï¼Œä½†æ˜¯å¯ä»¥ç”¨ä¸‹é¢çš„å¼å­æ¨å‡ºï¼‰ï¼š\näº‹ä»¶$V_{in}$çš„æœ€æ—©æ—¶åˆ»$T_e(V_{in})$ï¼š\nåªæœ‰ä¸€ä¸ªä»»åŠ¡æµå…¥æ—¶ï¼Œè®¾è¯¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶ä¸º$V_{out}$ï¼Œåˆ™è¯¥ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}\u0026gt;$ï¼š\n$$ T_e(V_{in}) = T_e(V_{out}) + T $$\nè¿™é‡Œå°†$T(\u0026lt;V_{out}, V_{in}\u0026gt;)$ç®€å†™ä¸ºäº†$T$ã€‚\nå³ï¼šè¯¥æµå…¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶çš„æœ€æ—©æ—¶åˆ» + å®Œæˆè¯¥æµå…¥ä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ã€‚\nå¤šä¸ªä»»åŠ¡æµå…¥æ—¶ï¼Œè®¾ä¸æ¯ä¸ªä»»åŠ¡ç›¸å¯¹åº”çš„æµå‡ºäº‹ä»¶ä¸º$V_{out}[ \\ i \\ ]$ï¼Œåˆ™è¿™äº›ä»»åŠ¡ä¸º$\u0026lt;V_{out}[ \\ i \\ ], V_{in}\u0026gt;$ï¼š\n$$ T_e(V_{in}) = Max(T_e(V_{out}[ \\ i \\ ]) + T_i) $$\nè¿™é‡Œå°†$T(\u0026lt;V_{out}[ \\ i \\ ], V_{in}\u0026gt;)$ç®€å†™ä¸ºäº†$T_i$ã€‚\nå³æµå…¥è¯¥äº‹ä»¶çš„æ¯ä¸ªä»»åŠ¡è®¡ç®—å‡ºçš„æœ€æ—©æ—¶åˆ»çš„æœ€å¤§å€¼ã€‚\nå¼€å§‹äº‹ä»¶$V_{start}$ï¼š\n$$ T_e(V_{start}) = 0 $$\näº‹ä»¶$V_{out}$çš„æœ€è¿Ÿæ—¶åˆ»$T_l(V_{out})$ï¼š\nåªæœ‰ä¸€ä¸ªä»»åŠ¡æµå‡ºæ—¶ï¼Œè®¾è¯¥ä»»åŠ¡çš„æµå…¥äº‹ä»¶ä¸º$V_{in}$ï¼Œåˆ™è¯¥ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}\u0026gt;$ï¼š\n$$ T_l(V_{out}) = T_l(V_{in}) - (T + T_s) $$\nè¿™é‡Œå°†$T_s(\u0026lt;V_{out}, V_{in}\u0026gt;)$ç®€å†™ä¸º$T_s$ã€‚\nå³ï¼šè¯¥æµå‡ºä»»åŠ¡çš„æµå…¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ» -ï¼ˆè¯¥æµå‡ºä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ + æ¾å¼›æ—¶é—´ï¼‰ã€‚\nå¦‚æœæ¾å¼›æ—¶é—´æœªçŸ¥æˆ–ä¸º0ï¼š\n$$ T_l(V_{out}) = T_l(V_{in}) - T $$\nå¤šä¸ªä»»åŠ¡æµå‡ºæ—¶ï¼Œè®¾ä¸æ¯ä¸ªä»»åŠ¡ç›¸å¯¹åº”çš„æµå…¥äº‹ä»¶ä¸º$V_{in}[ \\ i \\ ]$ï¼Œåˆ™è¿™äº›ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;$ï¼š\n$$ T_l(V_{out}) = Min(T_l(V_{in}[ \\ i \\ ]) - (T_i + S_i)) $$\nè¿™é‡ŒæŠŠ$T(\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;)$ç®€å†™ä¸º$T_i$ï¼ŒæŠŠ$T_s(\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;)$ç®€å†™ä¸º$S_i$ã€‚\nå³æµå‡ºè¯¥äº‹ä»¶çš„æ¯ä¸ªä»»åŠ¡è®¡ç®—å‡ºçš„æœ€æ™šæ—¶åˆ»çš„æœ€å¤§å€¼ã€‚\nå¦‚æœæ¾å¼›æ—¶é—´æœªçŸ¥æˆ–ä¸º0ï¼š\n$$ T_l(V_{out}) = Min(T_l(V_{in}[ \\ i \\ ]) - T_i) $$\nç»“æŸäº‹ä»¶$V_{end}$ï¼š\n$$ T_l(V_{end}) = T_e(V_{end}) $$\nå³ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ä¸æœ€è¿Ÿæ—¶åˆ»ç›¸ç­‰ã€‚\nè®¾æŸä»»åŠ¡çš„æµå…¥äº‹ä»¶ä¸º$V_{in}$ï¼Œæµå‡ºäº‹ä»¶ä¸º$V_{out}$ï¼Œåˆ™è¯¥ä»»åŠ¡$\u0026lt;V_{out}, V_{in}\u0026gt;$çš„æ¾å¼›æ—¶é—´$T_s(\u0026lt;V_{out}, V_{in}\u0026gt;)$ã€‚\n$$ T_s = T_l(V_{in}) - T - T_e(V_{out}) $$\nå³ï¼Œè¯¥ä»»åŠ¡çš„æµå…¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ» - è¯¥ä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ - è¯¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»\nPERTå›¾çš„è·¯å¾„ï¼šä»å¼€å§‹äº‹ä»¶åˆ°ç»“æŸäº‹ä»¶çš„ä¸€æ¡é€šè·¯ã€‚\nPERTå›¾çš„å…³é”®è·¯å¾„ï¼šæŒ‡æ‰€æœ‰çš„ä»»åŠ¡çš„æ¾å¼›æ—¶é—´éƒ½ä¸º0çš„è·¯å¾„ã€‚\nå…³é”®è·¯å¾„çš„é•¿åº¦ï¼šæŒ‡ç»“æŸäº‹ä»¶çš„æœ€æ—©ï¼ˆæˆ–æœ€æ™šï¼‰æ—¶åˆ»ã€‚\nå…³é”®è·¯å¾„çš„ç‰¹ç‚¹ï¼š\næ‰€æœ‰ä»»åŠ¡çš„æ¾å¼›æ—¶é—´éƒ½ä¸º0ã€‚\næ¯ä¸ªäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»å’Œæœ€è¿Ÿæ—¶åˆ»éƒ½æ˜¯ç›¸ç­‰çš„ã€‚\næ‰€æœ‰ä»»åŠ¡æŒç»­æ—¶é—´çš„å’Œï¼Œæ˜¯PERTå›¾æ‰€æœ‰è·¯å¾„ä¸­æœ€å¤§çš„ï¼Œå¹¶ä¸”ä¸ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ç›¸ç­‰ã€‚\nè®¾å…³é”®è·¯å¾„ä¸­æ‰€æœ‰äº‹ä»¶ä¸º$V_i$ï¼ˆ$i = 1, 2, \\cdots, n$ï¼‰ï¼Œä¸”è¯¥è·¯å¾„ä¸‹çš„ä»»åŠ¡ä¸º$\u0026lt;V_j, V_{j+1}\u0026gt;$ï¼ˆ$1 \\le j \\le n-1$ï¼‰ï¼ˆè¡¨ç¤º$V_1$æ˜¯å¼€å§‹äº‹ä»¶ï¼Œ$V_2$æ˜¯$V_1$å¾€ä¸‹çš„ä¸€ä¸ªäº‹ä»¶ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ$V_n$æ˜¯ç»“æŸäº‹ä»¶ï¼‰ï¼Œé‚£ä¹ˆè¯¥å…³é”®è·¯å¾„ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ä¸ºï¼š\n$$ T_e(V_n) = \\sum_{i = 1}^{n-1} T_i $$\nè¿™é‡Œ$T_i$ä»£è¡¨$T(\u0026lt;V_i, V_{i+1}\u0026gt;)$ã€‚\næœ€è¿Ÿæ—¶åˆ»çš„å¦ä¸€ç§æ±‚æ³•ï¼ˆPERTå›¾å­˜åœ¨å…³é”®è·¯å¾„çš„æƒ…å†µä¸‹ï¼‰ï¼š\nå·²çŸ¥æŸPERTå›¾ç»“æŸäº‹ä»¶çš„æœ€æ™šæ—¶åˆ»ï¼ˆæœ€æ—©æ—¶åˆ»ï¼‰ï¼Œè¯¥PERTå›¾ä¸­æŸä¸€æ¡è·¯å¾„ï¼ˆå‡è®¾è¯¥è·¯å¾„æ²¡æœ‰åˆ†æ”¯ï¼‰ä¸­æ‰€æœ‰äº‹ä»¶ä¸º$V_j$ï¼ˆ$j = 1, 2, \\cdots, n$ï¼‰ï¼Œä¸”è¯¥è·¯å¾„ä¸‹çš„ä»»åŠ¡ä¸º$\u0026lt;V_k, V_{k+1}\u0026gt;$ï¼ˆ$1 \\le k \\le n-1$ï¼‰ï¼Œè¯¥è·¯å¾„ä¸‹ä»»åŠ¡çš„æŒç»­æ—¶é—´$T(\u0026lt;V_{k-1}, V_k\u0026gt;)$å·²çŸ¥ï¼Œï¼ˆå³$V_1$æ˜¯å¼€å§‹äº‹ä»¶ï¼ŒæŒ‰ç…§æ¬¡åºå¾€ä¸‹ï¼Œ$V_n$æ˜¯ç»“æŸäº‹ä»¶ï¼‰ï¼Œè®¡ç®—æŸä¸€äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ»$T_l(V_i)$ï¼ˆ$1 \\le i \u0026lt; n$ï¼‰ï¼š\n$$ T_l(V_i) = T_l(V_n) - \\sum_{j = i}^{n - 1} T_j $$\nè¿™é‡Œ$T_j$ä»£è¡¨$T(\u0026lt;V_j, V_{j + 1}\u0026gt;)$ã€‚\nå³ï¼šç»“æŸäº‹ä»¶çš„æœ€æ™šæ—¶åˆ» - è¯¥äº‹ä»¶åˆ°ç»“æŸäº‹ä»¶ä¹‹é—´æ‰€æœ‰çš„ä»»åŠ¡çš„æŒç»­æ—¶é—´æ€»å’Œã€‚\næ³¨æ„ï¼šå¦‚æœäº‹ä»¶$V_i$åˆ°ç»“æŸäº‹ä»¶ä¹‹é—´å­˜åœ¨å¤šæ¡è·¯å¾„ï¼Œåº”è¯¥é€‰æ‹©é‚£æ¡ä»»åŠ¡æŒç»­æ—¶é—´æ€»å’Œæœ€å¤§çš„è·¯å¾„ã€‚\nPERTå›¾çš„ä¼˜ç‚¹ï¼š\nç»™å‡ºäº†æ¯ä¸ªä»»åŠ¡çš„å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’Œå®Œæˆè¯¥ä»»åŠ¡æ‰€éœ€çš„æ—¶é—´ï¼› ç»™å‡ºäº†ä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼ˆä¾èµ–å…³ç³»ï¼‰ã€‚å³ä»»åŠ¡ä¹‹é—´çš„æ‰§è¡Œé¡ºåºã€‚ PERTå›¾ä¸èƒ½æ¸…æ™°åœ°æè¿°ä»»åŠ¡ä¹‹é—´çš„å¹¶è¡Œæƒ…å†µã€‚\né¡¹ç›®æ´»åŠ¨å›¾ é¡¹ç›®æ´»åŠ¨å›¾æ˜¯ä¸€ç§æœ‰å‘å›¾ï¼ˆä¸PERTå›¾ååˆ†ç±»ä¼¼ï¼‰ï¼š\nå¼§ï¼šè¡¨ç¤ºæ´»åŠ¨ã€‚å¼§çš„æƒå€¼è¡¨ç¤ºæ´»åŠ¨çš„æŒç»­æ—¶é—´ã€‚\né¡¶ç‚¹ï¼šè¡¨ç¤ºé¡¹ç›®é‡Œç¨‹ç¢‘ã€‚\nç‰¹æ®Šçš„é‡Œç¨‹ç¢‘ï¼š\nå¼€å§‹é‡Œç¨‹ç¢‘ï¼šæ²¡æœ‰ä»»ä½•æ´»åŠ¨æŒ‡å‘è¯¥é‡Œç¨‹ç¢‘ï¼› ç»“æŸé‡Œç¨‹ç¢‘ï¼šæ²¡æœ‰ä»»ä½•æ´»åŠ¨ä»è¯¥é‡Œç¨‹ç¢‘æŒ‡å‡ºã€‚ é¡¹ç›®æ´»åŠ¨å›¾çš„å…³é”®è·¯å¾„ï¼šæŒ‰ç…§PERTå›¾çš„æ–¹æ³•æ±‚å‡ºæ¾å¼›æ—¶é—´ä¸º0çš„ã€ä»å¼€å§‹é‡Œç¨‹ç¢‘åˆ°ç»“æŸé‡Œç¨‹ç¢‘çš„è·¯å¾„ã€‚\nå…³é”®è·¯å¾„çš„é•¿åº¦ï¼šä¸ºç»“æŸé‡Œç¨‹ç¢‘çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ã€‚å®ƒå¯ä»¥ç”¨æ¥è¡¨ç¤ºé¡¹ç›®å®Œæˆçš„æœ€å°‘æ—¶é—´ã€‚\n","date":"2023å¹´5æœˆ20æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/05/%E8%BD%AF%E8%80%83%E5%9B%BE%E7%B1%BB%E6%B1%87%E6%80%BB%E7%AF%87/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1684560554,"title":"è½¯è€ƒå›¾ç±»æ±‡æ€»ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç®—æ³•æ¦‚è¿° ç®—æ³•ï¼ˆAlgorithmï¼‰æ˜¯å¯¹ç‰¹å®šé—®é¢˜æ±‚è§£æ­¥éª¤çš„ä¸€ç§æè¿°ï¼Œå®ƒæ˜¯æŒ‡ä»¤çš„æœ‰é™åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸€æ¡æŒ‡ä»¤è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œã€‚ç®—æ³•å…·æœ‰ä¸‹åˆ—5ä¸ªé‡è¦ç‰¹æ€§ï¼š\næœ‰ç©·æ€§ï¼šä¸€ä¸ªç®—æ³•å¿…é¡»æ€»æ˜¯ï¼ˆå¯¹ä»»ä½•åˆæ³•çš„è¾“å…¥å€¼ï¼‰åœ¨æ‰§è¡Œæœ‰ç©·æ­¥ä¹‹åç»“æŸï¼Œä¸”æ¯ä¸€æ­¥éƒ½å¯åœ¨æœ‰ç©·æ—¶é—´å†…å®Œæˆã€‚ ç¡®å®šæ€§ï¼šç®—æ³•ä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤å¿…é¡»æœ‰ç¡®åˆ‡çš„å«ä¹‰ï¼Œç†è§£æ—¶ä¸ä¼šäº§ç”ŸäºŒä¹‰æ€§ã€‚å¹¶ä¸”åœ¨ä»»ä½•æ¡ä»¶ä¸‹ï¼Œç®—æ³•åªæœ‰å”¯ä¸€çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ï¼Œå³å¯¹äºç›¸åŒçš„è¾“å…¥åªèƒ½å¾—å‡ºç›¸åŒçš„è¾“å‡ºã€‚ å¯è¡Œæ€§ï¼šä¸€ä¸ªç®—æ³•æ˜¯å¯è¡Œçš„ï¼Œå³ç®—æ³•ä¸­æè¿°çš„æ“ä½œéƒ½å¯ä»¥é€šè¿‡å·²ç»å®ç°çš„åŸºæœ¬è¿ç®—æ‰§è¡Œæœ‰é™æ¬¡æ¥å®ç°ã€‚ è¾“å…¥ï¼šä¸€ä¸ªç®—æ³•æœ‰é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œè¿™äº›è¾“å…¥å–è‡ªäºæŸä¸ªç‰¹å®šçš„å¯¹è±¡çš„é›†åˆã€‚ è¾“å‡ºï¼šä¸€ä¸ªç®—æ³•æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºï¼Œè¿™äº›è¾“å‡ºæ˜¯åŒè¾“å…¥æœ‰ç€æŸäº›ç‰¹å®šå…³ç³»çš„é‡ã€‚ å¸¸ç”¨çš„è¡¨ç¤ºç®—æ³•çš„æ–¹æ³•æœ‰ï¼š\nè‡ªç„¶è¯­è¨€ï¼šä¼˜ç‚¹æ˜¯æ˜“ç†è§£ï¼›ç¼ºç‚¹æ˜¯æ˜“å‡ºç°äºŒä¹‰æ€§ï¼Œç®—æ³•é€šå¸¸å¾ˆå†—é•¿ã€‚\næµç¨‹å›¾ï¼šä¼˜ç‚¹æ˜¯ç›´è§‚æ˜“æ‡‚ï¼›ç¼ºç‚¹æ˜¯ä¸¥å¯†æ€§ä¸å¦‚ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œçµæ´»æ€§ä¸å¦‚è‡ªç„¶è¯­è¨€ã€‚\nç¨‹åºè®¾è®¡è¯­è¨€ï¼šä¼˜ç‚¹æ˜¯èƒ½ç”¨è®¡ç®—æœºç›´æ¥æ‰§è¡Œï¼›ç¼ºç‚¹æ˜¯æŠ½è±¡æ€§å·®ï¼Œä½¿ç®—æ³•è®¾è®¡è€…æ‹˜æ³¥äºæè¿°ç®—æ³•çš„å…·ä½“ç»†èŠ‚ï¼Œå¿½ç•¥äº†â€œå¥½â€ç®—æ³•å’Œæ­£ç¡®é€»è¾‘çš„é‡è¦æ€§ï¼Œè¦æ±‚ç®—æ³•è®¾è®¡è€…æŒæ¡ç¨‹åºè®¾è®¡è¯­è¨€åŠç¼–ç¨‹æŠ€å·§ã€‚\nä¼ªä»£ç ï¼šä¼ªä»£ç æ˜¯ä»‹äºè‡ªç„¶è¯­è¨€å’Œç¨‹åºè®¾è®¡è¯­è¨€ä¹‹é—´çš„æ–¹æ³•ï¼Œå®ƒé‡‡ç”¨æŸä¸€ç¨‹åºè®¾è®¡è¯­è¨€çš„åŸºæœ¬è¯­æ³•ï¼ŒåŒæ—¶ç»“åˆè‡ªç„¶è¯­è¨€æ¥è¡¨è¾¾ã€‚\nè®¡ç®—æœºç§‘å­¦å®¶ä»æ¥æ²¡æœ‰å¯¹ä¼ªä»£ç çš„ä¹¦å†™å½¢å¼è¾¾æˆè¿‡å…±è¯†ã€‚\nåœ¨ä¼ªä»£ç ä¸­ï¼Œå¯ä»¥é‡‡ç”¨æœ€å…·è¡¨è¾¾åŠ›çš„ã€æœ€ç®€æ˜æ‰¼è¦çš„æ–¹æ³•æ¥è¡¨è¾¾ä¸€ä¸ªç»™å®šçš„ç®—æ³•ã€‚\nç®—æ³•åˆ†æ å¤æ‚åº¦ ç”±äºæ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦åˆ†åˆ«å¯¹ç®—æ³•å ç”¨çš„æ—¶é—´å’Œç©ºé—´èµ„æºè¿›è¡Œåˆ†æï¼Œè®¡ç®—æ–¹æ³•ç›¸ä¼¼ã€‚\nç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åˆ†æä¸»è¦æ—¶åˆ†æç®—æ³•çš„è¿è¡Œæ—¶é—´ï¼Œå³ç®—æ³•æ‰§è¡Œæ‰€éœ€è¦çš„åŸºæœ¬æ“ä½œæ•°ã€‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ä»¥ç®—æ³•ä¸­åŸºæœ¬æ“é™„é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ï¼ˆç®€ç§°ä¸ºé¢‘åº¦ï¼‰ä½œä¸ºç®—æ³•çš„æ—¶é—´åº¦é‡ã€‚ä¸€èˆ¬ä¸å¿…è¦ç²¾ç¡®è®¡ç®—å‡ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œåªè¦å¤§è‡´è®¡ç®—å‡ºç›¸åº”çš„æ•°é‡çº§å³å¯ã€‚\nç®—æ³•çš„å¤æ‚åº¦é€šå¸¸æ˜¯ç”¨å¤§Oè¡¨ç¤ºæ³•ã€‚\nåŠ æ³•è§„åˆ™ï¼šå¤šé¡¹ç›¸åŠ ï¼Œä¿ç•™æœ€é«˜é˜¶é¡¹ï¼Œå¹¶å°†ç³»æ•°åŒ–ä¸º1ï¼› ä¹˜æ³•è§„åˆ™ï¼šå¤šé¡¹ç›¸ä¹˜éƒ½ä¿ç•™ï¼Œå¹¶å°†ç³»æ•°åŒ–ä¸º1ã€‚ é€’å½’å¼çš„æ—¶é—´ï¼ˆç©ºé—´ï¼‰å¤æ‚åº¦ï¼š\n$$ é€’å½’çš„æ¬¡æ•° \\times æ¯æ¬¡é€’å½’çš„æ—¶é—´ï¼ˆç©ºé—´ï¼‰å¤æ‚åº¦ $$\næ¸è¿›ç¬¦å· å¯ä»¥ç”¨æ¸è¿›ç¬¦å·æ¥è¡¨ç¤ºæ¸è¿›å¤æ‚åº¦ã€‚\næ¸è¿›ç¬¦å·åŒ…æ‹¬ï¼š\n$O$ï¼šç®—æ³•è¿è¡Œæ—¶é—´çš„æ¸è¿›ä¸Šç•Œã€‚\nç»™å®šä¸€ä¸ªå‡½æ•°$g(n)$ï¼Œ$O\\big( g(n) \\big) = \\{ f(n):\\exists æ­£å¸¸æ•°cå’Œn_0, ä½¿å¾—\\forall n \\ge n_0, æœ‰ 0 \\le f(n) \\le cg(n) \\}$ã€‚\nå³ï¼Œå½“$n \\ge n_0$æ—¶ï¼Œ$f(n) \\le c \\cdot g(n) $ã€‚\n$\\Omega$ï¼šç®—æ³•è¿è¡Œæ—¶é—´çš„æ¸è¿›ä¸‹ç•Œã€‚\nç»™å®šä¸€ä¸ªå‡½æ•°$g(n) $ï¼Œ$O\\big( g(n) \\big) = \\{ f(n):\\exists æ­£å¸¸æ•°cå’Œn_0,ä½¿å¾—\\forall n \\ge n_0, æœ‰ 0 \\le cg(n) \\le f(n) \\}$ã€‚\nå³ï¼Œå½“$n \\ge n_0$æ—¶ï¼Œ$c \\cdot g(n) \\le f(n)$ã€‚\n$\\Theta$ï¼šç®—æ³•è¿è¡Œæ—¶é—´çš„æ¸è¿›ä¸Šç•Œå’Œæ¸è¿›ä¸‹ç•Œï¼Œå³æ¸è¿›ç´§è‡´ç•Œï¼ˆåˆå«ç´§ç¼ºç•Œï¼‰ã€‚\nç»™å®šä¸€ä¸ªå‡½æ•°$g(n)$ï¼Œ$O\\big( g(n) \\big) = \\{ f(n):\\exists æ­£å¸¸æ•°c_1ã€c_2å’Œn_0,ä½¿å¾—\\forall n \\ge n_0, æœ‰ 0 \\le c_1g(n) \\le f(n) \\le c_2g(n) \\}$ã€‚\nå³ï¼Œå½“$n \\ge n_0$æ—¶ï¼Œ$c_1g(n) \\le f(n) \\le c_2g(n)$ã€‚\nç®—æ³•è®¾è®¡æ–¹æ³• åˆ†æ²»æ³• ä»»ä½•ä¸€ä¸ªå¯ä»¥ç”¨è®¡ç®—æœºæ±‚è§£çš„é—®é¢˜æ‰€éœ€è¦çš„è®¡ç®—æ—¶é—´éƒ½ä¸å…¶è§„æ¨¡æœ‰å…³ã€‚è¦æƒ³ç›´æ¥è§£å†³ä¸€ä¸ªè¾ƒå¤§çš„é—®é¢˜ï¼Œæœ‰æ—¶æ˜¯ç›¸å½“å›°éš¾çš„ã€‚é—®é¢˜çš„è§„æ¨¡è¶Šå°ï¼Œè§£é¢˜æ‰€éœ€è¦çš„è®¡ç®—æ—¶é—´å¾€å¾€è¶Šå°‘ï¼Œä»è€Œè¾ƒå®¹æ˜“å¤„ç†ã€‚åˆ†æ²»æ³•çš„è®¾è®¡æ€æƒ³æ˜¯å°†ä¸€ä¸ªéš¾ä»¥ç›´æ¥è§£å†³çš„å¤§é—®é¢˜åˆ†è§£æˆä¸€äº›è§„æ¨¡è¾ƒå°çš„ç›¸åŒé—®é¢˜ï¼Œä»¥ä¾¿å„ä¸ªå‡»ç ´ï¼Œåˆ†è€Œæ²»ä¹‹ã€‚\nå¦‚æœè§„æ¨¡ä¸º$n$çš„é—®é¢˜å¯åˆ†è§£æˆ$k$ä¸ªå­é—®é¢˜ï¼ˆ$1 \u0026lt; k \\le n $ï¼‰ï¼Œè¿™äº›å­é—®é¢˜äº’ç›¸ç‹¬ç«‹ä¸”ä¸åŸé—®é¢˜ç›¸åŒã€‚åˆ†æ²»æ³•äº§ç”Ÿçš„å­é—®é¢˜å¾€å¾€æ˜¯åŸé—®é¢˜çš„è¾ƒå°æ¨¡å¼ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œåˆ†æ²»ç®—æ³•åœ¨æ¯ä¸€å±‚é€’å½’ä¸Šéƒ½æœ‰3ä¸ªæ­¥éª¤ï¼š\nåˆ†è§£ï¼šå°†åŸé—®é¢˜åˆ†è§£æˆä¸€ç³»åˆ—å­é—®é¢˜ã€‚\næ±‚è§£ï¼šé€’å½’åœ°æ±‚è§£å„å­é—®é¢˜ã€‚\nè‹¥å­é—®é¢˜è¶³å¤Ÿå°ï¼Œåˆ™ç›´æ¥æ±‚è§£ã€‚\nåˆå¹¶ï¼šå°†å­é—®é¢˜çš„è§£åˆå¹¶æˆåŸé—®é¢˜çš„è§£ã€‚\nåˆ†æ²»çš„å…¸å‹å®ä¾‹æœ‰ï¼š\nå½’å¹¶æ’åºï¼› å¿«é€Ÿæ’åºï¼› æœ€å¤§å­æ®µå’Œé—®é¢˜ã€‚ é€’å½’ é€’å½’æ˜¯æŒ‡å­ç¨‹åºï¼ˆæˆ–å‡½æ•°ï¼‰ç›´æ¥è°ƒç”¨è‡ªå·±æˆ–é€šè¿‡ä¸€ç³»åˆ—è°ƒç”¨è¯­å¥é—´æ¥è°ƒç”¨è‡ªå·±ï¼Œæ˜¯ä¸€ç§æè¿°é—®é¢˜å’Œè§£å†³é—®é¢˜çš„å¸¸ç”¨æ–¹æ³•ã€‚è¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œè™½ç„¶å…¶æœ¬èº«å¹¶æ²¡æœ‰æ˜æ˜¾çš„é€’å½’ç»“æ„ï¼Œä½†ç”¨é€’å½’æŠ€æœ¯æ¥æ±‚è§£ä½¿è®¾è®¡å‡ºçš„ç®—æ³•ç®€æ´æ˜“æ‡‚ä¸”æ˜“äºåˆ†æã€‚\né€’å½’æœ‰ä¸¤ä¸ªåŸºæœ¬è¦ç´ ï¼š\nè¾¹ç•Œæ¡ä»¶ï¼ˆé€’å½’å‡ºå£ï¼‰ï¼šç¡®å®šé€’å½’åˆ°ä½•æ—¶ç»ˆæ­¢ã€‚ é€’å½’æ¨¡å¼ï¼ˆé€’å½’ä½“ï¼‰ï¼šå¤§é—®é¢˜æ˜¯å¦‚ä½•åˆ†è§£ä¸ºå°é—®é¢˜çš„ã€‚ é€’å½’å¯ä»¥å°†å¤§è§„æ¨¡çš„é—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå°è§„æ¨¡çš„é—®é¢˜ï¼Œç„¶åå…ˆè§£å†³å°è§„æ¨¡é—®é¢˜ï¼Œå†å°†è§£å†³å®Œçš„å°è§„æ¨¡é—®é¢˜åˆå¹¶å†ä¸€èµ·ï¼Œå†æ¬¡è¿›è¡Œå¤„ç†ï¼Œæœ€åè§£å†³å®Œæ‰€æœ‰é—®é¢˜ã€‚è¿™ä¸åˆ†æ²»çš„æ€æƒ³ä¸è°‹è€Œåˆã€‚\né€’å½’æ˜¯åˆ†æ²»çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œè€Œåˆ†æ²»å¹¶ä¸ä¸€å®šéœ€è¦é€šè¿‡é€’å½’å®ç°ã€‚åˆ†æ²»è¿˜å¯ä»¥é€šè¿‡å¾ªç¯ç»“æ„å®ç°ã€‚\nåŠ¨æ€è§„åˆ’æ³• åŠ¨æ€è§„åˆ’ç®—æ³•ä¸åˆ†æ²»æ³•ç±»ä¼¼ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¹Ÿæ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚\nä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼Œé€‚åˆç”¨åŠ¨æ€è§„åˆ’æ³•æ±‚è§£çš„é—®é¢˜ï¼Œç»åˆ†è§£å¾—åˆ°çš„å­é—®é¢˜å¾€å¾€ä¸æ˜¯ç‹¬ç«‹çš„ã€‚ä¸åŒå­é—®é¢˜çš„æ•°ç›®å¸¸å¸¸åªæœ‰å¤šé¡¹å¼é‡çº§ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªè¡¨æ¥è®°å½•æ‰€æœ‰å·±è§£å†³çš„å­é—®é¢˜çš„ç­”æ¡ˆï¼Œåœ¨éœ€è¦æ—¶å†æ‰¾å‡ºå·±æ±‚å¾—çš„ç­”æ¡ˆï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œä»è€Œå¾—åˆ°å¤šé¡¹å¼æ—¶é—´çš„ç®—æ³•ã€‚ä¸ç®¡è¯¥å­é—®é¢˜ä»¥åæ˜¯å¦è¢«ç”¨åˆ°ï¼Œåªè¦å®ƒè¢«è®¡ç®—è¿‡ï¼Œå°±å°†å…¶ç»“æœå¡«å…¥è¡¨ä¸­ã€‚\nåŠ¨æ€è§„åˆ’ç®—æ³•é€šå¸¸ç”¨äºæ±‚è§£å…·æœ‰æŸç§æœ€ä¼˜æ€§è´¨çš„é—®é¢˜ã€‚åœ¨è¿™ç±»é—®é¢˜ä¸­ï¼Œå¯èƒ½ä¼šæœ‰è®¸å¤šå¯è¡Œè§£ï¼Œæ¯ä¸ªè§£éƒ½å¯¹åº”äºä¸€ä¸ªå€¼ã€‚è€Œæœ€ä¼˜è§£å¯èƒ½ä¼šæœ‰å¤šä¸ªï¼ŒåŠ¨æ€è§„åˆ’ç®—æ³•èƒ½æ‰¾å‡ºå…¶ä¸­çš„ä¸€ä¸ªæœ€ä¼˜è§£ã€‚è®¾è®¡ä¸€ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œé€šå¸¸æŒ‰ç…§ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤è¿›è¡Œï¼š\næ‰¾å‡ºæœ€ä¼˜è§£çš„æ€§è´¨ï¼Œå¹¶åˆ»ç”»å…¶ç»“æ„ç‰¹å¾ã€‚\né€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼ã€‚\nä»¥è‡ªåº•å‘ä¸Šçš„æ–¹å¼è®¡ç®—å‡ºæœ€ä¼˜å€¼ã€‚\nåˆ°æ­¤æ­¥éª¤ä¸ºæ­¢çš„ä»¥ä¸Šæ­¥éª¤ï¼ˆåŒ…æ‹¬æ­¤æ­¥éª¤ï¼‰ï¼Œæ˜¯åŠ¨æ€è§„åˆ’ç®—æ³•çš„åŸºæœ¬æ­¥éª¤ã€‚\nå¦‚æœéœ€è¦ç»™å‡ºæœ€ä¼˜è§£ï¼Œé€šå¸¸éœ€è¦åœ¨æ­¤æ­¥éª¤ä¸­è®°å½•æ›´å¤šçš„ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ­¥éª¤4ä¸­æ ¹æ®æ‰€è®°å½•çš„ä¿¡æ¯å¿«é€Ÿæ„é€ å‡ºä¸€ä¸ªæœ€ä¼˜è§£ã€‚\næ ¹æ®è®¡ç®—æœ€ä¼˜å€¼æ—¶å¾—åˆ°çš„ä¿¡æ¯ï¼Œæ„é€ ä¸€ä¸ªæœ€ä¼˜è§£ã€‚\nåœ¨åªéœ€è¦æ±‚å‡ºæœ€ä¼˜å€¼çš„æƒ…å½¢ä¸‹ï¼Œè¯¥æ­¥éª¤å¯çœç•¥ï¼›è‹¥éœ€è¦æ±‚å‡ºé—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œè¯¥æ­¥éª¤å¿…é¡»æ‰§è¡Œã€‚\nå¯¹äºä¸€ä¸ªç»™å®šçš„é—®é¢˜ï¼Œè‹¥å…¶å…·æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ€§è´¨ï¼Œå¯ä»¥è€ƒè™‘ç”¨åŠ¨æ€è§„åˆ’æ³•æ¥æ±‚è§£ï¼š\næœ€ä¼˜å­ç»“æ„ï¼šå¦‚æœä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£ä¸­åŒ…å«äº†å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œå°±è¯´è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ã€‚\nå½“ä¸€ä¸ªé—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ—¶ï¼Œæç¤ºæˆ‘ä»¬åŠ¨æ€è§„åˆ’æ³•å¯èƒ½ä¼šé€‚ç”¨ï¼Œä½†æ˜¯æ­¤æ—¶è´ªå¿ƒç­–ç•¥å¯èƒ½ä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚\né‡å å­é—®é¢˜ï¼šæŒ‡ç”¨æ¥è§£åŸé—®é¢˜çš„é€’å½’ç®—æ³•å¯åå¤åœ°è§£åŒæ ·çš„å­é—®é¢˜ï¼Œè€Œä¸æ˜¯æ€»åœ¨äº§ç”Ÿæ–°çš„å­é—®é¢˜ã€‚\nå³å½“ä¸€ä¸ªé€’å½’ç®—æ³•ä¸æ–­åœ°è°ƒç”¨åŒä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå°±è¯´è¯¥é—®é¢˜åŒ…å«é‡å å­é—®é¢˜ã€‚\næ­¤æ—¶è‹¥ç”¨åˆ†æ²»æ³•é€’å½’æ±‚è§£ï¼Œåˆ™æ¯æ¬¡é‡åˆ°å­é—®é¢˜éƒ½ä¼šè§†ä¸ºæ–°é—®é¢˜ï¼Œä¼šæå¤§åœ°é™ä½ç®—æ³•çš„æ•ˆç‡ï¼Œè€ŒåŠ¨æ€è§„åˆ’æ³•æ€»æ˜¯å……åˆ†åˆ©ç”¨é‡å å­é—®é¢˜ï¼Œå¯¹æ¯ä¸ªå­é—®é¢˜ä»…è®¡ç®—ä¸€æ¬¡ï¼ŒæŠŠè§£ä¿å­˜åœ¨ä¸€ä¸ªåœ¨éœ€è¦æ—¶å°±å¯ä»¥æŸ¥çœ‹çš„è¡¨ä¸­ï¼Œè€Œæ¯æ¬¡æŸ¥è¡¨çš„æ—¶é—´ä¸ºå¸¸æ•°ã€‚\nåŠ¨æ€è§„åˆ’çš„ç»å…¸é—®é¢˜ï¼š\nåç§° æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ 0-1 èƒŒåŒ…é—®é¢˜ $O(nW)$ï¼Œ$W$ä¸ºèƒŒåŒ…å®¹é‡ $O(nW)$ çŸ©é˜µè¿ä¹˜ $O(n^3)$ $O(n^2)$ æœ€é•¿å…¬å…±åºåˆ—ï¼ˆLCSï¼‰ $O(n^2)$ çŸ©é˜µè¿ä¹˜ï¼š\nä¸¤ä¸ªçŸ©é˜µ$A_{(m \\cdot n)}$å’Œ$B_{(n \\cdot p)}$ç›¸ä¹˜çš„æ¬¡æ•°ä¸ºï¼š$m \\cdot n \\cdot p$ï¼Œç›¸ä¹˜åå¾—åˆ°çš„æ–°çŸ©é˜µä¸ºï¼š$(A \\cdot B)_{(m \\cdot p)}$ã€‚\nè´ªå¿ƒæ³• å’ŒåŠ¨æ€è§„åˆ’ä¸€æ ·ï¼Œè´ªå¿ƒæ³•ä¹Ÿç»å¸¸ç”¨äºè§£å†³æœ€ä¼˜åŒ–é—®é¢˜ã€‚\nä¸åŠ¨æ€è§„åˆ’æ³•ä¸åŒçš„æ˜¯ï¼Œè´ªå¿ƒæ³•åœ¨è§£å†³é—®é¢˜çš„ç­–ç•¥ä¸Šæ˜¯ä»…æ ¹æ®å½“å‰å·±æœ‰çš„ä¿¡æ¯åšå‡ºé€‰æ‹©ï¼Œè€Œä¸”ä¸€æ—¦åšå‡ºäº†é€‰æ‹©ï¼Œä¸ç®¡å°†æ¥æœ‰ä»€ä¹ˆç»“æœï¼Œè¿™ä¸ªé€‰æ‹©éƒ½ä¸ä¼šæ”¹å˜ã€‚æ¢è€Œè¨€ä¹‹ï¼Œè´ªå¿ƒæ³•å¹¶ä¸æ˜¯ä»æ•´ä½“æœ€ä¼˜è€ƒè™‘ï¼Œå®ƒæ‰€åšå‡ºçš„é€‰æ‹©åªæ˜¯åœ¨æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜ã€‚è¿™ç§å±€éƒ¨æœ€ä¼˜é€‰æ‹©å¹¶ä¸èƒ½ä¿è¯æ€»èƒ½è·å¾—å…¨å±€æœ€ä¼˜è§£ï¼Œä½†é€šå¸¸èƒ½å¾—åˆ°è¾ƒå¥½çš„è¿‘ä¼¼æœ€ä¼˜è§£ã€‚\nä¾‹å¦‚ï¼Œå¹³æ—¶è´­ç‰©æ‰¾é’±æ—¶ï¼Œä¸ºä½¿æ‰¾å›çš„é›¶é’±çš„ç¡¬å¸æ•°æœ€å°‘ï¼Œä»æœ€å¤§é¢å€¼çš„å¸ç§å¼€å§‹ï¼ŒæŒ‰é€’å‡çš„é¡ºåºè€ƒè™‘å„å¸ç§ï¼Œå…ˆå°½é‡ç”¨å¤§é¢å€¼çš„å¸ç§ï¼Œå½“ä¸è¶³å¤§é¢å€¼å¸ç§çš„é‡‘é¢æ—¶æ‰å»è€ƒè™‘ä¸‹ä¸€ç§è¾ƒå°é¢å€¼çš„å¸ç§ï¼Œè¿™å°±æ˜¯åœ¨é‡‡ç”¨è´ªå¿ƒæ³•ã€‚è¿™ç§æ–¹æ³•åœ¨è¿™é‡Œæ€»æ˜¯æœ€ä¼˜ï¼Œæ˜¯å› ä¸ºé“¶è¡Œå¯¹å…¶å‘è¡Œçš„ç¡¬å¸ç§ç±»å’Œç¡¬å¸é¢å€¼çš„å·§å¦™å®‰æ’ã€‚å¦‚æœåªæœ‰é¢å€¼åˆ†åˆ«ä¸º1ã€5å’Œ11å•ä½çš„ç¡¬å¸ï¼Œè€Œå¸Œæœ›æ‰¾å›æ€»é¢ä¸º15å•ä½çš„ç¡¬å¸ï¼ŒæŒ‰è´ªå¿ƒç®—æ³•ï¼Œåº”æ‰¾1ä¸ª11å•ä½é¢å€¼çš„ç¡¬å¸å’Œ4ä¸ª1å•ä½é¢å€¼çš„ç¡¬å¸ï¼Œå…±æ‰¾å›5ä¸ªç¡¬å¸ã€‚ä½†æœ€ä¼˜çš„è§£ç­”åº”æ˜¯3ä¸ª5å•ä½é¢å€¼çš„ç¡¬å¸ã€‚\nè´ªå¿ƒæ³•çš„å…¸å‹å®ä¾‹ï¼š\næ´»åŠ¨é€‰æ‹©é—®é¢˜ èƒŒåŒ…é—®é¢˜ å›æº¯æ³• å›æº¯æ³•æœ‰â€œé€šç”¨çš„è§£é¢˜æ³•â€ä¹‹ç§°ï¼Œç”¨å®ƒå¯ä»¥ç³»ç»Ÿåœ°æœç´¢ä¸€ä¸ªé—®é¢˜çš„æ‰€æœ‰è§£æˆ–ä»»ä¸€è§£ã€‚\nå›æº¯æ³•æ˜¯ä¸€ä¸ªæ—¢å¸¦æœ‰ç³»ç»Ÿæ€§åˆå¸¦æœ‰è·³è·ƒæ€§çš„æœç´¢ç®—æ³•ã€‚å®ƒåœ¨åŒ…å«é—®é¢˜çš„æ‰€æœ‰è§£çš„è§£ç©ºé—´æ ‘ä¸­ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥ï¼Œä»æ ¹ç»“ç‚¹å‡ºå‘æœç´¢è§£ç©ºé—´æ ‘ã€‚ç®—æ³•æœç´¢è‡³è§£ç©ºé—´æ ‘çš„ä»»ä¸€ç»“ç‚¹æ—¶ï¼Œæ€»æ˜¯å…ˆåˆ¤æ–­è¯¥ç»“ç‚¹æ˜¯å¦è‚¯å®šä¸åŒ…å«é—®é¢˜çš„è§£ï¼š\nå¦‚æœè‚¯å®šä¸åŒ…å«ï¼šè·³è¿‡å¯¹ä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„ç³»ç»Ÿæœç´¢ï¼Œé€å±‚å‘å…¶ç¥–å…ˆç»“ç‚¹å›æº¯ï¼› å¦åˆ™ï¼šè¿›å…¥è¯¥å­æ ‘ï¼Œç»§ç»­æŒ‰æ·±åº¦ä¼˜å…ˆçš„ç­–ç•¥è¿›è¡Œæœç´¢ã€‚ ä½¿ç”¨å›æº¯æ³•æ±‚è§£é—®é¢˜ï¼š\nç”¨æ¥æ±‚é—®é¢˜çš„æ‰€æœ‰è§£æ—¶ï¼Œè¦å›æº¯åˆ°æ ¹ï¼Œä¸”æ ¹ç»“ç‚¹çš„æ‰€æœ‰å­æ ‘éƒ½å·²è¢«æœç´¢éæ‰ç»“æŸï¼› ç”¨æ¥æ±‚é—®é¢˜çš„ä»»ä¸€è§£æ—¶ï¼Œåªè¦æœç´¢åˆ°é—®é¢˜çš„ä¸€ä¸ªè§£å°±å¯ä»¥ç»“æŸã€‚ å›æº¯æ³•é€‚ç”¨äºè§£ä¸€äº›ç»„åˆæ•°è¾ƒå¤§çš„é—®é¢˜ã€‚\nå›æº¯æ³•ç»å…¸å®ä¾‹ï¼š\n0-1 èƒŒåŒ…é—®é¢˜ n çš‡åé—®é¢˜ è§£ç©ºé—´ åº”ç”¨å›æº¯æ³•è§£é—®é¢˜æ—¶ï¼Œé¦–å…ˆåº”æ˜ç¡®å®šä¹‰é—®é¢˜çš„è§£ç©ºé—´ã€‚é—®é¢˜çš„è§£ç©ºé—´åº”è‡³å°‘åŒ…å«é—®é¢˜çš„ä¸€ä¸ªï¼ˆæœ€ä¼˜ï¼‰è§£ã€‚\né€šå¸¸å°†è§£ç©ºé—´è¡¨ç¤ºä¸ºæ ‘æˆ–å›¾çš„å½¢å¼ã€‚\nåŸºæœ¬æ€æƒ³ ç¡®å®šè§£ç©ºé—´çš„ç»„ç»‡ç»“æ„åï¼Œå›æº¯æ³•ä»å¼€å§‹ç»“ç‚¹ï¼ˆæ ¹ç»“ç‚¹ï¼‰å‡ºå‘ï¼Œä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢æ•´ä¸ªè§£ç©ºé—´ã€‚\nå¼€å§‹æ—¶æ ¹ç»“ç‚¹æˆä¸ºä¸€ä¸ªæ´»ç»“ç‚¹ï¼ˆæœ‰å¤šä¸ªæ´»ç»“ç‚¹ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæˆä¸ºå½“å‰çš„æ‰©å±•ç»“ç‚¹ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªæ‰©å±•ç»“ç‚¹ï¼‰ã€‚ åœ¨å½“å‰çš„æ‰©å±•ç»“ç‚¹å¤„ï¼Œæœç´¢å‘çºµæ·±æ–¹å‘ç§»è‡³ä¸€ä¸ªæ–°ç»“ç‚¹ã€‚è¿™ä¸ªæ–°ç»“ç‚¹å°±æˆä¸ºä¸€ä¸ªæ–°çš„æ´»ç»“ç‚¹ï¼Œå¹¶æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ã€‚ å¦‚æœåœ¨å½“å‰æ‰©å±•ç»“ç‚¹å¤„ä¸èƒ½å†å‘çºµæ·±æ–¹å‘ç§»åŠ¨ï¼Œåˆ™å½“å‰çš„æ‰©å±•ç»“ç‚¹å°±æˆä¸ºæ­»ç»“ç‚¹ã€‚æ­¤æ—¶ï¼Œåº”å¾€å›ç§»åŠ¨ï¼ˆå›æº¯ï¼‰è‡³æœ€è¿‘çš„ä¸€ä¸ªæ´»ç»“ç‚¹å¤„ï¼Œå¹¶ä½¿è¿™ä¸ªæ´»ç»“ç‚¹æˆä¸ºå½“å‰çš„æ‰©å±•ç»“ç‚¹ã€‚ å›æº¯æ³•å³ä»¥è¿™ç§å·¥ä½œæ–¹å¼é€’å½’åœ°åœ¨è§£ç©ºé—´ä¸­æœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€è¦æ±‚çš„è§£æˆ–è§£ç©ºé—´ä¸­å·±æ— æ´»ç»“ç‚¹æ—¶ä¸ºæ­¢ã€‚ è¿ç”¨å›æº¯æ³•è§£é¢˜é€šå¸¸åŒ…å«ä»¥ä¸‹3ä¸ªæ­¥éª¤ï¼š\né’ˆå¯¹æ‰€ç»™é—®é¢˜ï¼Œå®šä¹‰é—®é¢˜çš„è§£ç©ºé—´ã€‚ ç¡®å®šæ˜“äºæœç´¢çš„è§£ç©ºé—´ç»“æ„ã€‚ ä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´ã€‚ é™ç•Œå‡½æ•° é™ç•Œå‡½æ•°çš„è®¾è®¡æ˜¯å›æº¯æ³•çš„æ ¸å¿ƒé—®é¢˜ï¼Œä¹Ÿæ˜¯éš¾é¢˜ã€‚é—®é¢˜çš„è§£ç©ºé—´å¾€å¾€å¾ˆå¤§ï¼Œä¸ºäº†æœ‰æ•ˆåœ°è¿›è¡Œæœç´¢ï¼Œéœ€è¦åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­å¯¹æŸäº›ç»“ç‚¹è¿›è¡Œå‰ªæï¼Œè€Œå¯¹å“ªäº›ç»“ç‚¹è¿›è¡Œå‰ªæï¼Œéœ€è¦è®¾è®¡é™ç•Œå‡½æ•°æ¥åˆ¤æ–­ã€‚\nè®¾è®¡é™ç•Œå‡½æ•°çš„é€šç”¨çš„æŒ‡å¯¼åŸåˆ™æ˜¯å°½å¯èƒ½å¤šå’Œå°½å¯èƒ½æ—©åœ°â€œæ€æ‰â€ä¸å¯èƒ½äº§ç”Ÿæœ€ä¼˜è§£çš„æ´»ç»“ç‚¹ã€‚å¥½çš„é™ç•Œå‡½æ•°å¯ä»¥å¤§å¤§å‡å°‘é—®é¢˜çš„æœç´¢ç©ºé—´ï¼Œä»è€Œå¤§å¤§æé«˜ç®—æ³•çš„æ•ˆç‡ã€‚\nåˆ†æ”¯é™ç•Œæ³• åˆ†æ”¯é™ç•Œæ³•ç±»ä¼¼äºå›æº¯æ³•ï¼Œä¹Ÿæ˜¯ä¸€ç§åœ¨é—®é¢˜çš„è§£ç©ºé—´æ ‘$T$ä¸Šæœç´¢é—®é¢˜è§£çš„ç®—æ³•ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ†æ”¯é™ç•Œæ³•çš„æ±‚è§£ç›®æ ‡æ˜¯æ‰¾å‡ºæ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£ï¼Œæˆ–æ˜¯åœ¨æ»¡è¶³çº¦æŸæ¡ä»¶çš„è§£ä¸­æ‰¾å‡ºä½¿æŸä¸€ç›®æ ‡å‡½æ•°å€¼è¾¾åˆ°æå¤§æˆ–æå°çš„è§£ï¼Œå³åœ¨æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£ã€‚\nåˆ†æ”¯é™ç•Œæ³•ä»¥å¹¿åº¦ä¼˜å…ˆæˆ–ä»¥æœ€å°è€—è´¹ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´æ ‘$T$ã€‚\nåˆ†æ”¯é™ç•Œæ³•çš„æœç´¢ç­–ç•¥æ˜¯ï¼šæ¯ä¸€ä¸ªæ´»ç»“ç‚¹åªæœ‰ä¸€æ¬¡æœºä¼šæˆä¸ºæ‰©å±•ç»“ç‚¹ã€‚\næ´»ç»“ç‚¹ä¸€æ—¦æˆä¸ºæ‰©å±•ç»“ç‚¹ï¼Œå°±ä¸€æ¬¡æ€§äº§ç”Ÿå…¶æ‰€æœ‰å­ç»“ç‚¹ã€‚åœ¨è¿™äº›å­ç»“ç‚¹ä¸­ï¼Œé‚£äº›å¯¼è‡´ä¸å¯è¡Œè§£æˆ–éæœ€ä¼˜è§£çš„å­ç»“ç‚¹è¢«èˆå¼ƒï¼Œå…¶ä½™å­ç»“ç‚¹è¢«åŠ å…¥æ´»ç»“ç‚¹è¡¨ä¸­ã€‚æ­¤åï¼Œä»æ´»ç»“ç‚¹è¡¨ä¸­å–ä¸‹ä¸€ç»“ç‚¹æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ï¼Œå¹¶é‡å¤ä¸Šè¿°ç»“ç‚¹æ‰©å±•è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´æŒç»­åˆ°æ‰¾åˆ°æ‰€éœ€çš„è§£æˆ–æ´»ç»“ç‚¹è¡¨ä¸ºç©ºæ—¶ä¸ºæ­¢ã€‚\nç›®å‰å·±æœ‰è®¸å¤šåˆ©ç”¨åˆ†æ”¯é™ç•Œæ³•è§£å†³å¤§é‡ç¦»æ•£æœ€ä¼˜åŒ–çš„å®é™…é—®é¢˜çš„å®ä¾‹ã€‚\nä¸å›æº¯æ³•ç›¸ä¼¼ï¼Œé™ç•Œå‡½æ•°çš„è®¾è®¡æ˜¯åˆ†æ”¯é™ç•Œæ³•çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜å’Œéš¾é¢˜ã€‚å¦‚ä½•è®¾è®¡é™ç•Œå‡½æ•°æ¥æœ‰æ•ˆåœ°å‡å°æœç´¢ç©ºé—´æ˜¯åº”ç”¨åˆ†æ”¯é™ç•Œæ³•è¦è€ƒè™‘çš„é—®é¢˜ã€‚\næ ¹æ®ä»æ´»ç»“ç‚¹è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€æ‰©å±•ç»“ç‚¹çš„ä¸åŒæ–¹å¼ï¼Œå¯å°†åˆ†æ”¯é™ç•Œæ³•åˆ†ä¸ºå‡ ç§ä¸åŒçš„ç±»å‹ã€‚æœ€å¸¸ç”¨çš„æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š\né˜Ÿåˆ—å¼ï¼ˆFIFOï¼Œå…ˆè¿›å…ˆå‡ºï¼‰åˆ†æ”¯é™ç•Œæ³•ï¼šå°†æ´»ç»“ç‚¹è¡¨ç»„ç»‡æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶æŒ‰é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡ºåŸåˆ™é€‰æ‹©ä¸‹ä¸€ä¸ªç»“ç‚¹ä½œä¸ºæ‰©å±•ç»“ç‚¹ã€‚\nä¼˜å…ˆé˜Ÿåˆ—å¼åˆ†æ”¯é™ç•Œæ³•ï¼šå°†æ´»ç»“ç‚¹è¡¨ç»„ç»‡æˆä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¹¶æŒ‰ä¼˜å…ˆé˜Ÿåˆ—ä¸­è§„å®šçš„ç»“ç‚¹ä¼˜å…ˆçº§é€‰å–ä¼˜å…ˆçº§æœ€é«˜çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ä½œä¸ºæ‰©å±•ç»“ç‚¹ã€‚\nç»“ç‚¹ä¼˜å…ˆçº§ï¼šé€šå¸¸ç”¨ä¸€ä¸ªä¸è¯¥ç»“ç‚¹ç›¸å…³çš„æ•°å€¼$p$æ¥è¡¨ç¤ºï¼Œè§„å®š$p$å€¼è¾ƒå¤§çš„ç»“ç‚¹ä¼˜å…ˆçº§è¾ƒé«˜ã€‚\nåœ¨ç®—æ³•å®ç°æ—¶ï¼Œæœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š\né€šå¸¸ç”¨ä¸€ä¸ªæœ€å¤§å †ï¼ˆæ ¹ç»“ç‚¹æ¯”å·¦å³å­ç»“ç‚¹å¤§ï¼‰æ¥å®ç°æœ€å¤§ä¼˜å…ˆé˜Ÿåˆ—ï¼Œç”¨æœ€å¤§å †çš„Deletemaxæ“ä½œï¼ˆåˆ é™¤æœ€å¤§å †é¡¶ï¼‰æŠ½å–å †ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ã€‚ æœ€å°ä¼˜å…ˆé˜Ÿåˆ—è§„å®š$p$å€¼è¾ƒå°çš„ç»“ç‚¹ä¼˜å…ˆçº§è¾ƒé«˜ã€‚é€šå¸¸ç”¨ä¸€ä¸ªæœ€å°å †æ ¹ç»“ç‚¹æ¯”å·¦å³å­ç»“ç‚¹å°ï¼‰æ¥å®ç°æœ€å°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œç”¨æœ€å°å †çš„Deleteminæ“ä½œï¼ˆåˆ é™¤æœ€å°å †é¡¶ï¼‰æŠ½å–å †ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ã€‚ åˆ†æ”¯é™ç•Œæ³•ç»å…¸å®ä¾‹ï¼š0-1 èƒŒåŒ…é—®é¢˜ã€‚\næ€»ç»“ ç®—æ³•è®¾è®¡æ–¹æ³• è¯´æ˜ ç‰¹ç‚¹ å®ä¾‹ åˆ†æ²»æ³• å°†åŸé—®é¢˜åˆ†è§£æˆå¤šä¸ªä¸åŸé—®é¢˜ç›¸åŒçš„å­é—®é¢˜é€’å½’åœ°æ±‚è§£å„å­é—®é¢˜å°†å­é—®é¢˜çš„è§£åˆå¹¶æˆåŸé—®é¢˜çš„è§£ åŸé—®é¢˜è§„æ¨¡å¤§ä¸”èƒ½åˆ†è§£ä¸ºå¤šä¸ªä¸åŸé—®é¢˜ç›¸åŒçš„å­é—®é¢˜ å½’å¹¶æ’åºå¿«é€Ÿæ’åºæœ€å¤§å­—æ®µå’Œé—®é¢˜ åŠ¨æ€è§„åˆ’æ³• æ‰¾å‡ºå¹¶åˆ»ç”»æœ€ä¼˜è§£çš„ç»“æ„ç‰¹å¾é€’å½’åœ°å®šä¹‰æœ€ä¼˜è§£çš„å€¼è‡ªåº•å‘ä¸Šæ–¹å¼è®¡ç®—æœ€ä¼˜å€¼æˆ–æ„é€ æœ€ä¼˜è§£ æ±‚è§£å…·æœ‰æŸç§æœ€ä¼˜æ€§è´¨çš„é—®é¢˜ 0-1 èƒŒåŒ…é—®é¢˜çŸ©é˜µè¿ä¹˜æœ€é•¿å…¬å…±åºåˆ—ï¼ˆLCSï¼‰ è´ªå¿ƒæ³• ä¸åŠ¨æ€è§„åˆ’ç±»ä¼¼ï¼Œä½†è´ªå¿ƒæ³•è€ƒè™‘çš„æ˜¯å±€éƒ¨æœ€ä¼˜è§£ å¹¶ä¸ä¿è¯å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œä½†é€šå¸¸èƒ½å¾—åˆ°è¿‘ä¼¼æœ€ä¼˜è§£ æ´»åŠ¨é€‰æ‹©é—®é¢˜èƒŒåŒ…é—®é¢˜ å›æº¯æ³• åœ¨è§£ç©ºé—´æ ‘ä¸­ï¼ŒæŒ‰æ·±åº¦ä¼˜å…ˆç­–ç•¥ï¼Œä»æ ¹ç»“ç‚¹å‡ºå‘æœç´¢è§£ç©ºé—´æ ‘ å¯ä»¥æœç´¢é—®é¢˜çš„æ‰€æœ‰è§£æˆ–ä»»ä¸€è§£é€‚ç”¨äºæ±‚è§£ç»„åˆæ•°è¾ƒå¤§çš„é—®é¢˜é€šè¿‡é™ç•Œå‡½æ•°å‡å°‘é—®é¢˜çš„æœç´¢ç©ºé—´ 0-1èƒŒåŒ…é—®é¢˜nçš‡åé—®é¢˜ åˆ†æ”¯é™ç•Œæ³• ä¸å›æº¯æ³•ç±»ä¼¼ï¼Œåœ¨è§£ç©ºé—´æ ‘ç§æŒ‰å¹¿åº¦ä¼˜å…ˆæˆ–æœ€å°è€—è´¹ä¼˜å…ˆæ–¹å¼ï¼Œæœç´¢æ»¡è¶³çº¦æŸæ¡ä»¶çš„ä¸€ä¸ªè§£ å¯ä»¥ç»™å‡ºåœ¨æŸç§æ„ä¹‰ä¸‹çš„æœ€ä¼˜è§£åˆ†ä¸ºé˜Ÿåˆ—å¼å’Œä¼˜å…ˆé˜Ÿåˆ—å¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—å¼é€šè¿‡æœ€å¤§å †æˆ–æœ€å°å †å®ç° 0-1 èƒŒåŒ…é—®é¢˜ ç®—æ³•å®ä¾‹ æœ€å¤§å­æ®µå’Œé—®é¢˜ ç»™å®š$n$ä¸ªæ•´æ•°$a_1, a_2, \\cdots, a_n$ï¼ˆå¯èƒ½æœ‰è´Ÿæ•°ï¼‰ï¼Œæ±‚è¯¥åºåˆ—å½¢å¦‚$\\sum\\limits_{k=i}^{j} a_k$çš„å­æ®µå’Œçš„æœ€å¤§å€¼ã€‚å½“åºåˆ—ä¸­æ‰€æœ‰æ•´æ•°å‡ä¸ºè´Ÿæ•°æ—¶ï¼Œå…¶æœ€å¤§å­æ®µå’Œä¸º$0$ã€‚å³æ‰€æ±‚æœ€å¤§å€¼ä¸ºï¼š\n$$ max \\left\\{ 0, \\mathop{max}\\limits_{1 \\le i \\le j \\le n} \\sum_{k=i}^{j} a_k \\right\\} $$\nç»™å®šåºåˆ—$A[1 \\dots n]$ï¼Œé‡‡ç”¨åˆ†æ²»ç­–ç•¥è§£å†³é—®é¢˜ï¼š\nåˆ†è§£ï¼šå°†$A[1 \\dots n]$åˆ†è§£ä¸ºé•¿åº¦å¤§è‡´ç›¸ç­‰çš„ä¸¤æ®µ$A\\left[1 \\dots {n}/{2}\\right]$å’Œ$A\\left[ {n}/{2}+1 \\dots n \\right]$ï¼Œåˆ†åˆ«æ±‚å‡ºè¿™ä¸¤æ®µçš„æœ€å¤§å­æ®µå’Œã€‚\næœ€å¤§å­—æ®µå’Œæœ‰3ä¸­æƒ…å½¢ï¼š\n$A[1 \\dots n]$ä¸$A\\left[1 \\dots {n}/{2}\\right]$ï¼ˆå·¦è¾¹é‚£æ®µï¼‰çš„æœ€å¤§å­æ®µå’Œç›¸åŒã€‚ $A[1 \\dots n]$ä¸$A\\left[ {n}/{2}+1 \\dots n \\right]$ï¼ˆå³è¾¹é‚£æ®µï¼‰çš„æœ€å¤§å­æ®µå’Œç›¸åŒã€‚ $A[1 \\dots n]$çš„æœ€å¤§å­æ®µå’Œä¸º$\\sum\\limits_{k=i}^{j} a_k$ï¼Œä¸”$1 \\le i \\le n/2$ï¼Œ$n/2+1 \\le j \\le n$ï¼ˆæ¨ªè·¨ä¸¤ä¸ªå­æ®µï¼‰ã€‚ è§£å†³ï¼š\næƒ…å½¢1å’Œ2ï¼šå†å°†å­æ®µè¿›è¡Œåˆ†è§£ï¼ŒæŒ‰ç…§ä»¥ä¸Š3ç§æƒ…å½¢é€’å½’åœ°è®¡ç®—å­æ®µçš„æœ€å¤§å­æ®µå’Œã€‚\næƒ…å½¢3ï¼š$A\\left[1 \\dots {n}/{2} \\right]$å’Œ$A\\left[ {n}/{2}+1 \\dots n \\right]$éƒ½åŒ…å«äº†æœ€ä¼˜å­æ®µçš„ä¸€éƒ¨åˆ†ã€‚\nåœ¨$A\\left[1 \\dots {n}/{2}\\right]$ä¸­è®¡ç®—å‡ºï¼š\n$$ s_1 = \\mathop{max}\\limits_{1 \\le i \\le \\frac{n}{2}} \\left(\\sum_{k=i}^{\\frac{n}{2}} A[ \\ k \\ ]\\right) $$\nåœ¨$A\\left[ {n}/{2}+1 \\dots n \\right]$ä¸­è®¡ç®—å‡ºï¼š\n$$ s_2 = \\mathop{max}\\limits_{ \\frac{n}{2}+1 \\le j \\le n } \\left(\\sum\\limits_{k=\\frac{n}{2}+1}^{j} A[ \\ k \\ ]\\right) $$\n$s_1 + s_2$å³ä¸ºæƒ…å½¢3çš„æœ€ä¼˜å€¼ã€‚\nåˆå¹¶ï¼šå–åˆ†è§£é˜¶æ®µ3ç§æƒ…å†µä¸‹æœ€å¤§å­æ®µå’Œä¸­æœ€å¤§å€¼ä¸ºåŸé—®é¢˜çš„è§£ã€‚\nä»¥ä¸Š3ä¸ªæ­¥éª¤éœ€è¦é€’å½’åœ°è¿›è¡Œï¼Œå®é™…æƒ…å†µæ˜¯ï¼š\nå°†$A[1 \\dots n]$åˆ†è§£ä¸ºç”±å•ä¸ªå…ƒç´ ç»„æˆçš„$n$ä¸ªå­åºåˆ—$\\{ [a_1], [a_2], \\cdots, [a_n] \\}$ï¼Œè¿™$n$ä¸ªå­åºåˆ—çš„æœ€å¤§å­æ®µå’Œå³ä¸ºå…¶å”¯ä¸€ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚\nè‡ªåº•å‘ä¸Šï¼Œå…ˆåˆ†åˆ«å°†ç›¸é‚»çš„ä¸¤ä¸ªå­æ®µç»„åˆèµ·æ¥ï¼Œå¹¶æ ¹æ®ä¸Šè¿°åˆ†è§£ä¸­æè¿°çš„3ç§æƒ…å½¢è®¡ç®—å…¶ç»„åˆåçš„æœ€å¤§å­æ®µå’Œã€‚\nä¾‹å¦‚$[a_1, a_2]$æœ€å¤§å­æ®µå’Œæœ‰3ç§å¯èƒ½ï¼š\næƒ…å½¢1ï¼š$[a_1]$ï¼› æƒ…å½¢2ï¼š$[a_2]$ï¼› æƒ…å½¢3ï¼š$[a_1, a_2]$ï¼ˆå³å°†$a_1$ä½œä¸º$s_1$ï¼Œ$a_2$ä½œä¸º$s_2$ï¼‰ã€‚ å°†å–$\\{[a_2], [a_1, a_2]\\}$ä¸­å€¼æœ€å¤§çš„åºåˆ—ä½œä¸º$s_1$è¿”å›ç»™ä¸Šå±‚è°ƒç”¨ã€‚\n$[a_3, a_4]$æœ€å¤§å­æ®µå’Œä¹Ÿæ˜¯ç±»ä¼¼ä»¥ä¸Šæƒ…å†µï¼Œæœ€åå–$\\{[a_3], [a_3, a_4]\\}$ä¸­å€¼æœ€å¤§çš„åºåˆ—ä½œä¸º$s_2$è¿”å›ç»™ä¸Šå±‚è°ƒç”¨ã€‚\n$A[1 \\dots n]$ä¸­å…¶ä»–åºåˆ—ä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œã€‚\næ¥ç€æ¥åˆ°ä¸Šä¸€æ­¥éª¤çš„ä¸Šå±‚è°ƒç”¨ä¸­ã€‚\nä¾‹å¦‚$[a_1, a_2, a_3, a_4]$çš„æœ€å¤§å­æ®µå’Œä¹Ÿæ˜¯æœ‰3ç§å¯èƒ½ï¼š\næƒ…å½¢1ï¼š$[a_1, a_2]$ï¼› æƒ…å½¢2ï¼š$[a_3, a_4]$ï¼› æƒ…å½¢3ï¼š$[a_1, a_2]$çš„$s_1$åŠ ä¸Š$[a_3, a_4]$çš„$s_2$ã€‚ æœ€åè®¡ç®—$[a_1, a_2, a_3, a_4]$çš„$s_1$å€¼ï¼Œå¯èƒ½ä¸º$[a_1, a_2, a_3, a_4]$ã€$[a_2, a_3, a_4]$ã€$[a_3, a_4]$æˆ–$[a_4]$ï¼Œå–å…¶ä¸­å€¼æœ€å¤§è€…ã€‚\nå…¶ä»–å±‚æ¬¡çš„è°ƒç”¨ä¹Ÿæ˜¯ç±»ä¼¼ä¸Šè¿°æ­¥éª¤ï¼Œæœ€åå¾—åˆ°$[a_1, a_2, \\cdots, a_{\\frac{n}{2}}]$å’Œ$[a_{\\frac{n}{2}+1}, \\cdots, a_n]$çš„$s_1$å’Œ$s_2$è¿˜æœ‰å®ƒä»¬çš„ä¸¤ä¸ªæœ€å¤§å­æ®µå’Œã€‚ æ ¹æ®3ç§æƒ…å†µï¼Œå–3ç§æƒ…å†µä¸­æœ€å¤§å€¼è€…ä½œä¸º$A[1 \\dots n]$çš„æœ€å¤§å­æ®µå’Œã€‚\n0-1 èƒŒåŒ…é—®é¢˜ æœ‰$n$ä¸ªç‰©å“ï¼Œç¬¬$i$ä¸ªç‰©å“ä»·å€¼ä¸º$v_i$ï¼Œé‡é‡ä¸º$w_i$ï¼ŒèƒŒåŒ…å¯å®¹çº³æœ€å¤§é‡é‡ä¸º$W$ï¼Œ$v_i$ã€$w_i$å’Œ$W$å‡ä¸ºéè´Ÿæ•°ã€‚è€ƒè™‘å¦‚ä½•é€‰æ‹©è£…å…¥èƒŒåŒ…çš„ç‰©å“ï¼Œä½¿è£…å…¥èƒŒåŒ…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§ã€‚è¯¥é—®é¢˜å¯ä»¥å½¢å¼åŒ–æè¿°å¦‚ä¸‹ï¼š\nç›®æ ‡å‡½æ•°ï¼š$max\\sum\\limit_{i=1}^{n}v_ix_i$ï¼›\nçº¦æŸæ¡ä»¶ï¼š$\\sum\\limit_{i=1}^{n}w_ix_i \\le W$ï¼Œ$x_i \\in {0, 1}$ã€‚\nå½“ç‰©å“$i$æ”¾å…¥èƒŒåŒ…æ—¶ï¼Œ$x_i$ä¸º$1$ï¼Œå¦åˆ™ä¸º$0$ã€‚\næ»¡è¶³çº¦æŸæ¡ä»¶çš„ä»»ä¸€é›†åˆï¼ˆ$x_1, x_2, \\cdots, x_n$ï¼‰æ˜¯é—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£ï¼Œé—®é¢˜çš„ç›®æ ‡æ˜¯æ±‚é—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ã€‚\nä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ æ ¹æ®åŠ¨æ€è§„åˆ’çš„4ä¸ªæ­¥éª¤æ±‚è§£è¯¥é—®é¢˜ï¼š\nåˆ»ç”» 0-1 èƒŒåŒ…é—®é¢˜çš„æœ€ä¼˜è§£çš„ç»“æ„ï¼š\næœ‰ä¸¤ç§æƒ…å†µï¼š\n$x_n = 1$ï¼šå³é—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«äº†ç‰©å“$n$ï¼Œé‚£ä¹ˆå…¶ä½™$x_1, x_2, \\cdots, x_{n-1}$ä¸€å®šæ„æˆå­é—®é¢˜ï¼šç‰©å“$1, 2, \\cdots, n-1$åœ¨å®¹é‡ä¸º$W-w_n$æ—¶çš„æœ€ä¼˜è§£ã€‚ $x_n = 0$ï¼šå³æœ€ä¼˜è§£ä¸åŒ…å«ç‰©å“$n$ï¼Œé‚£ä¹ˆå…¶ä½™$x_1, x_2, \\cdots, x_{n-1}$ä¸€å®šæ„æˆå­é—®é¢˜ï¼šç‰©å“$1, 2, \\cdots, n-1$åœ¨å®¹é‡ä¸º$W$æ—¶çš„æœ€ä¼˜è§£ã€‚ é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ï¼š\nè®¾$c[i, w]$ï¼Œè¡¨ç¤ºèƒŒåŒ…å¯å®¹çº³é‡é‡ä¸º$w$æ—¶ï¼Œç¬¬$i$ä¸ªç‰©å“å¯¼è‡´çš„æœ€ä¼˜è§£çš„æ€»ä»·å€¼ï¼š\n$$ c[i, w] = \\begin{aligned} 0, \u0026amp; i = 0 æˆ– w = 0 \\\\ c[i-1, w], \u0026amp; w_i \u0026gt; w \\\\ max\\{ c[i-1, w-w_i] + c[i-1, w] \\}, \u0026amp; i \u0026gt; 0 ä¸” w_i \\le w \\end{aligned} $$\nè®¡ç®—èƒŒåŒ…é—®é¢˜æœ€ä¼˜è§£çš„å€¼ã€‚\næ ¹æ®è®¡ç®—çš„ç»“æœæ„é€ é—®é¢˜æœ€ä¼˜è§£ã€‚\nä½¿ç”¨å›æº¯æ³•æ±‚è§£ ä»¥$n=3, W=30$çš„0-1èƒŒåŒ…é—®é¢˜ä¸ºä¾‹ï¼Œç‰©å“çš„ä»·å€¼å’Œé‡é‡å¦‚ä¸‹ï¼š\nç‰©å“$i$ 1 2 3 ä»·å€¼$v_i$ 16 15 15 é‡é‡$w_i$ 45 25 25 å®šä¹‰é—®é¢˜çš„è§£ç©ºé—´ï¼š\nå…¶ä¸­$X(i)$å³ä¸º$x_i$ã€‚\nå®šä¹‰é™ç•Œå‡½æ•°ï¼š\nè€ƒè™‘è´ªå¿ƒç­–ç•¥ï¼Œå…ˆå¯¹æ‰€æœ‰ç‰©å“æŒ‰å…¶å•ä½é‡é‡ä»·å€¼ä»å¤§åˆ°å°æ’åºã€‚å¯¹æœç´¢ç©ºé—´æ ‘ä¸­çš„æŸä¸ªç»“ç‚¹ï¼Œæœ‰ç¡®å®šçš„$X(i)$ï¼ˆ$1 \\le i \\le k$ï¼‰ï¼Œè€Œå…¶ä»–çš„$X(i)$ï¼ˆ$k + 1 \\le i \\le n$ï¼‰å¾…å®šã€‚\næ­¤æ—¶å¯ä»¥å°†0-1èƒŒåŒ…é—®é¢˜æ¾å¼›ä¸ºèƒŒåŒ…é—®é¢˜ï¼Œæ±‚ä»å½“å‰ç»“ç‚¹æ‰©å±•ä¸‹å»ï¼Œè®¡ç®—èƒ½è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚è‹¥è¯¥ä»·å€¼æ¯”å½“å‰å·²ç»å¾—åˆ°çš„æŸä¸ªå¯è¡Œè§£çš„å€¼è¦å°ï¼Œåˆ™è¯¥ç»“ç‚¹ä¸å¿…å†æ‰©å±•ã€‚\nä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼æœç´¢è§£ç©ºé—´ï¼š\nå¼€å§‹æ—¶æ ¹ç»“ç‚¹æ˜¯å”¯ä¸€çš„æ´»ç»“ç‚¹ï¼Œä¹Ÿæ˜¯å½“å‰çš„æ‰©å±•ç»“ç‚¹ã€‚åœ¨æ‰©å±•ç»“ç‚¹å¤„ï¼ŒæŒ‰ç…§æ·±åº¦ä¼˜å…ˆç­–ç•¥ç§»è‡³ç»“ç‚¹$B$æˆ–$C$ã€‚\nå‡è®¾å…ˆç§»è‡³$B$ï¼Œæ­¤æ—¶$A$å’Œ$B$å‡æ˜¯æ´»ç»“ç‚¹ï¼Œç»“ç‚¹$B$æˆä¸ºå½“å‰æ‰©å±•ç»“ç‚¹ã€‚\nå½“å‰$X(1) = 1$è¡¨ç¤ºé€‰æ‹©äº†ç‰©å“$1$ï¼Œå½“å‰èƒŒåŒ…å‰©ä½™å®¹é‡$w = 14$ï¼Œè·å–çš„ä»·å€¼æ˜¯$v=45$ã€‚\nä»å½“å‰æ‰©å±•ç»“ç‚¹$B$å¯ä»¥ç§»è‡³$D$æˆ–$E$ã€‚\nç”±äº$w_2=15$ï¼Œç§»è‡³$D$ä¸æ˜¯ä¸€ä¸ªå¯è¡Œè§£ï¼Œæ‰€ä»¥é€‰æ‹©ç§»è‡³$E$ã€‚\næ­¤æ—¶$E$æˆä¸ºæ–°æ‰©å±•ç»“ç‚¹ï¼Œ$A$ã€$B$å’Œ$E$æ˜¯å½“å‰çš„æ´»ç»“ç‚¹ï¼Œå½“å‰çš„$w$å’Œ$v$ä¸å˜ã€‚\nä»$E$å¯ä»¥ç§»è‡³$J$æˆ–$K$ã€‚\nç§»è‡³$J$å¯¼è‡´ä¸€ä¸ªä¸å¯è¡Œè§£ï¼Œæ‰€ä»¥ç§»è‡³$K$ï¼Œ$K$æˆä¸ºæ–°æ‰©å±•ç»“ç‚¹ã€‚\n$K$æ˜¯å¶ç»“ç‚¹ï¼Œæ•…å¾—åˆ°ä¸€ä¸ªå¯è¡Œè§£ã€‚è§£$x$çš„å–å€¼æ˜¯ç”±æ ¹åˆ°å¶ç»“ç‚¹$K$çš„è·¯å¾„å”¯ä¸€ç¡®å®šçš„ï¼Œå³$x = (1, 0, 0)$ï¼Œå¯¹åº”$v = 45$ã€‚\nç”±äº$K$å·²ä¸èƒ½åœ¨å‘çºµæ·±æ‰©å±•ï¼Œæ‰€ä»¥$K$æˆä¸ºæ­»ç»“ç‚¹ã€‚è¿”å›åˆ°ä¸Šä¸€ä¸ªæ´»ç»“ç‚¹$E$ï¼Œæ­¤æ—¶$E$ä¹Ÿæ²¡æœ‰å¯æ‰©å±•çš„ç»“ç‚¹ï¼Œå®ƒä¹Ÿæˆä¸ºä¸€ä¸ªæ­»ç»“ç‚¹ã€‚$B$æ­¤æ—¶ä¹Ÿæ˜¯æ­»ç»“ç‚¹ï¼Œæœ€åå›åˆ°$A$ã€‚\n$A$è¿˜å¯æ‰©å±•ï¼ŒæŒ‰ç…§ç±»ä¼¼ä¸Šè¿°æ­¥éª¤ç»§ç»­æœç´¢ã€‚æœç´¢ç»“æŸåæ‰¾åˆ°çš„æœ€å¥½è§£å°±æ˜¯0-1èƒŒåŒ…é—®é¢˜çš„æœ€ä¼˜è§£ã€‚\nèƒŒåŒ…é—®é¢˜ æœ‰$n$ä¸ªç‰©å“ï¼Œç¬¬$i$ä¸ªç‰©å“ä»·å€¼ä¸º$v_i$ï¼Œé‡é‡ä¸º$w_i$ï¼ŒèƒŒåŒ…å®¹é‡ä¸º$W$ï¼Œ$v_i$ã€$w_i$å’Œ$W$å‡ä¸ºéè´Ÿæ•°ã€‚èƒŒåŒ…é—®é¢˜ä¸0-1èƒŒåŒ…é—®é¢˜ç±»ä¼¼ï¼Œä½†æ˜¯æ¯ä¸ªç‰©å“å¯ä»¥éƒ¨åˆ†è£…å…¥èƒŒåŒ…ï¼Œå³$0 \\le x_i \\le 1$ã€‚\nå‡è®¾$n = 5, W = 100$ï¼Œå„ç‰©å“çš„é‡é‡ã€ä»·å€¼å’Œå•ä½é‡é‡çš„ä»·å€¼å¦‚å›¾ï¼š\nä¸ºäº†å¾—åˆ°æœ€ä¼˜è§£ï¼Œå¿…é¡»æŠŠèƒŒåŒ…æ”¾æ»¡ã€‚ç”¨è´ªå¿ƒæ³•æ±‚è§£ï¼Œæœ‰3ç§æ–¹å¼ï¼š\næŒ‰æœ€å¤§ä»·å€¼ä¼˜å…ˆæ”¾å…¥èƒŒåŒ…çš„åŸåˆ™ï¼š\nå…ˆæ”¾ç‰©å“$1$å’Œ$4$ï¼Œè·å¾—ä»·å€¼$65+60=125$ï¼ŒèƒŒåŒ…å®¹é‡å‰©$100-30-50=20$ã€‚ æ­¤æ—¶ç‰©å“$5$ä»·å€¼æœ€å¤§ï¼Œä½†ä¸èƒ½å…¨éƒ¨æ”¾å…¥èƒŒåŒ…ã€‚è€Œå°†ç‰©å“$2$å’Œ$3$æ”¾å…¥èƒŒåŒ…æ¯”æŠŠç‰©å“$5$çš„ä¸€åŠæ”¾å…¥èƒŒåŒ…çš„ä»·å€¼å¤§ã€‚ æŠŠç‰©å“$2$æ”¾å…¥èƒŒåŒ…ï¼Œç›®å‰è·å¾—ä»·å€¼å…±$125+20=145$ï¼Œå‰©ä½™å®¹é‡$20-10=10$ã€‚ æ­¤æ—¶å¯å†æ”¾å…¥ç‰©å“$3$çš„$\\cfrac{1}{3}$ï¼Œå¾—åˆ°æ€»ä»·å€¼$145 + 1.5 \\times 10 = 160$ã€‚ å¯¹åº”çš„è§£ä¸º$\\left\\{1,\\ 1,\\ \\cfrac{1}{3},\\ 1,\\ 0 \\right\\}$ã€‚\næŒ‰æœ€å°é‡é‡ä¼˜å…ˆæ”¾å…¥èƒŒåŒ…çš„åŸåˆ™ï¼šå°†ç‰©å“$2$ã€$3$ã€$1$å’Œ$5$æ”¾å…¥èƒŒåŒ…ï¼Œåˆšå¥½è£…æ»¡ï¼Œå¾—åˆ°ä»·å€¼$20+30+60+40=155$ï¼Œå¯¹åº”çš„è§£ä¸º$\\{ 1, 1, 1, 0, 1 \\}$ã€‚\næŒ‰æœ€å¤§å•ä½é‡é‡ä»·å€¼ä¼˜å…ˆæ”¾å…¥èƒŒåŒ…çš„åŸåˆ™ï¼š\nå°†ç‰©å“$1$ã€$2$å’Œ$3$æ”¾å…¥èƒŒåŒ…ï¼Œå¾—åˆ°ä»·å€¼$65+20+30=115$ï¼Œå‰©ä½™å®¹é‡$100-30-10-20=40$ã€‚ è¿˜å¯å°†ç‰©å“$4$çš„$\\cfrac{4}{5}$æ”¾å…¥èƒŒåŒ…ï¼Œå¾—åˆ°æ€»ä»·å€¼$115 + \\cfrac{4}{5} \\times 60 = 163$ã€‚ å¯¹åº”çš„è§£ä¸º$\\left\\{ 1,\\ 1,\\ 1,\\ \\cfrac{4}{5},\\ 0 \\right\\}$\næœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰ éå½¢å¼åŒ–åœ°è®²ï¼Œå­åºåˆ—å¯ä»¥æ˜¯ä»ç»™å®šåºåˆ—ä¸­éšæ„åœ°ï¼ˆä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼‰å»æ‰è‹¥å¹²å…ƒç´ ï¼ˆå¯èƒ½ä¸€ä¸ªä¹Ÿä¸å»æ‰ï¼‰åæ‰€å½¢æˆçš„åºåˆ—ã€‚ä»¤åºåˆ—$X = x_1x_2\\cdots x_m$ï¼Œåºåˆ—$Y=y_1y_2\\cdots y_k$æ˜¯$X$çš„å­åºåˆ—ï¼Œå­˜åœ¨$X$çš„ä¸€ä¸ªä¸¥æ ¼é€’å¢ä¸‹æ ‡åºåˆ—$\u0026lt;i_1, i_2, \\cdots, i_k\u0026gt;ï¼Œä½¿å¾—å¯¹äºæ‰€æœ‰çš„$j=1, 2, \\cdots, k$æœ‰$x_{i_j}=y_j$ã€‚\nå…¬å…±å­åºåˆ—ï¼šç»™å®šä¸¤ä¸ªåºåˆ—$X$å’Œ$Y$ï¼Œåºåˆ—$Z$åŒæ—¶æ˜¯$X$å’Œ$Y$çš„å­åºåˆ—ï¼Œè¿™ä¸ªåºåˆ—$Z$å³ä¸º$X$å’Œ$Y$çš„å…¬å…±å­åºåˆ—ã€‚\næœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜å®šä¹‰ä¸ºï¼šç»™å®šåºåˆ—$X=x_1x2 \\cdots x_m$å’Œåºåˆ—$Y=y_1y2 \\cdots y_n$ï¼Œæ±‚è¿™ä¸¤ä¸ªåºåˆ—çš„æœ€é•¿å…¬å…±å­åºåˆ—ã€‚\nåŠ¨æ€è§„åˆ’æ³•æ±‚è§£æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ï¼š\nåˆ»ç”»æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜çš„æœ€ä¼˜å­ç»“æ„ï¼š\nLCSæœ€ä¼˜å­ç»“æ„å®šç†ï¼š\n$x_m = y_n$ï¼š$z_k = x_m = y_n$ï¼Œä¸”$Z_{k-1}$æ˜¯$X_{m-1}$å’Œ$Y_{n-1}$çš„ä¸€ä¸ªæœ€é•¿å…¬å…±å­åºåˆ—ã€‚ $x_m \\neq y_n$ï¼š $z_k \\neq x_m$ï¼šè•´å«$Z$æ˜¯$X_{m-1}$å’Œ$Y$çš„ä¸€ä¸ªæœ€é•¿å…¬å…±å­åºåˆ—ï¼› $z_k \\neq y_n$ï¼šè•´å«$Z$æ˜¯$X$å’Œ$Y_{n-1}$çš„ä¸€ä¸ªæœ€é•¿å…¬å…±å­åºåˆ—ã€‚ é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ï¼š\nè®¾$l[i, j]$è¡¨ç¤ºåºåˆ—$X_i$å’Œ$Y_j$çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼š\n$$ l[i, j] = \\begin{aligned} 0, \u0026amp; i=0 æˆ– j=0 \\\\ l[i-1, j-1], \u0026amp; i,j \u0026gt; 0 ä¸” x_i = y_j \\\\ max(l[i-1, j], l[i, j-1]), \u0026amp; i,j \u0026gt; 0 ä¸” x_i \\neq y_j \\end{aligned} $$\nè®¡ç®—æœ€ä¼˜è§£çš„å€¼ï¼š\næ ¹æ®ä¸Šè¿°é€’å½’å¼è‡ªåº•å‘ä¸Šåœ°æ±‚å‡ºæœ€ä¼˜è§£çš„å€¼ã€‚å°†$l[i, j]$çš„å€¼å­˜å‚¨åœ¨è¡¨$l[1 \\dots m, 1 \\dots n]$ä¸­ï¼Œä»¥è¡Œä¸ºä¸»åºä»å·¦åˆ°å³è®¡ç®—è¡¨$l$ä¸­çš„å…ƒç´ ï¼ŒåŒæ—¶ç»´æŒè¡¨$b[1 \\dots m, 1 \\dots n]$ï¼Œç”¨å…¶ä¸­çš„å…ƒç´ $b[i, j]$è®°å½•ä½¿å¾—$l[i, j]$å–æœ€ä¼˜å€¼çš„æœ€ä¼˜å­ç»“æ„ã€‚\nä¾‹å¦‚$X=ABCBDAD$å’Œ$Y=BDCABA$ï¼Œå¯¹åº”çš„è¡¨$l$å’Œ$b$å¦‚å›¾ï¼š\næ„é€ æœ€ä¼˜è§£ï¼š\nç”¨è¡¨$b$ä¸­çš„ä¿¡æ¯æ„é€ $X$å’Œ$Y$çš„ä¸€ä¸ªLCSã€‚ä»$b[m, n]$å¼€å§‹ï¼Œåœ¨è¡¨ä¸­æ²¿ç€ç®­å¤´æ–¹å‘è·Ÿè¸ªï¼Œ$b[i, j]$çš„å€¼å’Œå«ä¹‰å¦‚ä¸‹ï¼š\n$â€œ\\nwarrowâ€$ï¼šè¡¨ç¤º$x_i = y_j$ä¸ºLCSä¸­çš„å…ƒç´ ï¼Œæ¥ä¸‹æ¥è¦åˆ¤æ–­ï¼ˆè·Ÿè¸ªï¼‰$b[i-1, j-1]$ã€‚ $â€œ\\uparrowâ€$ï¼šè¡¨ç¤º$x_i \\neq y_j$ï¼Œæ­¤æ—¶éœ€è¦åˆ¤æ–­ï¼ˆè·Ÿè¸ªï¼‰$b[i-1, j]$ã€‚ $â€œ\\leftarrowâ€$ï¼šè¡¨ç¤º$x_i \\neq y_j$ï¼Œæ­¤æ—¶éœ€è¦åˆ¤æ–­ï¼ˆè·Ÿè¸ªï¼‰$b[i, j-1]$ã€‚ æ´»åŠ¨é€‰æ‹©é—®é¢˜ æ´»åŠ¨é€‰æ‹©é—®é¢˜æ˜¯æŒ‡è‹¥å¹²ä¸ªå…·æœ‰ç«äº‰æ€§çš„æ´»åŠ¨ï¼Œè¦æ±‚äº’æ–¥ä½¿ç”¨æŸä¸€å…¬å…±èµ„æºæ—¶ï¼Œå¦‚ä½•é€‰æ‹©æœ€å¤§çš„ç›¸å®¹æ´»åŠ¨é›†åˆã€‚\nå‡è®¾æœ‰ä¸€ä¸ªéœ€è¦ä½¿ç”¨æŸä¸€èµ„æºçš„$n$ä¸ªæ´»åŠ¨ç»„æˆçš„é›†åˆ$S=\\{a_1, a_2, \\cdots, a_n\\}$ï¼Œè¯¥èµ„æºä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªèµ„æºå ç”¨ã€‚\næ´»åŠ¨$a_i$æœ‰ä¸€ä¸ªå¼€å§‹æ—¶é—´$s_i$å’Œç»“æŸæ—¶é—´$f_i$ï¼Œä¸”$0 \\le s_i \\le f_i \u0026lt; \\infin$ã€‚ ä¸€æ—¦è¢«é€‰æ‹©åï¼Œæ´»åŠ¨$a_i$å°±å æ®åŠå¼€æ—¶é—´åŒºé—´$[s_i, f_i)$ã€‚ å¦‚æœä¸¤ä¸ªæ´»åŠ¨$a_i$å’Œ$a_j$çš„æ—¶é—´åŒºé—´äº’ä¸é‡å ï¼Œåˆ™ç§°æ´»åŠ¨$a_i$å’Œ$a_j$æ˜¯å…¼å®¹çš„ã€‚ æ´»åŠ¨é€‰æ‹©é—®é¢˜å°±æ˜¯è¦é€‰æ‹©å‡ºä¸€ä¸ªç”±äº’ç›¸å…¼å®¹çš„æ´»åŠ¨ç»„æˆçš„æœ€å¤§å­é›†åˆã€‚\nè¯¥é—®é¢˜å¯ç”¨åŠ¨æ€è§„åˆ’æ³•å’Œè´ªå¿ƒæ³•æ±‚è§£ã€‚\nä½¿ç”¨è´ªå¿ƒæ³•æ±‚è§£ï¼š\nå®šä¹‰é›†åˆ$S_{ij} = \\{a_k \\in S: f_i \\le s_k \u0026lt; f_k \\le s_j \\}$ã€‚ä¸ºäº†å®Œæ•´è¡¨ç¤ºï¼ŒåŠ å…¥ä¸¤ä¸ªè™šæ‹Ÿæ´»åŠ¨$a_0$å’Œ$a_{n+1}$ï¼Œå…¶ä¸­$f_0=0,s_{n+1} = \\infin$ï¼Œåˆ™$S = S_{0, n+1}$ã€‚\nå®šç†ï¼š\nå¯¹äºä»»æ„éç©ºå­é—®é¢˜$S_{ij}$ï¼Œè®¾$a_m$æ˜¯$S_{ij}$ä¸­å…·æœ‰æœ€æ—©ç»“æŸæ—¶é—´çš„æ´»åŠ¨ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§æƒ…å†µï¼š\n$a_m$åœ¨$S_{ij}$çš„æŸä¸ªæœ€å¤§å…¼å®¹æ´»åŠ¨å­é›†ä¸­ã€‚ å­é—®é¢˜$S_{im}$ä¸ºç©ºï¼Œé€‰æ‹©$a_m$å°†ä½¿$S_{mj}$ä¸ºå”¯ä¸€å¯èƒ½éç©ºçš„å­é—®é¢˜ã€‚ n çš‡åé—®é¢˜ $n$çš‡åé—®é¢˜è¦æ±‚åœ¨$n \\times n$æ ¼çš„æ£‹ç›˜ä¸Šæ”¾ç½®$n$ä¸ªçš‡åï¼Œä½¿å¾—å®ƒä»¬å½¼æ­¤ä¸å—æ”»å‡»ã€‚æŒ‰ç…§è§„åˆ™ï¼Œçš‡åå¯ä»¥æ”»å‡»ä¸ä¹‹å¤„åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šçš„å…¶ä»–ä»»ä½•æ£‹å­ã€‚$n$çš‡åé—®é¢˜ç­‰ä»·äºè¦æ±‚åœ¨ä¸€ä¸ª$n \\times n$æ£‹ç›˜ä¸Šæ”¾ç½®$n$ä¸ªçš‡åï¼Œä½¿å¾—ä»»ä½•ä¸¤ä¸ªçš‡åä¸èƒ½è¢«æ”¾åœ¨åŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šã€‚\næ±‚è§£è¿‡ç¨‹ä»ç©ºæ£‹ç›˜å¼€å§‹ï¼Œè®¾åœ¨ç¬¬$1$è¡Œè‡³ç¬¬$m$è¡Œéƒ½å·±ç»æ­£ç¡®åœ°æ”¾ç½®äº†$m$ä¸ªçš‡åï¼š\nåœ¨ç¬¬$m+1$è¡Œä¸Šï¼Œä»ç¬¬1$åˆ—å¼€å§‹æ‰¾é€‚åˆæ”¾ç½®çš‡åçš„ä½ç½®ï¼Œå…±æœ‰$n$ä¸ªå¯é€‰ä½ç½®ã€‚å½“ä¸€ä¸ªä½ç½®ä¸åˆé€‚æ—¶å°±é¡ºåºé€‰æ‹©ä¸‹ä¸€åˆ—çš„ä½ç½®è¿›è¡Œåˆ¤æ–­ã€‚\nä¸€ä¸ªä½ç½®ä¸Šå…±æœ‰ä»¥ä¸‹å‡ ç§æƒ…å½¢ï¼š\nå½“å‰ä½ç½®çš„æ‰€åœ¨åˆ—ä¸Šï¼Œå·²ç»æœ‰ä¸€ä¸ªçš‡åå­˜åœ¨ï¼Œè¯¥ä½ç½®ä¸åˆé€‚ã€‚ å½“å‰ä½ç½®æ‰€åœ¨çš„æ–œçº¿ä¸Šï¼Œå·²ç»æœ‰ä¸€ä¸ªçš‡åå­˜åœ¨ï¼Œè¯¥ä½ç½®ä¸åˆé€‚ã€‚ å½“å‰ä½ç½®æ‰€åœ¨çš„åˆ—å’Œæ–œçº¿ä¸Šï¼Œå‡æ— çš‡åå­˜åœ¨ï¼Œè¯¥ä½ç½®åˆé€‚ã€‚ æ¥ç€å¾€ä¸‹ä¸€è¡Œï¼Œå¯»æ‰¾ä¸‹ä¸€è¡Œä¸­é€‚åˆæ”¾çš‡åçš„ä½ç½®ï¼Œç„¶åå†ç»§ç»­å¾€ä¸‹æ‰¾ã€‚\næ­¤æ—¶æœ‰ä»¥ä¸‹å‡ ç§æƒ…å½¢ï¼š\nä¸€ç›´å¯»æ‰¾åˆ°ç¬¬$n$è¡Œï¼Œæ¯ä¸€è¡Œä¸Šéƒ½æœ‰é€‚åˆæ”¾çš‡åçš„ä½ç½®ã€‚æ­¤æ—¶ä¸ºä¸€ä¸ªå¯è¡Œè§£ã€‚\nå¦‚æœç¬¬$n$è¡Œè¿˜æœ‰å‰©ä½™çš„ä½ç½®ï¼Œé‚£ä¹ˆä¾¿ç»§ç»­åˆ¤æ–­è¿™äº›ä½ç½®ï¼Œä»¥å¸Œæœ›å†è·å¾—ä¸€ä¸ªå¯è¡Œè§£ï¼›å¦åˆ™è¿›è¡Œå›æº¯ï¼ŒæŒ‰æ­¥éª¤1çš„æ–¹å¼æ”¹å˜ä¸Šä¸€è¡Œçš„ä½ç½®ã€‚\nå¾€ä¸‹æœå¯»ï¼Œåœ¨ä¸­é€”å‘ç°æŸä¸€è¡Œä¸Šçš„æ‰€æœ‰ä½ç½®éƒ½ä¸èƒ½æ”¾ç½®çš‡åï¼Œæ­¤æ—¶ä¹Ÿè¦è¿›è¡Œå›æº¯ï¼Œå›åˆ°ä¸Šä¸€è¡ŒæŒ‰æ­¥éª¤1çš„æ–¹å¼æ”¹å˜ä½ç½®ã€‚\nç”¨å›æº¯æ³•æ±‚è§£4-çš‡åé—®é¢˜ï¼š\næŸ¥æ‰¾ç®—æ³• æŸ¥æ‰¾æ˜¯ä¸€ç§å¸¸ç”¨çš„åŸºæœ¬è¿ç®—ã€‚æŸ¥æ‰¾è¡¨æ˜¯æŒ‡ç”±åŒä¸€ç±»å‹çš„æ•°æ®å…ƒç´ ï¼ˆæˆ–è®°å½•ï¼‰æ„æˆçš„é›†åˆã€‚\næŸ¥æ‰¾è¡¨ç»å¸¸è¦è¿›è¡Œçš„æ“ä½œï¼š\næŸ¥è¯¢æŸä¸ªç‰¹å®šçš„æ•°æ®å…ƒç´ æ˜¯å¦åœ¨æŸ¥æ‰¾è¡¨ä¸­ã€‚ æ£€ç´¢æŸä¸ªç‰¹å®šçš„æ•°æ®å…ƒç´ çš„å„ç§å±æ€§ã€‚ é€šå¸¸å°†åªè¿›è¡Œè¿™ä¸¤ç§æ“ä½œçš„æŸ¥æ‰¾è¡¨ç§°ä¸ºé™æ€æŸ¥æ‰¾è¡¨ã€‚\næŸ¥æ‰¾è¡¨ç»å¸¸è¦è¿›è¡Œçš„å¦å¤–ä¸¤ç§æ“ä½œï¼š\nåœ¨æŸ¥æ‰¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ•°æ®å…ƒç´ ã€‚ ä»æŸ¥æ‰¾è¡¨ä¸­åˆ é™¤ä¸€ä¸ªæ•°æ®å…ƒç´ ã€‚ éœ€è¦åœ¨æŸ¥æ‰¾è¡¨ä¸­æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œç§°æ­¤ç±»æŸ¥æ‰¾è¡¨ä¸ºåŠ¨æ€æŸ¥æ‰¾è¡¨ã€‚\nå…³é”®å­—æ˜¯æ•°æ®å…ƒç´ ï¼ˆæˆ–è®°å½•ï¼‰çš„æŸä¸ªæ•°æ®é¡¹çš„å€¼ï¼Œç”¨å®ƒæ¥è¯†åˆ«ï¼ˆæ ‡è¯†ï¼‰è¿™ä¸ªæ•°æ®å…ƒç´ ã€‚\nä¸»å…³é”®å­—ï¼šèƒ½å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ•°æ®å…ƒç´ çš„å…³é”®å­—ã€‚ æ¬¡å…³é”®å­—ï¼šèƒ½æ ‡è¯†å¤šä¸ªæ•°æ®å…ƒç´ çš„å…³é”®å­—ã€‚ å¹³å‡æŸ¥æ‰¾é•¿åº¦ æŸ¥æ‰¾ç®—æ³•åŸºæœ¬æ“ä½œæ˜¯â€œå°†è®°å½•çš„å…³é”®å­—ä¸ç»™å®šå€¼è¿›è¡Œæ¯”è¾ƒâ€ã€‚å› æ­¤ï¼Œé€šå¸¸ä»¥â€œå…¶å…³é”®å­—å’Œç»™å®šå€¼è¿›è¡Œè¿‡æ¯”è¾ƒçš„è®°å½•ä¸ªæ•°çš„æœŸæœ›å€¼â€ä½œä¸ºè¡¡é‡æŸ¥æ‰¾ç®—æ³•å¥½åçš„ä¾æ®ã€‚\næŸ¥æ‰¾ç®—æ³•åœ¨æŸ¥æ‰¾æˆåŠŸæ—¶çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦å…³é”®å­—å’Œç»™å®šå€¼æ¯”è¾ƒæ¬¡æ•°çš„æœŸæœ›å€¼ï¼š\n$$ ASL = \\sum_{i=1}^{n}{P_iC_i} $$\n$P_i$ä¸ºå¯¹è¡¨ä¸­ç¬¬$i$ä¸ªè®°å½•è¿›è¡ŒæŸ¥æ‰¾çš„æ¦‚ç‡ï¼Œ\nä¸€èˆ¬è®¤ä¸º$P_i=\\cfrac{1}{n}, 1 \\le i \\le n$ï¼Œå³$\\sum_{i=1}^{n}{P_i}$ï¼›\n$C_i$ä¸ºæŸ¥æ‰¾æˆåŠŸæ—¶ï¼Œå·²ç»è¿›è¡Œè¿‡æ¯”è¾ƒçš„å…³é”®å­—ä¸ªæ•°ã€‚\næŸ¥æ‰¾ç®—æ³• é™æ€æŸ¥æ‰¾è¡¨æœ‰ä»¥ä¸‹æŸ¥æ‰¾æ–¹æ³•ï¼š\né¡ºåºæŸ¥æ‰¾ï¼› æŠ˜åŠæŸ¥æ‰¾ï¼› åˆ†å—æŸ¥æ‰¾ã€‚ åŠ¨æ€æŸ¥æ‰¾è¡¨æœ‰ä»¥ä¸‹æŸ¥æ‰¾æ–¹æ³•ï¼š\näºŒå‰æ’åºæ ‘ï¼› å¹³è¡¡æ’åºæ ‘ï¼› B-æ ‘ï¼› å“ˆå¸Œè¡¨ã€‚ é¡ºåºæŸ¥æ‰¾ é¡ºåºæŸ¥æ‰¾æ˜¯ä»è¡¨çš„ä¸€ç«¯å¼€å§‹ï¼ŒæŒ‰ç…§é¡ºåºï¼ˆä»å·¦å¾€å³æˆ–ä»å³å¾€å·¦ï¼‰é€ä¸€è¿›è¡ŒæŸ¥æ‰¾ã€‚é¡ºåºæŸ¥æ‰¾çš„æ–¹æ³•å¯¹äºé¡ºåºå­˜å‚¨æ–¹å¼å’Œé“¾å¼å­˜å‚¨æ–¹å¼çš„æŸ¥æ‰¾è¡¨éƒ½é€‚ç”¨ã€‚\né¡ºåºæŸ¥æ‰¾ä¸­ï¼Œ$C_i$å–å†³äºæ‰€æŸ¥è®°å½•åœ¨è¡¨ä¸­çš„ä½ç½®ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ$C_i = n - i + 1$ï¼Œåœ¨ç­‰æ¦‚ç‡ä¸‹ï¼Œé¡ºåºæŸ¥æ‰¾çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦ä¸ºï¼š\n$$ ASL_{ss} = \\cfrac{1}{n} \\sum_{i=1}^{n}{(n-i+1)} = \\cfrac{n+1}{2} $$\näºŒåˆ†æŸ¥æ‰¾ äºŒåˆ†æŸ¥æ‰¾åˆå«æŠ˜åŠæŸ¥æ‰¾ï¼Œæ˜¯åœ¨æœ‰åºåˆ—è¡¨çš„åŸºç¡€ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¯æ¬¡æŸ¥æ‰¾å¯ä»¥ç­›æ‰ä¸€åŠçš„å…ƒç´ ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š\nä»¥å‡åºæ•°åˆ—$L[0\u0026hellip;n-1]$ä¸ºä¾‹ï¼Œå‡è®¾è¦æŸ¥æ‰¾çš„æ•°ä¸º$x$ï¼š\nè®©$x$ä¸æ•°åˆ—ä¸­é—´ä½ç½®çš„å…ƒç´ $L\\left[ \\left\\lfloor \\cfrac{n}{2} \\right\\rfloor \\right]$è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™è¿”å›è¯¥å…ƒç´ ä¸‹æ ‡ï¼Œå¦åˆ™ï¼š\nå¦‚æœ$x$æ¯”ä¸­é—´å…ƒç´ å°ï¼Œé€’å½’åœ°å¯¹ä¸­é—´å…ƒç´ å·¦è¾¹çš„æ•°åˆ—ï¼ˆæ¯”$x$å°çš„å…ƒç´ ï¼‰è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼› å¦‚æœ$x$æ¯”ä¸­é—´å…ƒç´ å¤§ï¼Œé€’å½’åœ°å¯¹ä¸­é—´å…ƒç´ å³è¾¹çš„æ•°åˆ—ï¼ˆæ¯”$x$å¤§çš„å…ƒç´ ï¼‰è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚ æŠ˜åŠæŸ¥æ‰¾çš„è¿‡ç¨‹å¯ç”¨äºŒå‰æ ‘æè¿°ã€‚$n$ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘æ·±åº¦ä¸º$\\lfloor log_2{n} \\rfloor + 1$ï¼ŒæŠ˜åŠæŸ¥æ‰¾è¿›è¡Œæ¯”è¾ƒçš„å…³é”®å­—ä¸ªæ•°æœ€å¤šä¸è¶…è¿‡æ ‘çš„æ·±åº¦ã€‚æ‰€ä»¥ï¼ŒæŠ˜åŠæŸ¥æ‰¾åœ¨æŸ¥æ‰¾æˆåŠŸæ—¶å’Œç»™å®šå€¼è¿›è¡Œæ¯”è¾ƒçš„å…³é”®å­—ä¸ªæ•°æœ€å¤šä¸º$\\lfloor log_2{n} \\rfloor + 1$ã€‚\næŠ˜åŠæŸ¥æ‰¾çš„å¹³å‡æŸ¥æ‰¾é•¿åº¦ï¼ˆå‡è®¾ç»“ç‚¹æ€»æ•°ä¸º$n=2^h-1$ï¼Œå³æŠ˜åŠæŸ¥æ‰¾æ ‘ä¸ºæ·±åº¦$h=log_2(n+1)$çš„æ»¡äºŒå‰æ ‘ï¼‰ï¼š\n$$ ASL_{bs} = \\cfrac{1}{n} \\sum_{i=1}^{n}{i \\times 2^{i-1}} = \\cfrac{n+1}{n} log_2{(n+1)} - 1 $$\nå½“$n$å€¼è¾ƒå¤§æ—¶ï¼Œ$ASL_{bs} \\approx log_2{(n+1)} - 1$ã€‚\nå“ˆå¸Œè¡¨ å“ˆå¸Œè¡¨æŸ¥æ‰¾ï¼ˆåˆå«æ•£åˆ—è¡¨æŸ¥æ‰¾ï¼‰æ˜¯é€šè¿‡æ•£åˆ—æŠ€æœ¯ï¼Œå°†å­˜å‚¨ä½ç½®å’Œå…³é”®å­—æ„å»ºä¸€ä¸ªç¡®å®šçš„å…³ç³»$H$ï¼Œä½¿å¾—æ¯ä¸ªå…³é”®å­—$key$å¯¹åº”ä¸€ä¸ªå­˜å‚¨ä½ç½®$H(key)$ã€‚å…¶ä¸­ï¼Œ$H$ç§°ä¸ºå“ˆå¸Œå‡½æ•°æˆ–è€…æ•£åˆ—å‡½æ•°ã€‚\næ ¹æ®è®¾å®šçš„å“ˆå¸Œå‡½æ•°$H(key)$å’Œå¤„ç†å†²çªçš„æ–¹æ³•ï¼Œå°†ä¸€ç»„å…³é”®å­—æ˜ å°„åˆ°ä¸€ä¸ªæœ‰é™çš„è¿ç»­çš„åœ°å€é›†ï¼ˆåŒºé—´ï¼‰ä¸Šï¼Œå¹¶ä»¥å…³é”®å­—åœ¨åœ°å€é›†ä¸­çš„â€œåƒâ€ä½œä¸ºè®°å½•åœ¨è¡¨ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œè¿™å—è¿ç»­çš„ç©ºé—´ç§°ä¸ºå“ˆå¸Œè¡¨æˆ–æ•£åˆ—è¡¨ï¼Œè¿™ä¸€æ˜ å°„è¿‡ç¨‹ç§°ä¸ºå“ˆå¸Œé€ è¡¨æˆ–æ•£åˆ—è¡¨ï¼Œæ‰€å¾—çš„å­˜å‚¨ä½ç½®ç§°ä¸ºå“ˆå¸Œåœ°å€æˆ–æ•£åˆ—åœ°å€ã€‚\nå¯¹äºå“ˆå¸Œè¡¨ï¼Œä¸»è¦è€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼š\nå¦‚ä½•æ„é€ å“ˆå¸Œå‡½æ•°ï¼› å¦‚ä½•è§£å†³å†²çªã€‚ å†²çª å¯¹äºæŸä¸ªå“ˆå¸Œå‡½æ•°$H$å’Œä¸¤ä¸ªå…³é”®å­—$key_1$å’Œ$key_2$,å¦‚æœ$key_1 \\neq key_2$ï¼Œè€Œ$H(key_1)=H(key_2)$ï¼Œåˆ™ç§°ä¸ºå†²çªã€‚\nå…·æœ‰ç›¸åŒå“ˆå¸Œå‡½æ•°å€¼çš„å…³é”®å­—å¯¹è¯¥å“ˆå¸Œå‡½æ•°æ¥è¯´ç§°ä¸ºåŒä¹‰è¯ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†²çªåªèƒ½å°½å¯èƒ½å‡å°‘è€Œä¸èƒ½å®Œå…¨é¿å…ã€‚\nå“ˆå¸Œå‡½æ•°çš„æ„é€ æ–¹æ³• å¸¸ç”¨çš„å“ˆå¸Œå‡½æ•°æ„é€ æ–¹æ³•æœ‰ï¼š\nç›´æ¥å®šå€æ³•ï¼›\næ•°å­—åˆ†ææ³•ï¼›\nå¹³æ–¹å–ä¸­æ³•ï¼›\næŠ˜å æ³•ï¼›\néšæœºæ•°æ³•ï¼›\né™¤ç•™ä½™æ•°æ³•\nâ€¦â€¦\nå“ˆå¸Œå‡½æ•°çš„æ„é€ è¦è€ƒè™‘åˆ°ï¼š\nå‹ç¼©æ€§ï¼šèŠ‚çœå­˜å‚¨ç©ºé—´ï¼›\næ•£åˆ—æ€§ï¼šå°½é‡å‡å°‘å†²çªã€‚\nè¦å‡å°‘å†²çªï¼Œå°±è¦è®¾æ³•ä½¿å“ˆå¸Œå‡½æ•°å°½å¯èƒ½å‡åŒ€åœ°æŠŠå…³é”®å­—æ˜ å°„åˆ°å­˜å‚¨åŒºçš„å„ä¸ªå­˜å‚¨å•å…ƒã€‚åœ¨æ„é€ å“ˆå¸Œå‡½æ•°æ—¶ï¼Œä¸€èˆ¬éƒ½è¦å¯¹å…³é”®å­—è¿›è¡Œè®¡ç®—ï¼Œä¸”å°½å¯èƒ½ä½¿å…³é”®å­—çš„æ‰€æœ‰ç»„æˆéƒ¨åˆ†éƒ½èƒ½èµ·ä½œç”¨ã€‚\né™¤ç•™å–ä½™æ•°æ³• é™¤ç•™å–ä½™æ•°æ³•æ˜¯æœ€å¸¸ç”¨çš„æ„é€ æ•£åˆ—å‡½æ•°æ–¹æ³•ã€‚\né™¤ç•™å–ä½™æ•°æ³•ï¼š\n$$ f(key)=key \\enspace mod \\enspace p\\quad (p\\le m),\\ mä¸ºæ•£åˆ—è¡¨é•¿ $$\n$mod$ æ˜¯å–æ¨¡è¿ç®—ã€‚\næ ¹æ®ç»éªŒï¼Œè‹¥æ•£åˆ—è¡¨è¡¨é•¿ä¸º$m$ï¼Œé€šå¸¸$p$ä¸ºå°äºæˆ–ç­‰äºè¡¨é•¿ï¼ˆæœ€å¥½æ¥è¿‘$m$ï¼‰çš„æœ€å°è´¨æ•°ï¼Œå¯ä»¥æ›´å¥½çš„å‡å°å†²çªã€‚\nå†²çªå¤„ç†æ–¹æ³• è§£å†³å†²çªå°±æ˜¯ä¸ºå‡ºç°å†²çªçš„å…³é”®å­—æ‰¾åˆ°å¦ä¸€ä¸ªâ€œç©ºâ€çš„å“ˆå¸Œåœ°å€ã€‚åœ¨å¤„ç†å†²çªçš„è¿‡ç¨‹ä¸­å¯èƒ½å¾—åˆ°ä¸€ä¸ªåœ°å€åºåˆ—$H_i,(i=1,2,\\dots,k)$ã€‚å¸¸è§çš„å¤„ç†å†²çªçš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š\nå¼€æ”¾åœ°å€æ³•ï¼› å¤šé‡æ•£åˆ—æ³•ï¼ˆå†å“ˆå¸Œæ³•ï¼‰ï¼› é“¾åœ°å€æ³•ï¼› å…¬å…±æº¢å‡ºåŒºæ³•â€¦â€¦ å¼€æ”¾åœ°å€æ³• å¼€æ”¾åœ°å€å°±æ˜¯ä¸€æ—¦å‘ç”Ÿå†²çªï¼Œå°±å»å¯»æ‰¾ä¸‹ä¸€ä¸ªç©ºçš„æ•£åˆ—åœ°å€ï¼Œåªè¦æ•£åˆ—è¡¨è¶³å¤Ÿå¤§ï¼Œç©ºçš„æ•£åˆ—åœ°å€æ€»èƒ½æ‰¾åˆ°ï¼Œå¹¶ä¸”è®°å½•å®ƒã€‚\næœ‰ä¸‰ç§å¯»æ‰¾ç©ºæ•£åˆ—åœ°å€çš„æ–¹æ³•ï¼š\nçº¿æ€§æ¢æµ‹æ³•ï¼ˆçº¿æ€§æ¢æµ‹å†æ•£åˆ—ï¼‰ï¼š\n$$ H_i=(H(key)+d) mod m $$\nå…¶ä¸­ï¼š\n$d$å–$0,1,2,\u0026hellip;,m-1$ï¼› $m$ä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ã€‚ $d$åˆå§‹ä¸º0ï¼Œå¦‚æœæœ‰å†²çªï¼Œé‚£ä¹ˆ$d$å°±é€šè¿‡é€’å¢æ¥å¯»æ‰¾ç©ºçš„æ•£åˆ—åœ°å€ã€‚\näºŒæ¬¡æ¢æµ‹æ³•ï¼ˆäºŒæ¬¡æ¢æµ‹å†æ•£åˆ—ï¼‰ï¼š\n$$ H_i=(H(key)+q^2) mod m $$\nå…¶ä¸­ï¼š\n$q$å–$0,1,-1,2,-2,\u0026hellip;,\\pm k$ï¼Œ$k \\le \\cfrac{m}{2}$ $m$ä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ äºŒæ¬¡æ¢æµ‹æ³•å…¶å®æ˜¯å¯¹çº¿æ€§æ¢æµ‹çš„ä¸€ä¸ªä¼˜åŒ–ï¼Œå¢åŠ äº†å¹³æ–¹å¯ä»¥ä¸è®©å…³é”®å­—èšé›†åœ¨æŸä¸€å—åŒºåŸŸã€‚\nçº¿æ€§æ¢æµ‹æ³•å¸‚èƒ½ä½¿ç¬¬$i$ä¸ªå“ˆå¸Œåœ°å€çš„åŒä¹‰è¯å­˜å…¥ç¬¬$i+1$ä¸ªå“ˆå¸Œåœ°å€ï¼Œè¿™æ ·æœ¬åº”å­˜å…¥ç¬¬$i+1$ä¸ªå“ˆå¸Œåœ°å€çš„å…ƒç´ å˜æˆäº†ç¬¬$i+2$ä¸ªå“ˆå¸Œåœ°å€å…ƒç´ çš„åŒä¹‰è¯ï¼Œâ€¦â€¦ï¼Œå› æ­¤ï¼Œå¯èƒ½å‡ºç°å¾ˆå¤šå…ƒç´ åœ¨ç›¸é‚»çš„å“ˆå¸Œåœ°å€ä¸Šâ€œèšé›†â€èµ·æ¥çš„ç°è±¡ï¼Œå¤§å¤§é™ä½äº†æŸ¥æ‰¾æ•ˆç‡ã€‚\næ’åºç®—æ³• æ’åºç®—æ³•æœ‰ç¨³å®šæ’åºå’Œä¸ç¨³å®šæ’åºä¸¤ç§ã€‚å‡è®¾å¾…æ’åºåºåˆ—ä¸­ï¼Œ$R_i$å’Œ$R_j$å€¼ç›¸åŒï¼Œä¸”$R_i$é¢†å…ˆäº$R_j$ï¼Œæ’åºåï¼š\nç¨³å®šæ’åºï¼šæ’åºå$R_i$å’Œ$R_j$ç›¸å¯¹æ¬¡åºä¸å˜ï¼Œ$R_i$ä»»é¢†å…ˆäº$R_j$ï¼› ä¸ç¨³å®šæ’åºï¼šæ’åºåå¯èƒ½å‡ºç°$R_j$é¢†å…ˆäº$R_i$çš„æƒ…å†µã€‚ æ ¹æ®è®°å½•å­˜å‚¨çš„ä½ç½®å¯åˆ†ä¸ºï¼š\nå†…éƒ¨æ’åºï¼šå¾…æ’åºè®°å½•å­˜å‚¨åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºçš„è¿‡ç¨‹ã€‚ å¤–éƒ¨æ’åºï¼šæ’åºè®°å½•çš„æ•°é‡å¾ˆå¤§ï¼Œå†…å­˜æ— æ³•å®¹çº³å…¨éƒ¨è®°å½•ï¼Œåœ¨æ’åºè¿‡ç¨‹éœ€è¦å¯¹å¤–å­˜è¿›è¡Œè®¿é—®çš„æ’åºè¿‡ç¨‹ã€‚ æ’åºè¿‡ç¨‹éœ€è¦è¿›è¡Œçš„ä¸¤ç§åŸºæœ¬æ“ä½œï¼š\næ¯”è¾ƒä¸¤ä¸ªå…³é”®å­—çš„å¤§å°ã€‚\nè¿™ç§æ“ä½œå¯¹äºå¤§å¤šæ•°æ’åºæ–¹æ³•æ¥è¯´æ˜¯å¿…éœ€çš„ã€‚\nå°†è®°å½•ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚\nè¿™ç§æ“ä½œå¯ä»¥é€šè¿‡æ”¹å˜è®°å½•çš„å­˜å‚¨æ–¹å¼æ¥é¿å…ã€‚\næ’åºç®—æ³•åŠå…¶æ—¶é—´ã€ç©ºé—´å¤æ‚åº¦ï¼š\næ’åºç®—æ³• å¹³å‡æ—¶é—´å¤æ‚åº¦ æœ€åæ—¶é—´å¤æ‚åº¦ æœ€å¥½æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ ç¨³å®šæ€§ æ˜¯å¦å½’ä½ ç›´æ¥æ’å…¥æ’åº $O(n^2)$ $O(n^2)$ $O(n)$ $O(1)$ ç¨³å®š å¦ å¸Œå°”æ’åº $O(n^{1.3})$ $O(n^2)$ $O(n)$ $O(1)$ ä¸ç¨³å®š å¦ ç®€å•é€‰æ‹©æ’åº $O(n^2)$ $O(n^2)$ $O(n^2)$ $O(1)$ ä¸ç¨³å®š æ˜¯ å †æ’åº $O(nlog_2{n})$ $O(nlog_2{n})$ $O(nlog_2{n})$ $O(1)$ ä¸ç¨³å®š æ˜¯ å†’æ³¡æ’åº $O(n^2)$ $O(n^2)$ $O(n)$ $O(1)$ ç¨³å®š æ˜¯ å¿«é€Ÿæ’åº $O(nlog_2{n})$ $O(n^2)$ $O(nlog_2{n})$ $O(log_2{n})$ ä¸ç¨³å®š æ˜¯ å½’å¹¶æ’åº $O(nlog_2{n})$ $O(nlog_2{n})$ $O(nlog_2{n})$ $O(n)$ ç¨³å®š å¦ æ˜¯å¦å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½å¦ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\né€‰æ‹©æ’åº é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ $O(nÂ²)$ çš„æ—¶é—´å¤æ‚åº¦ã€‚\nç®—æ³•æ­¥éª¤ï¼š\nåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\n#include \u0026lt;stdio.h\u0026gt; void selectionSort(int arr[], int len) { for (int i = 0 ; i \u0026lt; len - 1 ; i++) { int min = i; for (int j = i + 1; j \u0026lt; len; j++) // èµ°è®¿æœªæ’åºçš„å…ƒç´  // æ‰¾åˆ°æœ€å°å€¼ if (arr[j] \u0026lt; arr[min]) min = j; // i ä¸æ˜¯æœ€å°æ•°æ—¶ï¼Œå°† i å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢ if (i != min) { int tmp = arr[i]; arr[i] = arr[min]; arr[min] = tmp; } } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); selectionSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } å†’æ³¡æ’åº å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚\nè¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚\nç®—æ³•æ­¥éª¤ï¼š\nå‡è®¾ä¸€ä¸ªåºåˆ—é•¿åº¦ä¸ºnï¼Œmï¼ˆmâ‰¤nï¼‰æ˜¯å·²æ’åºå®Œæˆçš„åœ¨æœ«å°¾çš„æ•°ã€‚\næ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚\nå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚å¯¹æ¯”ç»“æŸåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚\nå¯¹æ¥ä¸‹æ¥n-mä¸ªæœªæ’åºçš„æ•°é‡å¤æ­¥éª¤1å’Œ2ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚\nç¬¬ä¸€è¶Ÿå¯¹åºåˆ—ä¸­æ‰€æœ‰nä¸ªæ•°è¿›è¡Œæ¯”å¯¹ï¼Œç¬¬äºŒè¶Ÿå¯¹åºåˆ—ä¸­n-1ä¸ªæœªæ’åºå®Œæˆçš„æ•°è¿›è¡Œæ¯”å¯¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ¯æ¬¡æ¯”å¯¹çš„æ•°ä¸ºn-mã€‚\nå½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\n#include \u0026lt;stdio.h\u0026gt; void bubbleSort(int arr[], int len) { for (int i = 0; i \u0026lt; len - 1; i++) for (int j = 0; j \u0026lt; len - 1 - i; j++) if (arr[j] \u0026gt; arr[j + 1]) { int tmp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = tmp; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); bubbleSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } ç›´æ¥æ’å…¥æ’åº ç›´æ¥æ’å…¥æ’åºçš„åšæ³•æ˜¯ï¼šåœ¨æ’å…¥ç¬¬$i$ä¸ªè®°å½•ï¼ˆ$R_i$ï¼‰æ—¶ï¼Œåºåˆ—ä¸­çš„å‰$i-1$ä¸ªè®°å½•$R_1,R_2,\\cdots,R_{i-1}$å·²æ’å¥½åºã€‚å°†$R_i$ä¸å‰é¢çš„æœ‰åºåºåˆ—åšæ¯”è¾ƒï¼Œæ‰¾åˆ°åº”è¯¥æ’å…¥çš„ä½ç½®å°†$R_i$æ’å…¥ï¼Œå¹¶å°†æ’å…¥ä½ç½®åçš„è®°å½•ä¾åºå‘åç§»åŠ¨ã€‚\nå¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢ã€‚\nå¯¹äºåŸºæœ¬æœ‰åºçš„åºåˆ—ç”¨ç›´æ¥æ’å…¥æ’åºæ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚\nä¸å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œä¸èƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\nå¸Œå°”æ’åº å¸Œå°”æ’åºåˆç§°ä¸ºâ€œç¼©å°å¢é‡æ’åºâ€ï¼Œå®ƒæ˜¯å¯¹ç›´æ¥æ’å…¥æ’åºæ–¹æ³•çš„æ”¹è¿›ã€‚\nå¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆå°†æ•´ä¸ªå¾…æ’è®°å½•åºåˆ—åˆ†å‰²æˆè‹¥å¹²å­åºåˆ—ï¼Œç„¶ååˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•åŸºæœ¬æœ‰åºæ—¶ï¼Œå†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚\næ­¥éª¤å¦‚ä¸‹ï¼š\né€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—$t_1,t_2,\u0026hellip;,t_k$ï¼Œå…¶ä¸­$t_i \u0026lt; t_{i-1}(1 \\le i \\le k),t_k = 1$ï¼›\nä¸€èˆ¬æ¥è¯´ï¼Œ$t_1 \\le \\cfrac{n}{2}$ã€‚\næŒ‰å¢é‡åºåˆ—ä¸ªæ•°$k$ï¼Œå¯¹åºåˆ—è¿›è¡Œ$k$è¶Ÿæ’åºï¼›\næ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡$t_i$ï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸º$t_i$çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º$1$æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚\nå½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\nè®¡æ•°æ’åº è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚\nå½“è¾“å…¥çš„å…ƒç´ æ˜¯ n ä¸ª 0 åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯$Î˜(n + k)$ã€‚è®¡æ•°æ’åºä¸æ˜¯æ¯”è¾ƒæ’åºï¼Œæ’åºçš„é€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚\nç”±äºç”¨æ¥è®¡æ•°çš„æ•°ç»„Cçš„é•¿åº¦å–å†³äºå¾…æ’åºæ•°ç»„ä¸­æ•°æ®çš„èŒƒå›´ï¼ˆç­‰äºå¾…æ’åºæ•°ç»„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®åŠ ä¸Š1ï¼‰ï¼Œè¿™ä½¿å¾—è®¡æ•°æ’åºå¯¹äºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ï¼Œéœ€è¦å¤§é‡æ—¶é—´å’Œå†…å­˜ã€‚\nè®¡æ•°æ’åºæ˜¯ç”¨æ¥æ’åº0åˆ°100ä¹‹é—´çš„æ•°å­—çš„æœ€å¥½çš„ç®—æ³•ã€‚\nç®—æ³•æ­¥éª¤ï¼š\næ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ã€‚ ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸º içš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„ Cçš„ç¬¬ ié¡¹ã€‚ å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä» Cä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ã€‚ åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´  iæ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬ C(i) é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°† C(i) å‡å» 1ã€‚ å †æ’åº å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚\nå †ç§¯æ˜¯ä¸€ç§è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚\nå †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š\nå¤§é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºå‡åºæ’åˆ—ï¼› å°é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºé™åºæ’åˆ—ï¼› ç®—æ³•æ­¥éª¤\nå°†å¾…æ’åºçš„æ•°ç»„æ„é€ å‡ºä¸€ä¸ªå † H[0â€¦â€¦n-1]ï¼›\næŠŠå †é¦–ï¼ˆå †é¡¶ç»“ç‚¹ï¼Œå³æœ€å¤§å€¼ï¼‰å’Œå †å°¾ï¼ˆå †çš„æœ€ä¸‹å±‚æœ€å³è¾¹çš„ç»“ç‚¹ï¼‰äº’æ¢ï¼›\næ­¤æ—¶ä¸å†å¯¹åŸå †é¡¶ï¼ˆæœ€å¤§å€¼ï¼‰è¿›è¡Œæ“ä½œï¼Œå³åŸå †é¡¶å·²ç»è¢«â€œç§»å‡ºâ€ï¼Œå †çš„é•¿åº¦ç¼©å°1ã€‚\næŠŠæ–°çš„æ•°ç»„é¡¶ç«¯æ•°æ®è°ƒæ•´åˆ°ç›¸åº”ä½ç½®ï¼›\né‡å¤æ­¥éª¤ 2 åˆ° 3ï¼Œç›´åˆ°å †çš„å°ºå¯¸ä¸º 1ã€‚\nå½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\nå¿«é€Ÿæ’åº å¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•ï¼ˆDivide and conquerï¼‰ç­–ç•¥æ¥æŠŠä¸€ä¸ªåºåˆ—ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼ˆsub-listsï¼‰ã€‚\nç®—æ³•æ­¥éª¤\nä»åºåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºâ€œåŸºå‡†â€ï¼ˆpivotï¼‰ã€‚ å°†æ‰€æœ‰æ¯”åŸºå‡†æ•°å°çš„æ”¾åœ¨åŸºå‡†å·¦è¾¹ï¼Œæ‰€æœ‰æ¯”åŸºå‡†æ•°å¤§çš„æ”¾åœ¨åŸºå‡†å³è¾¹ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åœ¨ä»»ä¸€è¾¹ï¼‰ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œã€‚ åˆ†åŒºå®Œæˆåï¼Œè¯¥åŸºå‡†å°±ä¼šå½’åˆ°åºåˆ—ä¸­çš„ç›¸åº”ä½ç½®ï¼Œè¯¥ä½ç½®æ˜¯æ’åºå®Œæˆåçš„ä½ç½®ã€‚ åˆ†åˆ«é€’å½’åœ°æŠŠå°äºåŸºå‡†æ•°çš„å­åºåˆ—ï¼ˆå·¦è¾¹ï¼‰å’Œå¤§äºåŸºå‡†æ•°çš„å­åºåˆ—ï¼ˆå³è¾¹ï¼‰é‡å¤æ‰§è¡Œ1åˆ°3æ“ä½œã€‚ å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œèƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\nå½’å¹¶æ’åº å½’å¹¶æ’åºï¼ˆMerge sortï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚\nä½œä¸ºä¸€ç§å…¸å‹çš„åˆ†è€Œæ²»ä¹‹æ€æƒ³çš„ç®—æ³•åº”ç”¨ï¼Œå½’å¹¶æ’åºçš„å®ç°ç”±ä¸¤ç§æ–¹æ³•ï¼š\nè‡ªä¸Šè€Œä¸‹çš„é€’å½’ï¼› è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£ã€‚ ç®—æ³•æ­¥éª¤ï¼š\nç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ï¼› è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼› æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ï¼›å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ã€‚ ä¸å½’ä½ï¼šåœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œä¸èƒ½ç¡®å®šæŸäº›å…ƒç´ çš„æœ€ç»ˆæ’åºä½ç½®ã€‚\n","date":"2023å¹´5æœˆ17æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/algorithm-design-analysis/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1684299162,"title":"ç®—æ³•è®¾è®¡ä¸åˆ†æç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç½‘ç»œæ¦‚è¿° è®¡ç®—æœºç½‘ç»œæ˜¯è®¡ç®—æœºæŠ€æœ¯ä¸é€šä¿¡æŠ€æœ¯ç›¸ç»“åˆçš„äº§ç‰©ï¼Œå®ƒå®ç°äº†è¿œç¨‹é€šä¿¡ã€è¿œç¨‹ä¿¡æ¯å¤„ç†å’Œèµ„æºå…±äº«ã€‚ç°ä»£è®¡ç®—æœºç½‘ç»œå·²å…·æœ‰ç»Ÿä¸€çš„ç½‘ç»œä½“ç³»ç»“æ„ã€‚\nè®¡ç®—æœºç½‘ç»œæä¾›çš„ä¸»è¦åŠŸèƒ½æœ‰ï¼š\næ•°æ®é€šä¿¡ èµ„æºå…±äº« è´Ÿè½½å‡è¡¡ é«˜å¯å…±äº«æ€§ è®¡ç®—æœºç½‘ç»œåˆ†ç±» æŒ‰é€šä¿¡è·ç¦»åˆ†ç±»ï¼š\nç½‘ç»œåˆ†ç±» åˆ†å¸ƒè·ç¦» è®¡ç®—æœºåˆ†å¸ƒèŒƒå›´ ä¼ è¾“é€Ÿç‡ å±€åŸŸç½‘ MAN 10må·¦å³ æˆ¿é—´ 4Mbps ~ 1Gbps 100må·¦å³ æ¥¼å¯“ 1000må·¦å³ æ ¡å›­ åŸåŸŸç½‘ WAN 10km åŸå¸‚ 50Kbps ~ 100 Mbps å¹¿åŸŸç½‘ LAN 100kmä»¥ä¸Š å›½å®¶æˆ–å…¨çƒ 9.6Kbps ~ 45Mbps å…¶å®ƒåˆ†ç±»æ–¹å¼ä¸å…¶åˆ†ç±»å¦‚ï¼š\nåˆ†ç±»æ–¹å¼ åˆ†ç±»å†…å®¹ ä¿¡æ¯äº¤æ¢æ–¹å¼ ç”µè·¯äº¤æ¢ç½‘ åˆ†ç»„äº¤æ¢ç½‘ ç»¼åˆäº¤æ¢ç½‘ ç½‘ç»œæ‹“æ‰‘ç»“æ„ æ˜Ÿå‹ç½‘ æ ‘å‹ç½‘ ç¯å‹ç½‘ æ€»çº¿ç½‘ é€šä¿¡ä»‹è´¨ åŒç»çº¿ç½‘ åŒè½´ç”µç¼†ç½‘ å…‰çº¤ç½‘ å«æ˜Ÿç½‘ ä¼ è¾“å¸¦å®½ åŸºå¸¦ç½‘ å®½å¸¦ç½‘ ä½¿ç”¨èŒƒå›´ å…¬ç”¨ç½‘ ä¸“ç”¨ç½‘ é€Ÿç‡ é«˜é€Ÿç½‘ ä¸­é€Ÿç½‘ ä½é€Ÿç½‘ é€šä¿¡ä¼ æ’­æ–¹å¼ å¹¿æ’­å¼ ç‚¹åˆ°ç‚¹å¼ ISO/OSI ç½‘ç»œä½“ç³»ç»“æ„ ISO/OSIçš„å‚è€ƒæ¨¡å‹å…±æœ‰7å±‚ï¼š\nè®¡ç®—æœºç½‘ç»œæŒ‰ç…§æ•°æ®é€šä¿¡å’Œæ•°æ®å¤„ç†çš„åŠŸèƒ½å¯åˆ†ä¸ºä¸¤å±‚ï¼š\nå†…å±‚é€šä¿¡å­ç½‘ï¼ˆé€šä¿¡å­ç½‘ï¼‰ï¼šç”±è®¡ç®—æœºå’Œé«˜é€Ÿé€šä¿¡çº¿è·¯ç»„æˆç‹¬ç«‹çš„æ•°æ®ç³»ç»Ÿï¼Œæ‰¿æ‹…å…¨ç½‘çš„é€šä¿¡å·¥ä½œï¼ˆè§£å†³æ•°æ®ä¼ è¾“å’Œé€šä¿¡æ§åˆ¶é—®é¢˜ï¼‰ã€‚\nå¤–å±‚èµ„æºå­ç½‘ï¼ˆèµ„æºå­ç½‘ï¼‰ï¼šåŒ…æ‹¬è®¡ç®—æœºã€ç»ˆç«¯ã€é€šä¿¡å­ç½‘æ¥å£è®¾å¤‡ã€å¤–éƒ¨è®¾å¤‡ã€è½¯ä»¶èµ„æºç­‰ï¼Œå®ƒè´Ÿè´£å…¨ç½‘çš„æ•°æ®å¤„ç†å’Œæä¾›ç½‘ç»œèµ„æºåŠç½‘ç»œæœåŠ¡ã€‚\nè¿™ä¸¤ä¸ªç½‘ç»œå±‚ç¬¦åˆå›½é™…æ ‡å‡†åŒ–ç»„ç»‡æ‰€åˆ¶å®šçš„å¼€æ”¾å¼ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼ˆOSIï¼‰çš„æ€æƒ³ï¼š\né€šä¿¡å­ç½‘å¯¹åº”äºOSIä¸­çš„ä½ä¸‰å±‚ï¼š ç‰©ç†å±‚ æ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ èµ„æºå­ç½‘å¯¹åº”äºOSIä¸­çš„é«˜ä¸‰å±‚ï¼š ä¼šè¯å±‚ è¡¨ç¤ºå±‚ åº”ç”¨å±‚ æœåŠ¡ç«¯è¦å‘ç”¨æˆ·ç«¯ä¼ é€æ•°æ®ï¼ˆä¿¡æ¯æµå‘ï¼‰ï¼š\næœåŠ¡ç«¯å°†æ•°æ®é€å…¥åº”ç”¨å±‚ï¼Œç„¶åæ•°æ®é€å±‚å‘ç‰©ç†å±‚ä¼ é€’ã€‚\nåœ¨ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€å±‚å¯¹æ•°æ®åšç›¸åº”å¤„ç†ï¼ˆé™„åŠ æ§åˆ¶ä¿¡æ¯ã€æ•°æ®å˜æ¢ã€æŠ¥æ–‡åˆ†æ®µã€æŠ¥æ–‡åˆ†ç»„ã€å˜æ¢ä¸ºå¸§ç­‰ï¼‰ã€‚\næœ€åï¼Œç»ç”±ç‰©ç†å±‚å°†æ•°æ®å‘é€è‡³ç”¨æˆ·ç«¯ã€‚\nç”¨æˆ·ç«¯æ¥å—ä¿¡æ¯ï¼ŒæŒ‰ç…§ä¸æœåŠ¡ç«¯ç›¸åé¡ºåºçš„åŠ¨ä½œï¼Œä»ç‰©ç†å±‚å¼€å§‹å±‚å±‚å‰¥å»æ§åˆ¶ä¿¡æ¯ã€‚\næœ€åæŠŠåŸæ•°æ®å±•ç¤ºç»™ç”¨æˆ·ã€‚\nåªæœ‰ç‰©ç†å±‚æ˜¯å®é€šä¿¡ï¼ˆæœ‰ç‰©ç†è¿æ¥ï¼‰ï¼Œå…¶ä½™å„å±‚å‡ä¸ºè™šé€šä¿¡ï¼ˆæ— è¿çº¿ï¼‰ã€‚\nç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ ç½‘ç»œæ‹“æ‰‘ç»“æ„æ˜¯æŒ‡ç½‘ç»œä¸­é€šä¿¡çº¿è·¯å’Œç»“ç‚¹çš„å‡ ä½•æ’åºï¼Œç”¨äºè¡¨ç¤ºæ•´ä¸ªç½‘ç»œçš„ç»“æ„å¤–è²Œï¼Œåæ˜ å„ç»“ç‚¹ä¹‹é—´çš„ç»“æ„å…³ç³»ã€‚\nå¸¸ç”¨çš„ç½‘ç»œæ‹“æ‰‘ç»“æ„æœ‰ï¼š\næ€»çº¿å‹ç»“æ„ï¼š\næ˜Ÿå‹ç»“æ„ï¼š\nç¯å‹ç»“æ„ï¼š\næ ‘å‹ç»“æ„ï¼š\nåˆ†å¸ƒå¼ç»“æ„ï¼š\nç½‘ç»œäº’è¿è®¾å¤‡ æ„å»ºä¸€ä¸ªå®é™…çš„ç½‘ç»œéœ€è¦ç½‘ç»œçš„ä¼ è¾“ä»‹è´¨ã€ç½‘ç»œäº’è¿è®¾å¤‡ä½œä¸ºæ”¯æŒã€‚\nç½‘ç»œè®¾å¤‡ æŒ‰ç…§ISO/OSIçš„åˆ†å±‚å°†äº’è¿è®¾å¤‡åˆ†ç±»ï¼š\nç‰©ç†å±‚è®¾å¤‡ï¼š\nä¸­ç»§å™¨ï¼ˆRepeaterï¼‰ é›†çº¿å™¨ï¼ˆHubï¼‰ï¼šä¸€ç§å¤šç«¯å£çš„ä¸­ç»§å™¨ã€‚é›†çº¿å™¨ä¸èƒ½è‡ªåŠ¨å¯»å€ï¼Œä½†å¯ä»¥æ£€æµ‹å‘é€å†²çªã€‚ æ•°æ®é“¾è·¯å±‚è®¾å¤‡ï¼š\nç½‘æ¡¥ï¼ˆBridgeï¼‰\näº¤æ¢æœºï¼ˆSwitchï¼‰ï¼šä¸€ç§å¤šç«¯å£çš„ç½‘æ¡¥ã€‚\näº¤æ¢æŠ€æœ¯ï¼š\nç«¯å£äº¤æ¢ å¸§äº¤æ¢ ä¿¡å…ƒäº¤æ¢ ç½‘ç»œå±‚è®¾å¤‡ï¼šè·¯ç”±å™¨ï¼ˆRouterï¼‰\nåº”ç”¨å±‚è®¾å¤‡ï¼šç½‘å…³ï¼ˆGatewayï¼‰\nç½‘ç»œä¼ è¾“ä»‹è´¨ ä¼ è¾“ä»‹è´¨æ˜¯ä¿¡å·ä¼ è¾“çš„åª’ä½“ï¼Œå¸¸ç”¨çš„ä»‹è´¨åˆ†ä¸ºï¼š\næœ‰çº¿ä»‹è´¨ï¼š åŒç»çº¿ï¼ˆTwisted-Pairï¼‰ åŒè½´ç”µç¼†ï¼ˆCoaxialï¼‰ å…‰çº¤ï¼ˆFiber Opticï¼‰ æ— çº¿ä»‹è´¨ï¼š å¾®æ³¢ çº¢å¤–çº¿å’Œæ¿€å…‰ å«æ˜Ÿé€šä¿¡ ç½‘ç»œç»„ä»¶ åœ¨ä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œå…¶åŸºæœ¬ç»„æˆéƒ¨ä»¶ä¸ºï¼š\næœåŠ¡å™¨ï¼ˆServerï¼‰ å®¢æˆ·ç«¯ï¼ˆClientï¼‰ ç½‘ç»œè®¾å¤‡ é€šä¿¡ä»‹è´¨ ç½‘ç»œè½¯ä»¶ ç½‘ç»œåè®®ä¸æ ‡å‡† è®¡ç®—æœºç½‘ç»œä¸­çš„ä¸¤ä¸ªå®ä½“ï¼Œæƒ³è¦æˆåŠŸé€šä¿¡ï¼Œå¿…é¡»å…·æœ‰ç›¸åŒçš„è¯­è¨€ï¼Œåœ¨è®¡ç®—æœºç½‘ç»œä¸­ç§°ä¸ºåè®®ï¼ˆè§„ç¨‹ï¼‰ã€‚\nç½‘ç»œåè®®æŒ‡çš„æ˜¯ç½‘ç»œä¸­çš„è®¡ç®—æœºä¸è®¡ç®—æœºè¿›è¡Œé€šä¿¡æ—¶ï¼Œä¸ºäº†èƒ½å¤Ÿå®ç°æ•°æ®çš„æ­£å¸¸å‘é€ä¸æ¥æ”¶å¿…é¡»è¦éµå¾ªçš„ä¸€äº›äº‹å…ˆçº¦å®šå¥½çš„è§„åˆ™ï¼ˆæ ‡å‡†æˆ–çº¦å®šï¼‰ï¼Œåœ¨è¿™äº›è§„ç¨‹ä¸­æ˜ç¡®è§„å®šäº†é€šä¿¡æ—¶çš„æ•°æ®æ ¼å¼ã€æ•°æ®ä¼ é€æ—¶åºä»¥åŠç›¸åº”çš„æ§åˆ¶ä¿¡æ¯å’Œåº”ç­”ä¿¡å·ç­‰å†…å®¹ã€‚\nç½‘ç»œæ ‡å‡† ç”µä¿¡æ ‡å‡†ï¼šç”±å›½é™…ç”µä¿¡è”ç›Ÿï¼ˆInternational Telecommunication Unionï¼ŒITUï¼‰å‘å¸ƒçš„æ ‡å‡†ï¼Œæœ‰ITU-Tçš„Vç³»åˆ—ã€Xç³»åˆ—ç­‰ã€‚\nå›½é™…æ ‡å‡†ï¼šç”±å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰è´Ÿè´£åˆ¶å®šã€‚\nå…¶ä»–æ ‡å‡†åŒ–ç»„ç»‡ï¼š\nANSIï¼šç¾å›½å›½å®¶æ ‡å‡†ç ”ç©¶æ‰€ï¼ŒISOçš„ç¾å›½ä»£è¡¨ã€‚ NISTï¼šç¾å›½å›½å®¶æ ‡å‡†å’ŒæŠ€æœ¯ç ”ç©¶æ‰€ï¼Œç¾å›½å•†ä¸šéƒ¨çš„æ ‡å‡†åŒ–æœºæ„ã€‚ IEEEï¼šç”µæ°”å’Œç”µå­å·¥ç¨‹å¸ˆåä¼šï¼ˆInstitute of Electrical and Electronics Engineersï¼‰ã€‚ ElAï¼šç”µå­å·¥ä¸šåä¼šï¼ˆElectronic Industries Associationï¼‰ã€‚ Internetæ ‡å‡†ï¼šç‰¹ç‚¹æ˜¯è‡ªå‘è€Œéæ”¿åºœå¹²é¢„çš„ï¼Œç®¡ç†æ¾æ•£ã€‚\næœ‰æ°‘é—´æ€§è´¨çš„åä¼šISOCï¼ˆInternet Societyï¼‰è¿›è¡Œå¿…è¦çš„åè°ƒä¸ç®¡ç†ã€‚ æœ‰ç½‘ç»œä¿¡æ¯ä¸­å¿ƒï¼ˆNICï¼‰æ¥ç®¡ç†IPåœ°å€ï¼Œä¿è¯æ³¨å†Œåœ°å€çš„å”¯ä¸€æ€§ã€‚ ISOCè®¾æœ‰nternetæ€»ä½“ç®¡ç†æœºæ„ç»“æ„ï¼ˆIABï¼‰ã€‚ å±€åŸŸç½‘åè®® IEEE 802ç³»åˆ—æ ‡å‡†å·±è¢«ISOé‡‡çº³ä¸ºå›½é™…æ ‡å‡†ã€‚\nå±€åŸŸç½‘çš„åŸºæœ¬ç»„æˆä¸»è¦æœ‰ï¼š\nç½‘ç»œæœåŠ¡å™¨ ç½‘ç»œå·¥ä½œç«™ ç½‘ç»œé€‚é…å™¨ ä¼ è¾“ä»‹è´¨ å†³å®šå±€åŸŸç½‘ç‰¹æ€§çš„ä¸»è¦æŠ€æœ¯æœ‰3ä¸ªæ–¹é¢ï¼š\nç”¨äºä¼ è¾“æ•°æ®çš„ä¼ è¾“ä»‹è´¨ï¼› ç”¨äºè¿æ¥å„ç§è®¾å¤‡çš„æ‹“æ‰‘ç»“æ„ï¼› ç”¨äºå…±äº«èµ„æºçš„ä»‹è´¨è®¿é—®æ§åˆ¶æ–¹æ³•ã€‚ LAN æ¨¡å‹ åœ¨IEEE 802å±€åŸŸç½‘ï¼ˆLANï¼‰æ ‡å‡†ä¸­åªå®šä¹‰äº†ä¸¤å±‚ï¼š\nç‰©ç†å±‚\næ•°æ®é“¾è·¯å±‚ï¼š\næ ¹æ®LANçš„ç‰¹ç‚¹æŠŠæ•°æ®é“¾è·¯å±‚åˆ†æˆï¼š\né€»è¾‘é“¾è·¯æ§åˆ¶ï¼ˆLogical Link Controlï¼ŒLLCï¼‰å­å±‚ï¼š\nå®ç°ç½‘ç»œå±‚ä¸­çš„å¯»å€ã€æ’åºã€æµæ§å’Œå·®é”™æ§åˆ¶ç­‰åŠŸèƒ½\nä»‹è´¨è®¿é—®æ§åˆ¶ï¼ˆMedium Access Controlï¼ŒMACï¼‰å­å±‚\nä»¥å¤ªç½‘ ä»¥å¤ªç½‘æŠ€æœ¯é‡‡ç”¨çš„â€œå­˜å–æ–¹æ³•â€æ˜¯å¸¦å†²çªæ£€æµ‹çš„è½½æ³¢ç›‘å¬å¤šè·¯è®¿é—®åè®®ï¼ˆCarrier-Sense Multiple Access with Collision Detectionï¼ŒCSMA/CDï¼‰æŠ€æœ¯ã€‚\nä»¥å¤ªç½‘ä¸»è¦åŒ…æ‹¬3ä¸­ç±»å‹ï¼š\nIEEE 802.3ä¸­å®šä¹‰çš„æ ‡å‡†å±€åŸŸç½‘ï¼Œé€Ÿåº¦ä¸º10Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºç»†åŒè½´ç”µç¼†ï¼› IEEE 802.3uä¸­å®šä¹‰çš„å¿«é€Ÿä»¥å¤ªç½‘ï¼Œé€Ÿåº¦ä¸º100Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºåŒç»çº¿ï¼› IEEE 802.3zä¸­å®šä¹‰çš„åƒå…†ä»¥å¤ªç½‘ï¼Œé€Ÿåº¦ä¸º1000Mbpsï¼Œä¼ è¾“ä»‹è´¨ä¸ºå…‰çº¤æˆ–åŒç»çº¿ã€‚ ä»¤ç‰Œç¯ç½‘ IEEE 802.5çš„ä»‹è´¨è®¿é—®ä½¿ç”¨çš„æ˜¯ä»¤ç‰Œç¯æ§åˆ¶æŠ€æœ¯ã€‚\nFDDI FDDIï¼ˆFiber Distributed Data Interface,å…‰çº¤åˆ†å¸ƒå¼æ•°æ®æ¥å£ï¼‰ç±»ä¼¼ä»¤ç‰Œç¯ç½‘çš„åè®®ï¼š\nç”¨å…‰çº¤ä½œä¸ºä¼ è¾“ä»‹è´¨ï¼› é‡‡ç”¨ä¸€ç§æ–°çš„ç¼–ç æŠ€æœ¯ï¼Œç§°ä¸º4B/5Bç¼–ç ã€‚ æ— çº¿å±€åŸŸç½‘ æ— çº¿å±€åŸŸç½‘ï¼ˆWLANï¼‰ä½¿ç”¨çš„æ˜¯å¸¦å†²çªé¿å…çš„è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®æ–¹æ³•ï¼ˆCSMA/CAï¼‰ã€‚\nå¹¿åŸŸç½‘åè®® ç”¨äºå¹¿åŸŸç½‘çš„ä¸»è¦åè®®æœ‰ï¼š\nç‚¹å¯¹ç‚¹åè®®ï¼ˆPPPï¼‰ æ•°å­—ç”¨æˆ·çº¿ï¼ˆxDSLï¼‰ æ•°å­—ä¸“çº¿ å¸§ä¸­ç»§ å¼‚æ­¥ä¼ è¾“æ¨¡å¼ X.25 åè®® TCP/IP åè®®æ— TCP/IPä½œä¸ºInternetçš„æ ¸å¿ƒåè®®ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå±€åŸŸç½‘å’Œå¹¿åŸŸç½‘ä¸­ï¼Œæˆä¸ºäº‹å®ä¸Šçš„å›½é™…æ ‡å‡†ã€‚\nTCP/IPåŸºæœ¬ç‰¹æ€§çš„5ä¸ªè¡¨ç°æ–¹é¢ï¼š\né€»è¾‘ç¼–åˆ¶ï¼š\næ¯å°è¿å…¥Internetçš„è®¡ç®—æœºéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªé€»è¾‘åœ°å€ï¼Œå³IPåœ°å€ã€‚\nIPåœ°å€åŒ…æ‹¬ï¼š\nç½‘ç»œIDå·ï¼šç”¨æ¥æ ‡è¯†ç½‘ç»œï¼› å­ç½‘IDå·ï¼šç”¨æ¥æ ‡è¯†ç½‘ç»œä¸Šçš„ä¸€ä¸ªå­ç½‘ï¼› ä¸»æœºIDå·ï¼šç”¨æ¥æ ‡è¯†å­ç½‘ä¸Šçš„ä¸€å°è®¡ç®—æœºã€‚ è·¯ç”±é€‰æ‹©ï¼šå®šä¹‰è·¯ç”±å™¨å¦‚ä½•é€‰æ‹©ç½‘ç»œè·¯å¾„çš„åè®®ï¼Œå³IPæ•°æ®åŒ…çš„è·¯ç”±é€‰æ‹©ã€‚\nåŸŸåè§£æï¼š\nåŸŸåï¼šä¸€ç§æ˜“è®°çš„å­—æ¯å¼åœ°å€ç»“æ„ï¼Œä¹Ÿç§°ä¸ºDNSï¼ˆåŸŸåæœåŠ¡ï¼‰åã€‚\nå°†åŸŸåæ˜ å°„ä¸ºIPåœ°å€çš„æ“ä½œå³ä¸ºåŸŸåè§£æã€‚\nåŸŸåè¾ƒç¨³å®šï¼Œè€ŒIPåœ°å€è¾ƒæ˜“å‘ç”Ÿå˜åŒ–ã€‚\né”™è¯¯æ£€æµ‹ï¼šTPC/IPå…·æœ‰åˆ†ç»„äº¤æ¢ç¡®ä¿æ•°æ®ä¿¡æ¯åœ¨ç½‘ç»œä¸Šå¯é ä¼ é€’çš„ç‰¹æ€§ã€‚\næµé‡æ§åˆ¶ï¼šæ£€æµ‹ç½‘ç»œç³»ç»Ÿä¿¡æ¯ä¸­çš„ä¿¡æ¯æµé‡ï¼Œé˜²æ­¢å‡ºç°ç½‘ç»œæ‹¥å¡ï¼Œä¹Ÿå±äºåˆ†ç»„äº¤æ¢ç¡®ä¿æ•°æ®ä¿¡æ¯åœ¨ç½‘ç»œä¸Šå¯é ä¼ é€’ã€‚\nTCP/IP åˆ†å±‚æ¨¡å‹ TCP/IPåˆ†å±‚æ¨¡å‹ç”±4ä¸ªå±‚æ¬¡æ„æˆï¼š\nåº”ç”¨å±‚ ä¼ è¾“å±‚ ç½‘é™…å±‚ ç½‘ç»œæ¥å£å±‚ ä¼ è¾“å±‚åè®® TCP å’Œ UDP TCPå’ŒUDPéƒ½æ˜¯åº”ç”¨äºä¼ è¾“å±‚çš„ç½‘ç»œåè®®ï¼š\nTCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰ï¼š\nåœ¨IPæä¾›çš„ä¸å¯é æ•°æ®æœåŠ¡çš„åŸºç¡€ä¸Šä¸ºåº”ç”¨ç¨‹åºæä¾›äº†å¯é çš„ã€é¢å‘è¿æ¥çš„ã€å…¨åŒå·¥çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚\né‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹æ¥ç¡®è®¤å»ºç«‹å’Œå…³é—­è¿æ¥æ˜¯å¦æˆåŠŸã€‚\nTCPçš„åŠŸèƒ½æˆ–æœåŠ¡æœ‰ï¼š\nå¯é ä¼ è¾“ è¿æ¥ç®¡ç† å·®é”™æ ¡éªŒå’Œé‡ä¼  æµé‡æ§åˆ¶ï¼šé‡‡ç”¨å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®® æ‹¥å¡æ§åˆ¶ ç«¯å£å¯»å€ UDPï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ï¼š\næ˜¯ä¸€ç§ä¸å¯é çš„ã€æ— è¿æ¥çš„åè®®ï¼Œå¯ä»¥ä¿è¯åº”ç”¨ç¨‹åºè¿›ç¨‹é—´çš„é€šä¿¡ã€‚\nUDPä¸Šçš„åº”ç”¨æœ‰VoIPç­‰ã€‚\nUDPçš„é¦–éƒ¨8Bï¼ŒTCPçš„é¦–éƒ¨20Bï¼ŒUDPç›¸æ¯”TCPæ¥è¯´ï¼Œå¼€é”€è¾ƒå°ã€‚\nTCPå’ŒUDPå‡æä¾›äº†ç«¯å£å¯»å€åŠŸèƒ½ã€‚\nç”µå­é‚®ä»¶åè®® SMTP å’Œ POP3 SMTPå’ŒPOP3éƒ½ä½¿ç”¨TCPç«¯å£ä¼ è¾“å’Œæ¥æ”¶é‚®ä»¶ã€‚\nSMTPï¼šé‚®ä»¶å‘é€åè®®ï¼›å¸¸ç”¨ç«¯å£å·ï¼š25ã€‚\nSMTPåªèƒ½ä¼ è¾“SACIIç æ–‡æœ¬å’Œæ–‡å­—é™„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨MIMEé‚®ä»¶æ‰©å……åè®®ï¼Œæ·»åŠ å…¶ä»–ç±»å‹çš„é™„ä»¶ã€‚\nPOP3ï¼šé‚®ä»¶æ¥æ”¶åè®®ï¼›å¸¸ç”¨ç«¯å£å·ï¼š110ã€‚\nPOP3åŸºäºC/Sæ¨¡å¼ï¼ˆClient/Serveræ¨¡å¼ï¼Œå®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ï¼‰ã€‚\nARP å’Œ RARP åè®® ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰ï¼šå°†IPåœ°å€è½¬æ¢ä¸ºMACåœ°å€ï¼ˆç‰©ç†åœ°å€ï¼‰ã€‚\nIPåˆ°MACåœ°å€çš„è½¬æ¢è¿‡ç¨‹ï¼š\næŸ¥è¯¢ARPé«˜é€Ÿç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥IPåœ°å€ å¦‚æœè¯¥IPåœ°å€åœ¨ARPé«˜é€Ÿç¼“å­˜ä¸­ï¼Œä¾¿ä½¿ç”¨ä¸å®ƒå¯¹åº”çš„MACåœ°å€ï¼Œå°†æ•°æ®æŠ¥å‘é€ç»™æ‰€éœ€çš„ç‰©ç†ç½‘å¡ å¦‚æœARPé«˜é€Ÿç¼“å­˜ä¸­æ²¡æœ‰è¯¥IPåœ°å€ï¼ŒARPä¾¿åœ¨å±€åŸŸç½‘ä¸Šä»¥å¹¿æ’­æ–¹å¼å‘é€ä¸€ä¸ªARPè¯·æ±‚åŒ… å¦‚æœå±€åŸŸç½‘ä¸ŠIPåœ°å€ä¸æŸå°è®¡ç®—æœºä¸­çš„IPåœ°å€ç›¸ä¸€è‡´ï¼Œé‚£ä¹ˆè¯¥è®¡ç®—æœºä¾¿ç”Ÿæˆä¸€ä¸ªARPåº”ç­”ä¿¡æ¯ï¼Œä¿¡æ¯ä¸­åŒ…å«å¯¹åº”çš„MACåœ°å€ RARPï¼ˆååœ°å€è§£æåè®®ï¼‰ï¼šå°†MACåœ°å€è½¬æ¢ä¸ºIPåœ°å€ï¼Œä¸»è¦ç”¨äºæ— ç›˜å·¥ä½œç«™ã€‚\nåŠ¨æ€ä¸»æœºé…ç½®åè®® DHCP DHCPåè®®çš„åŠŸèƒ½å’Œä½œç”¨æ˜¯ï¼š\né›†ä¸­çš„ç®¡ç†ã€åˆ†é…IPåœ°å€ï¼› ä½¿ç½‘ç»œç¯å¢ƒä¸­çš„ä¸»æœºåŠ¨æ€åœ°è·å¾—IPåœ°å€ã€Gatewayåœ°å€ã€DNSæœåŠ¡å™¨åœ°å€ç­‰ä¿¡æ¯ï¼› æå‡åœ°å€çš„ä½¿ç”¨ç‡ã€‚ DHCPå®¢æˆ·ç«¯å¯ä»¥ä»DHCPæœåŠ¡å™¨è·å¾—ä»¥ä¸‹å†…å®¹ï¼š\næœ¬æœºIPåœ°å€ DNSæœåŠ¡å™¨åœ°å€ DHCPæœåŠ¡å™¨åœ°å€ é»˜è®¤ç½‘å…³çš„åœ°å€ æ— æ•ˆåœ°å€ Windowsæ— æ•ˆåœ°å€ï¼š169.254.X.X\n169.254.X.Xæ˜¯Windowsç³»ç»Ÿåœ¨DHCPä¿¡æ¯ç§Ÿç”¨å¤±è´¥æ—¶è‡ªåŠ¨ç»™å®¢æˆ·æœºåˆ†é…çš„IPåœ°å€ã€‚\nLinuxæ— æ•ˆåœ°å€ï¼š0.0.0.0\nICMP ICMPï¼ˆInternet Control Message Protocolï¼ŒInternetæ§åˆ¶ä¿¡æ¯åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºå‘é€å·®é”™æŠ¥æ–‡çš„åè®®ã€‚IPä¼ é€çš„æ•°æ®æŠ¥å¯èƒ½ä¸¢å¤±ã€é‡å¤ã€å»¶è¿Ÿæˆ–ä¹±åºï¼Œè€ŒICMPå°±æ˜¯è¿™æ ·ä¸€ç§é¿å…å·®é”™å¹¶åœ¨å‘ç”Ÿå·®é”™æ—¶æŠ¥å‘Šçš„æœºåˆ¶ã€‚\nICMPå®šä¹‰äº†5ç§å·®é”™æŠ¥æ–‡ï¼š\næºæŠ‘åˆ¶ è¶…æ—¶ ç›®çš„ä¸å¯è¾¾ é‡å®šå‘ è¦æ±‚åˆ†æ®µ è¿˜å®šä¹‰äº†4ç§ä¿¡æ¯æŠ¥æ–‡ï¼š\nå›åº”è¯·æ±‚ å›åº”åº”ç­” åœ°å€å±è”½ç è¯·æ±‚ åœ°å€å±è”½ç åº”ç­” IPåœ¨éœ€è¦ä¸€ä¸ªå·®é”™æŠ¥æ–‡æ—¶è¦ä½¿ç”¨ICMPï¼Œè€ŒICMPä¹Ÿæ˜¯åˆ©ç”¨IPæ¥ä¼ é€æŠ¥æ–‡ã€‚\nICMPå¯ä»¥ç”¨äºæµ‹è¯•å› ç‰¹ç½‘ï¼Œå¦‚pingå·¥å…·å°±æ˜¯åˆ©ç”¨ICMPæŠ¥æ–‡è¿›è¡Œç›®æ ‡æ˜¯å¦å¯è¾¾æµ‹è¯•ã€‚\nInternet åœ°å€ Internetåœ°å€æ ¼å¼ä¸»è¦æœ‰ä¸¤ç§ä¹¦å†™å½¢å¼ï¼š\nåŸŸå IPåœ°å€ åŸŸå åŸŸåï¼ˆDomain Nameï¼‰ï¼šé€šå¸¸æ˜¯ç”¨æˆ·æ‰€ç”¨ä¸»æœºçš„åå­—æˆ–åœ°å€ã€‚\nåŸŸåæ ¼å¼ç”±è‹¥å¹²éƒ¨åˆ†ç»„æˆï¼Œæ¯ä¸ªéƒ¨åˆ†åˆç§°å­åŸŸåï¼ˆç”¨.åˆ†å¼€ï¼Œæœ€å°‘ç”±ä¸¤ä¸ªå­—æ¯æˆ–æ•°å­—ç»„æˆï¼‰ã€‚\né€šå¸¸ï¼Œä¸€ä¸ªå®Œæ•´ã€é€šç”¨çš„å±‚æ¬¡å‹ä¸»æœºåŸŸåç”±ä»¥ä¸‹4ä¸ªéƒ¨åˆ†ç»„æˆï¼š\nä¸»æœºå.æœ¬åœ°å.ç»„å.æœ€é«˜å±‚åŸŸå ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š\nä¸»æœºå.åŸŸå.åŸŸååç¼€.åŸŸååˆ†ç±» å¦‚æœä¸€ä¸ªä¸»æœºæ‰€åœ¨çš„ç½‘ç»œçº§åˆ«è¾ƒé«˜ï¼Œå®ƒå¯èƒ½æ‹¥æœ‰çš„åŸŸåä»…åŒ…å«3éƒ¨åˆ†ï¼š\næœ¬åœ°å.ç»„å.æœ€é«˜å±‚åŸŸå URL URLå³ç»Ÿä¸€èµ„æºå®šä½å™¨ï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ï¼Œå®ƒçš„å½¢å¼å¦‚ä¸‹ï¼š\nåè®®å://ä¸»æœºå.åŸŸå.åŸŸååç¼€.åŸŸååˆ†ç±»/ç›®å½•/ç½‘é¡µæ–‡ä»¶ IP åœ°å€ IPåœ°å€ï¼šInternetä¸­çš„ä¸»æœºåœ°å€å®é™…ä¸Šæ˜¯ç”¨IPåœ°å€æ¥å”¯ä¸€æ ‡è¯†çš„ã€‚\nIPåœ°å€æœ‰ä¸¤ç§ï¼š\nIPv4 IPv6 é€šå¸¸IPåœ°å€æ˜¯æŒ‡IPv4ã€‚\nIPv4 æ¯ä¸ªIPv4åœ°å€éƒ½ç”±4ä¸ªå°äº256çš„æ•°å­—ç»„æˆï¼ˆæ¯ä¸ªæ•°å­—8ä½ï¼Œå…±32ä½ï¼‰ï¼Œæ•°å­—ä¹‹é—´ç”¨.åˆ†å¼€ï¼Œå¯åˆ†ä¸º5ç±»ï¼š\nåœ¨IPv4ä¸­ï¼Œå…¨0ä»£è¡¨çš„æ˜¯ç½‘ç»œï¼Œå…¨1ä»£è¡¨çš„æ˜¯å¹¿æ’­ã€‚\nIPv4èƒ½è¡¨ç¤ºçš„åœ°å€ä¸ªæ•°ä¸ºï¼š\n$$ 2^{32} \\approx 40äº¿ $$\nå­ç½‘æ©ç  ç½‘ç»œè½¯ä»¶å’Œè·¯ç”±å™¨ä½¿ç”¨å­ç½‘æ©ç ï¼ˆSubnet Maskï¼‰æ¥è¯†åˆ«æŠ¥æ–‡æ˜¯ä»…å­˜æ”¾åœ¨ç½‘ç»œå†…éƒ¨è¿˜æ˜¯è¢«è·¯ç”±è½¬å‘åˆ°å…¶ä»–åœ°æ–¹ã€‚\nå­ç½‘æ©ç æ˜¯ç”¨æ¥æŒ‡æ˜ç‰¹å®šçš„IPåœ°å€ä¸­çš„ç½‘ç»œå·å’Œä¸»æœºå·éƒ¨åˆ†ã€‚å­ç½‘æ©ç çš„æ ¼å¼ä¸IPåœ°å€ç›¸åŒï¼š\næ‰€æœ‰å¯¹åº”ç½‘ç»œå·çš„éƒ¨åˆ†ç”¨1å¡«ä¸Šï¼› æ‰€æœ‰å¯¹åº”ä¸»æœºå·çš„éƒ¨åˆ†ç”¨0å¡«ä¸Šã€‚ IPv6 IPv6å…·æœ‰é•¿è¾¾128ä½çš„åœ°å€ç©ºé—´ï¼Œå¯ä»¥å½»åº•è§£å†³IPv4åœ°å€ä¸è¶³çš„é—®é¢˜ã€‚\nIPv6ç†è®ºä¸Šèƒ½è¡¨ç¤ºçš„åœ°å€ä¸ªæ•°ï¼š\n$$ 2^{128} = 3.4 \\times 10^{38} $$\nåœ¨æƒ³è±¡å¾—åˆ°çš„å°†æ¥ï¼ŒIPv6çš„åœ°å€ç©ºé—´æ˜¯ä¸å¯èƒ½ç”¨å®Œçš„ã€‚\nDNS åŸŸåè§£æ Internetä¸­çš„åŸŸååœ°å€å’ŒIPåœ°å€æ˜¯ç­‰ä»·çš„ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯é€šè¿‡åŸŸåæœåŠ¡ï¼ˆDNSåŸŸåè§£æï¼‰æ¥å®Œæˆæ˜ å°„å˜æ¢çš„ã€‚\nDNSæ˜¯ä¸€ç§åˆ†å¸ƒå¼åœ°å€ä¿¡æ¯æ•°æ®åº“ç³»ç»Ÿï¼ŒæœåŠ¡å™¨ä¸­åŒ…å«æ•´ä¸ªæ•°æ®åº“çš„æŸéƒ¨åˆ†ä¿¡æ¯ï¼Œå¹¶ä¾›å®¢æˆ·æŸ¥è¯¢ã€‚DNSå…è®¸å±€éƒ¨æ§åˆ¶æ•´ä¸ªæ•°æ®åº“çš„æŸäº›éƒ¨åˆ†ï¼Œä½†æ•°æ®åº“çš„æ¯ä¸€éƒ¨åˆ†éƒ½å¯é€šè¿‡å…¨ç½‘æŸ¥è¯¢å¾—åˆ°ã€‚\nåŸŸåç³»ç»Ÿé‡‡ç”¨çš„æ˜¯å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ï¼Œæ•´ä¸ªç³»ç»Ÿç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š\nè§£æå™¨å’ŒåŸŸåæœåŠ¡å™¨ç»„æˆã€‚\nè§£æå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š\nè´Ÿè´£ï¼š\næŸ¥è¯¢åŸŸåæœåŠ¡å™¨ è§£é‡Šä»æœåŠ¡å™¨è¿”å›æ¥çš„åº”ç­” å°†ä¿¡æ¯è¿”å›ç»™è¯·æ±‚æ–¹ åŸŸåæœåŠ¡å™¨ï¼ˆæœåŠ¡å™¨ï¼‰ï¼šé€šå¸¸ä¿å­˜ç€ä¸€éƒ¨åˆ†åŸŸåç©ºé—´çš„å…¨éƒ¨ä¿¡æ¯ï¼Œè¿™éƒ¨åˆ†åŸŸåç©ºé—´ç§°ä¸ºåŒºï¼ˆZoneï¼‰ã€‚\nä¸€ä¸ªåŸŸåæœåŠ¡å™¨å¯ä»¥ç®¡ç†ä¸€ä¸ªæˆ–å¤šä¸ªåŒºã€‚\nåŸŸåæœåŠ¡å™¨å¯ä»¥åˆ†ä¸ºï¼š\nä¸»æœåŠ¡å™¨ Caching OnlyæœåŠ¡å™¨ è½¬å‘æœåŠ¡å™¨ï¼ˆForwarding Serverï¼‰ ä¸»åŸŸåæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°åŸŸåè¯·æ±‚åï¼ŒæŸ¥è¯¢é¡ºåºå¦‚ä¸‹ï¼š\næœ¬åœ°ç¼“å­˜ï¼šç¼“å­˜åœ¨è¯¥æœåŠ¡å™¨ä¸­çš„åŸŸåä¿¡æ¯ã€‚å¦‚æœå…ˆå‰æœ‰å¤šä¸ªç”¨æˆ·å¯¹è¯¥åŸŸåè¿›è¡Œè®¿é—®ï¼ŒåŸŸåæœåŠ¡å™¨ä¼šæ ¹æ®éœ€è¦å¯¹è¯¥åŸŸåçš„ä¿¡æ¯è¿›è¡Œç¼“å­˜ï¼Œä»¥ä¾¿åŠ å¿«åç»­ç”¨æˆ·è®¿é—®çš„é€Ÿåº¦ã€‚ æœ¬åœ°hostsæ–‡ä»¶ï¼šå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­çš„ä¸€ç§è®°å½•åŸŸåä¸å…¶å¯¹åº”IPçš„æ–‡ä»¶ã€‚åœ¨PCä¸­ä¹Ÿæœ‰è¿™æ ·çš„æ–‡ä»¶å­˜åœ¨ã€‚ æœ¬åœ°æ•°æ®åº“ï¼šå­˜å‚¨åŸŸåä¿¡æ¯çš„æ•°æ®åº“ã€‚ è½¬å‘åŸŸåæœåŠ¡å™¨ï¼šå¦‚æœç”¨æˆ·è®¿é—®çš„åŸŸååœ¨ä»¥ä¸Šå†…å®¹ä¸­éƒ½ä¸å­˜åœ¨æ—¶ï¼ŒåŸŸåæœåŠ¡å™¨ä¼šæ ¹æ®è®¿é—®çš„åŸŸåï¼Œåˆ°å¯¹åº”çš„å…¶ä»–åŸŸåæœåŠ¡å™¨ä¸­æŸ¥è¯¢ã€‚ ç”¨æˆ·AæŸ¥æ‰¾ç”¨æˆ·Bæ—¶ï¼ŒåŸŸåç³»ç»Ÿå·¥ä½œè¿‡ç¨‹å¦‚ï¼š\nè§£æå™¨å‘æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘å‡ºè¯·æ±‚æŸ¥é˜…ç”¨æˆ·Bçš„åŸŸåã€‚ æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æœ€é«˜å±‚åŸŸåæœåŠ¡å™¨å‘å‡ºæŸ¥è¯¢åœ°å€çš„è¯·æ±‚ã€‚ æœ€é«˜å±‚åŸŸåæœåŠ¡å™¨è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸€ä¸ªIPåœ°å€ã€‚ æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘ç»„åŸŸåæœåŠ¡å™¨å‘å‡ºæŸ¥è¯¢åœ°å€çš„è¯·æ±‚ã€‚ ç»„åŸŸåæœåŠ¡å™¨è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸€ä¸ªIPåœ°å€ã€‚ æœ¬åœ°æœåŠ¡å™¨å‘åˆšè¿”å›çš„åŸŸåæœåŠ¡å™¨å‘å‡ºæŸ¥è¯¢åŸŸååœ°å€è¯·æ±‚ã€‚ Påœ°å€è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ã€‚ æœ¬åœ°åŸŸåæœåŠ¡å™¨å°†è¯¥åœ°å€è¿”å›ç»™è§£æå™¨ã€‚ å› æ­¤ï¼Œåœ¨è®¿é—®ä¸»æœºçš„æ—¶å€™åªéœ€è¦çŸ¥é“åŸŸåï¼Œé€šè¿‡DNSæœåŠ¡å™¨å°†åŸŸåå˜æ¢ä¸ºIPåœ°å€ã€‚\nDNSæ‰€ç”¨çš„æ˜¯UDPç«¯å£ï¼Œç«¯å£å·ä¸º53ã€‚\nåœ¨æµè§ˆå™¨ä¸­è®¿é—®ç½‘ç«™æ—¶ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨æœåŠ¡æ–¹çš„åŸŸåè¿›è¡Œè®¿é—®ã€‚åœ¨è®¡ç®—æœºä¸Šä½¿ç”¨åŸŸåè®¿é—®å†…å®¹ï¼Œæœ¬åœ°è®¡ç®—æœºå¹¶ä¸ä¼šç›´æ¥å»DNSæœåŠ¡å™¨æŸ¥è¯¢ï¼Œè€Œæ˜¯ä¼šå…ˆåœ¨æœ¬åœ°æŸ¥è¯¢è¯¥åŸŸåã€‚è®¡ç®—æœºä½¿ç”¨åŸŸåè®¿é—®æ—¶ï¼ŒåŸŸåæŸ¥è¯¢çš„é¡ºåºæ˜¯ï¼š\næœ¬åœ°hostsæ–‡ä»¶ï¼šå­˜å‚¨åœ¨è®¡ç®—æœºç”µè„‘ä¸­çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚localhostå°±æ˜¯åœ¨æœ¬åœ°hostsæ–‡ä»¶ä¸­ä¸æœ¬åœ°IP127.0.0.1å¯¹åº”ã€‚ æœ¬åœ°DNSç¼“å­˜ï¼šå…ˆå‰è®¿é—®çš„åŸŸåä¸å…¶å¯¹åº”çš„IPç­‰ä¿¡æ¯ä¼šè¢«è®¡ç®—æœºç¼“å­˜åœ¨æœ¬åœ°ä¸­ï¼Œå¦‚æœæœ¬åœ°ä¸­æœ‰è¯¥åŸŸåçš„ç¼“å­˜ï¼Œé‚£ä¾¿æ— é¡»è®¿é—®DNSæœåŠ¡å™¨ã€‚ æœ¬åœ°DNSæœåŠ¡å™¨ã€‚ æ ¹åŸŸåæœåŠ¡å™¨ã€‚ å½“åœ¨Wbæµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥æŸURLå¹¶æŒ‰ä¸‹å›è½¦ï¼Œåˆ™å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼š\nå¯¹URLè¿›è¡ŒDNSåŸŸåè§£æï¼Œå¾—åˆ°å¯¹åº”çš„IPåœ°å€ï¼› æ ¹æ®è¿™ä¸ªIPï¼Œæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå‘èµ·TCPè¿æ¥ï¼Œè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼š å»ºç«‹TCPè¿æ¥åå‘èµ·HTTPè¯·æ±‚ï¼› æœåŠ¡å™¨å“åº”HTTPè¯·æ±‚ï¼Œæµè§ˆå™¨å¾—åˆ°HTMLä»£ç ï¼› é€šä¿¡å®Œæˆï¼Œæ–­å¼€TCPè¿æ¥ï¼› æµè§ˆå™¨è§£æHTMLä»£ç ï¼Œå¹¶è¯·æ±‚HTMLä»£ç ä¸­çš„èµ„æºï¼ˆå¦‚sã€csså›¾ç‰‡ç­‰ï¼‰ï¼› æµè§ˆå™¨å°†é¡µé¢å‘ˆç°ç»™ç”¨æˆ·ã€‚ æ— çº¿é€šä¿¡æŠ€æœ¯ æµè¡Œçš„æ— çº¿é€šä¿¡æŠ€æœ¯æœ‰WiFiã€è“ç‰™ç­‰ã€‚\nå…¶ä¸­ï¼Œè“ç‰™è¦†ç›–èŒƒå›´æœ€å°ã€é€šä¿¡è·ç¦»æœ€çŸ­ã€‚\nipconfig å‘½ä»¤ ipconfigæ˜¯Windowsä¸­ï¼Œè°ƒè¯•è®¡ç®—æœºç½‘ç»œå¸¸ç”¨çš„å‘½ä»¤ï¼ˆè½¯ä»¶ï¼‰ï¼Œç±»ä¼¼äºLinuxä¸­çš„ifconfigã€‚\nipconfigå‘½ä»¤çš„ç”¨æ³•å¦‚ä¸‹ï¼š\nå‚æ•° è¯´æ˜ ç¤ºä¾‹ æ— å‚æ•° æ˜¾ç¤ºæ‰€æœ‰ç½‘ç»œé€‚é…å™¨çš„IPåœ°å€ã€å­ç½‘æ©ç å’Œç¼ºçœç½‘å…³å€¼ ipconfig /all æ˜¾ç¤ºæ‰€æœ‰ç½‘ç»œé€‚é…å™¨çš„å®Œæ•´TCP/IPé…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬DHCPæœåŠ¡æ˜¯å¦å·²å¯åŠ¨ ipconfig /all /displaydns æ˜¾ç¤ºæœ¬åœ°DNSå†…å®¹ ipconfig /displaydns /flushdns æ¸…é™¤æœ¬åœ°DNSç¼“å­˜å†…å®¹ ipconfig /flushdns /registerdns DNSå®¢æˆ·ç«¯æ‰‹å·¥å‘æœåŠ¡å™¨è¿›è¡Œæ³¨å†Œ ipconfig /registerdns /release DHCPå®¢æˆ·ç«¯æ‰‹å·¥é‡Šæ”¾IPåœ°å€ ipconfig /release /renew DHCPå®¢æˆ·ç«¯æ‰‹å·¥å‘æœåŠ¡å™¨åˆ·æ–°è¯·æ±‚ï¼ˆé‡æ–°ç”³è¯·IPåœ°å€ï¼‰ ipconfig /renew ç½‘ç»œä¿¡æ¯å®‰å…¨ ç½‘ç»œå­˜åœ¨çš„å¨èƒä¸»è¦è¡¨ç°åœ¨ä»¥ä¸‹5æ–¹é¢ï¼š\néæˆæƒè®¿é—® ä¿¡æ¯æ³„éœ²æˆ–ä¸¢å¤± ç ´åæ•°æ®å®Œæ•´æ€§ æ‹’ç»æœåŠ¡æ”»å‡» åˆ©ç”¨ç½‘ç»œä¼ æ’­ç—…æ¯’ ç½‘ç»œå®‰å…¨æ§åˆ¶æŠ€æœ¯ä¸»è¦æœ‰ï¼š\né˜²ç«å¢™æŠ€æœ¯ åŠ å¯†æŠ€æœ¯ ç”¨æˆ·è¯†åˆ«æŠ€æœ¯ è®¿é—®æ§åˆ¶æŠ€æœ¯ ç½‘ç»œåç—…æ¯’æŠ€æœ¯ ç½‘ç»œå®‰å…¨æ¼æ´æ‰«ææŠ€æœ¯ å…¥ä¾µæ£€æµ‹æŠ€æœ¯ è¦ä¿æŠ¤ç½‘ç»œå®‰å…¨é™¤äº†ç½‘ç»œå®‰å…¨æªæ–½ï¼ˆä½¿ç”¨ç½‘ç»œå®‰å…¨æ§åˆ¶æŠ€æœ¯ï¼‰ä¹‹å¤–ï¼Œè¿˜æœ‰ï¼š\nç‰©ç†çº¿è·¯å®‰å…¨æªæ–½ï¼šä¾‹å¦‚è®¾å¤‡é˜²é›·ã€‚ ç³»ç»Ÿå®‰å…¨æªæ–½ï¼šä¾‹å¦‚æ¼æ´å‘ç°ä¸è¡¥ä¸ç®¡ç†ã€‚ é˜²ç«å¢™æŠ€æœ¯ é˜²ç«å¢™ï¼ˆFirewallï¼‰æ˜¯å»ºç«‹åœ¨å†…å¤–ç½‘ç»œè¾¹ç•Œä¸Šçš„è¿‡æ»¤å°é”æœºåˆ¶ï¼Œå®ƒè®¤ä¸ºï¼š\nå†…éƒ¨ç½‘ç»œæ˜¯å®‰å…¨å’Œå¯ä¿¡èµ–çš„ï¼› å¤–éƒ¨ç½‘ç»œæ˜¯ä¸å®‰å…¨å’Œä¸å¯ä¿¡èµ–çš„ã€‚ é˜²ç«å¢™æ˜¯ç½‘ç»œå®‰å…¨ä½“ç³»çš„åŸºç¡€å’Œæ ¸å¿ƒæ§åˆ¶è®¾æ–½ï¼ŒåŒæ—¶ä¹Ÿæ‰¿æ‹…ç€ç¹é‡çš„é€šä¿¡ä»»åŠ¡ã€‚\né˜²ç«å¢™çš„ä½œç”¨ï¼šé˜²æ­¢ä¸å¸Œæœ›çš„ã€æœªç»æˆæƒåœ°è¿›å‡ºè¢«ä¿æŠ¤çš„å†…éƒ¨ç½‘ç»œã€‚\né˜²ç«å¢™å¯¹é€šè¿‡å—æ§å¹²çº¿çš„ä»»ä½•é€šä¿¡è¡Œä¸ºè¿›è¡Œå®‰å…¨å¤„ç†ï¼Œå¦‚ï¼š\næ§åˆ¶ å®¡è®¡ æŠ¥è­¦ ååº” é˜²ç«å¢™æŠ€æœ¯ç»å†äº†ä¸‰ä¸ªå‘å±•é˜¶æ®µï¼š\nåŒ…è¿‡æ»¤é˜²ç«å¢™ åº”ç”¨ä»£ç†ç½‘å…³é˜²ç«å¢™ çŠ¶æ€æ£€æµ‹æŠ€æœ¯é˜²ç«å¢™ åŒ…è¿‡æ»¤é˜²ç«å¢™ åŒ…è¿‡æ»¤é˜²ç«å¢™ä¸€èˆ¬æœ‰ä¸€ä¸ªåŒ…æ£€æŸ¥å—ï¼ˆé€šå¸¸ç§°ä¸ºåŒ…è¿‡æ»¤å™¨ï¼‰ï¼Œæ•°æ®åŒ…è¿‡æ»¤å¯ä»¥æ ¹æ®æ•°æ®åŒ…å¤´ä¸­çš„å„é¡¹ä¿¡æ¯æ¥æ§åˆ¶ä»¥ä¸‹å†…å®¹ä¹‹é—´çš„ç›¸äº’è®¿é—®ï¼š\nç«™ç‚¹ä¸ç«™ç‚¹ ç«™ç‚¹ä¸ç½‘ç»œ ç½‘ç»œä¸ç½‘ç»œ åŒ…è¿‡æ»¤é˜²ç«å¢™æ— æ³•æ§åˆ¶ä¼ è¾“æ•°æ®çš„å†…å®¹ï¼Œå› ä¸ºå†…å®¹æ˜¯åº”ç”¨å±‚æ•°æ®ï¼Œè€ŒåŒ…è¿‡æ»¤å™¨å¤„åœ¨ç½‘ç»œå±‚å’Œæ•°æ®é“¾è·¯å±‚ï¼ˆå³TCPå’ŒPå±‚ï¼‰ä¹‹é—´ã€‚\né€šè¿‡æ£€æŸ¥æ¨¡å—ï¼Œé˜²ç«å¢™èƒ½å¤Ÿæ‹¦æˆªå’Œæ£€æŸ¥æ‰€æœ‰å‡ºç«™å’Œè¿›ç«™çš„æ•°æ®ï¼Œå…¶è¿‡ç¨‹å¦‚ä¸‹ï¼š\næ‰“å¼€åŒ… å–å‡ºåŒ…å¤´ æ ¹æ®åŒ…å¤´çš„ä¿¡æ¯ç¡®å®šè¯¥åŒ…æ˜¯å¦ç¬¦åˆåŒ…è¿‡æ»¤è§„åˆ™ å¯¹è¿‡æ»¤è¿›è¡Œè®°å½• å¯¹äºä¸ç¬¦åˆè§„åˆ™çš„åŒ…ï¼Œè¿›è¡ŒæŠ¥è­¦å¹¶ä¸¢å¼ƒè¯¥åŒ… è¿‡æ»¤å‹é˜²ç«å¢™çš„ä¼˜ç‚¹ï¼š\nå¯¹ç”¨æˆ·å®Œå…¨é€æ˜ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼ˆé€šå¸¸ç›´æ¥è½¬å‘æŠ¥æ–‡ï¼‰ï¼› å¯¹æ¯æ¡ä¼ å…¥å’Œä¼ å‡ºç½‘ç»œçš„åŒ…å®è¡Œä½æ°´å¹³æ§åˆ¶ï¼› æ¯ä¸ªIPåŒ…çš„å­—æ®µéƒ½è¢«æ£€æŸ¥ï¼Œä¾‹å¦‚ï¼š æºåœ°å€ï¼Œ ç›®çš„IPåœ°å€ï¼Œ åè®®ï¼Œ ç«¯å£ï¼› å¯ä»¥è¯†åˆ«å’Œä¸¢å¼ƒå¸¦æ¬ºéª—æ€§æºIPåœ°å€çš„åŒ…ï¼› åŒ…è¿‡æ»¤é˜²ç«å¢™æ˜¯ä¸¤ä¸ªç½‘ç»œä¹‹é—´è®¿é—®çš„å”¯ä¸€æ¥æºï¼› åŒ…è¿‡æ»¤é€šå¸¸è¢«åŒ…å«åœ¨è·¯ç”±å™¨æ•°æ®åŒ…ä¸­ï¼Œæ‰€ä»¥ä¸éœ€è¦é¢å¤–çš„ç³»ç»Ÿæ¥å¤„ç†è¿™ä¸ªç‰¹å¾ã€‚ è¿‡æ»¤å‹é˜²ç«å¢™çš„ç¼ºç‚¹ï¼š\nä¸èƒ½é˜²èŒƒé»‘å®¢æ”»å‡»ï¼Œå› ä¸ºç½‘ç®¡ä¸å¯èƒ½åŒºåˆ†å‡ºå¯ä¿¡ç½‘ç»œä¸ä¸å¯ä¿¡ç½‘ç»œçš„ç•Œé™ï¼› ä¸æ”¯æŒåº”ç”¨å±‚åè®®ï¼Œå› ä¸ºå®ƒä¸è¯†åˆ«æ•°æ®åŒ…ä¸­çš„åº”ç”¨å±‚åè®®ï¼Œè®¿é—®æ§åˆ¶ç²’åº¦å¤ªç²—ç³™ï¼› ä¸èƒ½å¤„ç†æ–°çš„å®‰å…¨å¨èƒã€‚ åº”ç”¨ä»£ç†ç½‘å…³é˜²ç«å¢™ åº”ç”¨ä»£ç†ç½‘å…³é˜²ç«å¢™å½»åº•éš”æ–­å†…ç½‘ä¸å¤–ç½‘çš„ç›´æ¥é€šä¿¡ï¼šå†…ç½‘ç”¨æˆ·å¯¹å¤–ç½‘çš„è®¿é—®å˜æˆé˜²ç«å¢™å¯¹å¤–ç½‘çš„è®¿é—®ï¼Œç„¶åå†ç”±é˜²ç«å¢™è½¬å‘ç»™å†…ç½‘ç”¨æˆ·ã€‚æ‰€æœ‰é€šä¿¡éƒ½å¿…é¡»ç»åº”ç”¨å±‚ä»£ç†è½¯ä»¶è½¬å‘ï¼Œè®¿é—®è€…ä»»ä½•æ—¶å€™éƒ½ä¸èƒ½ä¸æœåŠ¡å™¨å»ºç«‹ç›´æ¥çš„TCPè¿æ¥ï¼Œåº”ç”¨å±‚çš„åè®®ä¼šè¯è¿‡ç¨‹å¿…é¡»ç¬¦åˆä»£ç†çš„å®‰å…¨ç­–ç•¥è¦æ±‚ã€‚\nåº”ç”¨ä»£ç†ç½‘å…³çš„ä¼˜ç‚¹ï¼š\nå¯ä»¥æ£€æŸ¥åº”ç”¨å±‚ã€ä¼ è¾“å±‚å’Œç½‘ç»œå±‚çš„åè®®ç‰¹å¾ï¼› å¯¹æ•°æ®åŒ…çš„æ£€æµ‹èƒ½åŠ›æ¯”è¾ƒå¼ºã€‚ åº”ç”¨ä»£ç†ç½‘å…³çš„ç¼ºç‚¹ï¼š\néš¾ä»¥é…ç½®ï¼› å¤„ç†é€Ÿåº¦éå¸¸æ…¢ã€‚ çŠ¶æ€æ£€æµ‹æŠ€æœ¯é˜²ç«å¢™ çŠ¶æ€æ£€æµ‹æŠ€æœ¯é˜²ç«å¢™ç»“åˆäº†ä»£ç†é˜²ç«å¢™çš„å®‰å…¨æ€§å’ŒåŒ…è¿‡æ»¤é˜²ç«å¢™çš„é«˜é€Ÿåº¦ç­‰ä¼˜ç‚¹ï¼Œåœ¨ä¸æŸå¤±å®‰å…¨æ€§çš„åŸºç¡€ä¸Šï¼Œæé«˜äº†ä»£ç†é˜²ç«å¢™çš„æ€§èƒ½ã€‚\nå…¥ä¾µæ£€æµ‹ä¸é˜²å¾¡ å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼ˆIntrusion Detection Systemï¼ŒDSï¼‰ä½œä¸ºé˜²ç«å¢™ä¹‹åçš„ç¬¬äºŒé“å®‰å…¨å±éšœï¼Œé€šè¿‡ä»è®¡ç®—æœºç³»ç»Ÿæˆ–ç½‘ç»œä¸­çš„è‹¥å¹²å…³é”®ç‚¹æ”¶é›†ç½‘ç»œçš„å®‰å…¨æ—¥å¿—ã€ç”¨æˆ·çš„è¡Œä¸ºã€ç½‘ç»œæ•°æ®åŒ…å’Œå®¡è®¡è®°å½•ç­‰ä¿¡æ¯å¹¶å¯¹å…¶è¿›è¡Œåˆ†æï¼Œä»ä¸­æ£€æŸ¥æ˜¯å¦æœ‰è¿åå®‰å…¨ç­–ç•¥çš„è¡Œä¸ºå’Œé­åˆ°å…¥ä¾µæ”»å‡»çš„è¿¹è±¡ã€‚å…¥ä¾µæ£€æµ‹ç³»ç»Ÿæ ¹æ®æ£€æµ‹ç»“æœï¼Œè‡ªåŠ¨åšå‡ºå“åº”ã€‚\nå…¥ä¾µæ£€æµ‹ç³»ç»Ÿæœ‰æ•ˆçš„å¼¥è¡¥äº†é˜²ç«å¢™ç³»ç»Ÿå¯¹ç½‘ç»œä¸Šçš„å…¥ä¾µè¡Œä¸ºæ— æ³•è¯†åˆ«å’Œæ£€æµ‹çš„ä¸è¶³ã€‚\nå…¥ä¾µé˜²å¾¡ç³»ç»Ÿï¼ˆIPSï¼‰æ˜¯åœ¨å…¥ä¾µæ£€æµ‹ç³»ç»Ÿçš„åŸºç¡€ä¸Šå‘å±•èµ·æ¥çš„ï¼Œå…¥ä¾µé˜²å¾¡ç³»ç»Ÿä¸ä»…èƒ½å¤Ÿæ£€æµ‹åˆ°ç½‘ç»œä¸­çš„æ”»å‡»è¡Œä¸ºï¼ŒåŒæ—¶ä¸»åŠ¨çš„å¯¹æ”»å‡»è¡Œä¸ºèƒ½å¤Ÿå‘å‡ºå“åº”ï¼Œå¯¹æ”»å‡»è¿›è¡Œé˜²å¾¡ã€‚ä¸¤è€…ç›¸è¾ƒï¼Œä¸»è¦å­˜åœ¨ä»¥ä¸‹åŒºåˆ«ï¼š\nåœ¨ç½‘ç»œä¸­çš„éƒ¨ç½²ä½ç½®çš„ä¸åŒï¼› å…¥ä¾µå“åº”èƒ½åŠ›çš„ä¸åŒã€‚ ç½‘ç»œæ”»å‡» ç½‘ç»œæ”»å‡»æ˜¯æ”»å‡»è€…é’ˆå¯¹ç‰¹å®šç›®æ ‡å®æ–½çš„æœ‰ç‰¹å®šç›®çš„çš„æ´»åŠ¨ï¼Œæ”»å‡»ç›®æ ‡å¯¹äºæ”»å‡»è€…æ˜¯ä¸ªé»‘ç›’å­ã€‚\nå¸¸è§çš„ç½‘ç»œæ”»å‡»æ‰‹æ®µæœ‰ï¼š\næ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDosæ”»å‡»ï¼‰ï¼šç›®çš„æ˜¯ä½¿è®¡ç®—æœºæˆ–ç½‘ç»œæ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡ã€‚\næ‹’ç»æœåŠ¡æ”»å‡»æ˜¯ä¸æ–­å‘è®¡ç®—æœºå‘èµ·è¯·æ±‚æ¥å®ç°çš„ã€‚\né‡æ”¾æ”»å‡»ï¼šæ”»å‡»è€…å‘é€ä¸€ä¸ªç›®çš„ä¸»æœºå·²ç»æ¥å—è¿‡çš„æŠ¥æ–‡æ¥è¾¾åˆ°æ”»å‡»ç›®çš„ã€‚\næ”»å‡»è€…åˆ©ç”¨ç½‘ç»œç›‘å¬æˆ–è€…å…¶ä»–æ–¹å¼ç›—å–è®¤è¯å‡­æ®ï¼Œä¹‹åå†é‡æ–°å‘é€ç»™è®¤è¯æœåŠ¡å™¨ã€‚\né‡æ”¾æ”»å‡»ä¸»è¦ç”¨äºèº«ä»½è®¤è¯è¿‡ç¨‹ï¼Œç›®çš„æ˜¯ç ´åè®¤è¯çš„æ­£ç¡®æ€§ã€‚\nå£ä»¤å…¥ä¾µæ”»å‡»ï¼šä½¿ç”¨æŸäº›åˆæ³•ç”¨æˆ·çš„è´¦å·å’Œå£ä»¤ç™»å½•åˆ°ç›®çš„ä¸»æœºï¼Œç„¶åå†å®æ–½æ”»å‡»æ´»åŠ¨ã€‚\nç‰¹æ´›ä¼Šæœ¨é©¬ï¼šè¢«ä¼ªè£…æˆç¨‹åºæˆ–æ¸¸æˆï¼Œå½“ç”¨æˆ·ä¸‹è½½äº†å¸¦æœ‰æœ¨é©¬çš„è½¯ä»¶æˆ–é™„ä»¶æ—¶ï¼Œè¿™ä¸ªç¨‹åºå°±ä¼šå‘é»‘å®¢å‘èµ·è¿æ¥è¯·æ±‚ï¼Œå»ºç«‹è¿æ¥åé»‘å®¢å°±å®æ–½æ”»å‡»æ´»åŠ¨ã€‚\nç«¯å£æ¬ºéª—æ”»å‡»ï¼šé‡‡ç”¨ç«¯å£æ‰«ææ‰¾åˆ°ç³»ç»Ÿæ¼æ´ä»è€Œå®æ–½æ”»å‡»ã€‚\nç½‘ç»œç›‘å¬ï¼šæ”»å‡»è€…å¯ä»¥æ¥æ”¶æŸä¸€ç½‘æ®µåœ¨åŒä¸€æ¡ç‰©ç†é€šé“ä¸Šä¼ è¾“çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä½¿ç”¨ç½‘ç»œç›‘å¬å¯ä»¥è½»æ¾æˆªå–åŒ…æ‹¬è´¦å·å’Œå£ä»¤åœ¨å†…çš„ä¿¡æ¯èµ„æ–™ã€‚\nIPæ¬ºéª—æ”»å‡»ï¼šäº§ç”Ÿçš„IPæ•°æ®åŒ…ä¸ºä¼ªé€ çš„æºIPåœ°å€ï¼Œä»¥ä¾¿å†’å……å…¶ä»–ç³»ç»Ÿæˆ–å‘ä»¶äººçš„èº«ä»½ã€‚\nSQLæ³¨å…¥æ”»å‡»ï¼šæ˜¯é»‘å®¢å¯¹æ•°æ®åº“è¿›è¡Œæ”»å‡»çš„å¸¸ç”¨æ‰‹æ®µä¹‹ä¸€ã€‚\nSQLæ³¨å…¥äº§ç”Ÿçš„åŸå› ï¼š\næ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥æ•°æ®çš„åˆæ³•æ€§è¿›è¡Œåˆ¤æ–­ï¼Œä½¿åº”ç”¨ç¨‹åºå­˜åœ¨å®‰å…¨éšæ‚£ã€‚ æ”»å‡»è€…å¯ä»¥æäº¤ä¸€æ®µæ•°æ®åº“æŸ¥è¯¢ä»£ç ï¼Œæ ¹æ®ç¨‹åºè¿”å›çš„ç»“æœï¼Œè·å¾—æŸäº›ä»–æƒ³å¾—çŸ¥çš„æ•°æ®ï¼Œ è·å–æ•°æ®åº“çš„æƒé™ï¼Œå°±å¯è·å–ç”¨æˆ·è´¦å·å’Œå£ä»¤ä¿¡æ¯ï¼Œä»¥åŠå¯¹æŸäº›æ•°æ®ä¿®æ”¹ç­‰ã€‚ å…¥ä¾µæ£€æµ‹æŠ€æœ¯ï¼š\nä¸“å®¶ç³»ç»Ÿ æ¨¡å‹æ£€æµ‹ ç®€å•åŒ¹é… ç—…æ¯’ è®¡ç®—æœºç—…æ¯’ï¼ˆComputer Virusï¼‰æ˜¯æŒ‡ç¼–åˆ¶è€…åœ¨è®¡ç®—æœºç¨‹åºä¸­æ’å…¥çš„ç ´åè®¡ç®—æœºåŠŸèƒ½æˆ–è€…æ•°æ®çš„ä»£ç ï¼Œèƒ½å½±å“è®¡ç®—æœºä½¿ç”¨ï¼Œèƒ½è‡ªæˆ‘å¤åˆ¶çš„ä¸€ç»„è®¡ç®—æœºæŒ‡ä»¤æˆ–è€…ç¨‹åºä»£ç ã€‚\nè®¡ç®—æœºç—…æ¯’çš„ç‰¹å¾åŒ…æ‹¬ï¼š\nä¼ æ’­æ€§ éšè”½æ€§ æ„ŸæŸ“æ€§ æ½œä¼æ€§ è§¦å‘æ€§ ç ´åæ€§ å¸¸è§çš„ç—…æ¯’ç±»å‹æœ‰ï¼š\nWormï¼ˆè •è™«ç—…æ¯’ï¼‰ï¼š\næ¬¢ä¹æ—¶å…‰ï¼Œ ç†ŠçŒ«çƒ§é¦™ï¼Œ çº¢è‰²ä»£ç ï¼Œ çˆ±è™«ç—…æ¯’ï¼Œ éœ‡ç½‘ã€‚ Trojanï¼ˆç‰¹æ´›ä¼Šæœ¨é©¬ï¼‰ï¼šé€šè¿‡å†…éƒ¨å‘èµ·è¿æ¥ä¸å¤–éƒ¨ä¸»æœºå»ºç«‹è”ç³»ï¼Œç”±å¤–éƒ¨ä¸»æœºæ§åˆ¶å¹¶ç›—å–ç”¨æˆ·ä¿¡æ¯ã€‚\nè®¡ç®—æœºæ„ŸæŸ“ç‰¹æ´›ä¼Šæœ¨é©¬åçš„å…¸å‹çº¿å‹æ˜¯æœ‰æœªçŸ¥ç¨‹åºè¯•å›¾å»ºç«‹ç½‘ç»œè¿æ¥ã€‚\nå¸¸è§çš„æœ¨é©¬å¦‚å†°æ²³ã€‚\nBackdoorï¼ˆåé—¨ç—…æ¯’ï¼‰ã€‚\nMacroï¼ˆå®ç—…æ¯’ï¼‰ï¼š\nå®ç—…æ¯’æ„ŸæŸ“çš„å¯¹è±¡ä¸»è¦æ˜¯æ–‡æœ¬æ–‡æ¡£ã€ç”µå­è¡¨æ ¼ç­‰ã€‚\nç½‘ç»œå®‰å…¨ SSLï¼ˆSecure Socket Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰ï¼šä¼ è¾“å±‚å®‰å…¨åè®®ï¼Œç”¨äºå®ç°Webå®‰å…¨é€šä¿¡ã€‚\nSSLå¸¸ç”¨ç«¯å£å·ä¸º443ã€‚\nTLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨åè®®ï¼šå»ºç«‹åœ¨SSL3.0åè®®è§„èŒƒä¹‹ä¸Šï¼Œæ˜¯SSL3.0çš„åç»­ç‰ˆæœ¬ã€‚\nSSHï¼ˆSecure Shellï¼‰ï¼šç»ˆç«¯è®¾å¤‡ä¸è¿œç¨‹ç«™ç‚¹ä¹‹é—´å»ºç«‹å®‰å…¨è¿æ¥çš„åè®®ï¼Œæ˜¯å»ºç«‹åœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ã€‚\nSSHæ˜¯ä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ã€‚åˆ©ç”¨SSHåè®®å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚\nSSHæœ€åˆæ˜¯UNIXä¸Šçš„ç¨‹åºï¼Œåæ¥åˆè¿…é€Ÿæ‰©å±•åˆ°å…¶ä»–æ“ä½œå¹³å°ï¼ˆå¦‚Linuxã€Windowsï¼‰ã€‚\nHTTPSï¼ˆHyper Text Transfer Protocol over Secure Socket Layerï¼‰ï¼šæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œå³ä½¿ç”¨SSLåŠ å¯†ç®—æ³•çš„HTTPã€‚\nMMEï¼ˆMultipurpose Internet Mail Extensionsï¼Œå¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ï¼‰ï¼šæ˜¯ä¸€ä¸ªäº’è”ç½‘æ ‡å‡†ï¼Œæ‰©å±•äº†ç”µå­é‚®ä»¶æ ‡å‡†ã€‚\nPGPï¼ˆPretty Good Privacyï¼Œä¼˜è‰¯ä¿å¯†åè®®ï¼‰ï¼šæ˜¯ä¸€ä¸ªåŸºäºRSAå…¬åŒ™åŠ å¯†ä½“ç³»çš„é‚®ä»¶åŠ å¯†è½¯ä»¶ã€‚\nå¯ä»¥ç”¨å®ƒå¯¹é‚®ä»¶ä¿å¯†ä»¥é˜²æ­¢éæˆæƒè€…é˜…è¯»ï¼Œè¿˜èƒ½å¯¹é‚®ä»¶åŠ ä¸Šæ•°å­—ç­¾åä»è€Œä½¿æ”¶ä¿¡äººå¯ä»¥ç¡®è®¤é‚®ä»¶çš„å‘é€æ–¹ã€‚\n","date":"2023å¹´5æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/computer-nework/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"ä¿¡æ¯å®‰å…¨","url":"/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"},{"title":"è®¡ç®—æœºç½‘ç»œ","url":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"timestamp":1683871268,"title":"è®¡ç®—æœºç½‘ç»œç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ¦‚è¿° è½¯ä»¶å·¥ç¨‹æ˜¯æŒ‡åº”ç”¨è®¡ç®—æœºç§‘å­¦ã€æ•°å­¦åŠç®¡ç†ç§‘å­¦ç­‰åŸç†ï¼Œä»¥å·¥ç¨‹åŒ–çš„åŸåˆ™å’Œæ–¹æ³•æ¥è§£å†³è½¯ä»¶é—®é¢˜çš„å·¥ç¨‹ï¼Œå…¶ç›®çš„æ˜¯æé«˜è½¯ä»¶ç”Ÿäº§ç‡ã€æé«˜è½¯ä»¶è´¨é‡ã€é™ä½è½¯ä»¶æˆæœ¬ã€‚\nè½¯ä»¶å·¥ç¨‹å­¦ï¼š\nè½¯ä»¶å¼€å‘æŠ€æœ¯ è½¯ä»¶å¼€å‘æ–¹æ³•å­¦ è½¯ä»¶å·¥å…· è½¯ä»¶å·¥ç¨‹ç¯å¢ƒ è½¯ä»¶å·¥ç¨‹ç®¡ç† è½¯ä»¶å·¥ç¨‹ç®¡ç†å­¦ è½¯ä»¶ç»æµå­¦ è½¯ä»¶å·¥ç¨‹æ¶‰åŠè½¯ä»¶å¼€å‘ã€ç»´æŠ¤ã€ç®¡ç†ç­‰å¤šæ–¹é¢çš„åŸç†ã€æ–¹æ³•ã€å·¥å…·ä¸ç¯å¢ƒã€‚\nè®¡ç®—æœºè½¯ä»¶ è®¡ç®—æœºè½¯ä»¶æ˜¯æŒ‡ï¼š\nè®¡ç®—æœºç³»ç»Ÿä¸­çš„ç¨‹åºï¼šè®¡ç®—ä»»åŠ¡çš„å¤„ç†å¯¹è±¡å’Œå¤„ç†è§„åˆ™çš„æè¿°ã€‚\nè®¡ç®—ä»»åŠ¡ï¼šä»»ä½•ä»¥è®¡ç®—æœºä¸ºå¤„ç†å·¥å…·çš„ä»»åŠ¡ã€‚\nå¤„ç†å¯¹è±¡ï¼š\næ•°æ®ï¼šå¦‚æ•°å­—ã€æ–‡å­—ã€å›¾å½¢ã€å›¾åƒã€å£°éŸ³ç­‰ï¼Œå®ƒä»¬åªæ˜¯è¡¨ç¤ºï¼Œè€Œæ— å«ä¹‰ã€‚ ä¿¡æ¯ï¼šæ•°æ®åŠæœ‰å…³çš„å«ä¹‰ã€‚ å¤„ç†è§„åˆ™ï¼šä¸€èˆ¬æŒ‡å¤„ç†çš„åŠ¨ä½œå’Œæ­¥éª¤ã€‚\nç¨‹åºæ–‡æ¡£ï¼šæ–‡æ¡£æ˜¯ä¸ºäº†ä¾¿äºäº†è§£ç¨‹åºæ‰€éœ€çš„é˜è¿°æ€§èµ„æ–™ã€‚\næŒ‰ç…§è½¯ä»¶çš„åº”ç”¨é¢†åŸŸï¼Œå¯ä»¥å°†è®¡ç®—æœºè½¯ä»¶åˆ†ä¸ºåå¤§ç±»ï¼š\nç³»ç»Ÿè½¯ä»¶ åº”ç”¨è½¯ä»¶ å·¥ç¨‹/ç§‘å­¦è½¯ä»¶ åµŒå…¥å¼è½¯ä»¶ äº§å“çº¿è½¯ä»¶ Webåº”ç”¨ äººå·¥æ™ºèƒ½è½¯ä»¶ å¼€æ”¾è®¡ç®— ç½‘ç»œèµ„æº å¼€æºè½¯ä»¶ è½¯ä»¶ç”Ÿå­˜å‘¨æœŸ å¯è¡Œæ€§åˆ†æä¸é¡¹ç›®å¼€å‘è®¡åˆ’ éœ€æ±‚åˆ†æ æ¦‚è¦è®¾è®¡ è¯¦ç»†è®¾è®¡ ç¼–ç  æµ‹è¯• ç»´æŠ¤ è½¯ä»¶è¿‡ç¨‹æ¨¡å‹ è½¯ä»¶å¼€å‘ä¸­æ‰€éµå¾ªçš„è·¯çº¿å›¾ï¼ˆä¸€ç³»åˆ—å¯é¢„æµ‹çš„æ­¥éª¤ï¼‰ç§°ä¸ºâ€œè½¯ä»¶è¿‡ç¨‹â€ã€‚è¿‡ç¨‹æ˜¯æ´»åŠ¨çš„é›†åˆï¼Œæ´»åŠ¨æ˜¯ä»»åŠ¡çš„é›†åˆã€‚\nè½¯ä»¶è¿‡ç¨‹æœ‰3å±‚å«ä¹‰ï¼š\nä¸ªä½“å«ä¹‰ æ•´ä½“å«ä¹‰ å·¥ç¨‹å«ä¹‰ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ è½¯ä»¶è¿‡ç¨‹èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ï¼ˆCapability Maturity Model of Softwareï¼ŒCMMï¼‰æ˜¯å¯¹è½¯ä»¶ç»„ç»‡è¿›åŒ–é˜¶æ®µçš„æè¿°ï¼Œéšç€è½¯ä»¶ç»„ç»‡å®šä¹‰ã€å®æ–½ã€æµ‹é‡ã€æ§åˆ¶å’Œæ”¹è¿›å…¶è½¯ä»¶è¿‡ç¨‹ï¼Œè½¯ä»¶ç»„ç»‡çš„èƒ½åŠ›ç»è¿‡è¿™äº›é˜¶æ®µé€æ­¥æé«˜ã€‚\nèƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ä½¿è½¯ä»¶ç»„ç»‡èƒ½å¤Ÿè¾ƒå®¹æ˜“åœ°ç¡®å®šå…¶å½“å‰è¿‡ç¨‹çš„æˆç†Ÿåº¦å¹¶è¯†åˆ«å…¶è½¯ä»¶è¿‡ç¨‹æ‰§è¡Œä¸­çš„è–„å¼±ç¯èŠ‚ï¼Œç¡®å®šå¯¹è½¯ä»¶è´¨é‡å’Œè¿‡ç¨‹æ”¹è¿›æœ€ä¸ºå…³é”®çš„å‡ ä¸ªé—®é¢˜ï¼Œä»è€Œå½¢æˆå¯¹å…¶è¿‡ç¨‹çš„æ”¹è¿›ç­–ç•¥ã€‚\nCMMå°†è½¯ä»¶è¿‡ç¨‹æ”¹è¿›åˆ†ä¸ºä»¥ä¸‹5ä¸ªæˆç†Ÿåº¦çº§åˆ«ï¼š\nåˆå§‹çº§ï¼ˆInitialï¼‰ï¼š\nè½¯ä»¶è¿‡ç¨‹çš„ç‰¹ç‚¹æ˜¯æ‚ä¹±æ— ç« ï¼Œæœ‰æ—¶ç”šè‡³å¾ˆæ··ä¹±ï¼Œå‡ ä¹æ²¡æœ‰æ˜ç¡®å®šä¹‰çš„æ­¥éª¤ã€‚\nå¯é‡å¤çº§ï¼ˆRepeatableï¼‰ï¼š\nå»ºç«‹äº†åŸºæœ¬çš„é¡¹ç›®ç®¡ç†è¿‡ç¨‹å’Œå®è·µæ¥è·Ÿè¸ªé¡¹ç›®è´¹ç”¨ã€è¿›åº¦å’ŒåŠŸèƒ½ç‰¹æ€§ï¼›å»ºç«‹äº†æœ‰å¿…è¦çš„è¿‡ç¨‹å‡†åˆ™æ¥é‡å¤ä»¥å‰åœ¨åŒç±»é¡¹ç›®ä¸­çš„æˆåŠŸã€‚\nå·²å®šä¹‰çº§ï¼ˆDefinedï¼‰ï¼š\nç®¡ç†å’Œå·¥ç¨‹ä¸¤æ–¹é¢çš„è½¯ä»¶è¿‡ç¨‹å·²ç»æ–‡æ¡£åŒ–ã€æ ‡å‡†åŒ–ï¼Œå¹¶ç»¼åˆæˆæ•´ä¸ªè½¯ä»¶å¼€å‘ç»„ç»‡çš„æ ‡å‡†è½¯ä»¶è¿‡ç¨‹ã€‚æ‰€æœ‰é¡¹ç›®éƒ½é‡‡ç”¨æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹åå¾—åˆ°çš„æ ‡å‡†è½¯ä»¶è¿‡ç¨‹æ¥å¼€å‘å’Œç»´æŠ¤è½¯ä»¶ã€‚\nå·±ç®¡ç†çº§ï¼ˆManagedï¼‰ï¼š\nåˆ¶å®šäº†è½¯ä»¶è¿‡ç¨‹å’Œäº§å“è´¨é‡çš„è¯¦ç»†åº¦é‡æ ‡å‡†ã€‚è½¯ä»¶è¿‡ç¨‹å’Œäº§å“è´¨é‡éƒ½è¢«å¼€å‘ç»„ç»‡çš„æˆå‘˜æ‰€ç†è§£å’Œæ§åˆ¶ã€‚\nä¼˜åŒ–çº§ï¼ˆOptimizedï¼‰ï¼š\nåŠ å¼ºäº†å®šé‡åˆ†æï¼Œé€šè¿‡æ¥è‡ªè¿‡ç¨‹è´¨é‡åé¦ˆå’Œæ¥è‡ªæ–°è§‚å¿µã€æ–°æŠ€æœ¯çš„åé¦ˆä½¿è¿‡ç¨‹èƒ½ä¸æ–­æŒç»­åœ°æ”¹è¿›ã€‚\nèƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹é›†æˆ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹é›†æˆï¼ˆCMMIï¼‰æ˜¯è‹¥å¹²è¿‡ç¨‹æ¨¡å‹çš„ç»¼åˆå’Œæ”¹è¿›ï¼Œæ˜¯æ”¯æŒå¤šä¸ªå·¥ç¨‹å­¦ç§‘å’Œé¢†åŸŸçš„ã€ç³»ç»Ÿçš„ã€ä¸€è‡´çš„è¿‡ç¨‹æ”¹è¿›æ¡†æ¶ï¼Œèƒ½é€‚åº”ç°ä»£å·¥ç¨‹çš„ç‰¹ç‚¹å’Œéœ€è¦ï¼Œèƒ½æé«˜è¿‡ç¨‹çš„è´¨é‡å’Œå·¥ä½œæ•ˆç‡\nCMMIæä¾›äº†ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼š\né˜¶æ®µå¼æ¨¡å‹ï¼š\nç»“æ„ç±»ä»¥äºCMMï¼Œå®ƒå…³æ³¨ç»„ç»‡çš„æˆç†Ÿåº¦ã€‚\nCMMI-SE/SW/IPPD 1.1ç‰ˆä¸­æœ‰5ä¸ªæˆç†Ÿåº¦ç­‰çº§ï¼š\nåˆå§‹çš„ï¼šè¿‡ç¨‹ä¸å¯é¢„æµ‹ä¸”ç¼ºä¹æ§åˆ¶ã€‚ å·±ç®¡ç†çš„ï¼šè¿‡ç¨‹ä¸ºé¡¹ç›®æœåŠ¡ã€‚ å·²å®šä¹‰çš„ï¼šè¿‡ç¨‹ä¸ºç»„ç»‡æœåŠ¡ã€‚ å®šé‡ç®¡ç†çš„ï¼šè¿‡ç¨‹å·²åº¦é‡å’Œæ§åˆ¶ã€‚ ä¼˜åŒ–çš„ï¼šé›†ä¸­äºè¿‡ç¨‹æ”¹è¿›ã€‚ è¿ç»­å¼æ¨¡å‹ï¼š\nå…³æ³¨æ¯ä¸ªè¿‡ç¨‹åŸŸçš„èƒ½åŠ›ï¼Œä¸€ä¸ªç»„ç»‡å¯¹ä¸åŒçš„è¿‡ç¨‹åŸŸå¯ä»¥è¾¾åˆ°ä¸åŒçš„è¿‡ç¨‹åŸŸèƒ½åŠ›ç­‰çº§ï¼ˆCapability Levelï¼ŒCLï¼‰ã€‚\nèƒ½åŠ›ç­‰çº§åŒ…æ‹¬ï¼š\nå…±æ€§ç›®æ ‡ å…±æ€§å®è·µ èƒ½åŠ›ç­‰çº§å¯ä»¥ç‹¬ç«‹åœ°åº”ç”¨äºä»»ä½•å•ç‹¬çš„è¿‡ç¨‹åŸŸï¼Œä»»ä½•ä¸€ä¸ªèƒ½åŠ›ç­‰çº§éƒ½å¿…é¡»æ»¡è¶³æ¯”å®ƒç­‰çº§ä½çš„èƒ½åŠ›ç­‰çº§çš„æ‰€æœ‰å‡†åˆ™ã€‚\nCMMIä¸­åŒ…æ‹¬6ä¸ªè¿‡ç¨‹åŸŸèƒ½åŠ›ç­‰çº§ï¼ˆ0~5ï¼‰ï¼š\n$CL_0$ï¼ˆæœªå®Œæˆçš„ï¼‰ï¼š è¿‡ç¨‹åŸŸæœªæ‰§è¡Œæˆ–æœªå¾—åˆ°$CL_1$ä¸­å®šä¹‰çš„æ‰€æœ‰ç›®æ ‡ã€‚ $CL_1$ï¼ˆå·²æ‰§è¡Œçš„ï¼‰ï¼š å…¶å…±æ€§ç›®æ ‡æ˜¯è¿‡ç¨‹å°†å¯æ ‡è¯†çš„è¾“å…¥å·¥ä½œäº§å“è½¬æ¢æˆå¯æ ‡è¯†çš„è¾“å‡ºå·¥ä½œäº§å“ï¼Œä»¥å®ç°æ”¯æŒè¿‡ç¨‹åŸŸçš„ç‰¹å®šç›®æ ‡ã€‚ å…³æ³¨äºè¿‡ç¨‹åŸŸçš„ç‰¹å®šç›®æ ‡çš„å®Œæˆã€‚ $CL_2$ï¼ˆå·²ç®¡ç†çš„ï¼‰ï¼š å…¶å…±æ€§ç›®æ ‡é›†ä¸­äºå·²ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚ å…³æ³¨äºé’ˆå¯¹å•ä¸ªè¿‡ç¨‹å®ä¾‹çš„èƒ½åŠ›ã€‚ $CL_3$ï¼ˆå·²å®šä¹‰çº§çš„ï¼‰ï¼š å…¶å…±æ€§ç›®æ ‡é›†ä¸­äºå·²å®šä¹‰çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚ å…³æ³¨äºè¿‡ç¨‹çš„ç»„ç»‡çº§æ ‡å‡†åŒ–å’Œéƒ¨ç½²ã€‚ $CL_4$ï¼ˆå®šé‡ç®¡ç†çš„ï¼‰ï¼š å…¶å…±æ€§ç›®æ ‡é›†ä¸­äºå¯å®šé‡ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚ ä½¿ç”¨æµ‹é‡å’Œè´¨é‡ä¿è¯æ¥æ§åˆ¶å’Œæ”¹è¿›è¿‡ç¨‹åŸŸï¼Œå»ºç«‹å’Œä½¿ç”¨å…³äºè´¨é‡å’Œè¿‡ç¨‹æ‰§è¡Œçš„å®šé‡ç›®æ ‡ä½œä¸ºç®¡ç†å‡†åˆ™ã€‚ $CL_5$ï¼ˆä¼˜åŒ–çš„ï¼‰ï¼š ä½¿ç”¨é‡åŒ–ï¼ˆç»Ÿè®¡å­¦ï¼‰æ‰‹æ®µæ”¹å˜å’Œä¼˜åŒ–è¿‡ç¨‹åŸŸï¼Œä»¥æ»¡è¶³å®¢æˆ·è¦æ±‚çš„æ”¹å˜å’ŒæŒç»­æ”¹è¿›è®¡åˆ’ä¸­çš„è¿‡ç¨‹åŸŸçš„åŠŸæ•ˆã€‚ å…¶å…±æ€§ç›®æ ‡é›†ä¸­äºä¼˜åŒ–çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ï¼Œè¡¨æ˜è¿‡ç¨‹å¾—åˆ°å¾ˆå¥½åœ°æ‰§è¡Œä¸”æŒç»­å¾—åˆ°æ”¹è¿›ã€‚ ç€‘å¸ƒæ¨¡å‹ ç€‘å¸ƒæ¨¡å‹ï¼ˆWaterfall Modelï¼‰æ˜¯å°†è½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­çš„å„ä¸ªæ´»åŠ¨è§„å®šä¸ºä¾çº¿æ€§é¡ºåºè¿æ¥çš„è‹¥å¹²é˜¶æ®µçš„æ¨¡å‹ï¼ˆå®ƒè§„å®šäº†ç”±å‰è‡³åã€ç›¸äº’è¡”æ¥çš„å›ºå®šæ¬¡åºï¼Œå¦‚åŒç€‘å¸ƒæµæ°´é€çº§ä¸‹è½ï¼‰ï¼ŒåŒ…æ‹¬ï¼š\néœ€æ±‚åˆ†æï¼š è®¾è®¡ ç¼–ç  æµ‹è¯• è¿è¡Œä¸ç»´æŠ¤ï¼ˆè¿ç»´ï¼‰ ç€‘å¸ƒæ¨¡å‹å‡è®¾ï¼šä¸€ä¸ªå¾…å¼€å‘çš„ç³»ç»Ÿéœ€æ±‚æ˜¯å®Œæ•´çš„ã€ç®€æ˜çš„ã€ä¸€è‡´çš„ï¼Œè€Œä¸”å¯ä»¥å…ˆäºè®¾è®¡å’Œå®ç°å®Œæˆä¹‹å‰äº§ç”Ÿã€‚\nç€‘å¸ƒæ¨¡å‹ï¼š\nä¼˜ç‚¹ï¼š\nå®¹æ˜“ç†è§£ï¼› ç®¡ç†æˆæœ¬ä½ï¼› æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯¹åº”çš„æˆæœäº§ç‰©ï¼› å„ä¸ªé˜¶æ®µæœ‰æ˜æ˜¾çš„ç•Œé™åˆ’åˆ†å’Œé¡ºåºéœ€æ±‚ï¼› å¼ºè°ƒå¼€å‘çš„é˜¶æ®µæ€§æ—©æœŸè®¡åˆ’åŠéœ€æ±‚è°ƒæŸ¥å’Œäº§å“æµ‹è¯•ã€‚ ç¼ºç‚¹ï¼š\néœ€è¦å®¢æˆ·èƒ½å¤Ÿå®Œæ•´ã€æ­£ç¡®å’Œæ¸…æ™°åœ°è¡¨è¾¾è‡ªå·±çš„éœ€è¦ï¼›\nåœ¨å¼€å§‹çš„ä¸¤ä¸ªæˆ–3ä¸ªé˜¶æ®µä¸­ï¼Œå¾ˆéš¾è¯„ä¼°çœŸæ­£çš„è¿›åº¦çŠ¶æ€ï¼›\nå½“æ¥è¿‘é¡¹ç›®ç»“æŸæ—¶ï¼Œå‡ºç°äº†å¤§é‡çš„é›†æˆå’Œæµ‹è¯•å·¥ä½œï¼›\nç›´åˆ°é¡¹ç›®ç»“æŸä¹‹å‰ï¼Œéƒ½ä¸èƒ½æ¼”ç¤ºç³»ç»Ÿçš„èƒ½åŠ›ï¼›\nä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œæ•´ä¸ªé¡¹ç›®è¦æ¨åˆ°é‡æ–°å¼€å§‹ã€‚\néœ€æ±‚æˆ–è®¾è®¡ä¸­çš„é”™è¯¯å¾€å¾€åªæœ‰åˆ°äº†é¡¹ç›®åæœŸæ‰èƒ½å¤Ÿè¢«å‘ç°ï¼Œå¯¹äºé¡¹ç›®é£é™©çš„æ§åˆ¶èƒ½åŠ›è¾ƒå¼±ï¼Œä»è€Œå¯¼è‡´é¡¹ç›®å¸¸å¸¸å»¶æœŸå®Œæˆï¼Œå¼€å‘è´¹ç”¨è¶…å‡ºé¢„ç®—ã€‚\nç€‘å¸ƒæ¨¡å¼é€‚åˆç”¨äºï¼š\nå¼€å‘éœ€æ±‚æ˜ç¡®çš„ï¼Œéœ€æ±‚å¤§è‡´å›ºå®šä¸”ä¸ä¼šéšæ„å˜æ›´çš„ç³»ç»Ÿï¼› å¼€å‘äººå‘˜å¯¹è½¯ä»¶çš„åº”ç”¨é¢†åŸŸå¾ˆç†Ÿæ‚‰ï¼› å¼€å‘å·¥ä½œå¯¹ç”¨æˆ·å‚ä¸çš„è¦æ±‚å¾ˆä½ã€‚ Væ¨¡å‹ Væ¨¡å‹å¼æ˜¯ç€‘å¸ƒæ¨¡å‹çš„ä¸€ä¸ªå˜ä½“ï¼Œæè¿°äº†è´¨é‡ä¿è¯æ´»åŠ¨å’Œæ²Ÿé€šã€å»ºæ¨¡ç›¸å…³æ´»åŠ¨ä»¥åŠæ—©æœŸæ„å»ºç›¸å…³çš„æ´»åŠ¨ä¹‹é—´çš„å…³ç³»ã€‚\nè®¾è®¡ã€å¼€å‘ï¼šéšç€è½¯ä»¶å›¢é˜Ÿå·¥ä½œæ²¿ç€Væ¨¡å‹å·¦ä¾§æ­¥éª¤å‘ä¸‹æ¨è¿›ï¼ŒåŸºæœ¬é—®é¢˜éœ€æ±‚é€æ­¥ç»†åŒ–ï¼Œå½¢æˆé—®é¢˜åŠè§£å†³æ–¹æ¡ˆçš„æŠ€æœ¯æè¿°ã€‚\næµ‹è¯•ï¼šä¸€æ—¦ç¼–ç ç»“æŸï¼Œå›¢é˜Ÿæ²¿ç€Væ¨¡å‹å³ä¾§çš„æ­¥éª¤å‘ä¸Šæ¨è¿›ã€‚\nå…¶å®é™…ä¸Šæ˜¯æ‰§è¡Œäº†ä¸€ç³»åˆ—æµ‹è¯•ï¼ˆè´¨é‡ä¿è¯æ´»åŠ¨ï¼‰ï¼Œè¿™äº›æµ‹è¯•éªŒè¯äº†å›¢é˜Ÿæ²¿ç€Væ¨¡å‹å·¦ä¾§æ­¥éª¤å‘ä¸‹æ¨è¿›è¿‡ç¨‹ä¸­æ‰€ç”Ÿæˆçš„æ¯ä¸ªæ¨¡å‹ã€‚\nVæ¨¡å‹æ˜¯ä¸€ç§æµ‹è¯•çš„å¼€å‘æ¨¡å‹ï¼Œå¼ºè°ƒæµ‹è¯•è´¯ç©¿é¡¹ç›®çš„å§‹ç»ˆï¼Œè€Œä¸æ˜¯é›†ä¸­åœ¨æµ‹è¯•é˜¶æ®µã€‚Væ¨¡å‹æä¾›äº†ä¸€ç§å°†éªŒè¯ç¡®è®¤æ´»åŠ¨ï¼ˆæµ‹è¯•ï¼‰åº”ç”¨äºæ—©æœŸè½¯ä»¶å·¥ç¨‹å·¥ä½œä¸­çš„æ–¹æ³•ã€‚\nå¢é‡æ¨¡å‹ å¢é‡æ¨¡å‹ï¼ˆIncremental Modelï¼‰èåˆäº†ç€‘å¸ƒæ¨¡å‹çš„åŸºæœ¬æˆåˆ†å’ŒåŸå‹å®ç°çš„è¿­ä»£ç‰¹å¾ã€‚\nå¢é‡æ¨¡å‹å‡è®¾å¯ä»¥å°†éœ€æ±‚åˆ†æ®µä¸ºä¸€ç³»åˆ—å¢é‡äº§å“ï¼Œæ¯ä¸€å¢é‡å¯ä»¥åˆ†åˆ«å¼€å‘ã€‚è¯¥æ¨¡å‹é‡‡ç”¨éšç€æ—¥ç¨‹æ—¶é—´çš„è¿›å±•è€Œäº¤é”™çš„çº¿æ€§åºåˆ—ï¼Œæ¯ä¸€ä¸ªçº¿æ€§åºåˆ—äº§ç”Ÿè½¯ä»¶çš„ä¸€ä¸ªå¯å‘å¸ƒçš„â€œå¢é‡â€ï¼š\nä»åˆ†æåˆ°æµ‹è¯•ä¸ºä¸€ä¸ªå¢é‡çš„è¿‡ç¨‹ï¼ˆçº¿æ€§åºåˆ—ï¼‰ã€‚ æ ¸å¿ƒåŠŸèƒ½å…ˆå®Œæˆï¼šç¬¬1ä¸ªå¢é‡å¾€å¾€æ˜¯æ ¸å¿ƒçš„äº§å“ã€‚ å®¢æˆ·å¯¹æ¯ä¸ªå¢é‡çš„ä½¿ç”¨å’Œè¯„ä¼°éƒ½ä½œä¸ºä¸‹ä¸€ä¸ªå¢é‡å‘å¸ƒçš„æ–°ç‰¹å¾å’ŒåŠŸèƒ½ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨æ¯ä¸€ä¸ªå¢é‡å‘å¸ƒåä¸æ–­é‡å¤ï¼Œç›´åˆ°äº§ç”Ÿäº†æœ€ç»ˆçš„å®Œå–„äº§å“ã€‚ å¢é‡æ¨¡å‹å¼ºè°ƒæ¯ä¸€ä¸ªå¢é‡å‡å‘å¸ƒä¸€ä¸ªå¯æ“ä½œçš„äº§å“ã€‚ å¢é‡æ¨¡å‹ä½œä¸ºç€‘å¸ƒæ¨¡å‹çš„ä¸€ä¸ªå˜ä½“ï¼Œå…·æœ‰ç€‘å¸ƒæ¨¡å‹çš„æ‰€æœ‰ä¼˜ç‚¹ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\nç¬¬ä¸€ä¸ªå¯äº¤ä»˜ç‰ˆæœ¬æ‰€éœ€è¦çš„æˆæœ¬å’Œæ—¶é—´å¾ˆå°‘ï¼› å¼€å‘ç”±å¢é‡è¡¨ç¤ºçš„å°ç³»ç»Ÿæ‰€æ‰¿æ‹…çš„é£é™©ä¸å¤§ï¼› ç”±äºå¾ˆå¿«å‘å¸ƒäº†ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå› æ­¤å¯ä»¥å‡å°‘ç”¨æˆ·éœ€æ±‚çš„å˜æ›´ï¼› ä¼˜å…ˆçº§é«˜çš„åŠŸèƒ½å…ˆäº¤ä»˜ï¼Œä½¿å¾—é‡è¦çš„åŠŸèƒ½ç»å†æ›´å¤šçš„æµ‹è¯•ã€‚ è¿è¡Œå¢é‡æŠ•èµ„ï¼Œå³åœ¨é¡¹ç›®å¼€å§‹æ—¶ï¼Œå¯ä»¥ä»…å¯¹ä¸€ä¸ªæˆ–ä¸¤ä¸ªå¢é‡æŠ•èµ„ã€‚ ç¼ºç‚¹ï¼š\nå¦‚æœæ²¡æœ‰å¯¹ç”¨æˆ·çš„å˜æ›´è¦æ±‚è¿›è¡Œè§„åˆ’ï¼Œé‚£ä¹ˆäº§ç”Ÿçš„åˆå§‹å¢é‡å¯èƒ½ä¼šé€ æˆåæ¥å¢é‡çš„ä¸ç¨³å®šï¼› å¦‚æœéœ€æ±‚ä¸åƒæ—©æœŸæ€è€ƒçš„é‚£æ ·ç¨³å®šå’Œå®Œæ•´ï¼Œé‚£ä¹ˆä¸€äº›å¢é‡å°±å¯èƒ½éœ€è¦é‡æ–°å¼€å‘ã€é‡æ–°å‘å¸ƒï¼› ç®¡ç†å‘ç”Ÿçš„æˆæœ¬ã€è¿›åº¦å’Œé…ç½®çš„å¤æ‚æ€§å¯èƒ½ä¼šè¶…å‡ºç»„ç»‡çš„èƒ½åŠ›ã€‚ é‡æ¨¡å‹é€‚åˆç”¨äºï¼š\néœ€è¦å¿«é€Ÿæ„é€ å¯è¿è¡Œçš„äº§å“çš„é¡¹ç›®ï¼ˆå¯¹å®ŒæˆæœŸé™ä¸¥æ ¼è¦æ±‚çš„äº§å“ï¼‰ï¼› è¿›è¡Œå·²æœ‰äº§å“å‡çº§æˆ–æ–°ç‰ˆæœ¬å¼€å‘ï¼› å¯¹æ‰€å¼€å‘çš„é¢†åŸŸæ¯”è¾ƒç†Ÿæ‚‰è€Œä¸”å·²æœ‰åŸå‹ç³»ç»Ÿã€‚ æ¼”åŒ–æ¨¡å‹ æ¼”åŒ–æ¨¡å‹ï¼ˆEvolutionary Modelï¼‰æ¼”åŒ–æ¨¡å‹æ˜¯è¿­ä»£çš„è¿‡ç¨‹æ¨¡å‹ï¼Œä½¿å¾—è½¯ä»¶å¼€å‘äººå‘˜èƒ½å¤Ÿé€æ­¥å¼€å‘å‡ºæ›´å®Œæ•´çš„è½¯ä»¶ç‰ˆæœ¬ã€‚æ¼”åŒ–æ¨¡å‹ç‰¹åˆ«é€‚ç”¨äºå¯¹è½¯ä»¶éœ€æ±‚ç¼ºä¹å‡†ç¡®è®¤è¯†çš„æƒ…å†µã€‚\nå…¸å‹çš„æ¼”åŒ–æ¨¡å‹æœ‰åŸå‹æ¨¡å‹å’Œèºæ—‹æ¨¡å‹ç­‰ã€‚\nåŸå‹æ¨¡å‹ å¹¶éæ‰€æœ‰çš„éœ€æ±‚éƒ½èƒ½å¤Ÿé¢„å…ˆå®šä¹‰ã€‚å¤§é‡çš„å®è·µè¡¨æ˜ï¼Œåœ¨å¼€å‘åˆæœŸå¾ˆéš¾å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ã€å‡†ç¡®çš„éœ€æ±‚è§„æ ¼è¯´æ˜ã€‚åŸå› æœ‰ï¼š\nå®¢æˆ·å¾€å¾€ä¸èƒ½å‡†ç¡®åœ°è¡¨è¾¾å¯¹æœªæ¥ç³»ç»Ÿçš„å…¨é¢è¦æ±‚ï¼Œå¯¼è‡´å½¢æˆçš„éœ€æ±‚è§„æ ¼è¯´æ˜ä¸å®Œæ•´ã€ä¸å‡†ç¡®ï¼Œç”šè‡³æ˜¯æœ‰æ­§ä¹‰ã€‚ åœ¨æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·å¯èƒ½ä¼šäº§ç”Ÿæ–°çš„è¦æ±‚ï¼Œå¯¼è‡´éœ€æ±‚çš„å˜æ›´ã€‚ ç€‘å¸ƒæ¨¡å‹éš¾ä»¥é€‚åº”è¿™ç§éœ€æ±‚çš„ä¸ç¡®å®šæ€§å’Œå˜åŒ–ï¼Œäºæ˜¯å‡ºç°äº†å¿«é€ŸåŸå‹ï¼ˆRapid Prototypeï¼‰è¿™ç§æ–°çš„å¼€å‘æ–¹æ³•ã€‚\nåŸå‹æ¨¡å‹ï¼ˆPrototype Modelï¼‰ï¼š\né€‚åˆäºç”¨æˆ·éœ€æ±‚ä¸æ¸…ã€éœ€æ±‚ç»å¸¸å˜åŒ–çš„æƒ…å†µï¼› ä¸é€‚åˆå¤§è§„æ¨¡ç³»ç»Ÿçš„å¼€å‘ã€‚ åŸå‹çš„ç›®çš„æ˜¯èƒ½å¿«é€Ÿã€ä½æˆæœ¬åœ°æ„å»ºåŸå‹ç³»ç»Ÿã€‚\nèƒ½å¤Ÿé‡‡ç”¨åŸå‹æ–¹æ³•æ˜¯å› ä¸ºå¼€å‘å·¥å…·çš„å¿«é€Ÿå‘å±•ï¼Œä½¿å¾—èƒ½å¤Ÿè¿…é€Ÿåœ°å¼€å‘å‡ºä¸€ä¸ªè®©ç”¨æˆ·çœ‹å¾—è§ã€æ‘¸å¾—ç€çš„ç³»ç»Ÿæ¡†æ¶ã€‚è¿™æ ·ï¼Œå¯¹äºè®¡ç®—æœºä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„ç”¨æˆ·å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ¡†æ¶æå‡ºè‡ªå·±çš„éœ€æ±‚ã€‚\nå¼€å‘åŸå‹ç³»ç»Ÿé¦–å…ˆç¡®å®šç”¨æˆ·éœ€æ±‚ï¼Œå¼€å‘åˆå§‹åŸå‹ï¼Œç„¶åå¾æ±‚ç”¨æˆ·å¯¹åˆå§‹åŸå‹çš„æ”¹è¿›æ„è§ï¼Œå¹¶æ ¹æ®æ„è§ä¿®æ”¹åŸå‹:\näº¤æµï¼šç›®çš„æ˜¯å®šä¹‰è½¯ä»¶çš„æ€»ä½“ç›®æ ‡ï¼Œæ ‡è¯†éœ€æ±‚ï¼Œç„¶å å¿«é€Ÿè®¡åˆ’ï¼šå¿«é€Ÿåˆ¶è®¢åŸå‹å¼€å‘çš„è®¡åˆ’ï¼Œç¡®å®šåŸå‹çš„ç›®æ ‡å’ŒèŒƒå›´ã€‚ é‡‡ç”¨å¿«é€Ÿè®¾è®¡æ–¹å¼è¿›è¡Œå»ºæ¨¡ã€‚ æ„å»ºåŸå‹ã€‚ éƒ¨ç½²äº¤ä»˜å’Œåé¦ˆï¼šè¢«å¼€å‘çš„åŸå‹åº”äº¤ä»˜ç»™å®¢æˆ·ä½¿ç”¨ï¼Œå¹¶æ”¶é›†å®¢æˆ·çš„åé¦ˆæ„è§ï¼Œè¿™äº›åé¦ˆæ„è§å¯åœ¨ä¸‹ä¸€è½®ä¸­å¯¹åŸå‹è¿›è¡Œæ”¹è¿›ã€‚ ä¸‹ä¸€è½®è¿­ä»£ï¼šåœ¨å‰ä¸€ä¸ªåŸå‹éœ€è¦æ”¹è¿›ï¼Œæˆ–è€…éœ€è¦æ‰©å±•å…¶èŒƒå›´çš„æ—¶å€™ï¼Œè¿›å…¥ä¸‹ä¸€è½®åŸå‹çš„è¿­ä»£å¼€å‘ã€‚ æ ¹æ®ä½¿ç”¨åŸå‹çš„ç›®çš„ä¸åŒï¼ŒåŸå‹å¯ä»¥åˆ†ä¸ºï¼š\næ¢ç´¢å‹åŸå‹ï¼šç›®çš„æ˜¯è¦å¼„æ¸…ç›®æ ‡çš„è¦æ±‚ï¼Œç¡®å®šæ‰€å¸Œæœ›çš„ç‰¹æ€§ï¼Œå¹¶æ¢è®¨å¤šç§æ–¹æ¡ˆçš„å¯è¡Œæ€§ã€‚ å®éªŒå‹åŸå‹ï¼šç›®çš„æ˜¯éªŒè¯æ–¹æ¡ˆæˆ–ç®—æ³•çš„åˆç†æ€§ï¼Œæ˜¯åœ¨å¤§è§„æ¨¡å¼€å‘å’Œå®ç°å‰ï¼Œç”¨äºè€ƒæŸ¥æ–¹æ¡ˆæ˜¯å¦åˆé€‚ã€è§„æ ¼è¯´æ˜æ˜¯å¦å¯é ç­‰ã€‚ æ¼”åŒ–å‹åŸå‹ï¼šç›®çš„æ˜¯å°†åŸå‹ä½œä¸ºç›®æ ‡ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å¯¹åŸå‹çš„å¤šæ¬¡æ”¹è¿›ï¼Œé€æ­¥å°†åŸå‹æ¼”åŒ–æˆæœ€ç»ˆçš„ç›®æ ‡ç³»ç»Ÿã€‚ èºæ—‹æ¨¡å‹ å¯¹äºå¤æ‚çš„å¤§å‹è½¯ä»¶ï¼Œå¼€å‘ä¸€ä¸ªåŸå‹å¾€å¾€è¾¾ä¸åˆ°è¦æ±‚ã€‚\nèºæ—‹æ¨¡å‹å°†ç€‘å¸ƒæ¨¡å‹å’Œæ¼”åŒ–æ¨¡å‹ç»“åˆèµ·æ¥ï¼ŒåŠ å…¥äº†ä¸¤ç§æ¨¡å‹å‡å¿½ç•¥çš„é£é™©åˆ†æï¼ˆä»¥é£é™©ä¸ºé©±åŠ¨ï¼‰ï¼Œå¼¥è¡¥äº†è¿™ä¸¤ç§æ¨¡å‹çš„ä¸è¶³ã€‚\nèºæ—‹æ¨¡å‹å°†å¼€å‘è¿‡ç¨‹åˆ†ä¸ºå‡ ä¸ªèºæ—‹å‘¨æœŸï¼Œæ¯ä¸ªèºæ—‹å‘¨æœŸå¤§è‡´å’Œç€‘å¸ƒæ¨¡å‹ç›¸ç¬¦åˆï¼š\næ¯ä¸ªèºæ—‹å‘¨æœŸåˆ†ä¸ºå¦‚ä¸‹4ä¸ªå·¥ä½œæ­¥éª¤ï¼š\nåˆ¶è®¢è®¡åˆ’ï¼š ç¡®å®šè½¯ä»¶çš„ç›®æ ‡ é€‰å®šå®æ–½æ–¹æ¡ˆ æ˜ç¡®é¡¹ç›®å¼€å‘çš„é™åˆ¶æ¡ä»¶ é£é™©åˆ†æï¼š åˆ†ææ‰€é€‰çš„æ–¹æ¡ˆ è¯†åˆ«é£é™© æ¶ˆé™¤é£é™© å®æ–½å·¥ç¨‹ï¼š å®æ–½è½¯ä»¶å¼€å‘ éªŒè¯é˜¶æ®µæ€§äº§å“ ç”¨æˆ·è¯„ä¼°ï¼š è¯„ä»·å¼€å‘å·¥ä½œï¼Œæå‡ºä¿®æ­£å»ºè®® å»ºç«‹ä¸‹ä¸€ä¸ªå‘¨æœŸçš„å¼€å‘è®¡åˆ’ èºæ—‹æ¨¡å‹å±äºé¢å‘å¯¹è±¡å¼€å‘æ¨¡å‹ã€‚\nèºæ—‹æ¨¡å‹é€‚ç”¨äºï¼š\nåºå¤§ã€å¤æ‚å¹¶ä¸”å…·æœ‰é«˜é£é™©çš„ç³»ç»Ÿï¼› æ–°è¿‘å¼€å‘ï¼Œéœ€æ±‚ä¸æ˜çš„æƒ…å†µã€‚ ä¼˜ç‚¹ï¼š\nèºæ—‹æ¨¡å‹å¼ºè°ƒé£é™©åˆ†æï¼Œä½¿å¾—å¼€å‘äººå‘˜å’Œç”¨æˆ·å¯¹æ¯ä¸ªæ¼”åŒ–å±‚å‡ºç°çš„é£é™©æœ‰æ‰€äº†è§£ï¼Œä»è€Œåšå‡ºåº”æœ‰çš„ååº”ã€‚ èºæ—‹æ¨¡å‹æ”¯æŒç”¨æˆ·éœ€æ±‚çš„åŠ¨æ€å˜åŒ–ï¼Œæœ‰åŠ©äºæé«˜è½¯ä»¶çš„é€‚åº”èƒ½åŠ›ï¼Œé™ä½äº†è½¯ä»¶å¼€å‘çš„é£é™©ã€‚ ç¼ºç‚¹ï¼š\néœ€è¦å¼€å‘äººå‘˜å…·æœ‰ç›¸å½“ä¸°å¯Œçš„é£é™©è¯„ä¼°ç»éªŒå’Œä¸“é—¨çŸ¥è¯†ã€‚ è¿‡å¤šçš„è¿­ä»£æ¬¡æ•°ä¼šå¢åŠ å¼€å‘æˆæœ¬ï¼Œå»¶è¿Ÿæäº¤æ—¶é—´ã€‚ å–·æ³‰æ¨¡å‹ å–·æ³‰æ¨¡å‹ï¼ˆWater Fountain Modelï¼‰ï¼š\nä»¥ç”¨æˆ·éœ€æ±‚ä¸ºåŠ¨åŠ›ï¼› ä»¥å¯¹è±¡ä½œä¸ºé©±åŠ¨ï¼› é€‚åˆäºé¢å‘å¯¹è±¡ã€‚ å–·æ³‰æ¨¡å‹å…‹æœäº†ç€‘å¸ƒæ¨¡å‹ä¸æ”¯æŒè½¯ä»¶é‡ç”¨å’Œå¤šé¡¹å¼€å‘æ´»åŠ¨é›†æˆçš„å±€é™æ€§ã€‚å…¶å¼€å‘è¿‡ç¨‹å¦‚ä¸‹ï¼š\nå–·æ³‰æ¨¡å‹ä½¿å¼€å‘è¿‡ç¨‹å…·æœ‰ä»¥ä¸‹æ€§è´¨æˆ–ç‰¹ç‚¹ï¼š\nè¿­ä»£æ€§ï¼šæ„å‘³ç€æ¨¡å‹ä¸­çš„å¼€å‘æ´»åŠ¨å¸¸å¸¸éœ€è¦é‡å¤å¤šæ¬¡ï¼Œåœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¸æ–­åœ°å®Œå–„è½¯ä»¶ç³»ç»Ÿã€‚\næ— é—´éš™æ€§ï¼šæŒ‡åœ¨å¼€å‘æ´»åŠ¨ï¼ˆå¦‚åˆ†æã€è®¾è®¡ã€ç¼–ç ï¼‰ä¹‹é—´ä¸å­˜åœ¨æ˜æ˜¾çš„è¾¹ç•Œã€‚\nå–·æ³‰ä¸åƒç€‘å¸ƒæ¨¡å‹é‚£æ ·ï¼Œåœ¨éœ€æ±‚åˆ†ææ´»åŠ¨ç»“æŸåæ‰å¼€å§‹è®¾è®¡æ´»åŠ¨ï¼Œåœ¨è®¾è®¡æ´»åŠ¨ç»“æŸåæ‰å¼€å§‹ç¼–ç æ´»åŠ¨ï¼Œè€Œæ˜¯å…è®¸å„å¼€å‘æ´»åŠ¨äº¤å‰ã€è¿­ä»£åœ°è¿›è¡Œã€‚\nå–·æ³‰æ¨¡å‹çš„å„ä¸ªé˜¶æ®µæ²¡æœ‰æ˜æ˜¾çš„ç•Œçº¿ï¼Œå¼€å‘äººå‘˜å¯ä»¥åŒæ­¥è¿›è¡Œã€‚\næ”¯æŒè½¯ä»¶é‡ç”¨ã€‚\nä¼˜ç‚¹ï¼šå¯ä»¥æé«˜è½¯ä»¶é¡¹ç›®çš„å¼€å‘æ•ˆç‡ï¼ŒèŠ‚çœå¼€å‘æ—¶é—´ã€‚\nç¼ºç‚¹ï¼š\nç”±äºå–·æ³‰æ¨¡å‹åœ¨å„ä¸ªå¼€å‘é˜¶æ®µæ˜¯é‡å çš„ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦å¤§é‡çš„å¼€å‘äººå‘˜ï¼Œä¸åˆ©äºé¡¹ç›®çš„ç®¡ç†ã€‚ å–·æ³‰æ¨¡å‹è¦æ±‚ä¸¥æ ¼ç®¡ç†æ–‡æ¡£ï¼Œä½¿å¾—å®¡æ ¸çš„éš¾åº¦åŠ å¤§ã€‚ ç»Ÿä¸€è¿‡ç¨‹æ¨¡å‹ ç»Ÿä¸€è¿‡ç¨‹ï¼ˆUPï¼‰æ¨¡å‹å¼€å‘è¿‡ç¨‹çš„ç‰¹å¾ï¼š\nç”¨ä¾‹å’Œé£é™©é©±åŠ¨ã€‚\nä»¥æ¶æ„ä¸ºä¸­å¿ƒã€‚\nè¿­ä»£å¹¶ä¸”å¢é‡ï¼š\nè¿­ä»£ï¼šå°†æ•´ä¸ªè½¯ä»¶å¼€å‘é¡¹ç›®åˆ’åˆ†ä¸ºè®¸å¤šä¸ªå°çš„â€œè¢–çé¡¹ç›®â€ã€‚\næ¯ä¸ªâ€œè¢–çé¡¹ç›®â€éƒ½åŒ…å«æ­£å¸¸è½¯ä»¶é¡¹ç›®çš„æ‰€æœ‰å…ƒç´ ï¼š\nè®¡åˆ’ åˆ†æå’Œè®¾è®¡ æ„é€  é›†æˆå’Œæµ‹è¯• å†…éƒ¨å’Œå¤–éƒ¨å‘å¸ƒ ç»Ÿä¸€è¿‡ç¨‹æ¨¡å‹ç”±UMLï¼ˆç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼ŒUnified Modeling Languageï¼‰æ–¹æ³•å’Œå·¥å…·æ”¯æŒã€‚\nç»Ÿä¸€è¿‡ç¨‹å®šä¹‰äº†4ä¸ªæŠ€æœ¯é˜¶æ®µåŠå…¶åˆ¶å“ï¼Œè¿™4ä¸ªæŠ€æœ¯é˜¶æ®µç”±ä¸»è¦é‡Œç¨‹ç¢‘æ‰€ç»ˆæ­¢ï¼š\nèµ·å§‹é˜¶æ®µï¼ˆInception Phaseï¼‰ï¼š\nç¡®å®šé¡¹ç›®çš„é£é™©åŠå…¶ä¼˜å…ˆæ¬¡åºï¼Œå¹¶å¯¹ç²¾åŒ–é˜¶æ®µè¿›è¡Œè¯¦ç»†è§„åˆ’å’Œå¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œç²—ç•¥è®¡ç®—ã€‚\nä¸“æ³¨äºï¼šé¡¹ç›®çš„åˆåˆ›æ´»åŠ¨ã€‚\näº§ç”Ÿçš„ä¸»è¦å·¥ä½œäº§å“æœ‰ï¼š\næ„æƒ³æ–‡æ¡£ï¼ˆVision Documentï¼‰ åˆå§‹ç”¨ä¾‹æ¨¡å‹ åˆå§‹é¡¹ç›®æœ¯è¯­è¡¨ åˆå§‹ä¸šåŠ¡ç”¨ä¾‹ åˆå§‹é£é™©è¯„ä¼° é¡¹ç›®è®¡åˆ’ï¼ˆé˜¶æ®µåŠè¿­ä»£ï¼‰ä¸šåŠ¡æ¨¡å‹ ä¸€ä¸ªæˆ–å¤šä¸ªåŸå‹ï¼ˆéœ€è¦æ—¶ï¼‰ é‡Œç¨‹ç¢‘ï¼šç”Ÿå‘½å‘¨æœŸç›®æ ‡ã€‚\nç²¾åŒ–é˜¶æ®µï¼ˆElaboration Phaseï¼‰ï¼š\næ ¹æ®ä¸»è¦çš„ç”¨ä¾‹æè¿°è®¾è®¡å‡ºè¯¦ç»†çš„ç³»ç»Ÿæ„æ¶ã€‚ä¸»è¦æ˜¯è§£å†³ç”¨ä¾‹ã€æ„æ¶å’Œè®¡åˆ’æ˜¯å¦è¶³å¤Ÿç¨³å®šå¯é ï¼Œé£é™©é‡Šæ”¾å¾—åˆ°å……åˆ†æ§åˆ¶ï¼Œä»¥ä¾¿èƒ½å¤ŸæŒ‰ç…§åˆåŒçš„è§„å®šå®Œæˆæ•´ä¸ªå¼€å‘ä»»åŠ¡ã€‚\nç²¾åé˜¶æ®µåœ¨ç†è§£äº†æœ€åˆçš„é¢†åŸŸèŒƒå›´ä¹‹åè¿›è¡Œï¼š\néœ€æ±‚åˆ†æ æ¶æ„æ¼”è¿› å…³æ³¨äºï¼šéœ€æ±‚åˆ†æå’Œæ¶æ„æ¼”è¿›ã€‚\näº§ç”Ÿçš„ä¸»è¦å·¥ä½œäº§å“æœ‰ï¼š\nç”¨ä¾‹æ¨¡å‹\nè¡¥å……éœ€æ±‚ï¼šåŒ…æ‹¬éåŠŸèƒ½éœ€æ±‚\nåˆ†ææ¨¡å‹\nè½¯ä»¶ä½“ç³»ç»“æ„æè¿°\nå¯æ‰§è¡Œçš„è½¯ä»¶ä½“ç³»ç»“æ„åŸå‹\nåˆæ­¥çš„è®¾è®¡æ¨¡å‹\nä¿®è®¢çš„é£é™©åˆ—è¡¨\né¡¹ç›®è®¡åˆ’ï¼š\nåŒ…æ‹¬ï¼š\nè¿­ä»£è®¡åˆ’ è°ƒæ•´çš„å·¥ä½œæµ é‡Œç¨‹ç¢‘ æŠ€æœ¯å·¥ä½œäº§å“ åˆå§‹ç”¨æˆ·æ‰‹å†Œ\né‡Œç¨‹ç¢‘ï¼šç”Ÿå‘½å‘¨æœŸç›®æ ‡ã€‚\næ„å»ºé˜¶æ®µï¼ˆConstruction Phaseï¼‰ï¼š\nå°†è®¾è®¡å®ç°ï¼Œå¹¶è¿›è¡Œæµ‹è¯•ã€‚\nå…³æ³¨ç³»ç»Ÿçš„æ„å»ºï¼Œäº§ç”Ÿå®ç°æ¨¡å‹ã€‚\näº§ç”Ÿçš„ä¸»è¦å·¥ä½œäº§å“æœ‰ï¼š\nè®¾è®¡æ¨¡å‹ è½¯ä»¶æ„ä»¶ é›†æˆçš„è½¯ä»¶å¢é‡ æµ‹è¯•è®¡åˆ’åŠæ­¥éª¤ æµ‹è¯•ç”¨ä¾‹ æ”¯æŒæ–‡æ¡£ï¼š ç”¨æˆ·æ‰‹å†Œ å®‰è£…æ‰‹å†Œ å¯¹äºå¹¶å‘å¢é‡çš„æè¿° é‡Œç¨‹ç¢‘ï¼šåˆå§‹è¿ä½œåŠŸèƒ½ã€‚å³ä¸€ä¸ªå‡†å¤‡äº¤åˆ°æœ€ç»ˆç”¨æˆ·æ‰‹ä¸­çš„äº§å“ã€‚\nç§»äº¤é˜¶æ®µï¼ˆTransition Phaseï¼‰ï¼š\näº¤ç”±ç”¨æˆ·æµ‹è¯•å¹¶è¿­ä»£å®Œå–„ã€‚\nå…³æ³¨äºè½¯ä»¶æäº¤æ–¹é¢çš„å·¥ä½œï¼Œäº§ç”Ÿè½¯ä»¶å¢é‡ã€‚\näº§ç”Ÿçš„ä¸»è¦å·¥ä½œäº§å“æœ‰ï¼š\næäº¤çš„è½¯ä»¶å¢é‡ $\\beta$æµ‹è¯•æŠ¥å‘Š ç»¼åˆç”¨æˆ·åé¦ˆ é‡Œç¨‹ç¢‘ï¼šäº§å“å‘å¸ƒã€‚\nå…¶å®è¿˜æœ‰ä¸€ä¸ªäº§ç”Ÿé˜¶æ®µï¼Œè¿™é‡ŒåŒ…å«åœ¨äº†ç§»äº¤é˜¶æ®µä¸­ã€‚\nåœ¨æ¯æ¬¡è¿­ä»£ä¸­æœ‰5ä¸ªæ ¸å¿ƒå·¥ä½œæµï¼š\néœ€æ±‚å·¥ä½œæµï¼šæ•è·ç³»ç»Ÿåº”è¯¥åšä»€ä¹ˆï¼› åˆ†æå·¥ä½œæµï¼šç²¾åå’Œç»“æ„åŒ–éœ€æ±‚ï¼› è®¾è®¡å·¥ä½œæµï¼šåœ¨ç³»ç»Ÿæ¶æ„å†…å®ç°éœ€æ±‚ï¼› å®ç°å·¥ä½œæµï¼šæ„é€ è½¯ä»¶ï¼› æµ‹è¯•å·¥ä½œæµï¼šéªŒè¯å®ç°æ˜¯å¦å¦‚æœŸæœ›é‚£æ ·å·¥ä½œã€‚ ç»Ÿä¸€è¿‡ç¨‹çš„å…¸å‹ä»£è¡¨æ˜¯RUPï¼ˆRational Unified Processï¼‰ã€‚\nRUPæ˜¯UPçš„å•†ä¸šæ‰©å±•ï¼Œå®Œå…¨å…¼å®¹UPï¼Œä½†æ¯”UPæ›´å®Œæ•´ã€æ›´è¯¦ç»†ã€‚\næ•æ·å¼€å‘ æ•æ·å¼€å‘ï¼ˆAgile Developmentï¼‰çš„æ€»ä½“ç›®æ ‡æ˜¯é€šè¿‡â€œå°½å¯èƒ½æ—©åœ°ã€æŒç»­åœ°å¯¹æœ‰ä»·å€¼çš„è½¯ä»¶çš„äº¤ä»˜â€ä½¿å®¢æˆ·æ»¡æ„ã€‚é€šè¿‡åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­åŠ å…¥çµæ´»æ€§ï¼Œæ•æ·æ–¹æ³•ä½¿ç”¨æˆ·èƒ½å¤Ÿåœ¨å¼€å‘å‘¨æœŸçš„åæœŸå¢åŠ æˆ–æ”¹å˜éœ€æ±‚ã€‚\næ•æ·è¿‡ç¨‹çš„å…¸å‹æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯ä¸€ç§æ–¹æ³•åŸºäºä¸€å¥—åŸåˆ™ï¼Œè¿™äº›åŸåˆ™å®ç°äº†æ•æ·æ–¹æ³•æ‰€å®£ç§°çš„ç†å¿µï¼ˆæ•æ·å®£è¨€ï¼‰ã€‚\næ•æ·å¼€å‘æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š\næé™ç¼–ç¨‹ï¼ˆXPï¼‰ æ°´æ™¶æ³•ï¼ˆCrystalï¼‰ å¹¶åˆ—äº‰æ±‚æ³•ï¼ˆScrumï¼‰ è‡ªé€‚åº”è½¯ä»¶å¼€å‘ï¼ˆASDï¼‰ æ•æ·ç»Ÿä¸€è¿‡ç¨‹ï¼ˆAUPï¼‰ æé™ç¼–ç¨‹ æé™ç¼–ç¨‹æ˜¯ä¸ºäº†é™ä½éœ€æ±‚å˜æ›´æ‰€å¸¦æ¥çš„æˆæœ¬ï¼Œæ—¨åœ¨æé«˜è½¯ä»¶è´¨é‡å’Œå¯¹å®¢æˆ·éœ€æ±‚å˜åŒ–çš„é€‚åº”æ€§ï¼ŒæœŸæœ›èƒ½å¤Ÿè®©è½¯ä»¶å¼€å‘è¾¾åˆ°ä½æˆæœ¬ã€ä½ç¼ºé™·ã€é«˜äº§å‡ºã€é«˜å›æŠ¥ï¼ˆæœ€å°æŠ•å…¥å¾—åˆ°æœ€å¤§ç»“æœï¼‰çš„æ•ˆæœã€‚\næé™ç¼–ç¨‹ï¼ˆXPï¼‰è½¯ä»¶å¼€å‘æ–¹å¼æœ‰ä»¥ä¸‹æ€§è´¨ï¼š\nè½»é‡çº§ï¼ˆæ•æ·ï¼‰ é«˜æ•ˆ ä½é£é™© æŸ”æ€§ å¯é¢„æµ‹çš„ ç§‘å­¦çš„ XPç”±ä»·å€¼è§‚ã€åŸåˆ™ã€å®è·µå’Œè¡Œä¸º4ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä»–ä»¬ä¹‹é—´å½¼æ­¤ç›¸äº’ä¾èµ–ã€å…³è”ï¼Œå¹¶é€šè¿‡è¡Œä¸ºè´¯ç©¿äºæ•´ä¸ªç”Ÿå­˜å‘¨æœŸï¼š\n4å¤§ä»·å€¼è§‚ï¼š æ²Ÿé€š ç®€å•æ€§ åé¦ˆ å‹‡æ°” 5ä¸ªåŸåˆ™ï¼š å¿«é€Ÿåé¦ˆ ç®€å•æ€§å‡è®¾ é€æ­¥ä¿®æ”¹ æå€¡æ›´æ”¹ ä¼˜è´¨å·¥ä½œ 12ä¸ªæœ€ä½³å®è·µï¼š è®¡åˆ’æ¸¸æˆï¼šå¿«é€Ÿåˆ¶å®šè®¡åˆ’ã€éšç€ç»†èŠ‚çš„ä¸æ–­å˜åŒ–è€Œå®Œå–„ å°å‹å‘å¸ƒï¼šç³»ç»Ÿçš„è®¾è®¡è¦èƒ½å¤Ÿå°½å¯èƒ½æ—©åœ°äº¤ä»˜ éšå–»ï¼šæ‰¾åˆ°åˆé€‚çš„æ¯”å–»ä¼ è¾¾ä¿¡æ¯ ç®€å•è®¾è®¡ï¼šåªå¤„ç†å½“å‰çš„éœ€æ±‚ï¼Œä½¿è®¾è®¡ä¿æŒç®€å• æµ‹è¯•å…ˆè¡Œï¼šå…ˆå†™æµ‹è¯•ä»£ç ï¼Œç„¶åå†ç¼–å†™ç¨‹åº é‡æ„ï¼šé‡æ–°å®¡è§†éœ€æ±‚å’Œè®¾è®¡ï¼Œé‡æ–°æ˜ç¡®åœ°æè¿°å®ƒä»¬ä»¥ç¬¦åˆæ–°çš„å’Œç°æœ‰çš„éœ€æ±‚ ç»“å¯¹ç¼–ç¨‹ é›†ä½“ä»£ç æ‰€æœ‰åˆ¶ æŒç»­é›†æˆï¼šå¯ä»¥æŒ‰æ—¥ç”šè‡³æŒ‰å°æ—¶ä¸ºå®¢æˆ·æä¾›å¯è¿è¡Œçš„ç‰ˆæœ¬ æ¯å‘¨å·¥ä½œ40ä¸ªå°æ—¶ ç°åœºå®¢æˆ· ç¼–ç æ ‡å‡† æ•æ·ç»Ÿä¸€è¿‡ç¨‹ æ•æ·ç»Ÿä¸€è¿‡ç¨‹ï¼ˆAgile Unified Processï¼ŒAUPï¼‰é‡‡ç”¨ä»¥ä¸‹åŸç†æ¥æ„å»ºè½¯ä»¶ç³»ç»Ÿï¼š\nâ€œåœ¨å¤§å‹ä¸Šè¿ç»­â€ â€œåœ¨å°å‹ä¸Šè¿­ä»£â€ã€‚ é‡‡ç”¨ç»å…¸çš„UPé˜¶æ®µæ€§æ´»åŠ¨ï¼ˆåˆå§‹ã€ç²¾åŒ–ã€æ„å»ºå’Œè½¬æ¢ï¼‰ï¼Œæä¾›äº†ä¸€ç³»åˆ—æ´»åŠ¨ï¼Œèƒ½å¤Ÿä½¿å›¢é˜Ÿä¸ºè½¯ä»¶é¡¹ç›®æ„æƒ³å‡ºä¸€ä¸ªå…¨é¢çš„è¿‡ç¨‹æµã€‚\nåœ¨æ¯ä¸ªæ´»åŠ¨é‡Œï¼Œä¸€ä¸ªå›¢é˜Ÿè¿­ä»£ä½¿ç”¨æ•æ·ï¼Œå¹¶å°†æœ‰æ„ä¹‰çš„è½¯ä»¶å¢é‡å°½å¯èƒ½å¿«åœ°äº¤ä»˜ç»™æœ€ç»ˆç”¨æˆ·ã€‚æ¯ä¸ªAUPè¿­ä»£æ‰§è¡Œä»¥ä¸‹æ´»åŠ¨ï¼š\nå»ºæ¨¡ï¼šå»ºç«‹å¯¹å•†ä¸šå’Œé—®é¢˜åŸŸçš„æ¨¡å‹è¡¨è¿°ï¼Œè¿™äº›æ¨¡å‹â€œè¶³å¤Ÿå¥½â€å³å¯ï¼Œä»¥ä¾¿å›¢é˜Ÿç»§ç»­å‰è¿›ã€‚ å®ç°ï¼šå°†æ¨¡å‹ç¿»è¯‘æˆæºä»£ç ã€‚ æµ‹è¯•ï¼šåƒXPä¸€æ ·ï¼Œå›¢é˜Ÿè®¾è®¡å’Œæ‰§è¡Œä¸€ç³»åˆ—çš„æµ‹è¯•æ¥å‘ç°é”™è¯¯ä»¥ä¿è¯æºä»£ç æ»¡è¶³éœ€æ±‚ã€‚ éƒ¨ç½²ï¼šå¯¹è½¯ä»¶å¢é‡çš„äº¤ä»˜ä»¥åŠè·å–æœ€ç»ˆç”¨æˆ·çš„åé¦ˆã€‚ é…ç½®åŠé¡¹ç›®ç®¡ç†ï¼šç€çœ¼äºå˜æ›´ç®¡ç†ã€é£é™©ç®¡ç†ä»¥åŠå¯¹å›¢é˜Ÿçš„ä»»ä¸€åˆ¶å“çš„æ§åˆ¶ã€‚é¡¹ç›®ç®¡ç†è¿½è¸ªå’Œæ§åˆ¶å¼€å‘å›¢é˜Ÿçš„å·¥ä½œè¿›å±•å¹¶åè°ƒå›¢é˜Ÿæ´»åŠ¨ã€‚ ç¯å¢ƒç®¡ç†ï¼šåè°ƒæ ‡å‡†ã€å·¥å…·ä»¥åŠé€‚ç”¨äºå¼€å‘å›¢é˜Ÿçš„æ”¯æŒæŠ€æœ¯ç­‰è¿‡ç¨‹åŸºç¡€è®¾æ–½ã€‚ å…¶ä»–æ•æ·å¼€å‘æ–¹æ³• æ°´æ™¶æ³•ï¼š\nè®¤ä¸ºæ¯ä¸€ä¸ªä¸åŒçš„é¡¹ç›®éƒ½éœ€è¦ä¸€å¥—ä¸åŒçš„ç­–ç•¥ã€çº¦å®šå’Œæ–¹æ³•è®ºã€‚\nè®¤ä¸ºäººå¯¹è½¯ä»¶è´¨é‡æœ‰é‡è¦çš„å½±å“ã€‚\néšç€é¡¹ç›®è´¨é‡å’Œå¼€å‘äººå‘˜ç´ è´¨çš„æé«˜ï¼Œé¡¹ç›®å’Œè¿‡ç¨‹çš„è´¨é‡ä¹Ÿéšä¹‹æé«˜ã€‚\né€šè¿‡æ›´å¥½åœ°äº¤æµå’Œç»å¸¸æ€§çš„äº¤ä»˜ï¼Œè½¯ä»¶ç”Ÿäº§åŠ›å¾—åˆ°æé«˜ã€‚\nå¹¶åˆ—äº‰æ±‚æ³•ï¼š\nä½¿ç”¨è¿­ä»£çš„æ–¹æ³•ã€‚\næŠŠæ¯30å¤©ä¸€æ¬¡çš„è¿­ä»£ç§°ä¸ºä¸€ä¸ªâ€œå†²åˆºâ€ã€‚ æŒ‰éœ€æ±‚çš„ä¼˜å…ˆçº§åˆ«æ¥å®ç°äº§å“ã€‚ å¤šä¸ªè‡ªç»„ç»‡å’Œè‡ªæ²»çš„å°ç»„å¹¶è¡Œåœ°é€’å¢å®ç°äº§å“ã€‚ åè°ƒæ˜¯é€šè¿‡ç®€çŸ­çš„æ—¥å¸¸æƒ…å†µä¼šè®®æ¥è¿›è¡Œï¼Œå°±åƒæ©„æ¦„çƒä¸­çš„â€œå¹¶åˆ—äº‰çƒâ€ã€‚ è‡ªé€‚åº”è½¯ä»¶å¼€å‘ï¼š\næœ‰6ä¸ªåŸºæœ¬åŸåˆ™ï¼š\næœ‰ä¸€ä¸ªä½¿å‘½ä½œä¸ºæŒ‡å¯¼ï¼› ç‰¹å¾è¢«è§†ä¸ºå®¢æˆ·ä»·å€¼çš„å…³é”®ç‚¹ï¼› è¿‡ç¨‹ä¸­çš„ç­‰å¾…æ˜¯å¾ˆé‡è¦çš„ï¼Œå› æ­¤â€œé‡åšâ€ä¸â€œåšâ€åŒæ ·å…³é”®ï¼› å˜åŒ–ä¸è¢«è§†ä¸ºæ”¹æ­£ï¼Œè€Œæ˜¯è¢«è§†ä¸ºå¯¹è½¯ä»¶å¼€å‘å®é™…æƒ…å†µçš„è°ƒæ•´ï¼› ç¡®å®šçš„äº¤ä»˜æ—¶é—´è¿«ä½¿å¼€å‘äººå‘˜è®¤çœŸè€ƒè™‘æ¯ä¸€ä¸ªç”Ÿäº§çš„ç‰ˆæœ¬çš„å…³é”®éœ€æ±‚ï¼› é£é™©ä¹ŸåŒ…å«å…¶ä¸­ã€‚ æ€»ç»“ èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ï¼ˆä»1å¼€å§‹ï¼‰ï¼š\nçº§åˆ« è¯´æ˜ åˆå§‹çº§ æ‚ä¹±æ— ç« ï¼Œå‡ ä¹æ²¡æœ‰æ˜ç¡®å®šä¹‰çš„æ­¥éª¤ã€‚ å¯é‡å¤çº§ å»ºç«‹åŸºæœ¬çš„é¡¹ç›®ç®¡ç†è¿‡ç¨‹å’Œå®è·µæ¥è·Ÿè¸ªé¡¹ç›®è´¹ç”¨ã€è¿›åº¦å’ŒåŠŸèƒ½ç‰¹æ€§ã€‚ å·²å®šä¹‰çº§ å°†ç®¡ç†å’Œå·¥ç¨‹æ–‡æ¡£åŒ–ã€æ ‡å‡†åŒ–å¹¶ç»¼åˆæˆæ ‡å‡†è½¯ä»¶è¿‡ç¨‹ï¼›\nä½¿ç”¨æ ‡å‡†å¼€å‘è¿‡ç¨‹ï¼ˆæˆ–æ–¹æ³•è®ºï¼‰æ„å»ºï¼ˆæˆ–é›†æˆï¼‰ç³»ç»Ÿã€‚ å·±ç®¡ç†çº§ å¯¹è½¯ä»¶è¿‡ç¨‹å’Œäº§å“è´¨é‡åˆ¶å®šäº†çš„è¯¦ç»†åº¦é‡æ ‡å‡†ï¼Œä¸”æœ‰å®šé‡çš„ç†è§£å’Œæ§åˆ¶ã€‚ ä¼˜åŒ–çº§ åŠ å¼ºäº†å®šé‡åˆ†æï¼Œé€šè¿‡è¿‡ç¨‹è´¨é‡å’Œæ–°è§‚å¿µã€æ–°æŠ€æœ¯ä½¿è¿‡ç¨‹ä¸æ–­åœ°æ”¹è¿›ã€‚ èƒ½åŠ›æˆç†Ÿåº¦é›†æˆè¿ç»­å¼æ¨¡å‹ï¼ˆä»0å¼€å§‹ï¼‰ï¼š\nèƒ½åŠ›ç­‰çº§ ç›®æ ‡ æœªå®Œæˆçš„ æœªæ‰§è¡Œæˆ–æœªå¾—åˆ°ç­‰çº§1ä¸­çš„æ‰€æœ‰ç›®æ ‡ã€‚ å·²æ‰§è¡Œçš„ å¯æ ‡è¯†çš„è¾“å…¥å·¥ä½œäº§å“åˆ°è¾“å‡ºå·¥ä½œäº§å“çš„è½¬æ¢ï¼Œå®ç°ç‰¹å®šç›®æ ‡ã€‚å…³æ³¨ï¼šç‰¹å®šç›®æ ‡çš„å®Œæˆã€‚\nå·²ç®¡ç†çš„ å·²ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚å…³æ³¨ï¼šé’ˆå¯¹å•ä¸ªè¿‡ç¨‹å®ä¾‹çš„èƒ½åŠ›ã€‚\nå·²å®šä¹‰çº§çš„ å·²å®šä¹‰çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚å…³æ³¨ï¼šè¿‡ç¨‹çš„ç»„ç»‡çº§æ ‡å‡†åŒ–å’Œéƒ¨ç½²ã€‚\nå®šé‡ç®¡ç†çš„ å¯å®šé‡ç®¡ç†çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚è¯´æ˜ï¼šä½¿ç”¨æµ‹é‡å’Œè´¨é‡ä¿è¯æ¥æ§åˆ¶å’Œæ”¹è¿›ã€‚\nä¼˜åŒ–çš„ ä¼˜åŒ–çš„è¿‡ç¨‹çš„åˆ¶åº¦åŒ–ã€‚è¯´æ˜ï¼šä½¿ç”¨é‡åŒ–æ‰‹æ®µæ”¹å˜å’Œä¼˜åŒ–ã€‚\nå„å¼€å‘æ¨¡å‹çš„é€‚ç”¨èŒƒå›´ï¼š\næ¨¡å‹ è¯´æ˜ é€‚ç”¨èŒƒå›´ ç€‘å¸ƒæ¨¡å‹ å°†è½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­çš„æ´»åŠ¨å®šä¸ºçº¿æ€§é¡ºåºé“¾æ¥çš„é˜¶æ®µæ¨¡å‹ éœ€æ±‚æ˜ç¡®ã€å¤§è‡´å›ºå®šä¸”å˜æ›´å°‘ Væ¨¡å‹ ç€‘å¸ƒæ¨¡å‹çš„å˜ä½“ï¼Œå¼ºè°ƒæµ‹è¯•è´¯ç©¿é¡¹ç›®çš„å§‹ç»ˆï¼Œæ˜¯ä¸€ç§æµ‹è¯•çš„å¼€å‘æ¨¡å‹ éœ€æ±‚æ˜ç¡®ã€ä½é£é™© å¢é‡æ¨¡å‹ èåˆç€‘å¸ƒæ¨¡å‹å’ŒåŸå‹è¿­ä»£ï¼Œæ ¸å¿ƒåŠŸèƒ½å…ˆå®Œæˆï¼Œæ¯è½®è¿­ä»£éƒ½ä¼šæœ‰æ–°çš„å¢é‡ï¼Œæ ¸å¿ƒåŠŸèƒ½å¾—åˆ°å……åˆ†æµ‹è¯•ï¼Œå¼ºè°ƒæ¯ä¸ªå¢é‡å‡å‘å¸ƒä¸€ä¸ªå¯æ“ä½œçš„äº§å“ å¿«é€Ÿæ„é€ å¯è¿è¡Œçš„äº§å“ï¼Œäº§å“å‡çº§ï¼Œé¢†åŸŸç†Ÿæ‚‰æˆ–å·²æœ‰åŸå‹ æ¼”åŒ–æ¨¡å‹ è¿­ä»£çš„è¿‡ç¨‹æ¨¡å‹ï¼Œéœ€æ±‚æ— æ³•è¢«å®Œæ•´å®šä¹‰ï¼ŒåŠŸèƒ½åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸æ–­å®Œå–„ å¯¹è½¯ä»¶éœ€æ±‚ç¼ºä¹å‡†ç¡®è®¤è¯†çš„æƒ…å†µ åŸå‹æ¨¡å‹ åŸå‹å¼€å‘æ–¹æ³•æ¨¡å‹ï¼Œç›®çš„æ˜¯å¿«é€Ÿã€ä½æˆæœ¬åœ°æ„å»ºåŸå‹ç³»ç»Ÿ éœ€æ±‚ä¸æ¸…æˆ–å¤šå˜ã€é¢†åŸŸé™Œç”Ÿï¼›ä¸é€‚åˆå¤§è§„æ¨¡ç³»ç»Ÿ èºæ—‹æ¨¡å‹ ç»“åˆç€‘å¸ƒå’Œæ¼”åŒ–æ¨¡å‹ï¼Œå¼ºè°ƒå¼•å…¥é£é™©åˆ†æï¼Œå±äºé¢å‘å¯¹è±¡å¼€å‘æ¨¡å‹ åºå¤§ã€å¤æ‚ã€é«˜é£é™©çš„ç³»ç»Ÿï¼Œå¼€å‘äººå‘˜æœ‰ä¸°å¯Œçš„é£é™©è¯„ä¼°ç»éªŒå’ŒçŸ¥è¯† å–·æ³‰æ¨¡å‹ é¢å‘å¯¹è±¡æ¨¡å‹ï¼Œç‰¹ç‚¹æ˜¯è¿­ä»£ã€æ— é—´éš™å’Œæ”¯æŒé‡ç”¨ï¼Œå„é˜¶æ®µæ— æ˜æ˜¾ç•Œé™ï¼Œå¯è¿­ä»£äº¤å‰ é¢å‘å¯¹è±¡çš„å¼€å‘è¿‡ç¨‹ ç»Ÿä¸€è¿‡ç¨‹ ç”¨ä¾‹é©±åŠ¨ã€ä»¥æ¶æ„ä¸ºä¸­å¿ƒã€è¿­ä»£å’Œå¢é‡ ç»Ÿä¸€è¿‡ç¨‹æ¨¡å‹é˜¶æ®µé‡Œç¨‹ç¢‘å’Œå…³æ³¨ç‚¹æ€»ç»“ï¼š\né˜¶æ®µ é‡Œç¨‹ç¢‘ å…³æ³¨ åˆå§‹é˜¶æ®µ ç”Ÿå‘½å‘¨æœŸç›®æ ‡ é¡¹ç›®çš„åˆåˆ›æ´»åŠ¨ ç²¾åŒ–é˜¶æ®µ ç”Ÿå‘½å‘¨æœŸæ¶æ„ éœ€æ±‚åˆ†æå’Œæ¶æ„æ¼”è¿› æ„å»ºé˜¶æ®µ åˆå§‹è¿ä½œåŠŸèƒ½ ç³»ç»Ÿçš„æ„å»º ç§»äº¤é˜¶æ®µ äº§å“å‘å¸ƒ è½¯ä»¶æäº¤æ–¹é¢çš„å·¥ä½œ éœ€æ±‚åˆ†æ è½¯ä»¶éœ€æ±‚ éœ€æ±‚åˆ†æä¸»è¦çš„ç›®çš„æ˜¯å¼„æ¸…æ¥šç³»ç»Ÿéœ€è¦â€œåšä»€ä¹ˆâ€ï¼Œå¹¶å°†å…¶é˜è¿°å‡ºæ¥ã€‚\nè½¯ä»¶éœ€æ±‚æ˜¯æŒ‡ç”¨æˆ·å¯¹ç›®æ ‡è½¯ä»¶ç³»ç»Ÿåœ¨åŠŸèƒ½ã€è¡Œä¸ºã€æ€§èƒ½ã€è®¾è®¡çº¦æŸç­‰æ–¹é¢çš„æœŸæœ›ã€‚é€šå¸¸ï¼Œè¿™äº›éœ€æ±‚åŒ…æ‹¬ï¼š\nåŠŸèƒ½éœ€æ±‚ï¼šè€ƒè™‘ç³»ç»Ÿè¦åšä»€ä¹ˆï¼Œåœ¨ä½•æ—¶åšï¼Œåœ¨ä½•æ—¶ä»¥åŠå¦‚ä½•ä¿®æ”¹æˆ–å‡çº§ã€‚\næ€§èƒ½éœ€æ±‚ï¼šè€ƒè™‘è½¯ä»¶å¼€å‘çš„æŠ€æœ¯æ€§æŒ‡æ ‡ã€‚\nä¾‹å¦‚ï¼š\nå­˜å‚¨å®¹é‡é™åˆ¶ï¼› æ‰§è¡Œé€Ÿåº¦ï¼› å“åº”æ—¶é—´ï¼› ååé‡ã€‚ ç”¨æˆ·æˆ–äººçš„å› ç´ ï¼šè€ƒè™‘ç”¨æˆ·çš„ç±»å‹ã€‚\nä¾‹å¦‚ï¼š\nå„ç§ç”¨æˆ·å¯¹ä½¿ç”¨è®¡ç®—æœºçš„ç†Ÿç»ƒç¨‹åº¦ï¼Œéœ€è¦æ¥å—çš„è®­ç»ƒï¼› ç”¨æˆ·ç†è§£ã€ä½¿ç”¨ç³»ç»Ÿçš„éš¾åº¦ï¼› ç”¨æˆ·é”™è¯¯æ“ä½œç³»ç»Ÿçš„å¯èƒ½æ€§ã€‚ ç¯å¢ƒéœ€æ±‚ï¼šè€ƒè™‘æœªæ¥è½¯ä»¶åº”ç”¨çš„ç¯å¢ƒï¼ŒåŒ…æ‹¬ç¡¬ä»¶å’Œè½¯ä»¶ã€‚\nå¯¹ç¡¬ä»¶è®¾å¤‡çš„éœ€æ±‚åŒ…æ‹¬ï¼šæœºå‹ã€å¤–è®¾ã€æ¥å£ã€åœ°ç‚¹ã€åˆ†å¸ƒã€æ¹¿åº¦ã€ç£åœºå¹²æ‰°ç­‰ï¼› å¯¹è½¯ä»¶çš„éœ€æ±‚åŒ…æ‹¬ï¼šæ“ä½œç³»ç»Ÿã€ç½‘ç»œã€æ•°æ®åº“ç­‰ã€‚ ç•Œé¢éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\næ¥è‡ªå…¶ä»–ç³»ç»Ÿçš„è¾“å…¥ï¼› åˆ°å…¶ä»–ç³»ç»Ÿçš„è¾“å‡ºï¼› å¯¹æ•°æ®æ ¼å¼çš„ç‰¹æ®Šè§„å®šï¼› å¯¹æ•°æ®å­˜å‚¨ä»‹è´¨çš„è§„å®šã€‚ æ–‡æ¡£éœ€æ±‚ï¼šè€ƒè™‘éœ€è¦å“ªäº›æ–‡æ¡£ï¼Œæ–‡æ¡£é’ˆå¯¹å“ªäº›è¯»è€…ã€‚\næ•°æ®éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nè¾“å…¥ã€è¾“å‡ºæ•°æ®çš„æ ¼å¼ï¼› æ¥æ”¶ã€å‘é€æ•°æ®çš„é¢‘ç‡ï¼› æ•°æ®çš„å‡†ç¡®æ€§å’Œç²¾åº¦ï¼› æ•°æ®æµé‡ï¼› æ•°æ®éœ€ä¿æŒçš„æ—¶é—´ã€‚ èµ„æºä½¿ç”¨éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nè½¯ä»¶è¿è¡Œæ—¶æ‰€éœ€è¦çš„æ•°æ®ã€å…¶ä»–è½¯ä»¶ã€å†…å­˜ç©ºé—´ç­‰èµ„æºï¼› è½¯ä»¶å¼€å‘ã€ç»´æŠ¤æ—¶ï¼Œæ‰€éœ€çš„äººåŠ›ã€æ”¯æ’‘è½¯ä»¶ã€å¼€å‘è®¾å¤‡ã€‚ å®‰å…¨ä¿å¯†è¦æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\næ˜¯å¦éœ€è¦å¯¹è®¿é—®ç³»ç»Ÿæˆ–ç³»ç»Ÿä¿¡æ¯åŠ ä»¥æ§åˆ¶ï¼› éš”ç¦»ç”¨æˆ·æ•°æ®çš„æ–¹æ³•ï¼› ç”¨æˆ·ç¨‹åºå¦‚ä½•ä¸å…¶ä»–ç¨‹åºå’Œæ“ä½œç³»ç»Ÿéš”ç¦» ç³»ç»Ÿå¤‡ä»½è¦æ±‚ã€‚ å¯é æ€§è¦æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nç³»ç»Ÿçš„å¯é æ€§è¦æ±‚ï¼› ç³»ç»Ÿæ˜¯å¦å¿…é¡»æ£€æµ‹å’Œéš”ç¦»é”™è¯¯ï¼› å‡ºé”™åï¼Œé‡å¯ç³»ç»Ÿå…è®¸çš„æ—¶é—´ã€‚ è½¯ä»¶æˆæœ¬æ¶ˆè€—ä¸å¼€å‘è¿›åº¦éœ€æ±‚ï¼š\nè€ƒè™‘ä»¥ä¸‹æ–¹é¢ï¼š\nå¼€å‘æ˜¯å¦æœ‰è§„å®šçš„æ—¶é—´è¡¨ï¼› è½¯/ç¡¬ä»¶æŠ•èµ„æœ‰æ— é™åˆ¶ã€‚ å…¶ä»–éåŠŸèƒ½æ€§è¦æ±‚ï¼š\nå¦‚é‡‡ç”¨æŸç§å¼€å‘æ¨¡å¼ï¼Œéœ€è¦ç¡®å®šï¼š\nè´¨é‡æ§åˆ¶æ ‡å‡†ï¼› é‡Œç¨‹ç¢‘å’Œè¯„å®¡ï¼› éªŒæ”¶æ ‡å‡†ï¼› å„ç§è´¨é‡è¦æ±‚çš„ä¼˜å…ˆçº§ï¼› å¯ç»´æŠ¤æ€§æ–¹é¢çš„è¦æ±‚ã€‚ è½¯ä»¶éœ€æ±‚çš„å‡ºå¤„ï¼š\nå¯ä»¥æ¥è‡ªäºç”¨æˆ·ï¼ˆå®é™…çš„å’Œæ½œåœ¨çš„ï¼‰ã€ç”¨æˆ·çš„è§„çº¦ã€åº”ç”¨é¢†åŸŸçš„ä¸“å®¶ã€ç›¸å…³çš„æŠ€æœ¯æ ‡å‡†å’Œæ³•è§„ï¼› å¯ä»¥æ¥è‡ªäºåŸæœ‰çš„ç³»ç»Ÿã€åŸæœ‰ç³»ç»Ÿçš„ç”¨æˆ·ã€æ–°ç³»ç»Ÿçš„æ½œåœ¨ç”¨æˆ·ï¼› å¯ä»¥æ¥è‡ªäºç«äº‰å¯¹æ‰‹çš„äº§å“ã€‚ éœ€æ±‚å·¥ç¨‹ éœ€æ±‚å·¥ç¨‹å¯ä»¥ç»†åˆ†ä¸º6ä¸ªé˜¶æ®µï¼š\néœ€æ±‚è·å– éœ€æ±‚åˆ†æä¸åå•† ç³»ç»Ÿå»ºæ¨¡ éœ€æ±‚è§„çº¦ éœ€æ±‚éªŒè¯ éœ€æ±‚ç®¡ç† ç³»ç»Ÿè®¾è®¡ è¿›å…¥è®¾è®¡é˜¶æ®µï¼Œéœ€è¦æŠŠè½¯ä»¶ç³»ç»Ÿâ€œåšä»€ä¹ˆâ€çš„é€»è¾‘æ¨¡å‹è½¬æ¢æˆâ€œæ€ä¹ˆåšâ€çš„ç‰©ç†æ¨¡å‹ã€‚å³ç€æ‰‹å®ç°è½¯ä»¶ç³»ç»Ÿéœ€æ±‚ã€‚\nç³»ç»Ÿè®¾è®¡çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºç³»ç»Ÿåˆ¶å®šè“å›¾ï¼Œåœ¨å„ç§æŠ€æœ¯å’Œå®æ–½æ–¹æ³•ä¸­æƒè¡¡åˆ©å¼Šï¼Œç²¾å¿ƒè®¾è®¡ï¼Œåˆç†åœ°ä½¿ç”¨å„ç§èµ„æºï¼Œæœ€ç»ˆå‹¾ç”»å‡ºæ–°ç³»ç»Ÿçš„è¯¦ç»†è®¾è®¡æ–¹æ¡ˆã€‚\nç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼š\næ–°ç³»ç»Ÿæ€»ä½“ç»“æ„è®¾è®¡ ä»£ç è®¾è®¡ è¾“å‡ºã€è¾“å…¥è®¾è®¡ å¤„ç†è¿‡ç¨‹è®¾è®¡ æ•°æ®å­˜å‚¨è®¾è®¡ ç”¨æˆ·ç•Œé¢è®¾è®¡ å®‰å…¨æ§åˆ¶è®¾è®¡ å¸¸ç”¨çš„è®¾è®¡æ–¹æ³•æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š\né¢å‘æ•°æ®æµçš„ç»“æ„åŒ–è®¾è®¡æ–¹æ³•ï¼ˆSDï¼‰ã€‚ é¢å‘å¯¹è±¡çš„åˆ†ææ–¹æ³•ï¼ˆOODï¼‰ã€‚ ç³»ç»Ÿè®¾è®¡çš„åŸºæœ¬ä»»åŠ¡å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š\næ¦‚è¦è®¾è®¡ è¯¦ç»†è®¾è®¡ æ¦‚è¦è®¾è®¡ è®¾è®¡è½¯ä»¶ç³»ç»Ÿæ€»ä½“ç»“æ„ï¼ˆæ€»ä½“ç»“æ„è®¾è®¡ï¼‰ï¼š\nå…¶åŸºæœ¬ä»»åŠ¡æ˜¯ï¼š\né‡‡ç”¨æŸç§è®¾è®¡æ–¹æ³•ï¼Œå°†ä¸€ä¸ªå¤æ‚çš„ç³»ç»ŸæŒ‰åŠŸèƒ½åˆ’åˆ†æˆæ¨¡å—ï¼› ç¡®å®šæ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½ï¼› ç¡®å®šæ¨¡å—ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼› ç¡®å®šæ¨¡å—ä¹‹é—´çš„æ¥å£ï¼Œå³æ¨¡å—ä¹‹é—´ä¼ é€’çš„ä¿¡æ¯ï¼› è¯„ä»·æ¨¡å—ç»“æ„çš„è´¨é‡ã€‚ è½¯ä»¶ç³»ç»Ÿæ€»ä½“ç»“æ„çš„è®¾è®¡æ˜¯æ¦‚è¦è®¾è®¡å…³é”®çš„ä¸€æ­¥ï¼Œç›´æ¥å½±å“åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µè¯¦ç»†è®¾è®¡ä¸ç¼–ç çš„å·¥ä½œã€‚\nè½¯ä»¶ç³»ç»Ÿçš„è´¨é‡åŠä¸€äº›æ•´ä½“ç‰¹æ€§éƒ½åœ¨è½¯ä»¶ç³»ç»Ÿæ€»ä½“ç»“æ„çš„è®¾è®¡ä¸­å†³å®šã€‚\næ•°æ®ç»“æ„åŠæ•°æ®åº“è®¾è®¡ï¼š\næ•°æ®ç»“æ„è®¾è®¡ï¼šé€æ­¥ç»†åŒ–çš„æ–¹æ³•ä¹Ÿé€‚ç”¨äºæ•°æ®ç»“æ„çš„è®¾è®¡ã€‚\nåœ¨éœ€æ±‚åˆ†æé˜¶æ®µï¼Œå·±ç»é€šè¿‡æ•°æ®å­—å…¸å¯¹æ•°æ®çš„ç»„æˆã€æ“ä½œçº¦æŸå’Œæ•°æ®ä¹‹é—´çš„å…³ç³»ç­‰æ–¹é¢è¿›è¡Œäº†æè¿°ï¼Œç¡®å®šäº†æ•°æ®çš„ç»“æ„ç‰¹æ€§ã€‚åœ¨æ¦‚è¦è®¾è®¡é˜¶æ®µè¦åŠ ä»¥ç»†åŒ–ï¼Œè¯¦ç»†è®¾è®¡é˜¶æ®µåˆ™è§„å®šå…·ä½“çš„å®ç°ç»†èŠ‚ã€‚åœ¨æ¦‚è¦è®¾è®¡é˜¶æ®µï¼Œå®œä½¿ç”¨æŠ½è±¡çš„æ•°æ®ç±»å‹ã€‚\næ•°æ®åº“è®¾è®¡ï¼š\næ•°æ®åº“çš„è®¾è®¡æ˜¯æŒ‡æ•°æ®å­˜å‚¨æ–‡ä»¶çš„è®¾è®¡ï¼Œä¸»è¦è¿›è¡Œä»¥ä¸‹å‡ æ–¹é¢è®¾è®¡ï¼š\næ¦‚å¿µè®¾è®¡ï¼šåœ¨æ•°æ®åˆ†æçš„åŸºç¡€ä¸Šï¼Œé‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ä»ç”¨æˆ·è§’åº¦è¿›è¡Œè§†å›¾è®¾è®¡ï¼Œä¸€èˆ¬ç”¨E-Ræ¨¡å‹æ¥è¡¨è¿°æ•°æ®æ¨¡å‹ã€‚\nE-Ræ¨¡å‹æ—¢æ˜¯è®¾è®¡æ•°æ®åº“çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯è®¾è®¡æ•°æ®ç»“æ„çš„åŸºç¡€ã€‚\né€»è¾‘è®¾è®¡ï¼šE-Ræ¨¡å‹æ˜¯ç‹¬ç«‹äºæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰çš„ï¼Œè¦ç»“åˆå…·ä½“çš„DBMSç‰¹å¾æ¥å»ºç«‹æ•°æ®åº“çš„é€»è¾‘ç»“æ„ã€‚\nç‰©ç†è®¾è®¡ï¼šå¯¹äºä¸åŒçš„DBMSï¼Œç‰©ç†ç¯å¢ƒä¸åŒï¼Œæä¾›çš„å­˜å‚¨ç»“æ„ä¸å­˜å–æ–¹æ³•å„ä¸ç›¸åŒã€‚\nç‰©ç†è®¾è®¡å°±æ˜¯è®¾è®¡æ•°æ®æ¨¡å¼çš„ä¸€äº›ç‰©ç†ç»†èŠ‚ï¼Œå¦‚æ•°æ®é¡¹å­˜å‚¨è¦æ±‚ã€å­˜å–æ–¹æ³•å’Œç´¢å¼•çš„å»ºç«‹ç­‰ã€‚\nç¼–å†™æ¦‚è¦è®¾è®¡æ–‡æ¡£ï¼š\næ–‡æ¡£ä¸»è¦æœ‰ï¼š\næ¦‚è¦è®¾è®¡è¯´æ˜ä¹¦ æ•°æ®åº“è®¾è®¡è¯´æ˜ä¹¦ ç”¨æˆ·æ‰‹å†Œ ä¿®è®¢æµ‹è¯•è®¡åˆ’ è¯„å®¡ï¼š\nå¯¹è®¾è®¡éƒ¨åˆ†æ˜¯å¦å®Œæ•´åœ°å®ç°äº†éœ€æ±‚ä¸­è§„å®šçš„åŠŸèƒ½ã€æ€§èƒ½ç­‰è¦æ±‚ï¼Œè®¾è®¡æ–¹æ³•çš„å¯è¡Œæ€§ï¼Œå…³é”®çš„å¤„ç†åŠå†…å¤–éƒ¨æ¥å£å®šä¹‰çš„æ­£ç¡®æ€§ã€æœ‰æ•ˆæ€§ã€å„éƒ¨åˆ†ä¹‹é—´çš„ä¸€è‡´æ€§ç­‰éƒ½ä¸€ä¸€è¿›è¡Œè¯„å®¡ã€‚\nè¯¦ç»†è®¾è®¡ ç®—æ³•è®¾è®¡ï¼šå¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œè¯¦ç»†çš„ç®—æ³•è®¾è®¡ï¼Œç”¨æŸç§å›¾å½¢ã€è¡¨æ ¼å’Œè¯­è¨€ç­‰å·¥å…·å°†æ¯ä¸ªæ¨¡å—å¤„ç†è¿‡ç¨‹çš„è¯¦ç»†ç®—æ³•æè¿°å‡ºæ¥ã€‚\næ•°æ®ç»“æ„è®¾è®¡ï¼šå¯¹æ¨¡å—å†…çš„æ•°æ®ç»“æ„è¿›è¡Œè®¾è®¡ã€‚\næ•°æ®åº“è®¾è®¡ï¼šå¯¹æ•°æ®åº“è¿›è¡Œç‰©ç†è®¾è®¡ï¼Œå³ç¡®å®šæ•°æ®åº“çš„ç‰©ç†ç»“æ„ã€‚\nå…¶ä»–è®¾è®¡ï¼š\næ ¹æ®è½¯ä»¶ç³»ç»Ÿçš„ç±»å‹ï¼Œè¿˜å¯èƒ½è¦è¿›è¡Œä»¥ä¸‹è®¾è®¡ï¼š\nä»£ç è®¾è®¡ï¼šä¸ºäº†æé«˜æ•°æ®çš„è¾“å…¥ã€åˆ†ç±»ã€å­˜å‚¨å’Œæ£€ç´¢ç­‰æ“ä½œï¼ŒèŠ‚çº¦å†…å­˜ç©ºé—´ï¼Œå¯¹æ•°æ®åº“ä¸­æŸäº›æ•°æ®é¡¹çš„å€¼è¦è¿›è¡Œä»£ç è®¾è®¡ã€‚ è¾“å…¥/è¾“å‡ºæ ¼å¼è®¾è®¡ã€‚ ç”¨æˆ·ç•Œé¢è®¾è®¡ã€‚ ç¼–å†™è¯¦ç»†è®¾è®¡è¯´æ˜ä¹¦ã€‚\nè¯„å®¡ï¼šå¯¹å¤„ç†è¿‡ç¨‹çš„ç®—æ³•å’Œæ•°æ®åº“çš„ç‰©ç†ç»“æ„éƒ½è¦è¯„å®¡ã€‚\nç³»ç»Ÿè®¾è®¡çš„ç»“æœæ˜¯ä¸€ç³»åˆ—çš„ç³»ç»Ÿè®¾è®¡æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ç‰©ç†å®ç°ä¸€ä¸ªä¿¡æ¯ç³»ç»Ÿï¼ˆåŒ…æ‹¬ç¡¬ä»¶è®¾å¤‡å’Œç¼–åˆ¶è½¯ä»¶ç¨‹åºï¼‰çš„é‡è¦åŸºç¡€ã€‚\nç³»ç»Ÿæµ‹è¯• ç³»ç»Ÿæµ‹è¯•æ˜¯ä¸ºäº†å‘ç°é”™è¯¯è€Œæ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ã€‚\næˆåŠŸçš„æµ‹è¯•ï¼šå‘ç°äº†è‡³ä»Šå°šæœªå‘ç°çš„é”™è¯¯çš„æµ‹è¯•ã€‚ æµ‹è¯•çš„ç›®çš„ï¼šå¸Œæœ›èƒ½ä»¥æœ€å°‘çš„äººåŠ›å’Œæ—¶é—´å‘ç°æ½œåœ¨çš„å„ç§é”™è¯¯å’Œç¼ºé™·ã€‚ ä¿¡æ¯ç³»ç»Ÿæµ‹è¯•åº”åŒ…æ‹¬ï¼š\nè½¯ä»¶æµ‹è¯• ç¡¬ä»¶æµ‹è¯• ç½‘ç»œæµ‹è¯• ç³»ç»Ÿæµ‹è¯•æ˜¯ä¿è¯ç³»ç»Ÿè´¨é‡å’Œå¯é æ€§çš„å…³é”®æ­¥éª¤ï¼Œæ˜¯å¯¹ç³»ç»Ÿå¼€å‘è¿‡ç¨‹çš„æœ€åå¤æŸ¥ã€‚\næ ¹æ®æµ‹è¯•çš„æ¦‚å¿µå’Œç›®çš„ï¼Œåœ¨è¿›è¡Œä¿¡æ¯ç³»ç»Ÿæµ‹è¯•æ—¶åº”éµå¾ªä»¥ä¸‹åŸºæœ¬åŸåˆ™ï¼š\nåº”å°½æ—©å¹¶ä¸æ–­åœ°è¿›è¡Œæµ‹è¯•ã€‚æµ‹è¯•åº”è´¯ç©¿åœ¨å¼€å‘çš„å„ä¸ªé˜¶æ®µï¼Œåº”å°½æ—©çº æ­£é”™è¯¯ï¼Œæ¶ˆé™¤éšæ‚£ã€‚\næµ‹è¯•å·¥ä½œåº”è¯¥é¿å…ç”±åŸå¼€å‘è½¯ä»¶çš„äººæˆ–å°ç»„æ‰¿æ‹…ã€‚\nå¼€å‘äººå‘˜å¾€å¾€ä¸æ„¿å¦è®¤è‡ªå·±çš„å·¥ä½œï¼Œæ€»è®¤ä¸ºè‡ªå·±å¼€å‘çš„è½¯ä»¶æ²¡æœ‰é”™è¯¯ï¼› å¼€å‘äººå‘˜çš„é”™è¯¯å¾ˆéš¾ç”±æœ¬äººæµ‹è¯•å‡ºæ¥ï¼Œå¾ˆå®¹æ˜“æ ¹æ®è‡ªå·±ç¼–ç¨‹çš„æ€è·¯æ¥åˆ¶å®šæµ‹è¯•æ€è·¯ï¼Œå…·æœ‰å±€é™æ€§ã€‚ åœ¨è®¾è®¡æµ‹è¯•æ–¹æ¡ˆæ—¶ï¼Œä¸ä»…è¦ç¡®å®šè¾“å…¥æ•°æ®ï¼Œè€Œä¸”è¦æ ¹æ®ç³»ç»ŸåŠŸèƒ½ç¡®å®šé¢„æœŸè¾“å‡ºç»“æœã€‚å°†å®é™…è¾“å‡ºç»“æœä¸é¢„æœŸç»“æœç›¸æ¯”è¾ƒå°±èƒ½å‘ç°æµ‹è¯•å¯¹è±¡æ˜¯å¦æ­£ç¡®ã€‚\nåœ¨è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œä¸ä»…è¦è®¾è®¡æœ‰æ•ˆã€åˆç†çš„è¾“å…¥æ¡ä»¶ï¼Œä¹Ÿè¦åŒ…å«ä¸åˆç†ã€å¤±æ•ˆçš„è¾“å…¥æ¡ä»¶ã€‚\nåœ¨æµ‹è¯•ç¨‹åºæ—¶ï¼Œä¸ä»…è¦æ£€éªŒç¨‹åºæ˜¯å¦åšäº†è¯¥åšçš„äº‹ï¼Œè¿˜è¦æ£€éªŒç¨‹åºæ˜¯å¦åšäº†ä¸è¯¥åšçš„äº‹ã€‚\nä¸¥æ ¼æŒ‰ç…§æµ‹è¯•è®¡åˆ’æ¥è¿›è¡Œï¼Œé¿å…æµ‹è¯•çš„éšæ„æ€§ã€‚\næµ‹è¯•è®¡åˆ’åº”åŒ…æ‹¬ï¼š\næµ‹è¯•å†…å®¹ è¿›åº¦å®‰æ’ äººå‘˜å®‰æ’ æµ‹è¯•ç¯å¢ƒ æµ‹è¯•å·¥å…· æµ‹è¯•èµ„æ–™ å¦¥å–„ä¿å­˜æµ‹è¯•è®¡åˆ’ã€æµ‹è¯•ç”¨ä¾‹ï¼Œä½œä¸ºè½¯ä»¶æ–‡æ¡£çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸ºç»´æŠ¤æä¾›æ–¹ä¾¿ã€‚\næµ‹è¯•ä¾‹å­éƒ½æ˜¯ç²¾å¿ƒè®¾è®¡å‡ºæ¥çš„ï¼Œå¯ä»¥ä¸ºé‡æ–°æµ‹è¯•æˆ–è¿½åŠ æµ‹è¯•æä¾›æ–¹ä¾¿ã€‚\nç³»ç»Ÿæµ‹è¯•é˜¶æ®µçš„æµ‹è¯•ç›®æ ‡æ¥è‡ªäºéœ€æ±‚åˆ†æé˜¶æ®µã€‚\næµ‹è¯•è¿‡ç¨‹ï¼š\nåˆ¶å®šæµ‹è¯•è®¡åˆ’ ç¼–åˆ¶æµ‹è¯•å¤§çº² æ ¹æ®æµ‹è¯•å¤§çº²è®¾è®¡å’Œç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ å®æ–½æµ‹è¯• ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š å•å…ƒæµ‹è¯• å•å…ƒæµ‹è¯•ä¹Ÿç§°ä¸ºæ¨¡å—æµ‹è¯•ï¼Œåœ¨æ¨¡å—ç¼–å†™å®Œæˆä¸”æ— ç¼–è¯‘é”™è¯¯åå°±å¯ä»¥è¿›è¡Œã€‚å•å…ƒæµ‹è¯•ä¾§é‡äºæ¨¡å—ä¸­çš„å†…éƒ¨å¤„ç†é€»è¾‘å’Œæ•°æ®ç»“æ„ã€‚å¦‚æœé€‰ç”¨æœºå™¨æµ‹è¯•ï¼Œä¸€èˆ¬ç”¨ç™½ç›’æµ‹è¯•æ³•ã€‚è¿™ç±»æµ‹è¯•å¯ä»¥å¯¹å¤šä¸ªæ¨¡å—åŒæ—¶è¿›è¡Œã€‚\nå•å…ƒæµ‹è¯•ä¸»è¦æ£€æŸ¥æ¨¡å—çš„ä»¥ä¸‹5ä¸ªç‰¹å¾ï¼š\næ¨¡å—æ¥å£ï¼šæ¨¡å—çš„æ¥å£ä¿è¯äº†æµ‹è¯•æ¨¡å—çš„æ•°æ®æµå¯ä»¥æ­£ç¡®åœ°æµå…¥ã€æµå‡ºã€‚\nåœ¨æµ‹è¯•ä¸­åº”æ£€æŸ¥ä»¥ä¸‹è¦ç‚¹ï¼š\næµ‹è¯•æ¨¡å—çš„è¾“å…¥å‚æ•°å’Œå½¢å¼å‚æ•°åœ¨ä¸ªæ•°ã€å±æ€§ã€å•ä½ä¸Šæ˜¯å¦ä¸€è‡´ã€‚ è°ƒç”¨å…¶ä»–æ¨¡å—æ—¶ï¼Œæ‰€ç»™å‡ºçš„å®é™…å‚æ•°å’Œè¢«è°ƒç”¨æ¨¡å—çš„å½¢å¼å‚æ•°åœ¨ä¸ªæ•°ã€å±æ€§ã€å•ä½ä¸Šæ˜¯å¦ä¸€è‡´ã€‚ è°ƒç”¨æ ‡å‡†å‡½æ•°æ—¶ï¼Œæ‰€ç”¨çš„å‚æ•°åœ¨å±æ€§ã€æ•°ç›®å’Œé¡ºåºä¸Šæ˜¯å¦æ­£ç¡®ã€‚ å…¨å±€å˜é‡åœ¨å„æ¨¡å—ä¸­çš„å®šä¹‰å’Œç”¨æ³•æ˜¯å¦ä¸€è‡´ã€‚ è¾“å…¥æ˜¯å¦ä»…æ”¹å˜äº†å½¢å¼å‚æ•°ã€‚ å¼€/å…³çš„è¯­å¥æ˜¯å¦æ­£ç¡®ã€‚ è§„å®šçš„I/Oæ ¼å¼æ˜¯å¦ä¸è¾“å…¥/è¾“å‡ºè¯­å¥ä¸€è‡´ã€‚ åœ¨ä½¿ç”¨æ–‡ä»¶ä¹‹å‰æ˜¯å¦å·²ç»æ‰“å¼€æ–‡ä»¶æˆ–ä½¿ç”¨æ–‡ä»¶ä¹‹åæ˜¯å¦å·±ç»å…³é—­æ–‡ä»¶ã€‚ å±€éƒ¨æ•°æ®ç»“æ„\né‡è¦çš„æ‰§è¡Œè·¯å¾„\nå‡ºé”™å¤„ç†\nè¾¹ç•Œæ¡ä»¶\næ¨¡å—é—´å­˜åœ¨è°ƒç”¨ä¸è¢«è°ƒå…³ç³»ï¼Œå¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œæµ‹è¯•æ—¶ï¼Œéœ€è¦å¼€å‘ä¸¤ç§æ¨¡å—ï¼š\né©±åŠ¨æ¨¡å—ï¼šæ¥æ”¶æµ‹è¯•ä¾‹å­çš„æ•°æ®ï¼Œå°†è¿™äº›æ•°æ®é€åˆ°æµ‹è¯•æ¨¡å—ï¼Œè¾“å‡ºç»“æœã€‚\nå³æ¨¡æ‹Ÿè¢«æµ‹è¯•æ¨¡å—çš„ä¸Šä¸€çº§æ¨¡å—ï¼Œç›¸å½“äºè¢«æµ‹æ¨¡å—çš„ä¸»ç¨‹åºã€‚\næ¡©æ¨¡å—ï¼ˆå­˜æ ¹æ¨¡å—ï¼‰ï¼šä»£æ›¿æµ‹è¯•æ¨¡å—ä¸­æ‰€è°ƒç”¨çš„å­æ¨¡å—ï¼Œå…¶å†…éƒ¨å¯è¿›è¡Œå°‘é‡çš„æ•°æ®å¤„ç†ã€‚ç›®çš„æ˜¯ä¸ºäº†æ£€éªŒå…¥å£ã€è¾“å‡ºè°ƒç”¨å’Œè¿”å›çš„ä¿¡æ¯ã€‚\nå³æ¨¡æ‹Ÿè¢«æµ‹æ¨¡å—çš„å­æ¨¡å—ï¼ˆæ‰€è°ƒç”¨çš„æ¨¡å—ï¼‰ï¼Œä½†ä¸æ˜¯è½¯ä»¶äº§å“çš„ç»„æˆéƒ¨åˆ†ã€‚\næé«˜æ¨¡å—çš„å†…èšåº¦å¯ä»¥ç®€åŒ–å•å…ƒæµ‹è¯•ã€‚\né›†æˆæµ‹è¯• é›†æˆæµ‹è¯•å°±æ˜¯æŠŠæ¨¡å—æŒ‰ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦çš„è¦æ±‚ç»„åˆèµ·æ¥è¿›è¡Œæµ‹è¯•ã€‚å³ä½¿æ‰€æœ‰çš„æ¨¡å—éƒ½é€šè¿‡äº†æµ‹è¯•ï¼Œåœ¨é›†æˆä¹‹åï¼Œä»ç„¶å¯èƒ½å‡ºç°é—®é¢˜ï¼š\nç©¿è¿‡æ¨¡å—çš„æ•°æ®ä¸¢å¤±ï¼› ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½å¯¹å…¶ä»–æ¨¡å—é€ æˆæœ‰å®³çš„å½±å“ï¼› å„ä¸ªæ¨¡å—é›†æˆèµ·æ¥æ²¡æœ‰è¾¾åˆ°é¢„æœŸçš„åŠŸèƒ½ï¼› å…¨å±€æ•°æ®ç»“æ„å‡ºç°é—®é¢˜ï¼› å•ä¸ªæ¨¡å—çš„è¯¯å·®å¯ä»¥æ¥å—ï¼Œä½†æ¨¡å—ç»„åˆåï¼Œå¯èƒ½ä¼šå‡ºç°è¯¯å·®ç´¯ç§¯ï¼Œæœ€åç´¯ç§¯åˆ°ä¸èƒ½æ¥å—çš„ç¨‹åº¦ã€‚ é›†æˆæµ‹è¯•æ˜¯è¿›è¡Œä¸€äº›æ—¨åœ¨å‘ç°ä¸æ¥å£ç›¸å…³çš„é”™è¯¯çš„æµ‹è¯•ï¼Œå…¶ç›®æ ‡æ˜¯åˆ©ç”¨å·²é€šè¿‡å•å…ƒæµ‹è¯•çš„æ„ä»¶å»ºç«‹è®¾è®¡ä¸­æè¿°çš„ç¨‹åºç»“æ„ã€‚\né€šå¸¸ï¼Œé›†æˆæµ‹è¯•æœ‰ä¸¤ç§æ–¹æ³•ï¼š\néå¢é‡é›†æˆï¼šåˆ†åˆ«æµ‹è¯•å„ä¸ªæ¨¡å—ï¼Œå†æŠŠè¿™äº›æ¨¡å—ç»„åˆèµ·æ¥è¿›è¡Œæ•´ä½“æµ‹è¯•ã€‚\nä¼˜ç‚¹ï¼šå¯ä»¥å¯¹æ¨¡å—è¿›è¡Œå¹¶è¡Œæµ‹è¯•ï¼Œèƒ½å……åˆ†åˆ©ç”¨äººåŠ›ï¼Œå¹¶åŠ å¿«å·¥ç¨‹è¿›åº¦ã€‚ ç¼ºç‚¹ï¼šå®¹æ˜“æ··ä¹±ï¼Œå‡ºç°é”™è¯¯ä¸å®¹æ˜“æŸ¥æ‰¾å’Œå®šä½ã€‚ å¢é‡é›†æˆï¼šä»¥å°å¢é‡çš„æ–¹å¼é€æ­¥è¿›è¡Œæ„é€ å’Œæµ‹è¯•ã€‚\nå¢é‡å¼æµ‹è¯•çš„èŒƒå›´ä¸€æ­¥æ­¥æ‰©å¤§ï¼Œé”™è¯¯å®¹æ˜“å®šä½ï¼Œæ›´æ˜“äºå¯¹æ¥å£è¿›è¡Œå½»åº•æµ‹è¯•ï¼Œå¹¶ä¸”å¯ä»¥è¿ç”¨ç³»ç»ŸåŒ–çš„æµ‹è¯•æ–¹æ³•ã€‚\nå¢é‡é›†æˆç­–ç•¥æœ‰ï¼š\nè‡ªé¡¹å‘ä¸‹é›†æˆæµ‹è¯•ï¼šä¸€ç§æ„é€ è½¯ä»¶ä½“ç³»ç»“æ„çš„å¢é‡æ–¹æ³•ã€‚\næ¨¡å—çš„é›†æˆé¡ºåºä¸ºä»ä¸»æ§æ¨¡å—ï¼ˆä¸»ç¨‹åºï¼‰å¼€å§‹ï¼Œæ²¿ç€æ§åˆ¶å±‚æ¬¡é€æ­¥å‘ä¸‹ï¼Œä»¥æ·±åº¦ä¼˜å…ˆæˆ–å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼å°†ä»å±äºï¼ˆæˆ–é—´æ¥ä»å±äºï¼‰ä¸»æ§æ¨¡å—çš„æ¨¡å—é›†æˆåˆ°ç»“æ„ä¸­ã€‚\næ·±åº¦ä¼˜å…ˆé›†æˆæ˜¯é¦–å…ˆé›†æˆä½äºç¨‹åºç»“æ„ä¸­ä¸»æ§è·¯å¾„ä¸Šçš„æ‰€æœ‰æ„ä»¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®ç‰¹å®šåº”ç”¨ç³»ç»Ÿçš„ç‰¹å¾è¿›è¡Œé€‰æ‹©ã€‚\nä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œé€‰æ‹©æœ€å·¦è¾¹çš„è·¯å¾„ï¼š\né¦–å…ˆï¼Œé›†æˆæ„å»º$M_1$ã€$M_2$å’Œ$M_5$ï¼› å…¶æ¬¡ï¼Œé›†æˆ$M_8$æˆ–$M_6$ï¼ˆè‹¥$M_2$çš„æ­£å¸¸è¿è¡Œæ˜¯å¿…é¡»çš„ï¼‰ï¼› ç„¶åï¼Œé›†æˆä¸­é—´å’Œå³è¾¹æ§åˆ¶è·¯å¾„ä¸Šçš„æ„å»ºã€‚ å¹¿åº¦ä¼˜å…ˆé›†æˆé¦–å…ˆæ²¿ç€æ°´å¹³æ–¹å‘ï¼Œå°†å±äºåŒä¸€å±‚çš„æ„å»ºé›†æˆèµ·æ¥ã€‚\nä¾‹å¦‚ä¸Šå›¾ä¸­ï¼š\né¦–å…ˆï¼Œå°†æ„å»º$M_2$ã€$M_3$å’Œ$M_4$é›†æˆèµ·æ¥ï¼› å…¶æ¬¡æ˜¯$M_5$ã€$M_6$ã€$M_7$ï¼Œä¾æ¬¡ç±»æ¨ã€‚ é›†æˆè¿‡ç¨‹å¯ä»¥é€šè¿‡ä¸‹åˆ—5ä¸ªæ­¥éª¤å®Œæˆï¼š\nä¸»æ§æ¨¡å—ç”¨ä½œæµ‹è¯•é©±åŠ¨æ¨¡å—ï¼Œç”¨è¿™äº›ä»å±äºä¸»æ§æ¨¡å—çš„æ‰€æœ‰æ¨¡å—ä»£æ›¿æ¡©æ¨¡å—ã€‚ ä¾é æ‰€é€‰æ‹©çš„é›†æˆæ–¹æ³•ï¼ˆå³æ·±åº¦ä¼˜å…ˆæˆ–å¹¿åº¦ä¼˜å…ˆï¼‰ï¼Œæ¯æ¬¡ç”¨å®é™…æ¨¡å—æ›¿æ¢ä¸€ä¸ªä»å±æ¡©æ¨¡å—ã€‚ åœ¨é›†æˆæ¯ä¸ªæ¨¡å—åéƒ½è¿›è¡Œæµ‹è¯•ã€‚ åœ¨å®Œæˆæ¯ä¸ªæµ‹è¯•é›†ä¹‹åï¼Œç”¨å®é™…æ¨¡å—æ›¿æ¢å¦ä¸€ä¸ªæ¡©æ¨¡å—ã€‚ å¯ä»¥æ‰§è¡Œå›å½’æµ‹è¯•ï¼Œä»¥ç¡®ä¿æ²¡æœ‰å¼•å…¥æ–°çš„é”™è¯¯ã€‚ å›åˆ°ç¬¬2æ­¥ç»§ç»­æ‰§è¡Œæ­¤è¿‡ç¨‹ï¼Œç›´åˆ°å®Œæˆäº†æ•´ä¸ªç¨‹åºç»“æ„çš„æ„é€ ã€‚\nè‡ªé¡¶å‘ä¸‹é›†æˆä¸éœ€è¦é©±åŠ¨æ¨¡å—ã€‚\nè‡ªåº•å‘ä¸Šé›†æˆæµ‹è¯•ï¼šè‡ªåº•å‘ä¸Šé›†æˆæµ‹è¯•å°±æ˜¯ä»åŸå­æ¨¡å—ï¼ˆç¨‹åºç»“æ„çš„æœ€åº•å±‚æ„ä»¶ï¼‰å¼€å§‹è¿›è¡Œæ„é€ å’Œæµ‹è¯•ã€‚\nç”±äºæ„ä»¶æ˜¯è‡ªåº•å‘ä¸Šé›†æˆçš„ï¼Œåœ¨å¤„ç†æ—¶æ‰€éœ€è¦çš„ä»å±äºç»™å®šå±‚æ¬¡çš„æ¨¡å—æ€»æ˜¯å­˜åœ¨çš„ï¼Œå› æ­¤ï¼Œæ²¡æœ‰å¿…è¦ä½¿ç”¨æ¡©æ¨¡å—ã€‚è‡ªåº•å‘ä¸Šé›†æˆç­–ç•¥å¯ä»¥åˆ©ç”¨ä»¥ä¸‹æ­¥éª¤æ¥å®ç°ï¼š\nè¿æ¥ä½å±‚æ„ä»¶ä»¥æ„æˆå®Œæˆç‰¹å®šå­åŠŸèƒ½çš„ç°‡ã€‚ ç¼–å†™é©±åŠ¨æ¨¡å—ï¼ˆæµ‹è¯•çš„æ§åˆ¶ç¨‹åºï¼‰ä»¥åè°ƒæµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥å’Œè¾“å‡ºã€‚ æµ‹è¯•ç°‡ã€‚ å»æ‰é©±åŠ¨ç¨‹åºï¼Œæ²¿ç€ç¨‹åºç»“æ„å‘ä¸Šé€æ­¥è¿æ¥ç°‡ã€‚ ç°‡ï¼šä¸€ç³»åˆ—ç›¸å…³ä½å±‚æ„å»ºçš„é›†åˆã€‚\nè‡ªåº•å‘ä¸Šé›†æˆä¸éœ€è¦æ¡©æ¨¡å—ã€‚\nä¾‹å¦‚ï¼š\nè¿æ¥ç›¸åº”çš„æ„å»ºå½¢æˆç°‡1ã€ç°‡2å’Œç°‡3ï¼› ç¼–å†™é©±åŠ¨æ¨¡å—ï¼ˆå›¾ä¸­è™šçº¿ä¸Šæ–¹è¿æ¥çš„æ¡†ï¼Œå³$D_1$ã€$D_2$å’Œ$D_3$ï¼‰ åˆ©ç”¨é©±åŠ¨æ¨¡å—å¯¹æ¯ä¸ªç°‡è¿›è¡Œæµ‹è¯•ã€‚ ç°‡1å’Œç°‡2ä¸­çš„æ„å»ºä»å±äºæ¨¡å—$M_a$ï¼Œå»æ‰é©±åŠ¨æ¨¡å—$D_1$å’Œ$D_2$ï¼Œå°†è¿™ä¸¤ä¸ªç°‡ç›´æ¥ä¸$M_a$ç›¸è¿ï¼›ç°‡3å»æ‰é©±åŠ¨æ¨¡å—$D_3$ï¼Œç„¶åä¸$M_b$ç›¸è¿ã€‚ æœ€åå°†$M_a$å’Œ$M_b$ä¸æ„å»º$M_c$è¿æ¥åœ¨ä¸€èµ·ã€‚ å›å½’æµ‹è¯•ï¼šé‡æ–°æ‰§è¡Œå·±æµ‹è¯•è¿‡çš„æŸäº›å­é›†ï¼Œä»¥ç¡®ä¿å˜æ›´æ²¡æœ‰ä¼ æ’­ä¸æœŸæœ›çš„å‰¯ä½œç”¨ã€‚\næ¯å½“åŠ å…¥ä¸€ä¸ªæ–°æ¨¡å—ä½œä¸ºé›†æˆæµ‹è¯•çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œè½¯ä»¶å‘ç”Ÿå˜æ›´ï¼Œå»ºç«‹äº†æ–°çš„æ•°æ®æµè·¯å¾„ï¼Œå¯èƒ½å‡ºç°æ–°çš„/O,ä»¥åŠè°ƒç”¨æ–°çš„æ§åˆ¶é€»è¾‘ã€‚è¿™äº›å˜æ›´å¯èƒ½ä¼šä½¿åŸæ¥å¯ä»¥æ­£å¸¸å·¥ä½œçš„åŠŸèƒ½äº§ç”Ÿé—®é¢˜ã€‚\nå›å½’æµ‹è¯•æœ‰åŠ©äºä¿è¯å˜æ›´ä¸å¼•å…¥æ— æ„è¯†è¡Œä¸ºæˆ–é¢å¤–çš„é”™è¯¯ã€‚å›å½’æµ‹è¯•çš„æ–¹æ³•æœ‰ï¼š\næ‰‹å·¥æ‰§è¡Œï¼Œé‡æ–°æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹çš„å­é›† åˆ©ç”¨æ•æ‰/å›æ”¾å·¥å…·è‡ªåŠ¨æ‰§è¡Œ å›å½’æµ‹è¯•è¦æ‰§è¡Œçš„æµ‹è¯•å­é›†åŒ…å«ä»¥ä¸‹3ç§æµ‹è¯•ç”¨ä¾‹ï¼š\nèƒ½å¤Ÿæµ‹è¯•è½¯ä»¶æ‰€æœ‰åŠŸèƒ½çš„å…·æœ‰ä»£è¡¨æ€§çš„æµ‹è¯•æ ·æœ¬ã€‚ é¢å¤–æµ‹è¯•ï¼Œä¾§é‡äºå¯èƒ½ä¼šå—å˜æ›´å½±å“çš„è½¯ä»¶åŠŸèƒ½ã€‚ ä¾§é‡äºå·²å‘ç”Ÿå˜æ›´çš„è½¯ä»¶æ„ä»¶æµ‹è¯•ã€‚ éšç€é›†æˆæµ‹è¯•çš„è¿›è¡Œï¼Œå›å½’æµ‹è¯•çš„æ•°é‡å¯èƒ½å˜å¾—ç›¸å½“åºå¤§ï¼Œå› æ­¤ï¼Œåº”å°†å›å½’æµ‹è¯•ç”¨ä¾‹è®¾è®¡æˆåªåŒ…æ‹¬æ¯ä¸ªä¸»è¦ç¨‹åºåŠŸèƒ½çš„ä¸€ä¸ªæˆ–å¤šä¸ªé”™è¯¯ç±»çš„æµ‹è¯•ã€‚\nå†’çƒŸæµ‹è¯•ï¼šä¸€ç§å¸¸ç”¨çš„é›†æˆæµ‹è¯•æ–¹æ³•ï¼Œæ˜¯æ—¶é—´å…³é”®é¡¹ç›®çš„å†³å®šæ€§æœºåˆ¶ï¼Œå®ƒè®©è½¯ä»¶å›¢é˜Ÿé¢‘ç¹åœ°å¯¹é¡¹ç›®è¿›è¡Œè¯„ä¼°ã€‚\nå†’çƒŸæµ‹è¯•æ–¹æ³•åŒ…æ‹¬ä¸‹åˆ—æ´»åŠ¨ï¼š\nå°†å·²ç»è½¬æ¢ä¸ºä»£ç çš„è½¯ä»¶æ„ä»¶é›†æˆåˆ°æ„å»ºä¸­ã€‚\nä¸€ä¸ªæ„å»ºåŒ…æ‹¬æ‰€æœ‰çš„ï¼š\næ•°æ®æ–‡ä»¶ åº“ å¯å¤ç”¨çš„æ¨¡å— å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªäº§å“åŠŸèƒ½æ‰€éœ€çš„å·¥ç¨‹åŒ–æ„ä»¶ è®¾è®¡ä¸€ç³»åˆ—æµ‹è¯•ä»¥æš´éœ²å½±å“æ„å»ºæ­£ç¡®åœ°å®Œæˆå®ƒçš„åŠŸèƒ½çš„é”™è¯¯ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å‘ç°ææœ‰å¯èƒ½é€ æˆé¡¹ç›®å»¶è¿Ÿçš„ä¸šåŠ¡é˜»å¡é”™è¯¯ã€‚\næ¯å¤©å°†è¯¥æ„å»ºä¸å…¶ä»–æ„å»ºåŠæ•´ä¸ªè½¯ä»¶äº§å“ï¼ˆä»¥å…¶å½“å‰å½¢åŠ¿ï¼‰é›†æˆèµ·æ¥è¿›è¡Œå†’çƒŸæµ‹è¯•ã€‚\nè¿™ç§é›†æˆæ–¹æ³•å¯ä»¥è‡ªé¡¶å‘ä¸‹ï¼Œä¹Ÿå¯ä»¥è‡ªåº•å‘ä¸Šã€‚\næµ‹è¯•æ–¹æ³• æµ‹è¯•æ–¹æ³•åˆ†ä¸ºï¼š\né™æ€æµ‹è¯•ï¼š\næŒ‡è¢«æµ‹è¯•ç¨‹åºä¸åœ¨æœºå™¨ä¸Šè¿è¡Œï¼Œè€Œæ˜¯é‡‡ç”¨ä»¥ä¸‹æ‰‹æ®µå¯¹ç¨‹åºè¿›è¡Œæ£€æµ‹ï¼š\näººå·¥æ£€æµ‹ï¼šä¸ä¾é è®¡ç®—æœºè€Œæ˜¯ä¾é äººå·¥å®¡æŸ¥ç¨‹åºæˆ–è¯„å®¡è½¯ä»¶ã€‚\näººå·¥æ£€æµ‹åŒ…æ‹¬ï¼š\nä»£ç æ£€æŸ¥ é™æ€ç»“æ„åˆ†æ ä»£ç è´¨é‡åº¦é‡ è®¡ç®—æœºè¾…åŠ©é™æ€åˆ†æ\nåŠ¨æ€æµ‹è¯•ï¼šæŒ‡é€šè¿‡è¿è¡Œç¨‹åºå‘ç°é”™è¯¯ã€‚\nåœ¨å¯¹è½¯ä»¶äº§å“è¿›è¡ŒåŠ¨æ€æµ‹è¯•æ—¶å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æµ‹è¯•æ–¹æ³•ï¼š\né»‘ç›’æµ‹è¯•æ³• ç™½ç›’æµ‹è¯•æ³• æµ‹è¯•ç”¨ä¾‹ç”±ä»¥ä¸‹ç»„æˆï¼š\næµ‹è¯•è¾“å…¥æ•°æ® é¢„æœŸè¾“å‡ºç»“æœï¼šä¸æµ‹è¯•è¾“å…¥æ•°æ®å¯¹åº”çš„é¢„æœŸè¾“å‡ºç»“æœ åœ¨è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œåº”å½“åŒ…æ‹¬ï¼š\nåˆç†çš„è¾“å…¥æ¡ä»¶ ä¸åˆç†çš„è¾“å…¥æ¡ä»¶ é»‘ç›’æµ‹è¯• é»‘ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºåŠŸèƒ½æµ‹è¯•ï¼Œåœ¨å®Œå…¨ä¸è€ƒè™‘è½¯ä»¶çš„å†…éƒ¨ç»“æ„å’Œç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•è½¯ä»¶çš„å¤–éƒ¨ç‰¹æ€§ã€‚\nè¿›è¡Œé»‘ç›’æµ‹è¯•ä¸»è¦æ˜¯ä¸ºäº†å‘ç°ä»¥ä¸‹å‡ ç±»é”™è¯¯ï¼š\næ˜¯å¦æœ‰é”™è¯¯çš„åŠŸèƒ½æˆ–é—æ¼çš„åŠŸèƒ½ï¼Ÿ ç•Œé¢æ˜¯å¦æœ‰è¯¯ï¼Ÿè¾“å…¥æ˜¯å¦æ­£ç¡®æ¥æ”¶ï¼Ÿè¾“å‡ºæ˜¯å¦æ­£ç¡®ï¼Ÿ æ˜¯å¦æœ‰æ•°æ®ç»“æ„æˆ–å¤–éƒ¨æ•°æ®åº“è®¿é—®é”™è¯¯ï¼Ÿ æ€§èƒ½æ˜¯å¦èƒ½å¤šæ¥å—ï¼Ÿ æ˜¯å¦æœ‰åˆå§‹åŒ–æˆ–ç»ˆæ­¢æ€§é”™è¯¯ï¼Ÿ å¸¸ç”¨çš„é»‘ç›’æµ‹è¯•æŠ€æœ¯æœ‰ï¼š\nç­‰ä»·ç±»åˆ’åˆ†ï¼šå°†ç¨‹åºçš„è¾“å…¥åŸŸåˆ’åˆ†ä¸ºè‹¥å¹²ç­‰ä»·ç±»ï¼Œç„¶åä»æ¯ä¸ªç­‰ä»·ç±»ä¸­é€‰å–ä¸€ä¸ªä»£è¡¨æ€§æ•°æ®ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚\næ¯ä¸€ç±»çš„ä»£è¡¨æ€§æ•°æ®åœ¨æµ‹è¯•ä¸­çš„ä½œç”¨ç­‰ä»·äºè¿™ä¸€ç±»ä¸­çš„å…¶ä»–å€¼ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨å°‘é‡ä»£è¡¨æ€§çš„æµ‹è¯•ç”¨ä¾‹å–å¾—è¾ƒå¥½çš„æµ‹è¯•æ•ˆæœã€‚\nç­‰ä»·ç±»åˆ’åˆ†æœ‰ä¸¤ç§ä¸åŒçš„æƒ…å†µï¼š\næœ‰æ•ˆç­‰ä»·ç±» æ— æ•ˆç­‰ä»·ç±» åœ¨è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œè¦åŒæ—¶è€ƒè™‘è¿™ä¸¤ç§ç­‰ä»·ç±»ã€‚\nå®šä¹‰ç­‰ä»·ç±»çš„åŸåˆ™å¦‚ä¸‹ã€‚\nåœ¨è¾“å…¥æ¡ä»¶è§„å®šäº†å–å€¼èŒƒå›´æˆ–å€¼çš„ä¸ªæ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰1ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œ2ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è¾“å…¥æ¡ä»¶è§„å®šäº†è¾“å…¥å€¼çš„é›†åˆæˆ–è§„å®šäº†â€œå¿…é¡»å¦‚ä½•â€çš„æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰1ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œä¸€ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è¾“å…¥æ¡ä»¶æ˜¯ä¸€ä¸ªå¸ƒå°”é‡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œä¸€ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è§„å®šäº†è¾“å…¥æ•°æ®çš„ä¸€ç»„å€¼ï¼ˆå‡å®š$n$ä¸ªï¼‰ï¼Œå¹¶ä¸”ç¨‹åºè¦å¯¹æ¯ä¸€ä¸ªè¾“å…¥å€¼åˆ†åˆ«å¤„ç†çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰$n$ä¸ªæœ‰æ•ˆç­‰ä»·ç±»å’Œ1ä¸ªæ— æ•ˆç­‰ä»·ç±»ã€‚ åœ¨è§„å®šäº†è¾“å…¥æ•°æ®å¿…é¡»éµå®ˆçš„è§„åˆ™çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæœ‰æ•ˆç­‰ä»·ç±»ï¼ˆç¬¦åˆè§„åˆ™ï¼‰å’Œè‹¥å¹²ä¸ªæ— æ•ˆç­‰ä»·ç±»ï¼ˆä»ä¸åŒè§’åº¦è¿åè§„åˆ™ï¼‰ã€‚ åœ¨ç¡®çŸ¥å·±åˆ’åˆ†çš„ç­‰ä»·ç±»ä¸­ï¼Œå„å…ƒç´ åœ¨ç¨‹åºå¤„ç†ä¸­çš„æ–¹å¼ä¸åŒçš„æƒ…å†µä¸‹ï¼Œåˆ™åº”å°†è¯¥ç­‰ä»·ç±»è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºæ›´å°çš„ç­‰ä»·ç±»ã€‚ ä¾‹å¦‚ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$y$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼Œé‚£ä¹ˆå¯ä»¥å®šä¹‰ä¸‰ä¸ªç­‰ä»·ç±»ï¼š\næœ‰æ•ˆç­‰ä»·ç±»1ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼› æ— æ•ˆç­‰ä»·ç±»2ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$x \u0026lt; 0 \\ \\ OR \\ \\ x \u0026gt; 10$ï¼Œè¾“å…¥$y$çš„å–å€¼èŒƒå›´æ˜¯$-10 \\sim -1$ï¼› æ— æ•ˆç­‰ä»·ç±»3ï¼š$x$çš„å–å€¼èŒƒå›´æ˜¯$0 \\sim 10$ï¼Œè¾“å…¥$x$çš„å–å€¼èŒƒå›´æ˜¯$x \u0026lt; -10 \\ \\ OR \\ \\ x \u0026gt; -1$ã€‚ æ— æ•ˆç­‰ä»·ç±»çš„åˆ’åˆ†ï¼šæ¯ä¸ªæ— æ•ˆç­‰ä»·ç±»çš„æµ‹è¯•ç”¨ä¾‹ï¼Œåªè¿åä¸€ä¸ªè¾“å…¥çš„å–å€¼èŒƒå›´ã€‚å¦‚æœè¿åäº†å¤šä¸ªè¾“å…¥çš„å–å€¼èŒƒå›´ï¼Œé‚£ä¾¿æ˜¯ä¸å¥½çš„æµ‹è¯•ç”¨ä¾‹ã€‚\nè¾¹ç•Œå€¼åˆ†æï¼šè¾“å…¥çš„è¾¹ç•Œæ¯”ä¸­é—´æ›´åŠ å®¹æ˜“å‘ç”Ÿé”™è¯¯ï¼Œå› æ­¤ç”¨è¾¹ç•Œå€¼åˆ†ææ¥è¡¥å……ç­‰ä»·ç±»åˆ’åˆ†çš„æµ‹è¯•ç”¨ä¾‹è®¾è®¡æŠ€æœ¯ã€‚\nè¾¹ç•Œå€¼åˆ’åˆ†é€‰æ‹©ç­‰ä»·ç±»è¾¹ç•Œçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ—¢æ³¨é‡äºè¾“å…¥æ¡ä»¶è¾¹ç•Œï¼Œåˆé€‚ç”¨äºè¾“å‡ºåŸŸæµ‹è¯•ç”¨ä¾‹ã€‚\nå¯¹è¾¹ç•Œå€¼è®¾è®¡æµ‹è¯•ç”¨ä¾‹åº”éµå¾ªçš„åŸåˆ™å¦‚ä¸‹ï¼š\nå¦‚æœè¾“å…¥æ¡ä»¶è§„å®šäº†å€¼çš„èŒƒå›´ï¼Œåˆ™åº”å–åˆšè¾¾åˆ°è¿™ä¸ªèŒƒå›´çš„è¾¹ç•Œçš„å€¼ï¼Œä»¥åŠåˆšåˆšè¶…è¶Šè¿™ä¸ªèŒƒå›´è¾¹ç•Œçš„å€¼ä½œä¸ºæµ‹è¯•è¾“å…¥æ•°æ®ã€‚ å¦‚æœè¾“å…¥æ¡ä»¶è§„å®šäº†å€¼çš„ä¸ªæ•°ï¼Œåˆ™ç”¨æœ€å¤§ä¸ªæ•°ã€æœ€å°ä¸ªæ•°ã€æ¯”æœ€å°ä¸ªæ•°å°‘1ã€æ¯”æœ€å¤§ä¸ªæ•°å¤š1çš„æ•°æ®ä½œä¸ºæµ‹è¯•æ•°æ®ã€‚ æ ¹æ®è§„æ ¼è¯´æ˜çš„æ¯ä¸ªè¾“å‡ºæ¡ä»¶ä½¿ç”¨ä¸Šè¿°ä¸¤æ¡åŸåˆ™ã€‚ å¦‚æœç¨‹åºçš„è§„æ ¼è¯´æ˜ç»™å‡ºçš„è¾“å…¥åŸŸæˆ–è¾“å‡ºåŸŸæ˜¯æœ‰åºé›†åˆï¼Œåˆ™åº”é€‰å–é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚ å¦‚æœç¨‹åºä¸­ä½¿ç”¨äº†ä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æ„ï¼Œåˆ™åº”å½“é€‰æ‹©è¿™ä¸ªå†…éƒ¨æ•°æ®ç»“æ„è¾¹ç•Œä¸Šçš„å€¼ä½œä¸ºæµ‹è¯•ç”¨ä¾‹ã€‚ åˆ†æè§„æ ¼è¯´æ˜ï¼Œæ‰¾å‡ºå…¶ä»–å¯èƒ½çš„è¾¹ç•Œæ¡ä»¶ã€‚ é”™è¯¯æ¨æµ‹\nå› æœå›¾\nç™½ç›’æµ‹è¯• ç™½ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºç»“æ„æµ‹è¯•ï¼Œæ ¹æ®ç¨‹åºçš„å†…éƒ¨ç»“æ„å’Œé€»è¾‘æ¥è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œå¯¹ç¨‹åºçš„è·¯å¾„å’Œè¿‡ç¨‹è¿›è¡Œæµ‹è¯•ï¼Œæ£€æŸ¥æ˜¯å¦æ»¡è¶³è®¾è®¡çš„éœ€è¦ã€‚\nç™½ç›’æµ‹è¯•å¸¸ç”¨çš„æŠ€æœ¯æœ‰ï¼š\né€»è¾‘è¦†ç›–ï¼šè€ƒå¯Ÿç”¨æµ‹è¯•æ•°æ®è¿è¡Œè¢«æµ‹ç¨‹åºæ—¶ï¼Œå¯¹ç¨‹åºé€»è¾‘çš„è¦†ç›–ç¨‹åº¦ã€‚\nä¸»è¦çš„é€»è¾‘è¦†ç›–æ ‡å‡†æœ‰6ç§ï¼Œå®ƒä»¬çš„è¦†ç›–ç¨‹åº¦ä»ä½åˆ°é«˜ä¸ºï¼š\nè¯­å¥è¦†ç›–ï¼šæŒ‡é€‰æ‹©è¶³å¤Ÿçš„æµ‹è¯•æ•°æ®ï¼Œä½¿è¢«æµ‹è¯•ç¨‹åºä¸­çš„æ¯æ¡è¯­å¥è‡³å°‘æ‰§è¡Œä¸€æ¬¡ã€‚\nè¯­å¥è¦†ç›–å¯¹ç¨‹åºæ‰§è¡Œé€»è¾‘çš„è¦†ç›–å¾ˆä½ï¼Œå› æ­¤ä¸€èˆ¬è®¤ä¸ºå®ƒæ˜¯å¾ˆå¼±çš„é€»è¾‘è¦†ç›–ã€‚\nåˆ¤å®šè¦†ç›–ï¼ˆåˆ†æ”¯è¦†ç›–ï¼‰ï¼šæŒ‡è®¾è®¡è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—è¢«æµ‹ç¨‹åºä¸­çš„æ¯ä¸ªåˆ¤å®šè¡¨è¾¾å¼è‡³å°‘è·å¾—ä¸€æ¬¡â€œçœŸâ€/â€œå‡â€å€¼ã€‚\nåˆ¤å®šè¦†ç›–çš„åˆ¤å®šè¡¨è¾¾å¼æ˜¯æŒ‡åˆ¤å®šè¡¨è¾¾å¼æ•´ä½“ã€‚\nåˆ¤å®šè¦†ç›–è¦æ¯”è¯­å¥è¦†ç›–æ›´å¼ºä¸€äº›ã€‚\næ¡ä»¶è¦†ç›–ï¼šæŒ‡æ„é€ ä¸€ç»„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—æ¯ä¸€åˆ¤å®šè¯­å¥ä¸­æ¯ä¸ªé€»è¾‘æ¡ä»¶çš„å„ç§å¯èƒ½çš„å€¼è‡³å°‘æ»¡è¶³ä¸€æ¬¡ã€‚\næ¡ä»¶è¦†ç›–çš„åˆ¤å®šè¯­å¥æ˜¯æŒ‡åˆ¤å®šè¡¨è¾¾å¼ä¸‹çš„åˆ¤å®šè¯­å¥ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå³ç”¨ANDã€ORç­‰é€»è¾‘è¿ç®—ç¬¦è¿æ¥èµ·æ¥çš„è¯­å¥ï¼ˆä¸åŒ…å«é€»è¾‘è¿ç®—ç¬¦çš„è¯­å¥ï¼‰ã€‚\nåˆ¤å®š/æ¡ä»¶è¦†ç›–ï¼šæŒ‡è®¾è®¡è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—åˆ¤å®šä¸­æ¯ä¸ªæ¡ä»¶çš„æ‰€æœ‰å¯èƒ½å–å€¼ï¼ˆçœŸ/å‡ï¼‰è‡³å°‘å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä½¿æ¯ä¸ªåˆ¤å®šæœ¬èº«çš„åˆ¤å®šç»“æœï¼ˆçœŸ/å‡ï¼‰ä¹Ÿè‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚\nåˆ¤å®š/æ¡ä»¶è¦†ç›–åŒæ—¶æ»¡è¶³ï¼š\nåˆ¤å®šè¦†ç›– æ¡ä»¶è¦†ç›– æ¡ä»¶ç»„åˆè¦†ç›–ï¼šæŒ‡è®¾è®¡è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—æ¯ä¸ªåˆ¤å®šä¸­æ¡ä»¶çš„å„ç§å¯èƒ½å€¼çš„ç»„åˆéƒ½è‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚\næ»¡è¶³æ¡ä»¶ç»„åˆè¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹ä¸€å®šæ»¡è¶³ï¼š\nåˆ¤å®šè¦†ç›– æ¡ä»¶è¦†ç›– åˆ¤å®š/æ¡ä»¶è¦†ç›– è·¯å¾„è¦†ç›–ï¼šæŒ‡è¦†ç›–è¢«æµ‹è¯•ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ã€‚\nå¾ªç¯è¦†ç›–\nåŸºæœ¬è·¯å¾„æµ‹è¯•\næ€»ç»“ ç™½ç›’æµ‹è¯•é€»è¾‘è¦†ç›–æŠ€æœ¯æ€»ç»“ï¼ˆè¦†ç›–ç¨‹åº¦ä»ä½åˆ°é«˜ï¼‰ï¼š\né€»è¾‘è¦†ç›– è¯´æ˜ è¯­å¥è¦†ç›– æ¯æ¡è¯­å¥æ‰§è¡Œä¸€æ¬¡ åˆ†æ”¯ï¼ˆåˆ¤å®šï¼‰è¦†ç›– æ¯ä¸ªåˆ†æ”¯è·å¾—ä¸€æ¬¡True/False æ¡ä»¶è¦†ç›– æ¯ä¸ªåˆ†æ”¯ä¸­çš„æ¯ä¸ªé€»è¾‘æ¡ä»¶çš„æ‰€æœ‰å¯èƒ½å–å€¼æ»¡è¶³ä¸€æ¬¡ åˆ¤å®š/æ¡ä»¶è¦†ç›– åˆ†æ”¯è¦†ç›– + æ¡ä»¶è¦†ç›– æ¡ä»¶ç»„åˆè¦†ç›– æ¯ä¸ªåˆ¤å®šä¸­æ¡ä»¶çš„å„ç§å¯èƒ½å€¼çš„ç»„åˆéƒ½å‡ºç°ä¸€æ¬¡ è·¯å¾„è¦†ç›– è¦†ç›–è¢«æµ‹è¯•ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ è¿è¡Œå’Œç»´æŠ¤ è½¯ä»¶ç»´æŠ¤æ˜¯è½¯ä»¶ç”Ÿå‘½å‘¨æœŸä¸­çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œå¤„äºç³»ç»ŸæŠ•å…¥ç”Ÿäº§æ€§è¿è¡Œä»¥åçš„æ—¶æœŸä¸­ï¼Œå› æ­¤ä¸å±äºç³»ç»Ÿå¼€å‘è¿‡ç¨‹ã€‚è½¯ä»¶ç»´æŠ¤æ˜¯åœ¨è½¯ä»¶å·²ç»äº¤ä»˜ä½¿ç”¨ä¹‹åä¸ºäº†æ”¹æ­£é”™è¯¯æˆ–æ»¡è¶³æ–°çš„éœ€æ±‚è€Œä¿®æ”¹è½¯ä»¶çš„è¿‡ç¨‹ï¼Œå³è½¯ä»¶åœ¨äº¤ä»˜ä½¿ç”¨åå¯¹è½¯ä»¶æ‰€åšçš„ä¸€åˆ‡æ”¹åŠ¨ã€‚\nç³»ç»Ÿå¯ç»´æŠ¤æ€§ ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å¯ä»¥å®šä¹‰ä¸ºç»´æŠ¤äººå‘˜ç†è§£ã€æ”¹æ­£ã€æ”¹åŠ¨å’Œæ”¹è¿›è¿™ä¸ªè½¯ä»¶çš„éš¾æ˜“ç¨‹åº¦ã€‚æé«˜å¯ç»´æŠ¤æ€§æ˜¯å¼€å‘è½¯ä»¶ç³»ç»Ÿæ‰€æœ‰æ­¥éª¤çš„å…³é”®ç›®çš„ã€‚ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å¯ä»¥è¡¡é‡ç³»ç»Ÿæ˜¯å¦èƒ½è¢«å¾ˆå¥½åœ°ç»´æŠ¤ã€‚\nç³»ç»Ÿå¯ç»´æŠ¤æ€§çš„è¯„ä»·æŒ‡æ ‡ï¼š\nå¯ç†è§£æ€§ï¼šæŒ‡åˆ«äººèƒ½ç†è§£ç³»ç»Ÿçš„ç»“æ„ã€ç•Œé¢ã€åŠŸèƒ½å’Œå†…éƒ¨è¿‡ç¨‹çš„éš¾æ˜“ç¨‹åº¦ã€‚\næ¨¡å—åŒ–ã€è¯¦ç»†è®¾è®¡æ–‡æ¡£ã€ç»“æ„åŒ–è®¾è®¡å’Œè‰¯å¥½çš„é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€ç­‰éƒ½æœ‰åŠ©äºæé«˜å¯ç†è§£æ€§ã€‚\nå¯æµ‹è¯•æ€§ï¼šè¯Šæ–­å’Œæµ‹è¯•çš„å®¹æ˜“ç¨‹åº¦å–å†³äºæ˜“ç†è§£çš„ç¨‹åº¦ã€‚\nå¥½çš„æ–‡æ¡£èµ„æ–™æœ‰åˆ©äºè¯Šæ–­å’Œæµ‹è¯•ï¼›ç¨‹åºçš„ç»“æ„ã€é«˜æ€§èƒ½çš„æµ‹è¯•å·¥å…·ä»¥åŠå‘¨å¯†è®¡åˆ’çš„æµ‹è¯•å·¥åºä¹Ÿæ˜¯è‡³å…³é‡è¦çš„ã€‚\nåœ¨è¿›è¡Œç³»ç»Ÿç»´æŠ¤æ—¶ï¼Œåº”è¯¥å……åˆ†åˆ©ç”¨åœ¨ç³»ç»Ÿæµ‹è¯•é˜¶æ®µä¿å­˜ä¸‹æ¥çš„æµ‹è¯•ç”¨ä¾‹ã€‚\nå¯ä¿®æ”¹æ€§ï¼šè¯Šæ–­å’Œæµ‹è¯•çš„å®¹æ˜“ç¨‹åº¦ä¸ç³»ç»Ÿè®¾è®¡æ‰€åˆ¶å®šçš„è®¾è®¡åŸåˆ™æœ‰ç›´æ¥å…³ç³»ã€‚\næ¨¡å—çš„è€¦åˆã€å†…èšã€ä½œç”¨èŒƒå›´ä¸æ§åˆ¶èŒƒå›´çš„å…³ç³»ç­‰éƒ½å¯¹å¯ä¿®æ”¹æ€§æœ‰å½±å“ã€‚\nè½¯ä»¶æ–‡æ¡£ä¸è½¯ä»¶ç»´æŠ¤ï¼š\nè½¯ä»¶æ–‡æ¡£æ˜¯è½¯ä»¶å¯ç»´æŠ¤æ€§çš„å†³å®šå› ç´ ã€‚æ–‡æ¡£æ˜¯è½¯ä»¶äº§å“çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”ç¼–å†™é«˜è´¨é‡çš„æ–‡æ¡£å¯ä»¥æé«˜è½¯ä»¶å¼€å‘çš„è´¨é‡ã€‚\nè½¯ä»¶ç³»ç»Ÿçš„æ–‡æ¡£åˆ†ä¸ºï¼š\nç”¨æˆ·æ–‡æ¡£ï¼šä¸»è¦æè¿°ç³»ç»ŸåŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸å…³å¿ƒè¿™äº›åŠŸèƒ½æ˜¯æ€æ ·å®ç°çš„ï¼› ç³»ç»Ÿæ–‡æ¡£ï¼šæè¿°ç³»ç»Ÿè®¾è®¡ã€å®ç°å’Œæµ‹è¯•ç­‰å„æ–¹é¢çš„å†…å®¹ã€‚ å¯ç»´æŠ¤æ€§æ˜¯æ‰€æœ‰è½¯ä»¶éƒ½åº”å…·æœ‰çš„åŸºæœ¬ç‰¹ç‚¹ï¼Œå¿…é¡»åœ¨å¼€å‘é˜¶æ®µä¿è¯è½¯ä»¶å…·æœ‰å¯ç»´æŠ¤çš„ç‰¹ç‚¹ã€‚åœ¨è½¯ä»¶å·¥ç¨‹çš„æ¯ä¸€ä¸ªé˜¶æ®µéƒ½åº”è€ƒè™‘å¹¶æé«˜è½¯ä»¶çš„å¯ç»´æŠ¤æ€§ï¼Œåœ¨æ¯ä¸ªé˜¶æ®µç»“æŸå‰çš„æŠ€æœ¯å®¡æŸ¥å’Œç®¡ç†å¤æŸ¥ä¸­åº”è¯¥ç€é‡å¯¹å¯ç»´æŠ¤æ€§è¿›è¡Œå¤å®¡ï¼ˆå¦‚å°†æ¥è¦æ”¹è¿›çš„éƒ¨åˆ†å’Œå¯èƒ½ä¼šä¿®æ”¹çš„éƒ¨åˆ†ï¼‰ã€‚\nç»´æŠ¤åº”è¯¥é’ˆå¯¹æ•´ä¸ªè½¯ä»¶é…ç½®ï¼Œä¸åº”è¯¥åªä¿®æ”¹æºç¨‹åºä»£ç ã€‚\nè½¯ä»¶ç»´æŠ¤ è½¯ä»¶ç»´æŠ¤ä¸»è¦æ˜¯æŒ‡æ ¹æ®éœ€æ±‚å˜åŒ–æˆ–ç¡¬ä»¶ç¯å¢ƒçš„å˜åŒ–å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œéƒ¨åˆ†æˆ–å…¨éƒ¨ä¿®æ”¹ã€‚ä¿®æ”¹æ—¶åº”å……åˆ†åˆ©ç”¨æºç¨‹åºï¼Œä¿®æ”¹åè¦å¡«å†™ç¨‹åºä¿®æ”¹ç™»è®°è¡¨ï¼Œå¹¶åœ¨ç¨‹åºå˜æ›´é€šçŸ¥ä¹¦ä¸Šå†™æ˜æ–°æ—§ç¨‹åºçš„ä¸åŒä¹‹å¤„ã€‚\nè½¯ä»¶ç»´æŠ¤çš„å†…å®¹ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\næ­£ç¡®æ€§ç»´æŠ¤ï¼šæŒ‡æ”¹æ­£åœ¨ç³»ç»Ÿå¼€å‘é˜¶æ®µå·²å‘ç”Ÿè€Œç³»ç»Ÿæµ‹è¯•é˜¶æ®µå°šæœªå‘ç°çš„é”™è¯¯ã€‚\næ‰€å‘ç°çš„é”™è¯¯æœ‰ï¼š\nä¸å¤ªé‡è¦ã€ä¸å½±å“ç³»ç»Ÿæ­£å¸¸è¿è¡Œçš„é”™è¯¯ï¼Œå…¶ç»´æŠ¤å·¥ä½œå¯éšæ—¶è¿›è¡Œï¼› éå¸¸é‡è¦çš„é”™è¯¯ï¼Œç”šè‡³ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼Œå…¶ç»´æŠ¤å·¥ä½œå¿…é¡»åˆ¶å®šè®¡åˆ’ï¼Œè¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”è¦è¿›è¡Œå¤æŸ¥å’Œæ§åˆ¶ã€‚ é€‚åº”æ€§ç»´æŠ¤ï¼šä½¿åº”ç”¨è½¯ä»¶é€‚åº”ä¿¡æ¯æŠ€æœ¯å˜åŒ–å’Œç®¡ç†éœ€æ±‚å˜åŒ–è€Œè¿›è¡Œçš„ä¿®æ”¹ã€‚\nå®Œå–„æ€§ç»´æŠ¤ï¼šä¸ºæ‰©å……åŠŸèƒ½å’Œæ”¹å–„æ€§èƒ½è€Œè¿›è¡Œçš„ä¿®æ”¹ã€‚\nä¸»è¦æ˜¯æŒ‡å¯¹å·²æœ‰çš„è½¯ä»¶ç³»ç»Ÿå¢åŠ ä¸€äº›åœ¨ç³»ç»Ÿåˆ†æå’Œè®¾è®¡é˜¶æ®µä¸­æ²¡æœ‰è§„å®šçš„åŠŸèƒ½ä¸æ€§èƒ½ç‰¹å¾ã€‚ è¿˜åŒ…æ‹¬å¯¹å¤„ç†æ•ˆç‡å’Œç¼–å†™ç¨‹åºçš„æ”¹è¿›ï¼Œå…³ç³»åˆ°ç³»ç»Ÿå¼€å‘è´¨é‡çš„é‡è¦æ–¹é¢ã€‚ è¿™æ–¹é¢çš„ç»´æŠ¤è¿˜è¦æ³¨æ„å°†ç›¸å…³çš„æ–‡æ¡£èµ„æ–™åŠ å…¥åˆ°å‰é¢ç›¸åº”çš„æ–‡æ¡£ä¸­ã€‚\né¢„é˜²æ€§ç»´æŠ¤ï¼šä¸ºäº†æ”¹è¿›åº”ç”¨è½¯ä»¶çš„å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œä¸ºäº†é€‚åº”æœªæ¥çš„è½¯/ç¡¬ä»¶ç¯å¢ƒçš„å˜åŒ–ï¼Œåº”ä¸»åŠ¨å¢åŠ é¢„é˜²æ€§çš„æ–°çš„åŠŸèƒ½ï¼Œä»¥ä½¿åº”ç”¨ç³»ç»Ÿé€‚åº”å„ç±»å˜åŒ–è€Œä¸è¢«æ·˜æ±°ã€‚\nä¾‹å¦‚å°†ä¸“ç”¨æŠ¥è¡¨åŠŸèƒ½æ”¹æˆé€šç”¨æŠ¥è¡¨ç”ŸæˆåŠŸèƒ½ï¼Œä»¥é€‚åº”å°†æ¥æŠ¥è¡¨æ ¼å¼çš„å˜åŒ–ã€‚\nè¿™4ä¸ªç»´æŠ¤å†…å®¹ä¸­ï¼Œæ­£ç¡®æ€§å’Œå®Œå–„æ€§ç»´æŠ¤æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ç»´æŠ¤ï¼Œé€‚åº”æ€§å’Œé¢„é˜²æ€§æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„ç»´æŠ¤ã€‚\næ­£ç¡®æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯ç³»ç»Ÿå†…éƒ¨çš„é”™è¯¯ã€‚\næ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ï¼Œä¸é”™è¯¯æœ‰å…³çš„éƒ½æ˜¯å±äºæ­£ç¡®æ€§ç»´æŠ¤ã€‚\nå®Œå–„æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯ç³»ç»Ÿå†…éƒ¨ä¸åŠŸèƒ½ã€æ€§èƒ½ç­‰æ–¹é¢æœ‰å…³çš„ç»´æŠ¤ã€‚\næ¥è‡ªç³»ç»Ÿå†…éƒ¨çš„ï¼Œä¸ç³»ç»ŸåŠŸèƒ½ã€æ€§èƒ½ç­‰æ–¹é¢æœ‰å…³çš„æ”¹å–„éƒ½æ˜¯å®Œå–„æ€§ç»´æŠ¤ã€‚å®Œå–„æ€§ç»´æŠ¤çš„éœ€æ±‚å¯ä»¥æ¥è‡ªå¤–éƒ¨ï¼Œä¾‹å¦‚åŠŸèƒ½çš„æ‰©å±•ã€‚\né€‚åº”æ€§ç»´æŠ¤æ˜¯é’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„æŠ€æœ¯ã€ç®¡ç†éœ€æ±‚ç­‰æ–¹é¢çš„å˜åŒ–ã€‚\né’ˆå¯¹æ¥è‡ªç³»ç»Ÿå¤–éƒ¨çš„å˜åŒ–ï¼Œç³»ç»ŸåŠŸèƒ½ç­‰æ–¹é¢æ²¡æœ‰ç¼ºå¤±ï¼Œä»…ä»…åªæ˜¯é€‚åº”å½“å‰ç¯å¢ƒå˜åŒ–æ‰€åšçš„æ›´æ”¹ï¼Œéƒ½æ˜¯å±äºé€‚åº”æ€§ç»´æŠ¤ã€‚\né¢„é˜²æ€§ç»´æŠ¤é’ˆå¯¹çš„æ˜¯æœªæ¥çš„ç¯å¢ƒå˜åŒ–ã€‚\né¡¹ç›®ç®¡ç† æ²Ÿé€šè·¯å¾„ æ²Ÿé€šå›¾æ˜¯æŒ‡é¡¹ç›®ä¸­äººå‘˜æˆ–éƒ¨é—¨ä¹‹é—´çš„æ²Ÿé€šç”¨ä¸€æ¡æ— å‘è¾¹è¿æ¥èµ·æ¥ï¼Œæ‰€æ„æˆå›¾å³ä¸ºæ²Ÿé€šå›¾ã€‚æ²Ÿé€šå›¾ä¸­çš„è·¯å¾„ç§°ä¸ºæ²Ÿé€šè·¯å¾„ã€‚\nè½¯ä»¶é¡¹ç›®ä¸­æ²Ÿé€šè·¯å¾„$m$çš„è®¡ç®—å…¬å¼ï¼ˆäººæ•°$n$ï¼‰ï¼š\næ²Ÿé€šå›¾ä¸­æ— ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = \\sum_{i=1}^{n} i-1 = \\cfrac{(n-1)n}{2} $$\næ²Ÿé€šå›¾ä¸­æœ‰ä¸»ç¨‹åºå‘˜æ—¶ï¼š\n$$ m = n - 1 $$\nè½¯ä»¶é¡¹ç›®ä¼°ç®— è½¯ä»¶é¡¹ç›®ä¼°ç®—æ¶‰åŠäººã€æŠ€æœ¯ã€ç¯å¢ƒç­‰å¤šç§å› ç´ ï¼Œå¾ˆéš¾åœ¨é¡¹ç›®å®Œæˆå‰å‡†ç¡®åœ°ä¼°ç®—å‡ºå¼€å‘è½¯ä»¶æ‰€éœ€çš„æˆæœ¬ã€æŒç»­æ—¶é—´å’Œå·¥ä½œé‡ã€‚æ‰€ä»¥éœ€è¦ä¸€äº›æ–¹æ³•å’ŒæŠ€æœ¯æ¥æ”¯æŒé¡¹ç›®çš„ä¼°ç®—ï¼Œå¸¸ç”¨çš„ä¼°ç®—æ–¹æ³•æœ‰ä¸‹åˆ—3ç§ï¼š\nåŸºäºå·²ç»å®Œæˆçš„ç±»ä¼¼é¡¹ç›®è¿›è¡Œä¼°ç®—ï¼ˆå¸¸ç”¨ï¼‰ã€‚\nåŸºäºåˆ†è§£æŠ€æœ¯è¿›è¡Œä¼°ç®—ã€‚\nåŸºäºç»éªŒä¼°ç®—æ¨¡å‹çš„ä¼°ç®—ã€‚\nå…¸å‹çš„ç»éªŒä¼°ç®—æ¨¡å‹æœ‰ï¼š\nIBMä¼°ç®—æ¨¡å‹ CoCoMoæ¨¡å‹ Putnamæ¨¡å‹ ä¸Šè¿°æ–¹æ³•å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä»¥æé«˜ä¼°ç®—çš„ç²¾åº¦ã€‚\nCOCOMO ä¼°ç®—æ¨¡å‹ COCOMOæ¨¡å‹æ˜¯ä¸€ç§ç²¾ç¡®çš„ã€æ˜“äºä½¿ç”¨çš„æˆæœ¬ä¼°ç®—æ¨¡å‹ã€‚COCOMOæ¨¡å‹æŒ‰å…¶è¯¦ç»†ç¨‹åº¦åˆ†ä¸ºï¼š\nåŸºæœ¬COCOMOæ¨¡å‹ï¼šæ˜¯ä¸€ä¸ªé™æ€å•å˜é‡æ¨¡å‹ï¼Œç”¨äºå¯¹æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿè¿›è¡Œä¼°ç®—ã€‚\nå…¬å¼å¦‚ä¸‹ï¼š\n$$ E = a(L)^b \\\\ D=cE^d $$\n$E$ï¼šå·¥ä½œé‡ï¼Œå•ä½æ˜¯äººæœˆï¼› $D$ï¼šå¼€å‘æ—¶é—´ï¼Œå•ä½æ˜¯æœˆï¼› $L$ï¼šé¡¹ç›®çš„æºä»£ç è¡Œä¼°è®¡å€¼ï¼Œä¸åŒ…æ‹¬ç¨‹åºä¸­çš„æ³¨é‡ŠåŠæ–‡æ¡£ï¼Œå…¶å•ä½æ˜¯åƒè¡Œä»£ç ï¼› $a$ã€$b$ã€$c$ã€$d$ï¼šå¸¸æ•°ã€‚ åŸºæœ¬COCOMOæ¨¡å‹å¯é€šè¿‡ä¼°ç®—ä»£ç è¡Œçš„å€¼$L$ï¼Œç„¶åè®¡ç®—å¼€å‘å·¥ä½œé‡$E$å’Œå¼€å‘æ—¶é—´$D$çš„ä¼°ç®—å€¼ã€‚\nä¸­çº§COCOMOæ¨¡å‹ï¼šæ˜¯ä¸€ä¸ªé™æ€å¤šå˜é‡æ¨¡å‹ï¼Œå®ƒå°†è½¯ä»¶ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿå’Œéƒ¨ä»¶ä¸¤ä¸ªå±‚æ¬¡ï¼Œç³»ç»Ÿç”±éƒ¨ä»¶æ„æˆï¼Œå®ƒæŠŠè½¯ä»¶å¼€å‘æ‰€éœ€çš„äººåŠ›ï¼ˆæˆæœ¬ï¼‰çœ‹ä½œæ˜¯ç¨‹åºå¤§å°å’Œä¸€ç³»åˆ—â€œæˆæœ¬é©±åŠ¨å±æ€§â€çš„å‡½æ•°ã€‚\nä¸­çº§COCOMOæ¨¡å‹ä»¥åŸºæœ¬COCOMOæ¨¡å‹ä¸ºåŸºç¡€ï¼Œå¹¶è€ƒè™‘äº†15ç§å½±å“è½¯ä»¶å·¥ä½œé‡çš„å› ç´ ï¼Œé€šè¿‡å·¥ä½œé‡è°ƒèŠ‚å› å­ï¼ˆEAFï¼‰ä¿®æ­£å¯¹å·¥ä½œé‡çš„ä¼°ç®—ï¼Œä»è€Œä½¿ä¼°ç®—æ›´åˆç†ã€‚å…¶å…¬å¼å¦‚ä¸‹ï¼š\n$$ E = a(L)^b \\cdot EAF $$\n$L$ï¼šè½¯ä»¶äº§å“çš„ç›®æ ‡ä»£ç è¡Œæ•°ï¼Œå•ä½æ˜¯åƒè¡Œä»£ç æ•°ï¼› $EAF$ï¼šå·¥ä½œé‡è°ƒèŠ‚å› å­ï¼› $a$ã€$b$ï¼šå¸¸æ•°ã€‚ è¯¦ç»†COCOMOæ¨¡å‹ï¼šå°†è½¯ä»¶ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿã€å­ç³»ç»Ÿå’Œæ¨¡å—3ä¸ªå±‚æ¬¡ï¼Œé™¤åŒ…æ‹¬ä¸­çº§æ¨¡å‹æ‰€è€ƒè™‘çš„å› ç´ å¤–ï¼Œè¿˜è€ƒè™‘äº†åœ¨éœ€æ±‚åˆ†æã€è½¯ä»¶è®¾è®¡ç­‰æ¯ä¸€æ­¥çš„æˆæœ¬é©±åŠ¨å±æ€§çš„å½±å“ã€‚\nCOCOMOIIæ¨¡å‹ å’Œå…¶å‰èº«COCOMOä¸€æ ·ï¼ŒCOCOMOIIä¹Ÿæ˜¯ä¸€ç§å±‚æ¬¡ç»“æ„çš„ä¼°ç®—æ¨¡å‹ï¼Œè¢«åˆ†ä¸º3ä¸ªé˜¶æ®µæ€§æ¨¡å‹ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ç§ä¸åŒçš„è§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼š\nåº”ç”¨ç»„è£…æ¨¡å‹ï¼šåœ¨è½¯ä»¶å·¥ç¨‹çš„å‰æœŸé˜¶æ®µä½¿ç”¨ï¼Œè¿™æ—¶ç”¨æˆ·ç•Œé¢çš„åŸå‹å¼€å‘ã€å¯¹è½¯ä»¶å’Œç³»ç»Ÿäº¤äº’çš„è€ƒè™‘ã€æ€§èƒ½çš„è¯„ä¼°ä»¥åŠæŠ€æœ¯æˆç†Ÿåº¦çš„è¯„ä»·æ˜¯æœ€é‡è¦çš„ã€‚\nè§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼šå¯¹è±¡ç‚¹ã€‚\næ—©æœŸè®¾è®¡é˜¶æ®µæ¨¡å‹ï¼šåœ¨éœ€æ±‚å·±ç»ç¨³å®šå¹¶ä¸”åŸºæœ¬çš„è½¯ä»¶ä½“ç³»ç»“æ„å·±ç»å»ºç«‹æ—¶ä½¿ç”¨ã€‚\nè§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼šåŠŸèƒ½ç‚¹ã€‚åŠŸèƒ½ç‚¹å¯è½¬æ¢ä¸ºä»£ç è¡Œã€‚\nä½“ç³»ç»“æ„é˜¶æ®µæ¨¡å‹ï¼šåœ¨è½¯ä»¶çš„æ„é€ è¿‡ç¨‹ä¸­ä½¿ç”¨ã€‚\nè§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼šä»£ç è¡Œã€‚\næ€»ç»“ COCOMOæ¨¡å‹ï¼š\næ¨¡å‹åˆ†ç±» ç±»å‹æˆ–è¯´æ˜ åŸºæœ¬COCOMOæ¨¡å‹ é™æ€å•å˜é‡æ¨¡å‹ï¼Œå¯¹æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿè¿›è¡Œä¼°ç®— ä¸­çº§COCOMOæ¨¡å‹ é™æ€å¤šå˜é‡æ¨¡å‹ï¼Œå°†ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿå’Œéƒ¨ä»¶2ä¸ªå±‚æ¬¡ è¯¦ç»†COCOMOæ¨¡å‹ å°†ç³»ç»Ÿæ¨¡å‹åˆ†ä¸ºç³»ç»Ÿã€å­ç³»ç»Ÿå’Œæ¨¡å—3ä¸ªå±‚æ¬¡ COCOMOII å±‚æ¬¡ç»“æ„ï¼Œåˆ†ä¸ºåº”ç”¨ç»„è£…æ¨¡å‹ã€æ—©æœŸè®¾è®¡é˜¶æ®µæ¨¡å‹å’Œä½“ç³»ç»“æ„é˜¶æ®µæ¨¡å‹ COCOMOIIçš„ä½¿ç”¨æ—¶æœŸåŠè§„æ¨¡ä¼°ç®—é€‰æ‹©ï¼š\né˜¶æ®µæ€§æ¨¡å‹ è§„æ¨¡ä¼°ç®—é€‰æ‹© åº”ç”¨ç»„è£…æ¨¡å‹ å¯¹è±¡ç‚¹ æ—©æœŸè®¾è®¡é˜¶æ®µæ¨¡å‹ åŠŸèƒ½ç‚¹ ä½“ç³»ç»“æ„é˜¶æ®µæ¨¡å‹ ä»£ç è¡Œ è¿›åº¦ç®¡ç† è¿›åº¦å®‰æ’ï¼š\nä¸ºç›‘æ§è½¯ä»¶é¡¹ç›®çš„è¿›åº¦è®¡åˆ’å’Œå·¥ä½œçš„å®é™…è¿›å±•æƒ…å†µï¼Œè¡¨ç¤ºå„é¡¹ä»»åŠ¡ä¹‹é—´è¿›åº¦çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œéœ€è¦é‡‡ç”¨å›¾ç¤ºçš„æ–¹æ³•ã€‚åœ¨å›¾ä¸­æ˜ç¡®æ ‡æ˜å¦‚ä¸‹å†…å®¹ï¼š\nå„ä¸ªä»»åŠ¡çš„è®¡åˆ’å¼€å§‹æ—¶é—´å’Œè®¡åˆ’å®Œæˆæ—¶é—´ã€‚ å„ä¸ªä»»åŠ¡çš„å®Œæˆæ ‡å¿—ã€‚ å„ä¸ªä»»åŠ¡ä¸å‚ä¸å·¥ä½œçš„äººæ•°ï¼Œå„ä¸ªä»»åŠ¡ä¸å·¥ä½œé‡ä¹‹é—´çš„è¡”æ¥æƒ…å†µã€‚ å®Œæˆå„ä¸ªä»»åŠ¡æ‰€éœ€çš„ç‰©ç†èµ„æºå’Œæ•°æ®èµ„æºã€‚ è¿›åº¦å®‰æ’çš„å¸¸ç”¨å›¾å½¢æè¿°æ–¹æ³•æœ‰ï¼š\nGanttå›¾ï¼ˆç”˜ç‰¹å›¾ï¼‰ï¼› é¡¹ç›®è®¡åˆ’è¯„å®¡æŠ€æœ¯ï¼ˆProgram Evaluation\u0026amp;Review Techniqueï¼ŒPERTï¼‰å›¾ã€‚ Ganttå›¾ Ganttå›¾ï¼šä¸€ç§ç®€å•çš„æ°´å¹³æ¡å½¢å›¾ï¼Œå®ƒä»¥æ—¥å†ä¸ºåŸºå‡†æè¿°é¡¹ç›®ä»»åŠ¡ã€‚\nå‚ç›´è½´ï¼šè¡¨ç¤ºå¤šä¸ªä¸åŒçš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æŒ‰ç…§å·¦ä¾§ä»»åŠ¡åç§°å‚ç›´æ’åˆ—ã€‚\næ°´å¹³è½´ï¼šè¡¨ç¤ºæ—¥å†æ—¶é—´çº¿ï¼ˆå¦‚æ—¶ã€å¤©ã€å‘¨ã€æœˆå’Œå¹´ç­‰ï¼‰ã€‚\næ¯ä¸ªæ°´å¹³æ¡è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡ï¼š\næ¯ä¸€æ°´å¹³æ¡çš„èµ·ç‚¹ï¼šè¡¨ç¤ºè¯¥ä»»åŠ¡çš„å¼€å§‹æ—¶é—´ï¼› æ¯ä¸€æ°´å¹³æ¡çš„ç»ˆç‚¹ï¼šè¡¨ç¤ºè¯¥ä»»åŠ¡çš„ç»“æŸæ—¶é—´ï¼› æ¯ä¸€æ°´å¹³æ¡çš„é•¿åº¦ï¼šè¡¨ç¤ºå®Œæˆè¯¥ä»»åŠ¡çš„æŒç»­æ—¶é—´ã€‚ å½“æ—¥å†ä¸­åŒä¸€æ—¶æ®µå­˜åœ¨å¤šä¸ªæ°´å¹³æ¡æ—¶ï¼Œè¡¨ç¤ºä»»åŠ¡ä¹‹é—´çš„å¹¶å‘ã€‚\nå¦‚å›¾ï¼š\nGanttå›¾ä¼˜ç‚¹ï¼š\nèƒ½æ¸…æ™°åœ°æè¿°ï¼š\næ¯ä¸ªä»»åŠ¡çš„å¼€å§‹æ—¶é—´ï¼› æ¯ä¸ªä»»åŠ¡çš„ç»“æŸæ—¶é—´ï¼› ä»»åŠ¡çš„è¿›å±•æƒ…å†µï¼› å„ä¸ªä»»åŠ¡ä¹‹é—´çš„å¹¶è¡Œæ€§ã€‚ Ganttå›¾ç¼ºç‚¹ï¼š\nä¸èƒ½æ¸…æ™°åœ°åæ˜ å„ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼› éš¾ä»¥ç¡®å®šæ•´ä¸ªé¡¹ç›®çš„å…³é”®æ‰€åœ¨ï¼Œå³ä¸èƒ½æ¸…æ™°åœ°ç¡®å®šå½±å“è¿›åº¦çš„å…³é”®ä»»åŠ¡ï¼› ä¸èƒ½åæ˜ è®¡åˆ’ä¸­æœ‰æ½œåŠ›çš„éƒ¨åˆ†ã€‚ PERTå›¾ PERTå›¾æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼š\nå¼§ï¼šè¡¨ç¤ºä»»åŠ¡ã€‚\nä»»åŠ¡åŒ…å«ä»¥ä¸‹æˆåˆ†ï¼š\nå®Œæˆè¯¥ä»»åŠ¡æ‰€éœ€çš„æ—¶é—´ï¼ˆä»»åŠ¡æŒç»­æ—¶é—´ï¼‰ã€‚\næ¾å¼›æ—¶é—´ï¼ˆSlack Timeï¼‰ï¼šè¡¨ç¤ºåœ¨ä¸å½±å“æ•´ä¸ªå·¥æœŸçš„å‰æä¸‹å®Œæˆè¯¥ä»»åŠ¡æœ‰å¤šå°‘æœºåŠ¨ä½™åœ°ã€‚\nå³æ¾å¼›æ—¶é—´æŒ‡å½“å‰ä»»åŠ¡çš„å·¥æœŸå¯ä»¥æ¨è¿Ÿçš„æ—¶é—´ã€‚\nç©ºä»»åŠ¡ï¼šç”¨è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œè¡¨ç¤ºä»»åŠ¡é—´çš„å…³ç³»æ‰€æ·»åŠ ã€‚å®Œæˆç©ºä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ä¸º0ã€‚\nç»“ç‚¹ï¼šè¡¨ç¤ºäº‹ä»¶ã€‚\näº‹ä»¶æ˜¯æµå…¥ç»“ç‚¹çš„ä»»åŠ¡çš„ç»“æŸï¼Œæˆ–æµå‡ºç»“ç‚¹çš„ä»»åŠ¡çš„å¼€å§‹ã€‚äº‹ä»¶è¡¨ç¤ºæŸä¸ªæ—¶é—´ç‚¹ï¼Œæœ¬èº«ä¸æ¶ˆè€—æ—¶é—´å’Œèµ„æºã€‚\näº‹ä»¶åŒ…å«ä»¥ä¸‹æˆåˆ†ï¼š\näº‹ä»¶å·ã€‚ å‡ºç°è¯¥äº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼šè¡¨ç¤ºåœ¨æ­¤æ—¶åˆ»ä¹‹å‰ä»è¯¥äº‹ä»¶å‡ºå‘çš„ä»»åŠ¡ä¸å¯èƒ½å¼€å§‹ã€‚ å‡ºç°è¯¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ»ï¼šè¡¨ç¤ºä»è¯¥äº‹ä»¶å‡ºå‘çš„ä»»åŠ¡æœ€è¿Ÿåœ¨æ­¤æ—¶åˆ»å¼€å§‹ï¼Œå¦åˆ™æ•´ä¸ªå·¥ç¨‹å°±ä¸èƒ½å¦‚æœŸå®Œæˆã€‚ åªæœ‰å½“æµå…¥è¯¥ç»“ç‚¹çš„æ‰€æœ‰ä»»åŠ¡éƒ½ç»“æŸæ—¶ï¼Œç»“ç‚¹æ‰€è¡¨ç¤ºçš„äº‹ä»¶æ‰å‡ºç°ï¼Œæµå‡ºç»“ç‚¹çš„ä»»åŠ¡æ‰å¯ä»¥å¼€å§‹ã€‚\nç‰¹æ®Šçš„äº‹ä»¶ï¼š\nå¼€å§‹äº‹ä»¶ï¼šæ²¡æœ‰ä»»ä½•ä»»åŠ¡æµå‘è¯¥äº‹ä»¶ï¼› ç»“æŸäº‹ä»¶ï¼šæ²¡æœ‰ä»»åŠ¡ä»»åŠ¡ä»è¯¥äº‹ä»¶æµå‡ºã€‚ ä¸€ä¸ªé¡¹ç›®æ˜¯ä»å¼€å§‹äº‹ä»¶å¼€å§‹åˆ°ç»“æŸäº‹ä»¶ç»“æŸã€‚\nè®¾ï¼š\n$T(e)$ï¼šå®Œæˆä»»åŠ¡$e$çš„æ‰€éœ€æ—¶é—´ï¼› $T_s(e)$ï¼šå®Œæˆä»»åŠ¡$e$çš„æ¾å¼›æ—¶é—´ï¼› $T_e(v)$ï¼šäº‹ä»¶$v$çš„æœ€æ—©æ—¶åˆ»ï¼› $T_l(v)$ï¼šäº‹ä»¶$v$çš„æœ€è¿Ÿæ—¶åˆ»ã€‚ PERTå›¾å„æˆåˆ†å–å€¼ï¼ˆä¸ä¸€å®šéœ€è¦æ»¡è¶³ä¸‹é¢çš„å…³ç³»ï¼Œä½†æ˜¯å¯ä»¥ç”¨ä¸‹é¢çš„å¼å­æ¨å‡ºï¼‰ï¼š\näº‹ä»¶$V_{in}$çš„æœ€æ—©æ—¶åˆ»$T_e(V_{in})$ï¼š\nåªæœ‰ä¸€ä¸ªä»»åŠ¡æµå…¥æ—¶ï¼Œè®¾è¯¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶ä¸º$V_{out}$ï¼Œåˆ™è¯¥ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}\u0026gt;$ï¼š\n$$ T_e(V_{in}) = T_e(V_{out}) + T $$\nè¿™é‡Œå°†$T(\u0026lt;V_{out}, V_{in}\u0026gt;)$ç®€å†™ä¸ºäº†$T$ã€‚\nå³ï¼šè¯¥æµå…¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶çš„æœ€æ—©æ—¶åˆ» + å®Œæˆè¯¥æµå…¥ä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ã€‚\nå¤šä¸ªä»»åŠ¡æµå…¥æ—¶ï¼Œè®¾ä¸æ¯ä¸ªä»»åŠ¡ç›¸å¯¹åº”çš„æµå‡ºäº‹ä»¶ä¸º$V_{out}[ \\ i \\ ]$ï¼Œåˆ™è¿™äº›ä»»åŠ¡ä¸º$\u0026lt;V_{out}[ \\ i \\ ], V_{in}\u0026gt;$ï¼š\n$$ T_e(V_{in}) = Max(T_e(V_{out}[ \\ i \\ ]) + T_i) $$\nè¿™é‡Œå°†$T(\u0026lt;V_{out}[ \\ i \\ ], V_{in}\u0026gt;)$ç®€å†™ä¸ºäº†$T_i$ã€‚\nå³æµå…¥è¯¥äº‹ä»¶çš„æ¯ä¸ªä»»åŠ¡è®¡ç®—å‡ºçš„æœ€æ—©æ—¶åˆ»çš„æœ€å¤§å€¼ã€‚\nå¼€å§‹äº‹ä»¶$V_{start}$ï¼š\n$$ T_e(V_{start}) = 0 $$\näº‹ä»¶$V_{out}$çš„æœ€è¿Ÿæ—¶åˆ»$T_l(V_{out})$ï¼š\nåªæœ‰ä¸€ä¸ªä»»åŠ¡æµå‡ºæ—¶ï¼Œè®¾è¯¥ä»»åŠ¡çš„æµå…¥äº‹ä»¶ä¸º$V_{in}$ï¼Œåˆ™è¯¥ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}\u0026gt;$ï¼š\n$$ T_l(V_{out}) = T_l(V_{in}) - (T + T_s) $$\nè¿™é‡Œå°†$T_s(\u0026lt;V_{out}, V_{in}\u0026gt;)$ç®€å†™ä¸º$T_s$ã€‚\nå³ï¼šè¯¥æµå‡ºä»»åŠ¡çš„æµå…¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ» -ï¼ˆè¯¥æµå‡ºä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ + æ¾å¼›æ—¶é—´ï¼‰ã€‚\nå¦‚æœæ¾å¼›æ—¶é—´æœªçŸ¥æˆ–ä¸º0ï¼š\n$$ T_l(V_{out}) = T_l(V_{in}) - T $$\nå¤šä¸ªä»»åŠ¡æµå‡ºæ—¶ï¼Œè®¾ä¸æ¯ä¸ªä»»åŠ¡ç›¸å¯¹åº”çš„æµå…¥äº‹ä»¶ä¸º$V_{in}[ \\ i \\ ]$ï¼Œåˆ™è¿™äº›ä»»åŠ¡ä¸º$\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;$ï¼š\n$$ T_l(V_{out}) = Min(T_l(V_{in}[ \\ i \\ ]) - (T_i + S_i)) $$\nè¿™é‡ŒæŠŠ$T(\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;)$ç®€å†™ä¸º$T_i$ï¼ŒæŠŠ$T_s(\u0026lt;V_{out}, V_{in}[ \\ i \\ ]\u0026gt;)$ç®€å†™ä¸º$S_i$ã€‚\nå³æµå‡ºè¯¥äº‹ä»¶çš„æ¯ä¸ªä»»åŠ¡è®¡ç®—å‡ºçš„æœ€æ™šæ—¶åˆ»çš„æœ€å¤§å€¼ã€‚\nå¦‚æœæ¾å¼›æ—¶é—´æœªçŸ¥æˆ–ä¸º0ï¼š\n$$ T_l(V_{out}) = Min(T_l(V_{in}[ \\ i \\ ]) - T_i) $$\nç»“æŸäº‹ä»¶$V_{end}$ï¼š\n$$ T_l(V_{end}) = T_e(V_{end}) $$\nå³ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ä¸æœ€è¿Ÿæ—¶åˆ»ç›¸ç­‰ã€‚\nè®¾æŸä»»åŠ¡çš„æµå…¥äº‹ä»¶ä¸º$V_{in}$ï¼Œæµå‡ºäº‹ä»¶ä¸º$V_{out}$ï¼Œåˆ™è¯¥ä»»åŠ¡$\u0026lt;V_{out}, V_{in}\u0026gt;$çš„æ¾å¼›æ—¶é—´$T_s(\u0026lt;V_{out}, V_{in}\u0026gt;)$ã€‚\n$$ T_s = T_l(V_{in}) - T - T_e(V_{out}) $$\nå³ï¼Œè¯¥ä»»åŠ¡çš„æµå…¥äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ» - è¯¥ä»»åŠ¡çš„æ‰€éœ€æ—¶é—´ - è¯¥ä»»åŠ¡çš„æµå‡ºäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»\nPERTå›¾çš„è·¯å¾„ï¼šä»å¼€å§‹äº‹ä»¶åˆ°ç»“æŸäº‹ä»¶çš„ä¸€æ¡é€šè·¯ã€‚\nPERTå›¾çš„å…³é”®è·¯å¾„ï¼šæŒ‡æ‰€æœ‰çš„ä»»åŠ¡çš„æ¾å¼›æ—¶é—´éƒ½ä¸º0çš„è·¯å¾„ã€‚\nå…³é”®è·¯å¾„çš„é•¿åº¦ï¼šæŒ‡ç»“æŸäº‹ä»¶çš„æœ€æ—©ï¼ˆæˆ–æœ€æ™šï¼‰æ—¶åˆ»ã€‚\nå…³é”®è·¯å¾„çš„ç‰¹ç‚¹ï¼š\næ‰€æœ‰ä»»åŠ¡çš„æ¾å¼›æ—¶é—´éƒ½ä¸º0ã€‚\næ¯ä¸ªäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»å’Œæœ€è¿Ÿæ—¶åˆ»éƒ½æ˜¯ç›¸ç­‰çš„ã€‚\næ‰€æœ‰ä»»åŠ¡æŒç»­æ—¶é—´çš„å’Œï¼Œæ˜¯PERTå›¾æ‰€æœ‰è·¯å¾„ä¸­æœ€å¤§çš„ï¼Œå¹¶ä¸”ä¸ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ç›¸ç­‰ã€‚\nè®¾å…³é”®è·¯å¾„ä¸­æ‰€æœ‰äº‹ä»¶ä¸º$V_i$ï¼ˆ$i = 1, 2, \\cdots, n$ï¼‰ï¼Œä¸”è¯¥è·¯å¾„ä¸‹çš„ä»»åŠ¡ä¸º$\u0026lt;V_j, V_{j+1}\u0026gt;$ï¼ˆ$1 \\le j \\le n-1$ï¼‰ï¼ˆè¡¨ç¤º$V_1$æ˜¯å¼€å§‹äº‹ä»¶ï¼Œ$V_2$æ˜¯$V_1$å¾€ä¸‹çš„ä¸€ä¸ªäº‹ä»¶ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ$V_n$æ˜¯ç»“æŸäº‹ä»¶ï¼‰ï¼Œé‚£ä¹ˆè¯¥å…³é”®è·¯å¾„ç»“æŸäº‹ä»¶çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ä¸ºï¼š\n$$ T_e(V_n) = \\sum_{i = 1}^{n-1} T_i $$\nè¿™é‡Œ$T_i$ä»£è¡¨$T(\u0026lt;V_i, V_{i+1}\u0026gt;)$ã€‚\næœ€è¿Ÿæ—¶åˆ»çš„å¦ä¸€ç§æ±‚æ³•ï¼ˆPERTå›¾å­˜åœ¨å…³é”®è·¯å¾„çš„æƒ…å†µä¸‹ï¼‰ï¼š\nå·²çŸ¥æŸPERTå›¾ç»“æŸäº‹ä»¶çš„æœ€æ™šæ—¶åˆ»ï¼ˆæœ€æ—©æ—¶åˆ»ï¼‰ï¼Œè¯¥PERTå›¾ä¸­æŸä¸€æ¡è·¯å¾„ï¼ˆå‡è®¾è¯¥è·¯å¾„æ²¡æœ‰åˆ†æ”¯ï¼‰ä¸­æ‰€æœ‰äº‹ä»¶ä¸º$V_j$ï¼ˆ$j = 1, 2, \\cdots, n$ï¼‰ï¼Œä¸”è¯¥è·¯å¾„ä¸‹çš„ä»»åŠ¡ä¸º$\u0026lt;V_k, V_{k+1}\u0026gt;$ï¼ˆ$1 \\le k \\le n-1$ï¼‰ï¼Œè¯¥è·¯å¾„ä¸‹ä»»åŠ¡çš„æŒç»­æ—¶é—´$T(\u0026lt;V_{k-1}, V_k\u0026gt;)$å·²çŸ¥ï¼Œï¼ˆå³$V_1$æ˜¯å¼€å§‹äº‹ä»¶ï¼ŒæŒ‰ç…§æ¬¡åºå¾€ä¸‹ï¼Œ$V_n$æ˜¯ç»“æŸäº‹ä»¶ï¼‰ï¼Œè®¡ç®—æŸä¸€äº‹ä»¶çš„æœ€è¿Ÿæ—¶åˆ»$T_l(V_i)$ï¼ˆ$1 \\le i \u0026lt; n$ï¼‰ï¼š\n$$ T_l(V_i) = T_l(V_n) - \\sum_{j = i}^{n - 1} T_j $$\nè¿™é‡Œ$T_j$ä»£è¡¨$T(\u0026lt;V_j, V_{j + 1}\u0026gt;)$ã€‚\nå³ï¼šç»“æŸäº‹ä»¶çš„æœ€æ™šæ—¶åˆ» - è¯¥äº‹ä»¶åˆ°ç»“æŸäº‹ä»¶ä¹‹é—´æ‰€æœ‰çš„ä»»åŠ¡çš„æŒç»­æ—¶é—´æ€»å’Œã€‚\næ³¨æ„ï¼šå¦‚æœäº‹ä»¶$V_i$åˆ°ç»“æŸäº‹ä»¶ä¹‹é—´å­˜åœ¨å¤šæ¡è·¯å¾„ï¼Œåº”è¯¥é€‰æ‹©é‚£æ¡ä»»åŠ¡æŒç»­æ—¶é—´æ€»å’Œæœ€å¤§çš„è·¯å¾„ã€‚\nPERTå›¾çš„ä¼˜ç‚¹ï¼š\nç»™å‡ºäº†æ¯ä¸ªä»»åŠ¡çš„å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´å’Œå®Œæˆè¯¥ä»»åŠ¡æ‰€éœ€çš„æ—¶é—´ï¼› ç»™å‡ºäº†ä»»åŠ¡ä¹‹é—´çš„å…³ç³»ï¼ˆä¾èµ–å…³ç³»ï¼‰ã€‚å³ä»»åŠ¡ä¹‹é—´çš„æ‰§è¡Œé¡ºåºã€‚ PERTå›¾ä¸èƒ½æ¸…æ™°åœ°æè¿°ä»»åŠ¡ä¹‹é—´çš„å¹¶è¡Œæƒ…å†µã€‚\né¡¹ç›®æ´»åŠ¨å›¾ é¡¹ç›®æ´»åŠ¨å›¾æ˜¯ä¸€ç§æœ‰å‘å›¾ï¼ˆä¸PERTå›¾ååˆ†ç±»ä¼¼ï¼‰ï¼š\nå¼§ï¼šè¡¨ç¤ºæ´»åŠ¨ã€‚å¼§çš„æƒå€¼è¡¨ç¤ºæ´»åŠ¨çš„æŒç»­æ—¶é—´ã€‚\né¡¶ç‚¹ï¼šè¡¨ç¤ºé¡¹ç›®é‡Œç¨‹ç¢‘ã€‚\nç‰¹æ®Šçš„é‡Œç¨‹ç¢‘ï¼š\nå¼€å§‹é‡Œç¨‹ç¢‘ï¼šæ²¡æœ‰ä»»ä½•æ´»åŠ¨æŒ‡å‘è¯¥é‡Œç¨‹ç¢‘ï¼› ç»“æŸé‡Œç¨‹ç¢‘ï¼šæ²¡æœ‰ä»»ä½•æ´»åŠ¨ä»è¯¥é‡Œç¨‹ç¢‘æŒ‡å‡ºã€‚ é¡¹ç›®æ´»åŠ¨å›¾çš„å…³é”®è·¯å¾„ï¼šæŒ‰ç…§PERTå›¾çš„æ–¹æ³•æ±‚å‡ºæ¾å¼›æ—¶é—´ä¸º0çš„ã€ä»å¼€å§‹é‡Œç¨‹ç¢‘åˆ°ç»“æŸé‡Œç¨‹ç¢‘çš„è·¯å¾„ã€‚\nå…³é”®è·¯å¾„çš„é•¿åº¦ï¼šä¸ºç»“æŸé‡Œç¨‹ç¢‘çš„æœ€æ—©æ—¶åˆ»ï¼ˆæˆ–æœ€æ™šæ—¶åˆ»ï¼‰ã€‚å®ƒå¯ä»¥ç”¨æ¥è¡¨ç¤ºé¡¹ç›®å®Œæˆçš„æœ€å°‘æ—¶é—´ã€‚\nè½¯ä»¶é…ç½®ç®¡ç† åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å˜æ›´æ˜¯ä¸å¯é¿å…çš„ï¼Œè€Œå˜æ›´æ—¶ç”±äºæ²¡æœ‰è¿›è¡Œå˜æ›´æ§åˆ¶ï¼Œå¯èƒ½åŠ å‰§äº†é¡¹ç›®ä¸­çš„æ··ä¹±ã€‚ä¸ºäº†åè°ƒè½¯ä»¶å¼€å‘ä½¿å¾—æ··ä¹±å‡åˆ°æœ€å°ï¼Œä½¿ç”¨é…ç½®ç®¡ç†æŠ€æœ¯ï¼Œä½¿å˜æ›´æ‰€äº§ç”Ÿçš„é”™è¯¯è¾¾åˆ°æœ€å°å¹¶æœ€æœ‰æ•ˆåœ°æé«˜ç”Ÿäº§ç‡ã€‚\nè½¯ä»¶é…ç½®ç®¡ç†ï¼ˆSoftware Configure Managementï¼ŒSCMï¼‰ç”¨äºæ•´ä¸ªè½¯ä»¶å·¥ç¨‹è¿‡ç¨‹ï¼Œå®ƒæ˜¯ä¸€ç»„ç®¡ç†æ•´ä¸ªè½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­å„é˜¶æ®µå˜æ›´çš„æ´»åŠ¨ã€‚\nè½¯ä»¶é…ç½®ç®¡ç†çš„ä¸»è¦ç›®æ ‡åŒ…æ‹¬ï¼š\næ ‡è¯†å˜æ›´ æ§åˆ¶å˜æ›´ ç‰ˆæœ¬æ§åˆ¶ ç¡®ä¿å˜æ›´æ­£ç¡®åœ°å®ç° æŠ¥å‘Šæœ‰å…³å˜æ›´ ä¸»è¦å†…å®¹æœ‰ä¸¤ç§ç‰ˆæœ¬ï¼š\nç‰ˆæœ¬ç®¡ç† é…ç½®æ”¯æŒ å˜æ›´æ”¯æŒ è¿‡ç¨‹æ”¯æŒ å›¢é˜Ÿæ”¯æŒ å˜åŒ–æŠ¥å‘Š å®¡è®¡æ”¯æŒ è½¯ä»¶é…ç½®æ ‡è¯† å˜æ›´ç®¡ç† ç‰ˆæœ¬æ§åˆ¶ ç³»ç»Ÿå»ºç«‹ é…ç½®å®¡æ ¸ é…ç½®çŠ¶æ€æŠ¥å‘Š å˜æ›´æ§åˆ¶ å˜æ›´æ§åˆ¶æ˜¯ä¸€é¡¹æœ€é‡è¦çš„è½¯ä»¶é…ç½®ä»»åŠ¡ã€‚ä¸ºäº†æœ‰æ•ˆåœ°å®ç°å˜æ›´æ§åˆ¶ï¼Œéœ€å€ŸåŠ©äºé…ç½®æ•°æ®åº“å’ŒåŸºçº¿çš„æ¦‚å¿µã€‚\nåŸºçº¿ï¼šæ˜¯è½¯ä»¶ç”Ÿå­˜å‘¨æœŸä¸­å„å¼€å‘é˜¶æ®µçš„ä¸€ä¸ªç‰¹å®šç‚¹ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä½¿å„å¼€å‘é˜¶æ®µçš„å·¥ä½œåˆ’åˆ†æ›´åŠ æ˜ç¡®ï¼Œä½¿æœ¬æ¥è¿ç»­çš„å·¥ä½œåœ¨è¿™äº›ç‚¹ä¸Šæ–­å¼€ï¼Œä»¥ä¾¿äºæ£€æŸ¥ä¸è‚¯å®šé˜¶æ®µæˆæœã€‚\nåŸºçº¿å¯ä»¥ä½œä¸ºä¸€ä¸ªæ£€æŸ¥ç‚¹ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå½“é‡‡ç”¨çš„åŸºçº¿å‘ç”Ÿé”™è¯¯æ—¶å¯ä»¥çŸ¥é“æ‰€å¤„çš„ä½ç½®ï¼Œè¿”å›åˆ°æœ€è¿‘å’Œæœ€æ°å½“çš„åŸºçº¿ä¸Šã€‚\né…ç½®æ•°æ®åº“å¯åˆ†ä¸ºä»¥ä¸‹3ç±»ï¼š\nå¼€å‘åº“ï¼šä¸“ä¾›å¼€å‘äººå‘˜ä½¿ç”¨ï¼Œå…¶ä¸­çš„ä¿¡æ¯å¯èƒ½åšé¢‘ç¹ä¿®æ”¹ï¼Œå¯¹å…¶æ§åˆ¶ç›¸å½“å®½æ¾ã€‚\nå—æ§åº“ï¼šåœ¨ç”Ÿå­˜æœŸæŸä¸€é˜¶æ®µå·¥ä½œç»“æŸæ—¶å‘å¸ƒçš„é˜¶æ®µäº§å“ï¼Œè¿™äº›æ˜¯ä¸è½¯ä»¶å¼€å‘å·¥ä½œç›¸å…³çš„è®¡ç®—æœºå¯è¯»ä¿¡æ¯å’Œäººå·¥å¯è¯»ä¿¡æ¯ã€‚\nè½¯ä»¶é…ç½®ç®¡ç†æ­£æ˜¯å¯¹å—æ§åº“ä¸­çš„å„ä¸ªè½¯ä»¶é¡¹è¿›è¡Œç®¡ç†ï¼Œå—æ§åº“ä¹Ÿç§°ä¸ºè½¯ä»¶é…ç½®åº“ã€‚\näº§å“åº“ï¼šåœ¨å¼€å‘çš„è½¯ä»¶äº§å“å®Œæˆç³»ç»Ÿæµ‹è¯•åï¼Œä½œä¸ºæœ€ç»ˆäº§å“å­˜å…¥äº§å“åº“ï¼Œç­‰å¾…äº¤ä»˜ç”¨æˆ·æˆ–ç°åœºå®‰è£…ã€‚\né£é™©ç®¡ç† ä¸€èˆ¬è®¤ä¸ºè½¯ä»¶é£é™©åŒ…å«ä¸¤ä¸ªç‰¹æ€§ï¼š\nä¸ç¡®å®šæ€§ï¼šæŒ‡é£é™©å¯èƒ½å‘ç”Ÿä¹Ÿå¯èƒ½ä¸å‘ç”Ÿï¼› æŸå¤±ï¼šæŒ‡å¦‚æœé£é™©å‘ç”Ÿï¼Œå°±ä¼šäº§ç”Ÿæ¶æ€§åæœã€‚ åœ¨è¿›è¡Œé£é™©åˆ†ææ—¶ï¼Œé‡è¦çš„æ˜¯é‡åŒ–æ¯ä¸ªé£é™©çš„ï¼š\nä¸ç¡®å®šç¨‹åº¦ æŸå¤±ç¨‹åº¦ é¡¹ç›®é£é™©å¨èƒåˆ°é¡¹ç›®è®¡åˆ’ã€‚é¡¹ç›®é£é™©æ˜¯æŒ‡ä»¥ä¸‹å„æ–¹é¢çš„æ½œåœ¨é—®é¢˜ä»¥åŠå®ƒä»¬å¯¹è½¯ä»¶é¡¹ç›®çš„å½±å“ï¼š\né¢„ç®— è¿›åº¦ äººå‘˜ï¼šè˜ç”¨èŒå‘˜åŠç»„ç»‡ èµ„æº åˆ©ç›Šç›¸å…³è€… éœ€æ±‚ ä»¥ä¸‹æ–¹é¢çš„ä¸ç¡®å®šæ€§ä¹Ÿå±äºé¡¹ç›®é£é™©å› ç´ ï¼š\né¡¹ç›®å¤æ‚åº¦ é¡¹ç›®è§„æ¨¡ é¡¹ç›®ç»“æ„ æŠ€æœ¯é£é™©å¨èƒåˆ°è¦å¼€å‘è½¯ä»¶çš„è´¨é‡åŠäº¤ä»˜æ—¶é—´ã€‚æŠ€æœ¯é£é™©æ˜¯æŒ‡ä»¥ä¸‹æ–¹é¢çš„æ½œåœ¨é—®é¢˜ï¼š\nè®¾è®¡ å®ç° æ¥å£ éªŒè¯ ç»´æŠ¤ ä»¥ä¸‹æ–¹é¢ä¹Ÿå±äºæŠ€æœ¯é£é™©å› ç´ ï¼š\nè§„æ ¼è¯´æ˜çš„æ­§ä¹‰æ€§ æŠ€æœ¯çš„ä¸ç¡®å®šæ€§ æŠ€æœ¯é™ˆæ—§ â€œå‰æ²¿â€æŠ€æœ¯ å•†ä¸šé£é™©å¨è‚‹åˆ°è¦å¼€å‘è½¯ä»¶çš„ç”Ÿå­˜èƒ½åŠ›ï¼Œä¸”å¸¸å¸¸ä¼šå±å®³åˆ°é¡¹ç›®æˆ–äº§å“ã€‚5ä¸ªä¸»è¦çš„å•†ä¸šé£é™©å¦‚ä¸‹ï¼š\nå¸‚åœºé£é™©ï¼šå¼€å‘äº†ä¸€ä¸ªæ²¡æœ‰äººçœŸæ­£éœ€è¦çš„ä¼˜è‰¯äº§å“æˆ–ç³»ç»Ÿã€‚ ç­–ç•¥é£é™©ï¼šå¼€å‘çš„äº§å“ä¸å†ç¬¦åˆå…¬å¸çš„æ•´ä½“å•†ä¸šç­–ç•¥ã€‚ é”€å”®é£é™©ï¼šå¼€å‘äº†ä¸€ä¸ªé”€å”®éƒ¨é—¨ä¸çŸ¥é“å¦‚ä½•å»é”€å”®çš„äº§å“ã€‚ ç®¡ç†é£é™©ï¼šç”±äºé‡ç‚¹çš„è½¬ç§»æˆ–äººå‘˜çš„å˜åŠ¨è€Œå¤±å»äº†é«˜çº§ç®¡ç†å±‚çš„æ”¯æŒã€‚ é¢„ç®—é£é™©ï¼šæ²¡æœ‰å¾—åˆ°é¢„ç®—æˆ–äººå‘˜çš„ä¿è¯ã€‚ Charetteæå‡ºçš„é£é™©åˆ†ç±»æ–¹å¼ï¼š\nå·±çŸ¥é£é™©ï¼š\né€šè¿‡ä»”ç»†è¯„ä¼°ä»¥ä¸‹å†…å®¹å¯ä»¥å‘ç°çš„é£é™©ï¼š\né¡¹ç›®è®¡åˆ’ å¼€å‘é¡¹ç›®çš„å•†ä¸šå’ŒæŠ€æœ¯ç¯å¢ƒ å…¶ä»–å¯é çš„ä¿¡æ¯æ¥æºï¼Œå¦‚ï¼š ä¸ç°å®çš„äº¤ä»˜æ—¶é—´ æ²¡æœ‰æ–‡æ¡£åŒ–éœ€æ±‚æˆ–æ–‡æ¡£åŒ–è½¯ä»¶èŒƒå›´ æ¶åŠ£çš„å¼€å‘ç¯å¢ƒ å¯é¢„æµ‹é£é™©ï¼š\nèƒ½å¤Ÿä»è¿‡å»é¡¹ç›®çš„ç»éªŒä¸­æ¨æ–­å‡ºæ¥çš„é£é™©ï¼Œå¦‚ï¼š\näººå‘˜å˜åŠ¨ ä¸å®¢æˆ·ç¼ºä¹æ²Ÿé€š ç”±äºæ­£åœ¨è¿›è¡Œç»´æŠ¤è€Œä½¿å¼€å‘äººå‘˜ç²¾åŠ›åˆ†æ•£ ä¸å¯é¢„æµ‹é£é™©ï¼šå¯èƒ½ä¼šçœŸçš„å‡ºç°ï¼Œä½†å¾ˆéš¾äº‹å…ˆè¯†åˆ«ã€‚\né£é™©è¯†åˆ« é£é™©è¯†åˆ«è¯•å›¾ç³»ç»ŸåŒ–åœ°æŒ‡å‡ºå¯¹é¡¹ç›®è®¡åˆ’ï¼ˆä¼°ç®—ã€è¿›åº¦ã€èµ„æºåˆ†é…ç­‰ï¼‰çš„å¨èƒã€‚è¯†åˆ«å‡ºå·²çŸ¥é£é™©å’Œå¯é¢„æµ‹é£é™©åï¼Œé¡¹ç›®ç®¡ç†è€…é¦–å…ˆè¦åšçš„æ˜¯ï¼š\nåœ¨å¯èƒ½æ—¶å›é¿è¿™äº›é£é™©ï¼› åœ¨å¿…è¦æ—¶æ§åˆ¶è¿™äº›é£é™©ã€‚ è¯†åˆ«é£é™©çš„ä¸€ç§æ–¹æ³•æ˜¯å»ºç«‹é£é™©æ¡ç›®æ£€æŸ¥è¡¨ï¼Œä¸»è¦ç”¨æ¥è¯†åˆ«ä¸‹åˆ—å‡ ç§ç±»å‹ä¸­çš„ä¸€äº›å·²çŸ¥é£é™©å’Œå¯é¢„æµ‹é£é™©ï¼š\näº§å“è§„æ¨¡ï¼šä¸è¦å¼€å‘æˆ–è¦ä¿®æ”¹çš„è½¯ä»¶çš„æ€»ä½“è§„æ¨¡ç›¸å…³çš„é£é™©ã€‚ å•†ä¸šå½±å“ï¼šä¸ç®¡ç†è€…æˆ–å¸‚åœºæ‰€æ–½åŠ çš„çº¦æŸç›¸å…³çš„é£é™©ã€‚ å®¢æˆ·ç‰¹æ€§ï¼šä¸å®¢æˆ·çš„ç´ è´¨ä»¥åŠå¼€å‘è€…å’Œå®¢æˆ·å®šæœŸæ²Ÿé€šçš„èƒ½åŠ›ç›¸å…³çš„é£é™©ã€‚ è¿‡ç¨‹å®šä¹‰ï¼šä¸è½¯ä»¶è¿‡ç¨‹å®šä¹‰çš„ç¨‹åº¦ä»¥åŠè¯¥è¿‡ç¨‹è¢«å¼€å‘ç»„ç»‡éµå®ˆçš„ç¨‹åº¦ç›¸å…³çš„é£é™©ã€‚ å¼€å‘ç¯å¢ƒï¼šä¸ç”¨æ¥å¼€å‘äº§å“çš„å·¥å…·çš„å¯å¾—æ€§åŠè´¨é‡ç›¸å…³çš„é£é™©ã€‚ å¼€å‘æŠ€æœ¯ï¼šä¸å¾…å¼€å‘è½¯ä»¶çš„å¤æ‚æ€§åŠç³»ç»Ÿæ‰€åŒ…å«æŠ€æœ¯çš„â€œæ–°å¥‡æ€§â€ç›¸å…³çš„é£é™©ã€‚ äººå‘˜æ‰å¹²åŠç»éªŒï¼šä¸è½¯ä»¶å·¥ç¨‹å¸ˆçš„æ€»ä½“æŠ€æœ¯æ°´å¹³åŠé¡¹ç›®ç»éªŒç›¸å…³çš„é£é™©ã€‚ ä¸ä¸Šè¿°æ¯ä¸ªä¸»é¢˜ç›¸å…³çš„é—®é¢˜å¯ä»¥é’ˆå¯¹æ¯ä¸€ä¸ªè½¯ä»¶é¡¹ç›®æ¥å›ç­”ã€‚æ ¹æ®è¿™äº›é—®é¢˜çš„ç­”æ¡ˆï¼Œé¡¹ç›®ç®¡ç†è€…å°±å¯ä»¥ä¼°è®¡é£é™©äº§ç”Ÿçš„å½±å“ã€‚\nå¦ä¸€ç§é£é™©æ¡ç›®æ£€æŸ¥è¡¨æ ¼å¼ï¼šä»…ä»…åˆ—å‡ºä¸æ¯ä¸€ç§ç±»å‹æœ‰å…³çš„ç‰¹æ€§ï¼Œæœ€ç»ˆç»™å‡ºä¸€ç»„é£é™©å› ç´ å’Œé©±åŠ¨å› å­ä»¥åŠå®ƒä»¬å‘ç”Ÿçš„æ¦‚ç‡ã€‚\né£é™©å› ç´ åŒ…æ‹¬ï¼š\næ€§èƒ½ï¼šæ€§èƒ½é£é™©æ˜¯æŒ‡äº§å“èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ä¸”ç¬¦åˆå…¶ä½¿ç”¨ç›®çš„çš„ä¸ç¡®å®šç¨‹åº¦ã€‚ æˆæœ¬ï¼šæˆæœ¬é£é™©æ˜¯æŒ‡èƒ½å¤Ÿç»´æŒé¡¹ç›®é¢„ç®—çš„ä¸ç¡®å®šç¨‹åº¦ã€‚ æ”¯æŒï¼šæ”¯ç‰¹é£é™©æ˜¯æŒ‡å¼€å‘å‡ºçš„è½¯ä»¶æ˜“äºçº é”™ã€ä¿®æ”¹åŠå‡çº§çš„ä¸ç¡®å®šç¨‹åº¦ã€‚ è¿›åº¦ï¼šè¿›åº¦é£é™©æ˜¯æŒ‡èƒ½å¤Ÿç»´æŒé¡¹ç›®è¿›åº¦ä¸”æŒ‰æ—¶äº¤ä»˜äº§å“çš„ä¸ç¡®å®šç¨‹åº¦ã€‚ é£é™©é¢„æµ‹ é£é™©é¢„æµ‹åˆç§°é£é™©ä¼°è®¡ï¼Œå®ƒè¯•å›¾ä»ä¸¤ä¸ªæ–¹é¢è¯„ä¼°ä¸€ä¸ªé£é™©ï¼š\né£é™©å‘ç”Ÿçš„å¯èƒ½æ€§æˆ–æ¦‚ç‡ï¼› å‘ç”Ÿé£é™©æ‰€äº§ç”Ÿçš„åæœã€‚ é€šå¸¸ï¼Œé¡¹æ—¥è®¡åˆ’äººå‘˜ä¸ç®¡ç†äººå‘˜ã€æŠ€æœ¯äººå‘˜ä¸€èµ·è¿›è¡Œä»¥ä¸‹4æ­¥é£é™©é¢„æµ‹æ´»åŠ¨ï¼š\nå»ºç«‹ä¸€ä¸ªå°ºåº¦æˆ–æ ‡å‡†ï¼Œä»¥åæ˜ é£é™©å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚ æè¿°é£é™©äº§ç”Ÿçš„åæœã€‚ ä¼°ç®—é£é™©å¯¹é¡¹ç›®å’Œäº§å“çš„å½±å“ã€‚ æ ‡æ³¨é£é™©é¢„æµ‹çš„æ•´ä½“ç²¾ç¡®åº¦ï¼Œä»¥å…äº§ç”Ÿè¯¯è§£ã€‚ ä¸€ç§ç®€å•çš„é£é™©é¢„æµ‹æŠ€æœ¯æ˜¯å»ºç«‹é£é™©è¡¨ï¼š\nç¬¬1åˆ—ï¼šåˆ—å‡ºæ‰€æœ‰çš„é£é™©ï¼ˆç”±é£é™©è¯†åˆ«æ´»åŠ¨å¾—åˆ°)ï¼›\nç¬¬2~4åˆ—ï¼šåˆ—å‡ºæ¯ä¸ªé£é™©çš„ï¼š\nç§ç±» å‘ç”Ÿçš„æ¦‚ç‡ æ‰€äº§ç”Ÿçš„å½±å“ é£é™©æ‰€äº§ç”Ÿçš„å½±å“å¯ç”¨ä¸€ä¸ªæ•°å­—æ¥è¡¨ç¤ºï¼š\nâ€œ1â€ï¼šè¡¨ç¤ºç¾éš¾æ€§çš„ï¼› â€œ2â€ï¼šè¡¨ç¤ºä¸¥é‡çš„ï¼› â€œ3â€ï¼šè¡¨ç¤ºè½»å¾®çš„ï¼› â€œ4â€ï¼šè¡¨ç¤ºå¯å¿½ç•¥çš„ã€‚ è¯„ä¼°é£é™©å½±å“ï¼š\nå‘ç”Ÿé£é™©æ—¶ï¼Œæœ‰3ä¸ªå› ç´ å¯èƒ½ä¼šå½±å“é£é™©æ‰€äº§ç”Ÿçš„åæœï¼š\né£é™©çš„æœ¬è´¨ï¼šæŒ‡å½“é£é™©å‘ç”Ÿæ—¶å¯èƒ½å¸¦æ¥çš„é—®é¢˜ã€‚\né£é™©çš„èŒƒå›´ï¼š\nåŒ…æ‹¬ï¼š\né£é™©çš„ä¸¥é‡æ€§ï¼› é£é™©çš„æ•´ä½“åˆ†å¸ƒæƒ…å†µï¼šé¡¹ç›®ä¸­æœ‰å¤šå°‘éƒ¨åˆ†å—åˆ°å½±å“æˆ–æœ‰å¤šå°‘å®¢æˆ·å—åˆ°æŸå®³ã€‚ é£é™©çš„æ—¶é—´ï¼š\nä½•æ—¶èƒ½å¤Ÿæ„Ÿå—åˆ°é£é™©çš„å½±å“ï¼› é£é™©çš„å½±å“ä¼šæŒç»­å¤šé•¿æ—¶é—´ã€‚ é£é™©ä¼˜å…ˆçº§ åœ¨è¿›è¡Œé¡¹ç›®é£é™©ç®¡ç†æ—¶ï¼Œæ ¹æ®é£é™©çš„ä¼˜å…ˆçº§æ¥ç¡®å®šé£é™©æ§åˆ¶ç­–ç•¥ã€‚\né£é™©ä¼˜å…ˆçº§ï¼šæ˜¯æ ¹æ®é£é™©æš´éœ²æ¥ç¡®å®šçš„ã€‚ é£é™©æš´éœ²ï¼šæ˜¯ä¸€ç§é‡åŒ–é£é™©å½±å“çš„æŒ‡æ ‡ã€‚ æ•´ä½“çš„é£é™©æ˜¾éœ²åº¦ï¼ˆRisk Exposureï¼ŒREï¼‰å¯ç”±ä¸‹é¢çš„å…³ç³»ç¡®å®šï¼š\n$$ RE = P \\times C $$\n$P$ï¼šé£é™©å‘ç”Ÿçš„æ¦‚ç‡ï¼› $C$:é£é™©å‘ç”Ÿæ—¶å¸¦æ¥çš„é¡¹ç›®æˆæœ¬ã€‚ å³é£é™©æš´éœ²ç­‰äºé£é™©å½±å“ä¹˜ä»¥é£é™©æ¦‚ç‡ã€‚é£é™©å½±å“æ˜¯æŒ‡å½“é£é™©å‘ç”Ÿæ—¶é€ æˆçš„æŸå¤±ã€‚\né£é™©è¯„ä¼° åœ¨è¿›è¡Œé£é™©è¯„ä¼°æ—¶ï¼Œå»ºç«‹äº†å¦‚ä¸‹å½¢å¼çš„ä¸‰å…ƒç»„ï¼š\n$$ (r_i, l_i, x_i) $$\n$r_i$ï¼šè¡¨ç¤ºé£é™©ï¼› $l_i$ï¼šè¡¨ç¤ºé£é™©å‘ç”Ÿçš„æ¦‚ç‡ï¼› $x_i$ï¼šè¡¨ç¤ºé£é™©äº§ç”Ÿçš„å½±å“ã€‚ ä¸€ç§å¯¹é£é™©è¯„ä¼°å¾ˆæœ‰ç”¨çš„æŠ€æœ¯å°±æ˜¯å®šä¹‰é£é™©å‚ç…§æ°´å‡†ã€‚å¯¹äºå¤§å¤šæ•°è½¯ä»¶é¡¹ç›®æ¥è¯´ï¼Œæœ‰3ç§å…¸å‹çš„é£é™©å‚ç…§æ°´å‡†\næˆæœ¬ï¼šæˆæœ¬æ˜¯å¦è¶…æ”¯ è¿›åº¦ï¼šè¿›ç¨‹æ˜¯å¦å»¶æœŸ æ€§èƒ½ï¼šæ€§èƒ½æ˜¯å¦ä¸‹é™ åœ¨é£é™©è¯„ä¼°è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹4ä¸ªæ­¥éª¤ï¼š\nå®šä¹‰é¡¹ç›®çš„é£é™©å‚è€ƒæ°´å¹³å€¼ã€‚ å»ºç«‹æ¯ä¸€ç»„$(r_i, l_i, x_i)$ä¸æ¯ä¸€ä¸ªå‚è€ƒæ°´å¹³å€¼ä¹‹é—´çš„å…³ç³»ã€‚ é¢„æµ‹ä¸€ç»„ä¸´ç•Œç‚¹ä»¥å®šä¹‰é¡¹ç›®ç»ˆæ­¢åŒºåŸŸï¼Œè¯¥åŒºåŸŸç”±ä¸€æ¡æ›²çº¿æˆ–ä¸ç¡®å®šåŒºåŸŸæ‰€ç•Œå®šã€‚ é¢„æµ‹ä»€ä¹ˆæ ·çš„é£é™©ç»„åˆä¼šå½±å“å‚è€ƒæ°´å¹³å€¼ã€‚ é£é™©æ§åˆ¶ é£é™©æ§åˆ¶çš„ç›®çš„æ˜¯è¾…åŠ©é¡¹ç›®ç»„å»ºç«‹å¤„ç†é£é™©çš„ç­–ç•¥ã€‚ä¸€ä¸ªæœ‰æ•ˆçš„ç­–ç•¥å¿…é¡»è€ƒè™‘ä»¥ä¸‹3ä¸ªé—®é¢˜ï¼š\né£é™©é¿å…ï¼š\nåº”å¯¹é£é™©çš„æœ€å¥½åŠæ³•æ˜¯ä¸»åŠ¨åœ°é¿å…é£é™©ï¼Œå³åœ¨é£é™©å‘ç”Ÿå‰åˆ†æå¼•èµ·é£é™©çš„åŸå› ï¼Œç„¶åé‡‡å–æªæ–½ï¼Œä»¥é¿å…é£é™©çš„å‘ç”Ÿã€‚\né£é™©ç›‘æ§ï¼š\né¡¹ç›®ç®¡ç†è€…åº”ç›‘æ§æŸäº›å› ç´ ï¼Œè¿™äº›å› ç´ å¯ä»¥æä¾›é£é™©æ˜¯å¦æ­£åœ¨å˜é«˜æˆ–å˜ä½çš„æŒ‡ç¤ºã€‚\nRMMMè®¡åˆ’ï¼š\né£é™©ç®¡ç†ç­–ç•¥å¯ä»¥åŒ…å«åœ¨è½¯ä»¶é¡¹ç›®è®¡åˆ’ä¸­ï¼Œæˆ–è€…é£é™©ç®¡ç†æ­¥éª¤ä¹Ÿå¯ä»¥ç»„ç»‡æˆä¸€ä¸ªç‹¬ç«‹çš„é£é™©ç¼“è§£ã€ç›‘æ§å’Œç®¡ç†è®¡åˆ’ï¼ˆRMMMè®¡åˆ’ï¼‰ã€‚\nRMMMè®¡åˆ’å°†æ‰€æœ‰é£é™©åˆ†æå·¥ä½œæ–‡æ¡£åŒ–ï¼Œå¹¶ç”±é¡¹ç›®ç®¡ç†è€…ä½œä¸ºæ•´ä¸ªé¡¹ç›®è®¡åˆ’ä¸­çš„ä¸€éƒ¨åˆ†æ¥ä½¿ç”¨ã€‚\nå»ºç«‹äº†RMMMè®¡åˆ’ï¼Œè€Œä¸”é¡¹ç›®å·±ç»å¯åŠ¨ä¹‹åï¼Œé£é™©ç¼“è§£åŠç›‘æµ‹æ­¥éª¤ä¹Ÿå°±å¼€å§‹äº†ï¼š\né£é™©ç¼“è§£ï¼šä¸€ç§é—®é¢˜è§„é¿æ´»åŠ¨ã€‚\né£é™©ç›‘æµ‹ï¼šä¸€ç§é¡¹ç›®è·Ÿè¸ªæ´»åŠ¨ã€‚\nè¿™ç§ç›‘æµ‹æ´»åŠ¨æœ‰3ä¸ªä¸»è¦ç›®çš„ï¼š\nè¯„ä¼°æ‰€é¢„æµ‹çš„é£é™©æ˜¯å¦çœŸçš„å‘ç”Ÿäº†ï¼› ä¿è¯æ­£ç¡®åœ°å®æ–½äº†å„é£é™©çš„ç¼“è§£æ­¥éª¤ï¼› æ”¶é›†èƒ½å¤Ÿç”¨äºä»Šåé£é™©ç¼éš™çš„ä¿¡æ¯ã€‚ é£é™©ç›‘æµ‹çš„å¦ä¸€ä¸ªä»»åŠ¡å°±æ˜¯è¯•å›¾æ‰¾åˆ°â€œèµ·æºâ€ï¼ˆåœ¨æ•´ä¸ªé¡¹ç›®ä¸­æ˜¯å“ªäº›é£é™©å¼•èµ·äº†å“ªäº›é—®é¢˜ï¼‰ã€‚\næ€»ç»“ é£é™©åˆ†ç±»æ€»ç»“ï¼š\nåˆ†ç±» è¯´æ˜ é¡¹ç›®é£é™© å¨èƒåˆ°é¡¹ç›®è®¡åˆ’ã€‚é£é™©å› ç´ ï¼š\né¢„ç®—ã€è¿›åº¦ã€äººå‘˜ã€èµ„æºå’Œåˆ©ç›Šç›¸å…³è€…ï¼Œé¡¹ç›®å¤æ‚åº¦ã€è§„æ¨¡å’Œç»“æ„çš„ä¸ç¡®å®šæ€§\næŠ€æœ¯é£é™© å¨èƒåˆ°è½¯ä»¶çš„è´¨é‡åŠäº¤ä»˜æ—¶é—´ã€‚é£é™©å› ç´ ï¼š\nè®¾è®¡ã€å®ç°ã€æ¥å£ã€éªŒè¯å’Œç»´æŠ¤ï¼Œè§„æ ¼è¯´æ˜çš„æ­§ä¹‰æ€§ã€æŠ€æœ¯çš„ä¸ç¡®å®šæ€§ã€æŠ€æœ¯é™ˆæ—§å’Œä½¿ç”¨â€œå‰æ²¿â€æŠ€æœ¯\nå¸‚åœºé£é™© å¼€å‘äº†ä¸€ä¸ªæ²¡æœ‰äººçœŸæ­£éœ€è¦çš„äº§å“æˆ–ç³»ç»Ÿã€‚ ç­–ç•¥é£é™© å¼€å‘çš„äº§å“ä¸å†ç¬¦åˆå…¬å¸çš„æ•´ä½“å•†ä¸šç­–ç•¥ã€‚ é”€å”®é£é™© å¼€å‘äº†ä¸€ä¸ªé”€å”®éƒ¨é—¨ä¸çŸ¥é“å¦‚ä½•å»é”€å”®çš„äº§å“ã€‚ ç®¡ç†é£é™© ç”±äºé‡ç‚¹çš„è½¬ç§»æˆ–äººå‘˜çš„å˜åŠ¨è€Œå¤±å»äº†é«˜çº§ç®¡ç†å±‚çš„æ”¯æŒã€‚ é¢„ç®—é£é™© æ²¡æœ‰å¾—åˆ°é¢„ç®—æˆ–äººå‘˜çš„ä¿è¯ã€‚ é£é™©ç®¡ç†æ€»ç»“ï¼š\né£é™©ç®¡ç† è¯´æ˜ é£é™©è¯†åˆ« æŒ‡å‡ºå¯¹é¡¹ç›®è®¡åˆ’çš„å¨èƒã€‚å¯é€šè¿‡å»ºç«‹é£é™©æ¡ç›®æ£€æŸ¥è¡¨è¯†åˆ«ã€‚ é£é™©é¢„æµ‹ ä»é£é™©å‘ç”Ÿçš„å¯èƒ½æ€§æˆ–æ¦‚ç‡ã€é£é™©äº§ç”Ÿçš„åæœè¯„ä¼°å¯èƒ½å‘ç”Ÿçš„é£é™©ã€‚ é£é™©è¯„ä¼° ä»é£é™©å‘ç”Ÿçš„æ¦‚ç‡å’Œäº§ç”Ÿçš„å½±å“è¯„ä¼°é£é™©ã€‚å¯ç”¨å®šä¹‰é£é™©å‚ç…§æ°´å‡†æŠ€æœ¯è¯„ä¼°ã€‚ é£é™©æ§åˆ¶ ç›®çš„æ˜¯è¾…åŠ©é¡¹ç›®å»ºç«‹å¤„ç†é£é™©çš„ç­–ç•¥ã€‚ç­–ç•¥æ˜¯é£é™©é¿å…ã€é£é™©ç›‘æ§å’ŒRMMMè®¡åˆ’ã€‚ é£é™©é¿å… åº”å¯¹é£é™©çš„æœ€å¥½åŠæ³•æ˜¯ä¸»åŠ¨åœ°é¿å…é£é™©ã€‚ é£é™©ç›‘æ§ é¡¹ç›®ç®¡ç†è€…åº”ç›‘æ§æŸäº›å¯ä»¥æä¾›é£é™©é«˜ä½å˜åŒ–æŒ‡ç¤ºçš„å› ç´ ã€‚ è½¯ä»¶è´¨é‡ è½¯ä»¶è´¨é‡ç‰¹æ€§çš„åº¦é‡ å¯é æ€§ã€å¯ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§æ˜¯è½¯ä»¶çš„è´¨é‡å±æ€§ï¼Œè½¯ä»¶å·¥ç¨‹ä¸­ï¼Œç”¨$0 \\sim 1$ä¹‹é—´çš„æ•°æ¥åº¦é‡ã€‚\nå¯é æ€§ï¼šæŒ‡ä¸€ä¸ªç³»ç»Ÿå¯¹äºç»™å®šçš„æ—¶é—´é—´éš”å†…ã€åœ¨ç»™å®šæ¡ä»¶ä¸‹æ— å¤±æ•ˆè¿ä½œçš„æ¦‚ç‡ã€‚\nå¯ä»¥ç”¨$\\cfrac{MTTF}{1+MTTF}$æ¥åº¦é‡ã€‚\n$MTTF$ä¸ºå¹³å‡æ— æ•…éšœæ—¶é—´ã€‚\nå¯ç”¨æ€§ï¼šæŒ‡åœ¨ç»™å®šçš„æ—¶é—´ç‚¹ä¸Šï¼Œä¸€ä¸ªç³»ç»Ÿèƒ½å¤ŸæŒ‰ç…§è§„æ ¼è¯´æ˜æ­£ç¡®è¿ä½œçš„æ¦‚ç‡ã€‚\nå¯ä»¥ç”¨$\\cfrac{MTBF}{1+MTBF}$æ¥åº¦é‡ã€‚\n$MTBF$ä¸ºå¹³å‡å¤±æ•ˆé—´éš”æ—¶é—´ã€‚\nå¯ç»´æŠ¤æ€§ï¼šåœ¨ç»™å®šçš„ä½¿ç”¨æ¡ä»¶ä¸‹ï¼Œåœ¨è§„å®šçš„æ—¶é—´é—´éš”å†…ï¼Œä½¿ç”¨è§„å®šçš„è¿‡ç¨‹å’Œèµ„æºå®Œæˆç»´æŠ¤æ´»åŠ¨çš„æ¦‚ç‡ã€‚\nå¯ä»¥ç”¨$\\cfrac{1}{1+MTTR}$æ¥åº¦é‡ã€‚\n$MTTR$ä¸ºå¹³å‡ä¿®å¤æ—¶é—´ã€‚\næ€»ç»“ï¼š\nè´¨é‡å±æ€§ åº¦é‡å…¬å¼ è¯´æ˜ å¯é æ€§ $\\cfrac{MTTF}{1+MTTF}$\n$MTTF$ï¼šå¹³å‡æ— æ•…éšœæ—¶é—´\nç»™å®šæ—¶é—´é—´éš”å†…ã€ç»™å®šæ¡ä»¶ä¸‹ï¼Œæ— å¤±æ•ˆè¿ä½œçš„æ¦‚ç‡ å¯ç”¨æ€§ $\\cfrac{MTBF}{1+MTBF}$\n$MTBF$ï¼šå¹³å‡å¤±æ•ˆé—´éš”æ—¶é—´\nç»™å®šæ—¶é—´ç‚¹ä¸Šã€èƒ½æŒ‰ç…§è§„æ ¼è¯´æ˜æ­£ç¡®è¿ä½œçš„æ¦‚ç‡ å¯ç»´æŠ¤æ€§ $\\cfrac{1}{1+MTTR}$\n$MTTR$ï¼šå¹³å‡ä¿®å¤æ—¶é—´\nç»™å®šä½¿ç”¨æ¡ä»¶ä¸‹ã€è§„å®šæ—¶é—´é—´éš”å†…ï¼Œä½¿ç”¨è§„å®šè¿‡ç¨‹å’Œèµ„æºå®Œæˆç»´æŠ¤çš„æ¦‚ç‡ è½¯ä»¶è´¨é‡æ¨¡å‹ è®¨è®ºè½¯ä»¶è´¨é‡é¦–å…ˆè¦äº†è§£è½¯ä»¶çš„è´¨é‡ç‰¹æ€§ï¼Œç›®å‰å·±ç»æœ‰å¤šç§è½¯ä»¶è´¨é‡æ¨¡å‹æ¥æè¿°è½¯ä»¶è´¨é‡ç‰¹æ€§ï¼Œå¦‚ï¼š\nISO/IEC 9126 è½¯ä»¶è´¨é‡æ¨¡å‹ Me Call è½¯ä»¶è´¨é‡æ¨¡å‹ã€‚ ISO/IEC 9126 è½¯ä»¶è´¨é‡æ¨¡å‹ ISO/IEC 9126è½¯ä»¶è´¨é‡æ¨¡å‹ç”±3ä¸ªå±‚æ¬¡ç»„æˆï¼š\nç¬¬ä¸€å±‚ï¼šè´¨é‡ç‰¹æ€§ ç¬¬äºŒå±‚ï¼šè´¨é‡å­ç‰¹æ€§ ç¬¬ä¸‰å±‚ï¼šåº¦é‡æŒ‡æ ‡ è¯¥æ¨¡å‹çš„è´¨é‡ç‰¹æ€§å’Œè´¨é‡å­ç‰¹æ€§ï¼š\nè´¨é‡ç‰¹æ€§ è´¨é‡å­ç‰¹æ€§ åŠŸèƒ½æ€§ï¼ˆFunctionalityï¼‰ é€‚åˆæ€§ï¼ˆSuitabilityï¼‰ å‡†ç¡®æ€§ï¼ˆAccuratenessï¼‰ äº’ç”¨æ€§ï¼ˆInteroperabilityï¼‰ ä¾ä»æ€§ï¼ˆComplianceï¼‰ å®‰å…¨æ€§ï¼ˆSecurityï¼‰ å¯é æ€§ï¼ˆReliabilityï¼‰ æˆç†Ÿæ€§ï¼ˆMaturityï¼‰ å®¹é”™æ€§ï¼ˆFault toleranceï¼‰ æ˜“æ¢å¤æ€§ï¼ˆRecoverabilityï¼‰ æ˜“ä½¿ç”¨æ€§ï¼ˆUsabilityï¼‰ æ˜“ç†è§£æ€§ï¼ˆUnderstandabilityï¼‰ æ˜“å­¦æ€§ï¼ˆLearnabilityï¼‰ æ˜“æ“ä½œæ€§ï¼ˆOperabilityï¼‰ æ•ˆç‡ï¼ˆEfficiencyï¼‰ æ—¶é—´ç‰¹æ€§ï¼ˆTime behaviorï¼‰ èµ„æºç‰¹æ€§ï¼ˆResource behaviorï¼‰ å¯ç»´æŠ¤æ€§ï¼ˆMaintainabilityï¼‰ æ˜“åˆ†ææ€§ï¼ˆAnalyzabilityï¼‰ æ˜“æ”¹å˜æ€§ï¼ˆChangeabilityï¼‰ ç¨³å®šæ€§ï¼ˆStabilityï¼‰ æ˜“æµ‹è¯•æ€§ï¼ˆTestabilityï¼‰ å¯ç§»æ¤æ€§ï¼ˆPortabilityï¼‰ é€‚åº”æ€§ï¼ˆAdaptabilityï¼‰ æ˜“å®‰è£…æ€§ï¼ˆInstallabilityï¼‰ ä¸€è‡´æ€§ï¼ˆConformanceï¼‰ æ˜“æ›¿æ¢æ€§ï¼ˆReplaceabilityï¼‰ è´¨é‡å­ç‰¹æ€§çš„å«ä¹‰ï¼š\nåŠŸèƒ½æ€§ï¼š é€‚åˆæ€§ï¼šä¸å¯¹è§„å®šä»»åŠ¡èƒ½å¦æä¾›ä¸€ç»„åŠŸèƒ½ä»¥åŠè¿™ç»„åŠŸèƒ½æ˜¯å¦é€‚åˆæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å‡†ç¡®æ€§ï¼šä¸èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®æˆ–ç›¸ç¬¦çš„ç»“æœæˆ–æ•ˆæœæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ äº’ç”¨æ€§ï¼šä¸å…¶ä»–æŒ‡å®šç³»ç»Ÿè¿›è¡Œäº¤äº’æ“ä½œçš„èƒ½åŠ›ç›¸å…³çš„è½¯ä»¶å±æ€§ã€‚ ä¾ä»æ€§ï¼šä½¿è½¯ä»¶æœä»æœ‰å…³çš„æ ‡å‡†ã€çº¦å®šã€æ³•è§„åŠç±»ä¼¼è§„å®šçš„è½¯ä»¶å±æ€§ã€‚ å®‰å…¨æ€§ï¼šä¸é¿å…å¯¹ç¨‹åºåŠæ•°æ®çš„éæˆæƒæ•…æ„æˆ–æ„å¤–è®¿é—®çš„èƒ½åŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯é æ€§ï¼š æˆç†Ÿæ€§ï¼šä¸ç”±è½¯ä»¶æ•…éšœå¼•èµ·å¤±æ•ˆçš„é¢‘åº¦æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å®¹é”™æ€§ï¼šä¸åœ¨è½¯ä»¶é”™è¯¯æˆ–è¿åæŒ‡å®šæ¥å£çš„æƒ…å†µä¸‹ç»´æŒæŒ‡å®šçš„æ€§èƒ½æ°´å¹³çš„èƒ½åŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ¢å¤æ€§ï¼šä¸åœ¨æ•…éšœå‘ç”Ÿåï¼Œé‡æ–°å»ºç«‹å…¶æ€§èƒ½æ°´å¹³å¹¶æ¢å¤ç›´æ¥å—å½±å“æ•°æ®çš„èƒ½åŠ›ï¼Œä»¥åŠä¸ºè¾¾åˆ°æ­¤ç›®çš„æ‰€éœ€çš„æ—¶é—´å’ŒåŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“ä½¿ç”¨æ€§ï¼š æ˜“ç†è§£æ€§ï¼šä¸ç”¨æˆ·ä¸ºç†è§£é€»è¾‘æ¦‚å¿µåŠå…¶åº”ç”¨æ‰€ä»˜å‡ºçš„åŠ³åŠ¨æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“å­¦æ€§ï¼šä¸ç”¨æˆ·ä¸ºå­¦ä¹ å…¶åº”ç”¨ï¼ˆä¾‹å¦‚æ“ä½œæ§åˆ¶ã€è¾“å…¥ã€è¾“å‡ºï¼‰æ‰€ä»˜å‡ºçš„åŠªåŠ›ç›¸å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ“ä½œæ€§ï¼šä¸ç”¨æˆ·ä¸ºè¿›è¡Œæ“ä½œå’Œæ“ä½œæ§åˆ¶æ‰€ä»˜å‡ºçš„åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ•ˆç‡ï¼š æ—¶é—´ç‰¹æ€§ï¼šä¸å“åº”å’Œå¤„ç†æ—¶é—´ä»¥åŠè½¯ä»¶æ‰§è¡Œå…¶åŠŸèƒ½æ—¶çš„ååé‡æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ èµ„æºç‰¹æ€§ï¼šä¸è½¯ä»¶æ‰§è¡Œå…¶åŠŸèƒ½æ—¶ï¼Œæ‰€ä½¿ç”¨çš„èµ„æºé‡ä»¥åŠä½¿ç”¨èµ„æºçš„æŒç»­æ—¶é—´æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯ç»´æŠ¤æ€§ï¼š æ˜“åˆ†ææ€§ï¼šä¸ä¸ºè¯Šæ–­ç¼ºé™·æˆ–å¤±æ•ˆåŸå› ï¼Œæˆ–ä¸ºåˆ¤å®šå¾…ä¿®æ”¹çš„éƒ¨åˆ†æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ”¹å˜æ€§ï¼šä¸è¿›è¡Œä¿®æ”¹ã€æ’é”™æˆ–é€‚åº”ç¯å¢ƒå˜æ¢æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ ç¨³å®šæ€§ï¼šä¸ä¿®æ”¹é€ æˆæœªé¢„æ–™æ•ˆæœçš„é£é™©æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“æµ‹è¯•æ€§ï¼šä¸ºç¡®è®¤ç»ä¿®æ”¹è½¯ä»¶æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ å¯ç§»æ¤æ€§ï¼š é€‚åº”æ€§ï¼šä¸è½¯ä»¶è½¬ç§»åˆ°ä¸åŒç¯å¢ƒæ—¶çš„å¤„ç†æˆ–æ‰‹æ®µæœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ æ˜“å®‰è£…æ€§ï¼šä¸åœ¨æŒ‡å®šç¯å¢ƒä¸‹å®‰è£…è½¯ä»¶æ‰€éœ€åŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ ä¸€è‡´æ€§ï¼šä½¿è½¯ä»¶æœä»ä¸å¯ç§»æ¤æ€§æœ‰å…³çš„æ ‡å‡†æˆ–çº¦å®šçš„è½¯ä»¶å±æ€§ã€‚ æ˜“æ›¿æ¢æ€§ï¼šä¸ä¸€è½¯ä»¶åœ¨è¯¥è½¯ä»¶ç¯å¢ƒä¸­ç”¨æ¥æ›¿ä»£æŒ‡å®šçš„å…¶ä»–è½¯ä»¶çš„å¯èƒ½å’ŒåŠªåŠ›æœ‰å…³çš„è½¯ä»¶å±æ€§ã€‚ Mc Call è½¯ä»¶è´¨é‡æ¨¡å‹ Mc Callè½¯ä»¶è´¨é‡æ¨¡å‹ä»ä»¥ä¸‹3ä¸ªæ–¹é¢ç¡®å®šäº†11ä¸ªè´¨é‡ç‰¹æ€§ï¼š\nè½¯ä»¶äº§å“çš„è¿è¡Œ è½¯ä»¶äº§å“çš„ä¿®æ­£ è½¯ä»¶äº§å“çš„è½¬ç§» Mc Callä¹Ÿç»™å‡ºäº†ä¸€ä¸ªä¸‰å±‚æ¨¡å‹æ¡†æ¶ï¼š\nç¬¬ä¸€å±‚ï¼šè´¨é‡ç‰¹æ€§ ç¬¬äºŒå±‚ï¼šè¯„ä»·å‡†åˆ™ ç¬¬ä¸‰å±‚ï¼šåº¦é‡æŒ‡æ ‡ è½¯ä»¶è´¨é‡ä¿è¯ è½¯ä»¶è´¨é‡ä¿è¯æ˜¯æŒ‡ä¸ºä¿è¯è½¯ä»¶ç³»ç»Ÿæˆ–è½¯ä»¶äº§å“å……åˆ†æ»¡è¶³ç”¨æˆ·è¦æ±‚çš„è´¨é‡è€Œè¿›è¡Œçš„æœ‰è®¡åˆ’ã€æœ‰ç»„ç»‡çš„æ´»åŠ¨ï¼Œå…¶ç›®çš„æ˜¯ç”Ÿäº§é«˜è´¨é‡çš„è½¯ä»¶ã€‚\nè½¯ä»¶è´¨é‡ä¿è¯åŒ…æ‹¬äº†ä¸ä»¥ä¸‹7ä¸ªä¸»è¦æ´»åŠ¨ç›¸å…³çš„å„ç§ä»»åŠ¡ï¼š\nåº”ç”¨æŠ€æœ¯æ–¹æ³• è¿›è¡Œæ­£å¼çš„æŠ€æœ¯è¯„å®¡ æµ‹è¯•è½¯ä»¶ æ ‡å‡†çš„å®æ–½ æ§åˆ¶å˜æ›´ åº¦é‡ï¼ˆMetricsï¼‰ è®°å½•ä¿å­˜å’ŒæŠ¥å‘Š è½¯ä»¶è¯„å®¡ é€šå¸¸ï¼ŒæŠŠâ€œè´¨é‡â€ç†è§£ä¸ºâ€œç”¨æˆ·æ»¡æ„ç¨‹åº¦â€ã€‚ä¸ºäº†ä½¿å¾—ç”¨æˆ·æ»¡æ„ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š\nè®¾è®¡è´¨é‡ï¼šè®¾è®¡çš„è§„æ ¼è¯´æ˜ä¹¦ç¬¦åˆç”¨æˆ·çš„è¦æ±‚ã€‚\nè®¾è®¡è´¨é‡çš„è¯„å®¡å¯¹è±¡ï¼š\nè½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ æ•°æ®éœ€æ±‚è§„æ ¼è¯´æ˜ è½¯ä»¶æ¦‚è¦è®¾è®¡è¯´æ˜ ç¨‹åºè´¨é‡ï¼šç¨‹åºæŒ‰ç…§è®¾è®¡è§„æ ¼è¯´æ˜æ‰€è§„å®šçš„æƒ…å†µæ­£ç¡®æ‰§è¡Œã€‚\nç¨‹åºè´¨é‡çš„è¯„å®¡é€šå¸¸æ˜¯ä»å¼€å‘è€…çš„è§’åº¦è¿›è¡Œï¼Œä¸å¼€å‘æŠ€æœ¯ç›´æ¥ç›¸å…³ã€‚ç¨‹åºè´¨é‡çš„è¯„å®¡å¯¹è±¡ï¼š\nè½¯ä»¶ç»“æ„ï¼š åŠŸèƒ½ç»“æ„ï¼š æ•°æ®ç»“æ„ åŠŸèƒ½ç»“æ„ æ•°æ®ç»“æ„å’ŒåŠŸèƒ½ç»“æ„ä¹‹é—´çš„å¯¹åº”å…³ç³» åŠŸèƒ½çš„é€šç”¨æ€§ æ¨¡å—çš„å±‚æ¬¡ æ¨¡å—ç»“æ„ï¼š æ§åˆ¶æµç»“æ„ æ•°æ®æµç»“æ„ æ¨¡å—ç»“æ„ä¸åŠŸèƒ½ç»“æ„ä¹‹é—´çš„å¯¹åº”å…³ç³» å¤„ç†è¿‡ç¨‹çš„ç»“æ„ ä¸è¿è¡Œç¯å¢ƒçš„æ¥å£ï¼š ä¸ç¡¬ä»¶çš„æ¥å£ ä¸ç”¨æˆ·çš„æ¥å£ å˜æ›´å¸¦æ¥çš„å½±å“ è½¯ä»¶çš„è§„æ ¼è¯´æ˜åˆ†ä¸ºï¼š\nå¤–éƒ¨è§„æ ¼è¯´æ˜ï¼šä»ç”¨æˆ·è§’åº¦æ¥çœ‹çš„è§„æ ¼ï¼ŒåŒ…æ‹¬ç¡¬ä»¶/è½¯ä»¶ç³»ç»Ÿè®¾è®¡ã€åŠŸèƒ½è®¾è®¡ï¼›\nè®¾è®¡è´¨é‡æ˜¯ç”±å¤–éƒ¨è§„æ ¼è¯´æ˜å†³å®šçš„\nå†…éƒ¨è§„æ ¼è¯´æ˜ï¼šä¸ºäº†å®ç°å¤–éƒ¨è§„æ ¼çš„æ›´è¯¦ç»†çš„è§„æ ¼ï¼Œå³è½¯ä»¶æ¨¡å—ç»“æ„ä¸æ¨¡å—å¤„ç†è¿‡ç¨‹çš„è®¾è®¡ã€‚\nå†…éƒ¨è§„æ ¼è¯´æ˜æ˜¯ä»å¼€å‘è€…è§’åº¦æ¥çœ‹çš„è§„æ ¼è¯´æ˜ã€‚\nç¨‹åºæ˜¯ç”±å†…éƒ¨è§„æ ¼è¯´æ˜å†³å®šçš„ã€‚\nè½¯ä»¶å®¹é”™æŠ€æœ¯ æé«˜è½¯ä»¶è´¨é‡å’Œå¯é æ€§çš„æŠ€æœ¯å¤§è‡´å¯åˆ†ä¸ºä¸¤ç±»ï¼š\né¿å¼€é”™è¯¯ï¼šåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ä¸è®©å·®é”™æ½œå…¥è½¯ä»¶çš„æŠ€æœ¯ï¼› å®¹é”™æŠ€æœ¯ï¼šå¯¹æŸäº›æ— æ³•é¿å¼€çš„å·®é”™ï¼Œä½¿å…¶å½±å“å‡è‡³æœ€å°çš„æŠ€æœ¯ã€‚ å®ç°å®¹é”™çš„ä¸»è¦æ‰‹æ®µæ˜¯å†—ä½™ã€‚å†—ä½™æ˜¯æŒ‡å¯¹äºå®ç°ç³»ç»Ÿè§„å®šåŠŸèƒ½æ˜¯å¤šä½™çš„é‚£éƒ¨åˆ†èµ„æºï¼ŒåŒ…æ‹¬ï¼š\nç¡¬ä»¶ è½¯ä»¶ ä¿¡æ¯ æ—¶é—´ ç”±äºåŠ å…¥äº†è¿™äº›èµ„æºï¼Œæœ‰å¯èƒ½ä½¿ç³»ç»Ÿçš„å¯é æ€§å¾—åˆ°è¾ƒå¤§çš„æé«˜ã€‚é€šå¸¸ï¼Œå†—ä½™æŠ€æœ¯åˆ†ä¸º4ç±»ï¼š\nç»“æ„å†—ä½™ï¼šç»“æ„å†—ä½™æ˜¯é€šå¸¸é‡‡ç”¨çš„å†—ä½™æŠ€æœ¯ï¼ŒæŒ‰å…¶å·¥ä½œæ–¹æ³•å¯ä»¥åˆ†ä¸ºï¼š\né™æ€å†—ä½™ï¼š\nå¸¸ç”¨çš„æœ‰ï¼š\nä¸‰æ¨¡å†—ä½™ï¼ˆTriple Module Redundancyï¼ŒTRï¼‰ å¤šæ¨¡å†—ä½™ é™æ€å†—ä½™é€šè¿‡è¡¨å†³å’Œæ¯”è¾ƒæ¥å±è”½ç³»ç»Ÿä¸­å‡ºç°çš„é”™è¯¯ã€‚\nåŠ¨æ€å†—ä½™ï¼šåŠ¨æ€å†—ä½™çš„ä¸»è¦æ–¹å¼æ˜¯å¤šé‡æ¨¡å—å¾…æœºå‚¨å¤‡ã€‚\nå½“ç³»ç»Ÿæµ‹è¯•åˆ°æŸå·¥ä½œæ¨¡å—å‡ºç°é”™è¯¯æ—¶ï¼Œå°±ç”¨ä¸€ä¸ªå¤‡ç”¨æ¨¡å—æ¥é¡¶æ›¿å®ƒå¹¶é‡æ–°è¿è¡Œã€‚è¿™é‡ŒåŒ…æ‹¬ä»¥ä¸‹è¿‡ç¨‹ï¼š\næ£€æµ‹ åˆ‡æ¢ æ¢å¤ åŠ¨æ€å†—ä½™æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š\nçƒ­å¤‡ä»½ç³»ç»Ÿï¼šæ¯å½“ä¸€ä¸ªå‡ºé”™æ¨¡å—è¢«å…¶ä»–å¤‡ç”¨æ¨¡å—é¡¶æ›¿åï¼Œå†—ä½™ç³»ç»Ÿç›¸å½“äºè¿›è¡Œäº†ä¸€æ¬¡é‡æ„ã€‚\nåœ¨çƒ­å¤‡ä»½ç³»ç»Ÿä¸­ï¼Œå¤‡ç”¨æ¨¡å—åœ¨å¾…æœºè¿‡ç¨‹ä¸­çš„å¤±æ•ˆç‡ä¸º0ã€‚\nå†·å¤‡ä»½ç³»ç»Ÿï¼šå„å¤‡ç”¨æ¨¡å—åœ¨å…¶å¾…æœºæ—¶å¯ä¸ä¸»æ¨¡å—ä¸€åŒå·¥ä½œï¼Œä¹Ÿå¯ä¸å·¥ä½œã€‚\næ··åˆå†—ä½™ï¼šå…¼æœ‰é™æ€å…ƒä½™å’ŒåŠ¨æ€å†—ä½™çš„é•¿å¤„ã€‚\nä¿¡æ¯å†—ä½™ï¼šæŒ‡ä¸ºæ£€æµ‹æˆ–çº æ­£ä¿¡æ¯åœ¨è¿ç®—æˆ–ä¼ è¾“ä¸­çš„é”™è¯¯éœ€å¤–é™„åŠ çš„ä¸€éƒ¨åˆ†ä¿¡æ¯ã€‚\næ—¶é—´å†—ä½™ï¼šæŒ‡ä»¥é‡å¤æ‰§è¡ŒæŒ‡ä»¤æˆ–ç¨‹åºæ¥æ¶ˆé™¤ç¬æ—¶é”™è¯¯å¸¦æ¥çš„å½±å“ã€‚\nå†—ä½™é™„åŠ æŠ€æœ¯ï¼šæŒ‡ä¸ºå®ç°ä¸Šè¿°å†—ä½™æŠ€æœ¯æ‰€éœ€çš„èµ„æºå’ŒæŠ€æœ¯ï¼ŒåŒ…æ‹¬ï¼š\nç¨‹åºã€æŒ‡ä»¤ã€æ•°æ®ã€å­˜æ”¾å’Œè°ƒåŠ¨å®ƒä»¬çš„ç©ºé—´å’Œé€šé“ç­‰ã€‚\nåœ¨å±è”½ç¡¬ä»¶é”™è¯¯çš„å®¹é”™æŠ€æœ¯ä¸­ï¼Œå†—ä½™é™„åŠ æŠ€æœ¯åŒ…æ‹¬ï¼š\nå…³é”®ç¨‹åºå’Œæ•°æ®çš„å†—ä½™å­˜å‚¨åŠè°ƒç”¨ã€‚ æ£€æµ‹ã€è¡¨å†³ã€åˆ‡æ¢ã€é‡æ„ã€çº é”™å’Œå¤ç®—çš„å®ç°ã€‚ åœ¨å±è”½è½¯ä»¶é”™è¯¯çš„å®¹é”™ç³»ç»Ÿä¸­ï¼Œå†—ä½™é™„åŠ æŠ€æœ¯çš„æ„æˆåŒ…æ‹¬ï¼š\nå†—ä½™å¤‡ä»½ç¨‹åºçš„å­˜å‚¨åŠè°ƒç”¨ã€‚ å®ç°é”™è¯¯æ£€æµ‹å’Œé”™è¯¯æ¢å¤çš„ç¨‹åºã€‚ å®ç°å®¹é”™è½¯ä»¶æ‰€éœ€çš„å›ºåŒ–ç¨‹åºã€‚ McCabe è½¯ä»¶å¤æ‚æ€§åº¦é‡æ³• McCabeåº¦é‡æ³•åˆç§°ç¯è·¯åº¦é‡æ³•ï¼Œæ˜¯é€šè¿‡å®šä¹‰ç¯è·¯å¤æ‚åº¦ï¼Œå»ºç«‹ç¨‹åºå¤æ‚æ€§çš„åº¦é‡ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºç¨‹åºæ§åˆ¶æµçš„å¤æ‚æ€§åº¦é‡æ–¹æ³•ï¼Œå®ƒåæ˜ äº†ç¨‹åºï¼ˆæˆ–æ¨¡å—ï¼‰çš„æ§åˆ¶ç»“æ„çš„å¤æ‚æ€§ã€‚\nMaCabeåº¦é‡æ³•è®¤ä¸ºç¨‹åºçš„å¤æ‚æ€§åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºæ§åˆ¶çš„å¤æ‚æ€§ã€‚å•ä¸€çš„é¡ºåºç¨‹åºç»“æ„æœ€ä¸ºç®€å•ï¼Œå¾ªç¯å’Œé€‰æ‹©æ„æˆçš„ç¯è·¯è¶Šå¤šï¼Œç¨‹åºå°±è¶Šå¤æ‚ã€‚\nMaCabeåº¦é‡æ³•ä»¥å›¾è®ºä¸ºå·¥å…·ï¼Œå…ˆç”»å‡ºç¨‹åºå›¾ï¼Œç„¶åç”¨è¯¥å›¾çš„ç¯è·¯æ•°ä½œä¸ºç¨‹åºå¤æ‚æ€§çš„åº¦é‡å€¼ã€‚\nç¨‹åºå›¾æ˜¯é€€åŒ–çš„ç¨‹åºæµç¨‹å›¾ã€‚æŠŠç¨‹åºæµç¨‹å›¾ä¸­çš„æ¯ä¸ªå¤„ç†ç¬¦å·éƒ½é€€åŒ–æˆä¸€ä¸ªç»“ç‚¹ï¼ŒåŸæ¥è¿æ¥ä¸åŒå¤„ç†ç¬¦å·çš„æµçº¿å˜æˆè¿æ¥ä¸åŒç‚¹çš„æœ‰å‘å¼§ï¼Œè¿™æ ·å¾—åˆ°çš„æœ‰å‘å›¾ç§°ä¸ºç¨‹åºå›¾ã€‚\nç¨‹åºå›¾ä»…æè¿°ç¨‹åºå†…éƒ¨çš„æ§åˆ¶æµç¨‹ï¼Œå®Œå…¨ä¸è¡¨ç°å¯¹æ•°æ®çš„å…·ä½“æ“ä½œä»¥åŠåˆ†æ”¯å’Œå¾ªç¯çš„å…·ä½“æ¡ä»¶ã€‚\næ ¹æ®å›¾è®ºï¼Œåœ¨ä¸€ä¸ªå¼ºè¿é€šçš„æœ‰å‘å›¾$G$ä¸­ï¼Œè®¡ç®—ç¯çš„ä¸ªæ•°$V(G)$çš„å…¬å¼ä¸ºï¼š\n$$ V(G) = m - n + 2p $$\n$V(G)$ï¼š$G$ä¸­çš„ç¯è·¯ä¸ªæ•°ï¼› $m$ï¼š$G$ä¸­çš„å¼§çš„ä¸ªæ•°ï¼› $n$ï¼š$G$ä¸­çš„ç»“ç‚¹æ•°ï¼› $p$ï¼š$G$ä¸­çš„å¼ºè¿é€šåˆ†é‡ä¸ªæ•°ã€‚ åœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œä»ç¨‹åºå›¾çš„å…¥å£ç‚¹æ€»èƒ½åˆ°è¾¾å›¾ä¸­çš„ä»»ä½•ä¸€ä¸ªç»“ç‚¹ï¼Œå› æ­¤ï¼Œç¨‹åºæ€»æ˜¯è¿é€šçš„ï¼Œä½†ä¸æ˜¯å¼ºè¿é€šçš„ã€‚\nä¸ºäº†ä½¿ç¨‹åºå›¾æˆä¸ºå¼ºè¿é€šå›¾ï¼Œä»å›¾çš„å…¥å£ç‚¹åˆ°å‡ºå£ç‚¹åŠ ä¸€æ¡ç”¨è™šçº¿è¡¨ç¤ºçš„æœ‰å‘è¾¹ï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼‰ï¼Œä½¿å›¾æˆä¸ºå¼ºè¿é€šå›¾ï¼ˆä½†è™šçº¿å¼§å¹¶ä¸ç®—å…¥å®é™…çš„å¼§æ•°ï¼‰ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ä¸Šå¼è®¡ç®—ç¯è·¯å¤æ‚æ€§äº†ï¼Œä¹Ÿå› æ­¤ç¨‹åºå›¾çš„$p$é€šå¸¸ä¸º1ã€‚\nå³ï¼Œè®¡ç®—æœ‰å‘å›¾$G$çš„ç¯è·¯å¤æ‚æ€§çš„å…¬å¼ä¸ºï¼š\n$$ V(G) = m - n + 2 $$\nä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œç»“ç‚¹æ•°$n=6$ï¼Œå¼§æ•°$m=9$ï¼Œåˆ™ï¼š\n$$ V(G) = 9 - 6 + 2 = 5 $$\nå³ä¸Šå›¾McCabeç¯è·¯å¤æ‚çš„åº¦é‡å€¼ä¸º5ã€‚\n$V(G) = 10$æ˜¯ä¸€ä¸ªå®é™…æ¨¡å—çš„ä¸Šé™ã€‚å½“$V(G) \u0026gt; 10$æ—¶ï¼Œå¾ˆéš¾å……åˆ†æµ‹è¯•è¿™ä¸ªæ¨¡å—ã€‚\nåœ¨ç™½ç›’æµ‹è¯•ä¸­ï¼Œè®¡ç®—ç¯è·¯å¤æ‚åº¦å¯ä»¥ç®€å•åœ°ä½¿ç”¨åˆ¤å®šæ¡ä»¶çš„æ•°é‡ + 1ã€‚\nè½¯ä»¶å·¥å…· è½¯ä»¶å¼€å‘å·¥å…· å¯¹åº”äºè½¯ä»¶å¼€å‘è¿‡ç¨‹çš„å„ç§æ´»åŠ¨ï¼Œè½¯ä»¶å¼€å‘å·¥å…·é€šå¸¸æœ‰ï¼š\néœ€æ±‚åˆ†æå·¥å…· è®¾è®¡å·¥å…· ç¼–ç ä¸æ’é”™å·¥å…· æµ‹è¯•å·¥å…· è½¯ä»¶ç»´æŠ¤å·¥å…· è¾…åŠ©è½¯ä»¶ç»´æŠ¤è¿‡ç¨‹ä¸­æ´»åŠ¨çš„è½¯ä»¶ç§°ä¸ºè½¯ä»¶ç»´æŠ¤å·¥å…·ï¼Œå®ƒè¾…åŠ©ç»´æŠ¤äººå‘˜å¯¹è½¯ä»¶ä»£ç åŠå…¶æ–‡æ¡£è¿›è¡Œå„ç§ç»´æŠ¤æ´»åŠ¨ã€‚è½¯ä»¶ç»´æŠ¤å·¥å…·ä¸»è¦æœ‰ï¼š\nç‰ˆæœ¬æ§åˆ¶å·¥å…· æ–‡æ¡£åˆ†æå·¥å…· å¼€å‘ä¿¡æ¯åº“å·¥å…· é€†å‘å·¥ç¨‹å·¥å…· å†å·¥ç¨‹å·¥å…· è½¯ä»¶ç®¡ç†å’Œè½¯ä»¶æ”¯æŒå·¥å…· è½¯ä»¶ç®¡ç†å’Œè½¯ä»¶æ”¯æŒå·¥å…·ç”¨æ¥è¾…åŠ©ç®¡ç†äººå‘˜å’Œè½¯ä»¶æ”¯æŒäººå‘˜çš„ç®¡ç†æ´»åŠ¨å’Œæ”¯æŒæ´»åŠ¨ï¼Œä»¥ç¡®ä¿è½¯ä»¶é«˜è´¨é‡åœ°å®Œæˆã€‚\nå¸¸ç”¨çš„é“ºåŠ©è½¯ä»¶ç®¡ç†å’Œè½¯ä»¶æ”¯æŒçš„å·¥å…·æœ‰ï¼š\né¡¹ç›®ç®¡ç†å·¥å…· é…ç½®ç®¡ç†å·¥å…· è½¯ä»¶è¯„ä»·å·¥å…· ","date":"2023å¹´5æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/software-engineering/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"è½¯ä»¶å·¥ç¨‹","url":"/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"}],"timestamp":1683540154,"title":"è½¯ä»¶å·¥ç¨‹ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ¦‚è¿° ç»“æ„åŒ–æ–¹æ³•æ˜¯ä¸€ç§é¢å‘æ•°æ®æµçš„å¼€ å‘æ–¹æ³•ï¼Œå®ƒç”±ä»¥ä¸‹æ„æˆï¼š\nç»“æ„åŒ–åˆ†æï¼šæ ¹æ®åˆ†è§£ä¸æŠ½è±¡çš„åŸåˆ™ï¼ŒæŒ‰ç…§ç³»ç»Ÿä¸­æ•°æ®å¤„ç†çš„æµç¨‹ï¼Œç”¨æ•°æ®æµå›¾æ¥å»ºç«‹ç³»ç»Ÿçš„åŠŸèƒ½æ¨¡å‹ï¼Œä»è€Œå®Œæˆéœ€æ±‚åˆ†æå·¥ä½œã€‚ ç»“æ„åŒ–è®¾è®¡ï¼šæ ¹æ®æ¨¡å—ç‹¬ç«‹æ€§å‡†åˆ™ã€è½¯ä»¶ç»“æ„ä¼˜ åŒ–å‡†åˆ™å°†æ•°æ®æµå›¾è½¬æ¢ä¸ºè½¯ä»¶çš„ä½“ç³»ç»“æ„ï¼Œç”¨è½¯ä»¶ç»“æ„å›¾æ¥å»ºç«‹ç³»ç»Ÿçš„ç‰©ç†æ¨¡å‹ï¼Œå®ç°ç³»ç»Ÿçš„ æ¦‚è¦è®¾è®¡ã€‚ ç»“æ„åŒ–ç¨‹åºè®¾è®¡ï¼šä½¿ç”¨3ç§åŸºæœ¬æ§åˆ¶ç»“æ„æ„é€ ç¨‹åºï¼Œä»»ä½•ç¨‹åºéƒ½å¯ä»¥ç”±é¡ºåºã€é€‰æ‹©å’Œé‡å¤3ç§åŸºæœ¬æ§åˆ¶ç»“æ„æ„é€ ã€‚ ç»“æ„åŒ–æ–¹æ³•æ€»çš„æŒ‡å¯¼æ€æƒ³æ˜¯è‡ªé¡¶å‘ä¸‹ã€é€å±‚åˆ†è§£ï¼Œå®ƒçš„åŸºæœ¬åŸåˆ™æ˜¯åŠŸèƒ½çš„åˆ†è§£ä¸æŠ½è±¡ã€‚å®ƒæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­æœ€æ—©å‡ºç°çš„å¼€å‘æ–¹æ³•ï¼Œç‰¹åˆ«é€‚åˆäºæ•°æ®å¤„ç†é¢†åŸŸçš„é—®é¢˜ï¼Œä½†æ˜¯ä¸é€‚åˆè§£å†³å¤§è§„æ¨¡çš„ã€ç‰¹åˆ«å¤æ‚çš„é¡¹ç›®ï¼Œä¸”éš¾ä»¥é€‚åº”éœ€æ±‚çš„å˜åŒ–ã€‚\nç³»ç»Ÿè®¾è®¡ æŠ½è±¡ æŠ½è±¡æ˜¯ä¸€ç§è®¾è®¡æŠ€æœ¯ï¼Œé‡ç‚¹è¯´æ˜ä¸€ä¸ªå®ä½“çš„æœ¬è´¨æ–¹é¢ï¼Œè€Œå¿½ç•¥æˆ–è€…æ©ç›–ä¸å¤ªé‡è¦æˆ–éæœ¬è´¨çš„æ–¹é¢ã€‚\næŠ½è±¡æ˜¯ä¸€ç§é‡è¦çš„å·¥å…·ï¼Œç”¨æ¥å°†å¤æ‚çš„ç°è±¡ç®€åŒ–åˆ°å¯ä»¥åˆ†æã€å®éªŒæˆ–è€…å¯ä»¥ç†è§£çš„ç¨‹åº¦ã€‚\nè½¯ä»¶å·¥ç¨‹ä¸­ä»è½¯ä»¶å®šä¹‰åˆ°è½¯ä»¶å¼€å‘è¦ç»å†å¤šä¸ªé˜¶æ®µï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ¯å‰è¿›ä¸€æ­¥éƒ½å¯çœ‹ä½œæ˜¯å¯¹è½¯ä»¶è§£æ³•çš„æŠ½è±¡å±‚æ¬¡çš„ä¸€æ¬¡ç»†åŒ–ã€‚\næŠ½è±¡çš„æœ€åº•å±‚å°±æ˜¯å®ç°è¯¥è½¯ä»¶çš„æºç¨‹åºä»£ç ã€‚åœ¨è¿›è¡Œæ¨¡å—åŒ–è®¾è®¡æ—¶ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªæŠ½è±¡å±‚æ¬¡ï¼Œæœ€é«˜æŠ½è±¡å±‚æ¬¡çš„æ¨¡å—ç”¨æ¦‚æ‹¬çš„æ–¹å¼å™è¿°é—®é¢˜çš„è§£æ³•ï¼Œè¾ƒä½æŠ½è±¡å±‚æ¬¡çš„æ¨¡å—æ˜¯è¾ƒé«˜æŠ½è±¡å±‚æ¬¡æ¨¡å—å¯¹é—®é¢˜è§£æ³•æè¿°çš„ç»†åŒ–ã€‚\næ¨¡å—åŒ– æ¨¡å—ï¼šæ˜¯åœ¨ç¨‹åºä¸­æ˜¯æ•°æ®è¯´æ˜ã€å¯æ‰§è¡Œè¯­å¥ç­‰ç¨‹åºå¯¹è±¡çš„é›†åˆï¼Œæˆ–è€…æ˜¯å•ç‹¬å‘½åå’Œç¼–å€çš„å…ƒç´ ï¼Œä¾‹å¦‚é«˜çº§è¯­è¨€ä¸­çš„è¿‡ç¨‹ã€å‡½æ•°å’Œå­ç¨‹åºç­‰ã€‚\nåœ¨è½¯ä»¶çš„ä½“ç³»ç»“æ„ä¸­ï¼Œæ¨¡å—æ˜¯å¯ç»„åˆã€åˆ†è§£å’Œæ›´æ¢çš„å•å…ƒã€‚\næ¨¡å—åŒ–ï¼šæ˜¯æŒ‡å°†ä¸€ä¸ªå¾…å¼€å‘çš„è½¯ä»¶åˆ†è§£æˆè‹¥å¹²ä¸ªå°çš„ç®€å•éƒ¨åˆ†ä¸€æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯ç‹¬ç«‹åœ°å¼€å‘ã€æµ‹è¯•ï¼Œæœ€åç»„è£…æˆå®Œæ•´çš„ç¨‹åºã€‚\nè¿™æ˜¯ä¸€ç§å¤æ‚é—®é¢˜â€œåˆ†è€Œæ²»ä¹‹â€çš„åŸåˆ™ã€‚\næ¨¡å—åŒ–çš„ç›®çš„æ˜¯ä½¿ç¨‹åºçš„ç»“æ„æ¸…æ™°ï¼Œå®¹æ˜“é˜…è¯»ã€ç†è§£ã€æµ‹è¯•å’Œä¿®æ”¹ã€‚\næ¨¡å—ç‹¬ç«‹ï¼šæ˜¯æŒ‡æ¯ä¸ªæ¨¡å—å®Œæˆä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„ç‰¹å®šå­åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸å…¶ä»–æ¨¡å—ä¹‹é—´çš„è”ç³»ç®€å•ã€‚\nè¡¡é‡æ¨¡å—ç‹¬ç«‹ç¨‹åº¦çš„æ ‡å‡†æœ‰ï¼ˆæ¨¡å—ç‹¬ç«‹æ€§çš„ä¸¤ä¸ªå®šæ€§æ ‡å‡†ï¼‰ï¼š\nè€¦åˆæ€§ï¼› å†…èšæ€§ã€‚ åœ¨å°†è½¯ä»¶ç³»ç»Ÿåˆ’åˆ†æ¨¡å—æ—¶ï¼Œåº”å°½é‡åšåˆ°é«˜å†…èšã€ä½è€¦åˆï¼Œæé«˜æ¨¡å—çš„ç‹¬ç«‹æ€§ã€‚\né€šå¸¸ï¼Œå¯ä»¥æŒ‰ç…§åœ¨è½¯ä»¶ç³»ç»Ÿä¸­çš„åŠŸèƒ½å°†æ¨¡å—åˆ†ä¸ºå››ç§ç±»å‹ï¼š\nä¼ å…¥æ¨¡å—ï¼šå–å¾—æ•°æ®æˆ–è¾“å…¥æ•°æ®ï¼Œç»è¿‡æŸäº›å¤„ç†ï¼Œå†å°†å…¶ä¼ é€ç»™å…¶ä»–æ¨¡å—ã€‚ ä¼ å‡ºæ¨¡å—ï¼šè¾“å‡ºæ•°æ®ï¼Œåœ¨è¾“å‡ºå‰å¯èƒ½è¿›è¡ŒæŸäº›å¤„ç†ã€‚æ•°æ®å¯èƒ½è¢«è¾“å‡ºåˆ°ç³»ç»Ÿçš„å¤–éƒ¨ï¼Œæˆ–è€…ä¼šè¾“å‡ºåˆ°å…¶ä»–æ¨¡å—è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚ å˜æ¢æ¨¡å—ï¼šä»ä¸Šçº§è°ƒç”¨æ¨¡å—å¾—åˆ°æ•°æ®ï¼Œè¿›è¡Œç‰¹å®šçš„å¤„ç†ï¼Œè½¬æ¢æˆå…¶ä»–å½¢å¼ï¼Œå†å°†åŠ å·¥ç»“æœè¿”å›ç»™è°ƒç”¨æ¨¡å—ã€‚ åè°ƒæ¨¡å—ï¼šä¸€èˆ¬ä¸å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥ï¼Œä¸»è¦æ˜¯é€šè¿‡è°ƒç”¨ã€åè°ƒå’Œç®¡ç†å…¶ä»–æ¨¡å—æ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½ã€‚ è€¦åˆ è€¦åˆæ˜¯æ¨¡å—ä¹‹é—´çš„ç›¸å¯¹ç‹¬ç«‹æ€§ï¼ˆäº’ç›¸è¿æ¥çš„ç´§å¯†ç¨‹åº¦ï¼‰çš„åº¦é‡ã€‚\næ¨¡å—ä¹‹é—´çš„è€¦åˆå–å†³äºï¼š\nå„ä¸ªæ¨¡å—ä¹‹é—´æ¥å£çš„å¤æ‚ç¨‹åº¦ï¼› è°ƒç”¨æ¨¡å—çš„æ–¹å¼ï¼› é€šè¿‡æ¥å£çš„ä¿¡æ¯ç±»å‹ã€‚ ä¸€èˆ¬æ¨¡å—ä¹‹é—´å¯èƒ½çš„è€¦åˆæ–¹å¼æœ‰7ç§ç±»å‹ï¼š\næ— ç›´æ¥è€¦åˆï¼šæŒ‡ä¸¤ä¸ªæ¨¡å—ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„å…³ç³»ï¼Œå®ƒä»¬åˆ†åˆ«ä»å±äºä¸åŒæ¨¡å—çš„æ§åˆ¶ä¸è°ƒç”¨ï¼Œå®ƒä»¬ä¹‹é—´ä¸ä¼ é€’ä»»ä½•ä¿¡æ¯ã€‚\næ— ç›´æ¥è€¦åˆçš„æ¨¡å—é—´ï¼š\nè€¦åˆæ€§æœ€å¼±ï¼› æ¨¡å—ç‹¬ç«‹æ€§æœ€é«˜ã€‚ æ•°æ®è€¦åˆï¼šæŒ‡ä¸¤ä¸ªæ¨¡å—ä¹‹é—´æœ‰è°ƒç”¨å…³ç³»ï¼Œä¼ é€’çš„æ˜¯ç®€å•çš„æ•°æ®å€¼ï¼Œç›¸å½“äºé«˜çº§è¯­è¨€ä¸­çš„å€¼ä¼ é€’ã€‚\næ ‡è®°è€¦åˆï¼šæŒ‡ä¸¤ä¸ªæ¨¡å—ä¹‹é—´ä¼ é€’çš„æ˜¯æ•°æ®ç»“æ„ã€‚\næ§åˆ¶è€¦åˆï¼šæŒ‡ä¸€ä¸ªæ¨¡å—è°ƒç”¨å¦ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œä¼ é€’çš„æ˜¯æ§åˆ¶å˜é‡ï¼Œè¢«è°ƒç”¨æ¨¡å—é€šè¿‡è¯¥æ§åˆ¶å˜é‡çš„å€¼æœ‰é€‰æ‹©åœ°æ‰§è¡Œæ¨¡å—å†…çš„æŸä¸€åŠŸèƒ½ã€‚\nå¤–éƒ¨è€¦åˆï¼šæ¨¡å—é—´é€šè¿‡è½¯ä»¶ä¹‹å¤–çš„ç¯å¢ƒè”ç»“ï¼ˆå¦‚I/Oå°†æ¨¡å—è€¦åˆåˆ°ç‰¹å®šçš„è®¾å¤‡ã€æ ¼å¼ã€é€šä¿¡åè®®ä¸Šï¼‰æ—¶ç§°ä¸ºå¤–éƒ¨è€¦åˆã€‚\nå…¬å…±è€¦åˆï¼šæŒ‡é€šè¿‡ä¸€ä¸ªå…¬å…±æ•°æ®ç¯å¢ƒç›¸äº’ä½œç”¨çš„é‚£äº›æ¨¡å—é—´çš„è€¦åˆã€‚\nå†…å®¹è€¦åˆï¼šå½“ä¸€ä¸ªæ¨¡å—ç›´æ¥ä½¿ç”¨å¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨æ•°æ®ï¼Œæˆ–é€šè¿‡éæ­£å¸¸å…¥å£è½¬å…¥å¦ä¸€ä¸ªæ¨¡å—å†…éƒ¨æ—¶ï¼Œè¿™ç§æ¨¡å—ä¹‹é—´çš„è€¦åˆç§°ä¸ºå†…å®¹è€¦åˆã€‚\nè€¦åˆç±»å‹ è¯´æ˜ æ— ç›´æ¥è€¦åˆ æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä¸ä¼ é€’ä»»ä½•ä¿¡æ¯ æ•°æ®è€¦åˆ è°ƒç”¨å…³ç³»ï¼Œä¼ é€’ç®€å•æ•°æ®å€¼ æ ‡è®°è€¦åˆ ä¼ é€’æ•°æ®ç»“æ„ æ§åˆ¶è€¦åˆ è°ƒç”¨å…³ç³»ï¼Œè¢«è°ƒæ¨¡å—ä¼ é€’ç»™ä¸»è°ƒæ¨¡å—æ§åˆ¶å˜é‡ å¤–éƒ¨è€¦åˆ é€šè¿‡è½¯ä»¶ä¹‹å¤–çš„ç¯å¢ƒè”ç»“ å…¬å…±è€¦åˆ é€šè¿‡å…¬å…±æ•°æ®ç¯å¢ƒç›¸äº’ä½œç”¨ å†…å®¹è€¦åˆ ç›´æ¥ä½¿ç”¨å¦ä¸€ä¸ªæ¨¡å—çš„å†…éƒ¨æ•°æ®\næˆ–é€šè¿‡éæ­£å¸¸å…¥å£è½¬å…¥å¦ä¸€ä¸ªæ¨¡å—å†…éƒ¨ è§£è€¦ï¼šé™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆæ€§çš„è¿‡ç¨‹ã€‚\nå†…èš å†…èšæ˜¯å¯¹ä¸€ä¸ªæ¨¡å—å†…éƒ¨å„ä¸ªå…ƒç´ å½¼æ­¤ç»“åˆçš„ç´§å¯†ç¨‹åº¦çš„åº¦é‡ã€‚ä¸€ä¸ªå†…èšç¨‹åº¦é«˜çš„æ¨¡å—ï¼ˆåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼‰åº”å½“åªåšä¸€ä»¶äº‹ã€‚\nä¸€èˆ¬æ¨¡å—çš„å†…èšæ€§åˆ†ä¸º7ç§ç±»å‹ï¼š\nå¶ç„¶å†…èšï¼ˆå·§åˆå†…èšï¼‰ï¼šæŒ‡ä¸€ä¸ªæ¨¡å—å†…çš„å„å¤„ç†å…ƒç´ ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ã€‚\nå¶ç„¶å†…èšå…·æœ‰æœ€ä½çš„å†…èšæ€§ã€‚\nå…·æœ‰å¶ç„¶å†…èšçš„æ¨¡å—å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼ˆç¼ºç‚¹ï¼‰ï¼š\nä¸æ˜“ä¿®æ”¹ã€ç†è§£å’Œç»´æŠ¤ï¼› ä¼šå½±å“åˆ°æ¨¡å—é—´çš„è€¦åˆå…³ç³»ã€‚ é€»è¾‘å†…èšï¼šæŒ‡æ¨¡å—å†…æ‰§è¡Œè‹¥å¹²ä¸ªé€»è¾‘ä¸Šç›¸ä¼¼çš„åŠŸèƒ½ï¼Œé€šè¿‡å‚æ•°ç¡®å®šè¯¥æ¨¡å—å®Œæˆå“ªä¸€ä¸ªåŠŸèƒ½ã€‚\næ—¶é—´å†…èšï¼šæŠŠéœ€è¦åŒæ—¶æ‰§è¡Œçš„åŠ¨ä½œç»„åˆåœ¨ä¸€èµ·å½¢æˆçš„æ¨¡å—ã€‚\nè¿‡ç¨‹å†…èšï¼šæŒ‡ä¸€ä¸ªæ¨¡å—å®Œæˆå¤šä¸ªä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å¿…é¡»æŒ‰æŒ‡å®šçš„è¿‡ç¨‹æ‰§è¡Œã€‚\né€šä¿¡å†…èšï¼šæŒ‡æ¨¡å—å†…çš„æ‰€æœ‰å¤„ç†å…ƒç´ éƒ½åœ¨åŒä¸€ä¸ªæ•°æ®ç»“æ„ä¸Šæ“ä½œï¼Œæˆ–è€…å„å¤„ç†ä½¿ç”¨ç›¸åŒçš„è¾“å…¥æ•°æ®æˆ–è€…äº§ç”Ÿç›¸åŒçš„è¾“å‡ºæ•°æ®ã€‚\né¡ºåºå†…èšï¼šæŒ‡ä¸€ä¸ªæ¨¡å—ä¸­çš„å„ä¸ªå¤„ç†å…ƒç´ éƒ½å¯†åˆ‡ç›¸å…³äºåŒä¸€åŠŸèƒ½ä¸”å¿…é¡»é¡ºåºæ‰§è¡Œï¼Œå‰ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å‡ºå°±æ˜¯ä¸‹ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å…¥ã€‚\nåŠŸèƒ½å†…èšï¼šæŒ‡æ¨¡å—å†…çš„æ‰€æœ‰å…ƒç´ å…±åŒä½œç”¨å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œç¼ºä¸€ä¸å¯ã€‚\nè¿™æ˜¯æœ€å¼ºçš„å†…èšã€‚\nå†…èšç±»å‹ è¯´æ˜ å¶ç„¶å†…èš\nï¼ˆå·§åˆå†…èšï¼‰ å„å¤„ç†ä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³» é€»è¾‘å†…èš æ‰§è¡Œè‹¥å¹²ä¸ªé€»è¾‘ä¸Šç›¸ä¼¼çš„åŠŸèƒ½ï¼Œ\né€šè¿‡å‚æ•°ç¡®å®šè¯¥æ¨¡å—å®Œæˆå“ªä¸€ä¸ªåŠŸèƒ½ æ—¶é—´å†…èš æŠŠéœ€è¦åŒæ—¶æ‰§è¡Œçš„åŠ¨ä½œç»„åˆåœ¨ä¸€èµ· è¿‡ç¨‹å†…èš å®Œæˆå¤šä¸ªä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡å¿…é¡»æŒ‰æŒ‡å®šçš„è¿‡ç¨‹æ‰§è¡Œ é€šä¿¡å†…èš æ‰€æœ‰å¤„ç†éƒ½åœ¨åŒä¸€ä¸ªæ•°æ®ç»“æ„ä¸Šæ“ä½œï¼Œ\næˆ–è€…å„å¤„ç†ä½¿ç”¨ç›¸åŒçš„è¾“å…¥æ•°æ®æˆ–è€…äº§ç”Ÿç›¸åŒçš„è¾“å‡ºæ•°æ® é¡ºåºå†…èš å„å¤„ç†éƒ½ä¸åŒä¸€åŠŸèƒ½å¯†åˆ‡ç›¸å…³ä¸”å¿…é¡»é¡ºåºæ‰§è¡Œï¼Œ\nå‰ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å‡ºå°±æ˜¯ä¸‹ä¸€åŠŸèƒ½å…ƒç´ çš„è¾“å…¥ åŠŸèƒ½å†…èš æ‰€æœ‰å…ƒç´ å…±åŒä½œç”¨å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œç¼ºä¸€ä¸å¯ ç³»ç»Ÿç»“æ„è®¾è®¡åŸåˆ™ ä¸ºä¿è¯æ€»ä½“ç»“æ„è®¾è®¡é¡ºåˆ©å®Œæˆï¼Œåº”éµå¾ªä»¥ä¸‹å‡ æ¡åŸåˆ™ï¼š\nåˆ†è§£â€”â€”åè°ƒåŸåˆ™ï¼š\nç³»ç»Ÿæ•´ä½“ï¼Œå…·æœ‰å…¶æ•´ä½“çš„ç›®çš„å’ŒåŠŸèƒ½ï¼Œä½†è¿™äº›ç›®çš„å’ŒåŠŸèƒ½çš„å®ç°åˆæ˜¯ç”±ç›¸äº’è”ç³»çš„å„ä¸ªç»„æˆéƒ¨åˆ†å…±åŒå·¥ä½œçš„ç»“æœã€‚è§£å†³å¤æ‚é—®é¢˜çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸåˆ™å°±æ˜¯æŠŠå®ƒåˆ†è§£æˆå¤šä¸ªå°é—®é¢˜åˆ†åˆ«å¤„ç†ï¼Œåœ¨å¤„ç†è¿‡ç¨‹ä¸­æ ¹æ®ç³»ç»Ÿæ€»ä½“è¦æ±‚åè°ƒå„éƒ¨é—¨çš„å…³ç³»ã€‚\nè‡ªé¡¶å‘ä¸‹çš„åŸåˆ™ï¼š\nä»ä¸Šå¾€ä¸‹ï¼Œé€å±‚åˆ†è§£ï¼›å…ˆç¡®å®šä¸Šå±‚æ¨¡å—çš„åŠŸèƒ½ï¼Œå†ç¡®å®šä¸‹å±‚æ¨¡å—çš„åŠŸèƒ½ã€‚\nä¿¡æ¯éšè”½ã€æŠ½è±¡çš„åŸåˆ™ï¼š\nä¸Šå±‚æ¨¡å—åªè§„å®šä¸‹å±‚æ¨¡å—åšä»€ä¹ˆå’Œæ‰€å±æ¨¡å—é—´çš„åè°ƒå…³ç³»ï¼Œä½†ä¸è§„å®šæ€ä¹ˆåšï¼Œä»¥ä¿è¯å„æ¨¡å—çš„ç›¸å¯¹ç‹¬ç«‹æ€§å’Œå†…éƒ¨ç»“æ„çš„åˆç†æ€§ï¼Œä½¿å¾—æ¨¡å—ä¸æ¨¡å—ä¹‹é—´å±‚æ¬¡åˆ†æ˜ï¼Œæ˜“äºç†è§£ã€å®æ–½å’Œç»´æŠ¤ã€‚\nä¸€è‡´æ€§åŸåˆ™ï¼š\nè¦ä¿è¯æ•´ä¸ªè½¯ä»¶è®¾è®¡è¿‡ç¨‹ä¸­å…·æœ‰ï¼š\nç»Ÿä¸€çš„è§„èŒƒã€ ç»Ÿä¸€çš„æ ‡å‡†ã€ ç»Ÿä¸€çš„æ–‡ä»¶æ¨¡å¼ â€¦â€¦ æ˜ç¡®æ€§åŸåˆ™ï¼š\næ¯ä¸ªæ¨¡å—å¿…é¡»ï¼š\nåŠŸèƒ½æ˜ç¡®ã€æ¥å£æ˜ç¡®ï¼› æ¶ˆé™¤å¤šé‡åŠŸèƒ½å’Œæ— ç”¨æ¥å£ã€‚ é«˜å†…èšã€ä½è€¦åˆï¼š\næ¨¡å—ä¹‹é—´çš„è€¦åˆå°½å¯èƒ½å°ï¼Œæ¨¡å—çš„å†…èšåº¦å°½å¯èƒ½é«˜ã€‚\næ¨¡å—çš„æ‰‡å…¥ç³»æ•°å’Œæ‰‡å‡ºç³»æ•°è¦åˆç†ï¼š\næ‰‡å‡ºç³»æ•°ï¼šæ¨¡å—ç›´æ¥è°ƒç”¨å…¶ä»–æ¨¡å—çš„ä¸ªæ•°ã€‚ æ‰‡å…¥ç³»æ•°ï¼šæ¨¡å—è¢«å…¶ä»–æ¨¡å—è°ƒç”¨æ—¶ï¼Œç›´æ¥è°ƒç”¨å®ƒçš„æ¨¡å—ä¸ªæ•°ã€‚ ç»éªŒè¡¨æ˜ï¼Œä¸€ä¸ªè®¾è®¡å¾—å¥½çš„ç³»ç»Ÿçš„å¹³å‡æ‰‡å…¥ã€æ‰‡å‡ºç³»æ•°é€šå¸¸æ˜¯ 3 æˆ– 4ï¼Œä¸€èˆ¬ä¸åº”è¶…è¿‡ 7ï¼Œå¦åˆ™ä¼šå¼•èµ·å‡ºé”™æ¦‚ç‡çš„å¢å¤§ã€‚ä½†èœå•è°ƒç”¨å‹æ¨¡å—çš„æ‰‡å…¥ä¸æ‰‡å‡ºç³»æ•°å¯ä»¥å¤§ä¸€äº›ï¼Œå…¬ç”¨æ¨¡å—çš„æ‰‡å…¥ç³»æ•°å¯ä»¥å¤§ä¸€äº›ã€‚\næ¨¡å—çš„è§„æ¨¡é€‚å½“ï¼š\nè¿‡å¤§çš„æ¨¡å—å¸¸å¸¸ä½¿ç³»ç»Ÿåˆ†è§£å¾—ä¸å……åˆ†ï¼› è¿‡å°çš„æ¨¡å—æœ‰å¯èƒ½é™ä½æ¨¡å—çš„ç‹¬ç«‹æ€§ï¼Œé€ æˆç³»ç»Ÿæ¥å£çš„å¤æ‚æ€§ã€‚ æ¨¡å—çš„ä½œç”¨èŒƒå›´åº”è¯¥åœ¨å…¶æ§åˆ¶èŒƒå›´ä¹‹å†…ã€‚\né¿å…æˆ–å‡å°‘ä½¿ç”¨ç—…æ€è¿æ¥ï¼šç—…æ€è¿æ¥æ˜¯æŒ‡ä»ä¸­éƒ¨è¿›å…¥æˆ–è®¿é—®ä¸€ä¸ªæ¨¡å—ã€‚\nç³»ç»Ÿæ–‡æ¡£ ä¿¡æ¯ç³»ç»Ÿçš„æ–‡æ¡£æ˜¯ç³»ç»Ÿå»ºè®¾è¿‡ç¨‹çš„â€œç—•è¿¹â€ï¼Œæ˜¯ç³»ç»Ÿç»´æŠ¤äººå‘˜çš„æŒ‡å—ï¼Œæ˜¯å¼€å‘äººå‘˜ä¸ç”¨æˆ·äº¤æµçš„å·¥å…·ã€‚\nå¯¹æ–‡æ¡£åœ¨ç³»ç»Ÿå¼€å‘äººå‘˜ã€é¡¹ç›®ç®¡ç†äººå‘˜ã€ç³»ç»Ÿç»´æŠ¤äººå‘˜ã€ç³»ç»Ÿè¯„ä»·äººå‘˜ä»¥åŠç”¨æˆ·ä¹‹é—´çš„å¤šç§ä½œç”¨æ€»ç»“å¦‚ä¸‹ï¼š\nç”¨æˆ·ä¸ç³»ç»Ÿåˆ†æäººå‘˜åœ¨ç³»ç»Ÿè§„åˆ’å’Œç³»ç»Ÿåˆ†æé˜¶æ®µé€šè¿‡æ–‡æ¡£è¿›è¡Œæ²Ÿé€šã€‚\nè¿™é‡Œçš„æ–‡æ¡£ä¸»è¦åŒ…æ‹¬ï¼š\nå¯è¡Œæ€§ç ”ç©¶æŠ¥å‘Šã€ æ€»ä½“è§„åˆ’æŠ¥å‘Šã€ ç³»ç»Ÿå¼€å‘åˆåŒã€ ç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ã€‚ ç³»ç»Ÿå¼€å‘äººå‘˜ä¸é¡¹ç›®ç®¡ç†äººå‘˜é€šè¿‡æ–‡æ¡£åœ¨é¡¹ç›®æœŸå†…è¿›è¡Œæ²Ÿé€šã€‚\nè¿™é‡Œçš„æ–‡æ¡£æ˜¯æŒ‡é¡¹ç›®ç®¡ç†æ–‡ä»¶ï¼Œä¸»è¦æœ‰ï¼š\nç³»ç»Ÿå¼€å‘è®¡åˆ’ï¼Œ\nåŒ…æ‹¬ï¼š\nå·¥ä½œä»»åŠ¡åˆ†è§£è¡¨ã€ PERTå›¾ã€ ç”˜ç‰¹å›¾ã€ é¢„ç®—åˆ†é…è¡¨ï¼› ç³»ç»Ÿå¼€å‘æœˆæŠ¥ï¼›\nç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Šã€‚\næœ‰äº†è¿™äº›æ–‡æ¡£å¯ä»¥ï¼š\nä¸åŒé˜¶æ®µå¼€å‘äººå‘˜å·¥ä½œçš„é¡ºåˆ©äº¤æ¥ï¼› é™ä½å› ä¸ºäººå‘˜æµåŠ¨å¸¦æ¥çš„é£é™©ã€‚ ç³»ç»Ÿæµ‹è¯•äººå‘˜ä¸ç³»ç»Ÿå¼€å‘äººå‘˜é€šè¿‡æ–‡æ¡£è¿›è¡Œæ²Ÿé€šã€‚\nç³»ç»Ÿæµ‹è¯•äººå‘˜å¯ä»¥æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿå¼€å‘äººå‘˜æ‰€å¼€å‘çš„ç³»ç»Ÿè¿›è¡Œæµ‹è¯•ï¼š\nç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ã€ ç³»ç»Ÿå¼€å‘åˆåŒã€ ç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦ã€ æµ‹è¯•è®¡åˆ’ã€‚ ç³»ç»Ÿæµ‹è¯•äººå‘˜å†å°†è¯„ä¼°ç»“æœæ’°å†™æˆç³»ç»Ÿæµ‹è¯•æŠ¥å‘Šã€‚\nç³»ç»Ÿå¼€å‘äººå‘˜ä¸ç”¨æˆ·åœ¨ç³»ç»Ÿè¿è¡ŒæœŸé—´è¿›è¡Œæ²Ÿé€šã€‚\nç”¨æˆ·é€šè¿‡ç³»ç»Ÿå¼€å‘äººå‘˜æ’°å†™çš„æ–‡æ¡£è¿è¡Œç³»ç»Ÿã€‚è¿™é‡Œçš„æ–‡æ¡£ä¸»è¦æ˜¯ï¼š\nç”¨æˆ·æ‰‹å†Œã€ æ“ä½œæŒ‡å—ã€‚ ç³»ç»Ÿå¼€å‘äººå‘˜ä¸ç³»ç»Ÿç»´æŠ¤äººå‘˜é€šè¿‡æ–‡æ¡£è¿›è¡Œæ²Ÿé€šã€‚\nè¿™é‡Œçš„æ–‡æ¡£ä¸»è¦æœ‰ï¼š\nç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦ï¼›\nç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Šã€‚\nå¼€å‘æ€»ç»“æŠ¥å‘Šè¿˜å¯åˆ†ä¸ºä»¥ä¸‹3ä¸ªæ–‡æ¡£ï¼š\nç ”åˆ¶æŠ¥å‘Šï¼› æŠ€æœ¯æŠ¥å‘Šï¼› æŠ€æœ¯æ‰‹å†Œï¼šè®°å½•äº†ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­çš„å„ç§ä¸»è¦æŠ€æœ¯ç»†èŠ‚ã€‚ ç”¨æˆ·ä¸ç»´ä¿®äººå‘˜åœ¨è¿è¡Œç»´æŠ¤æœŸé—´è¿›è¡Œæ²Ÿé€šã€‚\nç”¨æˆ·åœ¨ä½¿ç”¨ä¿¡æ¯ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œå°†è¿è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜è¿›è¡Œè®°è½½ï¼Œå½¢æˆï¼š\nç³»ç»Ÿè¿è¡ŒæŠ¥å‘Šã€ ç»´æŠ¤ä¿®æ”¹å»ºè®®ã€‚ ç³»ç»Ÿç»´æŠ¤äººå‘˜æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿè¿›è¡Œç»´æŠ¤å’Œå‡çº§ï¼š\nç»´æŠ¤ä¿®æ”¹å»ºè®®ï¼› ç³»ç»Ÿå¼€å‘äººå‘˜ç•™ä¸‹çš„æŠ€æœ¯æ‰‹å†Œç­‰æ–‡æ¡£ã€‚ äººå‘˜ é˜¶æ®µ æ–‡æ¡£ ç”¨æˆ·\nç³»ç»Ÿåˆ†æäººå‘˜ ç³»ç»Ÿè§„åˆ’\nç³»ç»Ÿåˆ†æ æ²Ÿé€šæ–‡æ¡£ï¼Œä¸»è¦æ˜¯è§„åˆ’æŠ¥å‘Šã€åˆåŒã€æ–¹æ¡ˆï¼š\nå¯è¡Œæ€§ç ”ç©¶æŠ¥å‘Šæ€»ä½“è§„åˆ’æŠ¥å‘Šç³»ç»Ÿå¼€å‘åˆåŒç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ ç³»ç»Ÿå¼€å‘äººå‘˜\né¡¹ç›®ç®¡ç†äººå‘˜ é¡¹ç›®æœŸå†… æ²Ÿé€šæ–‡æ¡£ï¼ˆé¡¹ç›®ç®¡ç†æ–‡ä»¶ï¼‰ï¼Œä¸»è¦æ˜¯è®¡åˆ’ã€æŠ¥å‘Šç±»æ–‡æ¡£ï¼š\nç³»ç»Ÿå¼€å‘è®¡åˆ’å·¥ä½œä»»åŠ¡åˆ†è§£è¡¨PERTå›¾ç”˜ç‰¹å›¾é¢„ç®—åˆ†é…è¡¨ç³»ç»Ÿå¼€å‘æœˆæŠ¥ç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Š ç³»ç»Ÿæµ‹è¯•äººå‘˜\nç³»ç»Ÿå¼€å‘äººå‘˜ æµ‹è¯• ç³»ç»Ÿæµ‹è¯•äººå‘˜æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿè¿›è¡Œæµ‹è¯•ï¼š\nç³»ç»Ÿæ–¹æ¡ˆè¯´æ˜ä¹¦ç³»ç»Ÿå¼€å‘åˆåŒç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦æµ‹è¯•è®¡åˆ’ç³»ç»Ÿæµ‹è¯•äººå‘˜å†å°†è¯„ä¼°ç»“æœæ’°å†™æˆç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š ç³»ç»Ÿå¼€å‘äººå‘˜\nç”¨æˆ· ç³»ç»Ÿè¿è¡ŒæœŸé—´ ç”¨æˆ·é€šè¿‡ç³»ç»Ÿå¼€å‘äººå‘˜æ’°å†™çš„æ–‡æ¡£è¿è¡Œç³»ç»Ÿï¼š\nç”¨æˆ·æ‰‹å†Œæ“ä½œæŒ‡å— ç³»ç»Ÿå¼€å‘äººå‘˜\nç³»ç»Ÿç»´æŠ¤äººå‘˜ ç»´æŠ¤ æ²Ÿé€šæ–‡æ¡£ï¼šç³»ç»Ÿè®¾è®¡è¯´æ˜ä¹¦ç³»ç»Ÿå¼€å‘æ€»ç»“æŠ¥å‘Šç ”åˆ¶æŠ¥å‘Šç ”åˆ¶æŠ¥å‘ŠæŠ€æœ¯æ‰‹å†Œ ç”¨æˆ·\nç»´ä¿®äººå‘˜ è¿ç»´ ç”¨æˆ·å°†è¿è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜è¿›è¡Œè®°è½½ï¼šç³»ç»Ÿè¿è¡ŒæŠ¥å‘Šç»´æŠ¤ä¿®æ”¹å»ºè®®ç³»ç»Ÿç»´æŠ¤äººå‘˜æ ¹æ®ä»¥ä¸‹æ–‡æ¡£å¯¹ç³»ç»Ÿè¿›è¡Œç»´æŠ¤å’Œå‡çº§ï¼šç»´æŠ¤ä¿®æ”¹å»ºè®®ç³»ç»Ÿå¼€å‘äººå‘˜ç•™ä¸‹çš„æŠ€æœ¯æ‰‹å†Œç­‰æ–‡æ¡£ ç»“æ„åŒ–åˆ†ææ–¹æ³• æ•°æ®æµå›¾ æ•°æ®æµå›¾ä¹Ÿç§°æ•°æ®æµç¨‹å›¾ï¼ˆData Flow Diagramï¼ŒDFDï¼‰ï¼Œæ˜¯ä¸€ç§ä¾¿äºç”¨æˆ·ç†è§£ã€åˆ†æç³»ç»Ÿæ•°æ®æµç¨‹çš„å›¾å½¢å·¥å…·ã€‚å®ƒæ‘†è„±äº†ç³»ç»Ÿçš„ç‰©ç†å†…å®¹ï¼Œç²¾ç¡®åœ°åœ¨é€»è¾‘ä¸Šæè¿°ç³»ç»Ÿçš„åŠŸèƒ½ã€è¾“å…¥ã€è¾“å‡ºå’Œæ•°æ®å­˜å‚¨ç­‰ï¼Œæ˜¯ç³»ç»Ÿé€»è¾‘æ¨¡å‹çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚\næ•°æ®æµå›¾ä¸­çš„åŸºæœ¬å›¾å½¢å…ƒç´ åŒ…æ‹¬ï¼š\næ•°æ®æµï¼ˆData Flowï¼‰ï¼šç”±ä¸€ç»„å›ºå®šæˆåˆ†çš„æ•°æ®ç»„æˆï¼Œè¡¨ç¤ºæ•°æ®çš„æµå‘ã€‚\nåœ¨DFDç§ï¼Œæ•°æ®æµçš„æµå‘ç”±ä»¥ä¸‹å‡ ç§ï¼š\nä»åŠ å·¥æµå‘å¦ä¸€ä¸ªåŠ å·¥ï¼› ä»åŠ å·¥æµå‘æ•°æ®å­˜å‚¨ï¼ˆå†™ï¼‰ï¼› ä»æ•°æ®å­˜å‚¨æµå‘åŠ å·¥ï¼ˆè¯»ï¼‰ï¼› ä»å¤–éƒ¨å®ä½“æµå‘åŠ å·¥ï¼ˆè¾“å…¥ï¼‰ï¼› ä»åŠ å·¥æµå‘å¤–éƒ¨å®ä½“ï¼ˆè¾“å‡ºï¼‰ã€‚ å³æ•°æ®æµçš„èµ·ç‚¹æˆ–ç»ˆç‚¹å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åŠ å·¥ã€‚\né™¤äº†ä¸æ•°æ®å­˜å‚¨æœ‰å…³çš„æ•°æ®æµï¼ˆæµå‘æ•°æ®å­˜å‚¨æˆ–ä»æ•°æ®å­˜å‚¨æµå‡ºï¼‰ï¼ŒDFDä¸­çš„æ¯ä¸ªæ•°æ®æµéƒ½å¿…é¡»ç”¨ä¸€ä¸ªå®šä¹‰æ˜ç¡®çš„åå­—è¡¨ç¤ºã€‚\nåŠ å·¥ï¼ˆProcessï¼‰ï¼šåŠ å·¥æè¿°äº†è¾“å…¥æ•°æ®æµåˆ°è¾“å‡ºæ•°æ®æµä¹‹é—´çš„å˜æ¢ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥æ•°æ®æµç»è¿‡ä»€ä¹ˆå¤„ç†åå˜æˆäº†è¾“å‡ºæ•°æ®æµã€‚\næ¯ä¸ªåŠ å·¥éƒ½æœ‰ä¸€ä¸ªåå­—å’Œç¼–å·ã€‚\nä¸€ä¸ªåŠ å·¥å¯ä»¥æœ‰å¤šä¸ªè¾“å…¥æ•°æ®æµå’Œå¤šä¸ªè¾“å‡ºæ•°æ®æµï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªè¾“å…¥æ•°æ®æµå’Œä¸€ä¸ªè¾“å‡ºæ•°æ®æµã€‚\næ•°æ®æµå›¾ä¸­å¸¸è§çš„3ç§é”™è¯¯å¦‚ä¸‹æ‰€ç¤ºï¼š\né»‘æ´ï¼šåŠ å·¥åªæœ‰è¾“å…¥ï¼Œæ²¡æœ‰è¾“å‡ºã€‚\nå¦‚ä¸‹å›¾åŠ å·¥1ã€‚\nç™½æ´ï¼šåŠ å·¥åªæœ‰è¾“å‡ºä½†æ²¡æœ‰è¾“å…¥ã€‚\nå¦‚ä¸‹å›¾åŠ å·¥2ã€‚\nç°æ´ï¼šåŠ å·¥ä¸­è¾“å…¥æ•°æ®ä¸è¶³ä»¥äº§ç”Ÿè¾“å‡ºæ•°æ®ã€‚\næœ‰å‡ ç§å¯èƒ½çš„åŸå› ï¼š\nä¸€ä¸ªé”™è¯¯çš„å‘½åè¿‡ç¨‹ï¼› é”™è¯¯å‘½åçš„è¾“å…¥æˆ–è¾“å‡ºï¼› ä¸å®Œå…¨çš„äº‹å®ã€‚ å¦‚ä¸‹å›¾åŠ å·¥3ã€‚\næ•°æ®å­˜å‚¨ï¼ˆData Storeï¼‰ï¼šå­˜å‚¨å’Œæä¾›æ•°æ®ã€‚\næ¯ä¸ªæ•°æ®å­˜å‚¨éƒ½æœ‰ä¸€ä¸ªå®šä¹‰æ˜ç¡®çš„åå­—æ ‡è¯†ã€‚\næ•°æ®å­˜å‚¨å¯ä»¥ï¼š\nå­˜å‚¨åŠ å·¥çš„è¾“å‡ºæ•°æ®ï¼šæ•°æ®æµæµå…¥æ•°æ®å­˜å‚¨ï¼Œè¡¨ç¤ºæ•°æ®çš„å†™å…¥æ“ä½œï¼› æä¾›åŠ å·¥çš„è¾“å…¥æ•°æ®ï¼šæ•°æ®æµä»æ•°æ®å­˜å‚¨æµå‡ºï¼Œè¡¨ç¤ºæ•°æ®çš„è¯»æ“ä½œã€‚ åŒå‘ç®­å¤´çš„æ•°æ®æµæŒ‡å‘æ•°æ®å­˜å‚¨ï¼Œè¡¨ç¤ºå¯¹æ•°æ®çš„ä¿®æ”¹ã€‚ DFDä¸­çš„æ•°æ®å­˜å‚¨åœ¨å…·ä½“å®ç°æ—¶å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å®ç°ï¼š\næ–‡ä»¶ç³»ç»Ÿå®ç°ï¼› æ•°æ®åº“ç³»ç»Ÿå®ç°ã€‚ æ•°æ®å­˜å‚¨çš„å­˜å‚¨ä»‹è´¨å¯ä»¥æ˜¯ï¼š\nç£ç›˜ã€ ç£å¸¦ã€ å…¶ä»–å­˜å‚¨ä»‹è´¨ã€‚ å¤–éƒ¨å®ä½“ï¼ˆExternal Agentï¼Œå¤–éƒ¨ä¸»ä½“ï¼‰ï¼šæŒ‡å­˜åœ¨äºè½¯ä»¶ç³»ç»Ÿä¹‹å¤–çš„äººå‘˜ã€ç»„ç»‡ã€ç‰©ä½“æˆ–å¤–éƒ¨ç³»ç»Ÿï¼Œå®ƒæŒ‡å‡ºç³»ç»Ÿæ‰€éœ€æ•°æ®çš„å‘æºåœ°ï¼ˆæºï¼‰å’Œç³»ç»Ÿæ‰€äº§ç”Ÿçš„æ•°æ®çš„å½’å®¿åœ°ï¼ˆå®¿ï¼‰ã€‚\nä¾‹å¦‚ï¼š\näººå‘˜ï¼šå­¦ç”Ÿã€è€å¸ˆã€å‘˜å·¥ã€ä¸»è§‚ã€åŒ»ç”Ÿã€å®¢æˆ·â€¦â€¦ ç»„ç»‡ï¼šä¾›åº”å•†ã€é‡‡è´­éƒ¨é—¨â€¦â€¦ ç‰©ä½“ï¼šä¼ æ„Ÿå™¨ã€æ§åˆ¶å™¨ã€å•è½¦ã€è½¦è¾†â€¦â€¦ å¤–éƒ¨ç³»ç»Ÿï¼šæ”¯ä»˜ç³»ç»Ÿã€è½¦è¾†äº¤æ˜“ç³»ç»Ÿã€åº“å­˜ç®¡ç†ç³»ç»Ÿã€é“é—¸æ§åˆ¶ç³»ç»Ÿâ€¦â€¦ åœ¨è®¸å¤šç³»ç»Ÿä¸­ï¼ŒæŸä¸ªæºå’ŒæŸä¸ªå®¿å¯ä»¥æ˜¯åŒä¸€ä¸ªäººå‘˜ã€ç»„ç»‡ã€ç‰©ä½“æˆ–å¤–éƒ¨ç³»ç»Ÿï¼Œæ­¤æ—¶ï¼Œåœ¨DFDä¸­å¯ä»¥ç”¨åŒä¸€ä¸ªç¬¦å·è¡¨ç¤ºï¼š\nå½“æ•°æ®æµä»è¯¥ç¬¦å·æµå‡ºæ—¶ï¼Œè¡¨ç¤ºå®ƒæ˜¯æºï¼› å½“æ•°æ®æµæµå‘è¯¥ç¬¦å·æ—¶ï¼Œè¡¨ç¤ºå®ƒæ˜¯å®¿ï¼› å½“ä¸¤è€…çš†æœ‰æ—¶ï¼Œè¡¨ç¤ºå®ƒæ—¢æ˜¯æºåˆæ˜¯å®¿ã€‚ å¤–éƒ¨å®ä½“è¡¨ç¤ºå­˜åœ¨äºç³»ç»Ÿä¹‹å¤–çš„å¯¹è±¡ï¼Œç”¨æ¥å¸®åŠ©ç”¨æˆ·ç†è§£ç³»ç»Ÿæ•°æ®çš„æ¥æºå’Œå»å‘ã€‚\nè½¯ä»¶ç³»ç»Ÿå†…éƒ¨çš„æ•°æ®å¤„ç†æ¨¡å‹ï¼šä½¿ç”¨æ•°æ®æµã€åŠ å·¥å’Œæ•°æ®å­˜å‚¨æ„å»ºã€‚\næ•°æ®æµå›¾æè¿°äº†ç³»ç»Ÿçš„åˆ†è§£ï¼Œä½†æ²¡æœ‰å¯¹å›¾ä¸­å„æˆåˆ†è¿›è¡Œè¯´æ˜ã€‚\nåŸºæœ¬å…ƒç´  å›¾å½¢è¡¨ç¤º æ•°æ®æµ åŠ å·¥ æ•°æ®å­˜å‚¨ å¤–éƒ¨å®ä½“ æ•°æ®æµå›¾å¿…é¡»ç¡®ä¿ï¼š\næ•°æ®æµçš„èµ·ç‚¹æˆ–ç»ˆç‚¹å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯åŠ å·¥ã€‚ åŠ å·¥è‡³å°‘æœ‰ä¸€ä¸ªè¾“å…¥æ•°æ®æµå’Œä¸€ä¸ªè¾“å‡ºæ•°æ®æµã€‚ åˆ†å±‚æ•°æ®æµå›¾ï¼š\né¡¶å±‚å›¾ï¼šæè¿°ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡ºã€‚\nå³æè¿°ç³»ç»Ÿä»å“ªäº›å¤–éƒ¨å®ä½“æ¥å—æ•°æ®æµï¼Œä»¥åŠç³»ç»Ÿå‘é€æ•°æ®æµåˆ°å“ªäº›å¤–éƒ¨å®ä½“ã€‚\né¡¶å±‚å›¾åªæœ‰ä¸€ä¸ªåŠ å·¥ï¼Œå³å¾…å¼€å‘çš„è½¯ä»¶ç³»ç»Ÿã€‚ é¡¶å±‚å›¾ä¸­çš„æ•°æ®æµå°±æ˜¯ç³»ç»Ÿçš„è¾“å…¥/è¾“å‡ºä¿¡æ¯ã€‚ é¡¶å±‚å›¾ä¸­é€šå¸¸æ²¡æœ‰æ•°æ®å­˜å‚¨ã€‚ 0å±‚å›¾ï¼šåˆ†è§£é¡¶å±‚å›¾çš„åŠ å·¥ã€‚\nå†åˆ†è§£ï¼šå°†DFDä¸­æŸäº›æ¯”è¾ƒå¤æ‚çš„åŠ å·¥å†æ¬¡åˆ†è§£æˆä¸€å¼ DFDå­å›¾ã€‚\næ•°æ®å­—å…¸ æ•°æ®å­—å…¸ï¼ˆDDï¼‰æ˜¯ä¸ºæ•°æ®æµå›¾ä¸­çš„ä»¥ä¸‹æˆåˆ†åšå‡ºè¯´æ˜ï¼š\næ•°æ®æµï¼› æ–‡ä»¶ï¼› åŠ å·¥ï¼šå¯¹åŠ å·¥çš„æè¿°ç§°ä¸ºâ€œå°è¯´æ˜â€æˆ–â€œåŠ å·¥é€»è¾‘è¯´æ˜â€ï¼› ç»„æˆæ•°æ®æµæˆ–æ–‡ä»¶çš„æ•°æ®é¡¹ã€‚ æ•°æ®å­—å…¸æœ‰ä»¥ä¸‹4ç±»æ¡ç›®ï¼š\næ•°æ®æµæ¡ç›®ï¼šå¯¹DFDä¸­æ•°æ®æµçš„å®šä¹‰ï¼Œé€šå¸¸åˆ—å‡ºè¯¥æ•°æ®æµçš„å„ç»„æˆæ•°æ®é¡¹ã€‚\nç¬¦å· å«ä¹‰ ä¸¾ä¾‹åŠè¯´æ˜ $=$ è¢«å®šä¹‰ä¸º $+$ ä¸ $x = a + b$ï¼š$x$ç”±$a$å’Œ$b$ç»„æˆ $[a|b]$ æˆ– $x = [a $\\{a\\}$ é‡å¤ $x = \\{a\\}$ï¼š$x$ç”±ä»»æ„ä¸ª$a$ç»„æˆ $m\\{a\\}n$\næˆ–\n$\\big\\{ a \\big\\}^{n}_{m}$ é‡å¤ $x=m\\{a\\}n$ æˆ– $x=\\big\\{a\\big\\}^{n}_{m}$ï¼š$x$ä¸­å‡ºç°$m \\sim n$æ¬¡$a$\n$n$ï¼šé‡å¤æ¬¡æ•°çš„ä¸Šé™$m$ï¼šé‡å¤æ¬¡æ•°çš„ä¸‹é™ $(a)$ å¯é€‰ $x = (a)$ï¼š$a$åœ¨$x$ä¸­å‡ºç°$0$æˆ–$1$æ¬¡ $\u0026ldquo;a\u0026rdquo;$ åŸºæœ¬æ•°æ®å…ƒç´  $x = \u0026ldquo;a\u0026rdquo;$ï¼š$x$æ˜¯å–å€¼ä¸ºå­—ç¬¦$a$çš„æ•°æ®å…ƒç´  $m..n$ è¿æ¥ç¬¦ $x = m..n$ï¼š$x$å¯å–$m \\sim n$ä¸­çš„ä»»æ„ä¸€ä¸ªå€¼ æ•°æ®é¡¹æ¡ç›®ï¼šç»„æˆæ•°æ®æµå’Œæ•°æ®å­˜å‚¨çš„æœ€å°å…ƒç´ ï¼Œæ˜¯ä¸å¯å†åˆ†è§£çš„æ•°æ®å•ä½ã€‚\næ•°æ®å­˜å‚¨æ¡ç›®ï¼šå¯¹DFDä¸­æ•°æ®å­˜å‚¨çš„å®šä¹‰ã€‚\nåŸºæœ¬åŠ å·¥æ¡ç›®ï¼šç”¨æ¥è¯´æ˜DFDä¸­ï¼ˆä¸‹å±‚ï¼‰åŸºæœ¬åŠ å·¥çš„å¤„ç†é€»è¾‘ï¼ˆåŠ å·¥é€»è¾‘ï¼‰ã€‚\nå¯¹æ¯ä¸€ä¸ªåŸºæœ¬åŠ å·¥ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªåŠ å·¥è§„æ ¼è¯´æ˜ï¼ˆåŠ å·¥é€»è¾‘æè¿°ï¼‰ã€‚ åŠ å·¥è§„æ ¼è¯´æ˜ï¼ˆåŠ å·¥é€»è¾‘æè¿°ï¼‰å¿…é¡»æè¿°åŸºæœ¬åŠ å·¥å¦‚ä½•æŠŠè¾“å…¥æ•°æ®æµå˜æ¢ä¸ºè¾“å‡ºæ•°æ®æµçš„åŠ å·¥è§„åˆ™ã€‚ åŠ å·¥è§„æ ¼è¯´æ˜å¿…é¡»æè¿°å®ç°åŠ å·¥çš„ç­–ç•¥ï¼Œè€Œä¸æ˜¯å®ç°åŠ å·¥çš„ç»†èŠ‚ã€‚ åŠ å·¥è§„æ ¼è¯´æ˜ä¸­åŒ…å«çš„ä¿¡æ¯åº”æ˜¯å……è¶³çš„ï¼Œå®Œå¤‡çš„ï¼Œæœ‰ç”¨çš„ï¼Œæ²¡æœ‰é‡å¤çš„å¤šä½™ä¿¡æ¯ã€‚ ç»“æ„åŒ–è¯­è¨€ã€åˆ¤å®šæ ‘å’Œåˆ¤å®šè¡¨å¯ä»¥ç”¨æ¥è¡¨ç¤ºåŠ å·¥é€»è¾‘ã€‚\næºç‚¹ã€ç»ˆç‚¹ä¸åœ¨ç³»ç»Ÿä¹‹å†…ï¼Œæ•…ä¸€èˆ¬ä¸åœ¨å­—å…¸ä¸­è¯´æ˜ã€‚\nç”¨æˆ·ç•Œé¢è®¾è®¡ ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰è®¾è®¡åœ¨äººä¸è®¡ç®—æœºä¹‹é—´æ­å»ºäº†ä¸€ä¸ªæœ‰æ•ˆçš„äº¤æµåª’ä»‹ã€‚\né»„é‡‘åŸåˆ™ é»„é‡‘åŸåˆ™ä¸€å…±æœ‰3æ¡ï¼š\nç”¨æˆ·æ“çºµæ§åˆ¶ å‡å°‘ç”¨æˆ·çš„è®°å¿†è´Ÿæ‹… ä¿æŒç•Œé¢ä¸€è‡´ ","date":"2023å¹´5æœˆ7æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/structured-dev/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"ç»“æ„åŒ–å¼€å‘","url":"/tags/%E7%BB%93%E6%9E%84%E5%8C%96%E5%BC%80%E5%8F%91/"}],"timestamp":1683417600,"title":"ç»“æ„åŒ–å¼€å‘ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ•°æ®åº“ä½“ç³»ç»“æ„ æ•°æ®æè¿°æœ‰ä¸¤ç§å½¢å¼ï¼š\né€»è¾‘æè¿°ï¼šæŒ‡ç¨‹åºå‘˜æˆ–ç”¨æˆ·ç”¨ä»¥æ“ä½œçš„æ•°æ®å½¢å¼ï¼Œæ˜¯æŠ½è±¡çš„æ¦‚å¿µåŒ–æ•°æ®ã€‚ ç‰©ç†æè¿°ï¼šæŒ‡æ•°æ®åœ¨å­˜å‚¨è®¾å¤‡ä¸Šçš„å­˜å‚¨æ–¹å¼ï¼Œç‰©ç†æ•°æ®æ˜¯å®é™…å­˜æ”¾åœ¨å­˜å‚¨è®¾å¤‡ä¸Šçš„æ•°æ®ã€‚ ä¸‰çº§æ¨¡å¼ç»“æ„ å®é™…ä¸Šæœ‰è®¸å¤šä¸åŒçš„æ•°æ®åº“äº§å“ï¼Œä½†å®ƒä»¬çš„ä½“ç³»ç»“æ„åŸºæœ¬ä¸Šéƒ½å…·æœ‰ç›¸åŒçš„ç‰¹å¾ï¼Œé‡‡ç”¨â€œä¸‰çº§æ¨¡å¼å’Œä¸¤çº§æ˜ åƒâ€ï¼š\nä¸‰çº§ç»“æ„æœ‰3ç±»æ•°æ®æ¨¡å‹ï¼š\nå¤–æ¨¡å‹ï¼šç”¨æˆ·ä½¿ç”¨çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸€ç§å±€éƒ¨çš„é€»è¾‘æ•°æ®è§†å›¾ï¼Œè¡¨ç¤ºç”¨æˆ·æ‰€ç†è§£çš„å®ä½“ã€å®ä½“å±æ€§å’Œå®ä½“å…³ç³»ã€‚ æ¦‚å¿µæ¨¡å‹ï¼šå…¨å±€çš„é€»è¾‘æ•°æ®è§†å›¾ï¼Œæ˜¯æ•°æ®åº“ç®¡ç†å‘˜æ‰€çœ‹åˆ°çš„å®ä½“ã€å®ä½“å±æ€§å’Œå®ä½“ä¹‹é—´çš„è”ç³»ã€‚ å†…æ¨¡å‹ï¼šæ•°æ®çš„ç‰©ç†å­˜å‚¨æ¨¡å‹ã€‚ ä¸‰ä¸ªç‰©ç†æ¨¡å‹åˆ†åˆ«å¯¹åº”æ•°æ®åº“ç³»ç»Ÿçš„3å±‚ç»“æ„ï¼š\nå¤–æ¨¡å¼ï¼ˆå­æ¨¡å¼ã€ç”¨æˆ·æ¨¡å¼ï¼‰ï¼šæ•°æ®åº“ç”¨æˆ·çš„æ•°æ®è§†å›¾ï¼Œæ˜¯ä¸æŸä¸€åº”ç”¨ç¨‹åºæœ‰å…³çš„æ•°æ®çš„é€»è¾‘è¡¨ç¤ºã€‚\nå¤–æ¨¡å¼ç”¨DBMSçš„å¤–æ¨¡å¼æè¿°è¯­è¨€ï¼ˆå¤–æ¨¡å¼DDL)æ¥å®šä¹‰ã€‚\næ¦‚å¿µæ¨¡å¼ï¼ˆæ¨¡å¼ï¼‰ï¼šæ‰€æœ‰ç”¨æˆ·çš„å…¬å…±æ•°æ®è§†å›¾ï¼Œä¸å…·ä½“çš„åº”ç”¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºå¼€å‘å·¥å…·æ— å…³ã€‚\næ¦‚å¿µæ¨¡å¼ç”¨DBMSçš„æ¨¡å¼æè¿°è¯­è¨€ï¼ˆæ¨¡å¼DDL)æ¥å®šä¹‰ã€‚\nå†…æ¨¡å¼ï¼ˆç‰©ç†æ¨¡å¼ã€å­˜å‚¨æ¨¡å¼ï¼‰ï¼šæ˜¯æ•°æ®åœ¨æ•°æ®åº“å†…éƒ¨çš„è¡¨ç¤ºæ–¹å¼ã€‚\nå†…æ¨¡å¼ç”±DBMSçš„å†…æ¨¡å¼æè¿°è¯­è¨€ï¼ˆå†…æ¨¡å¼DDL)æ¥æè¿°ï¼Œç”±è®¾å¤‡ä»‹è´¨è¯­è¨€æ¥å®šä¹‰ã€‚\nå®šä¹‰æ‰€æœ‰çš„å†…éƒ¨è®°å½•ç±»å‹ã€ç´¢å¼•å’Œæ–‡ä»¶çš„ç»„ç»‡æ–¹å¼ã€‚\nä¸¤çº§æ¨¡å¼æ˜ è±¡ æ•°æ®åº“ç³»ç»Ÿåœ¨ä¸‰çº§æ¨¡å¼ä¹‹é—´æä¾›äº†ä¸¤çº§æ˜ åƒï¼š\næ¨¡å¼â€”â€”å†…æ¨¡å¼æ˜ åƒå­˜åœ¨äºæ¦‚å¿µçº§å’Œå†…éƒ¨çº§ä¹‹é—´ï¼Œå®ç°æ¦‚å¿µæ¨¡å¼å’Œå†…æ¨¡å¼é—´çš„ç›¸äº’è½¬æ¢ã€‚ å¤–æ¨¡å¼â€”â€”æ¨¡å¼æ˜ åƒï¼šå­˜åœ¨äºå¤–éƒ¨çº§å’Œæ¦‚å¿µçº§ä¹‹é—´ï¼Œå®ç°äº†å¤–æ¨¡å¼å’Œæ¦‚å¿µæ¨¡å¼ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚ æ•°æ®çš„ç‹¬ç«‹æ€§ï¼ˆæŒ‡æ•°æ®ä¸ç¨‹åºç‹¬ç«‹ï¼‰æ˜¯ç”±DBMSçš„äºŒçº§æ˜ åƒåŠŸèƒ½æ¥ä¿è¯çš„ã€‚æ•°æ®çš„ç‹¬ç«‹æ€§åŒ…æ‹¬ï¼š\nç‰©ç†ç‹¬ç«‹æ€§ï¼šæŒ‡å½“æ•°æ®åº“çš„å†…æ¨¡å¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ•°æ®çš„é€»è¾‘ç»“æ„ä¸å˜ã€‚\nç‰©ç†ç‹¬ç«‹æ€§å¯ä»¥ä¿è¯ï¼Œå½“æ•°æ®çš„ç‰©ç†ç»“æ„æ”¹å˜æ—¶ï¼Œåº”ç”¨ç¨‹åºä¸ç”¨æ”¹å˜ã€‚\nä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œï¼Œéœ€è¦ä¿®æ”¹æ¦‚å¿µæ¨¡å¼å’Œå†…æ¨¡å¼ä¹‹é—´çš„æ˜ åƒã€‚\né€»è¾‘ç‹¬ç«‹æ€§ï¼šæŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„é€»è¾‘ç»“æ„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚\næ•°æ®çš„é€»è¾‘ç»“æ„å‘ç”Ÿå˜åŒ–åï¼Œç”¨æˆ·ç¨‹åºä¹Ÿå¯ä»¥ä¸ä¿®æ”¹ã€‚\nä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œï¼Œéœ€è¦ä¿®æ”¹å¤–æ¨¡å¼å’Œæ¦‚å¿µæ¨¡å¼ä¹‹é—´çš„æ˜ åƒã€‚\næ•°æ®æ¨¡å‹ åœ¨æ•°æ®åº“æŠ€æœ¯ä¸­ï¼Œè¡¨ç¤ºå®ä½“ç±»å‹åŠå®ä½“ç±»å‹é—´è”ç³»çš„æ¨¡å‹ç§°ä¸ºæ•°æ®æ¨¡å‹ã€‚\næ•°æ®æ¨¡å‹æœ‰ä»¥ä¸‹ç±»å‹ï¼š\næ¦‚å¿µæ•°æ®æ¨¡å‹ï¼šä»ä¿¡æ¯ä¸–ç•Œä¸­æŠ½è±¡çš„æ•°æ®æ¨¡å‹ï¼› ç»“æ„æ•°æ®æ¨¡å‹ï¼šä»è®¡ç®—æœºä¸–ç•Œä¸­æŠ½è±¡å‡ºçš„DBMSæ”¯æŒçš„æ•°æ®æ¨¡å‹ã€‚ æ¦‚å¿µæ•°æ®æ¨¡å‹ æ¦‚å¿µæ•°æ®æ¨¡å‹ç”¨äºä¿¡æ¯ä¸–ç•Œå»ºæ¨¡ï¼Œä¸€èˆ¬é‡‡ç”¨å®ä½“-è”ç³»æ–¹æ³•ï¼ˆE-Ræ–¹æ³•ï¼‰ã€‚æ¦‚å¿µæ•°æ®æ¨¡å‹çš„å¸¸ç”¨æœ¯è¯­æœ‰ï¼š\nå®ä½“ï¼šå®¢è§‚å­˜åœ¨å¹¶å¯ä»¥ç›¸äº’åŒºåˆ«çš„äº‹ç‰©ç§°ä¸ºå®ä½“ã€‚\nå¦‚ä¸€ä¸ªå•ä½ã€ä¸€ä¸ªèŒå·¥ã€ä¸€ä¸ªéƒ¨é—¨æˆ–ä¸€ä¸ªé¡¹ç›®ç­‰ã€‚\nå±æ€§ï¼šæè¿°å®ä½“çš„ç‰¹æ€§ç§°ä¸ºå±æ€§ï¼Œä¸€ä¸ªå®ä½“å¯ä»¥ç”±è‹¥å¹²ä¸ªå±æ€§æ¥åˆ»ç”»ã€‚\nå±æ€§çš„å…·ä½“å–å€¼ç§°ä¸ºå±æ€§å€¼ï¼Œç”¨ä»¥è¡¨ç¤ºä¸€ä¸ªå…·ä½“å®ä½“ã€‚\nç ï¼šå”¯ä¸€æ ‡è¯†å®ä½“çš„å±æ€§é›†ç§°ä¸ºç ã€‚\nåŸŸï¼šå±æ€§çš„å–å€¼èŒƒå›´ç§°ä¸ºè¯¥å±æ€§çš„åŸŸã€‚\nå®ä½“å‹ï¼šå…·æœ‰ç›¸åŒå±æ€§çš„å®ä½“å¿…ç„¶å…·æœ‰å…±åŒçš„ç‰¹å¾å’Œæ€§è´¨ï¼Œç”¨å®ä½“ååŠå…¶å±æ€§åé›†åˆæ¥æŠ½è±¡å’Œåˆ»ç”»åŒç±»å®ä½“ï¼Œç§°ä¸ºå®ä½“å‹ã€‚\nä¾‹å¦‚ï¼Œå­¦ç”Ÿï¼ˆå­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œç­å·ï¼‰å°±æ˜¯ä¸€ä¸ªå®ä½“å‹ã€‚\nå®ä½“é›†ï¼šåŒå‹å®ä½“çš„é›†åˆç§°ä¸ºå®ä½“é›†ã€‚\nä¾‹å¦‚ï¼Œå…¨ä½“å­¦ç”Ÿå°±æ˜¯ä¸€ä¸ªå®ä½“é›†ã€‚\nè”ç³»ï¼šå®ä½“ï¼ˆå‹ï¼‰ä¹‹é—´çš„å¯¹åº”å…³ç³»ç§°ä¸ºè”ç³»ã€‚è”ç³»åˆ†ä¸ºä¸¤ç§ï¼š\nå®ä½“å†…éƒ¨å„å±æ€§ä¹‹é—´çš„è”ç³»ï¼› å®ä½“ä¹‹é—´çš„è”ç³»ã€‚ ä¸¤ä¸ªå®ä½“å‹ä¹‹é—´çš„è”ç³»æœ‰3ç§ç±»å‹ï¼š\nä¸€å¯¹ä¸€è”ç³»(1:1)ï¼› ä¸€å¯¹å¤šè”ç³»(1:n)ï¼› å¤šå¯¹å¤šè”ç³»(m:n)ã€‚ å®ä½“-è”ç³»æ–¹æ³•è¡¨ç¤ºçš„æ¦‚å¿µæ•°æ®æ¨¡å‹ç§°ä¸ºE-Rå›¾ã€‚E-Rå›¾æ˜¯æŠ½è±¡å’Œæè¿°ç°å®ä¸–ç•Œçš„æœ‰åŠ›å·¥å…·ï¼š\nå®ä½“å‹ï¼šç”¨çŸ©å½¢è¡¨ç¤ºï¼ŒçŸ©å½¢æ¡†å†…å†™æ˜å®ä½“åï¼› å±æ€§ï¼šç”¨æ¤­åœ†å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹å°†å…¶ä¸ç›¸åº”çš„å®ä½“è¿æ¥èµ·æ¥ï¼› è”ç³»ï¼šç”¨è±å½¢è¡¨ç¤ºï¼Œè±å½¢æ¡†å†…å†™æ˜è”ç³»åï¼Œå¹¶ç”¨æ— å‘è¾¹å°†å…¶åˆ†åˆ«ä¸æœ‰å…³å®ä½“è¿æ¥èµ·æ¥ï¼ŒåŒæ—¶åœ¨æ— å‘è¾¹æ—æ ‡ä¸Šè”ç³»çš„ç±»å‹ã€‚ ç»“æ„æ•°æ®æ¨¡å‹ ç»“æ„æ•°æ®æ¨¡å‹æ˜¯ç›´æ¥é¢å‘æ•°æ®åº“çš„é€»è¾‘ç»“æ„ã€‚è¿™ç±»æ¨¡å‹æ¶‰åŠåˆ°è®¡ç®—æœºç³»ç»Ÿå’Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ‰€ä»¥ç§°ä¸ºç»“æ„æ•°æ®æ¨¡å‹ã€‚ä»»ä½•ä¸€ä¸ªDBMSéƒ½ä»¥æŸä¸ªç»“æ„æ•°æ®æ¨¡å‹ä¸ºåŸºç¡€ï¼Œæˆ–è€…è¯´æ”¯æŒæŸä¸ªç»“æ„æ•°æ®æ¨¡å‹ã€‚\nå¸¸ç”¨æœ¯è¯­ï¼š\næ•°æ®é¡¹ï¼šåˆç§°å­—æ®µï¼Œæ˜¯æ•°æ®åº“ä¸­å¯ä»¥å‘½åçš„æœ€å°é€»è¾‘æ•°æ®å•ä½ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªæ•°æˆ–ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨å®ƒæè¿°å±æ€§çš„æ•°æ®ã€‚\nè®°å½•ï¼šæ˜¯æ•°æ®é¡¹çš„æœ‰åºé›†ï¼Œå³ä¸€ä¸ªè®°å½•æ˜¯ç”±è‹¥å¹²ä¸ªæ•°æ®é¡¹æˆ–å­—æ®µç»„æˆï¼Œç”¨å®ƒæè¿°å®ä½“ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œæ•°æ®åªæœ‰è¢«ç»„æˆè®°å½•çš„å½¢å¼æ‰æœ‰å®é™…æ„ä¹‰ã€‚\næ–‡ä»¶ï¼šæ–‡ä»¶æ˜¯ä¸€ä¸ªå…·æœ‰ç¬¦å·åçš„ä¸€ç»„åŒç±»è®°å½•çš„é›†åˆã€‚æ–‡ä»¶åŒ…å«è®°å½•çš„ç»“æ„å’Œè®°å½•çš„å€¼ã€‚\nç»“æ„æ•°æ®æ¨¡å‹ä¸»è¦åŒ…æ‹¬ï¼šå±‚æ¬¡ã€ç½‘çŠ¶ã€å…³ç³»å’Œé¢å‘å¯¹è±¡æ¨¡å‹ã€‚\nå…³ç³»æ¨¡å‹æ˜¯ä¸€ç§ç”¨äºŒç»´è¡¨æ ¼ç»“æ„å¿«è¡¨ç¤ºå®ä½“ä»¥åŠå®ä½“ä¹‹é—´è”ç³»çš„æ•°æ®æ¨¡å‹ã€‚æ¯ä¸ªäºŒç»´è¡¨ç”±è¡Œã€åˆ—ç»„æˆï¼Œåˆå¯ç§°ä¸ºå…³ç³»ï¼Œå…³ç³»æ¨¡å¼æ˜¯å¯¹å…³ç³»çš„æè¿°ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œå…³ç³»æ¨¡å‹æ˜¯ç”±å…³ç³»æ¨¡å¼ç»„æˆçš„é›†åˆã€‚\nç›®å‰å¤§å¤šæ•°æ•°æ®åº“ç®¡ç†ç³»ç»Ÿéƒ½æ˜¯å…³ç³»å‹çš„ã€‚\nå…³ç³»æ¨¡å‹ æœ¯è¯­ æœ‰å…³å…³ç³»æ¨¡å‹çš„æœ¯è¯­ï¼š\nå…³ç³»ï¼šä¸€ä¸ªå…³ç³»å°±æ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼Œæ¯ä¸ªå…³ç³»æœ‰ä¸€ä¸ªå…³ç³»å\nå…ƒç»„ï¼šè¡¨ä¸­çš„ä¸€è¡Œå³ä¸ºä¸€ä¸ªå…ƒç»„ï¼Œå¯¹åº”å­˜å‚¨æ–‡ä»¶ä¸­çš„ä¸€ä¸ªè®°å½•å€¼ã€‚\nå±æ€§ï¼šè¡¨ä¸­çš„åˆ—ç§°ä¸ºå±æ€§ï¼Œæ¯ä¸€åˆ—æœ‰ä¸€ä¸ªå±æ€§åã€‚\nå±æ€§å€¼ç›¸å½“äºè®°å½•ä¸­çš„æ•°æ®é¡¹æˆ–è€…å­—æ®µå€¼ã€‚\nåŸŸï¼šå±æ€§çš„å–å€¼èŒƒå›´ã€‚\nå…³ç³»æ¨¡å¼ï¼šå¯¹å…³ç³»çš„æè¿°ç§°ä¸ºå…³ç³»æ¨¡å¼ï¼Œç”±å…³ç³»åå’Œå…¶å±æ€§é›†åˆæ„æˆï¼Œå…³ç³»æ¨¡å¼çš„æ ¼å¼ä¸ºï¼šå…³ç³»åï¼ˆå±æ€§å1ï¼Œå±æ€§å2ï¼Œâ€¦ï¼Œå±æ€§ånï¼‰\nå€™é€‰ç ï¼ˆå€™é€‰å¥ï¼‰ï¼šå±æ€§æˆ–å±æ€§ç»„åˆå…¶å€¼èƒ½å¤Ÿå”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªå…ƒç»„ã€‚\nä¸»ç ï¼ˆä¸»é”®ï¼‰ï¼šåœ¨ä¸€ä¸ªå…³ç³»ä¸­å¯èƒ½æœ‰å¤šä¸ªå€™é€‰ç ï¼Œä»ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºä¸»ç ã€‚\nä¸»å±æ€§ï¼šæ‰€æœ‰å€™é€‰é”®éƒ½ç§°ä¸ºä¸»å±æ€§ï¼Œå…¶ä»–çš„å±æ€§éƒ½ç§°ä¸ºéç å±æ€§ã€‚\nå¤–ç ï¼ˆæˆ–å¤–é”®ï¼‰ï¼šå¦‚æœä¸€ä¸ªå…³ç³»ä¸­çš„å±æ€§æˆ–å±æ€§ç»„å¹¶éè¯¥å…³ç³»ï¼ˆäºŒç»´è¡¨ï¼‰çš„ç ï¼Œä½†å®ƒä»¬æ˜¯å¦å¤–ä¸€ä¸ªå…³ç³»ï¼ˆäºŒç»´è¡¨ï¼‰çš„ç ï¼Œåˆ™ç§°å…¶ä¸ºè¯¥å…³ç³»çš„å¤–ç ã€‚\nå…¨ç ï¼šå…³ç³»æ¨¡å¼çš„æ‰€æœ‰å±æ€§ç»„æ˜¯è¿™ä¸ªå…³ç³»æ¨¡å¼çš„å€™é€‰ç ï¼Œç§°ä¸ºå…¨ç ã€‚\nè¶…ç ï¼ˆè¶…é”®ï¼‰ï¼šä¸€ä¸ªåŒ…å«ç çš„å±æ€§é›†ç§°ä¸ºè¶…ç ã€‚\nä¾‹å¦‚å­¦å·æ˜¯ç ï¼Œåˆ™ï¼ˆå­¦å·ï¼Œå§“åï¼‰å°±æ˜¯ä¸€ä¸ªè¶…ç ã€‚\nå®Œæ•´æ€§çº¦æŸ å®Œæ•´æ€§è§„åˆ™ä¿è¯ç”¨æˆ·å¯¹æ•°æ®åº“åšä¿®æ”¹æ—¶ä¸ä¼šç ´åæ•°æ®çš„ä¸€è‡´æ€§ã€‚\nå®ä½“å®Œæ•´æ€§ï¼ˆEntity Integrityï¼Œå¼•ç”¨å®Œæ•´æ€§ï¼‰ï¼šè§„å®šåŸºæœ¬å…³ç³»Rçš„ä¸»å±æ€§Aä¸èƒ½å–ç©ºå€¼ã€‚\nå³ä¸»å±æ€§ä¸èƒ½ä¸ºç©ºã€‚\nå‚ç…§å®Œæ•´æ€§ï¼ˆReferential Integrityï¼‰ï¼šè‹¥Fæ˜¯åŸºæœ¬å…³ç³»Rçš„å¤–ç ï¼Œå®ƒä¸åŸºæœ¬å…³ç³»Sçš„ä¸»ç Ksç›¸å¯¹åº”ï¼ˆåŸºæœ¬å…³ç³»Rå’ŒSä¸ä¸€å®šæ˜¯ä¸åŒçš„å…³ç³»ï¼‰ï¼Œåˆ™å¯¹äºRä¸­æ¯ä¸ªå…ƒç»„åœ¨Fä¸Šçš„å€¼å¯ä»¥å–ï¼š\nç©ºå€¼ï¼ˆFçš„æ¯ä¸ªå±æ€§å€¼å‡ä¸ºç©ºå€¼ï¼‰ï¼› Sä¸­æŸä¸ªå…ƒç»„çš„ä¸»ç å€¼ã€‚ å³å®ä½“ä¹‹é—´çš„å…³è”å¯ä»¥å˜ç°ä¸ºï¼šå…³ç³»Rç”¨å¤–ç Fä¸å…³ç³»Så…³è”ï¼Œå¤–ç Fçš„å€¼å¯ä»¥ä¸ºç©ºä¹Ÿå¯ä»¥ä¸ºå…³ç³»Sä¸­æŸä¸ªå…ƒç»„ï¼ˆè®°å½•ï¼‰çš„ä¸»ç å€¼ã€‚\nç”¨æˆ·å®šä¹‰å®Œæ•´æ€§ï¼ˆUser Defined Integrityï¼‰ï¼šé’ˆå¯¹æŸä¸€å…·ä½“çš„å…³ç³»æ•°æ®åº“çš„çº¦æŸæ¡ä»¶ï¼Œåæ˜ æŸä¸€å…·ä½“åº”ç”¨æ‰€æ¶‰åŠçš„æ•°æ®å¿…é¡»æ»¡è¶³çš„è¯­ä¹‰è¦æ±‚ï¼Œç”±åº”ç”¨çš„ç¯å¢ƒå†³å®šã€‚\nä¾‹å¦‚ï¼Œé“¶è¡Œçš„ç”¨æˆ·è´¦æˆ·è§„å®šå¿…é¡»å¤§äºç­‰äº100000ã€å°äº999999ã€‚\nå…³ç³»ä»£æ•°è¿ç®—ç¬¦ å…³ç³»æ“ä½œçš„ç‰¹ç‚¹æ˜¯æ“ä½œå¯¹è±¡å’Œæ“ä½œç»“æœéƒ½æ˜¯é›†åˆï¼Œè€Œéå…³ç³»æ•°æ®æ¨¡å‹çš„æ•°æ®æ“ä½œæ–¹å¼åˆ™ä¸ºä¸€æ¬¡ä¸€ä¸ªè®°å½•çš„æ–¹å¼ã€‚\nå…³ç³»æ•°æ®è¯­è¨€åˆ†ä¸ºä¸‰ç±»ï¼š\nå…³ç³»ä»£æ•°è¯­è¨€ï¼› å…³ç³»æ¼”ç®—è¯­è¨€ï¼› å…·æœ‰å…³ç³»ä»£æ•°å’Œå…³ç³»æ¼”ç®—åŒé‡ç‰¹ç‚¹çš„è¯­è¨€ã€‚ å…³ç³»æ¼”ç®—è¯­è¨€åŒ…å«ï¼š\nå…ƒç»„å…³ç³»æ¼”ç®—è¯­è¨€ï¼› åŸŸå…³ç³»æ¼”ç®—è¯­è¨€ã€‚ å…³ç³»ä»£æ•°è¿ç®—ç¬¦æœ‰4ç±»ï¼š\nåŸºæœ¬å…³ç³»ä»£æ•°è¿ç®—æ˜¯å¯¹ä¸¤ä¸ªå…·æœ‰ç›¸åŒçš„å…³ç³»æ¨¡å¼çš„å…³ç³»è¿›è¡Œè¿ç®—ã€‚å…³ç³»$R$ä¸$S$å…·æœ‰ç›¸åŒçš„å…³ç³»æ¨¡å¼ï¼Œå³$R$ä¸$S$çš„å…ƒæ•°ç›¸åŒï¼ˆç»“æ„ç›¸åŒï¼‰ã€‚\nåŸºæœ¬å…³ç³»ä»£æ•°è¿ç®—åŒ…å«ï¼š\nå¹¶ï¼ˆUnionï¼‰ï¼šå…³ç³»$R$ä¸$S$çš„å¹¶æ˜¯ç”±å±äº$R$æˆ–å±äº$S$çš„å…ƒç»„æ„æˆçš„é›†åˆï¼Œè®°ä½œ$R \\cup S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\cup S = \\{ t | (t \\in R) \\vee (t \\in S) \\} $$\nå¼ä¸­$t$ä¸ºå…ƒç»„å˜é‡ã€‚\nå·®ï¼ˆDifferenceï¼‰ï¼šå…³ç³»$R$ä¸$S$çš„å·®æ˜¯ç”±å±äº$R$ä½†ä¸å±äº$S$çš„å…ƒç»„æ„æˆçš„é›†åˆï¼Œè®°ä½œ$R-S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R-S = \\{ t| (t \\in R) \\wedge (t \\not\\in S) \\} $$\näº¤ï¼ˆIntersectionï¼‰ï¼šå…³ç³»$R$ä¸$S$çš„äº¤æ˜¯ç”±å±äº$R$åŒæ—¶åˆå±äº$S$çš„å…ƒç»„æ„æˆçš„é›†åˆï¼Œè®°ä½œ$R \\cap S$,å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\cap S = \\{ t| (t \\in R) \\wedge (t \\in S) \\} $$\n$R \\cap S = R-(R-S)$ï¼Œæˆ–è€…$R \\cap S = S-(S-R)$ã€‚\næ‰©å±•çš„å…³ç³»ä»£æ•°è¿ç®—å¯ä»¥ä»åŸºæœ¬çš„å…³ç³»è¿ç®—ä¸­å¯¼å‡ºï¼ŒåŒ…æ‹¬ï¼š\nå¹¿ä¹‰ç¬›å¡å„¿ç§¯ï¼ˆExtended Cartesian Productï¼‰ï¼šä¸¤ä¸ªå…ƒç»„åˆ†åˆ«ä¸º$n$ç›®å’Œ$m$ç›®çš„å…³ç³»$R$å’Œ$S$çš„å¹¿ä¹‰ç¬›å¡å„¿ç§¯æ˜¯ä¸€ä¸ª$(n+m)$åˆ—çš„å…ƒç»„çš„é›†åˆã€‚\nå…ƒç»„çš„å‰$n$åˆ—æ˜¯å…³ç³»$R$çš„ä¸€ä¸ªå…ƒç»„ï¼Œå$m$åˆ—æ˜¯å…³ç³»$S$çš„ä¸€ä¸ªå…ƒç»„ï¼Œè®°ä½œ$R \\times S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\times S = \\{ t| (t \\ = \\ \u0026lt;t^n, t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\} $$\nå¦‚æœ$R$å’Œ$S$ä¸­æœ‰ç›¸åŒçš„å±æ€§åï¼Œå¯åœ¨å±æ€§åå‰åŠ å…³ç³»åä½œä¸ºé™å®šï¼Œä»¥ç¤ºåŒºåˆ«ã€‚è‹¥$R$æœ‰$K_1$,ä¸ªå…ƒç»„ï¼Œ$S$æœ‰$K_2$ä¸ªå…ƒç»„ï¼Œåˆ™$R$å’Œ$S$çš„å¹¿ä¹‰ç¬›å¡å„¿ç§¯æœ‰$K_1 \\times K2$ä¸ªå…ƒç»„ã€‚\n$\u0026lt;t^n, t^m\u0026gt;$æ˜¯ä¸€ä¸ªå…ƒç»„$t^n$å’Œ$t^m$æ‹¼æ¥æˆçš„ä¸€ä¸ªå…ƒç»„ã€‚\næŠ•å½±ï¼ˆProjectionï¼‰ï¼šæŠ•å½±è¿ç®—æ˜¯ä»å…³ç³»çš„å‚ç›´æ–¹å‘è¿›è¡Œè¿ç®—ï¼Œåœ¨å…³ç³»$R$ä¸­é€‰å‡ºè‹¥å¹²å±æ€§åˆ—$A$ç»„æˆæ–°çš„å…³ç³»ï¼Œè®°ä½œ$\\pi_A (R)$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ \\pi_A (R) = \\{ t[A]|t \\in R \\} $$\né€‰æ‹©ï¼ˆSelectionï¼‰ï¼šé€‰æ‹©è¿ç®—æ˜¯ä»å…³ç³»çš„æ°´å¹³æ–¹å‘è¿›è¡Œè¿ç®—ï¼Œæ˜¯ä»å…³ç³»$R$ä¸­é€‰æ‹©æ»¡è¶³ç»™å®šæ¡ä»¶çš„è¯¸å…ƒç»„ï¼Œè®°ä½œ$\\sigma_F (R)$å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ \\sigma_A (R) = \\{ t| (t \\in R) \\wedge F(t) = True \\} $$\nå…¶ä¸­ï¼Œ$F(t)$ä¸­çš„è¿ç®—å¯¹è±¡å¯ä»¥æ˜¯ï¼š\nå±æ€§åï¼ˆæˆ–åˆ—çš„åºå·ï¼‰ï¼› å¸¸æ•°ï¼› è¿ç®—ç¬¦ï¼› ç®—æœ¯æ¯”è¾ƒç¬¦ï¼ˆ$\u0026lt;, \\le, \u0026gt;, \\ge, \\neq$ï¼‰ï¼› é€»è¾‘è¿ç®—ç¬¦ï¼ˆ$\\wedge, \\vee, \\neg$ï¼‰ã€‚ è¿æ¥ï¼ˆJoinï¼‰ï¼šè¿æ¥è¿ç®—æ˜¯ä»ä¸¤ä¸ªå…³ç³»$R$å’Œ$S$çš„ç¬›å¡å„¿ç§¯ä¸­é€‰å–æ»¡è¶³æ¡ä»¶çš„å…ƒç»„ã€‚\nå¯ä»¥è®¤ä¸ºç¬›å¡å„¿ç§¯æ˜¯æ— æ¡ä»¶è¿æ¥ï¼Œå…¶ä»–çš„è¿æ¥æ“ä½œè®¤ä¸ºæ˜¯æœ‰æ¡ä»¶è¿æ¥ã€‚\n$\\theta$è¿æ¥ï¼šä»$R$ä¸$S$çš„ç¬›å¡å„¿ç§¯ä¸­é€‰å–å±æ€§é—´æ»¡è¶³ä¸€å®šæ¡ä»¶çš„å…ƒç»„ã€‚è®°ä½œï¼š\n$$ R \\mathop{\\Join}\\limits_{X \\theta Y} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[X] \\ \\theta \\ t^m[Y]) \\} $$\nå…¶ä¸­ï¼š\n$X \\theta Y$ï¼šè¿æ¥çš„æ¡ä»¶ï¼› $\\theta$ï¼šæ¯”è¾ƒè¿ç®—ç¬¦ï¼› $X$å’Œ$Y$åˆ†åˆ«ä¸º$R$å’Œ$S$ä¸Šåº¦æ•°ç›¸ç­‰ä¸”å¯æ¯”çš„å±æ€§ç»„ï¼› $t^n\\left[ X \\right]$è¡¨ç¤º$R$ä¸­$t^n$å…ƒç»„çš„å¯¹åº”äºå±æ€§$X$çš„ä¸€ä¸ªåˆ†é‡ï¼› $t^m[Y]$è¡¨ç¤º$S$ä¸­$t^m$å…ƒç»„çš„å¯¹åº”äºå±æ€§$Y$çš„ä¸€ä¸ªåˆ†é‡ã€‚ $\\theta$è¿æ¥ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºï¼š\n$$ R \\mathop{\\Join}\\limits_{i \\theta j} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[i] \\ \\theta \\ t^m[j]) \\} $$\nå…¶ä¸­ï¼Œ\n$i=1,2,3,\\cdots,n$ï¼›\n$j=1,2,3,\\cdots,m$ï¼›\n$i \\theta j$ï¼š\nä»ä¸¤ä¸ªå…³ç³»$R$å’Œ$S$ä¸­é€‰å–$R$çš„ç¬¬$i$åˆ—å’Œ$S$çš„ç¬¬$j$åˆ—ä¹‹é—´æ»¡è¶³$\\theta$è¿ç®—çš„å…ƒç»„è¿›è¡Œè¿æ¥ã€‚\n$\\theta$è¿æ¥å¯ä»¥ç”±åŸºæœ¬çš„å…³ç³»è¿ç®—ç¬›å¡å„¿ç§¯å’Œé€‰å–è¿ç®—å¯¼å‡ºã€‚å› æ­¤ï¼Œ$\\theta$è¿æ¥å¯è¡¨ç¤ºä¸ºï¼š\n$$ R \\mathop{\\Join}\\limits_{X \\theta Y} S = \\sigma_{X \\theta Y}(R \\times S) $$\næˆ–ï¼š\n$$ R \\mathop{\\Join}\\limits_{i \\theta j} S = \\sigma_{i \\theta j}(R \\times S) $$\nç­‰å€¼è¿æ¥ï¼šå½“$\\theta$ä¸ºâ€œ=â€æ—¶ï¼Œç§°ä¹‹ä¸ºç­‰å€¼è¿æ¥ï¼Œè®°ä¸º$R \\mathop{\\Join}\\limits_{i = j} S$ï¼Œå…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\mathop{\\Join}\\limits_{i = j} S = \\{ t| (t=\u0026lt;t^n,t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (t^n[i] = t^m[j]) \\} $$\n$F$è¿æ¥ï¼šä»å…³ç³»$R$å’Œ$S$çš„ç¬›å¡å°”ç§¯ä¸­é€‰å–å±æ€§å€¼æ»¡è¶³æŸä¸€å…¬å¼$F$çš„å…ƒç»„ï¼Œè®°ä¸º$\\mathop{\\Join}\\limits_{F}$ã€‚\n$F$æ˜¯å½¢ä¸º$F_1 \\wedge F_2 \\wedge \\cdots \\wedge F_n$çš„å…¬å¼ï¼Œæ¯ä¸ª$F_p$æ˜¯å½¢ä¸º$i \\theta j$çš„å¼å­ã€‚\nè‡ªç„¶è¿æ¥ï¼šè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥ï¼Œå®ƒè¦æ±‚ä¸¤ä¸ªå…³ç³»ä¸­è¿›è¡Œæ¯”è¾ƒçš„åˆ†é‡å¿…é¡»æ˜¯ç›¸åŒçš„å±æ€§ç»„ï¼Œå¹¶ä¸”åœ¨ç»“æœé›†ä¸­å°†é‡å¤å±æ€§åˆ—å»æ‰ã€‚\nè‹¥ï¼š\n$t^n \\in R$ï¼Œ$t^m \\in S$ï¼›\n$R$å’Œ$S$å…·æœ‰ç›¸åŒçš„å±æ€§ç»„$B$ï¼Œä¸”$B=(B_1,B_2,,B_k)$ï¼›\nå‡å®š$R$å…³ç³»çš„å±æ€§ï¼š\n$$ A_1,A_2,\\cdots,A_{n-k},B_1,B_2,\\cdots,B_k $$\n$S$å…³ç³»çš„å±æ€§ï¼š\n$$ B_1,B2,\\cdots,B_k,B_{k+1},B_{k+2},\\cdots,B_m $$\nè‡ªç„¶è¿æ¥å¯ä»¥è®°ä¸º$R \\Join S$,å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\Join S = \\{ t| (t = \u0026lt;t^n, t^m\u0026gt;) \\wedge (t^n \\in R) \\wedge (t^m \\in S) \\wedge (R.B_1 = S.B_1) \\wedge (R.B_2 = S.B_2) \\wedge \\cdots \\wedge (R.B_k = S.B_k) \\} $$\nä¸€èˆ¬è¿æ¥æ˜¯ä»å…³ç³»çš„æ°´å¹³æ–¹å‘è¿ç®—ï¼Œè€Œè‡ªç„¶è¿æ¥ä¸ä»…è¦ä»å…³ç³»çš„æ°´å¹³æ–¹å‘è¿ç®—ï¼Œè€Œä¸”è¦ä»å…³ç³»çš„å‚ç›´æ–¹å‘è¿ç®—ï¼ˆå»æ‰é‡å¤å±æ€§ï¼‰ã€‚\nå¤–è¿æ¥ï¼ˆOuter Jionï¼‰ï¼šå¤–è¿æ¥è¿ç®—æ˜¯è¿æ¥è¿ç®—çš„æ‰©å±•ï¼Œå¯ä»¥å¤„ç†ç”±äºè¿æ¥è¿ç®—è€Œç¼ºå¤±çš„ä¿¡æ¯ã€‚\nå¤–è¿æ¥è¿ç®—æœ‰3ç§ï¼š\nå·¦å¤–è¿æ¥ï¼ˆLeft Outer Jionï¼ŒâŸ•ï¼‰ï¼šå–å‡ºå·¦ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å³ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œç”¨ç©ºå€¼$null$å……å¡«æ‰€æœ‰æ¥è‡ªå³ä¾§å…³ç³»çš„å±æ€§ï¼Œæ„æˆæ–°çš„å…ƒç»„ï¼Œå°†å…¶åŠ å…¥è‡ªç„¶è¿æ¥çš„ç»“æœä¸­ã€‚\nå³å¤–è¿æ¥ï¼ˆRight Outer Jionï¼ŒâŸ–ï¼‰ï¼šå–å‡ºå³ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å·¦ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œç”¨ç©ºå€¼$null$å¡«å……æ‰€æœ‰æ¥è‡ªå·¦ä¾§å…³ç³»çš„å±æ€§ï¼Œæ„æˆæ–°çš„å…ƒç»„ï¼Œå°†å…¶åŠ å…¥è‡ªç„¶è¿æ¥çš„ç»“æœä¸­ã€‚\nå…¨å¤–è¿æ¥ï¼ˆFull Outer Jionï¼ŒâŸ—ï¼‰ã€‚å®Œæˆå·¦å¤–è¿æ¥å’Œå³å¤–è¿æ¥çš„æ“ä½œã€‚å³å¡«å……å·¦ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å³ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œå¹¶å¡«å……å³ä¾§å…³ç³»ä¸­æ‰€æœ‰ä¸å·¦ä¾§å…³ç³»ä¸­ä»»ä¸€å…ƒç»„éƒ½ä¸åŒ¹é…çš„å…ƒç»„ï¼Œå°†äº§ç”Ÿçš„æ–°å…ƒç»„åŠ å…¥è‡ªç„¶è¿æ¥çš„ç»“æœä¸­ã€‚\né™¤ï¼ˆDivisionï¼‰ï¼šç»™å®šå…³ç³»$R(X,Y)$å’Œ$S(Y,Z)$ï¼Œ$Xã€Yã€Z$ä¸ºå±æ€§ç»„ã€‚$R \\div S$åº”å½“æ»¡è¶³å…ƒç»„åœ¨$X$ä¸Šçš„åˆ†é‡å€¼$x$çš„è±¡é›†$Y_x$åŒ…å«å…³ç³»$S$åœ¨å±æ€§ç»„$Y$ä¸ŠæŠ•å½±çš„é›†åˆã€‚å…¶å½¢å¼å®šä¹‰å¦‚ä¸‹ï¼š\n$$ R \\div S = \\{ t^n[X] | (t^n \\in R) \\wedge (\\pi_y (S) \\subseteq Y_x) \\} $$\nå…¶ä¸­ï¼Œ$Y_x$ä¸º$x$åœ¨$R$ä¸­çš„è±¡é›†ï¼Œ$x=t^n[X]$ï¼Œä¸”$R \\div S$çš„ç»“æœé›†çš„å±æ€§ç»„ä¸º$X$ã€‚\né™¤è¿ç®—æ˜¯åŒæ—¶ä»å…³ç³»çš„æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘è¿›è¡Œè¿ç®—ã€‚\nSQL è¯­å¥ SQLï¼ˆStructured Query Languageï¼Œå‘éŸ³ä¸º sequalï¼‰æ˜¯ä¸€ç§ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“æ²Ÿé€šçš„è¯­è¨€ã€‚é€šè¿‡ SQLï¼Œç”¨æˆ·å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œå„ç§æ“ä½œã€‚\næ ‡å‡† SQL ç”± ANSI æ ‡å‡†å§”å‘˜ä¼šç®¡ç†ï¼Œä»è€Œç§°ä¸º ANSISQLã€‚\næŸ¥çœ‹æ›´å¤š SQLè¯­å¥ ç›¸å…³å†…å®¹ã€‚\nåˆ†ç±» DDLï¼ˆData Definition Languageï¼Œæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼šæ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰ã€‚\nå…³é”®å­—ï¼šCREATEã€DROPã€ALTER ç­‰ã€‚\nDMLï¼ˆData Manipulation Languageï¼Œæ•°æ®æ“ä½œè¯­è¨€ï¼‰ï¼šç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹ã€‚\nå…³é”®å­—ï¼šINSERTã€DELETEã€UPDATE ç­‰ã€‚\nDQLï¼ˆData Query Languageï¼Œæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰ï¼šç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•ã€‚\nå…³é”®å­—ï¼šSELECTç­‰ã€‚\nDCLï¼ˆData Control Languageï¼Œæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼ŒåŠåˆ›å»ºç”¨æˆ·ã€‚\næ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ CREATEâ€”â€”åˆ›å»ºï¼š\nå»ºç«‹æ•°æ®åº“ï¼š\nCREATE DATABASE æ•°æ®åº“å; å»ºç«‹åŸºæœ¬è¡¨ï¼š\nCREATE TABLE tab_name ( åˆ—å æ•°æ®ç±»å‹ [åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶], ... è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶, ... ); å®Œæ•´æ€§çº¦æŸæœ‰3ç§å­å¥ï¼š\nPRIMARY KEYï¼šä¸»é”®çº¦æŸï¼› CHECKï¼šæ£€æŸ¥çº¦æŸï¼› FOREIGN KEYï¼šå¤–é”®çº¦æŸï¼› NOT NULLï¼šéç©ºçº¦æŸï¼› UNIQUEï¼šå”¯ä¸€çº¦æŸï¼› DEFAULTï¼šé»˜è®¤çº¦æŸã€‚ å®šä¹‰åˆ—æ—¶ä½¿ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š\nNTEGERï¼šæ•´æ•°ï¼ˆä¹Ÿå¯å†™æˆINTï¼‰ã€‚ FLOAT(n)ï¼šæµ®ç‚¹æ•°ï¼Œç²¾åº¦è‡³å°‘ä¸ºnä½æ•°å­—ã€‚ NUMERIC(p,d)ï¼šå®šç‚¹æ•°ï¼Œç”±pä½æ•°å­—ï¼ˆä¸åŒ…æ‹¬ç¬¦å·ã€å°æ•°ç‚¹ï¼‰ç»„æˆï¼Œå°æ•°ç‚¹åé¢æœ‰dä½æ•°å­—ï¼ˆä¹Ÿå¯å†™æˆDECIMAL(p,d)æˆ–DEC(p,d)ï¼‰ã€‚ CHAR(n)ï¼šé•¿åº¦ä¸ºnçš„å®šé•¿å­—ç¬¦ä¸²ã€‚ DATETIMEï¼šæ—¥æœŸæ—¶é—´å‹ã€‚ ALTER TABLEâ€”â€”ä¿®æ”¹è¡¨ç»“æ„ï¼š\nå¢åŠ æ–°åˆ—ï¼š\nALTER TABLE è¡¨å ADD åˆ—å ç±»å‹ ä¿®æ”¹åˆ—çš„å®šä¹‰ï¼š\nALTER TABLE è¡¨å ALTER COLUMN åˆ—å æ–°ç±»å‹ åˆ é™¤åˆ—ï¼š\nALTER TABLE è¡¨å DROP COLUMN åˆ—å DROP TABLEâ€”â€”åˆ é™¤åŸºæœ¬è¡¨ï¼š\nDROP TABLE è¡¨å æ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ INSERT INTOâ€”â€”æ’å…¥ï¼š\nç›´æ¥æ’å…¥å…ƒç»„å€¼ï¼š\nINSERT INTO è¡¨åï¼ˆåˆ—ååºåˆ—ï¼‰VALUES (å…ƒç»„å€¼) æˆ–è€…ï¼š\nINSERT INTO è¡¨å (åˆ—å åºåˆ—) (TABLE (å…ƒç»„å€¼), (å…ƒç»„å€¼), ...) æ’å…¥ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœå€¼ï¼š\nINSERT INTO è¡¨å (åˆ—ååºåˆ—) SELECT æŸ¥è¯¢è¯­å¥ DELETE FROMâ€”â€”åˆ é™¤ï¼š\nDELETE FROM è¡¨å [WHERE æ¡ä»¶è¡¨è¾¾å¼] UPDATEâ€”â€”ä¿®æ”¹ï¼š\nUPDATE è¡¨å SET åˆ—å=å€¼è¡¨è¾¾å¼[, åˆ—å=å€¼è¡¨è¾¾å¼...] [WHEREæ¡ä»¶è¡¨è¾¾å¼] æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆDQLï¼‰ SELECTâ€”â€”æŸ¥è¯¢ï¼š\nSELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— [WHERE è¡Œæ¡ä»¶è¡¨è¾¾å¼] [GROUP BY åˆ—ååºåˆ— [HAVING ç»„æ¡ä»¶è¡¨è¾¾å¼]] [ORDER BY åˆ—å[ASC|DESC]...] WHERE æ¡ä»¶æŸ¥è¯¢ SELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— WHERE è¡Œæ¡ä»¶è¡¨è¾¾å¼ è¿ç®—ç¬¦ï¼š\nè¿ç®—ç¬¦ è¯´æ˜ è¿ç®—ç¬¦ è¯´æ˜ = ç­‰äº \u0026gt; å¤§äº \u0026lt;\u0026gt; æˆ– != ä¸ç­‰äº \u0026gt;= å¤§äºç­‰äº \u0026lt; å°äº !\u0026gt; ä¸å¤§äº \u0026lt;= å°äºç­‰äº BETWEEN èŒƒå›´åœ¨æŒ‡å®šçš„ä¸¤ä¸ªå€¼ä¹‹é—´ !\u0026lt; ä¸å°äº IS NULL ä¸º NULL çš„å€¼ IS NOT NULL ä¸ä¸º NULL çš„å€¼ AND é€»è¾‘ä¸ OR é€»è¾‘æˆ– NOTé€»è¾‘é IN åŒ¹é…åŒ…å«åœ¨é›†åˆä¸­çš„å€¼ NOT IN æŒ‡å®šä¸åŒ…å«åœ¨é›†åˆä¸­çš„å€¼ LIKE å­—ç¬¦æ¨¡ç³Šé…å¯¹ LIKEå­—ç¬¦æ¨¡ç³Šé…å¯¹åŒ…å«ä»¥ä¸‹é€šé…ç¬¦ï¼š\nSELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— WHRER åˆ—å LIKE \u0026#39;_ABC%\u0026#39;; %ï¼šè¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°ã€‚ _ï¼šè¡¨ç¤ºåŒ¹é…å•ä¸ªä»»æ„å­—ç¬¦ã€‚ ORDER BY æ’åºæ•°æ® ORDER BYå¯ä»¥æŒ‡å®šå¤šä¸ªåˆ—æ¥æ’åºï¼Œæ’åºè§„åˆ™æœ‰ï¼š\nå…³é”®å­— è§„åˆ™è¯´æ˜ ASC å‡åºæ’åº DESC é™åºæ’åº SELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— [...] [ORDER BY åˆ—å [ASC|DESC] ...] ORDER BYå­å¥å¿…é¡»æ˜¯SELECTå‘½ä»¤ä¸­çš„æœ€åä¸€ä¸ªå­å¥ã€‚\nGROUP BY åˆ†ç»„æ•°æ® SELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— [GROUP BY åˆ—ååºåˆ— [HAVING ç»„æ¡ä»¶è¡¨è¾¾å¼]] HAVINGæ˜¯GROUP BYçš„åˆ†ç»„æ¡ä»¶æ§åˆ¶è¯­å¥ã€‚ HAVINGçš„æ“ä½œç¬¦å’ŒWHEREç›¸åŒã€‚ è¢«WHEREè¿‡æ»¤æ‰çš„è®°å½•å¹¶ä¸ä¼šå‡ºç°åœ¨åˆ†ç»„ä¸­ã€‚ èšåˆå‡½æ•° èšåˆå‡½æ•°å®ç°æ•°æ®ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚\nå‡½æ•°å|åŠŸèƒ½ AVG|è®¡ç®—ä¸€ä¸ªæ•°å€¼å‹è¡¨è¾¾å¼çš„å¹³å‡å€¼ COUNT|è®¡ç®—æŒ‡å®šè¡¨è¾¾å¼ä¸­é€‰æ‹©çš„é¡¹æ•°ï¼ŒCOUNT(*)ç»Ÿè®¡æŸ¥è¯¢è¾“å‡ºçš„è¡Œæ•° MIN|è®¡ç®—æŒ‡å®šè¡¨è¾¾å¼ä¸­çš„æœ€å°å€¼ MAX|è®¡ç®—æŒ‡å®šè¡¨è¾¾å¼ä¸­çš„æœ€å¤§å€¼ SUM|è®¡ç®—æŒ‡å®šè¡¨è¾¾å¼ä¸­çš„æ•°å€¼æ€»å’Œ STDEV|è®¡ç®—æŒ‡å®šè¡¨è¾¾å¼ä¸­æ‰€æœ‰æ•°æ®çš„æ ‡å‡†å·® STDEVP|è®¡ç®—æ€»ä½“æ ‡å‡†å·®\nSELECT ç›®æ ‡è¡¨çš„åˆ—åæˆ–åˆ—è¡¨è¾¾å¼åºåˆ— FROM å…³ç³»åè¡¨åºåˆ— WHERE ä½¿ç”¨äº†èšåˆå‡½æ•°çš„æ¡ä»¶åˆ¤æ–­ [ ... ] æˆ–ï¼š\nSELECT èšåˆå‡½æ•° FROM å…³ç³»åè¡¨åºåˆ— èšåˆå‡½æ•°å¯ä»¥ä½¿ç”¨ç®—æ•°è¿ç®—ç¬¦ã€‚\nèšåˆå‡½æ•°å¸¸ä¸GROUP BYå­å¥ä¸€èµ·ä½¿ç”¨ã€‚\nè¿æ¥ è¿æ¥ç¬¦å· è¯´æ˜ INNER JOIN å†…è¿æ¥ï¼ˆé»˜è®¤ï¼‰ã€‚\nå†…è¿æ¥åˆåŒ…æ‹¬ç­‰å€¼è¿æ¥ã€éç­‰å€¼è¿æ¥å’Œè‡ªè¿æ¥ã€‚ OUTER JOIN å¤–è¿æ¥ã€‚\nåˆåŒ…æ‹¬ï¼š\nLEFT OUTER JOINï¼ˆå·¦å¤–è¿æ¥ï¼‰ï¼›\nRIGHT OUTER JOINï¼ˆå³å¤–è¿æ¥ï¼‰ï¼›\nFULL OUTER JOINï¼ˆå…¨å¤–è¿æ¥ï¼‰ å­æŸ¥è¯¢ å­æŸ¥è¯¢æ˜¯æŒ‡å°†SELECTä½œä¸ºå…¶å®ƒè¯­å¥çš„å­å¥ä½¿ç”¨ã€‚ä¾‹å¦‚åœ¨WHEREã€FROMä¸­ä½¿ç”¨SELECTã€‚\næ•°æ®æ§åˆ¶è¯­è¨€ï¼ˆDCLï¼‰ æ•°æ®æ§åˆ¶æ§åˆ¶çš„æ˜¯ç”¨æˆ·å¯¹æ•°æ®çš„å­˜å‚¨è®¿é—®æƒåŠ›ï¼Œæ˜¯ç”±DBAå†³å®šçš„ã€‚ä½†æ˜¯ï¼ŒæŸä¸ªç”¨æˆ·å¯¹æŸç±»æ•°æ®å…·æœ‰ä½•ç§æƒåˆ©ï¼Œæ˜¯ä¸ªæ”¿ç­–é—®é¢˜è€Œä¸æ˜¯æŠ€æœ¯é—®é¢˜ã€‚\næˆæƒè¯­å¥æ ¼å¼ï¼ˆGRANTï¼‰ï¼š\nGRANT \u0026lt;æƒé™\u0026gt;[, \u0026lt;æƒé™\u0026gt;] ... [ON \u0026lt;å¯¹è±¡ç±»å‹\u0026gt; \u0026lt;å¯¹è±¡å\u0026gt;] TO\u0026lt;ç”¨æˆ·\u0026gt;[, \u0026lt;ç”¨æˆ·\u0026gt;]... [WITH GRANT OPTION]; ä¸åŒç±»å‹çš„æ“ä½œå¯¹è±¡æœ‰ä¸åŒçš„æ“ä½œæƒé™ï¼Œå¸¸è§çš„æ“ä½œæƒé™å¦‚ä¸‹ï¼š\nå¯¹è±¡ å¯¹è±¡ç±»å‹ æ“ä½œæƒé™ å±æ€§åˆ— TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALL PRIVILEGES è§†å›¾ TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALL PRIVILEGES åŸºæœ¬è¡¨ TABLE SELECTã€\nINSERTã€\nUPDATEã€\nDELETEã€\nALTERã€\nINDEXã€\nALL PRIVILEGES æ•°æ®åº“ DATABASE CREATETAB å»ºç«‹è¡¨çš„æƒé™ï¼Œå¯ç”±DBAæˆäºˆæ™®é€šç”¨æˆ·ï¼› WITH GRANT OPTIONï¼šè¡¨ç¤ºè·å¾—äº†è¿™äº›æƒé™çš„ç”¨æˆ·è¿˜å¯ä»¥å°†æƒé™èµ‹ç»™å…¶ä»–ç”¨æˆ·ã€‚ æ”¶å›æƒé™è¯­å¥æ ¼å¼ï¼ˆREVOKEï¼‰ï¼š\nREVOKE \u0026lt;æƒé™\u0026gt;[, \u0026lt;æƒé™\u0026gt;]... [ON \u0026lt;å¯¹è±¡ç±»å‹\u0026gt; \u0026lt;å¯¹è±¡å\u0026gt;] FROM \u0026lt;ç”¨æˆ·\u0026gt;[, \u0026lt;ç”¨æˆ·\u0026gt;]; è§†å›¾ è§†å›¾æ˜¯ä»ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŸºæœ¬è¡¨æˆ–è§†å›¾ä¸­å¯¼å‡ºçš„è™šæ‹Ÿè¡¨ã€‚\nåˆ›å»ºè§†å›¾ï¼š\nCREATE VIEW è§†å›¾å (åˆ—è¡¨å) AS SELECT æŸ¥è¯¢å­å¥ [WITH CHECK OPTION]; å­æŸ¥è¯¢å¯ä»¥æ˜¯ä»»æ„å¤æ‚çš„SELECTè¯­å¥ï¼Œä½†é€šå¸¸ä¸å…è®¸å«æœ‰ORDER BYå­å¥å’ŒDISTINCTçŸ­è¯­ã€‚ WITH CHECK OPTIONï¼šè¡¨ç¤ºå¯¹UPDATEã€INSERTã€DELETEæ“ä½œæ—¶ä¿è¯æ›´æ–°ã€æ’å…¥æˆ–åˆ é™¤çš„è¡Œæ»¡è¶³è§†å›¾å®šä¹‰ä¸­çš„è°“è¯æ¡ä»¶ï¼ˆå³å­æŸ¥è¯¢ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼ï¼‰ã€‚ ç»„æˆè§†å›¾çš„å±æ€§åˆ—åæˆ–è€…å…¨éƒ¨çœç•¥æˆ–è€…å…¨éƒ¨æŒ‡å®šã€‚å¦‚æœçœç•¥å±æ€§åˆ—åï¼Œåˆ™éšå«è¯¥è§†å›¾ç”±SELECTå­æŸ¥è¯¢ç›®æ ‡åˆ—çš„ä¸»å±æ€§ç»„æˆã€‚ å¯¹è§†å›¾è¿›è¡Œçš„å¢æ”¹æ“ä½œå®é™…ä¸Šæ˜¯å¯¹åŸºæœ¬è¡¨è¿›è¡Œæ“ä½œã€‚ åˆ é™¤è§†å›¾ï¼š\nDROP VIEW è§†å›¾å; ç´¢å¼• æ•°æ®åº“ä¸­çš„ç´¢å¼•æ˜¯æŸä¸ªè¡¨ä¸­ä¸€åˆ—æˆ–è€…è‹¥å¹²åˆ—å€¼çš„é›†åˆå’Œç›¸åº”çš„æŒ‡å‘è¡¨ä¸­ç‰©ç†æ ‡è¯†è¿™äº›å€¼çš„æ•°æ®é¡µçš„é€»è¾‘æŒ‡é’ˆæ¸…å•ã€‚\nç´¢å¼•åˆ†ä¸ºï¼š\nèšé›†ç´¢å¼•ï¼šæŒ‡ç´¢å¼•è¡¨ä¸­ç´¢å¼•é¡¹çš„é¡ºåºä¸è¡¨ä¸­è®°å½•çš„ç‰©ç†é¡ºåºä¸€è‡´çš„ç´¢å¼•ï¼› éèšé›†ç´¢å¼•ã€‚ å¯¹æ•°æ®åº“è¡¨åˆ›å»ºå’Œåˆ é™¤ç´¢å¼•ï¼Œä¿®æ”¹çš„æ˜¯æ•°æ®åº“çš„å†…æ¨¡å¼ã€‚\nå…³ç³»æ•°æ®åº“çš„è§„èŒƒåŒ– å…³ç³»æ¨¡å¼ ä¸€ä¸ªå…³ç³»æ¨¡å¼åº”å½“æ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼ˆå«å…³ç³»åï¼‰ï¼š$R\u0026lt;U,D,dom,F\u0026gt;$ã€‚\nå…¶ä¸­ï¼š\n$R$ï¼šå…³ç³»åï¼Œæ˜¯ç¬¦å·åŒ–çš„å…ƒç¥–è¯­ä¹‰ï¼› $U$ï¼šä¸€ç»„å±æ€§åï¼› $D$ï¼šå±æ€§ç»„$U$ä¸­çš„å±æ€§æ¥è‡ªåŸŸ$D$ï¼› $dom$ï¼šå±æ€§åˆ°åŸŸçš„æ˜ å°„ï¼› $F$ï¼šå±æ€§ç»„$U$ä¸Šçš„ä¸€ç»„æ•°æ®ä¾èµ–ï¼ˆå‡½æ•°ä¾èµ–ï¼‰ã€‚ $D$å’Œ$dom$å¯¹æ¨¡å¼è®¾è®¡å…³ç³»ä¸å¤§ï¼Œé€šå¸¸å°†å…³ç³»æ¨¡å¼çœ‹ä½œæ˜¯ä¸€ä¸ªä¸‰å…ƒç»„ï¼š$R\u0026lt;U,F\u0026gt;$ã€‚\nå½“ä¸”ä»…å½“$U$ä¸Šçš„ä¸€ä¸ªå…³ç³»$r$æ»¡è¶³$F$æ—¶ï¼Œç§°$r$ä¸ºå…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$çš„ä¸€ä¸ªå…³ç³»ã€‚\nå‡½æ•°ä¾èµ– æ•°æ®ä¾èµ–æ˜¯é€šè¿‡ä¸€ä¸ªå…³ç³»ä¸­å±æ€§é—´å€¼çš„ç›¸ç­‰ä¸å¦ä½“ç°å‡ºæ¥çš„æ•°æ®é—´çš„ç›¸äº’å…³ç³»ã€‚\nå‡½æ•°ä¾èµ–ï¼šè®¾$R(U)$æ˜¯å±æ€§é›†Uä¸Šçš„å…³ç³»æ¨¡å¼ï¼Œ$X$ã€$Y$æ˜¯$U$çš„å­é›†ã€‚è‹¥å¯¹$R(U)$çš„ä»»ä½•ä¸€ä¸ªå¯èƒ½çš„å…³ç³»$r$ï¼Œ$r$ä¸­ä¸å¯èƒ½å­˜åœ¨ä¸¤ä¸ªå…ƒç»„åœ¨$X$ä¸Šçš„å±æ€§å€¼ç›¸ç­‰ï¼Œè€Œåœ¨$Y$ä¸Šçš„å±æ€§å€¼ä¸ç­‰ï¼ˆå³ï¼Œåœ¨å…³ç³»$r$ä¸­ï¼Œå…ƒç»„åœ¨$X$ä¸Šçš„å±æ€§å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆåœ¨$Y$ä¸Šçš„å±æ€§å€¼ä¹Ÿç›¸ç­‰ï¼‰ï¼Œåˆ™ç§°Xå‡½æ•°å†³å®šYæˆ–Yå‡½æ•°ä¾èµ–äºXï¼Œè®°ä½œ$X \\rightarrow Y$ã€‚\nå¦‚ï¼Œå­¦ç”Ÿè¡¨ä¸­ï¼Œ$å­¦å· \\rightarrow å§“å$ã€‚\nå±æ€§ä¹‹é—´æœ‰3ç§å…³ç³»ï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸€ç§éƒ½å­˜åœ¨å‡½æ•°ä¾èµ–ã€‚å¦‚æœ$X$å’Œ$Y$ä¹‹é—´çš„å¯¹åº”å…³ç³»æ˜¯ï¼š\n$1-1$ï¼šå­˜åœ¨å‡½æ•°ä¾èµ–$X \\rightarrow Y$å’Œ$Y \\rightarrow Y$ï¼› $n:1$ï¼šå­˜åœ¨å‡½æ•°ä¾èµ–$X \\rightarrow Y$ï¼› $n:m$ï¼šä¸å­˜åœ¨å‡½æ•°ä¾èµ–ã€‚ éå¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼š$X \\rightarrow Y$ï¼Œä½†$Y \\not\\subseteq X$ï¼Œåˆ™ç§°$X \\rightarrow Y$æ˜¯éå¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚\nä¾‹å¦‚ï¼Œ$å§“å \\not\\subseteq å­¦å·$ï¼Œåˆ™$å­¦å· \\rightarrow å§“å$æ˜¯ä¸€ä¸ªéå¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚\nå¹³å‡¡çš„å‡½æ•°ä¾èµ–ï¼šå¦‚æœ$X \\rightarrow Y$ï¼Œä½†$Y \\subseteq X$ï¼Œåˆ™ç§°$X \\rightarrow Y$æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚\nä¾‹å¦‚ï¼Œ$å­¦å· \\subset (å­¦å·,è¯¾ç¨‹å·)$ï¼Œåˆ™$(å­¦å·,è¯¾ç¨‹å·) \\rightarrow å­¦å·$æ˜¯ä¸€ä¸ªå¹³å‡¡çš„å‡½æ•°ä¾èµ–ã€‚\nå®Œå…¨å‡½æ•°ä¾èµ–ï¼šåœ¨R(U)ä¸­ï¼Œå¦‚æœ$X \\rightarrow Y$ï¼Œå¹¶ä¸”å¯¹äºXçš„ä»»ä½•ä¸€ä¸ªçœŸå­é›†$X\u0026rsquo;$éƒ½æœ‰**$X\u0026rsquo;$ä¸èƒ½å†³å®š$Y$**ï¼Œåˆ™ç§°$Y$å¯¹$X$å®Œå…¨å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{f}{\\longrightarrow} Y$ã€‚\nå³éœ€è¦ç”±$X$çš„æ‰€æœ‰å±æ€§æ‰èƒ½å†³å®š$Y$çš„ï¼Œæ‰èƒ½ç§°ä¸ºå®Œå…¨å‡½æ•°ä¾èµ–ã€‚\nå¦‚ï¼Œ$(å­¦å·,è¯¾ç¨‹å·) \\rightarrow æˆç»©$ã€‚\nå¦‚æœ$X$ä»…åŒ…å«ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆæ­¤æ—¶å¿…ä¸ºå®Œå…¨å‡½æ•°ä¾èµ–ã€‚\néƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼šå¦‚æœ$X \\rightarrow Y$ï¼Œä½†Yä¸å®Œå…¨å‡½æ•°ä¾èµ–äºXï¼Œåˆ™ç§°Yå¯¹Xéƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{P}{\\longrightarrow} Y$ã€‚éƒ¨åˆ†å‡½æ•°ä¾èµ–ä¹Ÿç§°ä¸ºå±€éƒ¨å‡½æ•°ä¾èµ–ã€‚\nå¦‚ï¼Œï¼ˆå­¦å·ï¼Œç­çº§ä»£å·ï¼‰ $\\rightarrow$ å§“åï¼Œå› ä¸ºå­¦å· $\\rightarrow$ å§“åï¼Œæ‰€ä»¥ï¼ˆå­¦å·ï¼Œç­çº§ä»£å·ï¼‰ $\\stackrel{P}{\\longrightarrow}$ å§“åã€‚\nä¼ é€’ä¾èµ–ï¼šåœ¨$R(U,F)$ä¸­ï¼ˆFæ˜¯Uä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–ï¼‰ï¼Œå¦‚æœ$X \\rightarrow Y,\\ Y \\not\\subseteq X,\\ Y \\rightarrow Z$ï¼Œåˆ™ç§°Zå¯¹Xä¼ é€’ä¾èµ–ï¼ˆ$X \\rightarrow Z$ï¼‰ã€‚\nå³$X \\stackrel{f}{\\longrightarrow} Y$ï¼Œä¸”$Y \\rightarrow Z$ï¼Œåˆ™$X \\rightarrow Z$ã€‚\nç ï¼šè®¾$K$ä¸º$R(U,F)$ä¸­å±æ€§çš„ç»„åˆï¼Œè‹¥$K \\rightarrow U$ï¼Œä¸”å¯¹äº$K$çš„ä»»ä½•ä¸€ä¸ªçœŸå­é›†$K\u0026rsquo;$éƒ½æœ‰$K\u0026rsquo;$ä¸èƒ½å†³å®š$U$ï¼Œåˆ™$K$ä¸º$R$çš„å€™é€‰ç ã€‚\nå³$K \\stackrel{f}{\\rightarrow} U$ï¼Œé‚£ä¹ˆKæ˜¯Rçš„å€™é€‰ç ã€‚\nè‹¥æœ‰å¤šä¸ªå€™é€‰ç ï¼Œåˆ™é€‰ä¸€ä¸ªä½œä¸ºä¸»ç ï¼ˆä¸»é”®ï¼Œä¸»å…³é”®å­—ï¼‰ã€‚å€™é€‰ç é€šå¸¸ä¹Ÿç§°ä¸ºå€™é€‰å…³é”®å­—ï¼ˆå€™é€‰é”®ï¼Œé”®ï¼‰ã€‚\nä¸»å±æ€§å’Œéä¸»å±æ€§ï¼šåŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ç§°ä¸ºä¸»å±æ€§ï¼Œå¦åˆ™ç§°ä¸ºéä¸»å±æ€§ã€‚\nå¤–ç ï¼šè‹¥$R(U)$ä¸­çš„å±æ€§æˆ–å±æ€§ç»„$X$é$R$çš„ç ï¼Œä½†$X$æ˜¯å¦ä¸€ä¸ªå…³ç³»çš„ç ï¼Œåˆ™ç§°$X$ä¸ºå¤–ç ã€‚\nå‡½æ•°ä¾èµ–çš„å…¬ç†ç³»ç»Ÿï¼ˆArmstrongå…¬ç†ç³»ç»Ÿï¼‰ï¼š\nè®¾å…³ç³»æ¨¡å¼$R(U,F)$ï¼Œå…¶ä¸­$U$ä¸ºå±æ€§é›†ï¼Œ$Fæ˜¯$U$ä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–ï¼Œé‚£ä¹ˆæœ‰ä»¥ä¸‹æ¨ç†è§„åˆ™ï¼š\nè‡ªåå¾‹ï¼ˆA1ï¼‰ï¼šè‹¥$Y \\subseteq X \\subseteq U$ï¼Œåˆ™$X \\rightarrow Y$ä¸º$F$æ‰€è•´æ¶µï¼ˆè•´å«ï¼‰ã€‚\nå¦‚ï¼Œï¼ˆå­¦å·ï¼Œå§“åï¼‰ $\\rightarrow$ å§“åæ˜¯å‡½æ•°ä¾èµ–æ‰€è•´æ¶µçš„ã€‚\nå¢å¹¿å¾‹ï¼ˆA2ï¼‰ï¼šè‹¥$X \\rightarrow Y$ä¸ºFæ‰€è•´æ¶µï¼Œä¸”$Z \\subseteq U$,åˆ™$XZ \\rightarrow YZ$ä¸º$F$æ‰€è•´æ¶µã€‚\nå¦‚ï¼Œå­¦å· $\\rightarrow$ å§“åï¼Œç­çº§ $\\subseteq$ å­¦ç”Ÿè¡¨ï¼Œé‚£ä¹ˆï¼ˆå­¦å·ï¼Œç­çº§ï¼‰ $\\rightarrow$ ï¼ˆå§“åï¼Œç­çº§ï¼‰æ˜¯å‡½æ•°ä¾èµ–æ‰€è•´æ¶µçš„ã€‚\nä¼ é€’å¾‹ï¼ˆA3ï¼‰ï¼šè‹¥$X \\rightarrow Y,\\ Y \\rightarrow Z$ä¸º$F$æ‰€è•´æ¶µï¼Œåˆ™$X \\rightarrow Z$ä¸º$F$æ‰€è•´æ¶µã€‚\næ ¹æ®ä¸Šè¿°3æ¡æ¨ç†è§„åˆ™åˆå¯æ¨å‡ºä¸‹è¿°3æ¡æ¨ç†è§„åˆ™ï¼š\nåˆå¹¶è§„åˆ™ï¼šè‹¥$X \\rightarrow Y,\\ X \\rightarrow Z$ï¼Œåˆ™$X \\rightarrow YZ$ä¸ºFæ‰€è•´æ¶µã€‚ ä¼ªä¼ é€’å¾‹ï¼šè‹¥$X \\rightarrow Y,\\ WY \\rightarrow Z$ï¼Œåˆ™$XW \\rightarrow Z$ä¸ºFæ‰€è•´æ¶µã€‚ åˆ†è§£è§„åˆ™ï¼šè‹¥$X \\rightarrow Y,\\ Z \\subseteq Y$ï¼Œåˆ™$X \\rightarrow Z$ä¸ºFæ‰€è•´æ¶µã€‚ åˆå¹¶è§„åˆ™å’Œåˆ†è§£è§„åˆ™æ˜¯ä¸¤ä¸ªäº’é€†çš„è§„åˆ™ã€‚å³$X \\rightarrow Y,\\ X \\rightarrow Z$ï¼Œå¯å¾—$X \\rightarrow YZ$ï¼›é‚£ä¹ˆ$X \\rightarrow YZ$ï¼Œä¹Ÿå¯å¾—$X \\rightarrow Y,\\ X \\rightarrow Z$ï¼ˆå› ä¸º$Y,Z \\sub YZ$ï¼‰ã€‚\næ€»ç»“ï¼š\nåç§° æ¡ä»¶ ç»“è®º å‡½æ•°ä¾èµ– å…ƒç»„åœ¨$X$ä¸Šçš„å±æ€§å€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆåœ¨$Y$ä¸Šçš„å±æ€§å€¼ä¹Ÿç›¸ç­‰ $X$å‡½æ•°å†³å®š$Y$æˆ–$Y$å‡½æ•°ä¾èµ–äº$X$ï¼Œè®°ä½œ$X \\rightarrow Y$ éå¹³å‡¡çš„å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\not\\subseteq X$ $X \\rightarrow Y$æ˜¯éå¹³å‡¡çš„å‡½æ•°ä¾èµ– å¹³å‡¡çš„å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\subseteq X$ $X \\rightarrow Y$æ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ– å®Œå…¨å‡½æ•°ä¾èµ– $X \\rightarrow Y$ï¼Œ$X\u0026rsquo; \\subset X$ï¼Œ$X\u0026rsquo; \\not\\rightarrow Y$ $Y$å¯¹$X$å®Œå…¨å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{f}{\\longrightarrow} Y$ éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼ˆå±€éƒ¨å‡½æ•°ä¾èµ–ï¼‰ $X \\rightarrow Y$ï¼Œ$X \\stackrel{f}{\\not\\longrightarrow} Y$ $Y$å¯¹$X$éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œè®°ä½œ$X \\stackrel{P}{\\longrightarrow} Y$ ä¼ é€’ä¾èµ– $X \\rightarrow Y$ï¼Œ$Y \\not\\subseteq X$ï¼Œ$Y \\rightarrow Z$ $Z$å¯¹$X$ä¼ é€’ä¾èµ– åç§° å®šä¹‰ ç ï¼ˆå€™é€‰ç ï¼Œå€™é€‰å…³é”®å­—ï¼‰ è‹¥$K \\stackrel{f}{\\rightarrow} U$ï¼Œåˆ™$K$ä¸º$R$çš„å€™é€‰ç  ä¸»å±æ€§ åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ éä¸»å±æ€§ ä¸åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ å¤–ç  $X$é$R$çš„ç ï¼Œä½†$X$æ˜¯å¦ä¸€ä¸ªå…³ç³»çš„ç ï¼Œåˆ™ç§°$X$ä¸ºå¤–ç  Armstrongå…¬ç†ç³»ç»Ÿï¼š\nå®šå¾‹ æ¡ä»¶ Fè•´å« è‡ªåå¾‹ $Y \\subseteq X \\subseteq U$ $X \\rightarrow Y$ å¢å¹¿å¾‹ $X \\rightarrow Y$ï¼Œ$Z \\subseteq U$ $XZ \\rightarrow XZ$ ä¼ é€’å¾‹ $X \\rightarrow Y,\\ Y \\rightarrow Z$ $X \\rightarrow Z$ è§„åˆ™ æ¡ä»¶ Fè•´å« åˆå¹¶è§„åˆ™ $X \\rightarrow Y,\\ X \\rightarrow Z$ $X \\rightarrow YZ$ ä¼ªä¼ é€’å¾‹ $X \\rightarrow Y,\\ WY \\rightarrow Z$ $XW \\rightarrow Z$ åˆ†è§£è§„åˆ™ $X \\rightarrow Y,\\ Z \\subseteq Y$ $X \\rightarrow Z$ é—­åŒ…è®¡ç®— è®¾å…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼Œå…¶ä¸­$U$ä¸ºå±æ€§é›†ï¼Œ$F$æ˜¯$U$ä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–ã€‚ç§°æ‰€æœ‰ç”¨Armstrongå…¬ç†ä»Fæ¨å‡ºçš„å‡½æ•°ä¾èµ–$X \\rightarrow A_i$ä¸­ï¼Œ$A_i(X,A_i \\subseteq U)$çš„å±æ€§é›†åˆä¸º$X$çš„å±æ€§é—­åŒ…ï¼Œè®°ä¸º$X^{+}_{F}$æˆ–$X^{+}$ã€‚\nå®šç†ï¼š\nè®¾å…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼Œå…¶ä¸­$F$ä¸ºå‡½æ•°ä¾èµ–é›†ï¼Œ$X,Y \\subseteq U$ï¼Œåˆ™ä»$F$æ¨å‡º$X \\rightarrow Y$çš„å……è¦æ¡ä»¶æ˜¯$Y \\subseteq X^{+}$ã€‚\nå±æ€§çš„é—­åŒ…è®¡ç®—ç”¨äºæ±‚ä¸»é”®ã€‚\nä¾‹å¦‚ï¼Œç»™å®šå…³ç³»$R(U,F)$ï¼Œå…¶ä¸­$U={A,B,C,D,E,H}$ï¼Œ$F={A \\rightarrow B, B \\rightarrow DH, A \\rightarrow H, C \\rightarrow E }$ã€‚\nå…ˆæ ¹æ®$F$é€‰å–ä»…åœ¨$\\rightarrow$å·¦è¾¹å‡ºç°çš„å±æ€§é›†ï¼ˆä¾‹å¦‚ï¼Œ$A$ã€$C$å’Œ$AC$ï¼‰ã€‚æ ¹æ®é€‰å–çš„å±æ€§é›†è¿›è¡Œé—­åŒ…è¿ç®—ï¼ˆå…ˆå¯¹$A$è¿›è¡Œè¿ç®—ï¼‰ï¼š\n$$ (A)^{+} \\rightarrow (A \\ BH)^{+} \\rightarrow (AB \\ D \\ H)^{+} \\rightarrow (ABDH) $$\næ­¤æ—¶ï¼Œ$(ABDH)^{+}$æ— è®ºå†æ€ä¹ˆæ¨ï¼Œç»“æœéƒ½æ˜¯$(ABDH)$ï¼Œè¯´æ˜å¯¹$A$çš„é—­åŒ…è®¡ç®—å·²ç»ç»“æŸäº†ï¼Œç»“æœå°±æ˜¯$(ABDH)$ã€‚\nè€Œ$(ABDH) \\neq U$ï¼Œè¯´æ˜$A$å¹¶ä¸æ˜¯å…³ç³»$R$çš„ä¸»é”®ã€‚\nè€Œå¯¹äº$C$çš„å‡½æ•°ä¾èµ–ä»…æœ‰$C \\rightarrow E$ï¼Œæ‰€ä»¥æ­¤æ—¶åº”è¯¥å¯¹$(AC)$è¿›è¡Œé—­åŒ…è¿ç®—ï¼š\n$$ (AC)^{+} \\rightarrow (ABDH \\ CE)^{+} \\rightarrow (ABCDEH) $$\næ­¤æ—¶å¯¹$(AC)$çš„é—­åŒ…è®¡ç®—ç»“æœ$(ABCDEH) = U$ï¼Œè¯´æ˜$(AC)$æ˜¯å…³ç³»$R$çš„ä¸»é”®ã€‚\nå…³ç³»æ¨¡å¼çš„åˆ†è§£ å¯¹å­˜åœ¨æ•°æ®å†—ä½™ã€æ’å…¥å¼‚å¸¸ã€åˆ é™¤å¼‚å¸¸é—®é¢˜çš„å…³ç³»æ¨¡å¼ï¼Œåº”é‡‡å–å°†ä¸€ä¸ªå…³ç³»æ¨¡å¼åˆ†è§£ä¸ºå¤šä¸ªå…³ç³»æ¨¡å¼çš„æ–¹æ³•è¿›è¡Œå¤„ç†ï¼ˆåŸæ¥å­˜å‚¨åœ¨ä¸€ä¸ªäºŒç»´è¡¨å†…çš„æ•°æ®å°±è¦åˆ†æ•£åˆ°å¤šä¸ªäºŒç»´è¡¨ä¸­ï¼‰ã€‚è¦æ±‚æ˜¯åˆ†è§£åçš„äºŒç»´è¡¨ä¸èƒ½ä¸¢å¤±åˆ†è§£å‰äºŒç»´è¡¨çš„ä¿¡æ¯ã€‚\nä¸ºä½¿åˆ†è§£åçš„æ¨¡å¼ä¿æŒåŸæ¨¡å¼æ‰€æ»¡è¶³çš„ç‰¹æ€§ï¼Œå…¶åŸºæœ¬è¦æ±‚æ˜¯æ¨¡å¼åˆ†è§£å…·æœ‰ï¼š\næ— æŸè¿æ¥æ€§ï¼› ä¿æŒå‡½æ•°ä¾èµ–æ€§ã€‚ æ— æŸè¿æ¥ æ— æŸè¿æ¥æ€§æŒ‡çš„æ˜¯å¯¹å…³ç³»æ¨¡å¼åˆ†è§£æ—¶ï¼ŒåŸå…³ç³»æ¨¡å¼ä¸‹ï¼Œä»»ä¸€åˆæ³•çš„å…³ç³»å®ä¾‹ï¼Œåœ¨åˆ†è§£ä¹‹ååº”èƒ½é€šè¿‡è‡ªç„¶è¿æ¥è¿ç®—æ¢å¤èµ·æ¥ã€‚\nè®¾$\\rho = \\{ R_1\u0026lt;U_1,F_1\u0026gt;,\\ R_2\u0026lt;U_2,F_2\u0026gt;,\\ \\cdots,\\ R_k\u0026lt;U_k,F_k\u0026gt; \\}$æ˜¯å…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$çš„ä¸€ä¸ªåˆ†è§£ï¼Œå¦‚æœå¯¹äº$R$çš„ä»»ä¸€æ»¡è¶³$F$çš„å…³ç³»$r$éƒ½æœ‰ï¼š\n$$ r = \\pi_{R1}(r) \\Join \\pi_{R2}(r) \\Join \\cdots \\Join \\pi_{Rk}(r) $$\nåˆ™ç§°è¿™ä¸ªåˆ†è§£$\\rho$æ˜¯æ»¡è¶³ä¾èµ–é›†$F$çš„æ— æŸè¿æ¥ã€‚\n$\\pi()$è¿ç®—æ˜¯æŠ•å½±è¿ç®—ã€‚\n$\\Join$è¿ç®—æ˜¯è‡ªç„¶è¿æ¥è¿ç®—ã€‚\nä¸ªäººç†è§£ï¼š\næ— æŸè¿æ¥æ€§å°±æ˜¯æŒ‡ï¼Œå…³ç³»æ¨¡å¼æ‹†åˆ†åï¼ˆåˆ†æˆè‹¥å¹²ä¸ªå°çš„å…³ç³»æ¨¡å¼ï¼Œå³$\\rho$ï¼‰ï¼Œ$\\rho$ä¸­çš„å…³ç³»æ¨¡å¼ä»æ€»ä½“ä¸Šçœ‹ï¼Œä¿æŒç€ä¸$R$ä¸€è‡´çš„è¿æ¥ã€‚$\\rho$ä¸­çš„å…³ç³»æ¨¡å¼é€šè¿‡è‡ªç„¶è¿æ¥ä¿æŒç€åŸæœ¬çš„å…³ç³»æ¨¡å¼ã€‚é‡è¦çš„æ˜¯$rho$ä¸­çš„å…³ç³»æ¨¡å¼å¯ä»¥é€šè¿‡è‡ªç„¶è¿æ¥æ¢å¤åˆ°åŸå…³ç³»æ¨¡å¼ã€‚\néªŒè¯æ— æŸè¿æ¥çš„å……è¦æ¡ä»¶ï¼š\nå¦‚æœ$R$çš„åˆ†è§£ä¸º$\\rho = \\{R_1,R_2\\}$ï¼Œ$F$ä¸º$R$æ‰€æ»¡è¶³çš„å‡½æ•°ä¾èµ–é›†åˆï¼Œåˆ™åˆ†è§£$\\rho$å…·æœ‰æ— æŸè¿æ¥æ€§çš„å……åˆ†å¿…è¦æ¡ä»¶ä¸ºï¼š\n$$ R_1 \\cap R_2 \\rightarrow (R_1 - R_2) \\\\ æˆ– \\\\ R_1 \\cap R_2 \\rightarrow (R_2 - R_1) $$\næ— æŸè¿æ¥çš„åˆ¤å®šç®—æ³•ï¼š\næ„é€ ä¸€ä¸ª$k$è¡Œ$n$åˆ—çš„è¡¨ï¼š\næ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªå±æ€§$A_j$ï¼› æ¯ä¸€è¡Œå¯¹åº”åˆ†è§£$rho$ä¸­çš„ä¸€ä¸ªå…³ç³»æ¨¡å¼$R_i\u0026lt;U_i, F_i\u0026gt;$ã€‚ è‹¥å±æ€§$A_j$å±äº$U_i$ï¼Œåˆ™åœ¨ç¬¬$i$è¡Œç¬¬$j$åˆ—ä¸Šæ”¾ç¬¦å·$a_j$ï¼Œå¦åˆ™æ”¾ç¬¦å·$b_{ij}$ã€‚\né€ä¸ªæ£€æŸ¥$F$ä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°ä¾èµ–$FD_i$ï¼Œå¹¶ä¿®æ”¹è¡¨ä¸­çš„å…ƒç´ ï¼š\nå–$F$ä¸­ä¸€ä¸ªå‡½æ•°ä¾èµ–$X_i \\rightarrow A_j$ï¼ˆ$X_i$è¦å±äº$rho$ä¸­çš„ä»»ä¸€å…³ç³»ï¼‰ï¼Œè€ƒè™‘è¿™äº›è¡Œä¸­ç¬¬$j$åˆ—å…ƒç´ ï¼š\nè‹¥å…¶ä¸­æœ‰$a_j$ï¼Œåˆ™å…¨éƒ¨æ”¹ä¸º$a_j$ï¼› å¦åˆ™å…¨éƒ¨æ”¹ä¸º$b_{mj}$ï¼Œ$m$ä¸ºè¿™äº›è¡Œçš„è¡Œå·æœ€å°å€¼ã€‚ è‹¥æŸä¸€è¡Œå˜æˆäº†$(a_1, a_2, \\cdots, a_n)$ï¼Œåˆ™åˆ†è§£$rho$å…·æœ‰æ— æŸè¿æ¥æ€§ï¼Œç®—æ³•ç»ˆæ­¢ã€‚\næ¯”è¾ƒæ‰«æå‰åï¼Œè¡¨æœ‰æ— å˜åŒ–ã€‚\nå¦‚æœ‰å˜åŒ–ï¼Œåˆ™è¿”å›ç¬¬2æ­¥ï¼› å¦åˆ™ç®—æ³•ç»ˆæ­¢ï¼Œåˆ†è§£$rho$æ˜¯æœ‰æŸè¿æ¥ã€‚ ä¾‹å¦‚ï¼Œå…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼Œå…¶ä¸­ï¼Œ$U = \\{ A, B, C \\}$ï¼Œ$F = \\{ A \\rightarrow B, C \\rightarrow B \\}$ã€‚\nåˆ¤æ–­$\\rho = \\{ AC, BC \\}$æ˜¯å¦å…·æœ‰æ— æŸè¿æ¥æ€§ï¼š\næ„é€ åˆå§‹è¡¨ï¼š\n$R_i$ $A$ $B$ $C$ AC $a_1$ $b_{12}$ $a_3 BC $b_{21}$ $a_2$ $a_3$ è€ƒå¯Ÿ$A \\rightarrow B$ï¼Œå°†$AC$è¡Œçš„$B$åˆ—æ”¹ä¸º$a_2$ï¼š\n$R_i$ $A$ $B$ $C$ AC $a_1$ $a_2$ $a_3 BC $b_{21}$ $a_2$ $a_3$ ä»ä¸Šè¡¨ä¸­çœ‹å‡º$AC$è¡Œä¸º${a_1, a_2, a_3}$ï¼Œæ‰€ä»¥åˆ¤æ–­è¯¥å…³ç³»æ¨¡å¼å…·æœ‰æ— æŸè¿æ¥æ€§ã€‚\nä¿æŒå‡½æ•°ä¾èµ– è®¾æœ‰å…³ç³»æ¨¡å¼$R$ï¼Œ$F$æ˜¯$R$çš„å‡½æ•°ä¾èµ–é›†ï¼Œ$Z$æ˜¯$R$çš„ä¸€ä¸ªå±æ€§é›†åˆï¼Œåˆ™ç§°$Z$æ‰€æ¶‰åŠåˆ°çš„$F^+$ä¸­æ‰€æœ‰å‡½æ•°ä¾èµ–ä¸º$F$åœ¨$Z$ä¸Šçš„æŠ•å½±ï¼Œå³ä¸º$\\pi_Z(F)$ï¼Œæœ‰ï¼š\n$$ \\pi_Z(F) = \\{ x \\rightarrow y | (x \\rightarrow y) \\in F^+ ä¸” xy \\subseteq z \\} $$\nè®¾å…³ç³»æ¨¡å¼$R$çš„ä¸€ä¸ªåˆ†è§£$\\rho = \\{ R_1\u0026lt;U_1,F_1\u0026gt;,\\ R_2\u0026lt;U_2,F_2\u0026gt;,\\ \\cdots,\\ R_k\u0026lt;U_k,F_k\u0026gt; \\}$ï¼Œ$F$æ˜¯$R$çš„ä¾èµ–é›†ï¼Œå¦‚æœ$F$ç­‰ä»·äº$\\pi_{R1}(F) \\cup \\pi_{R2}(F) \\cup \\cdots \\cup \\pi_{Rk}(F)$ï¼Œåˆ™ç§°åˆ†è§£$\\rho$å…·æœ‰ä¾èµ–ä¿æŒæ€§ã€‚\nè¯¥å®šä¹‰ä¸­çš„\u0026quot;ç­‰ä»·\u0026quot;å¹¶ä¸ä»£è¡¨ç›¸ç­‰ï¼Œè€Œæ˜¯$F$ä¸­æ‰€åŒ…å«çš„å‡½æ•°ä¾èµ–åœ¨åˆ†è§£çš„å‡½æ•°ä¾èµ–ä¸­ä¹Ÿè¢«åŒ…å«ï¼Œæˆ–è€…åœ¨åˆ†è§£çš„å‡½æ•°ä¾èµ–ä¸­èƒ½è¢«æ¨å‡ºã€‚\nä¸€ä¸ªæ— æŸè¿æ¥åˆ†è§£ä¸ä¸€å®šå…·æœ‰ä¾èµ–ä¿æŒæ€§ï¼› ä¸€ä¸ªä¾èµ–ä¿æŒæ€§åˆ†è§£ä¸ä¸€å®šå…·æœ‰æ— æŸè¿æ¥æ€§ã€‚ èŒƒå¼ å…³ç³»æ•°æ®åº“ä¸­çš„å…³ç³»å¿…é¡»æ»¡è¶³ä¸€å®šçš„è§„èŒƒåŒ–è¦æ±‚ï¼Œå¯¹äºä¸åŒçš„è§„èŒƒåŒ–ç¨‹åº¦å¯ç”¨èŒƒå¼æ¥è¡¡é‡ã€‚\nèŒƒå¼æ˜¯ç¬¦åˆæŸä¸€ç§çº§åˆ«çš„å…³ç³»æ¨¡å¼çš„é›†åˆï¼Œæ˜¯è¡¡é‡å…³ç³»æ¨¡å¼è§„èŒƒåŒ–ç¨‹åº¦çš„æ ‡å‡†ï¼Œè¾¾åˆ°èŒƒå¼çš„å…³ç³»æ‰æ˜¯è§„èŒƒåŒ–çš„ã€‚\nä¸€ä¸ªä½ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼ï¼Œé€šè¿‡æ¨¡å¼åˆ†è§£å¯ä»¥è½¬æ¢ä¸ºè‹¥å¹²ä¸ªé«˜ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼çš„é›†åˆï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºè§„èŒƒåŒ–ã€‚\nä¸»è¦æœ‰6ç§èŒƒå¼ï¼Œé«˜ä¸€çº§èŒƒå¼æ˜¯åœ¨ä½ä¸€çº§èŒƒå¼çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ»¡è¶³ä¸€äº›è¦æ±‚ï¼ŒæŒ‰è¦æ±‚ä»ä½åˆ°é«˜åˆ†ä¸ºï¼š\nç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼Rçš„æ¯ä¸€ä¸ªåˆ†é‡æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®é¡¹ï¼Œåˆ™å…³ç³»æ¨¡å¼Rå±äºç¬¬ä¸€èŒƒå¼ã€‚\nå¦‚ï¼Œå…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼š\n$$ U = \\{ å­¦å·,å§“å,å­¦é™¢,é™¢é•¿,è¯¾ç¨‹å·,è¯¾ç¨‹å,æˆç»© \\} \\\\ F = \\{ å­¦å· \\rightarrow å§“å,å­¦å· \\rightarrow å­¦é™¢,å­¦é™¢ \\rightarrow é™¢é•¿,è¯¾ç¨‹å· \\rightarrow è¯¾ç¨‹å,(å­¦å·,è¯¾ç¨‹å·) \\rightarrow æˆç»© \\} $$\n1NFå¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š\næ•°æ®å†—ä½™ï¼šæ•°æ®çš„å†—ä½™åº¦å¤§ï¼ŒRä¸­å¯èƒ½å‡ºç°å¤šä¸ªå…ƒç»„åœ¨å¤šä¸ªå±æ€§é›†ä¸­å€¼ç›¸åŒï¼›\nä¿®æ”¹å¼‚å¸¸ï¼šå¼•èµ·ä¿®æ”¹æ“ä½œçš„ä¸ä¸€è‡´æ€§ï¼Œä¿®æ”¹ä¸€æ¡è®°å½•å¯èƒ½éœ€è¦ä¿®æ”¹å…¶ä»–å¤šæ¡è®°å½•æ‰èƒ½ä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼ˆç”±æ•°æ®å†—ä½™å¼•èµ·ï¼‰ï¼›\næ’å…¥å¼‚å¸¸ï¼šä¸»ç ä¸èƒ½å–ç©ºå€¼æˆ–éƒ¨åˆ†ç©ºå€¼ï¼Œä¼šå‡ºç°æ’å…¥å¼‚å¸¸ï¼›\nåˆ é™¤å¼‚å¸¸ï¼šæœ¬è¯¥åˆ é™¤ä½†åˆå®¢è§‚å­˜åœ¨çš„å…ƒç»„ï¼Œä¼šå‡ºç°åˆ é™¤å¼‚å¸¸ã€‚\nå³ï¼Œåˆ é™¤æ‰çš„æ•°æ®å¯èƒ½åŒ…å«ç€å…¶ä»–æœ¬ä¸è¯¥è¢«åˆ é™¤çš„å±æ€§ã€‚\né—®é¢˜çš„åŸå› æ˜¯1NFä¸­å¯èƒ½å­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚\nç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼$R \\in 1NF$ï¼Œä¸”æ¯ä¸€ä¸ªéä¸»å±æ€§å®Œå…¨ä¾èµ–äºç ï¼Œåˆ™å…³ç³»æ¨¡å¼$R \\in 2NF$ã€‚\nå³å½“1NFæ¶ˆé™¤äº†å¯¹ä¸»é”®çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–åå°±èƒ½æ»¡è¶³2NFã€‚\nä¾‹å¦‚ï¼Œ$å­¦å· \\rightarrow å­¦é™¢$ï¼Œå³$(å­¦å·,è¯¾ç¨‹å·) \\stackrel{P}{\\rightarrow} å­¦é™¢$ï¼ˆéƒ¨åˆ†ä¾èµ–äºç ï¼‰ï¼Œæ‰€ä»¥$R \\not\\in 2NF$ã€‚\næ¨¡å¼çš„åˆ†è§£éœ€è¦ä¿æŒå‡½æ•°ä¾èµ–ã€‚æ ¹æ®$F$ï¼Œå°†$R$åˆ†è§£ä¸ºï¼š\n$R_1\u0026lt;U_1,F_1\u0026gt;$ï¼š\n$$ U_1 = \\{ å­¦å·,å§“å,å­¦é™¢,é™¢é•¿ \\} \\\\ F_1 = \\{ å­¦å· \\rightarrow å§“å,å­¦å· \\rightarrow å­¦é™¢,å­¦é™¢ \\rightarrow é™¢é•¿ \\} $$\n$R_2\u0026lt;U_2,F_2\u0026gt;$ï¼š\n$$ U_2 = \\{ è¯¾ç¨‹å·,è¯¾ç¨‹å \\} \\\\ F_2 = \\{ è¯¾ç¨‹å· \\rightarrow è¯¾ç¨‹å \\} $$\n$R_3\u0026lt;U_3,F_3\u0026gt;$ï¼š\n$$ U_3 = \\{ å­¦å·,è¯¾ç¨‹å·,æˆç»© \\} \\\\ F_3 = \\{ (å­¦å·,è¯¾ç¨‹å·) \\rightarrow æˆç»© \\}\nåˆ™ï¼Œ$R1 \\in 2NF$ï¼Œ$R2 \\in 2NF$ï¼Œ$R3 \\in 2NF$ã€‚\n2NFå¯èƒ½ä¾ç„¶ä¼šå­˜åœ¨æ•°æ®å†—ä½™ã€ä¿®æ”¹å¼‚å¸¸ã€æ’å…¥å¼‚å¸¸åˆ é™¤å¼‚å¸¸ç­‰é—®é¢˜ã€‚\nç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ï¼šè‹¥å…³ç³»æ¨¡å¼$R(R \\in 2NF)$ä¸­ä»»ä½•ä¸€ä¸ªéä¸»å±æ€§éƒ½ä¸ä¼ é€’å‡½æ•°ä¾èµ–äºç ã€‚\nè‹¥å…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$ï¼ˆ$U$ä¸ºå…³ç³»é›†ï¼Œ$F$ä¸ºå‡½æ•°ä¾èµ–é›†ï¼‰ä¸­ä¸å­˜åœ¨è¿™æ ·çš„ç $X$ï¼Œä½¿å¾—ï¼š\n$X \\rightarrow Y(Y \\not\\rightarrow X)$ï¼Œ $Y \\rightarrow Z$ï¼Œ åˆ™å…³ç³»æ¨¡å¼$R \\in 3NF$ï¼Œå…¶ä¸­ï¼š\n$Y$ä¸ºå±æ€§ç»„ï¼Œ $Z(Z \\not\\subseteq Y)$ä¸ºéä¸»å±æ€§ã€‚ å³å½“2NFæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹ä¸»é”®çš„ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œåˆ™ç§°ä¸º3NFã€‚\nå¦‚ï¼Œ$R_1$ä¸­æœ‰$å­¦å· \\rightarrow å­¦é™¢$ï¼Œ$å­¦é™¢ \\rightarrow é™¢é•¿$ï¼ˆéä¸»å±æ€§\u0026quot;é™¢é•¿\u0026quot;ä¼ é€’ä¾èµ–äºä¸»é”®\u0026quot;å­¦å·\u0026quot;ï¼‰ã€‚å¯å°†$R_1$åˆ†è§£ä¸ºï¼š\n$R_{11}\u0026lt;U_{11},F_{11}\u0026gt;$ï¼š\n$$ U_{11} = \\{ å­¦å·,å§“å,å­¦é™¢ \\} \\\\ F_{11} = \\{ å­¦å· \\rightarrow å§“å, å­¦å· \\rightarrow å­¦é™¢ \\} $$\n$R_{12}\u0026lt;U_{12},F_{12}\u0026gt;$ï¼š\n$$ U_{12} = \\{ å­¦é™¢,é™¢é•¿ \\} \\\\ F_{12} = \\{ å­¦é™¢ \\rightarrow é™¢é•¿ \\} $$\nBCèŒƒå¼ï¼ˆBCNFï¼‰ï¼šå…³ç³»æ¨¡å¼$R\u0026lt;U,F\u0026gt;$å±äºBCNFï¼ˆ$R$é¦–å…ˆå¾—æ»¡è¶³3NFï¼‰ï¼Œå½“ä¸”ä»…å½“å…¶$F$ä¸­æ¯ä¸ªä¾èµ–çš„å†³å®šå› ç´ å¿…å®šåŒ…å«Rçš„æŸä¸ªå€™é€‰ç ã€‚\nç”±BCNFçš„å®šä¹‰å¯ä»¥å¾—åˆ°ç»“è®ºï¼Œä¸€ä¸ªæ»¡è¶³BCNFçš„å…³ç³»æ¨¡å¼æœ‰ï¼š\næ»¡è¶³3NFã€‚\næ‰€æœ‰éä¸»å±æ€§å¯¹æ¯ä¸€ä¸ªç éƒ½æ˜¯å®Œå…¨å‡½æ•°ä¾èµ–ã€‚\n$$ ç  \\stackrel{f}{\\longrightarrow} éä¸»å±æ€§ $$\næ‰€æœ‰çš„ä¸»å±æ€§å¯¹æ¯ä¸€ä¸ªä¸åŒ…å«å®ƒçš„ç ï¼Œä¹Ÿæ˜¯å®Œå…¨å‡½æ•°ä¾èµ–ã€‚\næ²¡æœ‰ä»»ä½•å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–äºéç çš„ä»»ä½•ä¸€ç»„å±æ€§ã€‚\nä¸€ä¸ªæ»¡è¶³BCNFçš„å…³ç³»æ¨¡å¼Rå·±æ¶ˆé™¤äº†æ’å…¥å’Œåˆ é™¤å¼‚å¸¸ã€‚\nç¬¬å››èŒƒå¼ï¼ˆ4NFï¼‰ï¼š\nå¤šå€¼ä¾èµ–ï¼š\nç»™å®šçš„å…³ç³»æ¨¡å¼$R(U,F)$ï¼š\n$X,Y,Z \\subseteq U$ï¼Œ $Z=U-X-Y$ï¼ˆ$Z$æ˜¯$X \\cup Y$çš„å·®é›†ï¼‰ã€‚ å½“ä¸”ä»…å½“å¯¹$R$çš„ä»»ä¸€å…³ç³»$r$ï¼Œç»™å®šçš„ä¸€å¯¹$(x,z)$å€¼ï¼Œæœ‰ä¸€ç»„$Y$çš„å€¼ï¼Œè¿™ç»„å€¼ä»…ä»…å†³å®šäº$x$å€¼è€Œä¸$z$å€¼æ— å…³ã€‚åˆ™å…³ç³»æ¨¡å¼$R$ä¸­çš„å¤šå€¼ä¾èµ–$X \\rightarrow\\rightarrow Y$æˆç«‹ã€‚\nå¹³å‡¡çš„å¤šå€¼ä¾èµ–ï¼š\n$X \\rightarrow\\rightarrow Y$æˆç«‹ï¼Œ $Z = \\Phi$ï¼Œ åˆ™$X \\rightarrow\\rightarrow Y$ä¸ºå¹³å‡¡çš„å¤šå€¼ä¾èµ–ã€‚\nä¾‹å¦‚ï¼Œè¯¾ç¨‹$\\rightarrow\\rightarrow$ä»»è¯¾è€å¸ˆï¼Œè¯¾ç¨‹$\\rightarrow\\rightarrow$å‚è€ƒä¹¦ã€‚\n4NFå®šä¹‰ï¼š\nè®¾æœ‰ä¸€å…³ç³»æ¨¡å¼$R(U,F)$æ˜¯1NFï¼Œå¦‚æœå¯¹äº$R$çš„æ¯ä¸ªéå¹³å‡¡å¤šå€¼ä¾èµ–$X \\rightarrow\\rightarrow Y(Y \\not\\subseteq X)$ï¼Œ$X$éƒ½åŒ…å«äº†$R$çš„ä¸€ä¸ªå€™é€‰ç ï¼Œåˆ™ç§°$R$æ˜¯ç¬¬å››èŒƒå¼ï¼Œè®°ä¸º4NFã€‚\nä¾‹å¦‚ï¼Œè¯¾ç¨‹$\\rightarrow\\rightarrow$ä»»è¯¾è€å¸ˆï¼Œè¯¾ç¨‹$\\rightarrow\\rightarrow$å‚è€ƒä¹¦éƒ½æ˜¯éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼Œè€Œè¯¾ç¨‹ä¸æ˜¯ç ï¼Œæ‰€ä»¥ä¸å±äº4NFã€‚\nç¬¬äº”èŒƒå¼ï¼ˆ5NFï¼‰ã€‚\nèŒƒå¼ä¹‹é—´çš„å…³ç³»ï¼š\n$$ 5NF \\sub 4NF \\sub BCNF \\sub 3NF \\sub 2NF \\sub 1NF $$\n3NFå’ŒBCNEå®ƒä»¬æ˜¯è¿›è¡Œè§„èŒƒåŒ–çš„ä¸»è¦ç›®æ ‡ã€‚\n1NFåˆ°4NFä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼š\nèŒƒå¼ è½¬æ¢å…³ç³» 1NF æ¯ä¸€ä¸ªåˆ†é‡æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®é¡¹ 2NF 1NFæ¶ˆé™¤äº†éƒ¨åˆ†å‡½æ•°ä¾èµ–åæ»¡è¶³2NF 3NF 2NFæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹ç çš„ä¼ é€’å‡½æ•°ä¾èµ–åæ»¡è¶³3NF BCNF 3NFæ¶ˆé™¤äº†ä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å’Œä¼ é€’å‡½æ•°ä¾èµ–åæ»¡è¶³BCNF 4NF BCNFæ¶ˆé™¤éå¹³å‡¡ä¸”éå‡½æ•°ä¾èµ–çš„å¤šå€¼ä¾èµ–åæ»¡è¶³4NF å‡ ç§èŒƒå¼åŠå…¶åˆ†è§£çš„æ€§è´¨ï¼š\næ€§è´¨ 3NF BCNF 4NF æ¶ˆé™¤å‡½æ•°ä¾èµ–å¸¦æ¥å†—ä½™ å¦ æ˜¯ æ˜¯ æ¶ˆé™¤å¤šå€¼å‡½æ•°ä¾èµ–å¸¦æ¥å†—ä½™ å¦ å¦ æ˜¯ ä¿æŒå‡½æ•°ä¾èµ– æ˜¯ å¦ å¦ ä¿æŒå¤šå€¼å‡½æ•°ä¾èµ– å¦ å¦ å¦ æ•°æ®åº“è®¾è®¡ æ–°å¥¥å°”è‰¯ï¼ˆNew Orleansï¼‰æ³•å¼ç›®å‰å…¬è®¤çš„æ•°æ®åº“è®¾è®¡æ–¹æ³•ï¼Œå®ƒå°†æ•°æ®åº“è®¾è®¡åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š\nç”¨æˆ·éœ€æ±‚åˆ†æ æ¦‚å¿µç»“æ„è®¾è®¡ é€»è¾‘ç»“æ„è®¾è®¡ ç‰©ç†ç»“æ„è®¾è®¡ è¿™å‡ ä¸ªé˜¶æ®µä¹‹åæ˜¯ä¸æ•°æ®åº“å»ºç«‹å’Œè¿è¡Œæœ‰å…³çš„é˜¶æ®µï¼š\næ•°æ®åº“å®æ–½ æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤ éœ€æ±‚åˆ†æ éœ€æ±‚åˆ†ææ˜¯é¡¹ç›®ç¡®å®šåï¼Œå¯¹æ•°æ®åº“åº”ç”¨ç³»ç»Ÿæ‰€è¦è®¾è®¡çš„å†…å®¹ï¼ˆæ•°æ®ï¼‰å’ŒåŠŸèƒ½ï¼ˆè¡Œä¸ºï¼‰çš„æ•´ç†å’Œæè¿°ï¼Œæ˜¯ä»¥ç”¨æˆ·çš„è§’åº¦æ¥è®¤è¯†ç³»ç»Ÿã€‚\néœ€æ±‚åˆ†ææ˜¯åé¢å‡ ä¸ªé˜¶æ®µï¼Œé€»è¾‘ç»“æ„è®¾è®¡ã€ç‰©ç†ç»“æ„è®¾è®¡ä»¥åŠåº”ç”¨ç¨‹åºè®¾è®¡çš„ä¾æ®ã€‚\néœ€æ±‚åˆ†æå°†æ”¶é›†åˆ°çš„é›¶ç¢çš„ã€å±€éƒ¨çš„æ•°æ®åˆ†ææ•´ç†åï¼Œå»ºç«‹éœ€æ±‚è¯´æ˜æ–‡æ¡£ã€æ•°æ®å­—å…¸å’Œæ•°æ®æµç¨‹å›¾ã€‚\néœ€æ±‚åˆ†æè¿˜åŒ…å«ï¼š\næ•°æ®æµåˆ†æï¼šæ˜¯å¯¹äº‹åŠ¡å¤„ç†æ‰€éœ€çš„åŸå§‹æ•°æ®çš„æ”¶é›†ï¼ŒåŠç»è¿‡å¤„ç†åæ‰€å¾—æ•°æ®åŠå…¶æµå‘ã€‚\nä½¿ç”¨æ•°æ®æµå›¾ï¼ˆDFDï¼‰è¡¨ç¤ºã€‚DFDèƒ½æŒ‡å‡ºæ•°æ®çš„æµå‘å’Œéœ€è¦è¿›è¡Œçš„äº‹ç‰©å¤„ç†ï¼ˆä¸æ¶‰åŠå¦‚ä½•å¤„ç†ï¼‰ã€‚\næ•°æ®å­—å…¸ï¼šæ˜¯å…³äºæ•°æ®åº“ä¸­æ•°æ®çš„æè¿°ï¼Œå³å…ƒæ•°æ®ï¼ˆä¸æ˜¯æ•°æ®æœ¬èº«ï¼‰ã€‚\næ•°æ®å­—å…¸åŒ…æ‹¬5ä¸ªéƒ¨åˆ†ï¼š\næ•°æ®é¡¹ï¼› æ•°æ®ç»“æ„ï¼› æ•°æ®æµï¼› æ•°æ®å­˜å‚¨ï¼› åŠ å·¥ã€‚ ç³»ç»Ÿéœ€æ±‚è¯´æ˜ä¹¦æ˜¯éœ€æ±‚åˆ†æé˜¶æ®µçš„æˆæœï¼Œä¸»è¦åŒ…æ‹¬æ•°æ®æµå›¾ã€æ•°æ®å­—å…¸ã€å„ç§è¯´æ˜æ€§è¡¨æ ¼ã€ç»Ÿè®¡è¾“å‡ºè¡¨å’Œç³»ç»ŸåŠŸèƒ½ç»“æ„å›¾ç­‰ã€‚\néœ€æ±‚åˆ†æé˜¶æ®µçš„å·¥ä½œï¼š\næ¦‚å¿µç»“æ„è®¾è®¡ æ¦‚å¿µè®¾è®¡é˜¶æ®µçš„ç›®æ ‡æ˜¯äº§ç”Ÿæ•´ä½“æ•°æ®åº“æ¦‚å¿µç»“æ„ï¼Œå³æ¦‚å¿µæ¨¡å‹ï¼Œå®ƒæ˜¯ä¸DBMSæ— å…³çš„ã€‚\næ¦‚å¿µç»“æ„è®¾è®¡çš„æ–¹æ³•ï¼š\nè‡ªé¡¶å‘ä¸‹ è‡ªåº•å‘ä¸Š é€æ­¥æ‰©å¼  æ··åˆç­–ç•¥ï¼ˆè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šç›¸ç»“åˆï¼‰ æ¦‚å¿µç»“æ„æ˜¯å¯¹ç°å®ä¸–ç•Œçš„ä¸€ç§æŠ½è±¡ï¼Œä»æ•°æ®åº“è®¾è®¡è§’åº¦çœ‹ï¼Œä¸»è¦æ˜¯æ•°æ®æŠ½è±¡ï¼Œä¸€èˆ¬æœ‰å¦‚ä¸‹3ç§æ•°æ®æŠ½è±¡ï¼š\nåˆ†ç±» èšé›† æ¦‚æ‹¬ å±€éƒ¨è§†å›¾è®¾è®¡å°±æ˜¯å¯¹æŸä¸ªå±€éƒ¨åº”ç”¨è®¾è®¡å…¶åˆ†ä¸€Rå›¾ï¼Œä¹Ÿç§°å±€éƒ¨E-Rå›¾ã€‚å…¶åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\nç¡®å®šå±€éƒ¨ç»“æ„èŒƒå›´ï¼› å®šä¹‰å®ä½“ï¼› è”ç³»å®šä¹‰ï¼› å±æ€§åˆ†é…ã€‚ æ¦‚å¿µæ¨¡å‹çš„å»ºç«‹é‡‡ç”¨E-Ræ¨¡å‹ã€‚\nE-R æ¨¡å‹ E-Ræ¨¡å‹ç”¨E-Rå›¾ï¼ˆERDï¼‰è¡¨ç¤ºï¼ŒE-Rå›¾æœ‰ä»¥ä¸‹å‡ ä¸ªæˆåˆ†ï¼š\nå®ä½“ï¼šç”¨çŸ©å½¢è¡¨ç¤ºã€‚\nè”ç³»ï¼šç”¨æ£±å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹åˆ†åˆ«ä¸æœ‰å…³å®ä½“è¿æ¥èµ·æ¥ï¼ŒåŒæ—¶åœ¨æ— å‘è¾¹æ ‡æ³¨è”ç³»çš„ç±»å‹ï¼ˆ$1:1$ï¼Œ$1:n$ æˆ– $m:n$ï¼‰ã€‚\nå±æ€§ï¼šç”¨æ¤­åœ†å½¢è¡¨ç¤ºï¼Œå¹¶ç”¨æ— å‘è¾¹å°†å…¶ä¸ç›¸åº”çš„å®ä½“è¿æ¥èµ·æ¥\nE-Ræ¨¡å‹ä¸­çš„å±æ€§æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š\nç®€å•å±æ€§å’Œå¤åˆå±æ€§ï¼š\nç®€å•å±æ€§æ˜¯åŸå­çš„ã€ä¸å¯å†åˆ†çš„ï¼› å¤åˆå±æ€§å¯ä»¥ç»†åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ã€‚ å•å€¼å±æ€§å’Œå¤šå€¼å±æ€§ï¼š\nå•å€¼å±æ€§æ˜¯ä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ªå€¼ï¼› å¤šå€¼å±æ€§æ˜¯ä¸€ä¸ªå±æ€§å¯¹åº”ä¸€ç»„å€¼ã€‚ NULLå±æ€§ï¼šå®ä½“åœ¨æŸä¸ªå±æ€§ä¸Šæ²¡æœ‰å€¼æˆ–å±æ€§å€¼æœªçŸ¥æ—¶ï¼Œä½¿ç”¨NULLå€¼è¡¨ç¤ºã€‚\næ´¾ç”Ÿå±æ€§ï¼šæ´¾ç”Ÿå±æ€§å¯ä»¥ä»å…¶ä»–å±æ€§å¾—æ¥ï¼ˆé€šè¿‡è¿ç®—ç­‰æ–¹å¼æ±‚å‡ºï¼‰ã€‚\næ‰©å……çš„E-Ræ¨¡å‹ï¼ˆç”¨æ¥è¡¨è¾¾æ›´å¤šå…·æœ‰ç‰¹æ®Šè¯­ä¹‰çš„æˆåˆ†ï¼‰æœ‰ä»¥ä¸‹æˆåˆ†ï¼š\nå¼±å®ä½“ï¼šä½¿ç”¨åŒçº¿çŸ©å½¢æ¡†è¡¨ç¤ºã€‚å°†éœ€è¦ä¾èµ–å…¶ä»–å®ä½“å­˜åœ¨çš„å®ä½“ã€‚\nå®ä½“é—´çš„æ‰€æœ‰ï¼ˆOwnershipï¼Œæ‹¥æœ‰ï¼‰å…³ç³»ä»£è¡¨ä¸€ä¸ªå®ä½“å¯¹å¦ä¸€äº›å®ä½“å…·æœ‰å¾ˆå¼ºçš„ä¾èµ–å…³ç³»ï¼Œå³ä¸€ä¸ªå®ä½“çš„å­˜åœ¨å¿…é¡»ä»¥å¦ä¸€ä¸ªå®ä½“ä¸ºå‰æã€‚\nä¾‹å¦‚èŒå·¥ä¸å®¶å±çš„è”ç³»ï¼Œå®¶å±æ€»æ˜¯å±äºæŸèŒå·¥çš„ï¼ˆåœ¨å…³ç³»æ¨¡å¼ä¸­éœ€è¦ä¾èµ–èŒå·¥è€Œå­˜åœ¨ï¼‰ï¼Œæ‰€ä»¥å®¶å±æ˜¯å¼±å®ä½“ã€‚\nç‰¹æ®ŠåŒ–ï¼šå°†ä¸€ä¸ªå®ä½“é›†æŒ‰ç…§æŸäº›ç‰¹æ€§åŒºåˆ†ä¸ºå‡ ä¸ªå­å®ä½“ã€‚è¿™ç§ä»æ™®éåˆ°ç‰¹æ®Šçš„è¿‡ç¨‹å³ä¸ºç‰¹æ®ŠåŒ–ã€‚\nå­å®ä½“çš„å›¾å½¢è¡¨ç¤ºå¦‚ä¸‹ï¼š\nå­å®ä½“ç”±ç§°ä¸ºå­ç±»ï¼Œå®ƒä¼šæœ‰ä¸€ä¸ªè¶…ç±»ï¼Œå¹¶ä¸”èƒ½ç»§æ‰¿è¶…ç±»çš„å±æ€§ï¼Œè¶…ç±»çš„å±æ€§æ˜¯å®ä½“é›†ä¸­æ‰€æœ‰å­å®ä½“çš„ç›¸åŒå±æ€§ã€‚\nE-Rå›¾ä¸­çš„ä¸»è¦æ„ä»¶ï¼ˆåŒ…å«æ‰©å……çš„E-Ræ¨¡å‹æˆåˆ†ï¼‰ï¼š\nå»ºç«‹æ¦‚å¿µç»“æ„æ¨¡å‹ å»ºç«‹æ¦‚å¿µç»“æ„æ¨¡å‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š\né€‰æ‹©å±€éƒ¨åº”ç”¨ï¼š\néœ€æ±‚åˆ†æé˜¶æ®µå¾—åˆ°çš„å¤§é‡æ•°æ®åˆ†æ•£æ‚ä¹±ï¼Œè®¸å¤šæ•°æ®ä¼šåº”ç”¨äºä¸åŒçš„å¤„ç†ï¼Œæ•°æ®ä¸æ•°æ®ä¹‹é—´å…³è”å…³ç³»ä¹Ÿè¾ƒä¸ºå¤æ‚ã€‚è¦æœ€ç»ˆç¡®å®šå®ä½“ã€å±æ€§å’Œè”ç³»ï¼Œå¿…é¡»æ ¹æ®æ•°æ®æµå›¾è¿™ä¸€çº¿ç´¢ç†æ¸…æ•°æ®ã€‚\næ•°æ®æµå›¾æ˜¯å¯¹ä¸šåŠ¡å¤„ç†è¿‡ç¨‹ä»é«˜å±‚åˆ°åº•å±‚çš„ä¸€çº§æŠ½è±¡ï¼š\né«˜å±‚æŠ½è±¡æµå›¾ä¸€èˆ¬åæ˜ ç³»ç»Ÿçš„æ¦‚è²Œï¼Œå¯¹æ•°æ®çš„å¼•ç”¨è¾ƒä¸ºç¬¼ç»Ÿï¼› åº•å±‚åˆå¯èƒ½è¿‡äºç»†è‡´ï¼Œä¸èƒ½ä½“ç°æ•°æ®çš„å…³è”å…³ç³»ã€‚ å› æ­¤è¦é€‰æ‹©é€‚å½“å±‚æ¬¡çš„æ•°æ®æµå›¾ï¼Œè®©è¿™ä¸€å±‚çš„æ¯ä¸€éƒ¨åˆ†å¯¹åº”ä¸€ä¸ªå±€éƒ¨åº”ç”¨ï¼Œå®ç°æŸä¸€é¡¹åŠŸèƒ½ã€‚ä»è¿™ä¸€å±‚å…¥æ‰‹ï¼Œå°±èƒ½å¾ˆå¥½åœ°è®¾è®¡åˆ†E-Rå›¾ã€‚\né€ä¸€è®¾è®¡åˆ†E-Rå›¾ã€‚\nE-Rå›¾åˆå¹¶ï¼š\næ ¹æ®å±€éƒ¨åº”ç”¨è®¾è®¡å¥½å„å±€éƒ¨E-Rå›¾ä¹‹åï¼Œå°±å¯ä»¥å¯¹å„åˆ†E-Rå›¾è¿›è¡Œåˆå¹¶ã€‚\nåˆå¹¶çš„ç›®çš„åœ¨äºï¼Œåœ¨åˆå¹¶è¿‡ç¨‹ä¸­è§£å†³åˆ†E-Rå›¾ä¸­ç›¸äº’å­˜åœ¨çš„å†²çªã€‚\nåˆ†E-Rå›¾ä¹‹é—´çš„å†²çªä¸»è¦æœ‰ï¼š\nå±æ€§å†²çªï¼šåŒä¸€å±æ€§åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸Šçš„å±æ€§ç±»å‹ã€å–å€¼èŒƒå›´å’Œæ•°æ®å•ä½ç­‰å¯èƒ½ä¼šä¸ä¸€è‡´ã€‚ å‘½åå†²çªï¼šç›¸åŒæ„ä¹‰çš„å±æ€§åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸Šå¯èƒ½ä¼šæœ‰ä¸åŒçš„å‘½åã€‚ ç»“æ„å†²çªï¼šåŒä¸€å®ä½“åœ¨ä¸åŒçš„åˆ†E-Rå›¾ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„å±æ€§ï¼›åŒä¸€å¯¹è±¡åœ¨æŸä¸€åˆ†E-Rå›¾ä¸­è¢«æŠ½è±¡ä¸ºå®ä½“ï¼Œè€Œåœ¨å¦ä¸€åˆ†E-Rå›¾ä¸­åˆå¯èƒ½è¢«æŠ½è±¡ä¸ºå±æ€§ï¼Œåä¹‹äº¦ç„¶ã€‚ é€»è¾‘ç»“æ„è®¾è®¡ é€»è¾‘ç»“æ„è®¾è®¡å°±æ˜¯åœ¨æ¦‚å¿µç»“æ„è®¾è®¡çš„åŸºç¡€ä¸Šè¿›è¡Œæ•°æ®æ¨¡å‹è®¾è®¡ï¼Œå¯ä»¥æ˜¯å±‚æ¬¡æ¨¡å‹ã€ç½‘çŠ¶æ¨¡å‹å’Œå…³ç³»æ¨¡å‹ã€‚\né€šå¸¸æ˜¯æŠŠæ¦‚å¿µæ¨¡å‹è½¬æ¢æˆä¸ºæŸä¸ªå…·ä½“çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰€æ”¯æŒçš„ç»“æ„æ•°æ®æ¨¡å‹ï¼ˆä¸DBMSæœ‰å…³ï¼‰ã€‚å³ï¼Œå°†æ¦‚å¿µç»“æ„è®¾è®¡æ‰€å¾—çš„E-Ræ¨¡å‹è½¬æ¢æˆå…³ç³»æ¨¡å¼ã€‚\né€»è¾‘ç»“æ„è®¾è®¡çš„å·¥ä½œæ­¥éª¤ï¼š\nE-R æ¨¡å‹è½¬æ¢å…³ç³»æ¨¡å¼ å®ä½“å‘å…³ç³»æ¨¡å¼çš„è½¬æ¢ï¼š\nå°†E-Rå›¾ä¸­çš„å®ä½“é€ä¸€è½¬æ¢æˆä¸ºä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼š\nå®ä½“åï¼šå¯¹åº”å…³ç³»æ¨¡å¼çš„åç§°ï¼› å®ä½“çš„å±æ€§ï¼šè½¬æ¢æˆå…³ç³»æ¨¡å¼çš„å±æ€§ï¼› å®ä½“æ ‡è¯†ç¬¦ï¼šå…³ç³»çš„ç ï¼ˆé”®ï¼‰ã€‚ è¶…ç±»å’Œå­ç±»çš„è½¬æ¢ï¼šè¶…ç±»å’Œå­ç±»å®šä¹‰ä¸ºä¸¤ä¸ªå…³ç³»æ¨¡å¼ï¼Œå°†è¶…ç±»çš„ä¸»é”®åŠ åˆ°å­ç±»ä¸­ã€‚\nè”ç³»å‘å…³ç³»æ¨¡å¼çš„è½¬æ¢ï¼š\nä¸€å¯¹ä¸€è”ç³»çš„è½¬æ¢ï¼š\næœ‰ä¸¤ç§æ–¹å¼ï¼š\næ–¹å¼1ï¼šå°†è”ç³»è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§åŒ…æ‹¬è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç å–è‡ªä»»ä¸€æ–¹å®ä½“çš„ç ã€‚\né‚£ä¹ˆä¸€ä¸ªä¸€å¯¹ä¸€è”ç³»éœ€è¦è½¬æ¢æˆä¸‰ä¸ªå…³ç³»æ¨¡å¼ã€‚\næ–¹å¼2ï¼ˆä¸€èˆ¬ä½¿ç”¨è¯¥æ–¹å¼ï¼‰ï¼šå°†è”ç³»å½’å¹¶åˆ°å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ä»»ä¸€æ–¹ï¼Œç»™å¾…å½’å¹¶çš„ä¸€æ–¹å®ä½“å±æ€§é›†ä¸­å¢åŠ å¦ä¸€æ–¹å®ä½“çš„ç å’Œè¯¥è”ç³»çš„å±æ€§å³å¯ï¼Œå½’å¹¶åçš„å®ä½“ç ä¿æŒä¸å˜ã€‚\nä¸€ä¸ªä¸€å¯¹ä¸€è”ç³»ä»…éœ€è½¬æ¢æˆä¸¤ä¸ªå…³ç³»æ¨¡å¼ã€‚\nä¾‹å¦‚ï¼š\næ–¹å¼1ï¼š\nå‚é•¿ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nå·¥å‚ï¼ˆå‚å·ï¼Œå‚åï¼Œåœ°ç‚¹ï¼‰\nç®¡ç†ï¼ˆï¼ˆå‚é•¿ï¼‰å§“åï¼Œå‚å·ï¼Œä»»æœŸï¼‰\nç²—ä½“ä»£è¡¨è¯¥å…³ç³»æ¨¡å¼çš„ç ã€‚ç®¡ç†çš„ç å¯ä»¥ä¸ºå§“åæˆ–å‚å·ã€‚\næ–¹å¼2ï¼š\nå‚é•¿ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nå·¥å‚ï¼ˆå‚å·ï¼Œå‚åï¼Œåœ°ç‚¹ï¼Œï¼ˆå‚é•¿ï¼‰å§“åï¼Œä»»æœŸï¼‰\nä¸€å¯¹å¤šè”ç³»çš„è½¬æ¢ï¼š\nä¸¤ç§æ–¹å¼ï¼š\næ–¹å¼1ï¼šå°†è”ç³»è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§å–è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç æ˜¯å¤šæ–¹å®ä½“çš„ç ï¼› æ–¹å¼2ï¼ˆä¸€èˆ¬ä½¿ç”¨è¯¥æ–¹å¼ï¼‰ï¼šå°†è”ç³»å½’å¹¶åˆ°å…³è”çš„ä¸¤ä¸ªå®ä½“çš„å¤šæ–¹ï¼Œç»™å¾…å½’å¹¶çš„å¤šæ–¹å®ä½“å±æ€§é›†ä¸­å¢åŠ ä¸€æ–¹å®ä½“çš„ç å’Œè¯¥è”ç³»çš„å±æ€§å³å¯ï¼Œå½’å¹¶åçš„å¤šæ–¹å®ä½“ç ä¿æŒä¸å˜ã€‚ ä¾‹å¦‚ï¼š\næ–¹å¼1:\nä»“åº“ï¼ˆä»“åº“å·ï¼Œåœ°ç‚¹ï¼Œé¢ç§¯ï¼‰\nå•†å“ï¼ˆè´§å·ï¼Œå•†å“åï¼Œä»·æ ¼ï¼‰\nä»“å‚¨ï¼ˆè´§å·ï¼Œä»“åº“å·ï¼Œæ•°é‡ï¼‰\næ–¹å¼2ï¼š\nä»“åº“ï¼ˆä»“åº“å·ï¼Œåœ°ç‚¹ï¼Œé¢ç§¯ï¼‰\nå•†å“ï¼ˆè´§å·ï¼Œå•†å“åï¼Œä»·æ ¼ï¼Œä»“åº“å·ï¼Œæ•°é‡ï¼‰\nå¤šå¯¹å¤šè”ç³»çš„è½¬æ¢ï¼š\nå¤šå¯¹å¤šè”ç³»åªèƒ½è½¬æ¢æˆä¸€ä¸ªç‹¬ç«‹çš„å…³ç³»æ¨¡å¼ï¼Œå…³ç³»æ¨¡å¼çš„åç§°å–è”ç³»çš„åç§°ï¼Œå…³ç³»æ¨¡å¼çš„å±æ€§å–è¯¥è”ç³»æ‰€å…³è”çš„ä¸¤ä¸ªå¤šæ–¹å®ä½“çš„ç åŠè”ç³»çš„å±æ€§ï¼Œå…³ç³»çš„ç æ˜¯å¤šæ–¹å®ä½“çš„ç æ„æˆçš„å±æ€§ç»„ã€‚\nä¾‹å¦‚ï¼š\nè½¬æ¢æˆï¼š\nå­¦ç”Ÿï¼ˆå­¦å·ï¼Œå§“åï¼Œæ€§åˆ«ï¼Œå¹´é¾„ï¼‰\nè¯¾ç¨‹ï¼ˆè¯¾ç¨‹å·ï¼Œè¯¾ç¨‹åï¼Œå­¦æ—¶ï¼‰\né€‰ä¿®ï¼ˆï¼ˆå­¦å·ï¼Œè¯¾ç¨‹å·ï¼‰ï¼Œæˆç»©ï¼‰\nå…³ç³»æ¨¡å¼çš„è§„èŒƒåŒ– è½¬æ¢åçš„å…³ç³»æ¨¡å¼å¯èƒ½å­˜åœ¨æ•°æ®å†—ä½™ã€æ›´æ–°å¼‚å¸¸ç­‰é—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥çš„è§„èŒƒåŒ–å¤„ç†ã€‚\næ ¹æ®è¯­ä¹‰ç¡®å®šå„å…³ç³»æ¨¡å¼çš„æ•°æ®ä¾èµ–ï¼ˆå‡½æ•°ä¾èµ–ï¼‰ã€‚\næ ¹æ®æ•°æ®ä¾èµ–ç¡®å®šå…³ç³»æ¨¡å¼çš„èŒƒå¼ã€‚åˆ¤å®šå…³ç³»æ¨¡å¼æ˜¯å¦è¾¾åˆ°äº†3NFæˆ–4NFã€‚\nå¦‚æœå…³ç³»æ¨¡å¼ä¸ç¬¦åˆè¦æ±‚ï¼Œè¦æ ¹æ®å…³ç³»æ¨¡å¼çš„åˆ†è§£ç®—æ³•å¯¹å…¶è¿›è¡Œåˆ†è§£ï¼Œè¾¾åˆ°3NFã€BCNFæˆ–4NFã€‚\nå…³ç³»æ¨¡å¼çš„è¯„ä»·åŠä¿®æ­£ã€‚\næ ¹æ®è§„èŒƒåŒ–ç†è®ºå¯¹å…³ç³»æ¨¡å¼åˆ†è§£ä¹‹åï¼Œå°±å¯ä»¥åœ¨ç†è®ºä¸Šæ¶ˆé™¤å†—ä½™å’Œæ›´æ–°å¼‚å¸¸ã€‚ä½†æ ¹æ®å¤„ç†è¦æ±‚ï¼Œå¯èƒ½è¿˜éœ€è¦å¢åŠ éƒ¨åˆ†å†—ä½™ä»¥æ»¡è¶³å¤„ç†è¦æ±‚ï¼Œè¿™å°±éœ€è¦åšéƒ¨åˆ†å…³ç³»æ¨¡å¼çš„å¤„ç†ï¼Œåˆ†è§£ã€åˆå¹¶æˆ–å¢åŠ å†—ä½™å±æ€§ï¼Œæé«˜å­˜å‚¨æ•ˆç‡å’Œå¤„ç†æ•ˆç‡ã€‚\näº‹åŠ¡ç®¡ç† äº‹åŠ¡æ˜¯ä¸€ä¸ªæ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œâ€œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšâ€ã€‚\näº‹åŠ¡å’Œç¨‹åºæ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µï¼Œä¸€èˆ¬ä¸€ä¸ªç¨‹åºå¯åŒ…å«å¤šä¸ªäº‹åŠ¡ã€‚\nåœ¨SQLè¯­è¨€ä¸­ï¼Œäº‹åŠ¡å®šä¹‰çš„è¯­å¥æœ‰ä»¥ä¸‹ä¸‰æ¡ã€‚\nBEGIN TRANSACTIONï¼šäº‹åŠ¡å¼€å§‹ã€‚\nCOMMITï¼šäº‹åŠ¡æäº¤ã€‚\nè¯¥æ“ä½œè¡¨ç¤ºäº‹åŠ¡æˆåŠŸåœ°ç»“æŸï¼Œå®ƒå°†é€šçŸ¥äº‹åŠ¡ç®¡ç†å™¨è¯¥äº‹åŠ¡çš„æ‰€æœ‰æ›´æ–°æ“ä½œç°åœ¨å¯ä»¥è¢«æäº¤æˆ–æ°¸ä¹…åœ°ä¿ç•™ã€‚\nROLLBACKï¼šäº‹åŠ¡å›æ»šã€‚\nè¯¥æ“ä½œè¡¨ç¤ºäº‹åŠ¡éæˆåŠŸåœ°ç»“æŸï¼Œå®ƒå°†é€šçŸ¥äº‹åŠ¡ç®¡ç†å™¨å‡ºæ•…éšœäº†ï¼Œæ•°æ®åº“å¯èƒ½å¤„äºä¸ä¸€è‡´çŠ¶æ€ï¼Œè¯¥äº‹åŠ¡çš„æ‰€æœ‰æ›´æ–°æ“ä½œå¿…é¡»å›æ»šæˆ–æ’¤é”€ã€‚\näº‹åŠ¡çš„ACIDæ€§è´¨ï¼š\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯åŸå­çš„ï¼Œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åšã€‚\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡æ‰§è¡Œçš„ç»“æœå¿…é¡»ä¿è¯æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚\nå› æ­¤ï¼Œå½“æ•°æ®åº“åªåŒ…å«æˆåŠŸäº‹åŠ¡æäº¤çš„ç»“æœæ—¶ï¼Œç§°æ•°æ®åº“å¤„äºä¸€è‡´æ€§çŠ¶æ€ã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šäº‹åŠ¡ç›¸äº’éš”ç¦»ã€‚\nå½“å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä»»ä¸€äº‹åŠ¡çš„æ›´æ–°æ“ä½œç›´åˆ°å…¶æˆåŠŸæäº¤çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå¯¹å…¶ä»–äº‹åŠ¡éƒ½æ˜¯ä¸å¯è§çš„\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€æ—¦äº‹åŠ¡æˆåŠŸæäº¤ï¼Œå³ä½¿æ•°æ®åº“å´©æºƒï¼Œå…¶å¯¹æ•°æ®åº“çš„æ›´æ–°æ“ä½œä¹Ÿå°†æ°¸ä¹…æœ‰æ•ˆã€‚\næ•°æ®åº“æ•…éšœ åœ¨æ•°æ®åº“çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéš¾å…ä¼šå‡ºç°è®¡ç®—æœºç³»ç»Ÿçš„è½¯ã€ç¡¬ä»¶æ•…éšœï¼Œè¿™äº›æ•…éšœä¼šå½±å“æ•°æ®åº“ä¸­æ•°æ®çš„æ­£ç¡®æ€§ï¼Œç”šè‡³ç ´åæ•°æ®åº“ï¼Œä½¿æ•°æ®åº“ä¸­çš„å…¨éƒ¨æˆ–éƒ¨åˆ†æ•°æ®ä¸¢å¤±ã€‚å› æ­¤ï¼Œæ•°æ®åº“çš„å…³é”®æŠ€æœ¯åœ¨äºå»ºç«‹å†—ä½™æ•°æ®ï¼Œå³å¤‡ä»½æ•°æ®ã€‚å¦‚ä½•åœ¨ç³»ç»Ÿå‡ºç°æ•…éšœåèƒ½å¤ŸåŠæ—¶åœ°ä½¿æ•°æ®åº“æ¢å¤åˆ°æ•…éšœå‰çš„æ­£ç¡®çŠ¶æ€ï¼Œå°±æ˜¯æ•°æ®åº“æ¢å¤æŠ€æœ¯ã€‚\næ•…éšœç±»å‹ï¼š\näº‹åŠ¡å†…éƒ¨æ•…éšœï¼šæœ‰çš„å¯ä»¥é€šè¿‡äº‹åŠ¡ç¨‹åºæœ¬èº«å‘ç°ï¼›æœ‰çš„æ˜¯éé¢„æœŸçš„ï¼Œä¸èƒ½ç”±äº‹åŠ¡ç¨‹åºå¤„ç†ã€‚ ç³»ç»Ÿæ•…éšœï¼ˆè½¯æ•…éšœï¼‰ï¼šæ˜¯æŒ‡é€ æˆç³»ç»Ÿåœæ­¢è¿è¡Œçš„ä»»ä½•äº‹ä»¶ï¼Œä½¿å¾—ç³»ç»Ÿè¦é‡æ–°å¯åŠ¨ï¼Œä¾‹å¦‚CPUæ•…éšœã€æ“ä½œç³»ç»Ÿæ•…éšœå’Œçªç„¶åœç”µç­‰ã€‚ ä»‹è´¨æ•…éšœï¼ˆç¡¬æ•…éšœï¼‰ï¼šå¦‚ç£ç›˜æŸåã€ç£å¤´ç¢°æ’å’Œç¬æ—¶å¼ºç£å¹²æ‰°ã€‚æ­¤ç±»æ•…éšœå‘ç”Ÿçš„å‡ ç‡å°ï¼Œä½†ç ´åæ€§æœ€å¤§ã€‚ è®¡ç®—æœºç—…æ¯’ï¼šè®¡ç®—æœºç—…æ¯’æ˜¯ä¸€ç§äººä¸ºçš„æ•…éšœå’Œç ´åï¼Œæ˜¯åœ¨è®¡ç®—æœºç¨‹åºä¸­æ’å…¥çš„ç ´åï¼Œè®¡ç®—æœºåŠŸèƒ½æˆ–è€…æ•°æ®å¯ä»¥ç¹æ®–å’Œä¼ æ’­çš„ä¸€ç»„è®¡ç®—æœºæŒ‡ä»¤æˆ–ç¨‹åºä»£ç ã€‚ å¤‡ä»½æ–¹æ³• æ¢å¤çš„åŸºæœ¬åŸç†æ˜¯â€œå»ºç«‹æ•°æ®å†—ä½™â€ï¼ˆé‡å¤å­˜å‚¨ï¼‰ã€‚å»ºç«‹å†—ä½™æ•°æ®çš„æ–¹æ³•æ˜¯è¿›è¡Œæ•°æ®è½¬å‚¨å’Œç™»è®°æ—¥å¿—æ–‡ä»¶ï¼Œåˆ†ä¸ºï¼š\né™æ€è½¬å‚¨å’ŒåŠ¨æ€è½¬å‚¨ï¼š\né™æ€è½¬å‚¨ï¼šåœ¨è½¬å‚¨æœŸé—´ä¸å…è®¸å¯¹æ•°æ®åº“è¿›è¡Œä»»ä½•å­˜å–ã€ä¿®æ”¹æ“ä½œï¼›\nåŠ¨æ€è½¬å‚¨ï¼šåœ¨è½¬å‚¨æœŸé—´å…è®¸å¯¹æ•°æ®åº“è¿›è¡Œå­˜å–ã€ä¿®æ”¹æ“ä½œã€‚\nåŠ¨æ€è½¬å‚¨å’Œç”¨æˆ·äº‹åŠ¡å¯å¹¶å‘æ‰§è¡Œã€‚\næµ·é‡è½¬å‚¨å’Œå¢é‡è½¬å‚¨ï¼š\næµ·é‡è½¬å‚¨ï¼šæŒ‡æ¯æ¬¡è½¬å‚¨å…¨éƒ¨æ•°æ®ï¼› å¢é‡è½¬å‚¨ï¼šæŒ‡æ¯æ¬¡åªè½¬å‚¨ä¸Šæ¬¡è½¬å‚¨åæ›´æ–°è¿‡çš„æ•°æ®ã€‚ æ—¥å¿—æ–‡ä»¶ï¼š\nåœ¨äº‹åŠ¡å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼ŒDBMSæŠŠä»¥ä¸‹æ“ä½œå†™å…¥æ—¥å¿—æ–‡ä»¶ï¼š\näº‹åŠ¡å¼€å§‹ã€äº‹åŠ¡ç»“æŸï¼› å¯¹æ•°æ®åº“çš„æ’å…¥ã€åˆ é™¤å’Œä¿®æ”¹ã€‚ ä¸€æ—¦å‘ç”Ÿæ•…éšœï¼ŒDBMSçš„æ¢å¤å­ç³»ç»Ÿåˆ©ç”¨æ—¥å¿—æ–‡ä»¶æ’¤é”€äº‹åŠ¡å¯¹æ•°æ®åº“çš„æ”¹å˜ï¼Œå›é€€åˆ°äº‹åŠ¡çš„åˆå§‹çŠ¶æ€ã€‚å› æ­¤ï¼ŒDBMSåˆ©ç”¨æ—¥å¿—æ–‡ä»¶æ¥è¿›è¡Œäº‹åŠ¡æ•…éšœæ¢å¤å’Œç³»ç»Ÿæ•…éšœæ¢å¤ï¼Œå¹¶å¯ååŠ©åå¤‡å‰¯æœ¬è¿›è¡Œä»‹è´¨æ•…éšœæ¢å¤ã€‚\næ¢å¤ äº‹åŠ¡æ¢å¤æœ‰ä»¥ä¸‹3ä¸ªæ­¥éª¤ï¼š\nåå‘æ‰«ææ–‡ä»¶æ—¥å¿—ï¼ˆå³ä»æœ€åå‘å‰æ‰«ææ—¥å¿—æ–‡ä»¶ï¼‰ï¼ŒæŸ¥æ‰¾è¯¥äº‹åŠ¡çš„æ›´æ–°æ“ä½œã€‚ å¯¹äº‹åŠ¡çš„æ›´æ–°æ“ä½œæ‰§è¡Œé€†æ“ä½œã€‚ ç»§ç»­åå‘æ‰«ææ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥æ‰¾è¯¥äº‹åŠ¡çš„å…¶ä»–æ›´æ–°æ“ä½œï¼Œå¹¶åšåŒæ ·çš„å¤„ç†ï¼Œç›´åˆ°äº‹åŠ¡çš„å¼€å§‹æ ‡å¿—ã€‚ å¹¶å‘æ§åˆ¶ æ‰€è°“å¹¶å‘æ“ä½œï¼Œæ˜¯æŒ‡åœ¨å¤šç”¨æˆ·å…±äº«çš„ç³»ç»Ÿä¸­è®¸å¤šç”¨æˆ·å¯èƒ½åŒæ—¶å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œã€‚å¹¶å‘æ“ä½œå¸¦æ¥çš„é—®é¢˜æ˜¯æ•°æ®çš„ä¸ä¸€è‡´æ€§ï¼Œä¸»è¦æœ‰ä¸‰ç±»ï¼š\nä¸¢å¤±æ›´æ–° ä¸å¯é‡å¤è¯» è¯»è„æ•°æ® å…¶ä¸»è¦åŸå› æ˜¯äº‹åŠ¡çš„å¹¶å‘æ“ä½œç ´åäº†äº‹åŠ¡çš„éš”ç¦»æ€§ã€‚DBMSçš„å¹¶å‘æ§åˆ¶å­ç³»ç»Ÿè´Ÿè´£åè°ƒå¹¶å‘äº‹åŠ¡çš„æ‰§è¡Œï¼Œä¿è¯æ•°æ®åº“çš„å®Œæ•´æ€§ä¸å—ç ´åï¼Œé¿å…ç”¨æˆ·å¾—åˆ°ä¸æ­£ç¡®çš„æ•°æ®ã€‚\nå°é” å¹¶å‘æ§åˆ¶çš„ä¸»è¦æŠ€æœ¯æ˜¯å°é”ã€‚åŸºæœ¬å°é”çš„ç±»å‹æœ‰ï¼š\næ’å®ƒé”ï¼ˆXé”æˆ–å†™é”ï¼‰ï¼šè‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠXé”ï¼Œåˆ™åªå…è®¸Tè¯»å–å’Œä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡éƒ½ä¸èƒ½å†å¯¹AåŠ ä»»ä½•ç±»å‹çš„é”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„é”ã€‚\nå…±äº«é”ï¼ˆSé”æˆ–è¯»é”ï¼‰ï¼šè‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠSé”ï¼Œåˆ™åªå…è®¸Tè¯»å–Aï¼Œä½†ä¸èƒ½ä¿®æ”¹Aï¼Œå…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹AåŠ Sé”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„Sé”ã€‚\nè¿™å°±ä¿è¯äº†å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»Aï¼Œä½†åœ¨Té‡Šæ”¾Aä¸Šçš„Sé”ä¹‹å‰ä¸èƒ½å¯¹Aè¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚\nåˆ†å¸ƒå¼æ•°æ®åº“ åˆ†å¸ƒå¼æ•°æ®åº“ç³»ç»Ÿæ˜¯æŒ‡æ•°æ®å­˜æ”¾åœ¨è®¡ç®—æœºç½‘ç»œçš„ä¸åŒåœºåœ°çš„è®¡ç®—æœºä¸­ï¼Œæ¯ä¸€åœºåœ°éƒ½æœ‰è‡ªæ²»å¤„ç†èƒ½åŠ›å¹¶èƒ½å®Œæˆå±€éƒ¨åº”ç”¨ï¼›è€Œæ¯ä¸€åœºåœ°ä¹Ÿå‚ä¸ï¼ˆè‡³å°‘ä¸€ç§ï¼‰å…¨å±€åº”ç”¨ç¨‹åºçš„æ‰§è¡Œï¼Œå…¨å±€åº”ç”¨ç¨‹åºå¯é€šè¿‡ç½‘ç»œé€šä¿¡è®¿é—®ç³»ç»Ÿä¸­å¤šä¸ªåœºåœ°çš„æ•°æ®ã€‚å…¶å®šä¹‰å¼ºè°ƒåˆ†å¸ƒæ€§å’Œé€»è¾‘æ•´ä½“æ€§ä¸¤ç‚¹ã€‚\nåˆ†å¸ƒå¼æ•°æ®åº“ä¸­æœ‰ä»¥ä¸‹åŸºæœ¬æ¦‚å¿µï¼š\nåˆ†ç‰‡é€æ˜ï¼šæŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºä¸éœ€è¦çŸ¥é“é€»è¾‘ä¸Šè®¿é—®çš„è¡¨å…·ä½“æ˜¯æ€ä¹ˆåˆ†å—å­˜å‚¨çš„ã€‚ å¤åˆ¶é€æ˜ï¼šæŒ‡é‡‡ç”¨å¤åˆ¶æŠ€æœ¯çš„åˆ†å¸ƒæ–¹æ³•ï¼Œç”¨æˆ·ä¸éœ€è¦çŸ¥é“æ•°æ®æ˜¯å¤åˆ¶åˆ°å“ªäº›èŠ‚ç‚¹ï¼Œå¦‚ä½•å¤åˆ¶çš„ã€‚ ä½ç½®é€æ˜ï¼šæŒ‡ç”¨æˆ·æ— é¡»çŸ¥é“æ•°æ®å­˜æ”¾çš„ç‰©ç†ä½ç½®ã€‚ é€»è¾‘é€æ˜ï¼šæŒ‡ç”¨æˆ·æˆ–åº”ç”¨ç¨‹åºæ— éœ€çŸ¥é“å±€éƒ¨åœºåœ°ä½¿ç”¨çš„æ˜¯å“ªç§æ•°æ®æ¨¡å‹ã€‚ å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š\nå…±äº«æ€§ï¼šæ•°æ®å­˜å‚¨åœ¨ä¸åŒçš„ç»“ç‚¹æ•°æ®å…±äº«ã€‚ è‡ªæ²»æ€§ï¼šæŒ‡æ¯ç»“ç‚¹å¯¹æœ¬åœ°æ•°æ®éƒ½èƒ½ç‹¬ç«‹ç®¡ç†ã€‚ å¯ç”¨æ€§ï¼šæŒ‡å½“æŸä¸€åœºåœ°æ•…éšœæ—¶ï¼Œç³»ç»Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åœºåœ°ä¸Šçš„å‰¯æœ¬è€Œä¸è‡³äºä½¿æ•´ä¸ªç³»ç»Ÿç˜«ç—ªã€‚ åˆ†å¸ƒæ€§ï¼šæŒ‡æ•°æ®åœ¨ä¸åŒåœºåœ°ä¸Šçš„å­˜å‚¨ã€‚ å­˜å‚¨è¿‡ç¨‹ å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯åœ¨å¤§å‹æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQLè¯­å¥é›†ï¼Œå®ƒå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œä¸€æ¬¡ç¼–è¯‘åæ°¸ä¹…æœ‰æ•ˆï¼Œç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å‡ºå‚æ•°ï¼ˆå¦‚æœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°ï¼‰æ¥æ‰§è¡Œå®ƒã€‚\nå­˜å‚¨è¿‡ç¨‹æ˜¯æ•°æ®åº“æ‰€æä¾›çš„ä¸€ç§æ•°æ®åº“å¯¹è±¡ï¼Œé€šè¿‡å­˜å‚¨è¿‡ç¨‹å®šä¹‰ä¸€æ®µä»£ç ï¼Œæä¾›ç»™åº”ç”¨ç¨‹åºè°ƒç”¨æ¥æ‰§è¡Œã€‚ä»å®‰å…¨æ€§çš„è§’åº¦è€ƒè™‘ï¼Œæ›´æ–°æ•°æ®æ—¶ï¼Œé€šè¿‡æä¾›å­˜å‚¨è¿‡ç¨‹æ­£ç¬¬ä¸‰æ–¹è°ƒç”¨ï¼Œå°†éœ€è¦æ›´æ–°çš„æ•°æ®ä¼ å…¥å­˜å‚¨è¿‡ç¨‹ï¼Œè€Œåœ¨å­˜å‚¨è¿‡ç¨‹å†…éƒ¨ç”¨ä»£ç åˆ†åˆ«å¯¹éœ€è¦çš„å¤šä¸ªè¡¨è¿›è¡Œæ›´æ–°ï¼Œä»è€Œé¿å…äº†å‘ç¬¬ä¸‰æ–¹æä¾›ç³»ç»Ÿçš„è¡¨ç»“æ„ï¼Œä¿è¯äº†ç³»ç»Ÿçš„æ•°æ®å®‰å…¨ã€‚\n","date":"2023å¹´4æœˆ22æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/data-base/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1682121600,"title":"æ•°æ®åº“ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"é¢å‘å¯¹è±¡åŸºæœ¬æ¦‚å¿µ é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼Œ00ï¼‰ = å¯¹è±¡ï¼ˆObjectï¼‰+ åˆ†ç±»ï¼ˆClassificationï¼‰+ ç»§æ‰¿ï¼ˆInheritanceï¼‰+ é€šè¿‡æ¶ˆæ¯çš„é€šä¿¡ï¼ˆCommunication with Messagesï¼‰\nå¯¹è±¡ åœ¨é¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ˜¯åŸºæœ¬çš„è¿è¡Œæ—¶çš„å®ä½“ï¼Œå®ƒåŒ…æ‹¬ï¼š\nå±æ€§ï¼šæ•°æ®ï¼› è¡Œä¸ºï¼šä½œç”¨äºæ•°æ®çš„æ“ä½œã€‚ ä¸€ä¸ªå¯¹è±¡æŠŠå±æ€§å’Œè¡Œä¸ºå°è£…ä¸ºä¸€ä¸ªæ•´ä½“ã€‚\nå°è£…æ˜¯ä¸€ç§ä¿¡æ¯éšè”½æŠ€æœ¯ï¼Œå®ƒçš„ç›®çš„æ˜¯ä½¿å¯¹è±¡çš„ä½¿ç”¨è€…å’Œç”Ÿäº§è€…åˆ†ç¦»ï¼Œä½¿å¯¹è±¡çš„å®šä¹‰å’Œå®ç°åˆ†å¼€ã€‚\nå¯¹è±¡å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç¨‹åºæ¨¡å—ã€‚\nä¸€ä¸ªå¯¹è±¡é€šå¸¸ç”±ä»¥ä¸‹æˆåˆ†ç»„æˆï¼š\nå¯¹è±¡åï¼› å±æ€§ï¼› æ–¹æ³•ã€‚ æ¶ˆæ¯ å¯¹è±¡ä¹‹é—´è¿›è¡Œé€šä¿¡çš„ä¸€ç§æ„é€ å«ä»¶æ¶ˆæ¯ã€‚\nç±» ç±»å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š\nå®ä½“ç±»ï¼šå®ä½“ç±»çš„å¯¹è±¡è¡¨ç¤ºç°å®ä¸–ç•Œä¸­çœŸå®çš„å®ä½“ï¼›\næ¥å£ç±»ï¼šæ¥å£ç±»çš„å¯¹è±¡ä¸ºç”¨æˆ·æä¾›ä¸€ç§ä¸ç³»ç»Ÿåˆä½œäº¤äº’çš„æ–¹å¼ï¼Œåˆ† ä¸ºäººå’Œç³»ç»Ÿä¸¤å¤§ç±»ï¼ˆè¾¹ç•Œç±»ï¼‰ï¼›\näººçš„æ¥å£å¯ä»¥æ˜¯æ˜¾ç¤ºå±ã€çª—å£ã€Wbçª—ä½“ã€å¯¹è¯æ¡†ã€èœå•ã€åˆ—è¡¨æ¡†ã€å…¶ä»–æ˜¾ç¤ºæ§åˆ¶ã€æ¡å½¢ç ã€äºŒç»´ç æˆ–è€…ç”¨æˆ·ä¸ç³»ç»Ÿäº¤äº’çš„å…¶ä»–æ–¹æ³•ã€‚ ç³»ç»Ÿæ¥å£æ¶‰åŠåˆ°æŠŠæ•°æ®å‘é€åˆ°å…¶ä»–ç³»ç»Ÿï¼Œæˆ–è€…ä»å…¶ä»–ç³»ç»Ÿæ¥æ”¶æ•°æ®ã€‚ æ§åˆ¶ç±»ï¼šæ§åˆ¶ç±»çš„å¯¹è±¡ç”¨æ¥æ§åˆ¶æ´»åŠ¨æµï¼Œå……å½“åè°ƒè€…ã€‚\nç»§æ‰¿ ç»§æ‰¿æ˜¯çˆ¶ç±»å’Œå­ç±»ä¹‹é—´å…±äº«æ•°æ®å’Œæ–¹æ³•çš„æœºåˆ¶ã€‚è¿™æ˜¯ç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ï¼Œåœ¨å®šä¹‰å’Œå®ç°ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»çš„åŸºç¡€ä¸Šè¿›è¡Œï¼ŒæŠŠè¿™ä¸ªå·²ç»å­˜åœ¨çš„ç±»æ‰€å®šä¹‰çš„å†…å®¹ä½œä¸ºè‡ªå·±çš„å†…å®¹ï¼Œå¹¶åŠ å…¥è‹¥å¹²æ–°çš„å†…å®¹ã€‚\nä¸€ä¸ªçˆ¶ç±»å¯ä»¥æœ‰å¤šä¸ªå­ç±»ã€‚æ‰€ä»¥ç»§æ‰¿åˆåˆ†ä¸ºï¼š\nå•é‡ç»§æ‰¿ï¼šåªä»ä¸€ä¸ªçˆ¶ç±»å¾—åˆ°ç»§æ‰¿ï¼›\nå¤šé‡ç»§æ‰¿ï¼šä¸€ä¸ªå­ç±»æœ‰ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªçˆ¶ç±»ã€‚\nå¤šé‡ç»§æ‰¿ä¸­å¯èƒ½å¯¼è‡´å­ç±»å­˜åœ¨äºŒä¹‰æ€§çš„æˆå‘˜ã€‚\nå¤šæ€ å¤šæ€ï¼ˆPolymorphismï¼‰ï¼šä¸åŒçš„å¯¹è±¡æ”¶åˆ°åŒä¸€æ¶ˆæ¯å¯ä»¥äº§ç”Ÿå®Œå…¨ä¸åŒçš„ç»“æœã€‚\nåŒä¸€æ¶ˆæ¯å°±å¯ä»¥è°ƒç”¨ä¸åŒçš„æ–¹æ³•ã€‚å¤šæ€çš„å®ç°å—åˆ°ç»§æ‰¿çš„æ”¯æŒï¼Œåˆ©ç”¨ç±»çš„ç»§æ‰¿çš„å±‚æ¬¡å…³ç³»ï¼ŒæŠŠå…·æœ‰é€šç”¨åŠŸèƒ½çš„æ¶ˆæ¯å­˜æ”¾åœ¨é«˜å±‚æ¬¡ï¼Œè€Œä¸åŒçš„å®ç°è¿™ä¸€åŠŸèƒ½çš„è¡Œä¸ºæ”¾åœ¨è¾ƒä½å±‚æ¬¡ï¼Œåœ¨è¿™äº›ä½å±‚æ¬¡ä¸Šç”Ÿæˆçš„å¯¹è±¡èƒ½å¤Ÿç»™é€šç”¨æ¶ˆæ¯ä»¥ä¸åŒçš„å“åº”ã€‚\nå¤šæ€æœ‰ä¸åŒçš„å½¢å¼ï¼š\né€šç”¨çš„å¤šæ€ï¼š å‚æ•°å¤šæ€ï¼šåº”ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œè¢«ç§°ä¸ºæœ€çº¯çš„å¤šæ€ï¼› åŒ…å«å¤šæ€ï¼šåœ¨è®¸å¤šè¯­è¨€ä¸­éƒ½å­˜åœ¨ï¼Œæœ€å¸¸è§çš„ä¾‹å­å°±æ˜¯å­ç±»å‹åŒ–ã€‚å³ä¸€ä¸ªç±»å‹æ˜¯å¦ä¸€ä¸ªç±»å‹çš„å­ç±»å‹ã€‚ ç‰¹å®šçš„å¤šæ€ï¼š è¿‡è½½ï¼ˆOverloadingï¼‰å¤šæ€ï¼šåŒä¸€ä¸ªåå­—åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æ‰€ä»£è¡¨çš„å«ä¹‰ä¸åŒï¼› å¼ºåˆ¶å¤šæ€ã€‚ ç»‘å®š ç»‘å®šæ˜¯ä¸€ä¸ªæŠŠè¿‡ç¨‹è°ƒç”¨å’Œå“åº”è°ƒç”¨æ‰€éœ€è¦æ‰§è¡Œçš„ä»£ç åŠ ä»¥ç»“åˆçš„è¿‡ç¨‹ã€‚\nç»‘å®šåˆ†ä¸ºï¼š\né™æ€ç»‘å®šï¼šåœ¨ç¼–è¯‘æ—¶è¿›è¡Œçš„ï¼›\nåŠ¨æ€ç»‘å®šï¼šåœ¨è¿è¡Œæ—¶è¿›è¡Œçš„ã€‚\nä¸€ä¸ªç»™å®šçš„è¿‡ç¨‹è°ƒç”¨å’Œä»£ç çš„ç»“åˆç›´åˆ°è°ƒç”¨å‘ç”Ÿæ—¶æ‰è¿›è¡Œã€‚\nåŠ¨æ€ç»‘å®šæ˜¯å’Œç±»çš„ç»§æ‰¿ä»¥åŠå¤šæ€ç›¸è”ç³»çš„ã€‚åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå­ç±»æ˜¯çˆ¶ç±»çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œæ‰€ä»¥çˆ¶ç±»å¯¹è±¡å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»å¯¹è±¡ä¹Ÿå¯ä»¥å‡ºç°ã€‚\nåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯è¯·æ±‚æœåŠ¡æ—¶ï¼Œè¦æ ¹æ®åŒ¿æ”¶å¯¹è±¡çš„å…¶ä½“æƒ…å†µå°†è¯·æ±‚çš„æ“ä½œä¸å®ç°çš„æ–¹æ³•è¿›è¡Œè¿æ¥ï¼Œå³åŠ¨æ€ç»‘å®šã€‚\né¢å‘å¯¹è±¡åˆ†æ åŒå…¶ä»–åˆ†ææ–¹æ³•ä¸€æ ·ï¼Œé¢å‘å¯¹è±¡åˆ†æï¼ˆObject-Oriented Analysisï¼ŒOOAï¼‰çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—å¯¹åº”ç”¨é—®é¢˜çš„ç†è§£ã€‚\né¢å‘å¯¹è±¡åˆ†æåŒ…å«5ä¸ªæ´»åŠ¨ï¼š\nè®¤å®šå¯¹è±¡ï¼› ç»„ç»‡å¯¹è±¡ï¼› æè¿°å¯¹è±¡é—´çš„ç›¸äº’ä½œç”¨ï¼› ç¡®å®šå¯¹è±¡çš„æ“ä½œ å®šä¹‰å¯¹è±¡çš„å†…éƒ¨ä¿¡æ¯ã€‚ è®¤å®šå¯¹è±¡ åœ¨åº”ç”¨é¢†åŸŸä¸­ï¼ŒæŒ‰è‡ªç„¶å­˜åœ¨çš„å®ä½“ç¡®ç«‹å¯¹è±¡ã€‚\nåœ¨å®šä¹‰åŸŸä¸­ï¼Œé¦–å…ˆå°†è‡ªç„¶å­˜åœ¨çš„â€œåè¯â€ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™é€šå¸¸æ˜¯ç ”ç©¶é—®é¢˜ã€å®šä¹‰åŸŸå®ä½“çš„è‰¯å¥½å¼€å§‹ã€‚\nç»„ç»‡å¯¹è±¡ åˆ†æå¯¹è±¡é—´çš„å…³ç³»ï¼Œå°†ç›¸å…³å¯¹è±¡æŠ½è±¡æˆç±»ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–å…³è”å¯¹è±¡ï¼Œåˆ©ç”¨ç±»çš„ç»§æ‰¿æ€§å»ºç«‹å…·æœ‰ç»§æ‰¿æ€§å±‚æ¬¡çš„ç±»ç»“æ„ã€‚\næŠ½è±¡ç±»æ—¶å¯ä»ä»¥ä¸‹æ–¹é¢è€ƒè™‘ï¼š\nå¯¹è±¡é—´çš„æ“ä½œï¼› ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªå¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æˆ¿å­æ˜¯ç”±é—¨å’Œçª—æ„æˆçš„ã€‚ é¢å‘å¯¹è±¡è®¾è®¡ ç¨‹åºè®¾è®¡èŒƒå‹ï¼ˆProgramming Paradigmï¼‰æ˜¯äººä»¬åœ¨ç¨‹åºè®¾è®¡æ—¶æ‰€é‡‡ç”¨çš„åŸºæœ¬æ–¹å¼æ¨¡å‹ï¼Œå†³å®šäº†ç¨‹åºè®¾è®¡æ—¶é‡‡ç”¨çš„æ€ç»´æ–¹å¼ã€ä½¿ç”¨çš„å·¥å…·ï¼ŒåŒæ—¶åˆæœ‰ä¸€å®šçš„åº”ç”¨èŒƒç•´ã€‚\nç¨‹åºè®¾è®¡èŒƒå‹çš„å‘å±•ç»å†äº†ï¼š\nè¿‡ç¨‹ç¨‹åºè®¾è®¡ï¼› æ¨¡å—åŒ–ç¨‹åºè®¾è®¡ï¼› å‡½æ•°ç¨‹åºè®¾è®¡ï¼› é€»è¾‘ç¨‹åºè®¾è®¡ï¼› é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡èŒƒå‹ã€‚ é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆObject-Oriented Programmingï¼ŒOOPï¼‰çš„å®è´¨æ˜¯é€‰ç”¨ä¸€ç§é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆObject-Oriented Programming Languageï¼ŒOOPLï¼‰ï¼š\né‡‡ç”¨å¯¹è±¡ã€ç±»åŠå…¶ç›¸å…³æ¦‚å¿µæ‰€è¿›è¡Œçš„ç¨‹åºè®¾è®¡ï¼› å…³é”®åœ¨äºåŠ å…¥äº†ç±»å’Œç»§æ‰¿æ€§ï¼Œä»è€Œè¿›ä¸€æ­¥æé«˜äº†æŠ½è±¡ç¨‹åº¦ã€‚ ç‰¹å®šçš„OOPæ¦‚å¿µä¸€èˆ¬æ˜¯é€šè¿‡OOPLä¸­ç‰¹å®šçš„è¯­è¨€æœºåˆ¶æ¥ä½“ç°çš„ã€‚\nOOPç°åœ¨å·²ç»æ‰©å±•åˆ°ç³»ç»Ÿåˆ†æå’Œè½¯ä»¶è®¾è®¡çš„èŒƒç•´ï¼Œå‡ºç°äº†é¢å‘å¯¹è±¡åˆ†æå’Œé¢å‘å¯¹è±¡è®¾è®¡çš„æ¦‚å¿µã€‚\nè®¾è®¡åŸåˆ™ é¢å‘å¯¹è±¡æ–¹æ³•ä¸­çš„äº”å¤§åŸåˆ™ï¼š\nè´£ä»»åŸåˆ™ï¼ˆSingle Responsibility Principleï¼ŒSRPï¼‰ï¼šå½“éœ€è¦ä¿®æ”¹æŸä¸ªç±»çš„æ—¶å€™åŸå› æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œè®©ä¸€ä¸ªç±»åªåšä¸€ç§ç±»å‹è´£ä»»ã€‚\nå¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen \u0026amp; Close Principleï¼ŒOCPï¼‰ï¼šè½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº” è¯¥å¯ä»¥æ‰©å±•çš„ï¼Œå³å¼€æ”¾çš„ï¼›ä½†æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œå³å°é—­çš„ã€‚\né‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼ŒLSPï¼‰ï¼šå­ç±»å‹å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æ‰ä»–ä»¬çš„åŸº ç±»å‹ã€‚\nå³ï¼Œåœ¨ä»»ä½•çˆ¶ç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨å­ç±»çš„å®ä¾‹æ¥èµ‹å€¼ç»™çˆ¶ç±»å‹çš„å¼•ç”¨ã€‚\nå½“ä¸€ä¸ªå­ç±»çš„å®ä¾‹åº”è¯¥èƒ½å¤Ÿæ›¿æ¢ä»»ä½•å…¶è¶…ç±»çš„å®ä¾‹æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ‰å…·æœ‰æ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰å…³ç³»ã€‚\nä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼ŒDPï¼‰ï¼šæŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»† èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚å³ï¼Œé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚\næ¥å£åˆ†ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼ŒISPï¼‰ï¼šä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ä¾èµ–äºå®ƒä»¬ä¸ ç”¨çš„æ–¹æ³•ã€‚æ¥å£å±äºå®¢æˆ·ï¼Œä¸å±äºå®ƒæ‰€åœ¨çš„ç±»å±‚æ¬¡ç»“æ„ã€‚\nå³ï¼šä¾èµ–äºæŠ½è±¡ï¼Œä¸è¦ä¾èµ–äºå…·ä½“ï¼ŒåŒæ—¶åœ¨æŠ½è±¡çº§åˆ«ä¸åº”è¯¥æœ‰å¯¹äºç»†èŠ‚çš„ä¾èµ–ã€‚\nè¿™æ ·åšçš„å¥½å¤„å°±åœ¨äºå¯ä»¥æœ€å¤§é™åº¦åœ°åº”å¯¹å¯èƒ½çš„å˜åŒ–ã€‚\nRobert C. Martinæå‡ºçš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™è¿˜åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š\né‡ç”¨å‘å¸ƒç­‰ä»·åŸåˆ™ï¼ˆRelease Reuse Equivalency Principleï¼ŒREPï¼‰ï¼šé‡ç”¨çš„ç²’åº¦å°±æ˜¯å‘å¸ƒçš„ç²’åº¦ã€‚ å…±åŒå°é—­åŸåˆ™ï¼ˆCommon Closure Principleï¼ŒCCPï¼‰ï¼šåŒ…ä¸­çš„æ‰€æœ‰ç±»å¯¹äºåŒä¸€ç±»æ€§è´¨çš„å˜åŒ–åº”è¯¥æ˜¯å…±åŒåˆ°é—­çš„ã€‚ä¸€ä¸ªå˜åŒ–è‹¥å¯¹ä¸€ä¸ªåŒ…äº§ç”Ÿå½±å“ï¼Œåˆ™å°†å¯¹è¯¥åŒ…ä¸­çš„æ‰€æœ‰ç±»äº§ç”Ÿå½±å“ï¼Œè€Œå¯¹äºå…¶ä»–çš„åŒ…ä¸é€ æˆä»»ä½•å½±å“ã€‚ å…±åŒé‡ç”¨åŸåˆ™ï¼ˆCommon Reuse Principleï¼ŒCRPï¼‰ï¼šä¸€ä¸ªåŒ…ä¸­çš„æ‰€æœ‰ç±»åº”è¯¥æ˜¯å…±åŒé‡ç”¨ çš„ã€‚å¦‚æœé‡ç”¨äº†åŒ…ä¸­çš„ä¸€ä¸ªç±»é‚£ä¹ˆå°±è¦é‡ç”¨åŒ…ä¸­çš„æ‰€æœ‰ç±»ã€‚ æ— ç¯ä¾èµ–åŸåˆ™ï¼ˆAcyclic Dependencies Principleï¼ŒADPï¼‰ï¼šåœ¨åŒ…çš„ä¾èµ–å…³ç³»å›¾ä¸­ä¸å…è®¸å­˜ åœ¨ç¯ï¼Œå³åŒ…ä¹‹é—´çš„ç»“æ„å¿…é¡»æ˜¯ä¸€ä¸ªç›´æ¥çš„äº”ç¯å›¾å½¢ã€‚ ç¨³å®šä¾èµ–åŸåˆ™ï¼ˆStable Dependencies Principle,SDPï¼‰ï¼šæœç€ç¨³å®šçš„æ–¹å‘è¿›è¡Œä¾èµ–ã€‚ ç¨³å®šæŠ½è±¡åŸåˆ™ï¼ˆStable Abstractions Principleï¼ŒSAPï¼‰ï¼šåŒ…çš„æŠ½è±¡ç¨‹åº¦åº”è¯¥å’Œå…¶ç¨³å®šç¨‹ åº¦ä¸€è‡´ã€‚ UML é¢å‘å¯¹è±¡åˆ†æå¼ºè°ƒçš„æ˜¯å¯¹ä¸€ä¸ªç³»ç»Ÿä¸­å¯¹è±¡çš„ç‰¹å¾å’Œè¡Œä¸ºçš„å®šä¹‰ã€‚ç›®å‰ï¼Œå›½é™…ä¸Šå·²ç»å‡ºç°äº†å¤šç§é¢å‘å¯¹è±¡çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š\nPeter Coadå’ŒEdward Yourdonçš„OOAå’ŒOODæ–¹æ³•ï¼ˆåˆç§°Coad/Yourdonæ–¹æ³•æˆ–Coadæ–¹æ³•ï¼‰ï¼› Boochçš„OODæ–¹æ³•ï¼ˆåˆç§°Boochæ–¹æ³•ï¼‰ï¼› OMTï¼ˆObject Modeling Techniqueï¼Œé¢å‘å¯¹è±¡å»ºæ¨¡æŠ€æœ¯ï¼‰æ–¹æ³•ï¼› UMLï¼ˆUnified Modeling Languageï¼Œç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼‰ã€‚ UMLæ˜¯é¢å‘å¯¹è±¡è½¯ä»¶çš„æ ‡å‡†åŒ–å»ºæ¨¡è¯­è¨€ã€‚ç”±äºå…¶ç®€å•ã€ç»Ÿä¸€ï¼Œåˆèƒ½å¤Ÿè¡¨è¾¾è½¯ä»¶è®¾è®¡ä¸­çš„åŠ¨æ€å’Œé™æ€ä¿¡æ¯ï¼Œç›®å‰å·±ç»æˆä¸ºå¯è§†åŒ–å»ºæ¨¡è¯­è¨€äº‹å®ä¸Šçš„å·¥ä¸šæ ‡å‡†ã€‚\nUMLä¸­åŒ…å«3ç§åŸºæœ¬æ„é€ å—ï¼š\näº‹ç‰©ï¼› å…³ç³»ï¼› å›¾ã€‚ äº‹ç‰© UMLä¸­æœ‰4ç§äº‹ç‰©ï¼š\nç»“æ„äº‹ç‰©ï¼ˆStructural Thingï¼‰ï¼šæ˜¯UMLæ¨¡å‹ä¸­çš„åè¯ã€‚å®ƒä»¬é€šå¸¸æ˜¯æ¨¡å‹çš„é™æ€éƒ¨åˆ†ï¼Œæè¿°æ¦‚å¿µæˆ–ç‰©ç†å…ƒç´ ã€‚\nç»“æ„äº‹ç‰©åŒ…æ‹¬ï¼š\nç±»ï¼ˆClassï¼‰ï¼›\næ¥å£ï¼ˆInterfaceï¼‰ï¼›\nåä½œï¼ˆCollaborationï¼‰ï¼›\nç”¨ä¾‹ï¼ˆUse Caseï¼‰ï¼›\nä¸»åŠ¨ç±»ï¼ˆActive Classï¼‰ï¼›\næ„ä»¶ï¼ˆComponentï¼‰ï¼›\nåˆ¶å“ï¼ˆArtifactï¼‰ï¼›\nç»“ç‚¹ï¼ˆNodeï¼‰ï¼›\n\u0026hellip;\u0026hellip;\nè¡Œä¸ºäº‹ç‰©ï¼ˆBehavior Thingï¼‰ï¼šæ˜¯UMLæ¨¡å‹çš„åŠ¨æ€éƒ¨åˆ†ã€‚å®ƒä»¬æ˜¯æ¨¡å‹ä¸­çš„åŠ¨è¯ï¼Œæè¿°äº†è·¨è¶Šæ—¶é—´å’Œç©ºé—´çš„è¡Œä¸ºã€‚\nè¡Œä¸ºäº‹ç‰©åŒ…æ‹¬ï¼š\näº¤äº’ï¼ˆInteractionï¼‰ï¼›\nçŠ¶æ€æœºï¼ˆState Machineï¼‰ï¼›\næ´»åŠ¨ï¼ˆActivityï¼‰ï¼›\n\u0026hellip;\u0026hellip;\nåˆ†ç»„äº‹ç‰©ï¼ˆGrouping Thingï¼‰ï¼šUMLæ¨¡å‹çš„ç»„ç»‡éƒ¨åˆ†ï¼Œæ˜¯ä¸€äº›ç”±æ¨¡å‹åˆ†è§£æˆçš„â€œç›’å­â€ã€‚\nåœ¨æ‰€æœ‰çš„åˆ†ç»„äº‹ç‰©ä¸­ï¼Œæœ€ä¸»è¦çš„åˆ†ç»„äº‹ç‰©æ˜¯åŒ…ï¼ˆPackageï¼‰ã€‚åŒ…æ˜¯æŠŠå…ƒç´ ç»„ç»‡æˆç»„çš„æœºåˆ¶ï¼Œè¿™ç§æœºåˆ¶å…·æœ‰å¤šç§ç”¨é€”ã€‚ç»“æ„äº‹ç‰©ã€è¡Œä¸ºäº‹ç‰©ç”šè‡³å…¶ä»–åˆ†ç»„äº‹ç‰©éƒ½å¯ä»¥æ”¾è¿›åŒ…å†…ã€‚\nåŒ…ä¸æ„ä»¶ï¼ˆä»…åœ¨è¿è¡Œæ—¶å­˜åœ¨ï¼‰ä¸åŒï¼Œå®ƒçº¯ç²¹æ˜¯æ¦‚å¿µä¸Šçš„ï¼ˆå³å®ƒä»…åœ¨å¼€å‘æ—¶å­˜åœ¨ï¼‰ã€‚\næ³¨é‡Šäº‹ç‰©ï¼ˆAnnotational Thingï¼‰ï¼šæ³¨é‡Šäº‹ç‰©æ˜¯UMLæ¨¡å‹çš„è§£é‡Šéƒ¨åˆ†ã€‚è¿™äº›æ³¨é‡Šäº‹ç‰©ç”¨æ¥æè¿°ã€è¯´æ˜å’Œæ ‡æ³¨æ¨¡å‹çš„ä»»ä½•å…ƒç´ ã€‚\næ³¨è§£ï¼ˆNoteï¼‰æ˜¯ä¸€ç§ä¸»è¦çš„æ³¨é‡Šäº‹ç‰©ã€‚æ³¨è§£æ˜¯ä¸€ä¸ªä¾é™„äºä¸€ä¸ªå…ƒç´ æˆ–è€…ä¸€ç»„å…ƒç´ ä¹‹ä¸Šï¼Œå¯¹å®ƒè¿›è¡Œçº¦æŸæˆ–è§£é‡Šçš„ç®€å•ç¬¦å·ã€‚\nå…³ç³» UMLä¸­æœ‰4ç§å…³ç³»ï¼Œè¿™4ç§å…³ç³»æ˜¯UMLæ¨¡å‹ä¸­å¯ä»¥åŒ…å«çš„åŸºæœ¬å…³ç³»äº‹ç‰©ï¼š\nä¾èµ–ï¼ˆDependencyï¼‰ï¼šæ˜¯ä¸¤ä¸ªäº‹ç‰©é—´çš„è¯­ä¹‰å…³ç³»ï¼Œå…¶ä¸­ä¸€ä¸ªäº‹ç‰©ï¼ˆç‹¬ç«‹äº‹ç‰©ï¼‰å‘ç”Ÿå˜åŒ–ä¼šå½±å“å¦ä¸€ä¸ªäº‹ç‰©ï¼ˆä¾èµ–äº‹ç‰©ï¼‰çš„è¯­ä¹‰ã€‚\nåœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªä¾èµ–ç”»æˆä¸€æ¡å¯èƒ½æœ‰æ–¹å‘çš„è™šçº¿ï¼Œå¦‚å›¾ï¼š\nä¾èµ–çš„å˜ä½“æœ‰ï¼š\nç²¾åŒ–ï¼› è·Ÿè¸ªï¼› åŒ…å«ï¼› å»¶ä¼¸ã€‚ ä¾èµ–æœ‰å¶ç„¶æ€§å’Œä¸´æ—¶æ€§ï¼Œå³éœ€è¦çš„æ—¶å€™ä¾èµ–ï¼Œä¸éœ€è¦çš„æ—¶å€™ä¸ä¾èµ–ã€‚\nå…³è”ï¼ˆAssociationï¼‰ï¼šæ˜¯ä¸€ç§ç»“æ„å…³ç³»ï¼Œå®ƒæè¿°äº†ä¸€ç»„é“¾ï¼Œé“¾æ˜¯å¯¹è±¡ä¹‹é—´çš„è¿æ¥ã€‚\nå…³è”ä½¿ç”¨å®çº¿è¡¨ç¤ºï¼Œåœ¨å…³è”ä¸Šå¯ä»¥æ ‡æ³¨é‡å¤åº¦ï¼ˆMultiplicityï¼‰å’Œè§’è‰²ï¼ˆRoleï¼‰ã€‚\næè¿°äº†æ•´ä½“å’Œéƒ¨åˆ†é—´çš„ç»“æ„å…³ç³»çš„ç‰¹æ®Šç±»å‹çš„å…³è”ï¼š\nèšé›†ï¼ˆAggregationï¼Œèšåˆï¼‰ï¼šéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´ï¼Œæ•´ä½“æ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä»ç„¶å­˜åœ¨ï¼Œéƒ¨åˆ†å¯ä»¥è„±ç¦»æ•´ä½“å­˜åœ¨ã€‚\nä½¿ç”¨ä¸€ç«¯å¸¦ç©ºå¿ƒè±å½¢çš„å®çº¿è¡¨ç¤ºã€‚\nç»„åˆï¼šéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´ï¼Œæ•´ä½“æ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä¹Ÿæ¶ˆå¤±äº†ï¼Œéƒ¨åˆ†ä¸å¯ä»¥è„±ç¦»æ•´ä½“è€Œå­˜åœ¨ã€‚\nä½¿ç”¨ä¸€ç«¯å¸¦å®å¿ƒè±å½¢çš„å®çº¿è¡¨ç¤ºã€‚\nå…³è”å’Œèšé›†çš„å›¾å½¢åŒ–è¡¨ç¤ºå¦‚å›¾ï¼š\nèšåˆå’Œç»„åˆä¸­ï¼Œå¸¦è±å½¢çš„ä¸€ç«¯æŒ‡å‘æ•´ä½“ï¼Œå¦ä¸€ç«¯æŒ‡å‘éƒ¨åˆ†ã€‚\nå•å‘å…³è”ï¼šç”¨å¸¦ç®­å¤´å®çº¿è¡¨ç¤ºã€‚\nå…³è”çš„å…³ç³»å¼ºåº¦æ¯”ä¾èµ–çš„å…³ç³»å¼ºåº¦è¦å¼ºä¸€ç‚¹ã€‚\nå¤šé‡åº¦ï¼š\nè¿›è¡Œé¢å‘å¯¹è±¡è®¾è®¡æ—¶ï¼Œç±»å›¾ä¸­å¯ä»¥å±•ç°ç±»ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œè¿˜å¯ä»¥åœ¨ç±»å›¾ä¸­å›¾ç¤ºå…³è”ä¸­çš„æ•°é‡å…³ç³»ï¼Œå³å¤šé‡åº¦ã€‚è¡¨ç¤ºæ•°é‡å…³ç³»æ—¶ï¼Œç”¨å¤šé‡åº¦è¯´æ˜æ•°é‡æˆ–æ•°é‡èŒƒå›´ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªå®ä¾‹ï¼ˆå¯¹è±¡ï¼‰èƒ½è¢«è¿æ¥èµ·æ¥ï¼Œå³ä¸€ä¸ªç±»çš„å®ä¾‹èƒ½å¤Ÿä¸å¦ä¸€ä¸ªç±»çš„å¤šå°‘ä¸ªå®ä¾‹ç›¸å…³è”ã€‚\nå…³è”ç±»ï¼š\nå½“ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”çš„é‡å¤åº¦æ˜¯å¤šå¯¹å¤šæ—¶ï¼Œéœ€è¦å€ŸåŠ©é¢å¤–çš„å±æ€§æ¥å¸®åŠ©è¡¨è¾¾å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œè€Œè¿™ä¸ªå±æ€§å°±éœ€è¦å®šä¹‰åœ¨ä¸€ä¸ªæ–°çš„å…³è”ç±»ä¸­ã€‚å…³è”ç±»è®°å½•äº†è¿™ä¸¤ä¸ªç±»ä¹‹é—´çš„å…³è”ä¿¡æ¯ã€‚å…³è”ä¸­è¿™äº›é¢å¤–çš„å±æ€§ç”¨ä¸€æ¡å‚ç›´äºå…³è”çš„å®çº¿è¡¨ç¤ºï¼Œå®çº¿çš„ä¸€æ®µè¿æ¥æ¥åˆ°å…³è”çš„å®çº¿ä¸Šï¼Œå¦ä¸€ç«¯æŒ‡å‘è¿™äº›å±æ€§ã€‚\næ³›åŒ–ï¼ˆGeneralizationï¼‰ï¼šæ˜¯ä¸€ç§ç‰¹æ®Š/ä¸€èˆ¬å…³ç³»ï¼Œç‰¹æ®Šå…ƒç´ ï¼ˆå­å…ƒç´ ï¼‰çš„å¯¹è±¡å¯æ›¿ä»£ä¸€èˆ¬å…ƒç´ ï¼ˆçˆ¶å…ƒç´ ï¼‰çš„å¯¹è±¡ã€‚ç”¨è¿™ç§æ–¹æ³•ï¼Œå­å…ƒç´ å…±äº«äº†çˆ¶å…ƒç´ çš„ç»“æ„å’Œè¡Œä¸ºã€‚\nåœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªæ³›åŒ–å…³ç³»ç”»æˆä¸€æ¡å¸¦æœ‰ç©ºå¿ƒç®­å¤´çš„å®çº¿ï¼Œå®ƒæŒ‡å‘çˆ¶å…ƒç´ ï¼š\nå®ç°ï¼ˆRealizationï¼‰ï¼šæ˜¯ç±»å…ƒä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œå…¶ä¸­ä¸€ä¸ªç±»å…ƒæŒ‡å®šäº†ç”±å¦ä¸€ä¸ªç±»å…ƒä¿è¯æ‰§è¡Œçš„å¥‘çº¦ã€‚\nåœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šä½¿ç”¨å®ç°å…³ç³»ï¼š\nåœ¨æ¥å£å’Œå®ç°å®ƒä»¬çš„ç±»æˆ–æ„ä»¶ä¹‹é—´ï¼š åœ¨ç”¨ä¾‹å’Œå®ç°å®ƒä»¬çš„åä½œä¹‹é—´ã€‚ åœ¨å›¾å½¢ä¸Šï¼ŒæŠŠä¸€ä¸ªå®ç°å…³ç³»ç”»æˆä¸€æ¡å¸¦æœ‰ç©ºå¿ƒç®­å¤´çš„è™šçº¿ï¼Œç®­å¤´æŒ‡å‘æ¨¡æ¿ç±»ï¼Œå¦ä¸€ç«¯äºå®ç°ç±»è¿æ¥ã€‚\nUMLä¸­çš„å›¾ UML2.0æä¾›äº†13ç§å›¾ï¼Œåˆ†åˆ«æ˜¯ï¼ˆåŠ ç²—æ˜¯é‡ç‚¹ï¼Œå…¶å®ƒçš„ä½œä¸ºäº†è§£ï¼‰ï¼š\nç±»å›¾ å¯¹è±¡å›¾ ç”¨ä¾‹å›¾ çŠ¶æ€å›¾ æ´»åŠ¨å›¾ æ„ä»¶å›¾ ç»„åˆç»“æ„å›¾ éƒ¨ç½²å›¾ åŒ…å›¾ äº¤äº’å›¾ï¼š åºåˆ—å›¾ é€šä¿¡å›¾ äº¤äº’æ¦‚è§ˆå›¾ è®¡æ—¶å›¾ ç±»å›¾ ç±»å›¾ï¼ˆClass Diagramï¼‰å±•ç°äº†ä¸€ç»„å¯¹è±¡ã€æ¥å£ã€åä½œå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿçš„å»ºæ¨¡ä¸­æ‰€å»ºç«‹çš„æœ€å¸¸è§çš„å›¾å°±æ˜¯ç±»å›¾ã€‚ç±»å›¾ç»™å‡ºç³»ç»Ÿçš„é™æ€è®¾è®¡è§†å›¾ï¼ŒåŒ…å«ä¸»åŠ¨ç±»çš„ç±»å›¾ï¼ˆå°‘è§ï¼‰ç»™å‡ºäº†ç³»ç»Ÿçš„é™æ€è¿›ç¨‹è§†å›¾ã€‚\nç±»å›¾ä¸­é€šå¸¸åŒ…æ‹¬ä¸‹è¿°å†…å®¹ï¼š\nç±»ï¼š\nç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§å‰é¢æœ‰ä»¥ä¸‹ä¸‰ç§ä¿®é¥°ç¬¦ï¼š\nä¿®é¥°ç¬¦ å«ä¹‰ + public å…¬æœ‰çš„ - private ç§æœ‰çš„ # protected å—ä¿æŠ¤çš„ ~ package åŒ…çš„ ä¾‹å¦‚ï¼š\nStudent - id\u0026nbsp;\u0026nbsp;\u0026nbsp;:\u0026nbsp;int + name\u0026nbsp;:\u0026nbsp;String + age\u0026nbsp;\u0026nbsp;:\u0026nbsp;int + getId()\u0026nbsp;:\u0026nbsp;int æ¥å£ï¼š\nåä½œï¼š\nä¾èµ–ã€æ³›åŒ–å’Œå…³è”å…³ç³»ï¼š\nç±»å›¾ä¸­ä¹Ÿå¯ä»¥åŒ…å«ï¼š\næ³¨è§£å’Œçº¦æŸï¼› åŒ…æˆ–å­ç³»ç»Ÿã€‚ ç±»å›¾æˆåˆ†æ€»ç»“ï¼š\nåç§° å›¾ç¤º ç±» æ¥å£ åä½œ ä¾èµ– æ³›åŒ– å…³è” ç±»å›¾ç”¨äºå¯¹ç³»ç»Ÿçš„é™æ€è®¾è®¡è§†å›¾å»ºæ¨¡ï¼Œè¿™ç§è§†å›¾ä¸»è¦æ”¯æŒç³»ç»Ÿçš„åŠŸèƒ½éœ€æ±‚ï¼Œé€šå¸¸ä»¥ä¸‹è¿°3ç§æ–¹å¼ä¹‹ä¸€ä½¿ç”¨ç±»å›¾ï¼š\nå¯¹ç³»ç»Ÿçš„è¯æ±‡å»ºæ¨¡ï¼š\næ¶‰åŠåšå‡ºè¿™æ ·çš„å†³å®šï¼š\nå“ªäº›æŠ½è±¡æ˜¯è€ƒè™‘ä¸­çš„ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼› å“ªäº›æŠ½è±¡å¤„äºç³»ç»Ÿè¾¹ç•Œä¹‹å¤–ã€‚ ç”¨ç±»å›¾è¯¦ç»†æè¿°è¿™äº›æŠ½è±¡å’Œå®ƒä»¬çš„èŒè´£ã€‚\nå¯¹ç®€å•çš„åä½œå»ºæ¨¡ï¼šåä½œæ˜¯ä¸€äº›å…±åŒå·¥ä½œçš„ç±»ã€æ¥å£å’Œå…¶ä»–å…ƒç´ çš„ç¾¤ä½“ï¼Œè¯¥ç¾¤ä½“æä¾›çš„ä¸€äº›åˆä½œè¡Œä¸ºå¼ºäºæ‰€æœ‰è¿™äº›å…ƒç´ çš„è¡Œä¸ºä¹‹å’Œã€‚\nå¯¹é€»è¾‘æ•°æ®åº“æ¨¡å¼å»ºæ¨¡ï¼šå°†æ¨¡å¼çœ‹ä½œä¸ºæ•°æ®åº“çš„æ¦‚å¿µè®¾è®¡çš„è“å›¾ã€‚åœ¨å¾ˆå¤šé¢†åŸŸä¸­ï¼Œè¦åœ¨å…³ç³»æ•°æ®åº“æˆ–é¢å‘å¯¹è±¡æ•°æ®åº“ä¸­å­˜å‚¨æ°¸ä¹…ä¿¡æ¯ï¼Œå¯ä»¥ç”¨ç±»å›¾å¯¹è¿™äº›æ•°æ®åº“çš„æ¨¡å¼å»ºæ¨¡ã€‚\nå¯¹è±¡å›¾ å¯¹è±¡å›¾ï¼ˆObject Diagramï¼‰å±•ç°äº†æŸä¸€æ—¶åˆ»ä¸€ç»„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°äº†åœ¨ç±»å›¾ä¸­æ‰€å»ºç«‹çš„äº‹ç‰©çš„å®ä¾‹çš„é™æ€å¿«ç…§ã€‚\nå¯¹è±¡å›¾ä¸€èˆ¬åŒ…æ‹¬å¯¹è±¡å’Œé“¾ï¼Œå¦‚å›¾ï¼š\nå¯¹è±¡ï¼šå¯¹è±¡å›¾ä¸­çš„å¯¹è±¡åŒ…å«äº†ç±»åã€å¯¹è±¡åå’Œå±æ€§ã€‚\nå…¶å›¾å½¢åŒ–å¦‚ä¸‹ï¼š\nå¯¹è±¡å : ç±»å å±æ€§1 = å€¼1 å±æ€§2 = å€¼2 ...... åŒ¿åå¯¹è±¡ï¼ˆæ²¡æœ‰å¯¹è±¡åï¼‰ï¼š\n: ç±»å å±æ€§1 = å€¼1 å±æ€§2 = å€¼2 ...... å’Œç±»å›¾ä¸€æ ·ï¼Œå¯¹è±¡å›¾ç»™å‡ºç³»ç»Ÿçš„é™æ€è®¾è®¡è§†å›¾æˆ–é™æ€è¿›ç¨‹è§†å›¾ï¼Œä½†å®ƒä»¬æ˜¯ä»çœŸå®çš„æˆ–åŸå‹å®ä¾‹çš„è§’åº¦å»ºç«‹çš„ã€‚\nç”¨ä¾‹å›¾ ç”¨ä¾‹å›¾ï¼ˆUse Case Diagramï¼‰å±•ç°äº†ä¸€ç»„ç”¨ä¾‹ã€å‚ä¸è€…ï¼ˆActorï¼‰ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚\nç”¨ä¾‹å›¾é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š\nç”¨ä¾‹ï¼šæ˜¯ä»ç”¨æˆ·è§’åº¦æè¿°ç³»ç»Ÿçš„è¡Œä¸ºï¼Œå®ƒå°†ç³»ç»Ÿçš„ä¸€ä¸ªåŠŸèƒ½æè¿°æˆä¸€ç³»åˆ—çš„äº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶æœ€ç»ˆå¯¹æ“ä½œè€…äº§ç”Ÿæœ‰ä»·å€¼çš„è§‚æµ‹ç»“æœã€‚\nç”¨ä¾‹æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒä»£è¡¨ä¸€ç±»åŠŸèƒ½è€Œä¸æ˜¯ä½¿ç”¨è¯¥åŠŸèƒ½çš„æŸä¸€å…·ä½“å®ä¾‹ã€‚\nå‚ä¸è€…ï¼šæ˜¯ä¸ç³»ç»Ÿäº¤äº’çš„å¤–éƒ¨å®ä½“ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨è€…ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸ç³»ç»Ÿäº¤äº’çš„å¤–éƒ¨ç³»ç»Ÿã€åŸºç¡€è®¾å¤‡ç­‰ã€‚\nå‚ä¸è€…ç”¨ä¸€ä¸ªäººå½¢å›¾æ ‡è¡¨ç¤ºã€‚\nå…³ç³»ï¼š\nç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ï¼š\nåŒ…å«å…³ç³»ï¼šç”¨å¸¦\u0026lt;\u0026lt;include\u0026gt;\u0026gt;çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œå¦‚ï¼š\næ‰©å±•å…³ç³»ï¼šç”¨å¸¦\u0026lt;\u0026lt;extend\u0026gt;\u0026gt;çš„è™šçº¿ç®­å¤´è¡¨ç¤ºï¼Œå¦‚ï¼š\næ‰©å±•ç”¨ä¾‹æ˜¯æŒ‡ï¼Œä¸€ä¸ªç”¨ä¾‹ä¸­ï¼Œç¬¦åˆæŸäº›ç‰¹å®šæƒ…å†µæ‰ä¼šè§¦å‘çš„å¦ä¸€ä¸ªç”¨ä¾‹ã€‚\nå³ä¸€ä¸ªç”¨ä¾‹æ‰§è¡Œçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‘ç”Ÿä¸€äº›ç‰¹æ®Šæƒ…å†µæˆ–å¯é€‰æƒ…å†µï¼Œè¿™ç§æƒ…å†µå°±æ˜¯è¿™ä¸ªç”¨ä¾‹çš„æ‰©å±•ç”¨ä¾‹ã€‚\nå‚ä¸è€…å’Œç”¨ä¾‹ä¹‹é—´çš„å…³è”å…³ç³»ã€‚\nç”¨ä¾‹ä¸ç”¨ä¾‹ä»¥åŠå‚ä¸è€…ä¸å‚ä¸è€…ä¹‹é—´çš„æ³›åŒ–å…³ç³»ã€‚\nç”¨ä¾‹å›¾æˆåˆ†æ€»ç»“ï¼š\nåç§° å›¾ç¤º ç”¨ä¾‹ åŒ…å«å…³ç³» æ‰©å±•å…³ç³» æ³›åŒ–å…³ç³» äº¤äº’å›¾ äº¤äº’å›¾ç”¨äºå¯¹ç³»ç»Ÿçš„åŠ¨æ€æ–¹é¢è¿›è¡Œå»ºæ¨¡ã€‚ä¸€å¼ äº¤äº’å›¾è¡¨ç°çš„æ˜¯ä¸€ä¸ªäº¤äº’ï¼Œç”±ä¸€ç»„å¯¹è±¡å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ç»„æˆï¼ŒåŒ…å«å®ƒä»¬ä¹‹é—´å¯èƒ½ä¼ é€’çš„æ¶ˆæ¯ã€‚\næ¯ç§äº¤äº’å›¾é’ˆå¯¹ä¸åŒçš„ç›®çš„ï¼Œèƒ½é€‚ç”¨äºä¸åŒçš„æƒ…å†µã€‚äº¤äº’å›¾è¡¨ç°ä¸ºï¼š\nåºåˆ—å›¾ï¼šå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåºçš„äº¤äº’å›¾ï¼› é€šä¿¡å›¾ï¼šå¼ºè°ƒæ¥æ”¶å’Œå‘é€æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡çš„äº¤äº’å›¾ï¼› äº¤äº’æ¦‚è§ˆå›¾ï¼šå¼ºè°ƒæ§åˆ¶æµçš„äº¤äº’å›¾ï¼› è®¡æ—¶å›¾ã€‚ å…¶ä¸­é¡ºåºå›¾å’Œé€šä¿¡å›¾æ˜¯åŒæ„çš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚\nåœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œäº¤äº’å›¾åŒ…æ‹¬å¯¹ä»¥ä¸‹å†…å®¹çš„å…·ä½“çš„æˆ–åŸå‹åŒ–çš„å®ä¾‹ä»¥åŠå®ƒä»¬ä¹‹é—´ä¼ é€’çš„æ¶ˆæ¯è¿›è¡Œå»ºæ¨¡ï¼š\nç±»ï¼› æ¥å£ï¼› æ„ä»¶ï¼› ç»“ç‚¹ã€‚ æ‰€æœ‰è¿™äº›éƒ½ä½äºä¸€ä¸ªè¡¨è¾¾è¡Œä¸ºçš„è„šæœ¬çš„è¯­å¢ƒä¸­ã€‚\näº¤äº’å›¾ä¸€èˆ¬åŒ…å«ï¼š\nå¯¹è±¡ï¼›\né“¾ï¼›\næ¶ˆæ¯\n\u0026hellip;\u0026hellip;\nåºåˆ—å›¾ åºåˆ—å›¾ï¼ˆSequence Diagramï¼Œé¡ºåºå›¾ï¼‰æ˜¯åœºæ™¯ï¼ˆScenarioï¼‰çš„å›¾å½¢åŒ–è¡¨ç¤ºï¼Œæè¿°äº†ä»¥æ—¶é—´é¡ºåºç»„ç»‡çš„å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ´»åŠ¨ï¼Œå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåºã€‚\nåºåˆ—å›¾çš„ç»„æˆï¼š\næŠŠå‚åŠ äº¤äº’çš„å¯¹è±¡æ”¾åœ¨å›¾çš„ä¸Šæ–¹ï¼Œæ²¿æ°´å¹³æ–¹å‘æ’åˆ—ã€‚\né€šå¸¸æŠŠå‘èµ·äº¤äº’çš„å¯¹è±¡æ”¾åœ¨å·¦è¾¹ï¼Œä¸‹çº§å¯¹è±¡ä¾æ¬¡æ”¾åœ¨å³è¾¹ã€‚\næŠŠè¿™äº›å¯¹è±¡å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯ï¼Œæ²¿å‚ç›´æ–¹å‘ï¼ŒæŒ‰æ—¶é—´é¡ºåºä»ä¸Šåˆ°ä¸‹æ”¾ç½®ã€‚\nåºåˆ—å›¾çš„ç»„æˆéƒ¨åˆ†ï¼š\nå¯¹è±¡ï¼šç”¨æ–¹æ¡†æ¡†èµ·æ¥çš„å¯¹è±¡å:ç±»åï¼Œæ²¡æœ‰å±æ€§å’Œæ–¹æ³•ç­‰æˆåˆ†ã€‚\nå¯¹è±¡ç”Ÿå‘½çº¿ï¼šè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å­˜åœ¨çš„æ—¶é—´æ®µã€‚\nå¦‚ä¸Šå›¾ä¸­å¯¹è±¡ä¸‹æ–¹å‚ç›´çš„è™šçº¿ã€‚\nå¯¹è±¡å¯ä»¥åœ¨äº¤äº’è¿‡ç¨‹ä¸­åˆ›å»ºï¼šç”Ÿå‘½çº¿ä»æ¥æ”¶åˆ°æ„é€ å‹createæ¶ˆæ¯å¼€å§‹ï¼› ä¹Ÿå¯ä»¥åœ¨äº¤äº’è¿‡ç¨‹ä¸­æ’¤é”€ï¼šç”Ÿå‘½çº¿ä»æ¥æ”¶åˆ°æ„é€ å‹destroyæ¶ˆæ¯ç»“æŸï¼Œå¹¶ä¸”ç»™å‡ºä¸€ä¸ªå¤§$\\times$çš„æ ‡è®°è¡¨æ˜ç”Ÿå‘½çº¿çš„ç»“æŸã€‚ æ§åˆ¶ç„¦ç‚¹ï¼šæ§åˆ¶ç„¦ç‚¹è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæ‰€ç»å†çš„æ—¶é—´æ®µã€‚\nå¦‚ä¸Šå›¾ä¸­å¯¹è±¡ä¸‹æ–¹çš„ç©ºè¡¨çŸ©å½¢æ¡æ¡†ã€‚\næ¶ˆæ¯ï¼š\næ™®é€šçš„æ¶ˆæ¯ç”¨å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚æ‰€æœ‰æ¶ˆæ¯çš„ç®­å¤´éƒ½æ˜¯æŒ‡å‘æ¥æ”¶å¯¹è±¡ã€‚\nè¿”å›æ¶ˆæ¯ï¼šç”¨å¸¦ç®­å¤´çš„è™šçº¿è¡¨ç¤ºã€‚ åŒæ­¥æ¶ˆæ¯ï¼ˆè°ƒç”¨æ¶ˆæ¯ï¼‰ï¼šæŒ‡æ¶ˆæ¯å‘é€ç»™æ¥æ”¶å¯¹è±¡åï¼Œéœ€è¦ç­‰å¾…æ¥æ”¶å¯¹è±¡è¿”å›åæ‰å¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ å¼‚æ­¥æ¶ˆæ¯ï¼šæŒ‡æ¶ˆæ¯å‘é€ç»™æ¥æ”¶å¯¹è±¡åï¼Œæ— éœ€ç­‰å¾…æ¥æ”¶å¯¹è±¡è¿”å›å³å¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ åºåˆ—å›¾æœ‰ä¸¤ä¸ªä¸åŒäºé€šä¿¡å›¾çš„ç‰¹æ€§ï¼š\nåºåˆ—å›¾æœ‰å¯¹è±¡ç”Ÿå‘½çº¿ï¼› åºåˆ—å›¾æœ‰æ§åˆ¶ç„¦ç‚¹ã€‚ é€šä¿¡å›¾ é€šä¿¡å›¾ï¼ˆCommunication Diagramï¼Œåä½œå›¾ï¼‰å¼ºè°ƒæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡ã€‚\né€šä¿¡å›¾çš„ç»„æˆï¼š\nå°†å‚åŠ äº¤äº’çš„å¯¹è±¡ä½œä¸ºå›¾çš„é¡¶ç‚¹ï¼› æŠŠè¿æ¥è¿™äº›å¯¹è±¡çš„é“¾è¡¨ç¤ºä¸ºå›¾çš„å¼§ï¼› ç”¨å¯¹è±¡å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯æ¥ä¿®é¥°è¿™äº›é“¾ã€‚ è¿™å°±æä¾›äº†åœ¨åä½œå¯¹è±¡çš„ç»“æ„ç»„ç»‡çš„è¯­å¢ƒä¸­è§‚å¯Ÿæ§åˆ¶æµçš„ä¸€ä¸ªæ¸…æ™°çš„å¯è§†åŒ–è½¨è¿¹ã€‚\né€šä¿¡å›¾æœ‰ä»¥ä¸‹æˆåˆ†ï¼š\nå¯¹è±¡ï¼šä¸åºåˆ—å›¾ä¸€æ ·ï¼Œæ˜¯ç”¨ä¸€ä¸ªæ–¹æ¡†æ¡†èµ·æ¥çš„å¯¹è±¡å:ç±»åã€‚\nè·¯å¾„ï¼ˆé“¾æ¥ï¼‰ï¼šç”¨å®çº¿è¡¨ç¤ºï¼Œå¯ä»¥åœ¨é“¾çš„æœ«ç«¯é™„ä¸Šä¸€ä¸ªè·¯å¾„æ„é€ å‹ã€‚\né€šå¸¸ä»…éœ€æ˜¾å¼åœ°è¡¨ç¤ºä»¥ä¸‹å‡ ç§é“¾çš„è·¯å¾„ï¼š\næ„é€ å‹ å«ä¹‰ \u0026lt;\u0026lt;local\u0026gt;\u0026gt; å±€éƒ¨ \u0026lt;\u0026lt;parameter\u0026gt;\u0026gt; å‚æ•° \u0026lt;\u0026lt;global\u0026gt;\u0026gt; å…¨å±€ \u0026lt;\u0026lt;self\u0026gt;\u0026gt; è‡ªèº« ä¸å¿…è¡¨ç¤ºassociationï¼ˆå…³è”ï¼‰ã€‚\nåºå·ï¼šç”¨æ¥è¡¨ç¤ºæ¶ˆæ¯çš„æ—¶é—´é¡ºåºã€‚æ˜¯æ¶ˆæ¯å‰çš„ä¸€ä¸ªæ•°å­—å‰ç¼€ï¼Œå¯ä½¿ç”¨å¸¦å°æ•°ç‚¹çš„å·ç è¡¨ç¤ºåµŒå¥—æ¶ˆæ¯ï¼ŒåµŒå¥—å¯ä¸ºä»»æ„æ·±åº¦ã€‚\nå¦‚2è¡¨ç¤ºç¬¬2ä¸ªæ¶ˆæ¯ï¼Œ2.1è¡¨ç¤ºåµŒå¥—åœ¨æ¶ˆæ¯2ä¸­çš„ç¬¬1ä¸ªæ¶ˆæ¯ã€‚\næ¶ˆæ¯ï¼šæ²¿åŒä¸€ä¸ªé“¾å¯ä»¥æ˜¾ç¤ºè®¸å¤šæ¶ˆæ¯ï¼ˆå¯èƒ½å‘è‡ªä¸åŒæ–¹å‘ï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰å”¯ä¸€çš„åºå·ã€‚\né€šä¿¡å›¾æœ‰ä¸¤ä¸ªä¸åŒäºåºåˆ—å›¾çš„ç‰¹æ€§ï¼š\né€šä¿¡å›¾æœ‰è·¯å¾„ï¼› é€šä¿¡å›¾æœ‰åºå·ã€‚ æ€»ç»“ é¡ºåºå›¾å’Œé€šä¿¡å›¾æ˜¯åŒæ„çš„ï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€‚å®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nå·®å¼‚ åºåˆ—å›¾ é€šä¿¡å›¾ å¼ºè°ƒ æ¶ˆæ¯æ—¶é—´é¡ºåº æ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡ ä¸åŒçš„ç‰¹æ€§ æœ‰å¯¹è±¡ç”Ÿå‘½çº¿ï¼šå¯¹è±¡å­˜åœ¨çš„æ—¶é—´æ®µæœ‰æ§åˆ¶ç„¦ç‚¹ï¼šå¯¹è±¡æ‰§è¡ŒåŠ¨ä½œæ‰€ç»å†çš„æ—¶é—´æ®µ æœ‰è·¯å¾„ï¼šè¡¨ç¤ºå¯¹è±¡ä¹‹é—´æœ‰äº¤äº’æœ‰åºå·ï¼šè¡¨ç¤ºæ¶ˆæ¯çš„æ—¶é—´é¡ºåºï¼Œå¯åµŒå¥—è¡¨ç¤º çŠ¶æ€å›¾ çŠ¶æ€å›¾ï¼ˆState Diagramï¼ŒçŠ¶æ€è½¬æ¢å›¾ï¼‰å±•ç°äº†ä¸€ä¸ªçŠ¶æ€æœºã€‚çŠ¶æ€å›¾å…³æ³¨ç³»ç»Ÿçš„åŠ¨æ€è§†å›¾ï¼Œå¯¹äºæ¥å£ã€ç±»å’Œåä½œçš„è¡Œä¸ºå»ºæ¨¡å°¤ä¸ºé‡è¦ï¼Œå¼ºè°ƒå¯¹è±¡è¡Œä¸ºçš„äº‹ä»¶é¡ºåºã€‚\nçŠ¶æ€å›¾ç”±ä»¥ä¸‹ç»„æˆï¼š\nçŠ¶æ€ï¼šæŒ‡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸­æŸä¸ªæ¡ä»¶æˆ–è€…çŠ¶æ€ï¼Œæ˜¯ä»»ä½•å¯ä»¥è¢«è§‚å¯Ÿåˆ°çš„ç³»ç»Ÿè¡Œä¸ºæ¨¡å¼ï¼Œä¸€ä¸ªçŠ¶æ€ä»£è¡¨ç³»ç»Ÿçš„ä¸€ç§è¡Œä¸ºæ¨¡å¼ã€‚\nçŠ¶æ€è§„å®šäº†ç³»ç»Ÿå†…å¯¹äº‹ä»¶çš„å“åº”æ–¹å¼ã€‚\nç³»ç»Ÿå¯¹äº‹ä»¶çš„å“åº”ï¼š\nå¯ä»¥æ˜¯åšä¸€ä¸ªï¼ˆæˆ–ä¸€ç³»åˆ—ï¼‰åŠ¨ä½œï¼› å¯ä»¥æ˜¯ä»…ä»…æ”¹å˜ç³»ç»Ÿæœ¬èº«çš„çŠ¶æ€ï¼› å¯ä»¥æ˜¯å³æ”¹å˜çŠ¶æ€ï¼ŒåˆåšåŠ¨ä½œã€‚ çŠ¶æ€è½¬æ¢å›¾ä¸­å®šä¹‰çš„çŠ¶æ€ä¸»è¦æœ‰ï¼š\nåˆæ€ï¼ˆåˆå§‹çŠ¶æ€ï¼‰ï¼šç”¨ä¸€ä¸ªå®å¿ƒåœ†ç‚¹è¡¨ç¤ºã€‚ä¸€å¼ çŠ¶æ€å›¾åªèƒ½æœ‰ä¸€ä¸ªåˆæ€ã€‚ ç»ˆæ€ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰ï¼šç”¨ä¸€ä¸ªå®å¿ƒåœ†ç‚¹å¤–åŠ ä¸€ä¸ªåœ†åœˆè¡¨ç¤ºã€‚ä¸€å¼ çŠ¶æ€å›¾å¯ä»¥æ²¡æœ‰ç»ˆæ€ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šä¸ªã€‚ ä¸­é—´çŠ¶æ€ã€‚ çŠ¶æ€å›¾ä¸­çš„çŠ¶æ€ç”¨ä¸€ä¸ªåœ†è§’çŸ©å½¢è¡¨ç¤ºï¼Œå¯ä»¥ç”¨ä¸¤æ¡æ°´å¹³æ¨ªçº¿å°†å…¶åˆ†ä¸ºä¸Šä¸­ä¸‹3ä¸ªéƒ¨åˆ†ï¼š\nä¸Šé¢éƒ¨åˆ†ï¼ˆå¿…é¡»ï¼‰ï¼šçŠ¶æ€çš„åç§°ï¼› ä¸­é—´éƒ¨åˆ†ï¼ˆå¯é€‰ï¼‰ï¼šçŠ¶æ€å˜é‡çš„åç§°å’Œå€¼ï¼› ä¸‹é¢éƒ¨åˆ†ï¼ˆå¯é€‰ï¼‰ï¼šæ´»åŠ¨è¡¨ã€‚ çŠ¶æ€è¿˜å¯åˆ†ä¸ºï¼š\nç®€å•çŠ¶æ€ã€‚\nç»„åˆçŠ¶æ€ï¼šå«æœ‰å­çŠ¶æ€çš„çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¹Ÿç§°ä¸ºå…¶å­çŠ¶æ€çš„è¶…çŠ¶æ€ã€‚\nå­çŠ¶æ€ï¼šåµŒå¥—åœ¨å¦å¤–ä¸€ä¸ªçŠ¶æ€ä¸­çš„çŠ¶æ€ã€‚\nè½¬æ¢ï¼ˆè¿ç§»ï¼‰ï¼šæ˜¯ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„ä¸€ç§å…³ç³»ï¼Œè¡¨ç¤ºå¯¹è±¡å°†åœ¨æºçŠ¶æ€ä¸­æ‰§è¡Œä¸€å®šçš„åŠ¨ä½œï¼Œå¹¶åœ¨æŸä¸ªç‰¹å®šäº‹ä»¶å‘ç”Ÿï¼Œè€Œä¸”æŸä¸ªç‰¹å®šçš„è­¦ç•Œï¼ˆç›‘æŠ¤ï¼‰æ¡ä»¶æ»¡è¶³æ—¶è¿›å…¥ç›®æ ‡çŠ¶æ€ã€‚\nçŠ¶æ€è½¬æ¢ç”¨ä¸€æ¡å¸¦ç®­å¤´çš„å®çº¿è¡¨ç¤ºã€‚\näº‹ä»¶ï¼šæ˜¯åœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»å‘ç”Ÿçš„äº‹æƒ…ï¼Œå®ƒæ˜¯å¯¹å¼•èµ·ç³»ç»ŸåšåŠ¨ä½œæˆ–ï¼ˆå’Œï¼‰ä»ä¸€ä¸ªçŠ¶æ€è½¬æ¢åˆ°å¦ä¸ªçŠ¶æ€çš„å¤–ç•Œäº‹ä»¶çš„æŠ½è±¡ã€‚\näº‹ä»¶è§¦å‘çŠ¶æ€è½¬æ¢ï¼šçŠ¶æ€å˜è¿é€šå¸¸æ˜¯ç”±äº‹ä»¶è§¦å‘çš„ã€‚çŠ¶æ€ä¹‹é—´å¸¦ç®­å¤´å®çº¿ä¸Šçš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒçŠ¶æ€è½¬æ¢å¼€å§‹ï¼ˆè¿˜å¯ç§°ä¹‹ä¸ºçŠ¶æ€â€œç‚¹ç«â€æˆ–çŠ¶æ€è¢«â€œè§¦å‘â€ï¼‰ã€‚\nè¿™ç§æƒ…å†µä¸‹åº”åœ¨è¡¨è¾¾çŠ¶æ€è½¬æ¢çš„ç®­å¤´çº¿ä¸Šæ ‡å‡ºè§¦å‘è½¬æ¢çš„äº‹ä»¶è¡¨è¾¾å¼ï¼š\näº‹ä»¶è¯´æ˜ [å®ˆå«æ¡ä»¶] / åŠ¨ä½œè¡¨è¾¾å¼ äº‹ä»¶è¯´æ˜çš„è¯­æ³•ä¸ºï¼š\näº‹ä»¶å (å‚æ•°è¡¨) å®ˆå«æ¡ä»¶ï¼ˆç›‘æŠ¤æ¡ä»¶ï¼‰ï¼šä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ã€‚\nå½“ä¸”ä»…å½“äº‹ä»¶å‘ç”Ÿä¸”å®ˆå«æ¡ä»¶ä¸ºçœŸæ—¶ï¼ŒçŠ¶æ€è½¬æ¢æ‰å‘ç”Ÿï¼› åªæœ‰å®ˆå«æ¡ä»¶æ²¡æœ‰äº‹ä»¶è¯´æ˜æ—¶ï¼Œåªè¦å®ˆå«æ¡ä»¶ä¸ºçœŸï¼ŒçŠ¶æ€è½¬æ¢å°±å‘ç”Ÿã€‚ åŠ¨ä½œè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªè¿‡ç¨‹è¡¨è¾¾å¼ï¼Œå½“çŠ¶æ€è½¬æ¢ï¼ˆäº‹ä»¶ï¼‰å¼€å§‹æ—¶æ‰§è¡Œã€‚\nè‡ªåŠ¨è§¦å‘çŠ¶æ€è½¬æ¢ï¼šå¦‚æœç®­å¤´çº¿ä¸Šæœªæ ‡æ˜äº‹ä»¶ï¼Œåˆ™è¡¨ç¤ºåœ¨æºçŠ¶æ€çš„å†…éƒ¨æ´»åŠ¨æ‰§è¡Œå®Œä¹‹åè‡ªåŠ¨è§¦å‘è½¬æ¢ã€‚\næ´»åŠ¨ï¼šæŒ‡çŠ¶æ€ä¸­çš„æ´»åŠ¨è¡¨ä¸­çš„æ´»åŠ¨ã€‚\nè¯­æ³•å¦‚ä¸‹ï¼š\näº‹ä»¶å (å‚æ•°è¡¨) /åŠ¨ä½œè¡¨è¾¾å¼ äº‹ä»¶åï¼šå¯ä»¥æ˜¯ä»»ä½•äº‹ä»¶çš„åç§°ã€‚\nåœ¨æ´»åŠ¨è¡¨ä¸­ç»å¸¸ä½¿ç”¨ä»¥ä¸‹3ä¸­æ ‡å‡†äº‹ä»¶ï¼š\näº‹ä»¶å å«ä¹‰ entry å…¥å£åŠ¨ä½œï¼ŒæŒ‡å®šè¿›å…¥è¯¥çŠ¶æ€çš„åŠ¨ä½œï¼Œç«‹å³æ‰§è¡Œ exit å‡ºå£åŠ¨ä½œï¼ŒæŒ‡å®šé€€å‡ºè¯¥çŠ¶æ€çš„åŠ¨ä½œï¼Œç«‹å³æ‰§è¡Œ do å†…éƒ¨æ´»åŠ¨ï¼ŒæŒ‡å®šåœ¨è¯¥çŠ¶æ€ä¸‹çš„åŠ¨ä½œï¼Œå æœ‰æœ‰é™æ—¶é—´ï¼Œå¹¶å¯ä¸­æ–­åœ°å·¥ä½œ æ´»åŠ¨ï¼ˆåŠ¨ä½œï¼‰å¯ä»¥åœ¨çŠ¶æ€å†…æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨çŠ¶æ€è½¬æ¢ï¼ˆè¿ç§»ï¼‰æ—¶æ‰§è¡Œã€‚\nå¯ä»¥ç”¨çŠ¶æ€å›¾å¯¹ç³»ç»Ÿçš„åŠ¨æ€æ–¹é¢å»ºæ¨¡ã€‚è¿™äº›åŠ¨æ€æ–¹é¢å¯ä»¥åŒ…æ‹¬å‡ºç°åœ¨ç³»ç»Ÿä½“ç³»ç»“æ„çš„ä»»ä½•è§†å›¾ä¸­çš„ä»»ä½•ä¸€ç§å¯¹è±¡çš„æŒ‰äº‹ä»¶æ’åºçš„è¡Œä¸ºï¼Œè¿™äº›å¯¹è±¡åŒ…æ‹¬ï¼š\nç±»ï¼ˆå„ä¸»åŠ¨ç±»ï¼‰ï¼› æ¥å£ï¼› æ„ä»¶ï¼› ç»“ç‚¹ã€‚ å½“çŠ¶æ€å›¾å¯¹ç³»ç»Ÿã€ç±»æˆ–ç”¨ä¾‹çš„åŠ¨æ€æ–¹é¢å»ºæ¨¡æ—¶ï¼Œé€šå¸¸æ˜¯å¯¹ååº”å‹å¯¹è±¡å»ºæ¨¡ã€‚\næ´»åŠ¨å›¾ æ´»åŠ¨å›¾ï¼ˆActivity Diagramï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå®ƒå±•ç°äº†åœ¨ç³»ç»Ÿå†…ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ã€‚æ´»åŠ¨å›¾ä¸“æ³¨äºç³»ç»Ÿçš„åŠ¨æ€è§†å›¾ï¼Œå®ƒå¯¹äºç³»ç»Ÿçš„åŠŸèƒ½å»ºæ¨¡ç‰¹åˆ«é‡è¦ï¼Œå¹¶å¼ºè°ƒå¯¹è±¡é—´çš„æ§åˆ¶æµç¨‹ã€‚\næ´»åŠ¨å›¾ä¸€èˆ¬åŒ…æ‹¬ï¼š\nçŠ¶æ€ï¼š\næ´»åŠ¨å›¾çš„çŠ¶æ€ä¹ŸåŒ…å«åˆæ€å’Œç»ˆæ€ã€‚å…¶ä½™çš„çŠ¶æ€è¿˜å¯åˆ†ä¸ºï¼š\nåŠ¨ä½œçŠ¶æ€ï¼šä¸èƒ½è¢«åˆ†è§£ï¼ŒåŠ¨ä½œä¸èƒ½è¢«ä¸­æ–­ã€‚ æ´»åŠ¨çŠ¶æ€ï¼šèƒ½å¤Ÿè¢«è¿›ä¸€æ­¥åˆ†è§£ï¼Œå¯ä»¥è¢«ä¸­æ–­ï¼Œå…¶æ´»åŠ¨ç”±å…¶å®ƒçš„æ´»åŠ¨å›¾æ¥è¡¨ç¤ºã€‚ æµï¼ˆè½¬æ¢ï¼‰ã€‚\nå¯¹è±¡ã€‚\næ´»åŠ¨å›¾å¯ä»¥è¡¨ç¤ºï¼š\nåˆ†æ”¯ï¼ˆåˆ¤æ–­ï¼‰ï¼šåˆ†æ”¯çš„æµä¸Šç”¨[]æ ‡è®°çš„æ˜¯ç›‘æŠ¤è¡¨è¾¾å¼ï¼› ï¼ˆå¹¶å‘ï¼‰åˆ†å²”ï¼šå°†ä¸€ä¸ªæµåˆ†ä¸ºå¤šä¸ªå¯å¹¶å‘æ‰§è¡Œçš„æµï¼› ï¼ˆå¹¶å‘ï¼‰æ±‡åˆï¼šå°†åˆ†å²”å‡ºå»çš„å¤šä¸ªæµåˆå¹¶ä¸ºåŒä¸€ä¸ªæµã€‚ å½“å¯¹ä¸€ä¸ªç³»ç»Ÿçš„åŠ¨æ€æ–¹é¢å»ºæ¨¡æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ä½¿ç”¨æ´»åŠ¨å›¾çš„æ–¹å¼ï¼š\nå¯¹å·¥ä½œæµå»ºæ¨¡ï¼› å¯¹æ“ä½œå»ºæ¨¡ï¼› å¯¹ä¸šåŠ¡çš„å¤æ‚æµç¨‹å»ºæ¨¡ã€‚ æ„ä»¶å›¾ æ„ä»¶å›¾ï¼ˆComponent Diagramï¼Œç»„ä»¶å›¾ï¼‰å±•ç°äº†ä¸€ç»„æ„ä»¶ä¹‹é—´çš„ç»„ç»‡å’Œä¾èµ–ã€‚æ„ä»¶å›¾ä¸“æ³¨äºç³»ç»Ÿçš„é™æ€å®ç°è§†å›¾ï¼Œå®ƒä¸ç±»å›¾ç›¸å…³ï¼Œé€šå¸¸æŠŠæ„ä»¶æ˜ å°„ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç±»ã€æ¥å£æˆ–åä½œã€‚\næ„ä»¶å›¾çš„æˆåˆ†æœ‰ï¼š\næ„ä»¶ï¼šç”¨çŸ©å½¢è¡¨ç¤ºï¼Œåœ¨çŸ©å½¢å³ä¸Šæ–¹æœ‰ä¸€ä¸ªå°æ ‡è®°ã€‚ ä¾›æ¥å£ï¼šç”¨ä¸€ä¸ªåœ†åœˆå’Œè¿æ¥åˆ°æ„ä»¶ä¸Šçš„å®çº¿è¡¨ç¤ºã€‚æ„ä»¶æä¾›æ¥å£ç»™å…¶å®ƒæ„ä»¶ä½¿ç”¨ã€‚ éœ€æ¥å£ï¼šç”¨ä¸€ä¸ªåŠåœ†å’Œè¿æ¥åˆ°æ„ä»¶ä¸Šçš„å®çº¿è¡¨ç¤ºã€‚æ„ä»¶ä½¿ç”¨éœ€æ¥å£è¡¨ç¤ºéœ€è¦è°ƒç”¨å…¶å®ƒæ„ä»¶æä¾›æ¥å£ã€‚ ä¾èµ–ï¼šå°†ä¾›æ¥å£ï¼ˆåœ†åœˆï¼‰å’Œè™šæ¥å£ï¼ˆåŠåœ†ï¼‰è¿æ¥åˆ°ä¸€èµ·ï¼Œè¡¨ç¤ºä¸¤ä¸ªæ„ä»¶é€šè¿‡è¿™ä¸ªæ¥å£ç›¸ä¾èµ–ã€‚ éƒ¨ç½²å›¾ éƒ¨ç½²å›¾ï¼ˆDeployment Diagramï¼‰æ˜¯ç”¨æ¥å¯¹é¢å‘å¯¹è±¡ç³»ç»Ÿçš„ç‰©ç†æ–¹é¢å»ºæ¨¡çš„æ–¹æ³•ï¼Œå±•ç°äº†è¿è¡Œæ—¶å¤„ç†ç»“ç‚¹ä»¥åŠå…¶ä¸­æ„ä»¶ï¼ˆåˆ¶å“ï¼‰çš„é…ç½®ã€‚éƒ¨ç½²å›¾å¯¹ç³»ç»Ÿçš„é™æ€éƒ¨ç½²è§†å›¾è¿›è¡Œå»ºæ¨¡ï¼Œå®ƒä¸æ„ä»¶å›¾ç›¸å…³ã€‚\néƒ¨ç½²å›¾å±•ç°äº†ç³»ç»Ÿçš„è½¯ä»¶å’Œç¡¬ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œåœ¨å®æ–½é˜¶æ®µä½¿ç”¨ã€‚\n\u0026lt;\u0026lt;artifact\u0026gt;\u0026gt;è¡¨ç¤ºåˆ¶å“ã€‚\næ€»ç»“ UMLå›¾ é™æ€å»ºæ¨¡ åŠ¨æ€å»ºæ¨¡ ç‰©ç†å»ºæ¨¡ ç±»å›¾ $\\checkmark$ $\\times$ $\\times$ å¯¹è±¡å›¾ $\\checkmark$ $\\times$ $\\times$ ç”¨ä¾‹å›¾ $\\checkmark$ $\\times$ $\\times$ æ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾) $\\checkmark$ $\\times$ $\\checkmark$ éƒ¨ç½²å›¾ $\\checkmark$ $\\times$ $\\checkmark$ åºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ é€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ $\\times$ $\\checkmark$ $\\times$ çŠ¶æ€å›¾ $\\times$ $\\checkmark$ $\\times$ æ´»åŠ¨å›¾ $\\times$ $\\checkmark$ $\\times$ æ´»åŠ¨å›¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå®ƒä»¬çš„å·®å¼‚å¦‚ä¸‹ï¼š\nç›¸åŒç‚¹ï¼šçŠ¶æ€ä¸­éƒ½æœ‰åˆæ€å’Œç»ˆæ€ã€‚ ä¸»è¦å·®å¼‚ï¼š æ´»åŠ¨å›¾çš„è½¬æ¢ç§°ä¸ºæµï¼› æ´»åŠ¨å›¾æœ‰åˆ†æ”¯ã€å¹¶å‘åˆ†å²”å’Œå¹¶å‘æ±‡åˆã€‚ ä»¥ä¸‹æ˜¯UMLå›¾çš„æ€»ç»“ï¼š\nç±»å›¾ï¼šå±•ç°ä¸€ç»„å¯¹è±¡ï¼ˆç±»ï¼‰ã€æ¥å£ã€åä½œå’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»\nå¯¹è±¡å›¾ï¼šå±•ç°æŸä¸€æ—¶åˆ»çš„ä¸€ç»„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œæè¿°äº†åœ¨ç±»å›¾ä¸­æ‰€å»ºç«‹äº‹ç‰©çš„å®ä¾‹çš„é™æ€å¿«ç…§\nç”¨ä¾‹å›¾ï¼šå±•ç°äº†ä¸€ç»„ç”¨ä¾‹ã€å‚ä¸è€…ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼ˆåŒ…å«ã€æ‰©å±•ã€å…³è”å’Œæ³›åŒ–ï¼‰\nåºåˆ—å›¾ï¼ˆé¡ºåºå›¾ï¼Œæ—¶åºå›¾ï¼‰ï¼šæè¿°äº†ä»¥æ—¶é—´é¡ºåºç»„ç»‡çš„å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ´»åŠ¨ï¼Œå¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåº\né€šä¿¡å›¾ï¼ˆåä½œå›¾ï¼‰ï¼šå¼ºè°ƒæ”¶å‘æ¶ˆæ¯çš„å¯¹è±¡çš„ç»“æ„ç»„ç»‡\nçŠ¶æ€å›¾ï¼ˆçŠ¶æ€è½¬æ¢å›¾ï¼‰ï¼šå±•ç°äº†ä¸€ä¸ªçŠ¶æ€æœºï¼Œå¼ºè°ƒå¯¹è±¡è¡Œä¸ºçš„äº‹ä»¶é¡ºåº\næ´»åŠ¨å›¾ï¼šä¸€ç§ç‰¹æ®Šçš„çŠ¶æ€å›¾ï¼Œå±•ç°äº†åœ¨ç³»ç»Ÿå†…ä»ä¸€ä¸ªæ´»åŠ¨åˆ°å¦ä¸€ä¸ªæ´»åŠ¨çš„æµç¨‹ï¼Œå¼ºè°ƒå¯¹è±¡é—´çš„æ§åˆ¶æµç¨‹\næ„ä»¶å›¾ï¼ˆç»„ä»¶å›¾)ï¼šå±•ç°äº†ä¸€ç»„æ„ä»¶ä¹‹é—´çš„ç»„ç»‡å’Œä¾èµ–ï¼Œå°†æ„ä»¶æ˜ å°„ä¸ºç±»ã€æ¥å£æˆ–åä½œ\néƒ¨ç½²å›¾ï¼šå¯¹ç‰©ç†å»ºæ¨¡ï¼Œå±•ç°äº†è¿è¡Œæ—¶å¤„ç†ç»“ç‚¹ä»¥åŠå…¶ä¸­æ„ä»¶ï¼ˆåˆ¶å“ï¼‰çš„é…ç½®\nè®¾è®¡æ¨¡å¼ è®¾è®¡æ¨¡å¼ä»£ç ä»“åº“ï¼šhttps://gitee.com/linner_cheng/design-patterns\næ¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼èƒ½å‡å°‘ä¸€äº›é‡å¤åŠ³åŠ¨ã€‚è®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒåœ¨äºæä¾›äº†ç›¸å…³é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿å¾—äººä»¬å¯ä»¥æ›´åŠ ç®€å•æ–¹ä¾¿åœ°å¤ç”¨æˆåŠŸçš„è®¾è®¡å’Œä½“ç³»ç»“æ„ã€‚\nè®¾è®¡æ¨¡å¼ä¸€èˆ¬æœ‰ä»¥ä¸‹4ä¸ªè¦ç´ ï¼š\næ¨¡å¼åç§°ï¼ˆPattern Nameï¼‰ é—®é¢˜ï¼ˆProblemï¼‰ è§£å†³æ–¹æ¡ˆï¼ˆSolutionï¼‰ æ•ˆæœï¼ˆConsequencesï¼‰ è®¾è®¡æ¨¡å¼ï¼š\nç¡®å®šäº†æ‰€åŒ…å«çš„ç±»å’Œå®ä¾‹çš„ï¼š è§’è‰² åä½œæ–¹å¼ èŒè´£åˆ†é… æ¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼éƒ½ï¼š é›†ä¸­äºä¸€ä¸ªç‰¹å®šçš„é¢å‘å¯¹è±¡è®¾è®¡é—®é¢˜æˆ–è®¾è®¡è¦ç‚¹ æè¿°äº†ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å®ƒ åœ¨å¦ä¸€äº›è®¾è®¡çº¦æŸæ¡ä»¶ä¸‹æ˜¯å¦è¿˜èƒ½ä½¿ç”¨ ä½¿ç”¨çš„æ•ˆæœå’Œå¦‚ä½•å–èˆ è®¾è®¡æ¨¡å¼åˆ†ç±»ï¼š\nåˆ›å»ºå‹ ç»“æ„å‹ è¡Œä¸ºå‹ è¯´æ˜ ä¸å¯¹è±¡çš„åˆ›å»ºæœ‰å…³ å¤„ç†ç±»æˆ–å¯¹è±¡çš„ç»„åˆ æè¿°ç±»æˆ–å¯¹è±¡çš„äº¤äº’å’ŒèŒè´£åˆ†é… ç±»æ¨¡å¼ Factory Methodï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ Adapterï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰ Interpreterï¼ˆè§£é‡Šå™¨æ¨¡å¼ï¼‰\nTemplate Methodï¼ˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼‰ å¯¹è±¡æ¨¡å¼ Abstract Factoryï¼ˆæŠ½è±¡å·¥å‚æ¨¡å¼ï¼‰\nBuilderï¼ˆç”Ÿæˆå™¨æ¨¡å¼ï¼‰\nPrototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰\nSingletonï¼ˆå•ä¾‹æ¨¡å¼ï¼‰ Adapterï¼ˆé€‚é…å™¨æ¨¡å¼ï¼‰\nBridgeï¼ˆæ¡¥æ¥æ¨¡å¼ï¼‰\nCompositeï¼ˆç»„åˆæ¨¡å¼ï¼‰\nDecoratorï¼ˆè£…é¥°å™¨æ¨¡å¼ï¼‰\nFacadeï¼ˆå¤–è§‚æ¨¡å¼ï¼‰\nFlyweightï¼ˆäº«å…ƒæ¨¡å¼ï¼‰\nProxyï¼ˆä»£ç†æ¨¡å¼ï¼‰ Chain of Responsibilityï¼ˆè´£ä»»é“¾æ¨¡å¼ï¼‰\nCommandï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰\nIteratorï¼ˆè¿­ä»£å™¨æ¨¡å¼ï¼‰\nMediatorï¼ˆä¸­ä»‹è€…æ¨¡å¼ï¼‰\nMementoï¼ˆå¤‡å¿˜å½•æ¨¡å¼ï¼‰\nObserverï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰\nStateï¼ˆçŠ¶æ€æ¨¡å¼ï¼‰\nStrategyï¼ˆç­–ç•¥æ¨¡å¼ï¼‰\nVisitorï¼ˆè®¿é—®è€…æ¨¡å¼ï¼‰ åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ åˆ›å»ºå‹æ¨¡å¼æŠ½è±¡äº†å®ä¾‹åŒ–è¿‡ç¨‹ã€‚\nç±»åˆ›å»ºå‹æ¨¡å¼ï¼ˆå·¥å‚æ–¹æ³•ï¼‰ï¼šä½¿ç”¨ç»§æ‰¿æ”¹å˜è¢«å®ä¾‹åŒ–çš„ç±»ï¼› å¯¹è±¡åˆ›å»ºå‹æ¨¡å¼ï¼ˆå‰©ä½™çš„å…¶å®ƒï¼‰ï¼šå°†å®ä¾‹åŒ–å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ç®€å•å·¥å‚æ¨¡å¼ ç®€å•å·¥å‚æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œä½†ä¸å±äº23ç§è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚\nç®€å•å·¥å‚æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªå·¥å‚ç±»ï¼Œå®ƒå¯ä»¥æ ¹æ®å‚æ•°çš„ä¸åŒï¼Œè¿”å›ä¸åŒç±»çš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰å…±åŒçš„çˆ¶ç±»ã€‚\nåœ¨ç®€å•å·¥å‚æ¨¡å¼ä¸­ç”¨äºåˆ›å»ºå®ä¾‹çš„æ–¹æ³•é€šå¸¸é•¿ä¸ºé™æ€ï¼ˆstaticï¼‰æ–¹æ³•ï¼Œå› æ­¤ç®€å•å·¥å‚æ¨¡å¼åˆç§°ä¸ºé™æ€å·¥å‚æ–¹æ³•ï¼ˆStatic Factroy Methodï¼‰ã€‚\nç®€å•å·¥å‚æ¨¡å¼åŒ…å«ä»¥ä¸‹ä¸‰ç§è§’è‰²ï¼š\nå·¥å‚ï¼ˆæ ¸å¿ƒï¼‰ï¼šè´Ÿè´£å®ç°åˆ›å»ºæ‰€æœ‰äº§å“çš„å†…éƒ¨é€»è¾‘ã€‚å·¥å‚ç±»å¯ä»¥è¢«å¤–ç•Œç›´æ¥è°ƒç”¨ï¼Œåˆ›å»ºæ‰€éœ€å¯¹è±¡ã€‚ æŠ½è±¡äº§å“ï¼šå·¥å‚ç±»æ‰€åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œå°è£…äº†äº§å“å¯¹è±¡çš„å…¬å…±æ–¹æ³•ï¼Œæ‰€æœ‰çš„å…·ä½“äº§å“ä¸ºå…¶å­ç±»å¯¹è±¡ã€‚ å…·ä½“äº§å“ï¼šç®€å•å·¥å‚æ¨¡å¼çš„åˆ›å»ºç›®æ ‡ï¼Œæ‰€æœ‰è¢«åˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯æŸä¸ªå…·ä½“ç±»çš„å®ä¾‹ï¼Œå®ƒè¦å®ç°æŠ½è±¡äº§å“ä¸­å£°æ˜çš„æŠ½è±¡æ–¹æ³•ã€‚ ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š\nProductï¼š\n/** * æŠ½è±¡äº§å“ */ public abstract class Product { /** * æŠ½è±¡æ–¹æ³•ï¼Œè¿”å›äº§å“ä¿¡æ¯ */ public abstract void info(); } ProductAï¼š\n/** * å…·ä½“äº§å“A */ public class ProductA extends Product { @Override public void info() { System.out.println(\u0026#34;äº§å“çš„ä¿¡æ¯ï¼šA\u0026#34;); } } ProductBï¼š\n/** * å…·ä½“äº§å“B */ public class ProductB extends Product { @Override public void info() { System.out.println(\u0026#34;äº§å“çš„ä¿¡æ¯ï¼šB\u0026#34;); } } Factoryï¼š\n/** * é™æ€å·¥å‚ç±» */ public class Factory { /** * æ ¹æ®å‚æ•°è·å–Product * @param type æŒ‡å®šåˆ›å»ºçš„å¯¹è±¡çš„ç±»å‹ */ public static Product createProduct(String type) { Product product = null; // åˆ¤è¯»å‚æ•°ï¼Œå£°æ˜å¯¹åº”çš„å¯¹è±¡ if (type.equals(\u0026#34;A\u0026#34;)) { product = new ProductA(); } else if (type.equals(\u0026#34;B\u0026#34;)) { product = new ProductB(); } else { System.out.println(\u0026#34;æ²¡æœ‰\u0026#34; + type + \u0026#34;ç±»å‹çš„äº§å“\u0026#34;); } return product; } } æµ‹è¯•æ–¹æ³•ï¼š\npublic class SimpleFactory { public static void main(String[] args) { Product productA = Factory.createProduct(\u0026#34;A\u0026#34;); productA.info(); Product productB = Factory.createProduct(\u0026#34;B\u0026#34;); productB.info(); Product productC = Factory.createProduct(\u0026#34;C\u0026#34;); System.out.println(productC); } } å·¥å‚æ–¹æ³• å·¥å‚æ–¹æ³•ï¼ˆFactory Methodï¼‰æ¨¡å¼å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚å·¥å‚æ¨¡å¼ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚\nç®€å•å·¥å‚è¿åäº†å¼€æ”¾å°é—­åŸåˆ™ï¼Œå¯¹æ‰©å±•æ˜¯å¼€å‘çš„ï¼Œå¯¹ä¿®æ”¹æ˜¯å°é—­çš„ã€‚æ‰€ä»¥å·¥å‚æ–¹æ³•çš„æ¥å£ä¸åˆ›å»ºå…·ä½“çš„å¯¹è±¡ï¼Œè€Œæ˜¯äº¤ç”±å­ç±»æ¥å®ç°ã€‚\nå·¥å‚æ–¹æ³•ç»“æ„ï¼š\nProductï¼šå®šä¹‰å·¥å‚æ–¹æ³•æ‰€åˆ›å»ºçš„å¯¹è±¡çš„æ¥å£ã€‚\nConcreteProductï¼šå®ç°Productæ¥å£ã€‚\nCreatorï¼šå£°æ˜å·¥å‚æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªProductç±»å‹çš„å¯¹è±¡ã€‚\nCreatorä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå·¥å‚æ–¹æ³•çš„é»˜è®¤å®ç°ï¼Œå®ƒè¿”å›ä¸€ä¸ªé»˜è®¤çš„ConcreteProductå¯¹è±¡ã€‚\nConcreteCreatorï¼šé‡å®šä¹‰å·¥å‚æ–¹æ³•ä»¥è¿”å›ä¸€ä¸ªConcreteProductå®ä¾‹ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nProductï¼š\n/** * äº§å“æ¥å£ * \u0026lt;p\u0026gt; * è¿™é‡ŒæŠ½è±¡äº§å“æ˜¯æ¥å£è¿˜æ˜¯æŠ½è±¡ç±»ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯Factoryä¸€å®šå¾—æ˜¯æ¥å£ * \u0026lt;/p\u0026gt; */ public interface Product { /** * æ¥å£æ–¹æ³•ï¼Œè¿”å›äº§å“ä¿¡æ¯ */ public void info(); } ProductAï¼š\npublic class ProductA implements Product { @Override public void info() { System.out.println(\u0026#34;äº§å“çš„ä¿¡æ¯ï¼šA\u0026#34;); } } ProductBä¸ProductAç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nFactoryï¼š\n/** * å·¥å‚æ–¹æ³•æ¥å£ */ public interface Factory { /** * æ¥å£æ–¹æ³•ï¼Œè·å–Product */ public Product createProduct(); } FactoryAï¼š\n/** * å·¥å‚A * \u0026lt;p\u0026gt; * åªè´Ÿè´£ç”Ÿäº§ProductA * \u0026lt;/p\u0026gt; */ public class FactoryA implements Factory { /** * å®ç°æ–¹æ³•åˆ›å»ºProductA */ @Override public Product createProduct() { // ç›´æ¥è¿”å›ProductA return new ProductA(); } } FactoryBï¼š\n/** * å·¥å‚B * \u0026lt;p\u0026gt; * åªè´Ÿè´£ç”Ÿäº§ProductB * \u0026lt;/p\u0026gt; */ public class FactoryB implements Factory { /** * å®ç°æ–¹æ³•åˆ›å»ºProductB */ @Override public Product createProduct() { // ç›´æ¥è¿”å›ProductB return new ProductB(); } } æµ‹è¯•æ–¹æ³•ï¼š\npublic class FactoryMethod { public static void main(String[] args) { Factory factory = new FactoryA(); Product productA = factory.createProduct(); productA.info(); factory = new FactoryB(); Product productB = factory.createProduct(); productB.info(); } } Factory Methodæ¨¡å¼é€‚ç”¨äºï¼š\nå½“ä¸€ä¸ªç±»ä¸çŸ¥é“å®ƒæ‰€å¿…é¡»åˆ›å»ºçš„å¯¹è±¡çš„ç±»ï¼ˆä¸çŸ¥é“è¦åˆ›å»ºçš„å…·ä½“ç±»ï¼‰çš„æ—¶å€™ã€‚ å½“ä¸€ä¸ªç±»å¸Œæœ›ç”±å®ƒçš„å­ç±»æ¥æŒ‡å®šå®ƒæ‰€åˆ›å»ºçš„å¯¹è±¡çš„æ—¶å€™ã€‚ å½“ç±»å°†åˆ›å»ºå¯¹è±¡çš„èŒè´£å§”æ‰˜ç»™å¤šä¸ªå¸®åŠ©å­ç±»ä¸­çš„æŸä¸€ä¸ªï¼Œå¹¶ä¸”ä½ å¸Œæœ›å°†å“ªä¸€ä¸ªå¸®åŠ©å­ç±»æ˜¯ä»£ç†è€…è¿™ä¸€ä¿¡æ¯å±€éƒ¨åŒ–çš„æ—¶å€™ã€‚ å·¥å‚æ–¹æ³•ï¼š\nç‰¹ç‚¹ï¼šç”¨æˆ·ç±»å’Œå·¥å‚ç±»åˆ†å¼€ã€‚ ä¼˜ç‚¹ï¼šç”¨æˆ·éœ€è¦ä»€ä¹ˆå¯¹è±¡ï¼Œåªéœ€å‘å·¥å‚è¯·æ±‚å³å¯ã€‚ç”¨æˆ·æ— éœ€ä¿®æ”¹å°±å¯ä½¿ç”¨å¯¹è±¡ã€‚ ç¼ºç‚¹ï¼šå¯¹è±¡ä¿®æ”¹æ—¶ï¼Œå·¥å‚ç±»ä¹Ÿéœ€è¦åšç›¸åº”çš„ä¿®æ”¹ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼ æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— é¡»æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚\næŠ½è±¡å·¥å‚çš„å·¥å‚ç±»æ˜¯abstract classï¼ˆæŠ½è±¡ç±»ï¼‰ï¼Œå·¥å‚æ–¹æ³•æ˜¯interfaceã€‚æŠ½è±¡å·¥å‚å¯ä»¥åˆ›å»ºæ›´å¤šçš„ç±»ã€‚\næŠ½è±¡å·¥å‚æ¨¡å¼çš„ç»“æ„ï¼š\nAbstractFactoryï¼šå£°æ˜ä¸€ä¸ªåˆ›å»ºæŠ½è±¡äº§å“å¯¹è±¡çš„æ“ä½œæ¥å£ã€‚ ConcreteFactoryï¼šå®ç°åˆ›å»ºå…·ä½“äº§å“å¯¹è±¡çš„æ“ä½œã€‚ AbstractProductï¼šä¸ºä¸€ç±»äº§å“å¯¹è±¡å£°æ˜ä¸€ä¸ªæ¥å£ã€‚ ConcreteProductï¼šå®šä¹‰ä¸€ä¸ªå°†è¢«ç›¸åº”çš„å…·ä½“å·¥å‚åˆ›å»ºçš„äº§å“å¯¹è±¡ï¼Œå®ç°AbstractProductæ¥å£ã€‚ Clientï¼šä»…ä½¿ç”¨ç”±AbstractFactoryå’ŒAbstractProductç±»å£°æ˜çš„æ¥å£ã€‚ ä»£ç ç¤ºä¾‹ï¼š\nåˆ›å»ºä¸¤ä¸ªäº§å“æ¥å£ProductAå’ŒProductBï¼Œå¹¶åˆ†åˆ«åˆ›å»ºè¿™ä¸¤ä¸ªäº§å“æ¥å£çš„å®ç°ç±»ProductA1å’ŒProductA2ä»¥åŠProductB1å’ŒProductB2ã€‚ä»£ç ç•¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡ŒProductAå’ŒProductBä»£è¡¨ä¸¤ç§ä¸åŒçš„äº§å“ï¼Œå®ƒä»¬çš„ç±»å‹å¯ä»¥å®Œå…¨ä¸ç›¸åŒã€‚\nFactoryï¼š\npublic interface Factory { /** * æ¥å£æ–¹æ³•è·å–ProductA */ public ProductA createProductA(); /** * æ¥å£æ–¹æ³•è·å–ProductB */ public ProductB createProductB(); } Factory1ï¼š\n/** * å·¥å‚1åˆ›å»ºäº§å“ProductA1å’ŒProductB1 */ public class Factory1 implements Factory { /** * åˆ›å»ºäº§å“ProductA1 */ @Override public ProductA createProductA() { return new ProductA1(); } /** * åˆ›å»ºäº§å“ProductB1 */ @Override public ProductB createProductB() { return new ProductB1(); } } Factory2ï¼š\n/** * å·¥å‚2åˆ›å»ºäº§å“ProductA2å’ŒProductB2 */ public class Factory2 implements Factory { /* ä»£ç ä¸Factory1ç±»ä¼¼ï¼Œç•¥ */ } æµ‹è¯•ç±»ï¼š\npublic class AbstractFactory { public static void main(String[] args) { Factory factory = new Factory1(); ProductA productA1 = factory.createProductA(); ProductB productB1 = factory.createProductB(); productA1.info(); productB1.info(); factory = new Factory2(); ProductA productA2 = factory.createProductA(); ProductB productB2 = factory.createProductB(); productA2.info(); productB2.info(); } } Abstract Factoryæ¨¡å¼é€‚ç”¨äºï¼š\nä¸€ä¸ªç³»ç»Ÿè¦ç‹¬ç«‹äºå®ƒçš„äº§å“çš„åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºæ—¶ã€‚ ä¸€ä¸ªç³»ç»Ÿè¦ç”±å¤šä¸ªäº§å“ç³»åˆ—ä¸­çš„ä¸€ä¸ªæ¥é…ç½®æ—¶ã€‚ å½“è¦å¼ºè°ƒä¸€ç³»åˆ—ç›¸å…³çš„äº§å“å¯¹è±¡çš„è®¾è®¡ä»¥ä¾¿è¿›è¡Œè”åˆä½¿ç”¨æ—¶ã€‚ å½“æä¾›ä¸€ä¸ªäº§å“ç±»åº“ï¼Œåªæƒ³æ˜¾ç¤ºå®ƒä»¬çš„æ¥å£è€Œä¸æ˜¯å®ç°æ—¶ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼šæ ¸å¿ƒå·¥å‚ç±»ä¸å†è´Ÿè´£æ‰€æœ‰äº§å“çš„åˆ›å»ºï¼Œè€Œæ˜¯å°†å…·ä½“åˆ›å»ºçš„å·¥ä½œäº¤ç»™å­ç±»ï¼ˆå…·ä½“å·¥å‚ï¼‰å»åšã€‚å®ƒä»…è´Ÿè´£ç»™å­˜å‚¨å…·ä½“å·¥å‚ç±»å¿…é¡»å®ç°çš„æ¥å£ã€‚\nç”Ÿæˆå™¨æ¨¡å¼ ç”Ÿæˆå™¨ï¼ˆBuilderï¼Œå»ºé€ è€…ï¼‰æ¨¡å¼å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚\nç”Ÿæˆå™¨æ¨¡å¼ç»“æ„ï¼š\nProductï¼šè¡¨ç¤ºè¢«æ„é€ çš„å¤æ‚å¯¹è±¡ã€‚\nBuilderï¼šä¸ºåˆ›å»ºä¸€ä¸ªProductå¯¹è±¡çš„å„ä¸ªéƒ¨ä»¶æŒ‡å®šæŠ½è±¡æ¥å£ã€‚\nBuildPart()ï¼šç”Ÿæˆé›¶ä»¶ã€‚\nConcreteBuilderï¼šå®ç°Builderçš„æ¥å£ä»¥æ„é€ å’Œè£…é…è¯¥äº§å“çš„å„ä¸ªéƒ¨ä»¶ï¼Œå®šä¹‰å¹¶æ˜ç¡®å®ƒæ‰€åˆ›å»ºçš„è¡¨ç¤ºï¼Œæä¾›ä¸€ä¸ªæ£€ç´¢äº§å“çš„æ¥å£ã€‚\nConcreteBuilderåˆ›å»ºProductå¯¹è±¡äº§å“çš„å†…éƒ¨è¡¨ç¤ºå¹¶å®šä¹‰å®ƒçš„è£…é…è¿‡ç¨‹ã€‚åŒ…å«å®šä¹‰ç»„æˆç»„ä»¶çš„ç±»ï¼ŒåŒ…æ‹¬å°†è¿™äº›ç»„ä»¶è£…é…æˆæœ€ç»ˆäº§å“çš„æ¥å£ã€‚\nGetResult()ï¼šè·å–ç”Ÿæˆï¼ˆç»„è£…å®Œæˆï¼‰çš„äº§å“ã€‚\nDirectorï¼šæ„é€ ä¸€ä¸ªä½¿ç”¨Builderæ¥å£çš„å¯¹è±¡ã€‚æœ€ç»ˆæ˜¯ä½¿ç”¨Directoræ¥æ„é€ Productã€‚\nä»£ç ç¤ºä¾‹ï¼š\nProductï¼š\npublic class Product { private List\u0026lt;String\u0026gt; parts = new ArrayList\u0026lt;\u0026gt;(); // é›¶ä»¶ /** * æ·»åŠ é›¶ä»¶ * @param part è¦æ·»åŠ çš„é›¶ä»¶ */ public void add(String part) { parts.add(part); } @Override public String toString() { return \u0026#34;Product{\u0026#34; + \u0026#34;parts=\u0026#34; + parts + \u0026#39;}\u0026#39;; } } Builderï¼š\npublic abstract class Builder { /** * ç”Ÿæˆäº§å“é›¶ä»¶ */ public abstract void buildPart(); /** * è·å–ç»“æœ */ public abstract Product getResult(); } Builder1ï¼š\npublic class Builder1 extends Builder { private Product product = new Product(); @Override public void buildPart() { product.add(\u0026#34;A\u0026#34;); product.add(\u0026#34;B\u0026#34;); product.add(\u0026#34;C\u0026#34;); product.add(\u0026#34;D\u0026#34;); product.add(\u0026#34;E\u0026#34;); product.add(\u0026#34;F\u0026#34;); } @Override public Product getResult() { return product; } } Builder2ä¸Builder1ç±»ä¼¼ï¼Œç•¥ã€‚\nDirectorï¼š\npublic class Director { /** * æ ¹æ®æŒ‡å®šçš„Builderæ¥ç”Ÿäº§é›¶ä»¶ * @param builder æŒ‡å®šç”¨æ¥ç”Ÿäº§é›¶ä»¶çš„Builder */ public void construct(Builder builder) { builder.buildPart(); } } æµ‹è¯•ï¼š\npublic class BuilderTest { public static void main(String[] args) { Director director = new Director(); Builder builder1 = new Builder1(); director.construct(builder1); Product product1 = builder1.getResult(); System.out.println(product1); Builder2 builder2 = new Builder2(); director.construct(builder2); Product product2 = builder2.getResult(); System.out.println(product2); } } Builderæ¨¡å¼é€‚ç”¨äºï¼š\nå½“åˆ›å»ºå¤æ‚å¯¹è±¡çš„ç®—æ³•åº”è¯¥ç‹¬ç«‹äºè¯¥å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä»¥åŠå®ƒä»¬çš„è£…é…æ–¹å¼æ—¶ã€‚ å½“æ„é€ è¿‡ç¨‹å¿…é¡»å…è®¸è¢«æ„é€ çš„å¯¹è±¡æœ‰ä¸åŒçš„è¡¨ç¤ºæ—¶ã€‚ åŸå‹æ¨¡å¼ åŸå‹ï¼ˆPrototypeï¼‰æ¨¡å¼ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚\nåŸå‹æ¨¡å¼ç»“æ„ï¼š\nPrototypeï¼šå£°æ˜ä¸€ä¸ªå¤åˆ¶è‡ªèº«çš„æ¥å£ã€‚ ConcretePrototypeï¼šå®ç°ä¸€ä¸ªå¤åˆ¶è‡ªèº«çš„æ“ä½œã€‚ Clientï¼šè®©ä¸€ä¸ªåŸå‹å¤åˆ¶è‡ªèº«ä»è€Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ ä»£ç ç¤ºä¾‹ï¼š\nPrototypeï¼š\npublic interface Prototype { /** * å…‹éš†æ–¹æ³• * @return */ public Object clone(); } Productï¼š\npublic class Product implements Prototype { private Integer id; private Double price; // ä»·æ ¼ public Product() {} public Product(Integer id, Double price) { this.id = id; this.price = price; } @Override public Object clone() { Product object = new Product(); // è¿™é‡Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å¸¦å‚çš„æ„é€ æ–¹æ³•ï¼Œè€Œä¸å¿…ä½¿ç”¨setter object.setId(this.id); object.setPrice(this.price); return object; } // çœç•¥ getter, setter @Override public String toString() { return \u0026#34;Product{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, price=\u0026#34; + price + \u0026#39;}\u0026#39;; } } æµ‹è¯•ï¼š\npublic class PrototypeTest { public static void main(String[] args) { Product product1 = new Product(2023, 5.22); System.out.println(\u0026#34;product1: \u0026#34; + product1); Product product2 = (Product) product1.clone(); System.out.println(\u0026#34;product2: \u0026#34; + product2); } } Prototypeæ¨¡å¼é€‚ç”¨äºï¼š\nå½“ä¸€ä¸ªç³»ç»Ÿåº”è¯¥ç‹¬ç«‹äºå®ƒçš„äº§å“åˆ›å»ºã€æ„æˆå’Œè¡¨ç¤ºæ—¶ã€‚ å½“è¦å®ä¾‹åŒ–çš„ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ»æŒ‡å®šæ—¶ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡åŠ¨æ€è£…è½½ã€‚ ä¸ºäº†é¿å…åˆ›å»ºä¸€ä¸ªä¸äº§å“ç±»å±‚æ¬¡å¹³è¡Œçš„å·¥å‚ç±»å±‚æ¬¡æ—¶ã€‚ å½“ä¸€ä¸ªç±»çš„å®ä¾‹åªèƒ½æœ‰å‡ ä¸ªä¸åŒçŠ¶æ€ç»„åˆä¸­çš„ä¸€ç§æ—¶ã€‚å»ºç«‹ç›¸åº”æ•°ç›®çš„åŸå‹å¹¶å…‹éš†å®ƒä»¬ï¼Œå¯èƒ½æ¯”æ¯æ¬¡ç”¨åˆé€‚çš„çŠ¶æ€æ‰‹å·¥å®ä¾‹åŒ–è¯¥ç±»æ›´æ–¹ä¾¿ä¸€äº›ã€‚ åŸå‹æ¨¡å¼ï¼š\nç‰¹ç‚¹ï¼šé€šè¿‡ç»™å‡ºä¸€ä¸ªåŸå‹å¯¹è±¡æ¥æŒ‡æ˜æ‰€è¦åˆ›å»ºçš„å¯¹è±¡çš„ç±»å‹ï¼Œç„¶åå¤åˆ¶è¿™ä¸ªåŸå‹å¯¹è±¡çš„æ–¹æ³•åˆ›å»ºå‡ºæ›´å¤šåŒç±»å‹çš„å¯¹è±¡ã€‚ ä¼˜ç‚¹ï¼šå…è®¸åŠ¨æ€çš„å¢åŠ æˆ–å‡å°‘äº§å“ç±»ï¼Œäº§å“ç±»ä¸éœ€è¦éå¾—æœ‰ä»»ä½•äº‹å…ˆç¡®å®šçš„ç­‰çº§ç»“æ„ï¼ŒåŸå§‹æ¨¡å‹æ¨¡å¼é€‚ç”¨äºä»»ä½•çš„ç­‰çº§ç»“æ„ã€‚ ç¼ºç‚¹ï¼šæ¯ä¸€ä¸ªç±»éƒ½å¿…é¡»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ã€‚ å•ä¾‹æ¨¡å¼ å•ä¾‹ï¼ˆSingletonï¼Œå•æ€ï¼‰æ¨¡å¼ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚\nå°±å¥½åƒSpringä¸­çš„Beanï¼Œæ¯ä¸ªBeané»˜è®¤æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œé€šè¿‡@Autowiredè‡ªåŠ¨è£…é…ï¼ˆæ¥è®¿é—®ï¼‰ã€‚\nå•ä¾‹æ¨¡å¼ç»“æ„ï¼š\nSingletonï¼šæŒ‡å®šä¸€ä¸ªInstanceæ“ä½œï¼Œå…è®¸å®¢æˆ·è®¿é—®å®ƒçš„å”¯ä¸€å®ä¾‹ã€‚ Instanceï¼šæ˜¯ä¸€ä¸ªç±»æ“ä½œï¼›å¯èƒ½è´Ÿè´£åˆ›å»ºå®ƒè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚ ä»£ç ç¤ºä¾‹ï¼š\nSingletonï¼š\npublic class Singleton { // åœ¨å†…éƒ¨ç¤ºä¾‹åŒ– private static Singleton instance = new Singleton(); /** * å®šä¹‰ç§æœ‰çš„æ„é€ æ–¹æ³•ï¼Œè®©å…¶å®ƒå¤–éƒ¨ç±»æ— æ³•é€šè¿‡æ„é€ æ–¹æ³•ç¤ºä¾‹åŒ–å¯¹è±¡ */ private Singleton() {} /** * å…¨å±€è®¿é—®æ–¹æ³• * \u0026lt;p\u0026gt; * å› ä¸ºè¯¥ç±»ä¸ºå•ä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨é™æ€æ–¹æ³•è·å–å³å¯ * \u0026lt;/p\u0026gt; */ public static Singleton getInstance() { return instance; } } æµ‹è¯•ï¼š\npublic class SingletonTest { /** * éªŒè¯Singletonæ˜¯å¦ä¸ºå•ä¾‹ï¼Œæ‰“å°å®ƒçš„åœ°å€å³å¯ */ public static void main(String[] args) { Singleton singleton1 = Singleton.getInstance(); System.out.println(singleton1); Singleton singleton2 = Singleton.getInstance(); System.out.println(singleton2); } } Singletonæ¨¡å¼é€‚ç”¨äºï¼š\nå½“ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹è€Œä¸”å®¢æˆ·å¯ä»¥ä»ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„è®¿é—®ç‚¹è®¿é—®å®ƒæ—¶ã€‚ å½“è¿™ä¸ªå”¯ä¸€å®ä¾‹åº”è¯¥æ˜¯é€šè¿‡å­ç±»åŒ–å¯æ‰©å±•çš„ï¼Œå¹¶ä¸”å®¢æˆ·æ— é¡»æ›´æ”¹ä»£ç å°±èƒ½ä½¿ç”¨ä¸€ä¸ªæ‰©å±•çš„å®ä¾‹æ—¶ã€‚ å•ä¾‹æ¨¡å¼ï¼šç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œè€Œä¸”è‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹å•ä¾‹æ¨¡å¼ã€‚å•ä¾‹æ¨¡å¼åªåº”åœ¨æœ‰çœŸæ­£çš„â€œå•ä¸€å®ä¾‹â€çš„éœ€æ±‚æ—¶æ‰å¯ä½¿ç”¨ã€‚\nç»“æ„å‹è®¾è®¡æ¨¡å¼ ç»“æ„å‹è®¾è®¡æ¨¡å¼æ¶‰åŠå¦‚ä½•ç»„åˆç±»æˆ–å¯¹è±¡ä»¥è·å¾—æ›´å¤§çš„ç»“æ„ã€‚\nç»“æ„å‹ç±»æ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥ç»„åˆæ¥å£æˆ–å®ç°ã€‚\nä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯é‡‡ç”¨å¤šé‡ç»§æ‰¿æ–¹æ³•å°†ä¸¤ä¸ªä»¥ä¸Šçš„ç±»ç»„åˆæˆä¸€ä¸ªç±»ï¼Œç»“æœè¿™ä¸ªç±»åŒ…å«äº†æ‰€æœ‰çˆ¶ç±»çš„æ€§è´¨ã€‚\nè¿™ä¸€æ¨¡å¼å°¤å…¶æœ‰åŠ©äºå¤šä¸ªç‹¬ç«‹å¼€å‘çš„ç±»åº“ååŒå·¥ä½œã€‚\nç»“æ„å‹å¯¹è±¡æ¨¡å¼ï¼šæè¿°äº†å¦‚ä½•å¯¹ä¸€äº›å¯¹è±¡è¿›è¡Œç»„åˆï¼Œä»è€Œå®ç°æ–°åŠŸèƒ½çš„ä¸€äº›æ–¹æ³•ï¼ˆä¸æ˜¯å¯¹æ¥å£å’Œå®ç°è¿›è¡Œç»„åˆï¼‰ã€‚\nå› ä¸ºå¯ä»¥åœ¨è¿è¡Œæ—¶åˆ»æ”¹å˜å¯¹è±¡ç»„åˆå…³ç³»ï¼Œæ‰€ä»¥å¯¹è±¡ç»„åˆæ–¹å¼å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œè€Œè¿™ç§æœºåˆ¶ç”¨é™æ€ç±»ç»„åˆæ˜¯ä¸å¯èƒ½å®ç°çš„ã€‚\né€‚é…å™¨æ¨¡å¼ é€‚é…å™¨ï¼ˆAdapterï¼Œå˜å‹å™¨ï¼‰æ¨¡å¼å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚\nç±»é€‚é…å™¨ä½¿ç”¨å¤šé‡ç»§æ‰¿å¯¹ä¸€ä¸ªæ¥å£ä¸å¦ä¸€ä¸ªæ¥å£è¿›è¡ŒåŒ¹é…ï¼š\nå¯¹è±¡é€‚é…å™¨ä¾èµ–äºå¯¹è±¡ç»„åˆï¼š\nå…¶ä¸­ï¼š\nTargetï¼šå®šä¹‰Clientä½¿ç”¨çš„ä¸ç‰¹å®šé¢†åŸŸç›¸å…³çš„æ¥å£ã€‚ Clientï¼šä¸ç¬¦åˆTargetæ¥å£çš„å¯¹è±¡ååŒã€‚ Adapteeï¼šå®šä¹‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£éœ€è¦é€‚é…ã€‚ Adapterï¼ˆé€‚é…å™¨ï¼‰ï¼šå¯¹Adapteeçš„æ¥å£ä¸Targetæ¥å£è¿›è¡Œé€‚é…ã€‚ å¯¹è±¡é€‚é…å™¨å¯¹è±¡æ¨¡å¼ä»£ç ç¤ºä¾‹ï¼š\nTargetï¼š\n/** * ç›®æ ‡æ¥å£ */ public class Target { public void request() { System.out.println(\u0026#34;Target request...\u0026#34;); } } Adapteeï¼š\n/** * éœ€é€‚é…æ¥å£ */ public class Adaptee { public void specificRequest() { System.out.println(\u0026#34;Adaptee specificRequest...\u0026#34;); } } Adapterï¼š\npublic class Adapter extends Target { // å¯¹è±¡é€‚é… private Adaptee adaptee = new Adaptee(); @Override public void request() { // é‡å†™å¹¶åœ¨å…¶ä¸­è°ƒç”¨Adapteeçš„å¯¹åº”æ–¹æ³• adaptee.specificRequest(); } } æµ‹è¯•ï¼š\npublic class AdapterTest { public static void main(String[] args) { Target target = new Adapter(); target.request(); } } Adapteræ¨¡å¼é€‚ç”¨äºï¼š\næƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œè€Œå®ƒçš„æ¥å£ä¸ç¬¦åˆè¦æ±‚ã€‚ æƒ³åˆ›å»ºä¸€ä¸ªå¯ä»¥å¤ç”¨çš„ç±»ï¼Œè¯¥ç±»å¯ä»¥ä¸å…¶ä»–ä¸ç›¸å…³çš„ç±»æˆ–ä¸å¯é¢„è§çš„ç±»ï¼ˆå³é‚£äº›æ¥å£å¯èƒ½ä¸ä¸€å®šå…¼å®¹çš„ç±»ï¼‰ååŒå·¥ä½œã€‚ ï¼ˆä»…é€‚ç”¨äºå¯¹è±¡Adapterï¼‰æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­ç±»ï¼Œä½†æ˜¯ä¸å¯èƒ½å¯¹æ¯ä¸€ä¸ªéƒ½è¿›è¡Œå­ç±»åŒ–ä»¥åŒ¹é…å®ƒä»¬çš„æ¥å£ã€‚å¯¹è±¡é€‚é…å™¨å¯ä»¥é€‚é…å®ƒçš„çˆ¶ç±»æ¥å£ã€‚ é€‚é…å™¨æ¨¡å¼ï¼šæŠŠä¸€ä¸ªç±»çš„æ¥å£å˜æ¢æˆå®¢æˆ·ç«¯æ‰€æœŸå¾…çš„å¦ä¸€ç§æ¥å£ï¼Œä»è€Œä½¿åŸæœ¬å› æ¥å£åŸå› ä¸åŒ¹é…è€Œæ— æ³•ä¸€èµ·å·¥ä½œçš„ä¸¤ä¸ªç±»èƒ½å¤Ÿä¸€èµ·å·¥ä½œã€‚é€‚é…ç±»å¯ä»¥æ ¹æ®å‚æ•°è¿”è¿˜ä¸€ä¸ªåˆé€‚çš„å®ä¾‹ç»™å®¢æˆ·ç«¯ã€‚\næ¡¥æ¥æ¨¡å¼ æ¡¥æ¥ï¼ˆBridgeï¼‰æ¨¡å¼å°†æŠ½è±¡éƒ¨åˆ†ä¸å…¶å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚\næ¡¥æ¥æ¨¡å¼ç»“æ„ï¼š\nAbstractionï¼šå®šä¹‰æŠ½è±¡ç±»çš„æ¥å£ï¼Œç»´æŠ¤ä¸€ä¸ªæŒ‡å‘Implementorç±»å‹å¯¹è±¡çš„æŒ‡é’ˆã€‚\nRefinedAbstractionï¼šæ‰©å……ç”±Abstractionå®šä¹‰çš„æ¥å£ã€‚\nImplementorï¼šå®šä¹‰å®ç°ç±»çš„æ¥å£ï¼Œè¯¥æ¥å£ä¸ä¸€å®šè¦ä¸Abstractionçš„æ¥å£å®Œå…¨ä¸€è‡´ï¼›äº‹å®ä¸Šè¿™ä¸¤ä¸ªæ¥å£å¯ä»¥å®Œå…¨ä¸åŒã€‚\nä¸€èˆ¬æ¥è¯´ï¼ŒImplementoræ¥å£ä»…æä¾›åŸºæœ¬æ“ä½œï¼Œè€ŒAbstractionå®šä¹‰äº†åŸºäºè¿™äº›åŸºæœ¬æ“ä½œçš„è¾ƒé«˜å±‚æ¬¡çš„æ“ä½œã€‚\nConcreteImplementorï¼šå®ç°Implementoræ¥å£å¹¶å®šä¹‰å®ƒçš„å…·ä½“å®ç°ã€‚\nä»£ç å®ç°ï¼š\nColorï¼š\n/** * äº§å“é¢œè‰²æ¥å£ */ public interface Color { public void operationImp(Product product); } Productï¼š\n/** * äº§å“æ¥å£ */ public abstract class Product { // é»˜è®¤åç§° private String name = Product.class + \u0026#34;@\u0026#34; + Integer.toHexString(this.hashCode()); protected Color color; // æŒ‡å‘Implementorçš„æŒ‡é’ˆï¼Œå…¶å®ç”¨privateä¹Ÿå¯ä»¥ï¼Œåªéœ€è¦ä¸ºå…¶å®šä¹‰getterã€setter public abstract void operation(); public Color getColor() { return color; } public void setColor(Color color) { this.color = color; } public String getName() { return name; } public void setName(String name) { this.name = name; } @Override public String toString() { return \u0026#34;Product{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, color=\u0026#34; + color + \u0026#39;}\u0026#39;; } } Redï¼š\npublic class Red implements Color { @Override public void operationImp(Product product) { System.out.println(product); } } Buleä¸Redç±»ä¼¼ï¼Œç•¥ã€‚\nProductAï¼š\npublic class ProductA extends Product { @Override public void operation() { color.operationImp(this); } } æµ‹è¯•ï¼š\npublic class Bridge { public static void main(String[] args) { Product productA1 = new ProductA(); Color red = new Red(); productA1.setColor(red); productA1.operation(); Product productA2 = new ProductA(); Color blue = new Blue(); productA2.setColor(blue); productA2.operation(); } } Bridgeæ¨¡å¼é€‚ç”¨äºï¼š\nä¸å¸Œæœ›åœ¨æŠ½è±¡å’Œå®ƒçš„å®ç°éƒ¨åˆ†ä¹‹é—´æœ‰ä¸€ä¸ªå›ºå®šçš„ç»‘å®šå…³ç³»ã€‚\nä¾‹å¦‚ï¼Œè¿™ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶åˆ»å®ç°éƒ¨åˆ†åº”å¯ä»¥è¢«é€‰æ‹©æˆ–è€…åˆ‡æ¢ã€‚\nç±»çš„æŠ½è±¡ä»¥åŠå®ƒçš„å®ç°éƒ½åº”è¯¥å¯ä»¥é€šè¿‡ç”Ÿæˆå­ç±»çš„æ–¹æ³•åŠ ä»¥æ‰©å……ã€‚\nè¿™æ˜¯Bridgeæ¨¡å¼ä½¿å¾—å¼€å‘è€…å¯ä»¥å¯¹ä¸åŒçš„æŠ½è±¡æ¥å£å’Œå®ç°éƒ¨åˆ†è¿›è¡Œç»„åˆï¼Œå¹¶åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œæ‰©å……ã€‚\nå¯¹ä¸€ä¸ªæŠ½è±¡çš„å®ç°éƒ¨åˆ†çš„ä¿®æ”¹åº”å¯¹å®¢æˆ·ä¸äº§ç”Ÿå½±å“ï¼Œå³å®¢æˆ·ä»£ç ä¸å¿…é‡æ–°ç¼–è¯‘ã€‚\nï¼ˆC++ï¼‰æƒ³å¯¹å®¢æˆ·å®Œå…¨éšè—æŠ½è±¡çš„å®ç°éƒ¨åˆ†ã€‚\næœ‰è®¸å¤šç±»è¦ç”Ÿæˆçš„ç±»å±‚æ¬¡ç»“æ„ã€‚\næƒ³åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«å®ç°ï¼ˆå¯èƒ½ä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼‰ï¼Œä½†åŒæ—¶è¦æ±‚å®¢æˆ·å¹¶ä¸çŸ¥é“è¿™ä¸€ç‚¹ã€‚\næ¡¥æ¢æ¨¡å¼ï¼šå°†æŠ½è±¡åŒ–ä¸å®ç°åŒ–è„±è€¦ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹çš„å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ä»–ä»¬ä¹‹é—´çš„å¼ºå…³è”å˜æˆå¼±å…³è”ã€‚ä¹Ÿå°±æ˜¯æŒ‡åœ¨ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿçš„æŠ½è±¡åŒ–å’Œå®ç°åŒ–ä¹‹é—´ä½¿ç”¨ç»„åˆ/èšåˆå…³ç³»è€Œä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼Œä»è€Œä½¿ä¸¤è€…å¯ä»¥ç‹¬ç«‹çš„å˜åŒ–ã€‚\nç»„åˆæ¨¡å¼ ç»„åˆï¼ˆCompositeï¼Œåˆæˆï¼‰æ¨¡å¼å°†å¯¹è±¡ç»„åˆæˆæ ‘å‹ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†â€”â€”æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚Compositeä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚\nç»„åˆæ¨¡å¼çš„ç»“æ„ï¼š\nComponentï¼šä¸ºç»„åˆä¸­çš„å¯¹è±¡å£°æ˜æ¥å£ã€‚\nåœ¨é€‚å½“æƒ…å†µä¸‹å®ç°æ‰€æœ‰ç±»å…±æœ‰æ¥å£çš„é»˜è®¤è¡Œä¸ºï¼› å£°æ˜ä¸€ä¸ªæ¥å£ç”¨äºè®¿é—®å’Œç®¡ç†Componentçš„å­ç»„ä»¶ï¼› ï¼ˆå¯é€‰ï¼‰åœ¨é€’å½’ç»“æ„ä¸­å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè®¿é—®ä¸€ä¸ªçˆ¶ç»„ä»¶ï¼Œå¹¶åœ¨åˆé€‚çš„æƒ…å†µä¸‹å®ç°å®ƒã€‚ Leafï¼šåœ¨ç»„åˆä¸­è¡¨ç¤ºå¶ç»“ç‚¹å¯¹è±¡ï¼Œå¶ç»“ç‚¹æ²¡æœ‰å­ç»“ç‚¹ï¼›åœ¨ç»„åˆä¸­å®šä¹‰å›¾å…ƒå¯¹è±¡çš„è¡Œä¸ºã€‚\nCompositeï¼š\nå®šä¹‰æœ‰å­ç»„ä»¶çš„é‚£äº›ç»„ä»¶çš„è¡Œä¸ºï¼› å­˜å‚¨å­ç»„ä»¶ï¼› åœ¨Componentæ¥å£ä¸­å®ç°ä¸å­ç»„ä»¶æœ‰å…³çš„æ“ä½œã€‚ Clientï¼šé€šè¿‡Componentæ¥å£æ“çºµç»„åˆç»„ä»¶çš„å¯¹è±¡ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nAbstractFileï¼š\npublic abstract class AbstractFile { protected String name; public String getName() { return name; } /** * æ¨¡èŒƒLinux treeå‘½ä»¤çš„è¾“å‡º * \u0026lt;p\u0026gt; * åªæ˜¯ä¸ºäº†å±•ç¤ºï¼Œå¹¶ä¸é‡è¦ * \u0026lt;/p\u0026gt; */ public static String toTreeString(AbstractFile file) { String treeString = file.getName(); List\u0026lt;AbstractFile\u0026gt; childrenList = file.getChildrenList(); if (childrenList != null) { treeString += \u0026#39;\\n\u0026#39;; for (int i = 0; i \u0026lt; childrenList.size(); i++) { AbstractFile children = childrenList.get(i); String childTreeString = toTreeString(children); String[] split = childTreeString.split(\u0026#34;\\n\u0026#34;); childTreeString = \u0026#34;\u0026#34;; for (int j = 0; j \u0026lt; split.length; j++) { if (split[j].charAt(0) == \u0026#39;â”œ\u0026#39; || split[j].charAt(0) == \u0026#39;â””\u0026#39; || split[j].charAt(0) == \u0026#39;â”‚\u0026#39; || split[j].charAt(0) == \u0026#39; \u0026#39;) { if (i == childrenList.size() - 1) { split[j] = \u0026#34; \u0026#34; + split[j]; } else { split[j] = \u0026#34;â”‚ \u0026#34; + split[j]; } } else { if (i == childrenList.size() - 1) { split[j] = \u0026#34;â””â”€â”€ \u0026#34; + split[j]; } else { split[j] = \u0026#34;â”œâ”€â”€ \u0026#34; + split[j]; } } split[j] += \u0026#39;\\n\u0026#39;; childTreeString += split[j]; } treeString += childTreeString; } } return treeString; } public abstract boolean add(AbstractFile file); public abstract boolean remove(AbstractFile file); public abstract List\u0026lt;AbstractFile\u0026gt; getChildrenList(); } Fileï¼š\npublic class File extends AbstractFile { public File(String name) { this.name = name; } @Override public boolean add(AbstractFile file) { return false; } @Override public boolean remove(AbstractFile file) { return false; } @Override public List\u0026lt;AbstractFile\u0026gt; getChildrenList() { return null; } @Override public String toString() { return this.name; } } Folderï¼š\npublic class Folder extends AbstractFile { private List\u0026lt;AbstractFile\u0026gt; childrenList = new ArrayList\u0026lt;AbstractFile\u0026gt;(); public Folder(String name) { this.name = name; } @Override public boolean add(AbstractFile file) { return childrenList.add(file); } @Override public boolean remove(AbstractFile file) { return childrenList.remove(file); } @Override public List\u0026lt;AbstractFile\u0026gt; getChildrenList() { return childrenList; } @Override public String toString() { return toTreeString(this); } } æµ‹è¯•ï¼š\npublic class Composite { /** * æ¨¡ä»¿Linuxçš„æ–‡ä»¶ç»“æ„ */ public static void main(String[] args) { AbstractFile root = new Folder(\u0026#34;/\u0026#34;); String[] childrenNameList = {\u0026#34;sbin\u0026#34;, \u0026#34;boot\u0026#34;, \u0026#34;sys\u0026#34;, \u0026#34;etc\u0026#34;, \u0026#34;usr\u0026#34;, \u0026#34;home\u0026#34;, \u0026#34;root\u0026#34;}; for (String childrenName : childrenNameList) { AbstractFile children = new Folder(childrenName); root.add(children); } List\u0026lt;AbstractFile\u0026gt; childrenList = root.getChildrenList(); AbstractFile myFolder = new Folder(\u0026#34;linner\u0026#34;); AbstractFile homeFolder = childrenList.get(5); homeFolder.add(myFolder); for (int i = 0; i \u0026lt; 5; i++) { AbstractFile file = new File(\u0026#34;file\u0026#34; + Integer.toString(i + 1)); myFolder.add(file); if (i % 2 == 0) { AbstractFile folder = new Folder(\u0026#34;folder\u0026#34; + Integer.toString(i + 1)); myFolder.add(folder); for (int j = 0; j \u0026lt; 3; j++) { AbstractFile folderFile = new File(\u0026#34;file\u0026#34; + Integer.toString(i + 1) + \u0026#39;_\u0026#39; + Integer.toString(j + 1)); folder.add(folderFile); } } } System.out.println(root); } } è¾“å‡ºå¦‚ä¸‹ï¼š\n/ â”œâ”€â”€ sbin â”œâ”€â”€ boot â”œâ”€â”€ sys â”œâ”€â”€ etc â”œâ”€â”€ usr â”œâ”€â”€ home â”‚ â””â”€â”€ linner â”‚ â”œâ”€â”€ file1 â”‚ â”œâ”€â”€ folder1 â”‚ â”‚ â”œâ”€â”€ file1_1 â”‚ â”‚ â”œâ”€â”€ file1_2 â”‚ â”‚ â””â”€â”€ file1_3 â”‚ â”œâ”€â”€ file2 â”‚ â”œâ”€â”€ file3 â”‚ â”œâ”€â”€ folder3 â”‚ â”‚ â”œâ”€â”€ file3_1 â”‚ â”‚ â”œâ”€â”€ file3_2 â”‚ â”‚ â””â”€â”€ file3_3 â”‚ â”œâ”€â”€ file4 â”‚ â”œâ”€â”€ file5 â”‚ â””â”€â”€ folder5 â”‚ â”œâ”€â”€ file5_1 â”‚ â”œâ”€â”€ file5_2 â”‚ â””â”€â”€ file5_3 â””â”€â”€ root Compositeæ¨¡å¼é€‚ç”¨äºï¼š\næƒ³è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†â€”â€”æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚ å¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç”¨æˆ·å°†ç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚ åˆæˆæ¨¡å¼ï¼šåˆæˆæ¨¡å¼å°†å¯¹è±¡ç»„ç»‡åˆ°æ ‘ç»“æ„ä¸­ï¼Œå¯ä»¥ç”¨æ¥æè¿°æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ã€‚åˆæˆæ¨¡å¼å°±æ˜¯ä¸€ä¸ªå¤„ç†å¯¹è±¡çš„æ ‘ç»“æ„çš„æ¨¡å¼ã€‚åˆæˆæ¨¡å¼æŠŠéƒ¨åˆ†ä¸æ•´ä½“çš„å…³ç³»ç”¨æ ‘ç»“æ„è¡¨ç¤ºå‡ºæ¥ã€‚åˆæˆæ¨¡å¼ä½¿å¾—å®¢æˆ·ç«¯æŠŠä¸€ä¸ªä¸ªå•ç‹¬çš„æˆåˆ†å¯¹è±¡å’Œç”±ä»–ä»¬å¤åˆè€Œæˆçš„åˆæˆå¯¹è±¡åŒç­‰çœ‹å¾…ã€‚\nè£…é¥°å™¨æ¨¡å¼ è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ¨¡å¼åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚è£…é¥°å™¨æä¾›äº†ç”¨å­ç±»æ‰©å±•åŠŸèƒ½çš„çµæ´»æ›¿ä»£ã€‚å°±å¢åŠ åŠŸèƒ½è€Œè¨€ï¼ŒDecoratoræ¨¡å¼æ¯”æ´¾ç”Ÿå­ç±»æ›´åŠ çµæ´»ã€‚\nè£…é¥°å™¨æ¨¡å¼ç»“æ„ï¼š\nComponentï¼šå®šä¹‰ä¸€ä¸ªå¯¹è±¡æ¥å£ï¼Œå¯ä»¥ç»™è¿™äº›å¯¹è±¡åŠ¨æ€åœ°æ·»åŠ èŒè´£ã€‚ ConcreteComponentï¼šå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ç»™è¿™ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›èŒè´£ã€‚ Decoratorï¼šç»´æŒä¸€ä¸ªæŒ‡å‘Componentå¯¹è±¡çš„æŒ‡é’ˆï¼Œå¹¶å®šä¹‰ä¸€ä¸ªä¸Componentæ¥å£ä¸€è‡´çš„æ¥å£ã€‚ ConcreteDecoratorï¼šå‘ç»„ä»¶æ·»åŠ èŒè´£ã€‚ ä»£ç ç¤ºä¾‹ï¼š\nPersonï¼š\npublic abstract class Person { protected String name; /** * èŒè´£ */ public abstract void operation(); public String getName() { return name; } } Studentï¼š\npublic class Student extends Person { public Student(String name){ this.name = name; } @Override public void operation() { System.out.println(name + \u0026#34;çš„èŒè´£ï¼šå­¦ä¹ \u0026#34;); } } Decoratorï¼š\npublic abstract class Decorator extends Person { protected Person person; } DecoratorAï¼š\npublic class DecoratorA extends Decorator { public DecoratorA(Person person) { this.person = person; this.name = person.getName(); } @Override public void operation() { person.operation(); // åŸæœ¬çš„èŒè´£ System.out.println(name + \u0026#34;æ–°èŒè´£ï¼šæ‘¸é±¼\u0026#34;); } } DecoratorBä¸DecoratorAç±»ä¼¼ï¼Œç•¥ï¼›\næµ‹è¯•ï¼š\npublic class DecoratorPattern { public static void main(String[] args) { Person zhangsan = new Student(\u0026#34;å¼ ä¸‰\u0026#34;); zhangsan.operation(); System.out.println(\u0026#34;============================\u0026#34;); /*Decorator decoratorA = new DecoratorA(zhangsan); decoratorA.operation();*/ // è£…é¥°å™¨å¯¹è±¡ä¹Ÿç›¸å½“äºPerson // è£…é¥°é“¾ zhangsan = new DecoratorA(zhangsan); zhangsan = new DecoratorB(zhangsan); zhangsan.operation(); } } Decoratoræ¨¡å¼é€‚ç”¨äºï¼š\nåœ¨ä¸å½±å“å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œä»¥åŠ¨æ€ã€é€æ˜çš„æ–¹å¼ç»™å•ä¸ªå¯¹è±¡æ·»åŠ èŒè´£ã€‚ å¤„ç†é‚£äº›å¯ä»¥æ’¤é”€çš„èŒè´£ã€‚ å½“ä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹å¼è¿›è¡Œæ‰©å……æ—¶ã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¯èƒ½æœ‰å¤§é‡ç‹¬ç«‹çš„æ‰©å±•ï¼Œä¸ºæ”¯æŒæ¯ä¸€ç§ç»„åˆå°†äº§ç”Ÿå¤§é‡çš„å­ç±»ï¼Œä½¿å¾—å­ç±»æ•°ç›®å‘ˆçˆ†ç‚¸æ€§å¢é•¿ã€‚å¦ä¸€ç§æƒ…å†µå¯èƒ½æ˜¯ï¼Œç”±äºç±»å®šä¹‰è¢«éšè—ï¼Œæˆ–ç±»å®šä¹‰ä¸èƒ½ç”¨äºç”Ÿæˆå­ç±»ã€‚ å¤–è§‚æ¨¡å¼ å¤–è§‚ï¼ˆFacadeï¼Œé—¨é¢ï¼‰æ¨¡å¼ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„é—¨é¢ï¼ˆç•Œé¢ï¼‰ï¼ŒFacadeæ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚\nå¤–è§‚æ¨¡å¼çš„ç»“æ„ï¼š\nFacadeï¼šçŸ¥é“å“ªäº›å­ç³»ç»Ÿç±»è´Ÿè´£å¤„ç†è¯·æ±‚ï¼›å°†å®¢æˆ·çš„è¯·æ±‚ä»£ç†ç»™é€‚å½“çš„å­ç³»ç»Ÿå¯¹è±¡ã€‚\nSubsystem classesï¼š\nå®ç°å­ç³»ç»Ÿçš„åŠŸèƒ½ï¼› å¤„ç†æœ‰Facadeå¯¹è±¡æŒ‡æ´¾çš„ä»»åŠ¡ï¼› æ²¡æœ‰Facadeçš„ä»»ä½•ç›¸å…³ä¿¡æ¯ï¼Œå³æ²¡æœ‰æŒ‡å‘Facadeçš„æŒ‡é’ˆã€‚ ä»£ç ç¤ºä¾‹ï¼š\nSubSystem1ï¼š\npublic class SubSystem1 { public void method1() { System.out.println(\u0026#34;æ‰§è¡Œå­ç³»ç»Ÿ1çš„åŠŸèƒ½\u0026#34;); } } SubSystem2å’ŒSubSystem3ä¸SubSystem1ç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nFacadeï¼š\npublic class Facade { private SubSystem1 subSystem1; private SubSystem2 subSystem2; private SubSystem3 subSystem3; public Facade() { subSystem1 = new SubSystem1(); subSystem2 = new SubSystem2(); subSystem3 = new SubSystem3(); } public void methodA() { subSystem1.method1(); } public void methodB() { subSystem2.method2(); } public void methodC() { subSystem3.method3(); } } æµ‹è¯•ï¼š\npublic class FacadePattern { public static void main(String[] args) { Facade facade = new Facade(); facade.methodA(); facade.methodB(); facade.methodC(); } } Facadeæ¨¡å¼é€‚ç”¨äºï¼š\nFacadeå¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„é»˜è®¤è§†å›¾ï¼Œä¾›å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨ã€‚\nè¦ä¸ºä¸€ä¸ªå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•æ¥å£æ—¶ï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚å¤§å¤šæ•°æ¨¡å¼ä½¿ç”¨æ—¶éƒ½ä¼šäº§ç”Ÿæ›´å¤šæ›´å°çš„ç±»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿæ›´å…·æœ‰å¯é‡ç”¨æ€§ï¼Œä¹Ÿæ›´å®¹æ˜“å¯¹å­ç³»ç»Ÿè¿›è¡Œå®šåˆ¶ï¼Œä½†ä¹Ÿç»™é‚£äº›ä¸éœ€è¦å®šåˆ¶å­ç³»ç»Ÿçš„ç”¨æˆ·å¸¦æ¥ä¸€äº›ä½¿ç”¨ä¸Šçš„å›°éš¾ã€‚\nFacadeæä¾›çš„ç®€å•é»˜è®¤è§†å›¾å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´å·²ç»è¶³å¤Ÿï¼Œè€Œé‚£äº›éœ€è¦æ›´å¤šçš„å¯å®šåˆ¶æ€§çš„ç”¨æˆ·å¯ä»¥è¶Šè¿‡Facadeå±‚ã€‚\nå®¢æˆ·ç¨‹åºä¸æŠ½è±¡ç±»çš„å®ç°éƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤§çš„ä¾èµ–æ€§ã€‚å¼•å…¥Facadeå°†è¿™ä¸ªå­ç³»ç»Ÿä¸å®¢æˆ·ä»¥åŠå…¶ä»–çš„å­ç³»ç»Ÿåˆ†ç¦»ï¼Œå¯ä»¥æé«˜å­ç³»ç»Ÿçš„ç‹¬ç«‹æ€§å’Œå¯ç§»æ¤æ€§ã€‚\nå½“éœ€è¦æ„å»ºä¸€ä¸ªå±‚æ¬¡ç»“æ„çš„å­ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨Facadeæ¨¡å¼å®šä¹‰å­ç³»ç»Ÿä¸­æ¯å±‚çš„å…¥å£ç‚¹ã€‚å¦‚æœå­ç³»ç»Ÿä¹‹é—´æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œåˆ™å¯ä»¥è®©å®ƒä»¬ä»…é€šè¿‡Facadeè¿›è¡Œé€šä¿¡ï¼Œä»è€Œç®€åŒ–äº†å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚\nå¤–è§‚æ¨¡å¼ï¼šå¤–éƒ¨ä¸ä¸€ä¸ªå­ç³»ç»Ÿçš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„é—¨é¢å¯¹è±¡è¿›è¡Œã€‚\nå¤–è§‚æ¨¡å¼æä¾›ä¸€ä¸ªé«˜å±‚æ¬¡çš„æ¥å£ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´æ˜“äºä½¿ç”¨ï¼š\næ¯ä¸€ä¸ªå­ç³»ç»Ÿåªæœ‰ä¸€ä¸ªé—¨é¢ç±»ï¼Œè€Œä¸”æ­¤é—¨é¢ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼ã€‚ æ•´ä¸ªç³»ç»Ÿå¯ä»¥æœ‰å¤šä¸ªé—¨é¢ç±»ã€‚ äº«å…ƒæ¨¡å¼ äº«å…ƒï¼ˆFlyweightï¼‰æ¨¡å¼è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚\nç»†ç²’åº¦å¯¹è±¡ï¼šåœ¨ä¸šåŠ¡æ¨¡å‹ä¸Šï¼ŒæŒ‰ç…§ä¸šåŠ¡éœ€æ±‚å°†å¯¹è±¡åŠ ä»¥ç»†åˆ†ï¼Œä»è€Œå¾—åˆ°æ›´å¤šçš„ä¸šåŠ¡æ¨¡å‹å¯¹è±¡ã€‚\näº«å…ƒæ¨¡å¼çš„ç»“æ„ï¼š\nFlyweightï¼šæè¿°ä¸€ä¸ªæ¥å£ï¼Œé€šè¿‡è¿™ä¸ªæ¥å£Flyweightå¯ä»¥æ¥å—å¹¶ä½œç”¨äºå¤–éƒ¨çŠ¶æ€ã€‚\nConcreteFlyweightï¼šå®ç°Flyweightæ¥å£ï¼Œå¹¶ä¸ºå†…éƒ¨çŠ¶æ€ï¼ˆå¦‚æœæœ‰ï¼‰å¢åŠ å­˜å‚¨ç©ºé—´ã€‚\nConcreteFlyweightå¯¹è±¡å¿…é¡»æ˜¯å¯å…±äº«çš„ã€‚å®ƒæ‰€å­˜å‚¨çš„çŠ¶æ€å¿…é¡»æ˜¯å†…éƒ¨çš„ï¼Œå³å®ƒå¿…é¡»ç‹¬ç«‹äºConcreteFlyweightå¯¹è±¡çš„åœºæ™¯ã€‚\nå¹¶éæ‰€æœ‰çš„Flyweightå­ç±»éƒ½éœ€è¦è¢«å…±äº«ã€‚\nFlyweightæ¥å£ä½¿å…±äº«æˆä¸ºå¯èƒ½ï¼Œä½†å®ƒå¹¶ä¸å¼ºåˆ¶å…±äº«ã€‚åœ¨Flyweightå¯¹è±¡ç»“æ„çš„æŸäº›å±‚æ¬¡ï¼ŒUnsharedConcreteFlyweightå¯¹è±¡é€šå¸¸å°†ConcreteFlyweightå¯¹è±¡ä½œä¸ºå­ç»“ç‚¹ã€‚\nFlyweightFactoryï¼šåˆ›å»ºå¹¶ç®¡ç†Flyweightå¯¹è±¡ï¼›ç¡®ä¿åˆç†åœ°å…±äº«Flyweightï¼Œå½“ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªFlyweightæ—¶ï¼ŒFlyweightFactoryå¯¹è±¡æä¾›ä¸€ä¸ªå·²åˆ›å»ºçš„å®ä¾‹æˆ–è€…åœ¨ä¸å­˜åœ¨æ—¶åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚\nClientï¼šç»´æŒä¸€ä¸ªå¯¹Flyweightçš„å¼•ç”¨ï¼›è®¡ç®—æˆ–å­˜å‚¨ä¸€ä¸ªæˆ–å¤šä¸ªFlyweightçš„å¤–éƒ¨çŠ¶æ€ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nPieceï¼š\npublic abstract class Piece { protected String color; public abstract void draw(int x, int y); public String getColor() { return color; } } WhitePieceï¼š\npublic class WhitePiece extends Piece { public WhitePiece() { this.color = PieceFactory.WHITE; } @Override public void draw(int x, int y) { // æ‰“å°åœ°å€å’Œåæ ‡ä¿¡æ¯ String piece = \u0026#34;WhitePiece@\u0026#34; + this.hashCode() + \u0026#39;{\u0026#39; + \u0026#34;x=\u0026#34; + x + \u0026#34;, \u0026#34; + \u0026#34;y=\u0026#34; + y + \u0026#39;}\u0026#39;; System.out.println(piece); } } BlackPieceä¸WhitePieceç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nPieceFactoryï¼š\npublic class PieceFactory { public static final String WHITE = \u0026#34;white\u0026#34;; public static final String BLACK = \u0026#34;black\u0026#34;; private Map\u0026lt;String, Piece\u0026gt; piecesMap = Map.of( WHITE, new WhitePiece(), BLACK, new BlackPiece()); public Piece getPiece(String key) { return piecesMap.get(key); } } æµ‹è¯•ï¼š\npublic class Flyweight { public static void main(String[] args) { PieceFactory factory = new PieceFactory(); Piece whitePiece1 = factory.getPiece(PieceFactory.WHITE); whitePiece1.draw(20, 23); Piece whitePiece2 = factory.getPiece(PieceFactory.WHITE); whitePiece2.draw(5, 27); Piece blackPiece1 = factory.getPiece(PieceFactory.BLACK); blackPiece1.draw(20, 22); Piece blackPiece2 = factory.getPiece(PieceFactory.BLACK); blackPiece2.draw(5, 28); } } Flyweightæ¨¡å¼é€‚ç”¨äºï¼š\nä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ã€‚ å®Œå…¨ç”±äºä½¿ç”¨å¤§é‡çš„å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§çš„å­˜å‚¨å¼€é”€ã€‚ å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯å˜ä¸ºå¤–éƒ¨çŠ¶æ€ã€‚ å¤–éƒ¨çŠ¶æ€ï¼šå®¹æ˜“å‘ç”Ÿæ”¹å˜çš„çŠ¶æ€ï¼› å†…éƒ¨çŠ¶æ€ï¼šä¸å®¹æ˜“å‘ç”Ÿæ”¹å˜çš„çŠ¶æ€ã€‚ å¦‚æœåˆ é™¤å¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¾ˆå¤šç»„å¯¹è±¡ã€‚ äº«å…ƒæ¨¡å¼èƒ½åšåˆ°å…±äº«çš„å…³é”®æ˜¯åŒºåˆ†çŠ¶æ€ï¼š\nå†…è•´çŠ¶æ€ï¼šå­˜å‚¨åœ¨äº«å…ƒå†…éƒ¨ï¼Œä¸ä¼šéšç¯å¢ƒçš„æ”¹å˜è€Œæœ‰æ‰€ä¸åŒã€‚ å¤–è•´çŠ¶æ€ï¼šéšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜çš„ã€‚ å¤–è•´çŠ¶æ€ä¸èƒ½å½±å“å†…è•´çŠ¶æ€ï¼Œå®ƒä»¬æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚\näº«å…ƒæ¨¡å¼ï¼šå°†å¯ä»¥å…±äº«çš„çŠ¶æ€å’Œä¸å¯ä»¥å…±äº«çš„çŠ¶æ€ä»å¸¸è§„ç±»ä¸­åŒºåˆ†å¼€æ¥ï¼Œå°†ä¸å¯ä»¥å…±äº«çš„çŠ¶æ€ä»ç±»é‡Œå‰”é™¤å‡ºå»ã€‚å®¢æˆ·ç«¯ä¸å¯ä»¥ç›´æ¥åˆ›å»ºè¢«å…±äº«çš„å¯¹è±¡ï¼Œè€Œåº”å½“ä½¿ç”¨ä¸€ä¸ªå·¥å‚å¯¹è±¡è´Ÿè´£åˆ›å»ºè¢«å…±äº«çš„å¯¹è±¡ã€‚äº«å…ƒæ¨¡å¼å¤§å¹…åº¦çš„é™ä½å†…å­˜ä¸­å¯¹è±¡çš„æ•°é‡ã€‚\nä»£ç†æ¨¡å¼ ä»£ç†ï¼ˆProxyï¼‰æ¨¡å¼ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚\nä»£ç†æ¨¡å¼çš„ç»“æ„ï¼š\nProxyï¼šä¿å­˜ä¸€ä¸ªå¼•ç”¨ä½¿å¾—ä»£ç†å¯ä»¥è®¿é—®å®ä½“ï¼›æä¾›ä¸€ä¸ªä¸Subjectçš„æ¥å£ç›¸åŒçš„æ¥å£ï¼Œä½¿ä»£ç†å¯ä»¥ç”¨æ¥ä»£æ›¿å®ä½“ï¼›æ§åˆ¶å¯¹å®ä½“çš„å­˜å–ï¼Œå¹¶å¯èƒ½è´Ÿè´£åˆ›å»ºå’Œåˆ é™¤å®ƒã€‚\nå…¶ä»–åŠŸèƒ½ä¾èµ–äºä»£ç†çš„ç±»å‹ï¼š\nRemote Proxyï¼šè´Ÿè´£å¯¹è¯·æ±‚åŠå…¶å‚æ•°è¿›è¡Œç¼–ç ï¼Œå¹¶å‘ä¸åŒåœ°å€ç©ºé—´ä¸­çš„å®ä½“å‘é€å·±ç¼–ç çš„è¯·æ±‚ï¼› Virtual Proxyï¼šå¯ä»¥ç¼“å­˜å®ä½“çš„é™„åŠ ä¿¡æ¯ï¼Œä»¥ä¾¿å»¶è¿Ÿå¯¹å®ƒçš„è®¿é—®ï¼› Protection Proxyï¼šæ£€æŸ¥è°ƒç”¨è€…æ˜¯å¦å…·æœ‰å®ç°ä¸€ä¸ªè¯·æ±‚æ‰€å¿…éœ€çš„è®¿é—®æƒé™ã€‚ Subjectï¼šå®šä¹‰RealSubjectå’ŒProxyçš„å…±ç”¨æ¥å£ï¼Œè¿™æ ·å°±åœ¨ä»»ä½•ä½¿ç”¨RealSubjectçš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨Proxyã€‚\nRealSubjectï¼šå®šä¹‰Proxyæ‰€ä»£è¡¨çš„å®ä½“ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nSubjectï¼š\npublic interface Subject { public void request(); } RealSubjectï¼š\n/** * ä»£ç†å®ä½“ */ public class RealSubject implements Subject { @Override public void request() { System.out.println(\u0026#34;RealSubject request...\u0026#34;); } } Proxyï¼š\n/** * ä»£ç† */ public class Proxy implements Subject { protected RealSubject realSubject; public Proxy(RealSubject realSubject) { this.realSubject = realSubject; } @Override public void request() { System.out.println(\u0026#34;Proxy pre-request...\u0026#34;); realSubject.request(); System.out.println(\u0026#34;Proxy post-request...\u0026#34;); } } æµ‹è¯•ï¼š\npublic class ProxyPattern { public static void main(String[] args) { RealSubject realSubject = new RealSubject(); Proxy proxy = new Proxy(realSubject); proxy.request(); } } Proxyæ¨¡å¼é€‚ç”¨äºåœ¨éœ€è¦æ¯”è¾ƒé€šç”¨å’Œå¤æ‚çš„å¯¹è±¡æŒ‡é’ˆä»£æ›¿ç®€å•çš„æŒ‡é’ˆçš„æ—¶å€™ï¼Œå¸¸è§æƒ…å†µæœ‰:\nè¿œç¨‹ä»£ç†ï¼ˆRemote Proxyï¼‰ï¼šä¸ºä¸€ä¸ªå¯¹è±¡åœ¨ä¸åŒåœ°å€ç©ºé—´æä¾›å±€éƒ¨ä»£è¡¨ã€‚\nè™šä»£ç†(Virtual Proxyï¼‰ï¼šæ ¹æ®éœ€è¦åˆ›å»ºå¼€é”€å¾ˆå¤§çš„å¯¹è±¡ã€‚\nä¿æŠ¤ä»£ç†ï¼ˆProtection Proxyï¼‰ï¼šæ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ï¼Œç”¨äºå¯¹è±¡åº”è¯¥æœ‰ä¸åŒçš„è®¿é—®æƒé™çš„æ—¶å€™ã€‚\næ™ºèƒ½å¼•ç”¨ï¼ˆSmart Referenceï¼‰ï¼šå–ä»£äº†ç®€å•çš„æŒ‡é’ˆï¼Œå®ƒåœ¨è®¿é—®å¯¹è±¡æ—¶æ‰§è¡Œä¸€äº›é™„åŠ æ“ä½œã€‚\nå…¸å‹ç”¨é€”åŒ…æ‹¬ï¼š\nå¯¹æŒ‡å‘å®é™…å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œè¿™æ ·å½“è¯¥å¯¹è±¡æ²¡æœ‰å¼•ç”¨æ—¶ï¼Œå¯ä»¥è¢«è‡ªåŠ¨é‡Šæ”¾ï¼› å½“ç¬¬ä¸€æ¬¡å¼•ç”¨ä¸€ä¸ªæŒä¹…å¯¹è±¡æ—¶ï¼Œå°†å®ƒè£…å…¥å†…å­˜ï¼› åœ¨è®¿é—®ä¸€ä¸ªå®é™…å¯¹è±¡å‰ï¼Œæ£€æŸ¥æ˜¯å¦å·²ç»é”å®šäº†å®ƒï¼Œä»¥ç¡®ä¿å…¶ä»–å¯¹è±¡ä¸èƒ½æ”¹å˜å®ƒã€‚ æŸäº›æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¸æƒ³æˆ–è€…ä¸èƒ½å¤Ÿç›´æ¥å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ï¼Œä»£ç†å¯¹è±¡å¯ä»¥åœ¨ç”¨æˆ·å’Œç›®æ ‡å¯¹è±¡ç›´æ¥èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ã€‚\nå®¢æˆ·ç«¯åˆ†è¾¨ä¸å‡ºä»£ç†ä¸»é¢˜å¯¹è±¡ä¸çœŸå®ä¸»é¢˜å¯¹è±¡ã€‚ä»£ç†æ¨¡å¼å¯ä»¥ä¸çŸ¥é“çœŸæ­£çš„è¢«ä»£ç†å¯¹è±¡ï¼Œè€Œä»…ä»…æŒæœ‰ä¸€ä¸ªè¢«ä»£ç†å¯¹è±¡çš„æ¥å£ï¼Œè¿™æ—¶å€™ä»£ç†å¯¹è±¡ä¸èƒ½å¤Ÿåˆ›å»ºè¢«ä»£ç†å¯¹è±¡ï¼Œè¢«ä»£ç†å¯¹è±¡å¿…é¡»æœ‰ç³»ç»Ÿçš„å…¶ä»–è§’è‰²ä»£ä¸ºåˆ›å»ºå¹¶ä¼ å…¥ã€‚\nè¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ è¡Œä¸ºæ¨¡å¼æ¶‰åŠç®—æ³•å’Œå¯¹è±¡é—´èŒè´£çš„åˆ†é…ã€‚è¡Œä¸ºæ¨¡å¼ä¸ä»…æè¿°å¯¹è±¡æˆ–ç±»çš„æ¨¡å¼ï¼Œè¿˜æè¿°å®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ¨¡å¼ã€‚\nè¡Œä¸ºç±»æ¨¡å¼ï¼šä½¿ç”¨ç»§æ‰¿æœºåˆ¶åœ¨ç±»é—´åˆ†æ´¾è¡Œä¸ºã€‚\nè¡Œä¸ºå¯¹è±¡æ¨¡å¼ï¼šä½¿ç”¨å¯¹è±¡å¤åˆã€‚\nä¸€äº›è¡Œä¸ºå¯¹è±¡æ¨¡å¼æè¿°äº†ä¸€ç»„å¯¹ç­‰çš„å¯¹è±¡æ€æ ·ç›¸äº’åä½œä»¥å®Œæˆå…¶ä¸­ä»»ä¸€ä¸ªå¯¹è±¡éƒ½æ— æ³•å•ç‹¬å®Œæˆçš„ä»»åŠ¡ã€‚\nè´£ä»»é“¾æ¨¡å¼ è´£ä»»é“¾ï¼ˆChain of Responsibilityï¼‰æ¨¡å¼ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚\nJavaWebä¸­Filterï¼ˆè¿‡æ»¤å™¨ï¼‰å°±æ˜¯è´£ä»»é“¾æ¨¡å¼ã€‚\nè´£ä»»é“¾æ¨¡å¼çš„ç»“æ„ï¼š\nHandlerï¼š\nå®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ¥å£ï¼› ï¼ˆå¯é€‰ï¼‰å®ç°åç»§é“¾ã€‚ ConcreteHandlerï¼š\nå¤„ç†å®ƒæ‰€è´Ÿè´£çš„è¯·æ±‚ï¼› å¯è®¿é—®å®ƒçš„åç»§è€…ï¼› å¦‚æœå¯å¤„ç†è¯¥è¯·æ±‚ï¼Œå°±å¤„ç†å®ƒï¼Œå¦åˆ™å°†è¯¥è¯·æ±‚è½¬å‘ç»™åç»§è€…ã€‚ Clientï¼šå‘é“¾ä¸Šçš„å…·ä½“å¤„ç†è€…ï¼ˆConcreteHandlerï¼‰å¯¹è±¡æäº¤è¯·æ±‚ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nHandlerï¼š\npublic abstract class Handler { protected Handler next; public void setNext(Handler next) { this.next = next; } public abstract void handlerRequest(int request); } FuDaoYuanï¼š\n/** * è¾…å¯¼å‘˜ */ public class FuDaoYuan extends Handler { /** * å®¡æ‰¹7å¤©å†…çš„å‡æœŸ * @param request */ @Override public void handlerRequest(int request) { if (request \u0026lt;= 7) { System.out.println(\u0026#34;FuDaoYuan allow...\u0026#34;); } else { if (next != null) { next.handlerRequest(request); } else { System.out.println(\u0026#34;æ— æ³•å®¡æ‰¹\u0026#34;); } } } } YuanZhangå’ŒXiaoZhangä¸FuDaoYuanç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\næµ‹è¯•ï¼š\npublic class ChainOfResponsibility { public static void main(String[] args) { Handler fuDaoYuan = new FuDaoYuan(); Handler yuanZhang = new YuanZhang(); Handler xiaoZhang = new XiaoZhang(); fuDaoYuan.setNext(yuanZhang); yuanZhang.setNext(xiaoZhang); fuDaoYuan.handlerRequest(2); System.out.println(\u0026#34;=================\u0026#34;); fuDaoYuan.handlerRequest(8); System.out.println(\u0026#34;=================\u0026#34;); fuDaoYuan.handlerRequest(29); System.out.println(\u0026#34;=================\u0026#34;); fuDaoYuan.handlerRequest(31); } } Chain of Responsibilityæ¨¡å¼é€‚ç”¨äºä»¥ä¸‹æ¡ä»¶ï¼š\næœ‰å¤šä¸ªçš„å¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚ æƒ³åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹å‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚ã€‚ å¯å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„å¯¹è±¡é›†åˆåº”è¢«åŠ¨æ€æŒ‡å®šã€‚ è´£ä»»é“¾æ¨¡å¼ï¼šåœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œå¾ˆå¤šå¯¹è±¡ç”±æ¯ä¸€ä¸ªå¯¹è±¡å¯¹å…¶ä¸‹å®¶çš„å¼•ç”¨è€Œæ¥èµ·æ¥å½¢æˆä¸€æ¡é“¾ã€‚è¯·æ±‚åœ¨è¿™ä¸ªé“¾ä¸Šä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸€ä¸ªå¯¹è±¡å†³å®šå¤„ç†æ­¤è¯·æ±‚ã€‚å®¢æˆ·å¹¶ä¸çŸ¥é“é“¾ä¸Šçš„å“ªä¸€ä¸ªå¯¹è±¡æœ€ç»ˆå¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œç³»ç»Ÿå¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹åŠ¨æ€çš„é‡æ–°ç»„ç»‡é“¾å’Œåˆ†é…è´£ä»»ã€‚\nå¤„ç†è€…æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šæ‰¿æ‹…è´£ä»»æˆ–è€…æŠŠè´£ä»»æ¨ç»™ä¸‹å®¶ã€‚\nä¸€ä¸ªè¯·æ±‚å¯ä»¥æœ€ç»ˆä¸è¢«ä»»ä½•æ¥æ”¶ç«¯å¯¹è±¡æ‰€æ¥å—ã€‚\nå‘½ä»¤æ¨¡å¼ å‘½ä»¤ï¼ˆCommandï¼‰æ¨¡å¼å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿å¾—å¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚\nå‘½ä»¤æ¨¡å¼çš„ç»“æ„ï¼š\nCommandï¼šå£°æ˜æ‰§è¡Œæ“ä½œçš„æ¥å£ã€‚\nConcreteCommandï¼šå°†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡ç»‘å®šäºä¸€ä¸ªåŠ¨ä½œï¼›è°ƒç”¨æ¥æ”¶è€…ç›¸åº”çš„æ“ä½œï¼Œä»¥å®ç°Executeã€‚\nClientï¼šåˆ›å»ºä¸€ä¸ªå…·ä½“å‘½ä»¤å¯¹è±¡å¹¶è®¾å®šå®ƒçš„æ¥æ”¶è€…Receiverã€‚\nInvokerï¼šè¦æ±‚è¯¥å‘½ä»¤æ‰§è¡Œè¿™ä¸ªè¯·æ±‚ã€‚\nReceiverï¼šçŸ¥é“å¦‚ä½•å®æ–½ä¸æ‰§è¡Œä¸€ä¸ªè¯·æ±‚ç›¸å…³çš„æ“ä½œã€‚\nä»»ä½•ç±»éƒ½å¯èƒ½ä½œä¸ºä¸€ä¸ªæ¥æ”¶è€…ã€‚\nä»£ç ç¤ºä¾‹ï¼š\nCommandï¼š\n/** * å‘½ä»¤æ¥å£ */ public interface Command { /** * æ‰§è¡Œå‘½ä»¤ */ public void execute(); } Tvï¼š\npublic class Tv { /** * å¼€æœºè¡Œä¸º */ public void powerOnAction() { System.out.println(\u0026#34;Tv power-on...\u0026#34;); } /** * å…³æœºè¡Œä¸º */ public void powerOffAction() { System.out.println(\u0026#34;Tv power-off...\u0026#34;); } } PowerOnï¼š\n/** * å¼€æœºå‘½ä»¤ */ public class PowerOn implements Command { private Tv tv; public PowerOn(Tv tv) { this.tv = tv; } @Override public void execute() { tv.powerOnAction(); } } PowerOffä¸PowerOnç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nInvokerï¼š\n/** * è¯·æ±‚è€… */ public class Invoker { private Command command; /** * è®¾ç½®è¯·æ±‚å‘½ä»¤ */ public void setCommand(Command command) { this.command = command; } /** * æ‰§è¡Œå‘½ä»¤ */ public void call() { command.execute(); } } æµ‹è¯•ï¼š\npublic class CommandPattern { public static void main(String[] args) { Tv tv = new Tv(); Command powerOn = new PowerOn(tv); Command powerOff = new PowerOff(tv); Invoker invoker = new Invoker(); invoker.setCommand(powerOn); invoker.call(); invoker.setCommand(powerOff); invoker.call(); } } Commandæ¨¡å¼é€‚ç”¨äºï¼š\næŠ½è±¡å‡ºå¾…æ‰§è¡Œçš„åŠ¨ä½œä»¥å‚æ•°åŒ–æŸå¯¹è±¡ã€‚\nCommandæ¨¡å¼æ˜¯è¿‡ç¨‹è¯­è¨€ä¸­çš„å›è°ƒï¼ˆCallbackï¼‰æœºåˆ¶çš„ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ›¿ä»£å“ã€‚\nåœ¨ä¸åŒçš„æ—¶åˆ»æŒ‡å®šã€æ’åˆ—å’Œæ‰§è¡Œè¯·æ±‚ã€‚\nä¸€ä¸ªCommandå¯¹è±¡å¯ä»¥æœ‰ä¸€ä¸ªä¸åˆå§‹è¯·æ±‚æ— å…³çš„ç”Ÿå­˜æœŸã€‚\nå¦‚æœä¸€ä¸ªè¯·æ±‚çš„æ¥æ”¶è€…å¯ç”¨ä¸€ç§ä¸åœ°å€ç©ºé—´æ— å…³çš„æ–¹å¼è¡¨è¾¾ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è´Ÿè´£è¯¥è¯·æ±‚çš„å‘½ä»¤å¯¹è±¡ä¼ é€’ç»™å¦ä¸€ä¸ªä¸åŒçš„è¿›ç¨‹ï¼Œå¹¶åœ¨é‚£å®ç°è¯¥è¯·æ±‚ã€‚\næ”¯æŒå–æ¶ˆæ“ä½œã€‚\nCommandçš„Executeæ“ä½œå¯åœ¨å®æ–½æ“ä½œå‰å°†çŠ¶æ€å­˜å‚¨èµ·æ¥ï¼Œåœ¨å–æ¶ˆæ“ä½œæ—¶è¿™ä¸ªçŠ¶æ€ç”¨æ¥æ¶ˆé™¤è¯¥æ“ä½œçš„å½±å“ã€‚\nCommandæ¥å£å¿…é¡»æ·»åŠ ä¸€ä¸ªUnexecuteæ“ä½œï¼Œè¯¥æ“ä½œå–æ¶ˆä¸Šä¸€æ¬¡Execute è°ƒç”¨çš„æ•ˆæœã€‚\næ‰§è¡Œçš„å‘½ä»¤è¢«å­˜å‚¨åœ¨ä¸€ä¸ªå†å²åˆ—è¡¨ä¸­ã€‚å¯é€šè¿‡å‘åå’Œå‘å‰éå†è¿™ä¸€åˆ—è¡¨å¹¶åˆ†åˆ«è°ƒç”¨Unexecuteå’ŒExecuteæ¥å®ç°é‡æ•°ä¸é™çš„â€œå–æ¶ˆå’Œâ€œé‡åšâ€ã€‚\næ”¯æŒä¿®æ”¹æ—¥å¿—ã€‚\nè¿™æ ·å½“ç³»ç»Ÿå´©æºƒæ—¶ï¼Œè¿™äº›ä¿®æ”¹å¯ä»¥è¢«é‡åšä¸€éã€‚\nåœ¨ Command æ¥å£ä¸­æ·»åŠ è£…è½½æ“ä½œå’Œå­˜å‚¨æ“ä½œï¼Œå¯ä»¥ç”¨æ¥ä¿æŒå˜åŠ¨çš„ä¸€ä¸ªä¸€è‡´çš„ä¿®æ”¹æ—¥å¿—ã€‚\nä»å´©æºƒä¸­æ¢å¤çš„è¿‡ç¨‹åŒ…æ‹¬ä»ç£ç›˜ä¸­é‡æ–°è¯»å…¥è®°å½•ä¸‹æ¥çš„å‘½ä»¤å¹¶ç”¨Executeæ“ä½œé‡æ–°æ‰§è¡Œå®ƒä»¬ã€‚\nç”¨æ„å»ºåœ¨åŸè¯­æ“ä½œä¸Šçš„é«˜å±‚æ“ä½œæ„é€ ä¸€ä¸ªç³»ç»Ÿã€‚\nè¿™æ ·ä¸€ç§ç»“æ„åœ¨æ”¯æŒäº‹åŠ¡ï¼ˆTransactionï¼‰çš„ä¿¡æ¯ç³»ç»Ÿä¸­å¾ˆå¸¸è§ã€‚\nCommandæ¨¡å¼æä¾›äº†å¯¹äº‹åŠ¡è¿›è¡Œå»ºæ¨¡çš„æ–¹æ³•ã€‚Commandæœ‰ä¸€ä¸ªå…¬å…±æ¥å£ï¼Œä½¿å¾—å¯ä»¥ç”¨åŒä¸€ç§æ–¹å¼è°ƒç”¨æ‰€æœ‰çš„äº‹åŠ¡ï¼ŒåŒæ—¶ä½¿ç”¨è¯¥æ¨¡å¼ä¹Ÿæ˜“äºæ·»åŠ æ–°äº‹åŠ¡ä»¥æ‰©å±•ç³»ç»Ÿã€‚\nå‘½ä»¤æ¨¡å¼ï¼šæŠŠä¸€ä¸ªè¯·æ±‚æˆ–è€…æ“ä½œå°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚å‘½ä»¤æ¨¡å¼æŠŠå‘å‡ºå‘½ä»¤çš„è´£ä»»å’Œæ‰§è¡Œå‘½ä»¤çš„è´£ä»»åˆ†å‰²å¼€ï¼Œå§”æ´¾ç»™ä¸åŒçš„å¯¹è±¡ã€‚å‘½ä»¤æ¨¡å¼å…è®¸è¯·æ±‚çš„ä¸€æ–¹å’Œå‘é€çš„ä¸€æ–¹ç‹¬ç«‹å¼€æ¥ï¼Œä½¿å¾—è¯·æ±‚çš„ä¸€æ–¹ï¼š\nä¸å¿…çŸ¥é“æ¥æ”¶è¯·æ±‚çš„ä¸€æ–¹çš„æ¥å£ï¼› ä¸å¿…çŸ¥é“è¯·æ±‚æ˜¯æ€ä¹ˆè¢«æ¥æ”¶ ä¸å¿…çŸ¥é“è¯·æ±‚çš„æ“ä½œæ˜¯å¦æ‰§è¡Œï¼Œä½•æ—¶è¢«æ‰§è¡Œä»¥åŠæ˜¯æ€ä¹ˆè¢«æ‰§è¡Œçš„ã€‚ è§£é‡Šå™¨æ¨¡å¼ è§£é‡Šå™¨ï¼ˆInterpreterï¼‰æ¨¡å¼ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚\nå¯ç”¨äºå®ç°ç¨‹åºè¯­è¨€è®¾è®¡ä¸­çš„ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ã€‚\nè§£é‡Šå™¨æ¨¡å¼ç»“æ„ï¼š\nAbstractExpressionï¼šå£°æ˜ä¸€ä¸ªç¨‹åºçš„è§£é‡Šæ“ä½œï¼Œè¿™ä¸ªæ¥å£ä¸ºæŠ½è±¡è¯­æ³•æ ‘ä¸­æ‰€æœ‰çš„ç»“ç‚¹æ‰€å…±äº«ã€‚\nTerminalExpressionï¼šå®ç°ä¸æ–‡æ³•ä¸­çš„ç»ˆç»“ç¬¦ç›¸å…³è”çš„è§£é‡Šæ“ä½œï¼›ä¸€ä¸ªå¥å­ä¸­çš„æ¯ä¸ªç»ˆç»“ç¬¦éœ€è¦è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚\nNonterminalExpressionï¼šå¯¹æ–‡æ³•ä¸­çš„æ¯ä¸€æ¡è§„åˆ™éƒ½éœ€è¦ä¸€ä¸ªNonterminalExpressionç±»ã€‚\nä¸ºæ¯ä¸ªç¬¦å·éƒ½ç»´æŠ¤ä¸€ä¸ªAbstractExpressionç±»å‹çš„å®ä¾‹å˜é‡ï¼› ä¸ºæ–‡æ³•ä¸­çš„éç»ˆç»“ç¬¦å®ç°è§£é‡Šï¼ˆInterpretï¼‰æ“ä½œã€‚ Contextï¼šåŒ…å«è§£é‡Šå™¨ä¹‹å¤–çš„ä¸€äº›å…¨å±€ä¿¡æ¯ã€‚\nClientï¼šæ„å»ºï¼ˆæˆ–è¢«ç»™å®šï¼‰è¡¨ç¤ºè¯¥æ–‡æ³•å®šä¹‰çš„è¯­è¨€ä¸­ä¸€ä¸ªç‰¹å®šçš„å¥å­çš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œè¯¥æŠ½è±¡è¯­æ³•æ ‘ç”±NonterminalExpressionå’ŒTerminalExpressionçš„å®ä¾‹è£…é…è€Œæˆï¼›è°ƒç”¨è§£é‡Šæ“ä½œã€‚\nInterpreteræ¨¡å¼é€‚ç”¨äºå½“æœ‰ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œï¼Œä¸”å¯å°†è¯¥è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘æ—¶ï¼Œä»¥ä¸‹æƒ…å†µæ•ˆæœæœ€å¥½:\nè¯¥æ–‡æ³•ç®€å•ã€‚\nå¯¹äºå¤æ‚çš„å‘æ–‡ï¼Œæ–‡æ³•çš„ç±»å±‚æ¬¡å˜å¾—åºå¤§è€Œæ— æ³•ç®¡ç†ã€‚æ­¤æ—¶è¯­æ³•åˆ†æç¨‹åºç”Ÿæˆå™¨è¿™æ ·çš„å·¥å…·æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å®ƒä»¬æ— é¡»æ„å»ºæŠ½è±¡è¯­æ³•æ ‘å³å¯è§£é‡Šè¡¨è¾¾å¼ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœç©ºé—´è¿˜å¯èƒ½èŠ‚çœæ—¶é—´ã€‚\nå³Interpreteræ¨¡å¼éœ€è¦æ„å»ºæŠ½è±¡è¯­æ³•æ ‘ï¼Œå¦‚æœæ–‡æ³•å¤ªå¤æ‚ï¼Œéœ€è¦æ„å»ºå¤æ‚çš„è¯­æ³•æ ‘ï¼Œä¸ä¾¿äºç®¡ç†ã€‚\næ•ˆç‡ä¸æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚\næœ€é«˜æ•ˆçš„è§£é‡Šå™¨é€šå¸¸ä¸æ˜¯é€šè¿‡ç›´æ¥è§£é‡Šè¯­æ³•åˆ†ææ ‘å®ç°çš„ï¼Œè€Œæ˜¯é¦–å…ˆå°†å®ƒä»¬è½¬æ¢æˆå¦ä¸€ç§å½¢å¼ã€‚ä¸è¿‡ï¼Œå³ä½¿åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè½¬æ¢å™¨ä»ç„¶å¯ç”¨è¯¥æ¨¡å¼å®ç°ã€‚\né¢˜ç›®é€‰é¡¹æè¿°ï¼š\næœ‰ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œï¼Œå¹¶ä¸”å¯å°†å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ã€‚\nè§£é‡Šå™¨æ¨¡å¼å®ç°äº†ä¸€ä¸ªè¡¨è¾¾å¼æ¥å£ï¼Œè¯¥æ¥å£è§£é‡Šä¸€ä¸ªç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚è¿™ç§æ¨¡å¼è¢«ç”¨åœ¨SQLè§£æã€ç¬¦å·å¤„ç†å¼•æ“ç­‰ã€‚\nè¿­ä»£å™¨æ¨¡å¼ è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¨¡å¼æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œä¸”ä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚\nå¤šä¸ªå¯¹è±¡èšåœ¨ä¸€èµ·å½¢æˆçš„æ€»ä½“ç§°ä¹‹ä¸ºèšåˆï¼ˆèšé›†ï¼‰ï¼Œèšåˆå¯¹è±¡æ˜¯èƒ½å¤ŸåŒ…å®¹ä¸€ç»„å¯¹è±¡çš„å®¹å™¨å¯¹è±¡ã€‚\nè¿­ä»£å­æ¨¡å¼å°†è¿­ä»£é€»è¾‘å°è£…åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å­å¯¹è±¡ä¸­ï¼Œä»è€Œä¸èšé›†æœ¬èº«éš”å¼€ã€‚\nè¿­ä»£å™¨æ¨¡å¼çš„ç»“æ„ï¼š\nIteratorï¼ˆè¿­ä»£å™¨ï¼‰ï¼šå®šä¹‰è®¿é—®å’Œéå†å…ƒç´ çš„æ¥å£ã€‚ ConcreteIteratorï¼ˆå…·ä½“è¿­ä»£å™¨ï¼‰ï¼šå®ç°è¿­ä»£å™¨æ¥å£ï¼›å¯¹è¯¥èšåˆéå†æ—¶è·Ÿè¸ªå½“å‰ä½ç½®ã€‚ Aggregateï¼ˆèšåˆï¼‰ï¼šå®šä¹‰åˆ›å»ºç›¸åº”è¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚ ConcreteAggregateï¼ˆå…·ä½“èšåˆï¼‰ï¼šå®ç°åˆ›å»ºç›¸åº”è¿­ä»£å™¨çš„æ¥å£ï¼Œè¯¥æ“ä½œè¿”å›ConcreteIteratorçš„ä¸€ä¸ªé€‚å½“çš„å®ä¾‹ã€‚ ä»£ç ç¤ºä¾‹ï¼š\nBookï¼š\npublic class Book { private String name; private Double price; // getterã€setterå’ŒtoStringï¼Œç•¥ } Aggregateï¼š\npublic interface Aggregate { public Iterator iterator(); } Iteratorï¼š\npublic interface Iterator { public boolean hasNext(); public Object next(); } BookAggregateï¼š\npublic class BookAggregate implements Aggregate { List\u0026lt;Book\u0026gt; books = new ArrayList\u0026lt;\u0026gt;(); public void add(Book book) { books.add(book); } public Book get(int index) { return books.get(index); } public int size() { return books.size(); } @Override public Iterator iterator() { return new BookIterator(this); } } BookIteratorï¼š\n/** * è¿­ä»£å¯¹è±¡ */ public class BookIterator implements Iterator { private BookAggregate bookAggregate; private int index; public BookIterator(BookAggregate bookAggregate) { index = 0; this.bookAggregate = bookAggregate; } @Override public boolean hasNext() { return index \u0026lt; bookAggregate.size(); } @Override public Object next() { return bookAggregate.get(index++); } } æµ‹è¯•ï¼š\npublic class IteratorPattern { public static void main(String[] args) { BookAggregate bookAggregate = new BookAggregate(); Map\u0026lt;String, Double\u0026gt; booksMap = Map.of( \u0026#34;æ•°æ®ç»“æ„\u0026#34;, 10.24, \u0026#34;æ“ä½œç³»ç»Ÿ\u0026#34;, 20.48, \u0026#34;è®¡ç®—æœºç½‘ç»œ\u0026#34;, 40.96, \u0026#34;è®¡ç®—æœºç»„æˆåŸç†\u0026#34;, 81.92); booksMap.forEach((key, value) -\u0026gt; { bookAggregate.add(new Book(key, value)); }); Iterator iterator = bookAggregate.iterator(); while (iterator.hasNext()) { Book book = (Book) iterator.next(); System.out.println(book); } } } Iteratoræ¨¡å¼é€‚ç”¨äºï¼š\nè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚ æ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éå†ã€‚ ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚ ä¸­ä»‹è€…æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediatorï¼Œè°ƒåœè€…ï¼‰ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚\nä¸­ä»‹è€…æ¨¡å¼çš„ç»“æ„ï¼š\nMediatorï¼ˆä¸­ä»‹è€…ï¼‰ï¼šå®šä¹‰ä¸€ä¸ªæ¥å£ç”¨äºå„åŒäº‹ï¼ˆColleagueï¼‰å¯¹è±¡é€šä¿¡ã€‚ ConcreteMediatorï¼ˆå…·ä½“ä¸­ä»‹è€…ï¼‰ï¼šé€šè¿‡åè°ƒå„åŒäº‹å¯¹è±¡å®ç°åä½œè¡Œä¸ºï¼›äº†è§£å¹¶ç»´æŠ¤å®ƒçš„å„ä¸ªåŒäº‹ã€‚ Colleagueï¼ˆåŒäº‹ç±»ï¼‰ï¼šçŸ¥é“å®ƒçš„ä¸­ä»‹è€…å¯¹è±¡ï¼›æ¯ä¸€ä¸ªåŒäº‹ç±»å¯¹è±¡åœ¨éœ€è¦ä¸å…¶ä»–åŒäº‹é€šä¿¡çš„æ—¶å€™ä¸å®ƒçš„ä¸­ä»‹è€…é€šä¿¡ã€‚ Mediatoræ¨¡å¼é€‚ç”¨äºï¼š\nä¸€ç»„å¯¹è±¡ä»¥å®šä¹‰è‰¯å¥½ä½†æ˜¯å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ï¼Œäº§ç”Ÿçš„ç›¸äº’ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±ä¸”éš¾ä»¥ç†è§£ã€‚ ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡ï¼Œå¯¼è‡´éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚ æƒ³å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚ ä¸­ä»‹è€…æ¨¡å¼ï¼šåŒ…è£…äº†ä¸€ç³»åˆ—å¯¹è±¡ç›¸äº’ä½œç”¨çš„æ–¹å¼ï¼Œä½¿å¾—è¿™äº›å¯¹è±¡ä¸å¿…ç›¸äº’æ˜æ˜¾ä½œç”¨ã€‚ä»è€Œä½¿ä»–ä»¬å¯ä»¥æ¾æ•£å¶åˆã€‚\nå½“æŸäº›å¯¹è±¡ä¹‹é—´çš„ä½œç”¨å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¸ä¼šç«‹å³å½±å“å…¶ä»–çš„ä¸€äº›å¯¹è±¡ä¹‹é—´çš„ä½œç”¨ã€‚ä¿è¯è¿™äº›ä½œç”¨å¯ä»¥å½¼æ­¤ç‹¬ç«‹çš„å˜åŒ–ã€‚ä¸­ä»‹è€…æ¨¡å¼å°†å¤šå¯¹å¤šçš„ç›¸äº’ä½œç”¨è½¬åŒ–ä¸ºä¸€å¯¹å¤šçš„ç›¸äº’ä½œç”¨ã€‚\nä¸­ä»‹è€…æ¨¡å¼å°†å¯¹è±¡çš„è¡Œä¸ºå’Œåä½œæŠ½è±¡åŒ–ï¼ŒæŠŠå¯¹è±¡åœ¨å°å°ºåº¦çš„è¡Œä¸ºä¸Šä¸å…¶ä»–å¯¹è±¡çš„ç›¸äº’ä½œç”¨åˆ†å¼€å¤„ç†ã€‚\nå¤‡å¿˜å½•æ¨¡å¼ å¤‡å¿˜å½•ï¼ˆMementoï¼‰æ¨¡å¼åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯ä»¥å°†å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€ã€‚\nMementoæ¨¡å¼çš„ç»“æ„ï¼š\nMementoï¼ˆå¤‡å¿˜å½•ï¼‰ï¼šå­˜å‚¨åŸå‘å™¨å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼ŒåŸå‘å™¨æ ¹æ®éœ€è¦å†³å®šå¤‡å¿˜å½•å­˜å‚¨åŸå‘å™¨çš„å“ªäº›å†…éƒ¨çŠ¶æ€ï¼›é˜²æ­¢åŸå‘å™¨ä»¥å¤–çš„å…¶ä»–å¯¹è±¡è®¿é—®å¤‡å¿˜å½•ã€‚ Originatorï¼ˆåŸå‘å™¨ï¼‰ï¼šåˆ›å»ºä¸€ä¸ªå¤‡å¿˜å½•ï¼Œç”¨äºè®°å½•å½“å‰æ—¶åˆ»å®ƒçš„å†…éƒ¨çŠ¶æ€ï¼›ä½¿ç”¨å¤‡å¿˜å½•æ¢å¤å†…éƒ¨çŠ¶æ€ã€‚ Caretakerï¼ˆç®¡ç†è€…ï¼‰è´Ÿè´£ä¿å­˜å¥½å¤‡å¿˜å½•ï¼›ä¸èƒ½å¯¹å¤‡å¿˜å½•çš„å†…å®¹è¿›è¡Œæ“ä½œæˆ–æ£€æŸ¥ã€‚ Mementoæ¨¡å¼é€‚ç”¨äºï¼š\nå¿…é¡»ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€ä¸ªæ—¶åˆ»çš„ï¼ˆéƒ¨åˆ†ï¼‰çŠ¶æ€ï¼Œè¿™æ ·ä»¥åéœ€è¦æ—¶å®ƒæ‰èƒ½æ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ã€‚ å¦‚æœç”¨æ¥å£æ¥è®©å…¶ä»–å¯¹è±¡ç›´æ¥å¾—åˆ°è¿™äº›çŠ¶æ€ï¼Œå°†ä¼šæš´éœ²å¯¹è±¡çš„å®ç°ç»†èŠ‚å¹¶ç ´åå¯¹è±¡çš„å°è£…æ€§ã€‚ é¢˜ç›®é€‰é¡¹æè¿°ï¼š\nå°†å¯¹è±¡çš„çŠ¶æ€æ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ã€‚ åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å¹¶åœ¨å¯¹è±¡ä¹‹å¤–ä¿å­˜ã€‚ å¿…é¡»ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€ä¸ªæ—¶åˆ»çš„ï¼ˆéƒ¨åˆ†ï¼‰çŠ¶æ€ã€‚ å…³é”®è¯ï¼šçŠ¶æ€ã€‚\nå¤‡å¿˜å½•æ¨¡å¼ï¼šå¤‡å¿˜å½•å¯¹è±¡æ˜¯ä¸€ä¸ªç”¨æ¥å­˜å‚¨å¦å¤–ä¸€ä¸ªå¯¹è±¡å†…éƒ¨çŠ¶æ€çš„å¿«ç…§çš„å¯¹è±¡ã€‚å¤‡å¿˜å½•æ¨¡å¼çš„ç”¨æ„æ˜¯åœ¨ä¸ç ´åå°è£…çš„æ¡ä»¶ä¸‹ï¼Œå°†ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€æ‰ä½ï¼Œå¹¶å¤–éƒ¨åŒ–ï¼Œå­˜å‚¨èµ·æ¥ï¼Œä»è€Œå¯ä»¥åœ¨å°†æ¥åˆé€‚çš„æ—¶å€™æŠŠè¿™ä¸ªå¯¹è±¡è¿˜åŸåˆ°å­˜å‚¨èµ·æ¥çš„çŠ¶æ€ã€‚\nè§‚å¯Ÿè€…æ¨¡å¼ è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚\nå³ï¼Œè§‚å¯Ÿè€…æ¨¡å¼è®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ã€‚è¿™ä¸ªä¸»é¢˜å¯¹è±¡åœ¨çŠ¶æ€ä¸Šå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚\nJavaWebä¸­Listenerå°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚\nè§‚å¯Ÿè€…æ¨¡å¼çš„ç»“æ„ï¼š\nSubjectï¼ˆç›®æ ‡ï¼‰ï¼šæä¾›æ³¨å†Œå’Œåˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡çš„æ¥å£ï¼›çŸ¥é“å®ƒçš„è§‚å¯Ÿè€…ï¼Œå¯ä»¥æœ‰ä»»æ„å¤šä¸ªè§‚å¯Ÿè€…è§‚å¯ŸåŒä¸€ä¸ªç›®æ ‡ã€‚ Observerï¼ˆè§‚å¯Ÿè€…ï¼‰ï¼šä¸ºé‚£äº›åœ¨ç›®æ ‡å‘ç”Ÿæ”¹å˜æ—¶éœ€è·å¾—é€šçŸ¥çš„å¯¹è±¡å®šä¹‰ä¸€ä¸ªæ›´æ–°æ¥å£ã€‚ ConcreteSubjectï¼ˆå…·ä½“ç›®æ ‡ï¼‰ï¼šå°†æœ‰å…³çŠ¶æ€å­˜å…¥å„ConcreteObserverå¯¹è±¡ï¼›å½“å®ƒçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå‘å®ƒçš„å„ä¸ªè§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚ ConcreteObserverï¼ˆå…·ä½“è§‚å¯Ÿè€…ï¼‰ï¼šç»´æŠ¤ä¸€ä¸ªæŒ‡å‘ConcreteSubjectå¯¹è±¡çš„å¼•ç”¨ï¼›å­˜å‚¨æœ‰å…³çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åº”ä¸ç›®æ ‡çš„çŠ¶æ€ä¿æŒä¸€è‡´ï¼›å®ç°Observerçš„æ›´æ–°æ¥å£ï¼Œä»¥ä½¿è‡ªèº«çŠ¶æ€ä¸ç›®æ ‡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚ ä»£ç å®ç°ï¼š\nObserverï¼š\n/** * è§‚å¯Ÿè€… */ public interface Observer { /** * æ›´æ–°è§‚å¯Ÿè€…çŠ¶æ€ */ public void update(); } /** * è§‚å¯Ÿç›®æ ‡ */ public interface Subject { /** * æ³¨å†Œè§‚å¯Ÿè€… */ public void attach(Observer observer); /** * åˆ é™¤è§‚å¯Ÿè€… */ public void detach(Observer observer); /** * çŠ¶æ€æ”¹å˜ï¼Œé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€… */ public void notifyAllObservers(); public String getState(); public void setState(String state); } ConcreteObserverï¼š\npublic class ConcreteObserver implements Observer { private String name; private String state; private Subject subject; public ConcreteObserver(String name, Subject subject) { this.name = name; this.subject = subject; subject.attach(this); state = subject.getState(); } @Override public void update() { state = subject.getState(); System.out.println(\u0026#34;[æ”¶åˆ°é€šçŸ¥] \u0026#34; + this); } @Override public String toString() { return \u0026#34;ConcreteObserver{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34; , state=\u0026#39;\u0026#34; + state + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34; , subject=\u0026#34; + subject + \u0026#39;}\u0026#39;; } } ConcreteSubjectï¼š\npublic class ConcreteSubject implements Subject { private String name; private List\u0026lt;Observer\u0026gt; observerList; private String state; public ConcreteSubject(String name) { this.name = name; observerList = new ArrayList\u0026lt;\u0026gt;(); } @Override public void attach(Observer observer) { observerList.add(observer); } @Override public void detach(Observer observer) { observerList.remove(observer); } @Override public void notifyAllObservers() { System.out.println(\u0026#34;[å‘å‡ºé€šçŸ¥] \u0026#34; + this); for (Observer observer : observerList) { observer.update(); } } @Override public String getState() { return state; } @Override public void setState(String state) { this.state = state; System.out.println(\u0026#34;[çŠ¶æ€æ”¹å˜] \u0026#34; + this); notifyAllObservers(); } @Override public String toString() { return \u0026#34;ConcreteSubject{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34; , state=\u0026#39;\u0026#34; + state + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } æµ‹è¯•ï¼š\npublic class ObserverPattern { public static void main(String[] args) { Subject subject = new ConcreteSubject(\u0026#34;ä¸»é¢˜\u0026#34;); Observer zhangsan = new ConcreteObserver(\u0026#34;å¼ ä¸‰\u0026#34;, subject); Observer lisi = new ConcreteObserver(\u0026#34;æå››\u0026#34;, subject); Observer wangwu = new ConcreteObserver(\u0026#34;ç‹äº”\u0026#34;, subject); subject.notifyAllObservers(); subject.setState(\u0026#34;new\u0026#34;); } } Observeræ¨¡å¼é€‚ç”¨äºï¼š\nå½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ï¼Œå°†è¿™ä¸¤è€…å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä»¥ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚ å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜æ—¶ã€‚ å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œå®ƒåˆä¸èƒ½å‡å®šå…¶ä»–å¯¹è±¡æ˜¯è°ï¼Œå³ä¸å¸Œæœ›è¿™äº›å¯¹è±¡æ˜¯ç´§è€¦åˆçš„ã€‚ çŠ¶æ€æ¨¡å¼ çŠ¶æ€ï¼ˆStateï¼‰æ¨¡å¼å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚\nçŠ¶æ€æ¨¡å¼æŠŠæ‰€ç ”ç©¶çš„å¯¹è±¡çš„è¡Œä¸ºåŒ…è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡é‡Œï¼Œæ¯ä¸€ä¸ªçŠ¶æ€å¯¹è±¡éƒ½å±äºä¸€ä¸ªæŠ½è±¡çŠ¶æ€ç±»çš„ä¸€ä¸ªå­ç±»ã€‚\nçŠ¶æ€æ¨¡å¼éœ€è¦å¯¹æ¯ä¸€ä¸ªç³»ç»Ÿå¯èƒ½å–å¾—çš„çŠ¶æ€åˆ›ç«‹ä¸€ä¸ªçŠ¶æ€ç±»çš„å­ç±»ã€‚å½“ç³»ç»Ÿçš„çŠ¶æ€å˜åŒ–æ—¶ï¼Œç³»ç»Ÿä¾¿æ”¹å˜æ‰€é€‰çš„å­ç±»ã€‚\nçŠ¶æ€æ¨¡å¼çš„ç»“æ„ï¼š\nContextï¼ˆä¸Šä¸‹æ–‡ï¼‰ï¼šå®šä¹‰å®¢æˆ·æ„Ÿå…´è¶£çš„æ¥å£ï¼›ç»´æŠ¤ä¸€ä¸ªConcreteStateå­ç±»çš„å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å®šä¹‰å½“å‰çŠ¶æ€ã€‚ Stateï¼ˆçŠ¶æ€ï¼‰ï¼šå®šä¹‰ä¸€ä¸ªæ¥å£ä»¥å°è£…ä¸Contextçš„ä¸€ä¸ªç‰¹å®šçŠ¶æ€ç›¸å…³çš„è¡Œä¸ºã€‚ ConcreteStateï¼ˆå…·ä½“çŠ¶æ€å­ç±»ï¼‰ï¼šæ¯ä¸ªå­ç±»å®ç°ä¸Contextçš„ä¸€ä¸ªçŠ¶æ€ç›¸å…³çš„è¡Œä¸ºã€‚ ä»£ç ç¤ºä¾‹ï¼š\nStateï¼š\npublic interface State { public void handle(Context context); } Contextï¼š\n/** * è´©å–æœº */ public class Context { private int count; private State state; public Context(int count) { this.count = count; if (count \u0026gt; 0) { this.state = new StateA(); } else { this.state = new StateB(); } } /** * è´­ä¹°é¥®æ–™ */ public void request() { state.handle(this); } public int getCount() { return count; } public void setCount(int count) { this.count = count; } public State getState() { return state; } public void setState(State state) { this.state = state; } } StateAï¼š\n/** * æœ‰è´§ */ public class StateA implements State { @Override public void handle(Context context) { int count = context.getCount(); if (count \u0026gt;= 1) { System.out.println(\u0026#34;è´­ä¹°æˆåŠŸ\u0026#34;); context.setCount(--count); if (context.getCount() == 0) { context.setState(new StateB()); } } else { System.out.println(\u0026#34;è´­ä¹°å¤±è´¥\u0026#34;); } } @Override public String toString() { return \u0026#34;State@\u0026#34; + this.hashCode() + \u0026#39;{\u0026#39; + \u0026#34;æœ‰è´§\u0026#34; + \u0026#39;}\u0026#39;; } } StateBï¼š\n/** * æœ‰è´§ */ public class StateB implements State { @Override public void handle(Context context) { int count = context.getCount(); if (count == 0) { System.out.println(\u0026#34;è´­ä¹°å¤±è´¥ï¼Œç­‰å¾…è¡¥è´§\u0026#34;); context.setCount(5); System.out.println(\u0026#34;è¡¥è´§æˆåŠŸï¼Œè¯·é‡æ–°è´­ä¹°\u0026#34;); context.setState(new StateA()); } } @Override public String toString() { return \u0026#34;State@\u0026#34; + this.hashCode() + \u0026#39;{\u0026#39; + \u0026#34;æ— è´§\u0026#34; + \u0026#39;}\u0026#39;; } } æµ‹è¯•ï¼š\npublic class StatePattern { public static void main(String[] args) { Context context = new Context(3); System.out.println(context.getState()); context.request(); context.request(); context.request(); System.out.println(context.getState()); context.request(); System.out.println(context.getState()); } } Stateæ¨¡å¼é€‚ç”¨äºï¼š\nä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå†³å®šäºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚\nä¸€ä¸ªæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ï¼Œä¸”è¿™äº›åˆ†æ”¯ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚\nè¿™ä¸ªçŠ¶æ€å¸¸ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæšä¸¾å¸¸é‡è¡¨ç¤ºã€‚\nStateæ¨¡å¼å°†æ¯ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯æ”¾å…¥ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ã€‚\nç­–ç•¥æ¨¡å¼ ç­–ç•¥ï¼ˆStrategyï¼‰æ¨¡å¼å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚æ­¤æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥ç‹¬ç«‹äºä½¿ç”¨å®ƒä»¬çš„å®¢æˆ·è€Œå˜åŒ–ã€‚\nå³ï¼Œç­–ç•¥æ¨¡å¼é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚\nStrategyï¼ˆç­–ç•¥ï¼‰ï¼šå®šä¹‰æ‰€æœ‰æ”¯æŒçš„ç®—æ³•çš„å…¬å…±æ¥å£ã€‚\nContextä½¿ç”¨è¿™ä¸ªæ¥å£æ¥è°ƒç”¨æŸConcreteStrategyå®šä¹‰çš„ç®—æ³•ã€‚\nConcreteStrategyï¼ˆå…·ä½“ç­–ç•¥ï¼‰ï¼šä»¥Strategyæ¥å£å®ç°æŸå…·ä½“ç®—æ³•ã€‚\nContextï¼ˆä¸Šä¸‹æ–‡ï¼‰ï¼šç”¨ä¸€ä¸ªConcreteStrategyå¯¹è±¡æ¥é…ç½®ï¼›ç»´æŠ¤ä¸€ä¸ªå¯¹Strategyå¯¹è±¡çš„å¼•ç”¨ï¼›å¯å®šä¹‰ä¸€ä¸ªæ¥å£æ¥è®©Strategyè®¿é—®å®ƒçš„æ•°æ®ã€‚\nä»£ç å®ç°ï¼š\nStrategyï¼š\npublic interface Strategy { public int twoNumberOperation(int x, int y); } OperationContextï¼š\npublic class OperationContext { private Strategy strategy; public int operation(int x, int y) { return strategy.twoNumberOperation(x, y); } public void setStrategy(Strategy strategy) { this.strategy = strategy; } } AddStrategyï¼š\npublic class AddStrategy implements Strategy { @Override public int twoNumberOperation(int x, int y) { return x + y; } } ä¸AddStrategyç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\næµ‹è¯•ï¼š\npublic class StrategyPattern { public static void main(String[] args) { OperationContext context = new OperationContext(); Strategy add = new AddStrategy(); Strategy sub = new SubStrategy(); Strategy multiply = new MultiplyStrategy(); /** * æˆ‘è§‰å¾—ä¸‹é¢è¿™éƒ¨åˆ†ä»£ç åº”è¯¥æ˜¯æ”¾åœ¨OperationContext.operation()ä¸­å®ç°çš„\u0026lt;br\u0026gt; * å› ä¸ºç­–ç•¥æ¨¡å¼å°±æ˜¯è¦è®©ç”¨æˆ·ä¸çŸ¥é“ä½¿ç”¨çš„æ˜¯å“ªç§ç®—æ³•\u0026lt;br\u0026gt; * ä½†æ˜¯å¯¹äºè¿™ä¸ªæ¡ˆä¾‹æ¥è¯´ä¸é€‚åˆè¿™æ ·å®ç° */ context.setStrategy(add); System.out.println(context.operation(2023, 527)); context.setStrategy(sub); System.out.println(context.operation(2023, 527)); context.setStrategy(multiply); System.out.println(context.operation(2023, 527)); } } Strategyæ¨¡å¼é€‚ç”¨äºï¼š\nè®¸å¤šç›¸å…³çš„ç±»ä»…ä»…æ˜¯è¡Œä¸ºæœ‰å¼‚ã€‚â€œç­–ç•¥â€æä¾›äº†ä¸€ç§ç”¨å¤šä¸ªè¡Œä¸ºä¸­çš„ä¸€ä¸ªè¡Œä¸ºæ¥é…ç½®ä¸€ä¸ªç±»çš„æ–¹æ³•ã€‚ éœ€è¦ä½¿ç”¨ä¸€ä¸ªç®—æ³•çš„ä¸åŒå˜ä½“ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€äº›åæ˜ ä¸åŒç©ºé—´çš„ç©ºé—´/æ—¶é—´æƒè¡¡çš„ç®—æ³•ã€‚å½“è¿™äº›å˜ä½“å®ç°ä¸ºä¸€ä¸ªç®—æ³•çš„ç±»å±‚æ¬¡æ—¶ï¼Œå¯ä»¥ä½¿å¨ç­–ç•¥æ¨¡å¼ã€‚ ç®—æ³•ä½¿ç”¨å®¢æˆ·ä¸åº”è¯¥çŸ¥é“çš„æ•°æ®ã€‚å¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ä»¥é¿å…æš´éœ²å¤æ‚çš„ã€ä¸ç®—æ³•ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚ ä¸€ä¸ªç±»å®šä¹‰äº†å¤šç§è¡Œä¸ºï¼Œå¹¶ä¸”è¿™äº›è¡Œä¸ºåœ¨è¿™ä¸ªç±»çš„æ“ä½œä¸­ä»¥å¤šä¸ªæ¡ä»¶è¯­å¥çš„å½¢å¼å‡ºç°ï¼Œå°†ç›¸å…³çš„æ¡ä»¶åˆ†æ”¯ç§»å…¥å®ƒä»¬å„è‡ªçš„Strategyç±»ä¸­ï¼Œä»¥ä»£æ›¿è¿™äº›æ¡ä»¶è¯­å¥ã€‚ ç­–ç•¥æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“åˆ°å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ã€‚\nç­–ç•¥æ¨¡æŠŠè¡Œä¸ºå’Œç¯å¢ƒåˆ†å¼€ï¼šç¯å¢ƒç±»è´Ÿè´£ç»´æŒå’ŒæŸ¥è¯¢è¡Œä¸ºç±»ï¼Œå„ç§ç®—æ³•åœ¨å…·ä½“çš„ç­–ç•¥ç±»ä¸­æä¾›ã€‚\nç”±äºç®—æ³•å’Œç¯å¢ƒç‹¬ç«‹å¼€æ¥ï¼Œç®—æ³•çš„å¢å‡ï¼Œä¿®æ”¹éƒ½ä¸ä¼šå½±å“åˆ°ç¯å¢ƒå’Œå®¢æˆ·ç«¯ã€‚\næ¨¡æ¿æ–¹æ³•æ¨¡å¼ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Methodï¼‰å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚Template Methodä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚\næ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„ç»“æ„ï¼š\nAbstractClassï¼ˆæŠ½è±¡ç±»ï¼‰ï¼š\nå®šä¹‰æŠ½è±¡çš„åŸè¯­æ“ä½œï¼Œå…·ä½“çš„å­ç±»å°†é‡å®šä¹‰å®ƒä»¬ä»¥å®ç°ä¸€ä¸ªç®—æ³•çš„å„æ­¥éª¤ï¼› å®ç°æ¨¡æ¿æ–¹æ³•ï¼Œå®šä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œè¯¥æ¨¡æ¿æ–¹æ³•ä¸ä»…è°ƒç”¨åŸè¯­æ“ä½œï¼Œä¹Ÿè°ƒç”¨å®šä¹‰åœ¨AbstractClassæˆ–å…¶ä»–å¯¹è±¡ä¸­çš„æ“ä½œã€‚ ConcreteClassï¼ˆå…·ä½“ç±»ï¼‰ï¼šå®ç°åŸè¯­æ“ä½œä»¥å®Œæˆç®—æ³•ä¸­ä¸ç‰¹å®šå­ç±»ç›¸å…³çš„æ­¥éª¤ã€‚\nTemplate Methodæ¨¡å¼é€‚ç”¨äºï¼š\nä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜çš„éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°ã€‚\nå„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­ï¼Œä»¥é¿å…ä»£ç é‡å¤ã€‚\næ§åˆ¶å­ç±»æ‰©å±•ã€‚\næ¨¡æ¿æ–¹æ³•æ—¨åœ¨ç‰¹å®šç‚¹è°ƒç”¨â€œhookâ€æ“ä½œï¼ˆé»˜è®¤çš„è¡Œä¸ºï¼Œå­ç±»å¯ä»¥åœ¨å¿…è¦æ—¶è¿›è¡Œé‡å®šä¹‰æ‰©å±•ï¼‰ï¼Œè¿™å°±åªå…è®¸åœ¨è¿™äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚\næ¨¡æ¿æ–¹æ³•æ¨¡å¼å‡†å¤‡ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå°†éƒ¨åˆ†é€»è¾‘ä»¥å…·ä½“æ–¹æ³•ä»¥åŠå…·ä½“æ„é€ å­çš„å½¢å¼å®ç°ï¼Œç„¶åå£°æ˜ä¸€äº›æŠ½è±¡æ–¹æ³•æ¥è¿«ä½¿å­ç±»å®ç°å‰©ä½™çš„é€»è¾‘ã€‚ä¸åŒçš„å­ç±»å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ï¼Œä»è€Œå¯¹å‰©ä½™çš„é€»è¾‘æœ‰ä¸åŒçš„å®ç°ã€‚å…ˆåˆ¶å®šä¸€ä¸ªé¡¶çº§é€»è¾‘æ¡†æ¶ï¼Œè€Œå°†é€»è¾‘çš„ç»†èŠ‚ç•™ç»™å…·ä½“çš„å­ç±»å»å®ç°ã€‚\nè®¿é—®è€…æ¨¡å¼ è®¿é—®è€…ï¼ˆVisitorï¼‰æ¨¡å¼è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒå…è®¸åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹ï¼Œå®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚\nå³ï¼Œè®¿é—®è€…æ¨¡å¼çš„ç›®çš„æ˜¯å°è£…ä¸€äº›æ–½åŠ äºæŸç§æ•°æ®ç»“æ„å…ƒç´ ä¹‹ä¸Šçš„æ“ä½œã€‚ä¸€æ—¦è¿™äº›æ“ä½œéœ€è¦ä¿®æ”¹çš„è¯ï¼Œæ¥å—è¿™ä¸ªæ“ä½œçš„æ•°æ®ç»“æ„å¯ä»¥ä¿æŒä¸å˜ã€‚\nå°±æ˜¯ç»“æ„å’Œè¡Œä¸ºåˆ†ç¦»ï¼Œç»“æ„è¢«å®šä¹‰åœ¨å…·ä½“å¯¹è±¡ä¸­ï¼ˆå…·ä½“å¯¹è±¡å®ç°æ“ä½œçš„ä¸€å°éƒ¨åˆ†ï¼‰ï¼Œè¡Œä¸ºè¢«å®šä¹‰åœ¨è®¿é—®è€…ä¸­ï¼ˆæ“ä½œçš„å¤§éƒ¨åˆ†ç”±è®¿é—®è€…å®ç°ï¼‰ã€‚\nè®¿é—®è€…æ¨¡å¼çš„ç»“æ„ï¼š\nConcreteVisitorï¼ˆå…·ä½“è®¿é—®è€…ï¼‰ï¼šå®ç°æ¯ä¸ªæœ‰Visitorå£°æ˜çš„æ“ä½œï¼Œæ¯ä¸ªæ“ä½œå®ç°æœ¬ç®—æ³•çš„ä¸€éƒ¨åˆ†ï¼Œè€Œè¯¥ç®—æ³•ç‰‡æ®µä¹ƒæ˜¯å¯¹åº”äºç»“æ„ä¸­å¯¹è±¡çš„ç±»ã€‚\nConcreteVisitorä¸ºè¯¥ç®—æ³•æä¾›äº†ä¸Šä¸‹æ–‡å¹¶å­˜å‚¨å®ƒçš„å±€éƒ¨çŠ¶æ€ã€‚è¿™ä¸€çŠ¶æ€å¸¸å¸¸åœ¨éå†è¯¥ç»“æ„çš„è¿‡ç¨‹ä¸­ç´¯ç§¯ç»“æœã€‚\nElementï¼ˆå…ƒç´ ï¼‰ï¼šå®šä¹‰ä»¥ä¸€ä¸ªè®¿é—®è€…ä¸ºå‚æ•°çš„Acceptæ“ä½œã€‚\nConcreteElementï¼ˆå…·ä½“å…ƒç´ ï¼‰ï¼šå®ç°ä»¥ä¸€ä¸ªè®¿é—®è€…ä¸ºå‚æ•°çš„Acceptæ“ä½œã€‚\nObjectStructureï¼ˆå¯¹è±¡ç»“æ„ï¼‰ï¼šèƒ½æšä¸¾å®ƒçš„å…ƒç´ ï¼›å¯ä»¥æä¾›ä¸€ä¸ªé«˜å±‚çš„æ¥å£ä»¥å…è®¸è¯¥è®¿é—®è€…è®¿é—®å®ƒçš„å…ƒç´ ï¼›å¯ä»¥æ˜¯ä¸€ä¸ªç»„åˆæˆ–è€…ä¸€ä¸ªé›†åˆã€‚\nä»£ç å®ç°ï¼š\nPersonï¼š\npublic abstract class Person { private String name; /** * æ¥å—è®¿é—®å¯¹è±¡ */ public abstract void accept(Visitor visitor); public String getName() { return name; } public void setName(String name) { this.name = name; } @Override public String toString() { String[] split = getClass().toString().split(\u0026#34;\\\\.\u0026#34;); int last = split.length - 1; return split[last] + \u0026#39;{\u0026#39; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } Visitorï¼š\npublic interface Visitor { /** * è®¿é—®å­¦ç”Ÿ */ public void visit(Student student); /** * è®¿é—®è€å¸ˆ */ public void visit(Teacher teacher); } Studentï¼š\npublic class Student extends Person { public Student(String name) { setName(name); } @Override public void accept(Visitor visitor) { visitor.visit(this); } } Teacherä¸Studentç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nVisitor1ï¼š\npublic class Visitor1 implements Visitor { @Override public void visit(Student student) { System.out.println(\u0026#34;Visitor1 \u0026#34; + student); } @Override public void visit(Teacher teacher) { System.out.println(\u0026#34;Visitor1 \u0026#34; + teacher); } } Visitor2ä¸Visitor1ç±»ä¼¼ï¼Œä»£ç ç•¥ã€‚\nPersonStructureï¼š\npublic class PersonStructure { private List\u0026lt;Person\u0026gt; people = new ArrayList\u0026lt;\u0026gt;(); public PersonStructure() { people.add(new Student(\u0026#34;å¼ ä¸‰\u0026#34;)); people.add(new Student(\u0026#34;æå››\u0026#34;)); people.add(new Student(\u0026#34;ç‹äº”\u0026#34;)); people.add(new Teacher(\u0026#34;æè€å¸ˆ\u0026#34;)); people.add(new Teacher(\u0026#34;é™ˆè€å¸ˆ\u0026#34;)); people.add(new Teacher(\u0026#34;åˆ˜è€å¸ˆ\u0026#34;)); } /** * ä½¿ç”¨è®¿é—®è€…è®¿é—®é›†åˆä¸­æ‰€æœ‰å¯¹è±¡ */ public void accept(Visitor visitor) { for (Person person : people) { person.accept(visitor); } } } æµ‹è¯•ï¼š\npublic class VisitorPattern { public static void main(String[] args) { PersonStructure structure = new PersonStructure(); Visitor visitor1 = new Visitor1(); structure.accept(visitor1); System.out.println(\u0026#34;==============================\u0026#34;); Visitor visitor2 = new Visitor2(); structure.accept(visitor2); } } Visitoræ¨¡å¼é€‚ç”¨äºï¼š\nä¸€ä¸ªå¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„æ¥å£ï¼Œè€Œç”¨æˆ·æƒ³å¯¹è¿™äº›å¯¹è±¡å®æ–½ä¸€äº›ä¾èµ–äºå…¶å…·ä½“ç±»çš„æ“ä½œã€‚\néœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œåˆæƒ³è¦é¿å…è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ã€‚\nVisitorä½¿å¾—ç”¨æˆ·å¯ä»¥å°†ç›¸å…³çš„æ“ä½œé›†ä¸­èµ·æ¥å®šä¹‰åœ¨ä¸€ä¸ªç±»ä¸­ã€‚å½“è¯¥å¯¹è±¡ç»“æ„è¢«å¾ˆå¤šåº”ç”¨å…±äº«æ—¶ï¼Œç”¨Visitoræ¨¡å¼è®©æ¯ä¸ªåº”ç”¨ä»…åŒ…å«éœ€è¦ç”¨åˆ°çš„æ“ä½œã€‚\nå®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚\næ”¹å˜å¯¹è±¡ç»“æ„ç±»éœ€è¦é‡å®šä¹‰å¯¹æ‰€æœ‰è®¿é—®è€…çš„æ¥å£ï¼Œè¿™å¯èƒ½éœ€è¦å¾ˆå¤§çš„ä»£ä»·ã€‚å¦‚æœå¯¹è±¡ç»“æ„ç±»ç»å¸¸æ”¹å˜ï¼Œé‚£ä¹ˆå¯èƒ½è¿˜æ˜¯åœ¨è¿™äº›ç±»ä¸­å®šä¹‰è¿™äº›æ“ä½œè¾ƒå¥½ã€‚\nè®¿é—®è€…æ¨¡å¼å°†æœ‰å…³çš„è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯åˆ†æ•£åˆ°ä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ç±»ä¸­ã€‚å½“ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ—¶ï¼Œè¦å°†å°½å¯èƒ½å¤šçš„å¯¹è±¡æµè§ˆé€»è¾‘æ”¾åœ¨è®¿é—®è€…ç±»ä¸­ï¼Œè€Œä¸æ˜¯æ”¾åˆ°å®ƒçš„å­ç±»ä¸­ã€‚è®¿é—®è€…æ¨¡å¼å¯ä»¥è·¨è¿‡å‡ ä¸ªç±»çš„ç­‰çº§ç»“æ„è®¿é—®å±äºä¸åŒçš„ç­‰çº§ç»“æ„çš„æˆå‘˜ç±»ã€‚\nè®¾è®¡æ¨¡å¼æ€»ç»“ åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼ˆæŠ½è±¡äº†å¯¹è±¡çš„å®ä¾‹åŒ–è¿‡ç¨‹ï¼‰ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ å·¥å‚æ–¹æ³• åŠ¨æ€ç”Ÿäº§å¯¹è±¡ å®šä¹‰åˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œç”±å­ç±»å®ä¾‹åŒ–å¯¹è±¡ã€‚è®©ç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ æŠ½è±¡å·¥å‚ ç”Ÿæˆç³»åˆ—å¯¹è±¡ æä¾›åˆ›å»ºä¸€ç³»åˆ—å¯¹è±¡çš„æ¥å£ï¼Œæ— éœ€æŒ‡å®šå…·ä½“çš„ç±»ã€‚ ç”Ÿæˆå™¨ æ„é€ å¤æ‚å¯¹è±¡ å°†å¤æ‚å¯¹è±¡çš„æ„å»ºä¸è¡¨ç¤ºåˆ†ç¦»ã€‚ä½¿å¾—åŒæ ·çš„æ„å»ºå¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ åŸå‹ å…‹éš†å¯¹è±¡ ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œé€šè¿‡å¤åˆ¶åŸå‹æ¥åˆ›å»ºå¯¹è±¡ã€‚ å•ä¾‹ ä¸€ä¸ªå®ä¾‹ ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚ æ¨¡å¼ é€‚ç”¨æ€§ å·¥å‚æ–¹æ³• ä¸€ä¸ªç±»ä¸çŸ¥é“å®ƒæ‰€å¿…é¡»åˆ›å»ºå¯¹è±¡çš„ç±»ç”±å­ç±»æ¥æŒ‡å®šåˆ›å»ºçš„å¯¹è±¡å°†åˆ›å»ºå¯¹è±¡çš„èŒè´£å§”æ‰˜ç»™å¤šä¸ªå¸®åŠ©å­ç±»ä¸­çš„æŸä¸€ä¸ª æŠ½è±¡å·¥å‚ ç³»ç»Ÿç‹¬ç«‹äºå®ƒäº§å“çš„åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºç³»ç»Ÿç”±å¤šä¸ªäº§å“ç³»åˆ—ä¸­çš„ä¸€ä¸ªæ¥é…ç½®å¼ºè°ƒä¸€ç³»åˆ—ç›¸å…³äº§å“å¯¹è±¡çš„è®¾è®¡ï¼Œä»¥ä¾¿è¿›è¡Œè”åˆä½¿ç”¨æä¾›ä¸€ä¸ªäº§å“ç±»åº“ï¼Œåªæ˜¾ç¤ºå®ƒä»¬çš„æ¥å£è€Œä¸æ˜¯å®ç° ç”Ÿæˆå™¨ åˆ›å»ºå¤æ‚å¯¹è±¡çš„ç®—æ³•ï¼Œç‹¬ç«‹äºè¯¥å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä»¥åŠå®ƒä»¬çš„è£…é…æ–¹å¼æ„é€ è¿‡ç¨‹å¿…é¡»å…è®¸è¢«æ„é€ çš„å¯¹è±¡æœ‰ä¸åŒçš„è¡¨ç¤º åŸå‹ ç³»ç»Ÿç‹¬ç«‹äºå®ƒäº§å“åˆ›å»ºã€æ„æˆå’Œè¡¨ç¤ºè¦å®ä¾‹åŒ–çš„ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ»æŒ‡å®šï¼Œå¦‚åŠ¨æ€è£…è½½é¿å…åˆ›å»ºä¸€ä¸ªä¸äº§å“ç±»å±‚æ¬¡å¹³è¡Œçš„å·¥å‚ç±»å±‚æ¬¡ å•ä¾‹ ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç”¨æˆ·å¯ä»ä¸€ä¸ªå…¨å±€ç‚¹è®¿é—®è¿™ä¸ªå”¯ä¸€å®ä¾‹æ˜¯é€šè¿‡å­ç±»åŒ–å¯æ‰©å±•çš„ï¼Œå®¢æˆ·æ— é¡»æ›´æ”¹ä»£ç å°±èƒ½ä½¿ç”¨æ‰©å±•å®ä¾‹ ç»“æ„å‹æ¨¡å¼ï¼ˆç»„åˆç±»æˆ–å¯¹è±¡è·å¾—æ–°çš„ç»“æ„ï¼‰ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ é€‚é…å™¨ï¼ˆç±»/å¯¹è±¡ï¼‰ æ¥å£è½¬æ¢ å°†ç±»çš„æ¥å£è½¬æ¢æˆå…¼å®¹å…¶ä»–ç±»çš„æ¥å£ã€‚\nä½¿åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ æ¡¥æ¥ æŠ½è±¡ä¸å®ç°åˆ†ç¦» å°†ç±»çš„æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚ ç»„åˆ ç»„åˆå¯¹è±¡ å°†å¯¹è±¡ç»„åˆæˆæ ‘å‹ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†â€”â€”æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚\nä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ è£…é¥° åŠ¨æ€é™„åŠ èŒè´£ åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œæ¯”ç”¨å­ç±»æ¥æ‰©å±•åŠŸèƒ½æ›´çµæ´»ã€‚ å¤–è§‚ å¯¹å¤–ç»Ÿä¸€æ¥å£ ä¸ºå­ç³»ç»Ÿå®šä¹‰å’Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„å¯¹å¤–é«˜å±‚æ¥å£ï¼ˆå¤–è§‚ï¼‰ã€‚\nç®€åŒ–äº†è¯¥å­ç³»ç»Ÿçš„ä½¿ç”¨ã€‚ äº«å…ƒ å…±äº«å¤§é‡ç»†ç²’åº¦å¯¹è±¡ æä¾›æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡å…±äº«çš„æœ‰æ•ˆæ–¹æ³•ã€‚ ä»£ç† ä¸­ä»‹ä»£ç† ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ æ¨¡å¼ é€‚ç”¨æ€§ é€‚é…å™¨ ä½¿ç”¨æ¥å£ä¸ç¬¦åˆè¦æ±‚çš„ç±»åˆ›å»ºå¯å¤ç”¨ã€å¯ä¸å…¶å®ƒä¸ç›¸å…³ç±»æˆ–ä¸å¯é¢„è§ç±»ååŒå·¥ä½œï¼ˆä»…é€‚ç”¨äºå¯¹è±¡é€‚é…å™¨ï¼‰æƒ³ä½¿ç”¨å­ç±»ï¼Œä½†åˆä¸æƒ³å¯¹å®ƒä»¬å­ç±»åŒ–æ¥åŒ¹é…æ¥å£ æ¡¥æ¥ åœ¨æŠ½è±¡å’Œå®ç°ä¹‹é—´æ²¡æœ‰å›ºå®šçš„ç»‘å®šå…³ç³»æŠ½è±¡ä»¥åŠå®ç°éƒ½å¯ä»¥é€šè¿‡ç”Ÿæˆå­ç±»çš„æ–¹æ³•æ‰©å……å¯¹æŠ½è±¡çš„å®ç°éƒ¨åˆ†çš„ä¿®æ”¹ä¸ä¼šå¯¹ç”¨æˆ·äº§ç”Ÿå½±å“éšè—æŠ½è±¡çš„å®ç°åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«å®ç°ï¼Œç”¨æˆ·å¹¶ä¸çŸ¥é“ ç»„åˆ è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†â€”â€”æ•´ä½“å±‚æ¬¡ç»“æ„å¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œå¹¶ç»Ÿä¸€åœ°ä½¿ç”¨å®ƒä»¬ è£…é¥°å™¨ ä¸å½±å“å…¶ä»–å¯¹è±¡ï¼Œè€ŒåŠ¨æ€é€æ˜åœ°æ·»åŠ èŒè´£å¤„ç†é‚£äº›å¯ä»¥æ’¤é”€çš„èŒè´£ä¸èƒ½é‡‡ç”¨å­ç±»è¿›è¡Œæ‰©å…… å¤–è§‚ ä¸ºä¸€ä¸ªå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•æ¥å£å®¢æˆ·ç¨‹åºä¸æŠ½è±¡ç±»çš„å®ç°éƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤§çš„ä¾èµ–æ€§éœ€è¦æ„å»ºä¸€ä¸ªå±‚æ¬¡ç»“æ„çš„å­ç³»ç»Ÿæ—¶ äº«å…ƒ ä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§å¼€é”€å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯å˜ä¸ºå¤–éƒ¨çŠ¶æ€åˆ é™¤å¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€åï¼Œå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¾ˆå¤šç»„å¯¹è±¡ ä»£ç† åœ¨éœ€è¦æ¯”è¾ƒé€šç”¨å’Œå¤æ‚å¯¹è±¡æŒ‡é’ˆä»£æ›¿ç®€å•æŒ‡é’ˆæ—¶ è¡Œä¸ºå‹æ¨¡å¼ï¼š\næ¨¡å¼ å…³é”®å­— æ„å›¾ è´£ä»»é“¾ èŒè´£ä¼ é€’ å°†å¤„ç†è¯·æ±‚çš„å¤šä¸ªå¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œè¯·æ±‚åœ¨é“¾ä¸­ä¼ é€’ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†ã€‚\nç»™å¤šä¸ªå¯¹è±¡å¤„ç†è¯·æ±‚çš„æœºä¼šï¼Œå‡å°‘è¯·æ±‚çš„å‘é€è€…ä¸æ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆã€‚ å‘½ä»¤ è¯·æ±‚å°è£…ä¸ºå¯¹è±¡ å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå¯ç”¨ä¸åŒè¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ã€‚\nå°†è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•æ—¥å¿—ï¼Œæ”¯æŒæ’¤é”€æ“ä½œã€‚ è§£é‡Šå™¨ è¯­å¥è§£é‡Š ç»™å®šä¸€ç§è¯­è¨€ï¼Œå®šä¹‰å…¶æ–‡æ³•å’Œè§£é‡Šå™¨ï¼Œè§£é‡Šå™¨æ ¹æ®æ–‡æ³•è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ è¿­ä»£å™¨ é¡ºåºè®¿é—®æ•°æ®é›† æä¾›ä¸€ä¸ªé¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­å…ƒç´ çš„æ–¹æ³•ï¼Œä¸éœ€è¦æš´éœ²å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ä¸­ä»‹è€… ä¸ç›´æ¥å¼•ç”¨ ç”¨å¯¹è±¡å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚\nä½¿å„å¯¹è±¡ä¸éœ€æ˜¾å¼åœ°ç›¸äº’è°ƒç”¨ï¼Œè¾¾åˆ°ä½è€¦åˆã€‚\nå¯ä»¥ç‹¬ç«‹æ”¹å˜å¯¹è±¡é—´çš„äº¤äº’ã€‚ å¤‡å¿˜å½• ä¿å­˜çŠ¶æ€ ä¸ç ´åå°è£…çš„å‰æä¸‹ï¼Œæ•è·å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜ã€‚\nå¯ä»¥åœ¨ä»¥åæ¢å¤ä¿å­˜çš„çŠ¶æ€ã€‚ è§‚å¯Ÿè€… è”åŠ¨ å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šä¾èµ–å…³ç³»ã€‚\nä¸€ä¸ªå¯¹è±¡çŠ¶æ€æ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ çŠ¶æ€ çŠ¶æ€å°è£…æˆç±» æŠŠå¯¹è±¡çš„è¡Œä¸ºå°è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ã€‚\nå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ ç­–ç•¥ å¤šæ–¹æ¡ˆåˆ‡æ¢ å®šä¹‰å¹¶å°è£…ä¸€ç³»åˆ—ç®—æ³•ï¼Œä½¿å®ƒä»¬å¯ä»¥åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ç›¸äº’æ›¿æ¢ã€‚ æ¨¡æ¿æ–¹æ³• æ¡†æ¶ å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè®©å…¶å­ç±»æ¥å®ç°ç®—æ³•ä¸­çš„å‰©ä½™é€»è¾‘ã€‚\nå¯ä»¥ä¸æ”¹å˜ç®—æ³•ç»“æ„è€Œé‡æ–°å®šä¹‰å…¶æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ è®¿é—®è€… æ•°æ®ä¸æ“ä½œåˆ†ç¦» å°è£…ä½œç”¨ä¸æŸå¯¹è±¡ç»“æ„ä¸­å…ƒç´ çš„æ“ä½œã€‚\nå¯ä»¥åœ¨ä¸æ”¹å˜å…ƒç´ ç±»çš„å‰æä¸‹ï¼Œå®šä¹‰æˆ–ä¿®æ”¹ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ“ä½œã€‚ æ¨¡å¼ é€‚ç”¨æ€§ è´£ä»»é“¾ æœ‰å¤šä¸ªå¯¹è±¡å¤„ç†è¯·æ±‚ï¼Œè¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šç”±è°å¤„ç†ä¸æ˜æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹å‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤è¯·æ±‚å¯å¤„ç†è¯·æ±‚çš„å¯¹è±¡é›†åˆè¢«åŠ¨æ€æŒ‡å®š å‘½ä»¤ æŠ½è±¡å‡ºå¾…æ‰§è¡Œçš„åŠ¨ä½œä»¥å‚æ•°åŒ–æŸå¯¹è±¡ä¸åŒçš„æ—¶åˆ»æŒ‡å®šã€æ’åˆ—å’Œæ‰§è¡Œè¯·æ±‚æ”¯æŒå–æ¶ˆæ“ä½œï¼Œæ”¯æŒä¿®æ”¹æ—¥å¿— è§£é‡Šå™¨ æ–‡æ³•ç®€å•æ•ˆç‡ä¸æ˜¯å…³é”®é—®é¢˜ è¿­ä»£å™¨ è®¿é—®èšåˆå¯¹è±¡çš„å†…å®¹è€Œä¸æš´éœ²å…¶å†…éƒ¨è¡¨ç¤ºæ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éå†ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ ä¸­ä»‹è€… ä¸€ç»„å¯¹è±¡ä»¥å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±» å¤‡å¿˜å½• å¿…é¡»ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€ä¸ªæ—¶åˆ»çš„ï¼ˆéƒ¨åˆ†ï¼‰çŠ¶æ€å¦‚æœç”¨æ¥å£è®©å…¶ä»–å¯¹è±¡ç›´æ¥å¾—åˆ°è¿™äº›çŠ¶æ€ï¼Œä¼šæš´éœ²å¯¹è±¡çš„å®ç°ç»†èŠ‚å¹¶ç ´åå¯¹è±¡çš„å°è£…æ€§ è§‚å¯Ÿè€… å½“æŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢å½“æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„åŒæ—¶éœ€è¦æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œåˆä¸çŸ¥é“æœ‰å¤šå°‘å¯¹è±¡å¾…æ”¹å˜å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œåˆä¸èƒ½å‡å®šå…¶ä»–å¯¹è±¡æ˜¯è°ï¼ˆä¸èƒ½ç´§è€¦åˆï¼‰ çŠ¶æ€ å¯¹è±¡çš„è¡Œä¸ºå†³å®šäºå®ƒçš„çŠ¶æ€ï¼Œä¸”åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜è¡Œä¸ºæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ ç­–ç•¥ è®¸å¤šç›¸å…³çš„ç±»ä»…ä»…æ˜¯è¡Œä¸ºæœ‰å¼‚éœ€è¦ä½¿ç”¨ä¸€ä¸ªç®—æ³•çš„ä¸åŒå˜ä½“ æ¨¡æ¿æ–¹æ³• ä¸€æ¬¡æ€§å®ç°ç®—æ³•ä¸­ä¸å˜çš„éƒ¨åˆ†ï¼Œå°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»å®ç°å„å­ç±»ä¸­å…¬å…±è¡Œä¸ºè¢«æå–åˆ°å…¬å…±çˆ¶ç±»ä¸­ï¼Œé¿å…ä»£ç é‡å¤ è®¿é—®è€… å¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å¯¹è±¡ï¼Œç”¨æˆ·æƒ³å¯¹è¿™äº›å¯¹è±¡å®æ–½æ“ä½œå¯¹å¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒä¸”ä¸ç›¸å…³çš„æ“ä½œå®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤ç»“æ„ä¸Šå®šä¹‰æ–°æ“ä½œ ä¸ªäººç†è§£çš„æ–¹å¼ï¼š\næ¨¡å¼ ç®€è¿° å·¥å‚æ–¹æ³• å…·ä½“å·¥å‚ï¼ˆå·¥å‚æ¥å£çš„å®ç°ï¼‰åˆ›å»ºå…·ä½“å¯¹è±¡ã€‚ æŠ½è±¡å·¥å‚ ä¸€ä¸ªå…·ä½“å·¥å‚ï¼ˆæŠ½è±¡å·¥å‚çš„å­ç±»ï¼‰åˆ›å»ºå¤šä¸ªäº§å“ï¼Œä¸åŒå·¥å‚ç”¨ä¸åŒæ–¹å¼åˆ›å»ºè¿™ä¸€ç³»åˆ—äº§å“ã€‚ ç”Ÿæˆå™¨ å¤æ‚å¯¹è±¡é€šè¿‡åˆ‡æ¢æ„å»ºconstruct(Builder)æ¥åˆ›å»ºä¸åŒè¡¨ç¤ºã€‚ åŸå‹ å¤šä¸ªåŸå‹ä¹‹é—´é€šè¿‡å…‹éš†Prototype.clone()æ¥å¤åˆ¶å¯¹è±¡ã€‚ å•ä¾‹ é€šè¿‡ç§æœ‰åŒ–æ— å‚æ„é€ æ–¹æ³•ã€é™æ€Singleton instanceå±æ€§å’Œé™æ€getInstance()æ–¹æ³•ä½¿å¯¹è±¡ä¿æŒå•ä¾‹ã€‚ é€‚é…å™¨ é€‚é…å™¨ç»§æ‰¿ç›®æ ‡ç±»ï¼Œé‡å†™ç›®æ ‡ç±»çš„æ–¹æ³•ï¼Œæ–¹æ³•å°†ä¸å…¼å®¹çš„æ¥å£åŒ…è£…æˆä¸ç›®æ ‡ç±»ä¸€è‡´çš„æ¥å£ã€‚ æ¡¥æ¥ å°†äº§å“ï¼ˆæŠ½è±¡ï¼‰ä¸å…¶æŸå±æ€§ï¼ˆå®ç°ï¼‰åˆ†å¼€ï¼Œé€šè¿‡æ¡¥æ¥ï¼ˆç»„åˆï¼‰äº§å“ä¸å…¶å±æ€§ç‹¬ç«‹å‡ºæ¥çš„ç±»æ¥åˆ¶é€ ä¸åŒäº§å“ã€‚ ç»„åˆ ç”¨æ ‘å½¢ç»“æ„å’Œä¸€è‡´çš„æŠ½è±¡ç±»è®©éƒ¨åˆ†å’Œæ•´ä½“çš„æ“ä½œä¸€è‡´ã€‚å¦‚æ–‡ä»¶æ ‘ã€‚ è£…é¥°å™¨ è£…é¥°å™¨ç»§æ‰¿è¢«è£…é¥°ç±»ï¼Œé€šè¿‡æ„é€ å™¨ä¼ å…¥è¢«è£…é¥°å¯¹è±¡ï¼Œç„¶ååœ¨ä¸è¢«è£…é¥°ç±»ä¸€è‡´çš„æ–¹æ³•ä¸­æ·»åŠ æ–°æ“ä½œã€‚å¤šä¸ªè£…é¥°å™¨åµŒå¥—å¯ç»„æˆä¸€æ¡è£…é¥°é“¾ã€‚ å¤–è§‚ å¤æ‚å­ç³»ç»Ÿæœ‰å¾ˆå¤šæ“ä½œï¼Œå¤–è§‚å°†å…¶ç®€åŒ–ã€‚è·Ÿé€‚é…å™¨å¾ˆåƒã€‚ äº«å…ƒ è®©ä¸€ä¸ªå¯¹è±¡å‡è£…æˆè®¸å¤šä¸ªå¯¹è±¡ã€‚å°±æ˜¯å¾ˆå¤šä¸ªå¯¹è±¡ä¹‹é—´å¯èƒ½æœ‰ä¸€éƒ¨åˆ†å±æ€§çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç„¶åå…±äº«è¿™éƒ¨åˆ†å±æ€§ã€‚ ä»£ç† ä»£ç†å°±æ˜¯ç»™è¢«ä»£ç†å¯¹è±¡åŠ ä¸€äº›æ“ä½œï¼Œè·Ÿé€‚é…å™¨å’Œå¤–è§‚ä¸åŒçš„æ˜¯ä»£ç†çš„æ¥å£æ˜¯ä¸è¢«ä»£ç†å¯¹è±¡ä¸€è‡´çš„ã€‚ è´£ä»»é“¾ æœ‰å¤šä¸ªæ¥å£ä¸€è‡´çš„å¯¹è±¡ï¼Œå°†è¯·æ±‚åœ¨è¿™äº›å¯¹è±¡é—´å±‚å±‚è½¬å‘ï¼Œè¯·æ±‚å¯ä»¥è¢«å…¶ä¸­ä¸€ä¸ªå¯¹è±¡å¤„ç†ï¼ˆJavaWebé‡Œçš„è¿‡æ»¤å™¨ï¼‰ã€‚å’ŒåµŒå¥—çš„è£…é¥°å™¨å¾ˆåƒã€‚ å‘½ä»¤ å°±æ˜¯ä¸€ä¸ªå‘½ä»¤ä¸€ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨è¿™äº›å¯¹è±¡çš„æ–¹å¼ä¸€è‡´ï¼ˆå¯¹è±¡æ¥å£ä¸€è‡´ï¼‰ã€‚ è§£é‡Šå™¨ è§£é‡Šè¯­è¨€çš„ä¸Šä¸‹æ–‡ã€‚ è¿­ä»£å™¨ åœ¨é›†åˆå¯¹è±¡çš„å¤–éƒ¨ï¼Œé€šè¿‡è¿­ä»£å™¨è®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œå¯¹åº”çš„è¿­ä»£å™¨å¯ç”±é›†åˆå¯¹è±¡ç»™å‡ºiterator()ã€‚è·ŸJavaé‡Œçš„è¿­ä»£å™¨ä¸€ä¸ªæ ·ã€‚ ä¸­ä»‹è€… æœ‰å¤šä¸ªç±»ä¼¼å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡é€šè¿‡ä¸­ä»‹äº’ç›¸å‘é€æ¶ˆæ¯ï¼ˆå°±å¥½åƒå¾®ä¿¡èŠå¤©ä¸€æ ·ï¼Œå¾®ä¿¡å°±æ˜¯ä¸­ä»‹ï¼‰ã€‚ å¤‡å¿˜å½• æ•è·å¹¶ä¿å­˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æ¢å¤åˆ°åŸå‹ä¿å­˜çš„çŠ¶æ€ã€‚ è§‚å¯Ÿè€… åœ¨ç›®æ ‡å¯¹è±¡çŠ¶æ€æ›´æ–°æ—¶ï¼Œè§‚å¯Ÿè€…ä»¬å¯ä»¥æ”¶åˆ°é€šçŸ¥update()ï¼Œç„¶åæ›´æ–°è‡ªèº«çŠ¶æ€ï¼Œä¸ç›®æ ‡å¯¹è±¡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚ çŠ¶æ€ ä¸€ä¸ªçŠ¶æ€ä¸€ä¸ªç±»ï¼Œåœ¨çŠ¶æ€ä¸­é€šè¿‡åˆ¤æ–­å˜æ¢åˆ°å…¶å®ƒçŠ¶æ€ã€‚ ç­–ç•¥ å°±æ˜¯åŠ¨æ€åˆ‡æ¢ç®—æ³•ã€‚ æ¨¡æ¿æ–¹æ³• æ¨¡æ¿å®ç°ç®—æ³•æ“ä½œä¸­ä¸å˜çš„éƒ¨åˆ†ï¼Œå…¶ä½™çš„äº¤ç»™å­ç±»å»å®ç°ã€‚ è®¿é—®è€… å°±æ˜¯åœ¨Visitor.visit(è®¿é—®å¯¹è±¡)ä¸­å®šä¹‰å¯¹è±¡çš„æ“ä½œï¼Œç„¶ååœ¨ç»“æ„ç±»ä¸­æä¾›accept(Visitor)æ¥è®¿é—®è¿™äº›å¯¹è±¡ã€‚ ","date":"2023å¹´4æœˆ18æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/object-oriented/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"é¢å‘å¯¹è±¡","url":"/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"}],"timestamp":1681776000,"title":"é¢å‘å¯¹è±¡ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"è‘—ä½œæƒ è‘—ä½œæƒï¼ˆä¹Ÿç§°ä¸ºç‰ˆæƒï¼‰ï¼šæ˜¯æŒ‡ä½œè€…å¯¹å…¶åˆ›ä½œçš„ä½œå“äº«æœ‰çš„äººèº«æƒå’Œè´¢äº§æƒã€‚\näººèº«æƒåŒ…æ‹¬ï¼š\nå‘è¡¨æƒ ç½²åæƒ ä¿®æ”¹æƒ ä¿æŠ¤ä½œå“å®Œæ•´æƒ è´¢äº§æƒåŒ…æ‹¬ï¼š\nä½œå“çš„ä½¿ç”¨æƒ è·å¾—æŠ¥é…¬ è‘—ä½œæƒä¸­ï¼Œå‘è¡¨æƒæœ‰æ—¶é™ï¼Œæ—¶é™æ˜¯ä½œè€…ç»ˆèº«åŠå…¶æ­»äº¡å50å¹´ã€‚ç½²åæƒã€ä¿®æ”¹æƒã€ä¿æŠ¤ä½œå“å®Œæ•´æƒç­‰ä¸å—æ—¶é—´é™åˆ¶ï¼Œå—åˆ°æ°¸ä¹…ä¿æŠ¤ã€‚\nçŸ¥è¯†äº§æƒçš„ç‰¹ç‚¹ çŸ¥è¯†äº§æƒçš„ç‰¹ç‚¹åŒ…æ‹¬ï¼š\næ— å½¢æ€§ åŒé‡æ€§ ç¡®è®¤æ€§ ç‹¬å æ€§ åœ°åŸŸæ€§ æ—¶é—´æ€§ åœ°åŸŸæ€§ å„å›½ä¸»ç®¡æœºå…³ä¾ç…§æœ¬å›½æ³•å¾‹æˆäºˆçš„çŸ¥è¯†äº§æƒï¼Œåªèƒ½åœ¨ä¸å›½é¢†åŸŸå†…å—æ³•å¾‹ä¿æŠ¤ã€‚è‘—ä½œæƒè™½ç„¶è‡ªåŠ¨äº§ç”Ÿï¼Œä½†å®ƒå—åœ°åŸŸé™åˆ¶ã€‚\næ—¶é—´æ€§ çŸ¥è¯†äº§æƒå…·æœ‰æ³•å®šçš„ä¿æŠ¤æœŸé™ã€‚\nä¾‹å¦‚ï¼Œæˆ‘å›½å‘æ˜ä¸“åˆ©çš„ä¿æŠ¤æœŸä¸º20å¹´ï¼Œè‡ªä¸“åˆ©ç”³è¯·æ—¥èµ·è®¡ç®—ã€‚\næˆ‘å›½å…¬æ°‘çš„ä½œå“å‘è¡¨æƒçš„ä¿æŠ¤æœŸä¸ºä½œè€…ç»ˆç”ŸåŠå…¶æ­»äº¡å50å¹´ã€‚\næˆ‘å›½å•†æ ‡æƒçš„ä¿æŠ¤æœŸé™è‡ªæ ¸å‡†æ³¨å†Œä¹‹æ—¥èµ·10å¹´å†…æœ‰æ•ˆã€‚\nä½†å¯ä»¥æ ¹æ®å…¶æ‰€æœ‰äººçš„éœ€è¦æ— é™åœ°å»¶é•¿æƒåˆ©æœŸé™ï¼š\nåœ¨æœŸé™å±Šæ»¡å‰6ä¸ªæœˆå†…ç”³è¯·ç»­å±•æ³¨å†Œï¼Œ æ¯æ¬¡ç»­å±•æ³¨å†Œçš„æœ‰æ•ˆæœŸä¸º10å¹´ï¼Œ ç»­å±•æ³¨å†Œçš„æ¬¡æ•°ä¸é™ã€‚ å•†ä¸šç§˜å¯†å—æ³•å¾‹ä¿æŠ¤çš„æœŸé™æ˜¯ä¸ç¡®å®šçš„ã€‚\nè®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒ è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼š\nä¸»ä½“ï¼šæŒ‡äº«æœ‰è‘—ä½œæƒçš„äººï¼ŒåŒ…æ‹¬ï¼š\nå…¬æ°‘ æ³•äºº å…¶ä»–ç»„ç»‡ å®¢ä½“ï¼šæŒ‡è‘—ä½œæƒæ³•ä¿æŠ¤çš„è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒçš„èŒƒå›´ï¼ˆå—ä¿æŠ¤çš„å¯¹è±¡ï¼‰ã€‚\nè‘—ä½œæƒæ³•ä¿æŠ¤çš„è®¡ç®—æœºè½¯ä»¶æ˜¯æŒ‡ï¼š\nè®¡ç®—æœºç¨‹åºï¼ŒåŒ…æ‹¬ï¼š\næºç¨‹åºï¼Œ ç›®æ ‡ç¨‹åºï¼› è®¡ç®—æœºç¨‹åºæœ‰å…³æ–‡æ¡£ï¼Œæ–‡æ¡£ä¸€èˆ¬ä»¥ä»¥ä¸‹å½¢å¼å‡ºç°ï¼š\nç¨‹åºè®¾è®¡è¯´æ˜ä¹¦ï¼Œ æµç¨‹å›¾ï¼Œ ç”¨æˆ·æ‰‹å†Œã€‚ è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒå—åˆ°ä»¥ä¸‹ä¸¤ä¸ªæ³•å¾‹çš„ä¿æŠ¤ï¼š\nã€Šä¸­åäººæ°‘å…±å’Œå›½è‘—ä½œæƒæ³•ã€‹ï¼Œç®€ç§°è‘—ä½œæƒæ³•ï¼› ã€Šè®¡ç®—æœºè½¯ä»¶ä¿æŠ¤æ¡ä¾‹ã€‹ã€‚ æ—¶é™ï¼šè®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒçš„æƒåˆ©è‡ªè½¯ä»¶å¼€å‘å®Œæˆä¹‹æ—¥èµ·äº§ç”Ÿã€‚\nä¿æŠ¤æ¡ä»¶ ã€Šè®¡ç®—æœºè½¯ä»¶ä¿æŠ¤æ¡ä¾‹ã€‹è§„å®šï¼Œä¾æ³•å—åˆ°ä¿æŠ¤çš„è®¡ç®—æœºè½¯ä»¶ä½œå“å¿…é¡»ç¬¦åˆä¸‹åˆ—æ¡ä»¶ï¼š\nç‹¬ç«‹åˆ›ä½œã€‚\nä¸å¯æŠ„è¢­ã€‚ä½¿ç”¨ä»–äººè½¯ä»¶ä½œå“çš„é€»è¾‘æ­¥éª¤çš„ç»„åˆæ–¹å¼ï¼Œå¯¹ä»–äººæ„æˆä¾µæƒã€‚\nå¯è¢«æ„ŸçŸ¥ã€‚\nå—ä¿æŠ¤çš„è½¯ä»¶å¿…é¡»å›ºå®šåœ¨æŸç§æœ‰å½¢ç‰©ä½“ä¸Šï¼Œä¾‹å¦‚å›ºå®šåœ¨å­˜å‚¨å™¨ã€ç£ç›˜å’Œç£å¸¦ç­‰è®¾å¤‡ä¸Šï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„æœ‰å½¢ç‰©ï¼Œå¦‚çº¸å¼ ç­‰ã€‚\né€»è¾‘åˆç†ã€‚\nè½¯ä»¶ä½œå“å¿…é¡»å…·å¤‡åˆç†çš„é€»è¾‘æ€æƒ³ï¼Œå¹¶ä»¥æ­£ç¡®çš„é€»è¾‘æ­¥éª¤è¡¨ç°å‡ºæ¥ã€‚\næƒåˆ© è®¡ç®—æœºè½¯ä»¶çš„è‘—ä½œäººèº«æƒ\nå‘è¡¨æƒ å¼€å‘è€…èº«ä»½æƒï¼ˆä¹Ÿç§°ä¸ºç½²åæƒï¼‰ è®¡ç®—æœºè½¯ä»¶çš„è‘—ä½œè´¢äº§æƒ\nä½¿ç”¨æƒ å¤åˆ¶æƒ ä¿®æ”¹æƒ å‘è¡Œæƒ ç¿»è¯‘æƒ æ³¨é‡Šæƒ ä¿¡æ¯ç½‘ç»œä¼ æ’­æƒ å‡ºç§Ÿæƒ ä½¿ç”¨è®¸å¯æƒ è·å¾—æŠ¥é…¬æƒ è½¬è®©æƒ è½¯ä»¶åˆæ³•æŒæœ‰äººçš„æƒåˆ©\nè½¯ä»¶çš„åˆæ³•å¤åˆ¶å“æ‰€æœ‰äººäº«æœ‰ä¸‹è¿°æƒåˆ©ï¼š\næ ¹æ®ä½¿ç”¨çš„éœ€è¦æŠŠè½¯ä»¶è£…å…¥è®¡ç®—æœºç­‰èƒ½å­˜å‚¨ä¿¡æ¯çš„è£…ç½®å†…ã€‚ æ ¹æ®éœ€è¦è¿›è¡Œå¿…è¦çš„å¤åˆ¶ã€‚ ä¸ºäº†é˜²æ­¢å¤åˆ¶å“æŸåè€Œåˆ¶ä½œå¤‡ä»½å¤åˆ¶å“ï¼ˆä¸èƒ½ç»™ä»–äººä½¿ç”¨ï¼‰ã€‚ ä¸ºäº†æŠŠè¯¥è½¯ä»¶ç”¨äºå®é™…çš„è®¡ç®—æœºåº”ç”¨ç¯å¢ƒæˆ–è€…æ”¹è¿›å…¶åŠŸèƒ½æ€§èƒ½è€Œè¿›è¡Œå¿…è¦çš„ä¿®æ”¹ã€‚ ä¿æŠ¤æœŸ è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒçš„æƒåˆ©è‡ªè½¯ä»¶å¼€å‘å®Œæˆä¹‹æ—¥èµ·äº§ç”Ÿï¼Œä¿æŠ¤æœŸä¸º50å¹´ã€‚ä¿æŠ¤æœŸæ»¡ï¼Œé™¤å¼€å‘è€…èº«ä»½æƒä»¥å¤–ï¼Œå…¶ä»–æƒåˆ©ç»ˆæ­¢ã€‚\nä¸€æ—¦è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒè¶…å‡ºä¿æŠ¤æœŸï¼Œè½¯ä»¶å°±è¿›å…¥å…¬æœ‰é¢†åŸŸã€‚è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒäººçš„å•ä½ç»ˆæ­¢å’Œè®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒäººçš„å…¬æ°‘æ­»äº¡å‡æ— åˆæ³•ç»§æ‰¿äººæ—¶ï¼Œé™¤å¼€å‘è€…èº«ä»½æƒä»¥å¤–ï¼Œè¯¥è½¯ä»¶çš„å…¶ä»–æƒåˆ©è¿›å…¥å…¬æœ‰é¢†åŸŸã€‚è½¯ä»¶è¿›å…¥å…¬æœ‰é¢†åŸŸåæˆä¸ºç¤¾ä¼šå…¬å…±è´¢å¯Œï¼Œå…¬ä¼—å¯æ— å¿ä½¿ç”¨ã€‚\nèŒåŠ¡ä½œå“ èŒåŠ¡è½¯ä»¶ä½œå“æ˜¯æŒ‡å…¬æ°‘åœ¨å•ä½ä»»èŒæœŸé—´ä¸ºçƒ­è¡Œæœ¬å•ä½å·¥ä½œä»»åŠ¡æ‰€å¼€å‘çš„è®¡ç®—æœºè½¯ä»¶ä½œå“ã€‚\næ ¹æ®ã€Šè®¡ç®—æœºè½¯ä»¶ä¿æŠ¤æ¡ä¾‹ã€‹å¯ä»¥åˆ¤æ–­è½¯ä»¶ä½œå“çš„å½’å±ã€‚\næ„æˆèŒåŠ¡è½¯ä»¶ä½œå“çš„æ¡ä»¶ï¼š\nå…¬æ°‘åœ¨å•ä½ä»»èŒæœŸé—´æ‰€å¼€å‘çš„è½¯ä»¶å¦‚æœæ˜¯æ‰§è¡Œæœ¬èŒå·¥ä½œçš„ç»“æœï¼Œå³é’ˆå¯¹æœ¬èŒå·¥ä½œä¸­æ˜ç¡®æŒ‡å®šçš„å¼€å‘ç›®æ ‡æ‰€å¼€å‘çš„ï¼Œåˆ™è¯¥è½¯ä»¶çš„è‘—ä½œæƒå±äºè¯¥å•ä½ã€‚ å½“å…¬æ°‘ä½œä¸ºæŸå•ä½çš„é›‡å‘˜æ—¶ï¼Œå¦‚å…¶å¼€å‘çš„è½¯ä»¶å±äºæ‰§è¡Œæœ¬èŒå·¥ä½œçš„ç»“æœï¼Œè¯¥è½¯ä»¶è‘—ä½œæƒåº”å½“å½’å•ä½äº«æœ‰ã€‚ å¦‚æœè¯¥é›‡å‘˜ä¸»è¦ä½¿ç”¨äº†å•ä½çš„è®¾å¤‡ï¼Œè‘—ä½œæƒä¸èƒ½å±äºè¯¥é›‡å‘˜ä¸ªäººäº«æœ‰ã€‚ å¦‚æœè½¯ä»¶ä½œå“å±äºèŒåŠ¡è½¯ä»¶ä½œå“ï¼Œé‚£å¼€å‘è€…åªæœ‰ç½²åæƒã€‚\næ„æˆéèŒåŠ¡è½¯ä»¶ï¼ˆä¸ªäººï¼‰ä½œå“çš„æ¡ä»¶ï¼š\næ‰€å¼€å‘çš„è½¯ä»¶ä½œå“ä¸æ˜¯æ‰§è¡Œå…¶æœ¬èŒå·¥ä½œçš„ç»“æœã€‚\nè‹¥é›‡å‘˜å¼€å‘åˆ›ä½œçš„è½¯ä»¶ä¸æ˜¯æ‰§è¡Œæœ¬èŒå·¥ä½œçš„ç»“æœï¼Œåˆ™æ„æˆéèŒåŠ¡è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒçš„æ¡ä»¶ä¹‹ä¸€ã€‚\nå¼€å‘çš„è½¯ä»¶ä½œå“ä¸å¼€å‘è€…åœ¨å•ä½ä¸­ä»äº‹çš„å·¥ä½œå†…å®¹æ— ç›´æ¥è”ç³»ã€‚\né›‡å‘˜æ‰€å¼€å‘çš„è½¯ä»¶ä½œå“ä¸å…¶æœ¬èŒå·¥ä½œæ²¡æœ‰ç›´æ¥çš„å…³ç³»ï¼Œåˆ™æ„æˆéèŒåŠ¡è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒçš„ç¬¬äºŒä¸ªæ¡ä»¶ã€‚\nå¼€å‘çš„è½¯ä»¶ä½œå“æœªä½¿ç”¨å•ä½çš„ç‰©è´¨æŠ€æœ¯æ¡ä»¶ã€‚\nå¼€å‘è½¯ä»¶ä½œå“æ‰€å¿…é¡»çš„è®¾å¤‡ã€æ•°æ®ã€èµ„é‡‘å’Œå…¶ä»–è½¯ä»¶å¼€å‘ç¯å¢ƒï¼Œä¸å±äºé›‡å‘˜æ‰€åœ¨çš„å•ä½æ‰€æœ‰ã€‚æ²¡æœ‰ä½¿ç”¨å—é›‡å•ä½çš„ä»»ä½•ç‰©è´¨æŠ€æœ¯æ¡ä»¶æ„æˆéèŒåŠ¡è½¯ä»¶è‘—ä½œæƒçš„ç¬¬ä¸‰ä¸ªæ¡ä»¶ã€‚\nå§”æ‰˜å¼€å‘ å§”æ‰˜å¼€å‘çš„è½¯ä»¶ä½œå“å±äºè‘—ä½œæƒæ³•è§„å®šçš„å§”æ‰˜è½¯ä»¶ä½œå“ã€‚å§”æ‰˜å¼€å‘è½¯ä»¶ä½œå“è‘—ä½œæƒå…³ç³»çš„å»ºç«‹ï¼Œä¸€èˆ¬ç”±å§”æ‰˜æ–¹ä¸å—å§”æ‰˜æ–¹è®¢ç«‹åˆåŒè€Œæˆç«‹ã€‚\nå§”æ‰˜å¼€å‘è½¯ä»¶ä½œå“å…³ç³»ä¸­ï¼š\nå§”æ‰˜æ–¹ï¼šä¸»è¦è´£ä»»æ˜¯æä¾›èµ„é‡‘ã€è®¾å¤‡ç­‰ç‰©è´¨æ¡ä»¶ï¼Œå¹¶ä¸ç›´æ¥å‚ä¸å¼€å‘è½¯ä»¶ä½œå“çš„åˆ›ä½œå¼€å‘æ´»åŠ¨ã€‚ å—æ‰˜æ–¹ï¼šä¸»è¦è´£ä»»æ˜¯æ ¹æ®å§”æ‰˜åˆåŒè§„å®šçš„ç›®æ ‡å¼€å‘å‡ºç¬¦åˆæ¡ä»¶çš„è½¯ä»¶ã€‚ æ¥å—ä»–äººå§”æ‰˜å¼€å‘çš„è½¯ä»¶ï¼Œå…¶è‘—ä½œæƒçš„å½’å±ç”±å§”æ‰˜è€…ä¸å—å§”æ‰˜è€…ç­¾è®¢ä¹¦é¢åˆåŒçº¦å®šï¼šæ— ä¹¦é¢åˆåŒæˆ–è€…åˆåŒæœªä½œæ˜ç¡®çº¦å®šçš„ï¼Œå…¶è‘—ä½œæƒç”±å—æ‰˜äººäº« æœ‰ã€‚\nå§”æ‰˜å¼€å‘çš„è½¯ä»¶è‘—ä½œæƒçš„å½’å±æŒ‰ä»¥ä¸‹æ ‡å‡†ç¡®å®šï¼š\nè½¯ä»¶è‘—ä½œæƒçš„å½’å±åº”å½“æ ¹æ®å§”æ‰˜å¼€å‘è½¯ä»¶çš„åˆåŒæ¥ç¡®å®šã€‚ è‹¥æ²¡æœ‰ç­¾è®¢ä¹¦é¢åè®®ï¼Œæˆ–è€…åœ¨åè®®ä¸­æœªå¯¹è½¯ä»¶è‘—ä½œæƒå½’å±ä½œå‡ºæ˜ç¡®çš„çº¦å®šï¼Œåˆ™è½¯ä»¶è‘—ä½œæƒå±äºå—å§”æ‰˜è€…ï¼Œå³å±äºå®é™…å®Œæˆè½¯ä»¶çš„å¼€å‘è€…ã€‚ ä¾µæƒè¡Œä¸º è®¡ç®—æœºè½¯ä»¶è‘—ä½œæƒä¾µæƒè¡Œä¸ºï¼š\næœªç»è½¯ä»¶è‘—ä½œæƒäººçš„åŒæ„è€Œå‘è¡¨æˆ–è€…ç™»è®°å…¶è½¯ä»¶ä½œå“ã€‚\nä¾µçŠ¯è‘—ä½œæƒäººçš„å‘è¡¨æƒã€‚\nå°†ä»–äººå¼€å‘çš„è½¯ä»¶å½“ä½œè‡ªå·±çš„ä½œå“å‘è¡¨æˆ–è€…ç™»è®°ã€‚\nä¾µçŠ¯å¼€å‘è€…èº«ä»½æƒå’Œç½²åæƒã€‚\næœªç»åˆä½œè€…çš„åŒæ„å°†ä¸ä»–äººåˆä½œå¼€å‘çš„è½¯ä»¶å½“ä½œè‡ªå·±ç‹¬ç«‹å®Œæˆçš„ä½œå“å‘è¡¨æˆ–è€…ç™»è®°ã€‚\nåˆä½œå¼€å‘çš„è½¯ä»¶ï¼Œè½¯ä»¶ä½œå“çš„å‘è¡¨æƒä¹Ÿåº”ç”±å…¨ä½“å¼€å‘è€…å…±åŒè¡Œä½¿ã€‚\nåœ¨ä»–äººå¼€å‘çš„è½¯ä»¶ä¸Šç½²åæˆ–è€…æ›´æ”¹ä»–äººå¼€å‘çš„è½¯ä»¶ä¸Šçš„ç½²åã€‚\nä¾µçŠ¯äº†è½¯ä»¶è‘—ä½œäººçš„å¼€å‘è€…èº«ä»½æƒåŠç½²åæƒã€‚\næœªç»è½¯ä»¶è‘—ä½œæƒäººæˆ–è€…å…¶åˆæ³•å—è®©è€…çš„è®¸å¯ï¼Œä¿®æ”¹ã€ç¿»è¯‘å…¶è½¯ä»¶ä½œå“ã€‚\nä¾µçŠ¯äº†è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„ä½¿ç”¨æƒä¸­çš„ä¿®æ”¹æƒã€ç¿»è¯‘æƒã€‚\nå¦‚æœå¾å¾—è½¯ä»¶ä½œå“è‘—ä½œäººçš„åŒæ„ï¼Œä¿®æ”¹å’Œæ”¹å–„æ–°å¢åŠ çš„éƒ¨åˆ†ï¼Œåˆ›ä½œè€…åº”äº«æœ‰è‘—ä½œæƒã€‚\næœªç»è½¯ä»¶è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„è®¸å¯ï¼Œå¤åˆ¶æˆ–éƒ¨åˆ†å¤åˆ¶å…¶è½¯ä»¶ä½œå“ã€‚\nä¾µçŠ¯äº†è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„ä½¿ç”¨æƒä¸­çš„å¤åˆ¶æƒã€‚\næœªç»è½¯ä»¶è‘—ä½œæƒäººåŠå…¶åˆæ³•å—è®©è€…åŒæ„ï¼Œå‘å…¬ä¼—å‘è¡Œã€å‡ºç§Ÿå…¶è½¯ä»¶çš„å¤åˆ¶å“ã€‚\næ­¤ç§è¡Œä¸ºä¾µçŠ¯äº†è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„å‘è¡Œæƒä¸å‡ºç§Ÿæƒã€‚\næœªç»è½¯ä»¶è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…åŒæ„ï¼Œå‘ä»»ä½•ç¬¬ä¸‰æ–¹åŠç†è½¯ä»¶æƒåˆ©è®¸å¯æˆ–è½¬è®©äº‹å®œã€‚\nä¾µçŠ¯äº†è½¯ä»¶è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„ä½¿ç”¨è®¸å¯æƒå’Œè½¬è®©æƒã€‚\næœªç»è½¯ä»¶è‘—ä½œæƒäººåŠå…¶åˆæ³•å—è®©è€…åŒæ„ï¼Œé€šè¿‡ä¿¡æ¯ç½‘ç»œä¼ æ’­è‘—ä½œæƒäººçš„è½¯ä»¶ã€‚\nä¾µçŠ¯äº†è½¯ä»¶è‘—ä½œæƒäººæˆ–å…¶åˆæ³•å—è®©è€…çš„ä¿¡æ¯ç½‘ç»œä¼ æ’­æƒã€‚\nå•†ä¸šç§˜å¯†æƒ å•†ä¸šç§˜å¯†çš„å®šä¹‰ï¼šâ€œæŒ‡ä¸ä¸ºå…¬ä¼—æ‰€çŸ¥æ‚‰çš„ã€èƒ½ä¸ºæƒåˆ©äººå¸¦æ¥ç»æµåˆ©ç›Šã€å…·æœ‰å®ç”¨æ€§å¹¶ç»æƒåˆ©äººé‡‡å–ä¿å¯†æªæ–½çš„æŠ€æœ¯ä¿¡æ¯å’Œç»è¥ä¿¡æ¯â€ã€‚\nå•†ä¸šç§˜å¯†çš„åŸºæœ¬å†…å®¹ï¼š\nç»è¥ç§˜å¯†ï¼šæœªå…¬å¼€çš„ç»è¥ä¿¡æ¯ï¼Œæ˜¯æŒ‡ä¸ç”Ÿäº§ç»è¥é”€å”®æ´»åŠ¨æœ‰å…³çš„ç»è¥æ–¹æ³•ã€ ç®¡ç†æ–¹æ³•ã€äº§é”€ç­–ç•¥ã€è´§æºæƒ…æŠ¥ã€å®¢æˆ·åå•ã€æ ‡åº•å’Œæ ‡ä¹¦å†…å®¹ç­‰ä¸“æœ‰çŸ¥è¯†ã€‚ æŠ€æœ¯ç§˜å¯†ï¼šæœªå…¬å¼€çš„æŠ€æœ¯ä¿¡æ¯ï¼Œæ˜¯æŒ‡ä¸äº§å“ç”Ÿäº§å’Œåˆ¶é€ æœ‰å…³çš„æŠ€æœ¯è¯€çªã€ç”Ÿäº§æ–¹æ¡ˆã€å·¥è‰ºæµç¨‹ã€è®¾è®¡å›¾çº¸ã€åŒ–å­¦é…æ–¹å’ŒæŠ€æœ¯æƒ…æŠ¥ç­‰ä¸“æœ‰çŸ¥è¯†ã€‚ å•†ä¸šç§˜å¯†çš„æ„æˆæ¡ä»¶ï¼š\nå¿…é¡»å…·æœ‰æœªå…¬å¼€æ€§ï¼Œå³ä¸ä¸ºå…¬ä¼—æ‰€çŸ¥æ‚‰ï¼› å¿…é¡»å…·æœ‰å®ç”¨æ€§ï¼Œå³èƒ½ä¸ºæƒåˆ©äººå¸¦æ¥ç»æµæ•ˆç›Šï¼› å¿…é¡»å…·æœ‰ä¿å¯†æ€§ï¼Œå³é‡‡å–äº†ä¿å¯†æªæ–½ã€‚ å•†ä¸šç§˜å¯†çš„ä¸§å¤±ï¼šä¸€é¡¹å•†ä¸šç§˜å¯†å—åˆ°æ³•å¾‹ä¿æŠ¤çš„ä¾æ®æ˜¯å¿…é¡»å…·å¤‡ä¸Šè¿°æ„æˆå•†ä¸šç§˜å¯†çš„3ä¸ªæ¡ä»¶ï¼Œå½“ç¼ºå°‘ä¸Šè¿°3ä¸ªæ¡ä»¶ä¹‹ä¸€æ—¶å°±ä¼šé€ æˆå•†ä¸šç§˜å¯†ä¸§å¤±ä¿æŠ¤ã€‚\nä¸“åˆ©æƒ ä¸“åˆ©ç”³è¯·çš„åŸåˆ™ï¼š\nä¸“åˆ©ç”³è¯·äººåŠå…¶ä»£ç†äººåœ¨åŠç†å„ç§æ‰‹ç»­æ—¶éƒ½åº”å½“é‡‡ç”¨ä¹¦é¢å½¢å¼ã€‚ éµå¾ªâ€œä¸€ä»½ç”³è¯·ä¸€é¡¹å‘æ˜â€åŸåˆ™ã€‚ å¤šäººå°±åŒæ ·çš„å‘æ˜åˆ›é€ ç”³è¯·ä¸“åˆ©çš„ï¼Œä¸“åˆ©æƒæˆç»™æœ€å…ˆç”³è¯·äººã€‚ ç›¸åŒçš„å‘æ˜ï¼Œå¤šäººåŒæ—¶ç”³è¯·ï¼Œç”±æ‰€æœ‰ç”³è¯·äººåå•†ç¡®å®šä¸“åˆ©æƒå½’å±ã€‚ ä¸“åˆ©çš„æ—¶é™ï¼ˆå‡è‡ªç”³æƒ…æ—¥èµ·è®¡ç®—ï¼‰ï¼š\nå‘æ˜ä¸“åˆ©æƒ 20å¹´ å®ç”¨æ–°å‹ä¸“åˆ©æƒ 10å¹´ å¤–è§‚è®¾è®¡ä¸“åˆ©æƒ 15å¹´ å•†æ ‡æƒ å•†æ ‡æƒä¿æŠ¤æœŸé™è‡ªæ ¸å‡†æ³¨å†Œä¹‹æ—¥èµ·10å¹´å†…æœ‰æ•ˆã€‚\nå•†æ ‡æƒä¿æŠ¤æœŸé™å¯ä»¥æ ¹æ®å…¶æ‰€æœ‰äººçš„éœ€è¦æ— é™åœ°å»¶é•¿æƒåˆ©æœŸé™ã€‚\nåœ¨æœŸé™å±Šæ»¡å‰6ä¸ªæœˆå†…ç”³è¯·ç»­å±•æ³¨å†Œï¼Œæ¯æ¬¡ç»­å±•æ³¨å†Œçš„æœ‰æ•ˆæœŸä¸º10å¹´ï¼Œç»­å±•æ³¨å†Œçš„æ¬¡æ•°ä¸é™ã€‚\nå¦‚æœå•†æ ‡æƒäººé€¾æœŸä¸åŠç†ç»­å±•æ³¨å†Œï¼Œå…¶å•†æ ‡æƒä¹Ÿå°†ç»ˆæ­¢ã€‚\nå•†æ ‡æƒæ³¨å†Œå…ˆç”³è¯·æ³¨å†Œå…ˆå¾—ï¼ŒåŒä¸€å¤©ç”³è¯·å…ˆä½¿ç”¨å•†æ ‡å…ˆå¾—ï¼Œéƒ½æ²¡ä½¿ç”¨è¿‡åˆ™åå•†ã€‚\n","date":"2023å¹´4æœˆ15æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/%E7%9F%A5%E8%AF%86%E4%BA%A7%E6%9D%83/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"}],"timestamp":1681532975,"title":"çŸ¥è¯†äº§æƒç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ¦‚è¿° è®¡ç®—æœºç³»ç»Ÿç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š\nç¡¬ä»¶ è½¯ä»¶ é€šå¸¸æŠŠæœªé…ç½®è½¯ä»¶çš„è®¡ç®—æœºç§°ä¸ºè£¸æœºã€‚\næ“ä½œç³»ç»Ÿï¼ˆOperating Systemï¼‰ç›®çš„æ˜¯ä¸ºäº†å¡«è¡¥äººä¸æœºå™¨ä¹‹é—´çš„é¸¿æ²Ÿï¼Œå³å»ºç«‹ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£ï¼Œè€Œä¸ºè£¸æœºé…ç½®çš„ä¸€ç§ç³»ç»Ÿè½¯ä»¶ã€‚\næ“ä½œç³»ç»Ÿä¹ŸåŒ…æ‹¬äº†ç³»ç»Ÿè½¯ä»¶ã€‚\næ“ä½œç³»ç»Ÿåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­çš„åœ°ä½ï¼š\næ“ä½œç³»ç»Ÿæ˜¯ç”¨æˆ·ä¸è®¡ç®—æœºä¹‹é—´çš„æ¥å£ï¼Œå®ƒåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­å æ®é‡è¦è€Œç‰¹æ®Šçš„åœ°ä½ï¼Œæ‰€æœ‰å…¶ä»–è½¯ä»¶ï¼Œå¦‚ç¼–è¾‘ç¨‹åºã€æ±‡ç¼–ç¨‹åºã€ç¼–è¯‘ç¨‹åºã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç­‰ç³»ç»Ÿè½¯ä»¶ï¼Œä»¥åŠå¤§é‡çš„åº”ç”¨è½¯ä»¶éƒ½æ˜¯å»ºç«‹åœ¨æ“ä½œç³»ç»ŸåŸºç¡€ä¸Šçš„ï¼Œå¹¶å¾—åˆ°å®ƒçš„æ”¯æŒå’Œå–å¾—å®ƒçš„æœåŠ¡ã€‚\nè¿›ç¨‹ç®¡ç† è¿›ç¨‹ç®¡ç†ä¹Ÿç§°å¤„ç†æœºç®¡ç†ã€‚åœ¨å¤šé“ç¨‹åºæ‰¹å¤„ç†ç³»ç»Ÿå’Œåˆ†æ—¶ç³»ç»Ÿä¸­æœ‰å¤šä¸ªå¹¶å‘æ‰§è¡Œçš„ç¨‹åºï¼Œä¸ºäº†æè¿°ç³»ç»Ÿä¸­ç¨‹åºæ‰§è¡Œæ—¶åŠ¨æ€å˜åŒ–çš„è¿‡ç¨‹å¼•å…¥äº†è¿›ç¨‹ã€‚è¿›ç¨‹æ˜¯èµ„æºåˆ†é…å’Œç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚\nè¿›ç¨‹æœ‰ä¸¤ä¸ªåŸºæœ¬å±æ€§ï¼š\nå¯æ‹¥æœ‰èµ„æºçš„ç‹¬ç«‹å•ä½ï¼› å¯ç‹¬ç«‹è°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ã€‚ ç¨‹åºæ‰§è¡Œé¡ºåº ç¨‹åºé¡ºåºæ‰§è¡Œ å‰é©±å›¾æ˜¯ä¸€ç§æœ‰å‘æ— å¾ªç¯å›¾ï¼Œç”±ç»“ç‚¹å’Œæœ‰å‘è¾¹ç»„æˆï¼š\nç»“ç‚¹ï¼šä»£è¡¨å„ç¨‹åºæ®µçš„æ“ä½œï¼› æœ‰å‘è¾¹ï¼šè¡¨ç¤ºä¸¤ä¸ªç¨‹åºæ®µï¼ˆç»“ç‚¹ï¼‰æ“ä½œä¹‹é—´å­˜åœ¨çš„å‰é©±å…³ç³»ï¼ˆ$\\rightarrow$ï¼‰ã€‚ å‰é©±å…³ç³»ï¼š\nç¨‹åºæ®µ$P_i$å’Œ$P_j$çš„å‰è¶‹å…³ç³»è¡¨ç¤ºæˆ$P_i \\rightarrow P_j$ï¼Œå…¶ä¸­ï¼Œ$P_i$æ˜¯$P_j$çš„å‰é©±ï¼Œ$P_j$æ˜¯$P_i$çš„åç»§ï¼Œå…¶å«ä¹‰æ˜¯ï¼š\n$P_i$æ‰§è¡Œç»“æŸå$P_j$æ‰èƒ½æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œè¾“å…¥ã€è®¡ç®—å’Œè¾“å‡ºï¼š\nç¨‹åºé¡ºåºæ‰§è¡Œæ—¶çš„ä¸»è¦ç‰¹å¾åŒ…æ‹¬ï¼š\né¡ºåºæ€§ å°é—­æ€§ å¯å†ç°æ€§ ç¨‹åºå¹¶å‘æ‰§è¡Œ è‹¥åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­é‡‡ç”¨å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œåˆ™ä¸»å­˜ä¸­çš„å¤šé“ç¨‹åºå¯å¤„äºå¹¶å‘æ‰§è¡ŒçŠ¶æ€ã€‚\nè™½ç„¶æ¯ä¸ªä½œä¸šæœ‰å‰è¶‹å…³ç³»çš„å„ç¨‹åºæ®µä¸èƒ½åœ¨CPUå’Œè¾“å…¥/è¾“å‡ºå„éƒ¨ä»¶ï¼ˆåŒä¸€ä¸ªéƒ¨ä»¶ï¼‰ä¸­å¹¶è¡Œæ‰§è¡Œï¼Œä½†æ˜¯åŒä¸€ä¸ªä½œä¸šå†…æ²¡æœ‰å‰è¶‹å…³ç³»çš„ç¨‹åºæ®µæˆ–ä¸åŒä½œä¸šçš„ç¨‹åºæ®µå¯ä»¥åˆ†åˆ«åœ¨CPUå’Œå„è¾“å…¥/è¾“å‡ºéƒ¨ä»¶ä¸Šï¼ˆä¸åŒéƒ¨ä»¶ä¸­ï¼‰å¹¶è¡Œæ‰§è¡Œã€‚\nä¾‹å¦‚ï¼ŒæŸç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªCPUã€ä¸€å°è¾“å…¥è®¾å¤‡å’Œä¸€å°è¾“å‡ºè®¾å¤‡ï¼Œæ¯ä¸ªä½œä¸šå…·æœ‰3ä¸ªç¨‹åºæ®µè¾“å…¥Iiã€è®¡ç®—Ciå’Œè¾“å‡ºPiï¼ˆi = 1ï¼Œ2ï¼Œ3ï¼‰ã€‚å…¶å‰é©±å›¾å¦‚ï¼ˆå…¶ä¸­ï¼Œåœ¨åŒä¸€å‚ç›´æ–¹å‘ä¸Šçš„ä½œä¸šå¹¶è¡Œæ‰§è¡Œï¼‰ï¼š\nç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶çš„ç‰¹å¾ï¼š\nå¤±å»äº†ç¨‹åºçš„å°é—­æ€§ï¼› ç¨‹åºå’Œæœºå™¨çš„æ‰§è¡Œç¨‹åºçš„æ´»åŠ¨ä¸å†ä¸€ä¸€å¯¹åº”ï¼› å¹¶å‘ç¨‹åºé—´çš„ç›¸äº’åˆ¶çº¦æ€§ã€‚ ç¨‹åºå¹¶å‘æ‰§è¡Œå¸¦æ¥çš„é—®é¢˜ï¼šå¹¶å‘ç¨‹åºé—´å…±äº«äº†å˜é‡ï¼Œç ´åäº†ç¨‹åºçš„å°é—­æ€§å’Œå¯å†ç°æ€§ã€‚\nå¹¶å‘ç¨‹åºçš„é—®é¢˜å¯ä»¥é€šè¿‡ç ”ç©¶è¿›ç¨‹é—´çš„åŒæ­¥å’Œäº’æ–¥è§£å†³ã€‚\nè¿›ç¨‹çš„ä¸‰æ€æ¨¡å‹ åœ¨å¤šé“ç¨‹åºç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹åœ¨å¤„ç†å™¨ä¸Šäº¤æ›¿è¿è¡Œï¼ŒçŠ¶æ€ä¹Ÿä¸æ–­åœ°å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤è¿›ç¨‹ä¸€èˆ¬æœ‰3ç§åŸºæœ¬çŠ¶æ€ï¼š\nè¿è¡Œï¼šå½“ä¸€ä¸ªè¿›ç¨‹åœ¨å¤„ç†æœºä¸Šè¿è¡Œæ—¶ã€‚ å°±ç»ªï¼šä¸€ä¸ªè¿›ç¨‹è·å¾—äº†é™¤å¤„ç†æœºå¤–çš„ä¸€åˆ‡æ‰€éœ€èµ„æºï¼Œä¸€æ—¦å¾—åˆ°å¤„ç†æœºå³å¯è¿è¡Œï¼ˆè¿˜æœªå¾—åˆ°ï¼‰ã€‚ é˜»å¡ï¼ˆç­‰å¾…æˆ–ç¡çœ ï¼‰ï¼šä¸€ä¸ªè¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸€äº‹ä»¶å‘ç”Ÿè€Œæš‚æ—¶åœæ­¢è¿è¡Œï¼Œè¿™æ—¶å³ä½¿æŠŠå¤„ç†æœºåˆ†é…ç»™è¿›ç¨‹ä¹Ÿæ— æ³•è¿è¡Œã€‚ è¿›ç¨‹é—´çš„é€šä¿¡ åœ¨å¤šé“ç¨‹åºç¯å¢ƒçš„ç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªå¯ä»¥å¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹ï¼Œæ•…è¿›ç¨‹é—´å¿…ç„¶å­˜åœ¨èµ„æºå…±äº«å’Œç›¸äº’åˆä½œçš„é—®é¢˜ã€‚è¿›ç¨‹é€šä¿¡æ˜¯æŒ‡å„ä¸ªè¿›ç¨‹äº¤æ¢ä¿¡æ¯çš„è¿‡ç¨‹ã€‚\nåŒæ­¥å’Œäº’æ–¥ åŒæ­¥ï¼šåˆä½œè¿›ç¨‹é—´çš„ç›´æ¥åˆ¶çº¦é—®é¢˜ã€‚\nè¿›ç¨‹é—´çš„åŒæ­¥ï¼šæ˜¯æŒ‡åœ¨ç³»ç»Ÿä¸­ä¸€äº›éœ€è¦ç›¸äº’åˆä½œï¼ŒååŒå·¥ä½œçš„è¿›ç¨‹ï¼Œè¿™æ ·çš„ç›¸äº’è”ç³»ç§°ä¸ºè¿›ç¨‹çš„åŒæ­¥ã€‚\nä¾‹å¦‚ï¼Œè¿›ç¨‹Aå‘ç¼“å†²åŒºé€æ•°æ®ï¼Œè¿›ç¨‹Bä»ç¼“å†²åŒºå–æ•°æ®åŠ å·¥ï¼Œå½“è¿›ç¨‹Bè¦å–æ•°æ®åŠ å·¥æ—¶ï¼Œå¿…é¡»æ˜¯è¿›ç¨‹Aå®Œæˆäº†å‘ç¼“å†²åŒºé€æ•°æ®çš„æ“ä½œï¼Œå¦åˆ™è¿›ç¨‹Bå¿…é¡»åœä¸‹æ¥ç­‰å¾…è¿›ç¨‹Açš„æ“ä½œç»“æŸã€‚\näº’æ–¥ï¼šç”³è¯·ä¸´ç•Œèµ„æºè¿›ç¨‹é—´çš„é—´æ¥åˆ¶çº¦é—®é¢˜ã€‚\nè¿›ç¨‹é—´çš„äº’æ–¥ï¼šæ˜¯æŒ‡ç³»ç»Ÿä¸­å¤šä¸ªè¿›ç¨‹å› äº‰ç”¨ä¸´ç•Œèµ„æºè€Œäº’æ–¥æ‰§è¡Œã€‚\nä¸´ç•Œèµ„æºï¼ˆCritical Resourceï¼ŒCRï¼‰ï¼šåœ¨å¤šé“ç¨‹åºç³»ç»Ÿç¯å¢ƒä¸­ï¼Œé‚£äº›ä¸€æ¬¡åªèƒ½ä¾›ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºã€‚å¦‚æ‰“å°æœºã€å…±äº«å˜é‡å’Œè¡¨æ ¼ç­‰ã€‚\nä¸´ç•ŒåŒºç®¡ç†çš„åŸåˆ™ï¼š\nä¸´ç•ŒåŒºï¼ˆCritical Sectionï¼ŒCSï¼‰ï¼šæ˜¯è¿›ç¨‹ä¸­å¯¹ä¸´ç•Œèµ„æºå®æ–½æ“ä½œçš„é‚£æ®µç¨‹åºã€‚\nå¯¹äº’æ–¥ä¸´ç•ŒåŒºç®¡ç†çš„4æ¡åŸåˆ™å¦‚ä¸‹ï¼š\næœ‰ç©ºå³è¿›ï¼šå½“æ— è¿›ç¨‹å¤„äºä¸´ç•ŒåŒºæ—¶ï¼Œå…è®¸è¿›ç¨‹è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¹¶ä¸”åªèƒ½åœ¨ä¸´ç•ŒåŒºè¿è¡Œæœ‰é™ çš„æ—¶é—´ã€‚ æ— ç©ºåˆ™ç­‰ï¼šå½“æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨ä¸´ç•ŒåŒºæ—¶ï¼Œå…¶ä»–æ¬²è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œä»¥ä¿è¯è¿›ç¨‹äº’æ–¥åœ°è®¿é—®ä¸´ç•Œèµ„æºã€‚ æœ‰é™ç­‰å¾…ï¼šå¯¹äºè¦æ±‚è®¿é—®ä¸´ç•Œèµ„æºçš„è¿›ç¨‹ï¼Œåº”ä¿è¯è¿›ç¨‹èƒ½åœ¨æœ‰é™çš„æ—¶é—´è¿›å…¥ä¸´ç•ŒåŒºï¼Œä»¥å…é™·å…¥â€œé¥¥é¥¿â€çŠ¶æ€ã€‚ è®©æƒç­‰å¾…ï¼šå½“è¿›ç¨‹ä¸èƒ½è¿›å…¥è‡ªå·±çš„ä¸´ç•ŒåŒºæ—¶ï¼Œåº”ç«‹å³é‡Šæ”¾å¤„ç†æœºï¼Œä»¥å…è¿›ç¨‹é™·å…¥å¿™ç­‰çŠ¶æ€ã€‚ ä¿¡å·é‡æœºåˆ¶ ä¿¡å·é‡æœºåˆ¶æ˜¯ä¸€ç§æœ‰æ•ˆçš„è¿›ç¨‹åŒæ­¥ä¸äº’æ–¥å·¥å…·ã€‚\nä¿¡å·é‡æœºåˆ¶ä¸»è¦æœ‰ï¼š\næ•´å‹ä¿¡å·é‡ è®°å½•å‹ä¿¡å·é‡ ä¿¡å·é‡é›†æœºåˆ¶ æ•´å‹ä¿¡å·é‡ï¼š\nä¿¡å·é‡æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œæ ¹æ®æ§åˆ¶å¯¹è±¡çš„ä¸åŒè¢«èµ‹äºˆä¸åŒçš„å€¼ã€‚ä¿¡å·é‡åˆ†ä¸ºå¦‚ä¸‹ä¸¤ç±»ï¼š\nå…¬ç”¨ä¿¡å·é‡ï¼šå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ï¼Œåˆå€¼ä¸º1æˆ–èµ„æºçš„æ•°ç›®ã€‚ ç§ç”¨ä¿¡å·é‡ï¼šå®ç°è¿›ç¨‹é—´çš„åŒæ­¥ï¼Œåˆå€¼ä¸º0æˆ–æŸä¸ªæ­£æ•´æ•°ã€‚ ä¿¡å·é‡$S$çš„ç‰©ç†æ„ä¹‰ï¼š\n$S \\ge 0$ï¼šè¡¨ç¤ºæŸèµ„æºçš„å¯ç”¨æ•°ï¼Œæ­¤æ—¶æœ‰å¯ç”¨èµ„æºï¼› $S \u0026lt; 0$ï¼šåˆ™å…¶ç»å¯¹å€¼è¡¨ç¤ºé˜»å¡é˜Ÿåˆ—ä¸­ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹æ•°ï¼Œæ­¤æ—¶æ— å¯ç”¨èµ„æºï¼Œå¹¶ä¸”æœ‰è¿›ç¨‹è¢«é˜»å¡ã€‚ PVæ“ä½œ PVæ“ä½œï¼šå®ç°è¿›ç¨‹åŒæ­¥ä¸äº’æ–¥çš„å¸¸ç”¨æ–¹æ³•ã€‚\nPæ“ä½œå’ŒVæ“ä½œæ˜¯ä½çº§é€šä¿¡åŸè¯­ï¼Œåœ¨æ‰§è¡ŒæœŸé—´ä¸å¯åˆ†å‰²ã€‚å…¶ä¸­ï¼š\nPæ“ä½œï¼ˆå‡ï¼‰ï¼šè¡¨ç¤ºç”³è¯·ä¸€ä¸ªèµ„æºï¼›\nå®šä¹‰ï¼š$S := S-1$ï¼ˆ$S$è¡¨ç¤ºä¿¡å·é‡ï¼‰ã€‚\n$S \\ge 0$ï¼šæ‰§è¡ŒPæ“ä½œçš„è¿›ç¨‹ç»§ç»­æ‰§è¡Œï¼› $S \u0026lt; 0$ï¼šæ— å¯ç”¨èµ„æºï¼Œç½®è¯¥è¿›ç¨‹ä¸ºé˜»å¡çŠ¶æ€ï¼Œå¹¶å°†å…¶æ’å…¥é˜»å¡é˜Ÿåˆ—ã€‚ Væ“ä½œï¼ˆåŠ ï¼‰ï¼šè¡¨ç¤ºé‡Šæ”¾ä¸€ä¸ªèµ„æºã€‚\nå®šä¹‰ï¼š$S := S+1$ã€‚\n$S \u0026gt; 0$ï¼šæ‰§è¡ŒVæ“ä½œçš„è¿›ç¨‹ç»§ç»­æ‰§è¡Œï¼› $S \\le 0$ï¼šè¡¨ç¤ºé‡Šæ”¾å‰æœ‰ç¨‹åºè¢«é˜»å¡ï¼Œä»é˜»å¡çŠ¶æ€å”¤é†’ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å°†å…¶æ’å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç„¶åæ‰§è¡ŒVæ“ä½œçš„è¿›ç¨‹ç»§ç»­ã€‚ På‡VåŠ ï¼ŒPè¿›Vå‡ºã€‚\nåˆ©ç”¨PVæ“ä½œå®ç°è¿›ç¨‹çš„äº’æ–¥ï¼š\nä»¤ä¿¡å·é‡mutexçš„åˆå§‹å€¼ä¸º1ï¼› è¿›å…¥ä¸´ç•ŒåŒºï¼šæ‰§è¡ŒPæ“ä½œï¼› æ¨å‡ºä¸´ç•ŒåŒºï¼šæ‰§è¡ŒVæ“ä½œã€‚ åˆ©ç”¨PVæ“ä½œå®ç°è¿›ç¨‹çš„åŒæ­¥ï¼š\nå®ç°è¿›ç¨‹çš„åŒæ­¥å¯ç”¨ä¸€ä¸ªä¿¡å·é‡ä¸æ¶ˆæ¯è”ç³»èµ·æ¥ã€‚\nä¿¡å·é‡çš„å€¼ï¼š\nä¸º0ï¼šè¡¨ç¤ºå¸Œæœ›çš„æ¶ˆæ¯æœªäº§ç”Ÿï¼› é0ï¼šè¡¨ç¤ºå¸Œæœ›çš„æ¶ˆæ¯å·²ç»å­˜åœ¨ã€‚ å‡å®šä¿¡å·é‡Sè¡¨ç¤ºæŸæ¡æ¶ˆæ¯ï¼Œè¿›ç¨‹å¯ä»¥ï¼š\nè°ƒç”¨Pæ“ä½œï¼šæµ‹è¯•æ¶ˆæ¯æ˜¯å¦åˆ°è¾¾ï¼› è°ƒç”¨Væ“ä½œï¼šé€šçŸ¥æ¶ˆæ¯å·²ç»å‡†å¤‡å¥½ã€‚ ä¾‹å¦‚ï¼š\nç”Ÿäº§è€…è¿›ç¨‹$P_1$ï¼šä¸é—´æ–­åœ°ç”Ÿäº§äº§å“é€å…¥ç¼“å†²åŒºï¼› æ¶ˆè´¹è€…è¿›ç¨‹$P_2$ï¼šä¸æ–­åœ°ä»ç¼“å†²åŒºä¸­å–äº§å“æ¶ˆè´¹ã€‚ ä¸ºå®ç°$P_1$ä¸$P_2$é—´åŒæ­¥é—®é¢˜ï¼Œåˆ†åˆ«è®¾ç½®ä¿¡å·é‡ï¼š\n$S_1$ï¼šåˆå€¼ä¸º1ï¼Œè¡¨ç¤ºç¼“å†²åŒºç©ºï¼Œå¯ä»¥å°†äº§å“é€å…¥ç¼“å†²åŒºï¼› $S_2$ï¼šåˆå€¼ä¸º0ï¼Œè¡¨ç¤ºç¼“å†²åŒºæœ‰äº§å“ã€‚ åŒæ­¥è¿‡ç¨‹å¦‚å›¾ï¼š\nè‹¥ç¼“å†²åŒºå¯å­˜æ”¾$n$ä»¶äº§å“ï¼Œç”Ÿäº§è€…ä¸æ–­ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ä¸æ–­æ¶ˆè´¹ã€‚å¯ä»¥è®¾ç½®3ä¸ªä¿¡å·é‡ï¼š\n$S$ï¼šäº’æ–¥ä¿¡å·é‡ï¼Œåˆå€¼ä¸º1ï¼› $S_1$ï¼šè¡¨ç¤ºæ˜¯å¦å¯ä»¥å°†äº§å“æ”¾å…¥ç¼“å†²åŒºï¼Œåˆå€¼ä¸º$n$ï¼› $S_2$ï¼šè¡¨ç¤ºç¼“å†²åŒºæ˜¯å¦å­˜æœ‰äº§å“ï¼Œåˆå€¼ä¸º0ã€‚ å…¶åŒæ­¥è¿‡ç¨‹å¦‚å›¾ï¼š\næ­»é”ç°è±¡ æ­»é”æ˜¯æŒ‡ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹äº’ç›¸éƒ½è¦è¯·æ±‚å¯¹æ–¹å·±ç»å æœ‰çš„èµ„æºï¼Œå¯¼è‡´è¿™äº›è¿›ç¨‹éƒ½æ— æ³•ç»§ç»­è¿è¡Œä¸‹å»çš„ç°è±¡ã€‚\näº§ç”Ÿæ­»é”çš„åŸå› æœ‰ï¼š\nè¿›ç¨‹é—´äº’ç›¸ç«äº‰èµ„æºï¼š\nå¤šä¸ªè¿›ç¨‹æ‰€å…±äº«çš„èµ„æºä¸è¶³ä»¥æ»¡è¶³å®ƒä»¬çš„éœ€æ±‚æ—¶ï¼Œå°†å¼•èµ·å®ƒä»¬å¯¹èµ„æºçš„ç«äº‰ï¼Œä»è€Œå¯¼è‡´æ­»é”ã€‚\nè¿›ç¨‹æ¨è¿›é¡ºåºéæ³•ï¼š\nè¿›ç¨‹åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­è¯·æ±‚å’Œé‡Šæ”¾èµ„æºçš„é¡ºåºä¸å½“ï¼Œä»è€Œå¯¼è‡´æ­»é”ã€‚\näº§ç”Ÿæ­»é”çš„4ä¸ªå¿…è¦æ¡ä»¶ï¼š\näº’æ–¥æ¡ä»¶ è¯·æ±‚ä¿æŒæ¡ä»¶ ä¸å¯å‰¥å¤ºæ¡ä»¶ ç¯è·¯æ¡ä»¶ å‘ç”Ÿæ­»é”æ—¶ï¼Œåœ¨è¿›ç¨‹èµ„æºæœ‰å‘å›¾ä¸­å¿…æ„æˆç¯è·¯ï¼ˆæ¯ä¸ªè¿›ç¨‹å æœ‰äº†ä¸‹ä¸€ä¸ªè¿›ç¨‹ç”³è¯·çš„ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºï¼‰ï¼Œå¦‚ï¼š\nèµ„æºï¼šç”¨æ–¹æ¡†è¡¨ç¤ºèµ„æºçš„é›†åˆï¼Œæ–¹æ¡†ä¸­çš„åœ†åœˆè¡¨ç¤ºèµ„æºï¼›\nè¿›ç¨‹ï¼šç”¨åœ†åœˆè¡¨ç¤ºï¼›\næœ‰å‘è¾¹ï¼š\nè¯·æ±‚èµ„æºï¼šç®­å¤´ç”±è¿›ç¨‹æŒ‡å‘èµ„æº\n$$ \\bigcirc \\rightarrow \\Box $$\nåˆ†é…èµ„æºï¼šç®­å¤´ç”±èµ„æºæŒ‡å‘è¿›ç¨‹\n$$ \\bigcirc \\leftarrow \\Box $$\né€ æˆæ­»é”çš„æƒ…å†µæœ‰ï¼š\nè¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“ï¼š\nè®¾æœ‰ä¸¤ä¸ªäº’æ–¥èµ„æº$A$å’Œ$B$è¢«ä¸¤ä¸ªå¹¶å‘æ‰§è¡Œçš„è¿›ç¨‹$P_1$å’Œ$P_2$å…±äº«ã€‚å‡å¦‚å®ƒä»¬æŒ‰ç…§å¦‚ä¸‹æ¬¡åºè¯·æ±‚ï¼Œåˆ™ç³»ç»Ÿä¼šå‘ç”Ÿæ­»é”ï¼š\n$P_1.Request(A)$ï¼šè¯·æ±‚æˆåŠŸï¼Œèµ„æº$A$è¢«$P_1$å ç”¨ï¼› $P_2.Request(B)$ï¼šè¯·æ±‚æˆåŠŸï¼Œèµ„æº$B$è¢«$P_2$å ç”¨ï¼› $P_1.Request(B)$ï¼šè¯·æ±‚å¤±è´¥ï¼Œèµ„æº$B$å·²è¢«$P_2$å ç”¨ï¼› $P_2.Request(A)$ï¼šè¯·æ±‚å¤±è´¥ï¼Œèµ„æº$A$å·²è¢«$P_1$å ç”¨ã€‚ ä¸Šè¿°è¯·æ±‚é¡ºåºä¸­ï¼Œ1å’Œ2çš„é¡ºåºå¯ä»¥äº¤æ¢ï¼Œ3å’Œ4çš„é¡ºåºå¯ä»¥äº¤æ¢ã€‚\nåŒç±»èµ„æºåˆ†é…ä¸å½“ï¼š\n$m$ï¼šèµ„æºæ•°ï¼Œ $n$ï¼šè¿›ç¨‹æ•°ï¼Œ $k$ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½è¦æ±‚çš„èµ„æºæ•°ã€‚ è‹¥æ»¡è¶³$m \\ge n \\times (k-1) + 1$ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ­»é”ã€‚\nè‹¥æ¯ä¸ªè¿›ç¨‹è¦æ±‚çš„èµ„æºæ•°ä¸åŒï¼Œä¸º$k_i$ï¼ˆ$i = 1,2,\\cdots,n$ï¼‰ï¼Œé‚£ä¹ˆæ­¤æ—¶å¯èƒ½ä¼šå¼•èµ·æ­»é”çš„åŸå› æ˜¯ï¼š\n$$ m \u0026lt; \\sum_{i=1}^{n}{k_i} $$\nPVæ“ä½œä½¿ç”¨ä¸å½“ï¼š\nå¦‚å›¾ï¼š\nå½“ä¿¡å·é‡$S_1=S_2=0$æ—¶å°†å‘ç”Ÿæ­»é”ã€‚\n$P_2.P(S_2)$ï¼šæ‰§è¡Œå‰$S_2 = 0$ï¼Œæ‰§è¡Œå$S_2 = -1$ï¼Œ$P_2$ç­‰å¾…ï¼› $P_1.P(S_1)$ï¼šæ‰§è¡Œå‰$S_1 = 0$ï¼Œæ‰§è¡Œå$S_1 = -1$ï¼Œ$P_1$ç­‰å¾…ã€‚ æ­¤æ—¶$P_1$å’Œ$P_2$éƒ½æ— æ³•ç»§ç»­è¿è¡Œï¼Œé€ æˆæ­»é”ã€‚\næ­»é”çš„å¤„ç† æ­»é”çš„å¤„ç†ç­–ç•¥ä¸»è¦æœ‰4ç§ï¼š\né¸µé¸Ÿç­–ç•¥ï¼ˆä¸ç†ç¬ç­–ç•¥ï¼‰ é¢„é˜²ç­–ç•¥ é¿å…ç­–ç•¥ æ£€æµ‹ä¸è§£é™¤æ­»é” æ­»é”é¢„é˜²ï¼š\næ­»é”é¢„é˜²æ˜¯é‡‡ç”¨æŸç§ç­–ç•¥é™åˆ¶å¹¶å‘è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚ï¼Œç ´åæ­»é”äº§ç”Ÿçš„4ä¸ªå¿…è¦æ¡ä»¶ä¹‹ä¸€ï¼Œä¸¥æ ¼é˜²æ­¢æ­»é”çš„äº§ç”Ÿï¼Œä½¿ç³»ç»Ÿåœ¨ä»»ä½•æ—¶åˆ»éƒ½ä¸æ»¡è¶³æ­»é”çš„å¿…è¦æ¡ä»¶ã€‚é¢„é˜²æ­»é”çš„ä¸¤ç§ç­–ç•¥å¦‚ä¸‹ï¼š\né¢„å…ˆé™æ€åˆ†é…æ³•ï¼šç ´åäº†â€œä¸å¯å‰¥å¤ºæ¡ä»¶â€ï¼Œé¢„å…ˆåˆ†é…æ‰€éœ€èµ„æºï¼Œä¿è¯ä¸ç­‰å¾…èµ„æºã€‚\nè¯¥æ–¹æ³•çš„é—®é¢˜æ˜¯é™ä½äº†å¯¹èµ„æºçš„åˆ©ç”¨ç‡ï¼Œé™ä½è¿›ç¨‹çš„å¹¶å‘ç¨‹åº¦ï¼›æœ‰æ—¶å¯èƒ½æ— æ³•é¢„å…ˆçŸ¥é“æ‰€éœ€èµ„æºã€‚\nèµ„æºæœ‰åºåˆ†é…æ³•ï¼šç ´åäº†â€œç¯è·¯æ¡ä»¶â€ï¼ŒæŠŠèµ„æºåˆ†ç±»æŒ‰é¡ºåºæ’åˆ—ï¼Œä¿è¯ä¸å½¢æˆç¯è·¯ã€‚\nè¯¥æ–¹æ³•å­˜åœ¨çš„é—®é¢˜æ˜¯é™åˆ¶è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚ï¼šç”±äºèµ„æºçš„æ’åºå ç”¨ç³»ç»Ÿå¼€é”€ã€‚\næ­»é”é¿å…ï¼š\næ¯”èµ·æ­»é”é¢„é˜²ï¼Œæ­»é”é¿å…åˆ™ä¸é‚£ä¹ˆä¸¥æ ¼åœ°é™åˆ¶äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶ã€‚æœ€è‘—åçš„æ­»é”é¿å…ç®—æ³•æ˜¯é“¶è¡Œå®¶ç®—æ³•ï¼Œæ­»é”é¿å…ç®—æ³•éœ€è¦å¾ˆå¤§çš„ç³»ç»Ÿå¼€é”€ã€‚\né“¶è¡Œå®¶ç®—æ³• é“¶è¡Œå®¶ç®—æ³•å¯¹äºè¿›ç¨‹å‘å‡ºçš„ã€æ¯ä¸€ä¸ªç³»ç»Ÿå¯ä»¥æ»¡è¶³çš„èµ„æºè¯·æ±‚å‘½ä»¤åŠ ä»¥æ£€æµ‹ï¼Œè‹¥åˆ†é…èµ„æºåç³»ç»Ÿï¼š\nè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œåˆ™ä¸äºˆåˆ†é…ï¼› ä»å¤„äºå®‰å…¨çŠ¶æ€ï¼Œåˆ™å®æ–½åˆ†é…ã€‚ ä¸æ­»é”é¢„é˜²ç­–ç•¥ç›¸æ¯”ï¼Œé“¶è¡Œå®¶ç®—æ³•æé«˜äº†èµ„æºçš„åˆ©ç”¨ç‡ï¼Œä½†å¯¹äºåˆ†é…èµ„æºåç³»ç»Ÿæ˜¯å¦å®‰å…¨çš„æ£€æµ‹ï¼Œå¢åŠ äº†ç³»ç»Ÿå¼€é”€ã€‚\nå®‰å…¨çŠ¶æ€ï¼šæŒ‡ç³»ç»Ÿèƒ½æŒ‰æŸç§é¡ºåºå¦‚$\u0026lt;P_1, P_2, \\cdots, P_n\u0026gt;$æ¥ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…å…¶æ‰€éœ€èµ„æºï¼Œç›´åˆ°æœ€å¤§éœ€æ±‚ï¼Œä½¿æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåºå®Œæˆã€‚\né€šå¸¸ç§°$\u0026lt;P_1, P_2, \\cdots, P_n\u0026gt;$åºåˆ—ä¸ºå®‰å…¨åºåˆ—ã€‚\nä¸å®‰å…¨çŠ¶æ€ï¼šè‹¥ç³»ç»Ÿä¸å­˜åœ¨è¿™æ ·ä¸€ä¸ªå®‰å…¨åºåˆ—ï¼Œåˆ™ç§°ç³»ç»Ÿå¤„äºä¸å®‰å…¨çŠ¶æ€ã€‚\nå‡è®¾ç³»ç»Ÿæœ‰$n$ä¸ªè¿›ç¨‹ï¼ˆ$P_i, i = 1, 2, \\cdots, n$ï¼‰ï¼Œä½¿ç”¨é“¶è¡Œå®¶ç®—æ³•æ±‚ç³»ç»Ÿå®‰å…¨åºåˆ—çš„ä¸€èˆ¬æ­¥éª¤ä¸ºï¼š\næ ¹æ®ç›®å‰å¯ç”¨èµ„æºæ•°å’Œä»éœ€èµ„æºæ•°æ±‚å¾—åºåˆ—å½“å‰çš„ç¬¬$k$ï¼ˆ$1 \\le k \\le n$ï¼‰ä¸ªè¿›ç¨‹åº”ä¸º$P_i$ã€‚\n$P_i$çš„ä»éœ€èµ„æºæ•°$\\le$ç³»ç»Ÿå¯ç”¨èµ„æºæ•°ã€‚\næ ¹æ®$P_i$çš„å·²åˆ†é…èµ„æºæ•° + åˆ†é…å‰ç³»ç»Ÿå¯ç”¨èµ„æºæ•°ï¼Œæ±‚å‡ºç³»ç»Ÿæ‰§è¡Œå®Œ$P_i$åçš„å¯ç”¨èµ„æºæ•°ã€‚\nç³»ç»Ÿæ‰§è¡Œå®Œ$P_4$åï¼Œä¼šé‡Šæ”¾$P_4$å ç”¨çš„èµ„æºã€‚\né‡å¤æ‰§è¡Œæ­¥éª¤1åˆ°æ­¥éª¤2ï¼Œç›´åˆ°èƒ½åˆ¤æ–­ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€è¿˜æ˜¯ä¸å®‰å…¨çŠ¶æ€ã€‚è‹¥ä¸ºå®‰å…¨çŠ¶æ€ï¼Œåˆ™å¯æ±‚å‡ºå®‰å…¨åºåˆ—ã€‚\nå‡è®¾ç³»ç»Ÿç§æœ‰ä¸‰ç±»äº’æ–¥èµ„æº$R_1$ã€$R_2$å’Œ$R_3$ï¼Œå¯ç”¨èµ„æºæ•°åˆ†åˆ«ä¸º8ã€7å’Œ4ã€‚åœ¨$T_0$æ—¶åˆ»ç³»ç»Ÿç§æœ‰$P_1$ã€$P_2$ã€$P_3$ã€$P_4$å’Œ$P_5$è¿™5ä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚é‡å’Œå·²åˆ†é…èµ„æºæ•°å¦‚å›¾ï¼š\nç”±ä¸Šå›¾å¯å¾—ç³»ç»Ÿçš„ä»éœ€èµ„æºæ•°ï¼ˆæœ€å¤§éœ€æ±‚é‡ - å·²åˆ†é…èµ„æºæ•°ï¼‰ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 5 3 1 0 1 1 6 0 1 1 0 0 2 3 1 å¯å¾—ç³»ç»Ÿç›®å‰å¯ç”¨èµ„æºæ•°ï¼ˆå¯ç”¨èµ„æºæ•° - æ‰€æœ‰è¿›ç¨‹çš„æœ€å¤§éœ€æ±‚é‡ï¼‰ï¼š\n$R_1$ $R_2$ $R_3$ 1 1 0 æ±‚å‡ºå®‰å…¨åºåˆ—çš„è¿‡ç¨‹ï¼š\næ ¹æ®ç›®å‰å¯ç”¨èµ„æºæ•°å’Œä»éœ€èµ„æºæ•°å¯å¾—åºåˆ—ä¸­ç¬¬1ä¸ªè¿›ç¨‹åº”ä¸º$P_4$ã€‚\nå› ä¸º$P_4$ä»…ä»…åªéœ€è¦å†åˆ†é…ä¸€ä¸ª$R_1$ï¼Œè€Œç³»ç»Ÿç›®å‰æ°å¥½å‰©ä½™1ä¸ª$R_1$å’Œ$R_2$ã€‚\nç³»ç»Ÿæ‰§è¡Œå®Œ$P_4$åï¼Œä¼šé‡Šæ”¾$P_4$å ç”¨çš„èµ„æºï¼Œé‚£ä¹ˆæ­¤æ—¶ç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸ºï¼ˆå·²åˆ†é…èµ„æºæ•° + åˆ†é…å‰å¯ç”¨èµ„æºæ•°ï¼‰ï¼š\n$R_1$ $R_2$ $R_3$ 2 3 1 ä¸ä¸Šä¸€æ­¥ç±»ä¼¼ï¼Œå¯æ±‚å¾—åºåˆ—ä¸­ç¬¬2ä¸ªè¿›ç¨‹ä¸º$P_2$æˆ–$P_5$ã€‚\nè‹¥ä¸º$P_2$ï¼Œæ‰§è¡Œå®Œ$P_2$åï¼Œç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 4 4 2 è‹¥ä¸º$P_5$ï¼Œæ‰§è¡Œå®Œ$P_5$åï¼Œç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 3 4 2 æ ¹æ®ä¸Šä¸€æ­¥ï¼Œæœ‰ä¸¤ä¸ªå¯èƒ½çš„å®‰å…¨åºåˆ—ï¼š\nè‹¥åºåˆ—çš„ä¸Šä¸€ä¸ªè¿›ç¨‹ä¸º$P_2$ï¼Œåºåˆ—çš„ç¬¬3ä¸ªè¿›ç¨‹ä¸º$P_5$ã€‚ è‹¥åºåˆ—çš„ä¸Šä¸€ä¸ªè¿›ç¨‹ä¸º$P_5$ï¼Œåºåˆ—çš„ç¬¬3ä¸ªè¿›ç¨‹ä¸º$P_2$ã€‚ æ­¤æ—¶ï¼Œæ— è®ºå½“å‰åºåˆ—ä¸º$\u0026lt;P_4, P_2, P_5\u0026gt;$è¿˜æ˜¯$\u0026lt;P_4, P_5, P_2\u0026gt;$ï¼Œå®ƒä»¬æ‰§è¡Œå®Œåºåˆ—çš„ç¬¬3ä¸ªè¿›ç¨‹åï¼Œç³»ç»Ÿå¯ç”¨èµ„æºæ•°éƒ½ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 5 5 3 æ ¹æ®ä¸Šä¸€æ­¥çš„ç³»ç»Ÿå¯ç”¨èµ„æºæ•°ï¼Œä¸Šä¸€æ­¥æ‰€å¾—çš„ä¸¤ä¸ªåºåˆ—çš„ç¬¬4ä¸ªè¿›ç¨‹éƒ½ä¸º$P_1$ã€‚\næ­¤æ—¶ï¼Œå®ƒä»¬æ‰§è¡Œå®Œ$P_1$åï¼Œç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 6 6 4 ä¸¤ä¸ªåºåˆ—çš„ç¬¬4ä¸ªè¿›ç¨‹éƒ½ä¸º$P_3$ã€‚\nå®ƒä»¬æ‰§è¡Œå®Œ$P_3$åï¼Œç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸ºï¼š\n$R_1$ $R_2$ $R_3$ 8 7 4 æ­¤æ—¶ç³»ç»Ÿå¯ç”¨èµ„æºæ•°ä¸æ£€æµ‹å‰çš„å¯ç”¨èµ„æºæ•°ç›¸ç­‰ï¼Œå³æ‰€æœ‰èµ„æºéƒ½è¢«é‡Šæ”¾ï¼Œæ²¡æœ‰è¢«ä»»ä½•è¿›ç¨‹å ç”¨ã€‚\né‚£ä¹ˆè¯¥ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€ï¼Œä¸”ä¸€å…±æœ‰ä¸¤ä¸ªå®‰å…¨åºåˆ—ï¼Œåˆ†åˆ«ä¸ºï¼š\n$\u0026lt;P_4, P_2, P_5, P_4, P_3\u0026gt;$ï¼› $\u0026lt;P_4, P_5, P_2, P_4, P_3\u0026gt;$ã€‚ çº¿ç¨‹ ä¼ ç»Ÿè¿›ç¨‹æœ‰ä¸¤ä¸ªåŸºæœ¬å±æ€§ï¼š\nå¯æ‹¥æœ‰èµ„æºçš„ç‹¬ç«‹å•ä½ï¼› å¯ç‹¬ç«‹è°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ã€‚ å¼•å…¥çº¿ç¨‹çš„åŸå› æ˜¯ï¼Œè¿›ç¨‹çš„ç³»ç»Ÿå¿…é¡»ä»˜å‡ºè¾ƒå¤§çš„æ—¶ç©ºå¼€é”€ã€‚å¼•å…¥çº¿ç¨‹åï¼Œå°†ä¼ ç»Ÿè¿›ç¨‹çš„ä¸¤ä¸ªåŸºæœ¬å±æ€§åˆ†å¼€ï¼š\nçº¿ç¨‹ï¼šä½œä¸ºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼› è¿›ç¨‹ï¼šä½œä¸ºç‹¬ç«‹åˆ†é…èµ„æºçš„å•ä½ã€‚ çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯è¢«ç³»ç»Ÿç‹¬ç«‹åˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚\nçº¿ç¨‹çš„ç‰¹ç‚¹ï¼š\nçº¿ç¨‹åŸºæœ¬ä¸Šä¸æ‹¥æœ‰èµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼ˆå¦‚ç¨‹åºè®¡æ•°å™¨ã€ä¸€ç»„å¯„å­˜å™¨å’Œæ ˆï¼‰ï¼Œå®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚ çº¿ç¨‹ä¹Ÿå…·æœ‰å°±ç»ªã€è¿è¡Œå’Œé˜»å¡3ç§åŸºæœ¬çŠ¶æ€ã€‚ çº¿ç¨‹å¯åˆ›å»ºå¦ä¸€ä¸ªçº¿ç¨‹ã€‚ åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å¯å¹¶å‘æ‰§è¡Œã€‚ çº¿ç¨‹å› å…¶å…·æœ‰è®¸å¤šä¼ ç»Ÿè¿›ç¨‹æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Œæ•…ç§°ä¸º\u0026quot;è½»å‹è¿›ç¨‹ï¼ˆLight-Weight Processï¼‰\u0026quot;ï¼›è€Œä¼ ç»Ÿè¿›ç¨‹ç§°ä¸º\u0026quot;é‡å‹è¿›ç¨‹ï¼ˆHeavy-Weight Processï¼‰\u0026quot;ã€‚\nçº¿ç¨‹åˆ†ä¸ºï¼š\nç”¨æˆ·çº§çº¿ç¨‹ï¼ˆUser-Level Threadsï¼‰ï¼šä¸ä¾èµ–äºå†…æ ¸ï¼Œè¯¥ç±»çº¿ç¨‹çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢éƒ½ä¸åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ï¼› å†…æ ¸æ”¯æŒçº¿ç¨‹ï¼ˆKernel-Supported Threadsï¼‰ï¼šä¾èµ–äºå†…æ ¸ï¼Œå³æ— è®ºæ˜¯åœ¨ç”¨æˆ·è¿›ç¨‹ä¸­çš„çº¿ç¨‹ï¼Œè¿˜æ˜¯åœ¨ç³»ç»Ÿä¸­çš„çº¿ç¨‹ï¼Œå®ƒä»¬çš„åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢éƒ½åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ã€‚ æŸäº›ç³»ç»ŸåŒæ—¶å®ç°äº†ä¸¤ç§ç±»å‹çš„çº¿ç¨‹ã€‚\nä¸çº¿ç¨‹ä¸åŒçš„æ˜¯ï¼Œä¸è®ºæ˜¯ç³»ç»Ÿè¿›ç¨‹è¿˜æ˜¯ç”¨æˆ·è¿›ç¨‹ï¼Œåœ¨è¿›è¡Œåˆ‡æ¢æ—¶ï¼Œéƒ½è¦ä¾èµ–äºå†…æ ¸ä¸­çš„è¿›ç¨‹è°ƒåº¦ã€‚å› æ­¤ï¼Œä¸è®ºæ˜¯ä»€ä¹ˆè¿›ç¨‹éƒ½æ˜¯ä¸å†…æ ¸æœ‰å…³çš„ï¼Œæ˜¯åœ¨å†…æ ¸æ”¯æŒä¸‹è¿›è¡Œåˆ‡æ¢çš„ã€‚\nå­˜å‚¨ç®¡ç† ç¨‹åºå±€éƒ¨æ€§åŸç† ç¨‹åºåœ¨æ‰§è¡Œæ—¶å°†å‘ˆç°å‡ºå±€éƒ¨æ€§è§„å¾‹ï¼Œå³åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œç¨‹åºçš„æ‰§è¡Œä»…å±€é™äºæŸä¸ªéƒ¨åˆ†ã€‚ç›¸åº”åœ°ï¼Œå®ƒæ‰€è®¿é—®çš„å­˜å‚¨ç©ºé—´ä¹Ÿå±€é™äºæŸä¸ªåŒºåŸŸå†…ã€‚\nç¨‹åºçš„å±€é™æ€§è¡¨ç°åœ¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š\næ—¶é—´å±€é™æ€§ï¼š\nå¦‚æœç¨‹åºä¸­çš„æŸæ¡æŒ‡ä»¤ä¸€æ—¦æ‰§è¡Œï¼Œåˆ™ä¸ä¹…çš„å°†æ¥è¯¥æŒ‡ä»¤å¯èƒ½å†æ¬¡è¢«æ‰§è¡Œï¼› å¦‚æœæŸä¸ªå­˜å‚¨å•å…ƒè¢«è®¿é—®ï¼Œåˆ™ä¸ä¹…ä»¥åè¯¥å­˜å‚¨å•å…ƒå¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚ äº§ç”Ÿæ—¶é—´å±€é™æ€§çš„å…¸å‹åŸå› æ˜¯åœ¨ç¨‹åºä¸­å­˜åœ¨ç€å¤§é‡çš„å¾ªç¯æ“ä½œã€‚\nç©ºé—´å±€é™æ€§ï¼šæŒ‡ä¸€æ—¦ç¨‹åºè®¿é—®äº†æŸä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œå…¶é™„è¿‘çš„å­˜å‚¨å•å…ƒä¹Ÿæœ€æœ‰å¯èƒ½è¢«è®¿é—®ã€‚\nå³ç¨‹åºåœ¨ä¸€æ®µæ—¶é—´å†…æ‰€è®¿é—®çš„åœ°å€å¯èƒ½é›†ä¸­åœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼Œå…¶å…¸å‹åŸå› ä¸ºç¨‹åºæ˜¯é¡ºåºæ‰§è¡Œçš„ã€‚\nåˆ†é¡µå­˜å‚¨ç®¡ç† åˆ†é¡µåŸç†ï¼š\né¡µï¼šå°†ä¸€ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´åˆ’åˆ†æˆè‹¥å¹²ä¸ªå¤§å°ç›¸ç­‰çš„åŒºåŸŸï¼Œç§°ä¸ºé¡µã€‚ å—ï¼ˆé¡µæ¡†ï¼‰ï¼šå°†ä¸»å­˜ç©ºé—´åˆ’åˆ†æˆä¸é¡µç›¸åŒå¤§å°çš„è‹¥å¹²ä¸ªç‰©ç†å—ï¼Œç§°ä¸ºå—æˆ–é¡µæ¡†ã€‚ åœ¨ä¸ºè¿›ç¨‹åˆ†é…ä¸»å­˜æ—¶ï¼Œå°†è¿›ç¨‹ä¸­è‹¥å¹²é¡µåˆ†åˆ«è£…å…¥å¤šä¸ªä¸ç›¸é‚»æ¥çš„å—ä¸­ã€‚\nåœ°å€ç»“æ„ï¼š\nå…¶ä¸­ï¼Œé¡µå†…åœ°å€æ˜¯åŒä¸€é¡µï¼ˆé¡µå·ï¼‰ä¸­çš„åç§»é‡ã€‚\nåˆ†é¡µçš„è¿‡ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿå®Œæˆçš„ï¼Œå¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œæ‰€ä»¥ç”¨æˆ·ä¸å¿…å…³å¿ƒåˆ†é¡µçš„è¿‡ç¨‹ï¼Œå…¶ä¼˜ç‚¹æ˜¯èƒ½æœ‰æ•ˆåœ°æé«˜ä¸»å­˜åˆ©ç”¨ç‡ï¼Œå…¶ç¼ºç‚¹æ˜¯ä¸æ˜“å®ç°å…±äº«ã€‚\nåˆ†æ®µå­˜å‚¨ç®¡ç† åœ¨åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼ä¸­ï¼Œä½œä¸šçš„åœ°å€ç©ºé—´è¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µã€‚æ¯ä¸ªæ®µæ˜¯ä¸€ç»„å®Œæ•´çš„é€»è¾‘ä¿¡æ¯ï¼Œä¾‹å¦‚æœ‰ä¸»ç¨‹åºæ®µã€å­ç¨‹åºæ®µã€æ•°æ®æ®µåŠå †æ ˆæ®µç­‰ã€‚æ¯ä¸ªæ®µéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œéƒ½æ˜¯ä»0å¼€å§‹ç¼–å€çš„ä¸€æ®µè¿ç»­çš„åœ°å€ç©ºé—´ï¼Œå„æ®µçš„é•¿åº¦æ˜¯ä¸ç­‰çš„ã€‚\nåˆ†æ®µç³»ç»Ÿçš„åœ°å€ç»“æ„å¦‚ï¼š\næ®µæ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå…¶ä¼˜ç‚¹æ˜¯æ˜“äºå®ç°æ®µçš„å…±äº«ï¼Œå³å…è®¸è‹¥å¹²ä¸ªè¿›ç¨‹å…±äº«ä¸€ä¸ªæˆ–å¤šä¸ªæ®µï¼Œè€Œä¸”å¯¹æ®µçš„ä¿æŠ¤ä¹Ÿååˆ†ç®€å•ã€‚\næ®µé¡µå¼å­˜å‚¨ç®¡ç† ç»“åˆåˆ†é¡µå’Œåˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œå½¢æˆä¸€ç§æ–°çš„å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œå³æ®µé¡µå¼å­˜å‚¨ç®¡ç†ã€‚æ®µé¡µå¼ç³»ç»Ÿæœ‰ä¸¤ç§ç³»ç»Ÿçš„ä¼˜ç‚¹ã€‚\næ®µé¡µå¼ç³»ç»Ÿçš„åŸºæœ¬åŸç†æ˜¯ï¼š\nå°†æ•´ä¸ªä¸»å­˜åˆ’åˆ†æˆå¤§å°ç›¸ç­‰çš„å­˜å‚¨å—ï¼ˆé¡µæ¡†ï¼‰ã€‚ å°†ç”¨æˆ·ç¨‹åºæŒ‰ç¨‹åºçš„é€»è¾‘å…³ç³»åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µï¼Œå¹¶ä¸ºæ¯ä¸ªæ®µèµ‹äºˆä¸€ä¸ªæ®µåã€‚ å°†æ¯ä¸ªæ®µåˆ’åˆ†æˆè‹¥å¹²é¡µï¼Œä»¥é¡µæ¡†ä¸ºå•ä½ç¦»æ•£åˆ†é…ã€‚ æ®µé¡µå¼åœ°å€ç©ºé—´çš„ç»“æ„ï¼š\nè®¾å¤‡ç®¡ç† ç¼“å†²æŠ€æœ¯ ç¼“å†²æŠ€æœ¯å¯æé«˜å¤–è®¾åˆ©ç”¨ç‡ï¼Œå°½å¯èƒ½ä½¿å¤–è®¾å¤„äºå¿™çŠ¶æ€ã€‚ç¼“å†²æŠ€æœ¯å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼š\nç¡¬ä»¶ç¼“å†²ï¼šåˆ©ç”¨ä¸“é—¨çš„ç¡¬ä»¶å¯„å­˜å™¨ä½œä¸ºç¼“å†²ï¼› è½¯ä»¶ç¼“å†²ï¼šé€šè¿‡æ“ä½œç³»ç»Ÿæ¥ç®¡ç†çš„ã€‚ å•ç¼“å†² å•ç¼“å†²å·¥ä½œè¿‡ç¨‹å›¾ï¼š\nå½“ç¬¬1å—æ•°æ®é€å…¥ç”¨æˆ·å·¥ä½œåŒºåï¼ˆè¿›è¡Œæ•°æ®å¤„ç†ï¼‰ï¼Œç¼“å†²åŒºæ˜¯ç©ºé—²çš„ï¼Œå¯ä»¥ä¼ é€ç¬¬2å—æ•°æ®ï¼ˆè¾“å…¥ï¼‰ã€‚å³ç¬¬1å—æ•°æ®çš„å¤„ç†$C_1$ä¸ç¬¬2å—æ•°æ®çš„è¾“å…¥$T_2$æ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œä»¥æ­¤ç±»æ¨ï¼š\nè‹¥$T$ä¸ºè¾“å…¥çš„æ—¶é—´ï¼Œ$M$ä¸ºä¼ è¾“çš„æ—¶é—´ï¼Œ$C$ä¸ºå¤„ç†çš„æ—¶é—´ç³»ç»Ÿå¯¹æ¯ä¸€å—æ•°æ®çš„å¤„ç†æ—¶é—´ä¸ºï¼š$Max(C, T) + M$ï¼š\n$T \u0026gt; C$ï¼šå¤„ç†æ—¶é—´ä¸º$M + T$ï¼› $T \u0026lt; C$ï¼šå¤„ç†æ—¶é—´ä¸º$M + C$ã€‚ $n$ä¸ªä½œä¸šçš„å•ç¼“å†²æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ºï¼š\n$$ (Max(C, T) + M) \\times n + Min(C, T) $$\nåŒç¼“å†² åŒç¼“å†²è¿›ä¸€æ­¥åŠ å¿«äº†I/Oçš„é€Ÿåº¦ï¼Œæé«˜äº†è®¾å¤‡çš„åˆ©ç”¨ç‡ã€‚å…¶å·¥ä½œåŸºæœ¬è¿‡ç¨‹æ˜¯åœ¨è®¾å¤‡è¾“å…¥æ—¶ï¼Œå…ˆå°†æ•°æ®è¾“å…¥åˆ°ç¼“å†²åŒº1ï¼Œè£…æ»¡åä¾¿è½¬å‘ç¼“å†²åŒº2ã€‚\nåŒç¼“å†²å·¥ä½œè¿‡ç¨‹å›¾ï¼š\nåŒç¼“å†²çš„å·¥ä½œç‰¹ç‚¹æ˜¯ï¼Œå¯ä»¥å®ç°å¯¹ç¼“å†²ä¸­æ•°æ®çš„è¾“å…¥$T$å’Œæå–$M$ï¼Œä¸CPUçš„è®¡ç®—$C$ï¼Œä¸‰è€…å¹¶è¡Œå·¥ä½œï¼š\nåœ¨åŒç¼“å†²æ—¶ï¼Œç³»ç»Ÿå¤„ç†ä¸€å—æ•°æ®çš„æ—¶é—´å¯ä»¥ç²—ç•¥åœ°è®¤ä¸ºæ˜¯$Max(C, T)$ï¼š\n$C \u0026lt; T$ï¼šå¯ä½¿å—è®¾å¤‡è¿ç»­è¾“å…¥ï¼› $C \u0026gt; T$ï¼šå¯ä½¿ç³»ç»Ÿä¸å¿…ç­‰å¾…è®¾å¤‡è¾“å…¥ã€‚ $n$ä¸ªä½œä¸šçš„åŒç¼“å†²æ‰€èŠ±è´¹çš„æ—¶é—´ä¸ºï¼š\n$$ Max(T, M, C) \\times n + T + M + C - Max(T, M, C) $$\nå³ï¼Œ\n$$ Max(T, M, C) \\times (n - 1) + T + M + C $$\nç£ç›˜è°ƒåº¦ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFirst-Come First-Servedï¼ŒFCFSï¼‰ï¼šæ ¹æ®è¿›ç¨‹è¯·æ±‚è®¿é—®ç£ç›˜çš„å…ˆåæ¬¡åºè¿›è¡Œè°ƒåº¦ã€‚\nä¼˜ç‚¹ï¼šå…¬å¹³ã€ç®€å•ï¼Œä¸”æ¯ä¸ªè¿›ç¨‹çš„è¯·æ±‚éƒ½èƒ½ä¾æ¬¡å¾—åˆ°å¤„ç†ï¼Œä¸ä¼šå‡ºç°æŸè¿›ç¨‹çš„è¯·æ±‚é•¿æœŸå¾—ä¸åˆ°æ»¡è¶³çš„æƒ…å†µã€‚ ç¼ºç‚¹ï¼šæ­¤ç®—æ³•ç”±äºæœªå¯¹å¯»é“è¿›è¡Œä¼˜åŒ–ï¼Œè‡´ä½¿å¹³å‡å¯»é“æ—¶é—´å¯èƒ½è¾ƒé•¿ã€‚ æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼ˆShortest Seek Time Firstï¼ŒSSTFï¼Œæœ€çŸ­ç§»è‡‚ç®—æ³•ï¼‰ï¼šè¯¥ç®—æ³•é€‰æ‹©è¿™æ ·çš„è¿›ç¨‹ï¼Œå…¶è¦æ±‚è®¿é—®çš„ç£é“ä¸å½“å‰ç£å¤´æ‰€åœ¨çš„ç£é“è·ç¦»æœ€è¿‘ï¼Œä½¿å¾—æ¯æ¬¡çš„å¯»é“æ—¶é—´æœ€çŸ­ã€‚\nä¼˜ç‚¹ï¼šå¯èƒ½ä¼šå‡ºç°é¥¥é¥¿ç°è±¡ã€‚ ç¼ºç‚¹ï¼šä¸èƒ½ä¿è¯å¹³å‡å¯»é“æ—¶é—´æœ€çŸ­ã€‚ æ‰«æç®—æ³•ï¼ˆSCANï¼Œç”µæ¢¯è°ƒåº¦ç®—æ³•ï¼‰ï¼šæ€»æ˜¯ä»ç£å¤´å½“å‰ä½ç½®å¼€å§‹ï¼Œæ²¿ç£å¤´çš„ç§»åŠ¨æ–¹å‘å»é€‰æ‹©ç¦»å½“å‰ç£å¤´æœ€è¿‘çš„é‚£ä¸ªæŸ±é¢çš„è¯·æ±‚ã€‚å¦‚æœæ²¿ç£å¤´çš„æ–¹å‘æ— è¯·æ±‚è®¿é—®æ—¶ï¼Œå°±æ”¹å˜ç£å¤´çš„ç§»åŠ¨æ–¹å‘ã€‚\nåœ¨è¿™ç§è°ƒåº¦æ–¹æ³•ä¸‹ç£å¤´çš„ç§»åŠ¨ç±»ä¼¼äºç”µæ¢¯çš„è°ƒåº¦ï¼Œæ‰€ä»¥å®ƒä¹Ÿç§°ä¸ºç”µæ¢¯è°ƒåº¦ç®—æ³•ã€‚\nä¼˜ç‚¹ï¼šé¿å…äº†é¥¥é¥¿ç°è±¡çš„å‡ºç°ã€‚ ç¼ºç‚¹ï¼šå½“ç£å¤´åˆšä»é‡Œå‘å¤–ç§»åŠ¨è¿‡æŸä¸€ç£é“æ—¶ï¼Œæ°æœ‰ä¸€è¿›ç¨‹è¯·æ±‚è®¿é—®æ­¤ç£é“ï¼Œè¿™æ—¶è¯¥è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œå¾…ç£å¤´ä»é‡Œå‘å¤–ï¼Œå†ä»å¤–å‘é‡Œæ‰«æå®Œæ‰€æœ‰è¦è®¿é—®çš„ç£é“åæ‰å¤„ç†è¯¥è¿›ç¨‹çš„è¯·æ±‚ï¼Œè‡´ä½¿è¯¥è¿›ç¨‹çš„è¯·æ±‚è¢«ä¸¥é‡åœ°æ¨è¿Ÿã€‚ å•å‘æ‰«æç®—æ³•ï¼ˆCSCANï¼Œå¾ªç¯æ‰«æç®—æ³•ï¼‰ï¼šä¸ºäº†å‡å°‘ä¸Šè¿°SCANç¼ºç‚¹ä¸­å­˜åœ¨çš„è¿™ç§å»¶è¿Ÿï¼Œç®—æ³•è§„å®šç£å¤´åªåšå•å‘ç§»åŠ¨ã€‚\nä¾‹å¦‚ï¼Œåªæ˜¯è‡ªé‡Œå‘å¤–ç§»åŠ¨ï¼Œä»å½“å‰ä½ç½®å¼€å§‹æ²¿ç£å¤´çš„ç§»åŠ¨æ–¹å‘å»é€‰æ‹©ç¦»å½“å‰ç£å¤´æœ€è¿‘çš„é‚£ä¸ªæŸ±é¢è®¿é—®ï¼Œå¦‚æœæ²¿ç£å¤´çš„æ–¹å‘æ— è¯·æ±‚è®¿é—®æ—¶ï¼Œç£å¤´ç«‹å³è¿”å›åˆ°æœ€é‡Œé¢çš„æ¬²è®¿é—®çš„æŸ±é¢ï¼Œå†äº¦å³å°†æœ€å°æŸ±é¢å·ç´§æ¥ç€æœ€å¤§æŸ±é¢å·æ„æˆå¾ªç¯ï¼Œè¿›è¡Œå¾ªç¯æ‰«æã€‚\næ—‹è½¬è°ƒåº¦ç®—æ³• æ—‹è½¬è°ƒåº¦è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ï¼Œå½“ç§»åŠ¨è‡‚å®šä½åï¼Œæœ‰å¤šä¸ªè¿›ç¨‹ç­‰å¾…è®¿é—®è¯¥æŸ±é¢æ—¶ï¼Œåº”å½“å¦‚ä½•å†³å®šè¿™äº›è¿›ç¨‹çš„è®¿é—®é¡ºåºã€‚æ˜¾ç„¶ï¼Œç³»ç»Ÿåº”è¯¥é€‰æ‹©å»¶è¿Ÿæ—¶é—´æœ€çŸ­çš„è¿›ç¨‹å¯¹ç£ç›˜çš„æ‰‡åŒºè¿›è¡Œè®¿é—®ã€‚\nå½“æœ‰è‹¥å¹²ç­‰å¾…è¿›ç¨‹è¯·æ±‚è®¿é—®ç£ç›˜ä¸Šçš„ä¿¡æ¯æ—¶ï¼Œæ—‹è½¬è°ƒåº¦åº”è€ƒè™‘å¦‚ä¸‹æƒ…å†µï¼š\nè¿›ç¨‹è¯·æ±‚è®¿é—®çš„æ˜¯åŒä¸€ç£é“ä¸Šä¸åŒç¼–å·çš„æ‰‡åŒºã€‚ è¿›ç¨‹è¯·æ±‚è®¿é—®çš„æ˜¯ä¸åŒç£é“ä¸Šä¸åŒç¼–å·çš„æ‰‡åŒºã€‚ è¿›ç¨‹è¯·æ±‚è®¿é—®çš„æ˜¯ä¸åŒç£é“ä¸Šå…·æœ‰ç›¸åŒç¼–å·çš„æ‰‡åŒºã€‚ å¯¹äºæƒ…å†µ1å’Œ2ï¼Œæ—‹è½¬è°ƒåº¦æ€»æ˜¯è®©é¦–å…ˆåˆ°è¾¾è¯»/å†™ç£å¤´ä½ç½®ä¸‹çš„æ‰‡åŒºå…ˆè¿›è¡Œä¼ é€æ“ä½œï¼šå¯¹äºæƒ…å†µ3ï¼Œæ—‹è½¬è°ƒåº¦å¯ä»¥ä»»é€‰ä¸€ä¸ªè¯»/å†™ç£å¤´ä½ç½®ä¸‹çš„æ‰‡åŒºè¿›è¡Œä¼ é€æ“ä½œã€‚\nä¾‹å¦‚ï¼š\nå‡è®¾ç£ç›˜æ—‹è½¬é€Ÿåº¦ä¸º20ms/åœˆï¼Œæ¯è¯»ä¸€ä¸ªè®°å½•åå¤„ç†éœ€è¦4msã€‚è‹¥æ ¼å¼åŒ–æ—¶æ¯ä¸ªç£é“è¢«åˆ†ä¸º10ä¸ªæ‰‡åŒºï¼Œæœ‰10ä¸ªé€»è¾‘è®°å½•å­˜æ”¾åœ¨åŒä¸€ç£é“ä¸Šï¼Œå…¶æ’åºé¡ºåºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåˆå§‹æ—¶è¯»å†™å¤´åœåœ¨è®°å½•Aå¤„ï¼Œç¨‹åºé¡ºåºå¤„ç†è¿™äº›è®°å½•ï¼ˆAï½Jï¼‰ã€‚\né¡ºåºå¤„ç†å®Œè¿™äº›è®°å½•çš„æ€»æ—¶é—´ï¼š\nç»è¿‡ä¸€ä¸ªæ‰‡åŒºçš„æ—¶é—´ $= 20ms /10 = 2ms$ã€‚\nå¤„ç†å®ŒAï¼Œç£ç›˜è½¬åˆ°è¯»å†™å¤´æŒ‡å‘Bå¼€å§‹å¤„æ—¶ï¼Œè¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´ä¸º$2ms + 20ms = 22ms$ã€‚\nå› ä¸ºç£ç›˜æ˜¯ä¸€ç›´åœ¨æ—‹è½¬çš„ï¼Œè€Œè¯»å–Aæ‰‡åŒºï¼ˆ2msï¼‰åï¼Œå¤„ç†Aæ‰‡åŒºèŠ±è´¹4msã€‚æ­¤æ—¶ç£ç›˜å¯ä»¥å†ç»è¿‡ä¸¤ä¸ªæ‰‡åŒºï¼Œæ¥åˆ°è®°å½•Dçš„å¼€å§‹å¤„ã€‚\nä¸ºäº†é¡ºåºå¤„ç†è®°å½•ï¼Œç£ç›˜éœ€è¦å†æ—‹è½¬8ä¸ªæ‰‡åŒºå›åˆ°Bå¼€å§‹å¤„ã€‚ç›¸å½“äºå¤„ç†å®ŒAåç£ç›˜éœ€è¦å†æ—‹è½¬ä¸€åœˆä»¥å¼€å§‹è¯»å–Bã€‚è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹æ‰€è€—è´¹çš„æ—¶é—´å³ä¸º$2ms + 20ms = 22ms$ã€‚\né¡ºåºå¤„ç†å®Œæ‰€æœ‰è®°å½•çš„æ€»æ—¶é—´ $= 9 \\times (2ms + 20ms) + 2ms + 4ms = 204ms$ã€‚\nå‰9ä¸ªè®°å½•ï¼ˆAï½Jï¼‰çš„ä¸€ä¸ªè¿‡ç¨‹æ‰€è€—è´¹çš„æ—¶é—´æ˜¯ä¸€æ ·çš„ï¼ˆ$ 9 \\times (2ms + 20ms)$ï¼‰ã€‚\nå½“å¤„ç†å®Œè®°å½•Iå¹¶æ—‹è½¬åˆ°Jå¼€å§‹å¤„æ—¶ï¼Œåªéœ€è¦è¯»å–Jï¼ˆ2msï¼‰å¹¶ä¸”å¤„ç†å®Œï¼ˆ4msï¼‰å³å¯ã€‚è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´åº”ä¸ºï¼ˆ$2ms + 4ms$ï¼‰ã€‚\nè®°å½•ä¼˜åŒ–åˆ†å¸ƒæ–¹æ¡ˆï¼š\nè®©ä¸‹ä¸€ä¸ªè¦è¯»å–çš„è®°å½•ï¼Œåˆšå¥½åœ¨ä¸Šä¸€ä¸ªè®°å½•å¤„ç†å®Œæˆåè¯»å†™å¤´æ‰€åœçš„æ‰‡åŒºã€‚\nä¼˜åŒ–åçš„æ€»æ—¶é—´ $= 10 \\times (2ms + 4ms) = 60ms$ã€‚\nè®¾$n$ä¸ªæ‰‡åŒºçš„ç£ç›˜ï¼Œç»è¿‡ä¸€ä¸ªæ‰‡åŒºçš„æ—¶é—´ä¸º$t$ï¼Œè¯»å–ä¸€ä¸ªè®°å½•åå¤„ç†çš„æ—¶é—´ä¸º$c$ï¼Œé‚£ä¹ˆï¼š\né¡ºåºå¤„ç†å®Œæ‰€æœ‰è®°å½•çš„æ€»æ—¶é—´ä¸ºï¼š\n$$ (t + nt) (n-1) + t + c $$\nå³ï¼š\n$$ t \\times n^2 + c $$\nè®°å½•ä¼˜åŒ–åçš„æ€»æ—¶é—´ï¼š\n$$ n(t + c) $$\næ–‡ä»¶ç®¡ç† å¤šçº§ç´¢å¼•ç»“æ„ ç£ç›˜ç´¢å¼•æ˜¯æŒ‡åœ¨ç´¢å¼•è¡¨ä¸­è®°å½•ç£ç›˜çš„åœ°å€é¡¹ï¼Œåœ°å€é¡¹ç›´æ¥æˆ–é—´æ¥åœ°è®°å½•äº†ç£ç›˜æ•°æ®å—çš„åœ°å€ã€‚\nç£ç›˜ç´¢å¼•æœ‰ä»¥ä¸‹å‡ ç§ç»“æ„ï¼š\nç›´æ¥ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹ç›´æ¥æŒ‡å‘ç£ç›˜æ•°æ®å—ã€‚\nä¸€çº§é—´æ¥åœ°å€ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹æŒ‡å‘ä¸€ä¸ªç£ç›˜ç´¢å¼•å—ã€‚è¿™ä¸ªç´¢å¼•å—ä¸­çš„è®°å½•æ˜¯åœ°å€é¡¹ï¼Œè¿™äº›åœ°å€é¡¹ç›´æ¥æŒ‡å‘ç£ç›˜æ•°æ®å—ã€‚\nç§°è¿™ä¸ªç£ç›˜ç´¢å¼•å—ä¸ºä¸€çº§ç´¢å¼•å—ã€‚\näºŒçº§é—´æ¥åœ°å€ç´¢å¼•ï¼šç´¢å¼•è¡¨ä¸­çš„åœ°å€é¡¹æŒ‡å‘ä¸€ä¸ªç£ç›˜ç´¢å¼•å—ã€‚è¿™ä¸ªç´¢å¼•å—ä¸­çš„ä¸€ä¸ªè®°å½•æŒ‡å‘ä¸€ä¸ªä¸€çº§ç´¢å¼•å—ã€‚\nç§°è¿™ä¸ªè®°å½•æŒ‡å‘ä¸€çº§ç´¢å¼•å—çš„ç£ç›˜ç´¢å¼•å—ä¸ºäºŒçº§ç´¢å¼•å—ã€‚\næ–‡ä»¶ç›®å½• æ–‡ä»¶æ§åˆ¶å—ï¼ˆFCBï¼‰ï¼šç”¨äºæ–‡ä»¶çš„æè¿°å’Œæ§åˆ¶çš„æ•°æ®ç»“æ„ï¼Œå®ç°äº†æ–‡ä»¶çš„â€œæŒ‰åå­˜å–â€ã€‚\næ–‡ä»¶æ§åˆ¶å—è‡³å°‘è¦åŒ…æ‹¬æ–‡ä»¶åå’Œå­˜æ”¾æ–‡ä»¶çš„ç‰©ç†åœ°å€ã€‚\næ–‡ä»¶æ§åˆ¶å—ä¹Ÿç§°ä¸ºæ–‡ä»¶çš„è¯´æ˜æˆ–æ–‡ä»¶ç›®å½•é¡¹ï¼ˆç®€ç§°ç›®å½•é¡¹ï¼‰ã€‚\næ–‡ä»¶ç›®å½•ï¼šæ–‡ä»¶æ§åˆ¶å—çš„æœ‰åºé›†åˆã€‚\nå³æ–‡ä»¶ç›®å½•æ˜¯ç”±æ–‡ä»¶æ§åˆ¶å—ç»„æˆçš„ï¼Œä¸“é—¨ç”¨äºæ–‡ä»¶çš„æ£€ç´¢ã€‚\næ–‡ä»¶æ§åˆ¶å— æ–‡ä»¶æ§åˆ¶å—ä¸­åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š\nåŸºæœ¬ä¿¡æ¯ç±»ï¼šä¾‹å¦‚æ–‡ä»¶åã€æ–‡ä»¶çš„ç‰©ç†åœ°å€ã€æ–‡ä»¶é•¿åº¦å’Œæ–‡ä»¶å—æ•°ç­‰ã€‚\nå­˜å–æ§åˆ¶ä¿¡æ¯ç±»ï¼šæ–‡ä»¶çš„å­˜å–æƒé™ã€‚\nUNIXä¸­ï¼Œç”¨æˆ·åˆ†æˆä¸‰ç±»ï¼š\næ–‡ä»¶ä¸»ç”¨æˆ· åŒç»„ç”¨æˆ· ä¸€èˆ¬ç”¨æˆ· ä»¥ä¸Šä¸‰ç±»ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™ä¸ºï¼š\nè¯» å†™ æ‰§è¡Œ ä½¿ç”¨ä¿¡æ¯ç±»ï¼šæ–‡ä»¶å»ºç«‹æ—¥æœŸã€æœ€åä¸€æ¬¡ä¿®æ”¹æ—¥æœŸã€æœ€åä¸€æ¬¡è®¿é—®çš„æ—¥æœŸã€å½“å‰ä½¿ç”¨çš„ ä¿¡æ¯ï¼ˆå¦‚æ‰“å¼€æ–‡ä»¶çš„è¿›ç¨‹æ•°ã€åœ¨æ–‡ä»¶ä¸Šçš„ç­‰å¾…é˜Ÿåˆ—ï¼‰ç­‰ã€‚\nç›®å½•ç»“æ„ ç»„ç»‡å¥½æ–‡ä»¶çš„ç›®å½•æ˜¯è®¾è®¡æ–‡ä»¶ç³»ç»Ÿçš„é‡è¦ç¯èŠ‚ï¼Œæ–‡ä»¶ç›®å½•ç»“æ„çš„ç»„ç»‡æ–¹å¼ç›´æ¥å½±å“åˆ°æ–‡ä»¶çš„å­˜å–é€Ÿåº¦ï¼Œå…³ç³»åˆ°æ–‡ä»¶çš„å…±äº«æ€§å’Œå®‰å…¨æ€§ã€‚\nå¸¸è§çš„ç›®å½•ç»“æ„æœ‰ï¼š\nä¸€çº§ç›®å½•ç»“æ„ï¼šä¸€çº§ç›®å½•çš„æ•´ä¸ªç›®å½•ç»„ç»‡æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ï¼Œåœ¨æ•´ä¸ªç³»ç»Ÿä¸­åªéœ€å»ºç«‹ä¸€å¼ ç›®å½•è¡¨ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€ä¸ªç›®å½•é¡¹ã€‚\nä¼˜ç‚¹ï¼šç»“æ„ç®€å•ï¼›\nç¼ºç‚¹ï¼šæŸ¥æ‰¾é€Ÿåº¦æ…¢ï¼Œä¸å…è®¸é‡åå’Œä¸ä¾¿äºå®ç°æ–‡ä»¶å…±äº«ç­‰ã€‚\nä¸»è¦ç”¨åœ¨å•ç”¨æˆ·ç¯å¢ƒä¸­ã€‚\näºŒçº§ç›®å½•ç»“æ„ï¼šä¸ºäº†å…‹æœä¸€çº§ç›®å½•ç»“æ„å­˜åœ¨çš„ç¼ºç‚¹å¼•å…¥äº†äºŒçº§ç›®å½•ç»“æ„ã€‚\näºŒçº§ç›®å½•ç»“æ„çš„ç»„æˆä¸ºï¼š\nä¸»æ–‡ä»¶ç›®å½•ï¼ˆMaster File Directoryï¼ŒMFDï¼‰ï¼šæ¯ä¸ªç”¨æˆ·æ–‡ä»¶ç›®å½•éƒ½å æœ‰ä¸€ä¸ªç›®å½•é¡¹ï¼Œå…¶ç›®å½•é¡¹ä¸­åŒ…æ‹¬ç”¨æˆ·åå’ŒæŒ‡å‘è¯¥ç”¨æˆ·ç›®å½•æ–‡ä»¶çš„æŒ‡é’ˆï¼› ç”¨æˆ·ç›®å½•ï¼ˆUser File Directoryï¼ŒUFDï¼‰ï¼šç”±ç”¨æˆ·æ‰€æœ‰æ–‡ä»¶çš„ç›®å½•é¡¹ç»„æˆçš„ã€‚ ä¼˜ç‚¹ï¼šæé«˜äº†æ£€ç´¢ç›®å½•çš„é€Ÿåº¦ï¼Œè¾ƒå¥½åœ°è§£å†³äº†é‡åé—®é¢˜ã€‚\nç¼ºç‚¹ï¼šè¯¥ç»“æ„è™½ç„¶èƒ½æœ‰æ•ˆåœ°å°†å¤šä¸ªç”¨æˆ·éš”ç¦»å¼€ï¼ˆè¿™ç§éš”ç¦»åœ¨å„ä¸ªç”¨æˆ·ä¹‹é—´å®Œå…¨æ— å…³æ—¶æ˜¯ä¸€ä¸ªä¼˜ç‚¹ï¼‰ï¼Œä½†å½“å¤šä¸ªç”¨æˆ·ä¹‹é—´è¦ç›¸äº’åˆä½œå»å…±åŒå®Œæˆä¸€ä¸ªå¤§ä»»åŠ¡ï¼Œä¸”ä¸€ä¸ªç”¨æˆ·åˆéœ€è¦å»è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶æ—¶ï¼Œè¿™ç§éš”ç¦»ä¾¿æˆä¸ºä¸€ä¸ªç¼ºç‚¹ï¼Œå› ä¸ºè¿™ç§éš”ç¦»ä½¿è¯¸ç”¨æˆ·ä¹‹é—´ä¸ä¾¿äºå…±äº«æ–‡ä»¶ã€‚\nå¤šçº§ç›®å½•ç»“æ„ï¼šåœ¨å¤šé“ç¨‹åºè®¾è®¡ç³»ç»Ÿä¸­å¸¸é‡‡ç”¨å¤šçº§ç›®å½•ç»“æ„ã€‚\nå¤šçº§ç›®å½•ç»“æ„æ˜¯æ ‘å‹ç›®å½•ç»“æ„ã€‚ä»æ ¹ç»“ç‚¹å‘ä¸‹ï¼Œæ¯ä¸€ä¸ªç»“ç‚¹æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå¶ç»“ç‚¹æ˜¯æ–‡ä»¶ã€‚\nåœ¨é‡‡ç”¨å¤šçº§ç›®å½•ç»“æ„çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·è¦è®¿é—®ä¸€ä¸ªæ–‡ä»¶ï¼Œå¿…é¡»æŒ‡å‡ºæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„åï¼š\nè·¯å¾„åï¼šä»æŸä¸ªç›®å½•å¼€å§‹åˆ°è¯¥æ–‡ä»¶çš„é€šè·¯ä¸Šæ‰€æœ‰å„çº§ç›®å½•åæ‹¼èµ·æ¥å¾—åˆ°çš„ã€‚\nåœ¨å„ç›®å½•åä¹‹é—´ã€ç›®å½•åä¸æ–‡ä»¶åä¹‹é—´éœ€è¦ç”¨åˆ†éš”ç¬¦éš”å¼€ã€‚\nç»å¯¹è·¯å¾„åï¼ˆAbsolute Path Nameï¼‰ï¼šæŒ‡ä»æ ¹ç›®å½•å¼€å§‹çš„å®Œæ•´è·¯å¾„ã€‚\nå…¨æ–‡ä»¶åï¼šæŒ‡ç»å¯¹è·¯å¾„ååŠ ä¸Šè¯¥æ–‡ä»¶çš„æ–‡ä»¶åã€‚\nç›¸å¯¹è·¯å¾„åï¼šä»å½“å‰æ‰€åœ¨ç›®å½•å¼€å§‹åˆ°å…¶ä»–ç›®å½•æˆ–æ–‡ä»¶çš„è·¯å¾„ã€‚\nä½ç¤ºå›¾ ä½ç¤ºå›¾ï¼ˆBitmapï¼‰æ˜¯ä¸€ç§ç©ºé—²ç©ºé—´ç®¡ç†æ–¹æ³•ã€‚é€šè¿‡åœ¨å¤–å­˜ä¸Šå»ºç«‹ä¸€å¼ ä½ç¤ºå›¾ï¼Œè®°å½•æ–‡ä»¶å­˜å‚¨å™¨çš„ä½¿ç”¨æƒ…å†µã€‚\nä½ç¤ºå›¾ç”¨äºŒè¿›åˆ¶çš„ä¸€ä½æ¥è¡¨ç¤ºä¸€ä¸ªç‰©ç†å—çš„ä½¿ç”¨æƒ…å†µï¼š\n0ï¼šè¡¨ç¤ºç©ºé—²ï¼› 1ï¼šè¡¨ç¤ºå ç”¨ã€‚ ä¾‹å¦‚ï¼š\nä½ç¤ºå›¾çš„å¤§å°ç”±ç£ç›˜ç©ºé—´çš„å¤§å°ï¼ˆç‰©ç†å—æ€»æ•°ï¼‰å†³å®šã€‚\nä½ç¤ºå›¾çš„æè¿°èƒ½åŠ›å¼ºï¼Œé€‚åˆå„ç§ç‰©ç†ç»“æ„ã€‚\n","date":"2023å¹´4æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/operating-system/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"æ“ä½œç³»ç»Ÿ","url":"/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"timestamp":1681288080,"title":"æ“ä½œç³»ç»Ÿç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¤æ‚åº¦ ç®—æ³•æ—¶é—´å¤æ‚åº¦ä»¥ç®—æ³•ä¸­åŸºæœ¬æ“é™„é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ï¼ˆç®€ç§°ä¸ºé¢‘åº¦ï¼‰ä½œä¸ºç®—æ³•çš„æ—¶é—´åº¦é‡ã€‚ä¸€èˆ¬ä¸å¿…è¦ç²¾ç¡®è®¡ç®—å‡ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œåªè¦å¤§è‡´è®¡ç®—å‡ºç›¸åº”çš„æ•°é‡çº§å³å¯ï¼Œä½¿ç”¨å¤§$O$è¡¨ç¤ºæ³•è¡¨ç¤ºï¼ˆç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ï¼‰ã€‚\nåŠ æ³•è§„åˆ™ï¼šå¤šé¡¹ç›¸åŠ ï¼Œä¿ç•™æœ€é«˜é˜¶é¡¹ï¼Œå¹¶å°†ç³»æ•°åŒ–ä¸º1ï¼› ä¹˜æ³•è§„åˆ™ï¼šå¤šé¡¹ç›¸ä¹˜éƒ½ä¿ç•™ï¼Œå¹¶å°†ç³»æ•°åŒ–ä¸º1ã€‚ é€’å½’å¼çš„æ—¶é—´ï¼ˆç©ºé—´ï¼‰å¤æ‚åº¦ï¼š\n$$ é€’å½’çš„æ¬¡æ•° \\times æ¯æ¬¡é€’å½’çš„æ—¶é—´ï¼ˆç©ºé—´ï¼‰å¤æ‚åº¦ $$\né€»è¾‘ç»“æ„åˆ†ç±» çº¿æ€§ç»“æ„ çº¿æ€§è¡¨ï¼ˆä¸€èˆ¬çº¿æ€§è¡¨ï¼‰ ç‰¹æ®Šçº¿æ€§è¡¨ æ ˆ é˜Ÿåˆ— å­—ç¬¦ä¸² çº¿æ€§è¡¨çš„æ¨å¹¿ æ•°ç»„ å¹¿ä¹‰è¡¨ éçº¿æ€§ç»“æ„ æ ‘ç»“æ„ äºŒå‰æ ‘ å¤šå‰æ ‘ å›¾ç»“æ„ æœ‰å‘å›¾ æ— å‘å›¾ é›†åˆç»“æ„ çº¿æ€§è¡¨ ç”± $n(n \\geq 0)$ ä¸ªæ•°æ®ç‰¹æ€§ç›¸åŒçš„å…ƒç´ æ„æˆçš„æœ‰é™åºåˆ—ç§°ä¸ºçº¿æ€§è¡¨ã€‚$n=0$ æ—¶ï¼Œç§°ä¸ºç©ºè¡¨ã€‚éç©ºè¡¨çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š\nå­˜åœ¨å”¯ä¸€ä¸€ä¸ªâ€œç¬¬ä¸€ä¸ªâ€å…ƒç´ ã€‚ å­˜åœ¨å”¯ä¸€ä¸€ä¸ªâ€œæœ€åä¸€ä¸ªâ€å…ƒç´ ã€‚ ç›¸é‚»å…ƒç´ ä¹‹é—´å­˜åœ¨åºå¶å…³ç³»ï¼š é™¤ç¬¬ä¸€ä¸ªä¹‹å¤–ï¼Œç»“æ„ä¸­çš„æ¯ä¸ªæ•°æ®å…ƒç´ å‡åªæœ‰ä¸€ä¸ªå‰é©±ï¼› é™¤æœ€åä¸€ä¸ªä¹‹å¤–ï¼Œç»“æ„ä¸­çš„æ¯ä¸ªæ•°æ®å…ƒç´ å‡åªæœ‰ä¸€ä¸ªåç»§ã€‚ çº¿æ€§è¡¨çš„å­˜å‚¨ç»“æ„åˆ†ä¸ºï¼š\né¡ºåºå­˜å‚¨ï¼› é“¾å¼å­˜å‚¨ é¡ºåºå­˜å‚¨ç»“æ„ çº¿æ€§è¡¨çš„é¡ºåºå­˜å‚¨æ˜¯æŒ‡ç”¨ä¸€ç»„åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡å­˜å‚¨çº¿æ€§è¡¨ä¸­çš„æ•°æ®å…ƒç´ ï¼Œä»è€Œä½¿å¾—é€»è¾‘ä¸Šç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»ã€‚åœ¨è¿™ç§å­˜å‚¨æ–¹å¼ä¸‹ï¼Œå…ƒç´ é—´çš„é€»è¾‘å…³ç³»æ— é¡»å ç”¨é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨ã€‚\nå…¶å­˜å‚¨ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š\nå‡è®¾çº¿æ€§è¡¨çš„æ¯ä¸ªå…ƒç´ å ç”¨çš„å­˜å‚¨ç©ºé—´ä¸º$L$ï¼Œ$LOC(a_i)$ä¸ºç¬¬$i$ä¸ªå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼ˆ$0 \\le i \\le n-1$ï¼Œ$n$ä¸ºçº¿æ€§è¡¨çš„é•¿åº¦ï¼‰ï¼š\nç¬¬$i+1$ä¸ªå…ƒç´ å’Œç¬¬$i$ä¸ªå…ƒç´ çš„å­˜å‚¨ä½ç½®æ»¡è¶³ï¼š\n$$ LOC(a_{i+1})=LOC(a_i)+L $$\nç¬¬$i$ä¸ªå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼š\n$$ LOC(a_i)=LOC(a_0) + i \\times L $$\nå¦‚æœä¸‹æ ‡ä»1å¼€å§‹ï¼š\n$$ LOC(a_i)=LOC(a_1) + (i-1) \\times L $$\né¡ºåºå­˜å‚¨ç»“æ„çš„çº¿æ€§è¡¨çš„ç‰¹ç‚¹ï¼š\nä¼˜ç‚¹ï¼šå¯ä»¥éšæœºå­˜å–è¡¨ä¸­çš„å…ƒç´ ï¼Œä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´æ¥è¡¨è¾¾å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼› ç¼ºç‚¹ï¼šæ’å…¥å’Œåˆ é™¤æ“ä½œä¸æ–¹ä¾¿ã€æ•ˆç‡ä½ã€æ¯”è¾ƒè€—æ—¶ï¼ˆæ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦ç§»åŠ¨å…ƒç´ ï¼‰ï¼Œé¡ºåºè¡¨çš„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚ åœ¨è¡¨ä¸º$n$çš„çº¿æ€§è¡¨ä¸­ï¼Œæœ‰$n+1$ä¸ªæ’å…¥ä½ç½®ï¼ˆä¸è€ƒè™‘æ’å…¥æ˜¯å¦ä¼šå¯¼è‡´æº¢å‡ºï¼‰ï¼š\nåœ¨ç¬¬$i$ä¸ªæ’å…¥ä½ç½®æ’å…¥ï¼Œéœ€è¦ç§»åŠ¨$n+1-i$ä¸ªå…ƒç´ ã€‚\nåœ¨ç¬¬1ä¸ªä½ç½®æ’å…¥ï¼ˆ$a_1$ï¼‰éœ€è¦ç§»åŠ¨$n$ä¸ªå…ƒç´ ï¼› åœ¨ç¬¬$n+1$ä¸ªä½ç½®æ’å…¥ï¼ˆ$a_n$åé¢ï¼‰ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ è®¾åœ¨ç¬¬$i$ä¸ªæ’å…¥ä½ç½®æ’å…¥çš„æ¦‚ç‡ä¸º$p_i$ï¼Œç­‰æ¦‚ç‡ä¸‹ï¼ˆå‡å¦‚è¿™$n+1$ä¸ªæ’å…¥ä½ç½®æ’å…¥çš„æ¦‚ç‡ç›¸åŒï¼‰æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ éœ€è¦ç§»åŠ¨çš„å…ƒç´ ä¸ªæ•°çš„æœŸæœ›å€¼$E_{insert}$ä¸ºï¼š\n$$ E_{insert} = \\sum_{i=1}^{n+1}{ \\Big( p_i \\times (n-i+1) \\Big) } = \\cfrac{1}{n+1} \\sum_{i=1}^{n+1}{(n-i+1)} = \\cfrac{n+1}{2} $$\n$$ p_i = \\cfrac{1}{n+1} $$\nå³ï¼Œ$E_{insert} = \\cfrac{æ’å…¥ä½ç½®æ•°-1}{2} = \\cfrac{n+1}{2}$\nåœ¨è¡¨é•¿ä¸º$n$çš„çº¿æ€§è¡¨ä¸­åˆ é™¤å…ƒç´ æ—¶ï¼Œå…±æœ‰$n$ä¸ªå¯åˆ é™¤çš„å…ƒç´ ï¼š\nåˆ é™¤ç¬¬$i$ä¸ªå…ƒç´ $a_i$éœ€è¦ç§»åŠ¨$n-i$ä¸ªå…ƒç´ ã€‚\nåˆ é™¤å…ƒç´ $a_1$éœ€è¦ç§»åŠ¨$n-1$ä¸ªå…ƒç´ ï¼› åˆ é™¤å…ƒç´ $a_n$ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ è®¾$a_i$è¢«åˆ é™¤çš„æ¦‚ç‡ä¸º$q_i$ï¼Œç­‰æ¦‚ç‡ä¸‹åˆ é™¤å…ƒç´ æ—¶éœ€è¦ç§»åŠ¨çš„å…ƒç´ ä¸ªæ•°çš„æœŸæœ›å€¼$E_{delete}$ä¸ºï¼š\n$$ E_{delete} = \\sum_{i=1}^{n}{\\Big( q_i \\times (n-i) \\Big)} = \\cfrac{1}{n} \\sum_{i=1}^{n}{(n-i)} = \\cfrac{n-1}{2} $$\n$$ q_i = \\cfrac{1}{n} $$\nå³ï¼Œ$E_{delete} = \\cfrac{åˆ é™¤ä½ç½®æ•°}{2} = \\cfrac{n-1}{2}$\næ’å…¥æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼š\næœ€å¥½æƒ…å†µï¼ˆåœ¨ç¬¬$n+1$ä¸ªä½ç½®æ’å…¥ï¼‰ï¼š$O(1)$ï¼› æœ€åæƒ…å†µï¼ˆåœ¨ç¬¬1ä¸ªä½ç½®æ’å…¥ï¼‰ï¼š$O(n)$ï¼› å¹³å‡å¤æ‚åº¦ï¼š$O(n)$ã€‚ æŸ¥æ‰¾å…ƒç´ æ—¶é—´å¤æ‚åº¦ï¼ˆæ ¹æ®ä¸‹æ ‡æŸ¥æ‰¾ï¼‰ï¼š$O(1)$ã€‚\nç´¯åŠ æ±‚å’Œå…¬å¼ï¼š\n$$ \\sum_{i=0}^{n} i = \\cfrac{n(1+n)}{2} $$\nå³ç­‰å·®æ•°åˆ—æ±‚å’Œä¸­çš„ï¼š\n$$ S_n = \\cfrac{n(a_1 + a_n)}{2} $$\né“¾å¼å­˜å‚¨ç»“æ„ çº¿æ€§è¡¨çš„é“¾å¼å­˜å‚¨æ˜¯æŒ‡é€šè¿‡æŒ‡é’ˆé“¾æ¥èµ·æ¥çš„ç»“ç‚¹æ¥å­˜å‚¨æ•°æ®å…ƒç´ ã€‚\nå…¶å­˜å‚¨ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š\næ•°æ®åŸŸï¼šç”¨äºå­˜å‚¨æ•°æ®å…ƒç´ çš„å€¼ï¼›\næŒ‡é’ˆåŸŸï¼šç”¨äºå­˜å‚¨å½“å‰å…ƒç´ çš„ç›´æ¥å‰é©±æˆ–ç›´æ¥åç»§çš„ä½ç½®ä¿¡æ¯ï¼ˆç›´æ¥å‰æˆ–åé©±çš„æŒ‡é’ˆï¼Œç§°å…¶ä¸ºæŒ‡é’ˆæˆ–é“¾ï¼‰ã€‚\nå­˜å‚¨å„æ•°æ®å…ƒç´ çš„ç»“ç‚¹çš„åœ°å€å¹¶ä¸è¦æ±‚æ˜¯è¿ç»­çš„ï¼Œå› æ­¤å­˜å‚¨æ•°æ®å…ƒç´ çš„åŒæ—¶å¿…é¡»å­˜å‚¨å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚\né“¾å¼è¡¨çš„ç‰¹ç‚¹ï¼š\nç»“ç‚¹ç©ºé—´åªæœ‰åœ¨éœ€è¦çš„æ—¶å€™æ‰ç”³è¯·ï¼Œæ— é¡»äº‹å…ˆåˆ†é…ï¼› é•¿åº¦ä¸å›ºå®šã€‚ é“¾å¼è¡¨ç»“ç‚¹ä¹‹é—´é€šè¿‡æŒ‡é’ˆåŸŸæ„æˆä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥ç»“ç‚¹ä¸­åªæœ‰ä¸€ä¸ªæŒ‡é’ˆåŸŸï¼Œåˆ™ç§°ä¸ºçº¿æ€§é“¾è¡¨ã€‚\nä¸Šå›¾ä¸­çš„Headï¼šä¸€ä¸ªæŒ‡å‘é“¾è¡¨ç¬¬ä¸€ä¸ªç»“ç‚¹çš„é’ˆï¼Œç§°ä¸ºå¤´æŒ‡é’ˆã€‚ä½¿ç”¨å®ƒå°±å¯ä»¥é¡ºåºåœ°è®¿é—®åˆ°è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ã€‚\næ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦ï¼ˆå¸¦ä¸å¸¦å¤´èŠ‚ç‚¹çš„å¤æ‚åº¦éƒ½ä¸€æ ·ï¼‰ï¼š\næœ€å¥½æƒ…å†µï¼ˆåœ¨$i=1$ä½ç½®ï¼‰ï¼š$O(1)$ï¼› æœ€åæƒ…å†µï¼ˆåœ¨$n+1$ä½ç½®æ’å…¥/åˆ é™¤$n$ä½ç½®ï¼‰ï¼š$O(n)$ å¹³å‡å¤æ‚åº¦ï¼š$O(n)$ é“¾è¡¨æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å–å†³äºæŒ‡é’ˆéå†ã€‚\næ ˆ æ ˆæ˜¯ä¸€ç§åå…¥å…ˆå‡ºï¼ˆLast In First Outï¼ŒLIFOï¼‰çš„çº¿æ€§è¡¨ã€‚æ ˆåªèƒ½é€šè¿‡è®¿é—®å®ƒçš„ä¸€ç«¯æ¥å®ç°æ•°æ®å­˜å‚¨å’Œæ£€ç´¢ã€‚\næ ˆçš„åŸºæœ¬æ“ä½œæœ‰ï¼š\nå…¥æ ˆï¼šå°†å…ƒç´ ç½®å…¥æ ˆé¡¶ï¼› å‡ºæ ˆï¼šå°†å…ƒç´ ä»æ ˆé¡¶ä¸­å–å‡ºã€‚ è¯»å–æ ˆé¡¶å…ƒç´  æ ˆçš„å‡ºæ ˆé¡ºåºä¸€å®šå’Œå…¥æ ˆé¡ºåºç›¸åã€‚\né¡ºåºå­˜å‚¨ç»“æ„ æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„ä¹Ÿç§°ä¸ºé¡ºåºæ ˆã€‚\né¡ºåºæ ˆä½¿ç”¨ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆæ ‡è®°æ ˆé¡¶å…ƒç´ çš„ç´¢å¼•ä½ç½®ã€‚æ¯æ¬¡å‡ºæ ˆæ—¶éƒ½éœ€è¦é‡ç½®æ ˆé¡¶æŒ‡é’ˆï¼Œå°†æ ˆé¡¶æŒ‡é’ˆå‘ä¸‹ç§»åŠ¨ï¼Œæ ‡è®°åˆ°æ–°çš„æ ˆé¡¶å…ƒç´ ã€‚\né¡ºåºæ ˆçš„ç©ºé—´å®¹é‡æœ‰é™ï¼Œæ‰€ä»¥æ¯æ¬¡å…¥æ ˆæ—¶éƒ½éœ€è¦åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºæ»¡ã€‚\né“¾å¼å­˜å‚¨ç»“æ„ æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„ç§°ä¸ºé“¾æ ˆã€‚é“¾æ ˆçš„å¤´æŒ‡é’ˆå°±æ˜¯æ ˆé¡¶æŒ‡é’ˆã€‚\næ ˆçš„åº”ç”¨ æ ˆçš„å…¸å‹åº”ç”¨åŒ…æ‹¬è¡¨è¾¾å¼æ±‚å€¼ã€æ‹¬å·åŒ¹é…ç­‰ï¼Œåœ¨è®¡ç®—æœºè¯­è¨€çš„å®ç°ä»¥åŠå°†é€’å½’è¿‡ç¨‹è½¬å˜ä¸ºéé€’å½’è¿‡ç¨‹çš„å¤„ç†ä¸­ï¼Œæ ˆæœ‰é‡è¦çš„ä½œç”¨ã€‚\né˜Ÿåˆ— é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆå…¥å…ˆå‡ºï¼ˆFirst In First Outï¼ŒFIFOï¼‰çš„çº¿æ€§è¡¨ã€‚\né˜Ÿåˆ—åªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯æ’å…¥å…ƒç´ ï¼Œåœ¨è¡¨çš„å¦ä¸€ç«¯åˆ é™¤å…ƒç´ ã€‚\né˜Ÿå¤´ï¼ˆFrontï¼‰ï¼šå…è®¸åˆ é™¤å…ƒç´ çš„ä¸€ç«¯ï¼› é˜Ÿå°¾ï¼ˆRearï¼‰ï¼šå…è®¸æ’å…¥å…ƒç´ çš„ä¸€ç«¯ã€‚ é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œæœ‰ï¼š\nå…¥é˜Ÿï¼šå°†å…ƒç´ åŠ å…¥åˆ°é˜Ÿå°¾ï¼› å‡ºé˜Ÿï¼šå°†å…ƒç´ åŠ å…¥åˆ°å¯¹å¤´ã€‚ é˜Ÿåˆ—çš„å…¥é˜Ÿé¡ºåºä¸€å®šç­‰äºå‡ºé˜Ÿé¡ºåºã€‚\nä½¿ç”¨ä¸¤ä¸ªæ ˆå¯ä»¥æ¥æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—ï¼ˆä»ä¸€ä¸ªæ ˆå‡ºæ ˆåçš„å…ƒç´ å…¥å¦ä¸€ä¸ªæ ˆåå†å‡ºæ ˆï¼‰ã€‚\né¡ºåºå­˜å‚¨ç»“æ„ é˜Ÿåˆ—çš„é¡ºåºå­˜å‚¨ç»“æ„ç§°ä¸ºé¡ºåºé˜Ÿåˆ—ã€‚\né¡ºåºé˜Ÿåˆ—è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼š\né˜Ÿå¤´æŒ‡é’ˆï¼šæŒ‡å‘å¯¹å¤´å…ƒç´ çš„ä¸‹æ ‡ï¼› é˜Ÿå°¾æŒ‡é’ˆï¼šæŒ‡å‘é˜Ÿå°¾å…ƒç´ çš„ä¸‹æ ‡ã€‚ å¦‚æœé¡ºåºé˜Ÿåˆ—åªæŒ‰ç…§æ•°ç»„ä¸‹æ ‡å¤§å°é¡ºåºæ¥è®¾ç½®æŒ‡é’ˆï¼ˆå¯¹å¤´æŒ‡é’ˆçš„å€¼æ°¸ä¸å¤§äºé˜Ÿå°¾æŒ‡é’ˆï¼‰ï¼Œé‚£ä¹ˆåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ“ä½œåï¼Œå¯¹å¤´æŒ‡é’ˆæœ‰å¯èƒ½æŒ‡å‘çš„å¹¶ä¸æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶é˜Ÿåˆ—çš„é•¿åº¦æ°¸è¿œéƒ½åˆ°è¾¾ä¸äº†æ•°ç»„çš„é•¿åº¦ï¼ˆç©ºé—´æ— æ³•è¢«å……åˆ†åˆ©ç”¨ï¼Œå®é™…ä½¿ç”¨çš„é•¿åº¦å’Œé€»è¾‘é•¿åº¦ä¸ç¬¦ï¼‰ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•°ç»„æƒ³è±¡ä¸ºä¸€ä¸ªç¯å‹çš„ç»“æ„ï¼ˆå°†æœ€åä¸€ä¸ªå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ è¿æ¥èµ·æ¥ï¼Œé˜Ÿå¤´æŒ‡é’ˆå¯ä»¥æ¯”é˜Ÿå°¾æŒ‡é’ˆå¤§ï¼‰ã€‚å¦‚æœæ­¤æ—¶é˜Ÿåˆ—çš„çŠ¶æ€æ˜¯ä¸Šå›¾ä¸­æ­¥éª¤$(e)$çš„çŠ¶æ€ï¼Œæ­¤æ—¶å†æ’å…¥å…ƒç´ ï¼Œå¯ä»¥å°†å…ƒç´ æ”¾åœ¨æ•°ç»„ç´¢å¼•0çš„ä½ç½®ï¼Œå†è®©é˜Ÿå°¾æŒ‡é’ˆå§‹ç»ˆä¿æŒåœ¨é˜Ÿåˆ—æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ä¹‹åå³å¯ã€‚å°†è¿™ç§é˜Ÿåˆ—ç§°ä¸ºå¾ªç¯é˜Ÿåˆ—ï¼Œå¦‚ï¼š\né“¾å¼å­˜å‚¨ç»“æ„ é˜Ÿåˆ—çš„é“¾å¼å­˜å‚¨ä¹Ÿç§°ä¸ºé“¾é˜Ÿåˆ—ï¼ˆé“¾é˜Ÿï¼‰ã€‚è¿™é‡Œä¸ºäº†ä¾¿äºæ“ä½œï¼Œå¯ä»¥ç»™é“¾é˜Ÿåˆ—æ·»åŠ ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œå¹¶ä»¤å¤´æŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹ã€‚å› æ­¤ï¼Œé˜Ÿåˆ—ä¸ºç©ºçš„åˆ¤å®šæ¡ä»¶æ˜¯å¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆçš„å€¼ç›¸åŒï¼Œä¸” å‡æŒ‡å‘å¤´ç»“ç‚¹ã€‚\né˜Ÿåˆ—çš„åº”ç”¨ é˜Ÿåˆ—ç»“æ„å¸¸ç”¨äºå¤„ç†éœ€è¦æ’é˜Ÿçš„åœºåˆï¼Œä¾‹å¦‚æ“ä½œç³»ç»Ÿä¸­å¤„ç†æ‰“å°ä»»åŠ¡çš„æ‰“å°é˜Ÿåˆ—ã€ç¦»æ•£äº‹ä»¶çš„è®¡ç®—æœºæ¨¡æ‹Ÿç­‰ã€‚\nä¸² ä¸²ï¼ˆå­—ç¬¦ä¸²ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå…¶æ•°æ®å…ƒç´ ä¸ºå­—ç¬¦ã€‚\nä¸²å…·æœ‰è‡ªèº«çš„ç‰¹æ€§ï¼Œè¿ç®—æ—¶å¸¸å¸¸æŠŠä¸€ä¸ªä¸²ä½œä¸ºä¸€ä¸ªæ•´ä½“æ¥å¤„ç†ã€‚\nä¸²çš„åŸºæœ¬æ¦‚å¿µå’Œæ“ä½œï¼š\nç©ºä¸²ï¼šé•¿åº¦ä¸º0çš„ä¸²ï¼›\nå­ä¸²ï¼šç”±ä¸²ä¸­ä»»æ„é•¿åº¦çš„è¿ç»­å­—ç¬¦æ„æˆçš„åºåˆ—ç§°ä¸ºå­ä¸²ã€‚å«æœ‰å­ä¸²çš„ä¸²ç§°ä¸ºä¸»ä¸²ã€‚å­ä¸²åœ¨ä¸»ä¸²ä¸­çš„ä½ç½®æ˜¯æŒ‡å­ä¸²é¦–æ¬¡å‡ºç°æ—¶ï¼Œè¯¥å­ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åœ¨ä¸»ä¸²ä¸­çš„ä½ç½®ã€‚ç©ºä¸²æ˜¯ä»»æ„ä¸²çš„å­ä¸²ã€‚\nä¸²ç›¸ç­‰ï¼šæŒ‡ä¸¤ä¸ªä¸²é•¿åº¦ç›¸ç­‰ä¸”å¯¹åº”åºå·çš„å­—ç¬¦ä¹Ÿç›¸åŒã€‚\nä¸²æ¯”è¾ƒï¼šä¸¤ä¸ªä¸²æ¯”è¾ƒå¤§å°æ—¶ä»¥å­—ç¬¦çš„ASCâ…¡ç å€¼ï¼ˆæˆ–å…¶ä»–å­—ç¬¦ç¼–ç é›†åˆï¼‰ä½œä¸ºä¾æ®ã€‚\nå®è´¨ä¸Šï¼Œæ¯”è¾ƒæ“ä½œä»ä¸¤ä¸ªä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¿›è¡Œï¼Œå­—ç¬¦çš„ç å€¼å¤§è€…æ‰€åœ¨çš„ä¸²ä¸ºå¤§ï¼›è‹¥å…¶ä¸­ä¸€ä¸ªä¸²å…ˆç»“æŸï¼Œåˆ™ä»¥ä¸²é•¿è¾ƒå¤§è€…ä¸ºå¤§ã€‚\nèµ‹å€¼ï¼š\næ‹·è´èµ‹å€¼ï¼šå°†ä¸€ä¸ªä¸²çš„å€¼èµ‹ç»™å¦ä¸€ä¸ªä¸²ï¼› å¼•ç”¨ï¼ˆåœ°å€ï¼‰èµ‹å€¼ï¼šå°†ä¸€ä¸ªä¸²çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰èµ‹ç»™å¦ä¸€ä¸ªä¸²ã€‚é‚£ä¹ˆè¿™ä¸ªä¸²å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªä¸²ä¸­çš„å€¼ï¼Œä½†æ˜¯å¯¹è¿™ä¸ªä¸²æ‰€åšçš„æ“ä½œï¼Œä¹Ÿä¼šä½œç”¨åˆ°å¦ä¸€ä¸ªä¸²ã€‚ è¿æ¥ä¸²ï¼šå°†ä¸€ä¸ªä¸²æ’å…¥åˆ°å¦ä¸€ä¸ªä¸²å°¾ã€‚\næ’å…¥ä¸²ï¼šå°†ä¸€ä¸ªä¸²æ’å…¥åˆ°å¦ä¸€ä¸ªä¸²çš„ä»»æ„ä½ç½®ä¸­ã€‚\né¡ºåºå­˜å‚¨ç»“æ„ ä¸²çš„é¡ºåºå­˜å‚¨ç»“æ„æ˜¯ä¸€ç§å®šé•¿çš„ä¸²ï¼ˆç±»ä¼¼é¡ºåºè¡¨ï¼‰ã€‚\né“¾å¼å­˜å‚¨ç»“æ„ ä¸²çš„é“¾å¼å­˜å‚¨ç»“æ„å¯ä»¥æ–¹ä¾¿åœ°å¯¹ä¸²è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œï¼ˆç±»ä¼¼é“¾è¡¨ï¼‰ã€‚\nä¸²çš„æ¨¡å¼åŒ¹é… å­ä¸²çš„å®šä½æ“ä½œé€šå¸¸ç§°ä¸ºä¸²çš„æ¨¡å¼åŒ¹é…ã€‚å­ä¸²ä¹Ÿç§°ä¸ºæ¨¡å¼ä¸²ã€‚\næœ‰å…³ä¸²æ¨¡å¼åŒ¹é…ç®—æ³•çš„è¯¦ç»†è®²è§£å¯ä»¥æŸ¥çœ‹ï¼šç»å…¸å­—ç¬¦ä¸²åŒ¹é…\næœ´ç´ çš„æ¨¡å¼åŒ¹é…ç®—æ³• æœ´ç´ çš„æ¨¡å¼åŒ¹é…ç®—æ³•ä¹Ÿç§°ä¸ºå¸ƒé²ç‰¹ä¸€ç¦æ–¯ç®—æ³•ï¼ˆå³æš´åŠ›åŒ¹é…ç®—æ³•ï¼‰ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯ä»ä¸»ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦èµ·ä¸æ¨¡å¼ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™ç»§ç»­é€ä¸€å¯¹å­—ç¬¦è¿›è¡Œåç»­çš„æ¯”è¾ƒï¼Œå¦åˆ™ä»ä¸»ä¸²ç¬¬äºŒä¸ªå­—ç¬¦èµ·ä¸æ¨¡å¼ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦é‡æ–°æ¯”è¾ƒï¼Œç›´åˆ°æ¨¡å¼ä¸²ä¸­æ¯ä¸ªå­—ç¬¦ä¾æ¬¡å’Œä¸»ä¸²ä¸­ä¸€ä¸ªè¿ç»­çš„å­—ç¬¦åºåˆ—ç›¸ç­‰æ—¶ä¸ºæ­¢ï¼Œæ­¤æ—¶ç§°ä¸ºåŒ¹é…æˆåŠŸã€‚å¦‚æœä¸èƒ½åœ¨ä¸»ä¸²ä¸­æ‰¾åˆ°ä¸æ¨¡å¼ä¸²ç›¸åŒçš„å­ä¸²ï¼Œåˆ™åŒ¹é…å¤±è´¥ã€‚\nè®¾ä¸»ä¸²å’Œæ¨¡å¼ä¸²çš„é•¿åº¦åˆ†åˆ«ä¸º$n$å’Œ$m$ï¼Œç®—æ³•æ—¶é—´å¤æ‚åº¦å’Œæ¯”è¾ƒæ¬¡æ•°ï¼š\næœ€å¥½æƒ…å†µï¼š$O(m)$ï¼Œæ¬¡æ•°ä¸º$m$ï¼›\næœ€åæƒ…å†µï¼š$O(n \\times m)$ï¼Œæ¬¡æ•°ä¸º$\\cfrac{1}{2} m(n-m+2)$ï¼š\n$$ \\sum_{i=0}^{n-m}{p_i\\big( (i+1) \\times m \\big)} = \\cfrac{m}{n-m+1} \\sum_{i=0}^{n-m}{(i+1)} = \\cfrac{1}{2} m(n-m+2) $$\nå¹³å‡ï¼š$O(n+m)$ï¼Œæ¬¡æ•°ä¸º$\\cfrac{1}{2} (n+m)$ï¼š\n$$ \\sum_{i=0}^{n-m}{p_i(i+m)} = \\cfrac{1}{n-m+1} \\sum_{i=0}^{n-m}{i+m} = \\cfrac{1}{2} (n+m) $$\nKMP ç®—æ³• KMPç®—æ³•åˆç§°ä¸ºæ”¹è¿›çš„æ¨¡å¼åŒ¹é…ç®—æ³•ã€‚\nä¸²çš„å‰ç¼€ï¼šåŒ…å«ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œä¸”ä¸åŒ…å«æœ€åä¸€ä¸ªå­—ç¬¦çš„å­ä¸²ï¼› ä¸²çš„åç¼€ï¼šåŒ…å«æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œä¸”ä¸åŒ…å«ç¬¬ä¸€ä¸ªå­—ç¬¦çš„å­ä¸²ã€‚ å‰ç¼€é›†åˆï¼šåŒ…å«ä¸²çš„æ‰€æœ‰å‰ç¼€çš„é›†åˆï¼› åç¼€é›†åˆï¼šåŒ…å«ä¸²çš„æ‰€æœ‰åç¼€çš„é›†åˆã€‚ KMPçš„é‡ç‚¹æ˜¯æ±‚æ¨¡å¼ä¸²å­—ç¬¦çš„nextå€¼ï¼ˆå¤±é…æŒ‡é’ˆ$Next[\\ i\\ ]$ï¼‰ï¼Œå‡è®¾$a_{i-1}$ä¸ºå½“å‰è¦æ±‚nextå€¼çš„æ¨¡å¼ä¸²å­—ç¬¦ï¼š\nå‰ç¼€é›†åˆï¼š\n$$ Prefix=\\{p_0,p_0p_1,\\cdots,p_0\u0026hellip;p_{i-1}\\} $$\nåç¼€é›†åˆï¼š\n$$ Postfix=\\{p_{i-1},p_{i-2}p_{i-1},\\cdots,p_1\u0026hellip;p_{i-1}\\} $$\nå¤±é…æŒ‡é’ˆï¼š\n$$ Next[i] = \\begin{cases} -1 \u0026amp; å½“\\ i=0 æ—¶ \\\\ max \u0026amp; \\{ k|0\u0026lt;k\u0026lt;i ä¸” \u0026ldquo;p_0\\cdots p_{k-1}\u0026rdquo; = \u0026ldquo;p_{i-k}\\cdots p_{i-1}\u0026rdquo; \\} \\\\ 0 \u0026amp; å…¶ä»–æƒ…å†µ \\end{cases} $$\nå³ï¼š\n$Next[0] = -1$ï¼› $Next[i] = maxLen(Prefix \\cap Postfix)$ å¯ä»¥è§£é‡Šä¸ºï¼š\n$$ Next[\\ i\\ ] = å‰iä¸ªå­ä¸²çš„æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ $$\nç‰¹æ®Šæƒ…å†µï¼š$Next[\\ 1\\ ] = 0$ï¼Œå› ä¸ºå…¶å‰ç¼€é›†åˆå’Œåç¼€é›†åˆéƒ½ä¸ºç©ºã€‚\nå¤±é…è¡¨æ˜¯ç”¨æ¥æŒ‡ç¤ºåŒ¹é…å¤±è´¥åæŒ‡é’ˆè¯¥å¦‚ä½•ç§»åŠ¨çš„ã€‚\nå¤±é…è¡¨çš„å»ºç«‹è·Ÿè¦åŒ¹é…çš„ä¸²æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä»…è·Ÿæ¨¡å¼ä¸²æœ‰å…³ã€‚\nå¤šç»´æ•°ç»„ å¤šç»´æ•°ç»„æ˜¯å®šé•¿çº¿æ€§è¡¨åœ¨ç»´æ•°ä¸Šçš„æ‰©å±•ï¼Œå³çº¿æ€§è¡¨ä¸­çš„å…ƒç´ åˆæ˜¯ä¸€ä¸ªçº¿æ€§è¡¨ã€‚å¤šç»´æ•°ç»„æ˜¯ä¸€ç§â€œåŒæ„â€çš„æ•°æ®ç»“æ„ï¼Œå…¶æ¯ä¸ªæ•°æ®å…ƒç´ ç±»å‹ç›¸åŒã€ç»“æ„ä¸€è‡´ã€‚\nä¸€ç»´æ•°ç»„ï¼šå³çº¿æ€§è¡¨ã€‚\näºŒç»´æ•°ç»„ï¼ˆä»…è®¨è®ºé¡ºåºå­˜å‚¨ç»“æ„ï¼‰ï¼š\näºŒç»´æ•°ç»„çš„å­˜å‚¨ç»“æ„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå¯ä»¥åˆ†ä¸ºä»¥è¡Œä¸ºä¸»åºï¼ˆä¸‹å›¾å·¦è¾¹ï¼‰å’Œä»¥åˆ—ä¸ºä¸»åºï¼ˆä¸‹å›¾å³è¾¹ï¼‰ä¸¤ç§ã€‚\nè®¾ï¼š\näºŒç»´æ•°ç»„ä¸º$A[n,m]$ï¼Œ$n$ä¸ºè¡Œæ•°ï¼Œ$m$ä¸ºåˆ—æ•°ï¼› æ•°ç»„å…ƒç´ $a_{i,j},\\ 0 \\le i \\le n-1,\\ 0 \\le j \\le m-1$ï¼› $LOC(a_{i,j})$ä¸ºå…ƒç´ $a_{i,j}$çš„åœ°å€ï¼› $L$ä¸ºå•ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´å¤§å°ã€‚ åˆ™æœ‰ï¼š\nä»¥è¡Œä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{0,0}) + (i \\times n + j) \\times L $$\nå¦‚æœä¸‹æ ‡ä»1å¼€å§‹ï¼ˆ$1 \\le i \\le n,\\ 1 \\le j \\le m$ï¼‰ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{1,1}) + \\big( (i-1) \\times n + (j-1) \\big) \\times L $$\nä»¥åˆ—ä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{0,0}) + (i + j \\times m) \\times L $$\nå¦‚æœä¸‹æ ‡ä»1å¼€å§‹ï¼ˆ$1 \\le i \\le n,\\ 1 \\le j \\le m$ï¼‰ï¼š\n$$ LOC(a_{i,j}) = LOC(a_{1,1}) + \\big( (i-1) + (j-1) \\times m \\big) \\times L $$\nä¼˜å…ˆå­˜å‚¨è¯´æ³•é—®é¢˜ï¼š\nä»¥è¡Œä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨çš„æ„æ€åº”è¯¥æ˜¯åœ¨å†…å­˜ä¸­æŒ‰è¡Œå­˜å‚¨ã€‚ä»¥åˆ—ä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨çš„æ„æ€åº”è¯¥æ˜¯åœ¨å†…å­˜ä¸­æŒ‰åˆ—å­˜å‚¨ã€‚\nå‡è®¾ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸ºï¼š\n$$ \\begin{vmatrix} a_{11} \u0026amp; a_{12} \u0026amp; a_{13} \u0026amp; a_{14} \\\\ a_{21} \u0026amp; a_{22} \u0026amp; a_{23} \u0026amp; a_{24} \\\\ a_{31} \u0026amp; a_{32} \u0026amp; a_{33} \u0026amp; a_{34} \\\\ a_{41} \u0026amp; a_{42} \u0026amp; a_{43} \u0026amp; a_{44} \\\\ a_{51} \u0026amp; a_{52} \u0026amp; a_{53} \u0026amp; a_{54} \\end{vmatrix} $$\næŒ‰ç…§ä»¥è¡Œä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨çš„å…¬å¼ï¼Œå®ƒåœ¨å†…å­˜ä¸­åº”è¯¥æ˜¯åˆ†ä¸ºäº†5ä¸ªåœ°å€è¿ç»­çš„æ•°ç»„æ¥å­˜å‚¨ã€‚å³å†…å­˜ä¸­ï¼Œ$[a_{11},a_{12},a_{13},a_{14}]$ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå…¶åå†æ¥ä¸€ä¸ªæ•°ç»„$[a_{12},a_{22},a_{23},a_{24}]$ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåœ¨å†…å­˜ä¸­æŒ‰ç…§åˆ—çš„å…ƒç´ ä½œä¸ºä¸€ä¸ªè¿ç»­çš„ä¸€ç»´æ•°ç»„å•ä½ï¼Œå†æŒ‰ç…§ç¬¬1è¡Œåæ¥ç¬¬2è¡Œä½œä¸ºæ•´ä¸ªè¿ç»­çš„äºŒç»´æ•°ç»„ã€‚å®ƒä»¬åœ¨å†…å­˜ä¸­çš„åœ°å€é¡ºåºæ˜¯ï¼š\n$$ a_{11},a_{12},\u0026hellip;,a_{14},\\\\ a_{21},\u0026hellip;,a_{24},\\\\ a_{31},\u0026hellip;,a_{34},\\\\ a_{41},\u0026hellip;,a_{44},\\\\ a_{51},\u0026hellip;,a_{54} $$\né‚£ä¹ˆä»¥åˆ—ä¸ºä¸»åºä¼˜å…ˆå­˜å‚¨çš„åœ°å€é¡ºåºå°±ä¸ºï¼š\n$$ a_{11},a_{21},\u0026hellip;,a_{51},\\\\ a_{12},\u0026hellip;,a_{52},\\\\ a_{13},\u0026hellip;,a_{53},\\\\ a_{14},\u0026hellip;,a_{54} $$\nä¸€èˆ¬çŸ©é˜µéƒ½ç”¨äºŒç»´æ•°ç»„æ¥è¡¨ç¤ºï¼Œä½†æ˜¯å¯¹äºä¸€äº›ç‰¹æ®ŠçŸ©é˜µï¼Œå¦‚å¯¹ç§°çŸ©é˜µã€ä¸‰è§’çŸ©é˜µå’Œå¯¹è§’çŸ©é˜µã€‚å®ƒä»¬çš„é0å…ƒç´ çš„åˆ†å¸ƒå­˜åœ¨ä¸€å®šè§„å¾‹ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶å‹ç¼©å­˜å‚¨åœ¨ä¸€ç»´æ•°ç»„ä¸­ï¼Œå¹¶ä¸”å®ƒä»¬çš„å¤šä¸ªå€¼ç›¸åŒçš„å…ƒç´ ï¼ˆæŒ‰ç…§å¯¹åº”ç‰¹æ®ŠçŸ©é˜µå®šä¹‰ä¸Šçš„å€¼ç›¸åŒï¼Œå¹¶éç®€å•çš„å€¼ç›¸åŒï¼‰åªåˆ†é…ä¸€ä¸ªå­˜å‚¨å•ä½ã€‚\nå¯¹ç§°çŸ©é˜µ è‹¥çŸ©é˜µ$A_{n \\times n}$ä¸­çš„å…ƒç´ ç‰¹ç‚¹ä¸º$a_{ij}=a_{ji}\\ (1 \\le i,j \\le n)$ï¼Œåˆ™ç§°ä¹‹ä¸º$n$é˜¶å¯¹ç§°çŸ©é˜µã€‚\nå¯¹ç§°çŸ©é˜µ$A_{n \\times n}$ï¼š\n$$ \\begin{vmatrix} a_{11} \u0026amp; a_{12} \u0026amp; \\cdots \u0026amp; a_{1n} \\\\ a_{21} \u0026amp; a_{22} \u0026amp; \\cdots \u0026amp; a_{2n} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ a_{n1} \u0026amp; a_{n2} \u0026amp; \\cdots \u0026amp; a_{nn} \\end{vmatrix} $$\nå…¶ä¸­ä»¥å¯¹è§’çº¿åˆ’åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š\nä¸»å¯¹è§’çº¿ï¼š$a{11},a_{22},\\cdots,a_{nn}$ï¼Œå…±æœ‰$n$ä¸ªå…ƒç´ ï¼›\nä¸Šä¸‰è§’åŒºï¼šå¯¹è§’çº¿ä»¥ä¸Šçš„æ‰€æœ‰å…ƒç´ ï¼Œå³ï¼š\n$$ \\begin{vmatrix} 0 \u0026amp; a_{12} \u0026amp; a_{13} \u0026amp; \\cdots \u0026amp; a_{1n} \\\\ 0 \u0026amp; 0 \u0026amp; a_{23} \u0026amp; \\cdots \u0026amp; a_{2n} \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\\\ 0 \u0026amp; 0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; a_{(n-1)n} \\\\ 0 \u0026amp; 0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \\end{vmatrix} $$\nä¸‹ä¸‰è§’åŒºï¼šå¯¹è§’çº¿ä»¥ä¸‹çš„æ‰€æœ‰å…ƒç´ ï¼Œå’Œä¸Šä¸‰è§’åŒºçš„ä¸ªæ•°ç›¸ç­‰å¹¶ä¸”é‡å¤ã€‚\nå¯ä»¥å°†å¯¹ç§°çŸ©é˜µä¸­ï¼Œ$n^2$ä¸ªå…ƒç´ å‹ç¼©å­˜å‚¨åˆ°$\\cfrac{n(n+1)}{2}$ä¸ªå…ƒç´ çš„å­˜å‚¨ç©ºé—´ä¸­ã€‚ä¸€èˆ¬æ˜¯å­˜å‚¨ä¸‹ä¸‰è§’åŒºå’Œå¯¹è§’çº¿ã€‚\nå‡è®¾å°†$n$é˜¶å¯¹ç§°çŸ©é˜µ$A_{n \\times n}$å‹ç¼©å­˜å‚¨åˆ°ä¸€ç»´æ•°ç»„$B\\left[ \\cfrac{n(n+1)}{2} \\right]$ï¼Œåˆ™$B[k]\\ (1 \\le k \\le \\cfrac{n(n+1)}{2})$ä¸çŸ©é˜µå…ƒç´ $a_{ij}(a_{ji})\\ (1 \\le i,j \\le n)$ä¹‹é—´å­˜åœ¨ä¸€ä¸€å¯¹åº”å…³ç³»ï¼ˆä»¥è¡Œä¸ºä¸»åºï¼‰ï¼š\n$$ k = \\begin{cases} \\cfrac{i(i-1)}{2} + j, \u0026amp; å½“\\ i \\ge j \\\\ \\cfrac{j(j-1)}{2} + i, \u0026amp; å½“\\ i \u0026lt; j \\end{cases} $$\nå¦‚æœä¸‹æ ‡ä»0å¼€å§‹ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ ä¸º$a_{00}$ï¼Œ$0 \\le k \\le \\cfrac{n(n+1)}{2} - 1$ï¼Œå¹¶ä¸”$0 \\le i,j \\le n-1$ï¼‰ï¼š\n$$ k = \\begin{cases} \\cfrac{i(i+1)}{2} + j + 1, \u0026amp; å½“\\ i \\ge j \\\\ \\cfrac{j(j+1)}{2} + i + 1, \u0026amp; å½“\\ i \u0026lt; j \\end{cases} $$\nä¸ºä»€ä¹ˆ$length(B) = \\cfrac{n(n+1)}{2}$ï¼ˆå‹ç¼©å­˜å‚¨çš„ä¸€ç»´æ•°ç»„å¤§å°ï¼‰ï¼š\nä¸»å¯¹è§’çº¿çš„å…ƒç´ çš„å¤§å°ä¸º$n$ï¼Œä¸‹ä¸‰è§’åŒºçš„å¯¹è§’çº¿å¤§å°åˆ†åˆ«ä¸º$n-1,n-2,\u0026hellip;,1$ã€‚å³ï¼š $$ length(B) = \\sum_{i=1}^{n}{i} = \\cfrac{n(n+1)}{2} $$\nPSï¼šã€Šè½¯ä»¶è®¾è®¡å¸ˆæ•™ç¨‹ï¼ˆç¬¬äº”ç‰ˆï¼‰ã€‹ä¸­ä¸€ç»´æ•°ç»„çš„ä¸‹æ ‡$k$çš„å–å€¼èŒƒå›´é”™äº†ï¼š\nå¾ˆæ˜æ˜¾ä¸æ˜¯$\\left[ 1, \\cfrac{n(n+1)}{2} \\right)$ï¼Œè€Œåº”è¯¥æ˜¯$\\left[ 1, \\cfrac{n(n+1)}{2} \\right]$ã€‚\nä¸‰å¯¹è§’çŸ©é˜µ å¯¹è§’çŸ©é˜µæ˜¯æŒ‡çŸ©é˜µä¸­çš„é0å…ƒç´ éƒ½é›†ä¸­åœ¨ä»¥ä¸»å¯¹è§’çº¿ä¸ºä¸­å¿ƒçš„å¸¦çŠ¶åŒºåŸŸä¸­ï¼Œå³é™¤äº†ä¸»å¯¹è§’çº¿ä¸Šå’Œç›´æ¥åœ¨å¯¹è§’çº¿ä¸Šã€ä¸‹æ–¹è‹¥å¹²æ¡å¯¹è§’çº¿ä¸Šçš„å…ƒç´ å¤–ï¼Œå…¶ä½™çš„çŸ©é˜µå…ƒç´ éƒ½ä¸º0ã€‚ä¸‰å¯¹è§’çŸ©é˜µæ˜¯å¯¹è§’çŸ©é˜µä¸­çš„ä¸€ç§ï¼ŒåŒ…æ‹¬ä¸»å¯¹è§’çº¿å’Œåœ¨ä¸»å¯¹è§’çº¿ä¸Šã€ä¸‹æ–¹çš„å„ä¸€æ¡å¯¹è§’ä¸ºé0å…ƒç´ ï¼š\n$$ \\begin{vmatrix} a_{11} \u0026amp; a_{12} \u0026amp; 0 \u0026amp; \\cdots \u0026amp; 0 \u0026amp; 0 \\\\ a_{21} \u0026amp; a_{22} \u0026amp; a_{23} \u0026amp; \\cdots \u0026amp; 0 \u0026amp; 0 \\\\ 0 \u0026amp; a_{32} \u0026amp; a_{33} \u0026amp; \\cdots \u0026amp; 0 \u0026amp; 0 \\\\ 0 \u0026amp; 0 \u0026amp; a_{43} \u0026amp; \\cdots \u0026amp; 0 \u0026amp; 0 \\\\ \\vdots \u0026amp; \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \u0026amp; \\vdots \\\\ 0 \u0026amp; 0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; a_{(n-1)(n-1)} \u0026amp; a_{(n-1)n} \\\\ 0 \u0026amp; 0 \u0026amp; 0 \u0026amp; \\cdots \u0026amp; a_{n(n-1)} \u0026amp; a_{nn} \\end{vmatrix} $$\nè®¾æœ‰$n$é˜¶ä¸‰å¯¹è§’çŸ©é˜µ$A_{n \\times n}$ï¼Œå°†å…¶é0å…ƒç´ $a_{ij}(a_{ji})\\ (1 \\le i,j \\le n)$å­˜å‚¨åœ¨ä¸€ç»´æ•°ç»„$B[k](1 \\le k \\le 3 \\times n - 2)$ä¸­ï¼Œåˆ™å…ƒç´ ä½ç½®ä¹‹é—´çš„å¯¹åº”å…³ç³»ä¸ºï¼š\n$$ k = 3 \\times (i-1) - 1 + j - i + 1 + 1 = 2i + j -2 $$\nå¦‚æœä¸‹æ ‡ä»0å¼€å§‹ï¼ˆ$0 \\le k \\le 3(n-1)$ï¼Œå¹¶ä¸”$0 \\le i,j \\le n-1$ï¼‰ï¼š\n$$ k = 3 \\times i - 1 + j - i + 1 + 1 = 2i + j + 1 $$\nç¨€ç–çŸ©é˜µ åœ¨ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œè‹¥é0å…ƒç´ çš„ä¸ªæ•°è¿œè¿œå°‘äº0å…ƒç´ çš„ä¸ªæ•°ï¼Œä¸”é0å…ƒç´ çš„åˆ†å¸ƒæ²¡æœ‰è§„å¾‹ï¼Œåˆ™ç§°ä¹‹ä¸ºç¨€ç–çŸ©é˜µã€‚\nå¯¹äºç¨€ç–çŸ©é˜µï¼Œå­˜å‚¨é0å…ƒç´ æ—¶å¿…é¡»åŒæ—¶å­˜å‚¨å…¶ä½ç½®ï¼ˆå³è¡Œå·å’Œåˆ—å·ï¼‰ï¼Œç”¨ä¸‰å…ƒç»„$(i,j,a_{ij})$å¯å”¯ä¸€ç¡®å®šçŸ©é˜µ$A$ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚\nå¯ä»¥ç”¨ä¸‰å…ƒç»„è¡¨æ¥å­˜å‚¨è¿™äº›ä¸‰å…ƒç»„ã€‚ç¨€ç–çŸ©é˜µçš„ä¸‰å…ƒç»„è¡¨çš„é¡ºåºå­˜å‚¨ç»“æ„ç§°ä¸ºä¸‰å…ƒç»„é¡ºåºè¡¨ï¼Œå¸¸ç”¨çš„ä¸‰å…ƒç»„è¡¨çš„é“¾å¼å­˜å‚¨ç»“æ„æ˜¯åå­—é“¾è¡¨ã€‚\næ ‘ æ ‘ç»“æ„æ˜¯ä¸€ç§éçº¿æ€§ç»“æ„ï¼Œè¯¥ç»“æ„ä¸­çš„ä¸€ä¸ªæ•°æ®å…ƒç´ å¯ä»¥æœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ç›´æ¥åç»§å…ƒç´ ã€‚\næ ‘ï¼ˆTreeï¼‰æ˜¯ $n(n\\ge0)$ ä¸ªç»“ç‚¹çš„æœ‰é™é›†ã€‚\nç©ºæ ‘ï¼š$n=0$ï¼› éç©ºæ ‘ï¼š$n\u0026gt;0$ï¼Œ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œ é™¤æ ¹èŠ‚ç‚¹å¤–çš„å…¶ä½™ç»“ç‚¹å¯åˆ†ä¸º $m(m\u0026gt;0)$ ä¸ªäº’ä¸ç›¸äº¤çš„é›†åˆï¼Œå³å­æ ‘ï¼ˆSubTreeï¼‰$T_1,T_2,\\cdots,T_m$ã€‚ æ ‘çš„å®šä¹‰æ˜¯é€’å½’çš„ï¼š\nä¸€æ£µæ ‘ç”±è‹¥å¹²æ£µå­æ ‘æ„æˆï¼› å­æ ‘åˆç”±æ›´å°çš„å­æ ‘æ„æˆã€‚ åŸºæœ¬æ¦‚å¿µ æœ¯è¯­ åº¦ï¼šç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ã€‚æ•´ä¸ªæ ‘çš„åº¦æ˜¯æ ‘å†…å„ç»“ç‚¹åº¦çš„æœ€å¤§å€¼ã€‚ å¶ç»“ç‚¹ï¼šåº¦ä¸º 0 çš„ç»“ç‚¹ï¼Œä¹Ÿç§°ç»ˆç«¯ç»“ç‚¹ã€‚ éç»ˆç«¯ç»“ç‚¹ï¼šåº¦ä¸ä¸º 0 çš„ç»“ç‚¹ï¼Œä¹Ÿç§°åˆ†æ”¯ç»“ç‚¹ã€‚ å†…éƒ¨ç»“ç‚¹ï¼šé™¤æ ¹èŠ‚ç‚¹å¤–çš„éç»ˆç«¯ç»“ç‚¹ã€‚ å­èŠ‚ç‚¹ï¼šç»“ç‚¹å­æ ‘çš„æ ¹ç»“ç‚¹ã€‚ çˆ¶ç»“ç‚¹ï¼šä¸å­ç»“ç‚¹ç›¸è¿çš„ä¸Šä¸€å±‚çš„å”¯ä¸€ä¸€ä¸ªç»“ç‚¹ã€‚ å…„å¼Ÿç»“ç‚¹ï¼šåŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹‹é—´äº’ä¸ºå…„å¼Ÿã€‚ ç¥–å…ˆç»“ç‚¹ï¼šä»æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹æ‰€ç»åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼ˆåŒ…æ‹¬å…¶çˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸åŒ…æ‹¬å…¶æœ¬èº«ï¼‰ã€‚ å­å­™ç»“ç‚¹ï¼šä»¥æŸç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­çš„æ‰€æœ‰ç»“ç‚¹ã€‚ å ‚å…„å¼Ÿç»“ç‚¹ï¼šçˆ¶èŠ‚ç‚¹åœ¨åŒä¸€å±‚ï¼ˆä½†ä¸æ˜¯åŒä¸€ä¸ªï¼‰çš„ç»“ç‚¹äº’ä¸ºå ‚å…„å¼Ÿã€‚ å±‚æ¬¡ï¼šä»¥æ ¹ç»“ç‚¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­èŠ‚ç‚¹ä¸ºç¬¬äºŒå±‚ â€¦â€¦ æ ‘ä¸­ä»»æ„ç»“ç‚¹çš„å±‚æ¬¡ç­‰äºå…¶çˆ¶èŠ‚ç‚¹çš„å±‚æ¬¡åŠ  1ã€‚ æ ‘çš„é«˜åº¦ï¼šæ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡ï¼Œä¹Ÿç§°æ ‘çš„æ·±åº¦ã€‚ æ£®æ—ï¼šæ˜¯ $m(m\\ge0)$ æ£µäº’ä¸ç›¸äº¤çš„æ ‘çš„é›†åˆã€‚æ ‘ä¸­æ¯ä¸ªç»“ç‚¹çš„å­æ ‘çš„é›†åˆå³ä¸ºæ£®æ—ã€‚ æ ‘çš„ç±»å‹ æœ‰åºæ ‘ï¼šæ ‘ä¸­ç»“ç‚¹çš„å„å­æ ‘ä»å·¦åˆ°å³æ˜¯æœ‰æ¬¡åºçš„ï¼Œå³ä¸èƒ½äº’æ¢ã€‚ æ— åºæ ‘ï¼šæ ‘ä¸­ç»“ç‚¹çš„å„å­æ ‘ç›¸äº’ä¹‹é—´å¯ä»¥äº’æ¢ï¼Œæ²¡æœ‰æ¬¡åºã€‚ æ ‘çš„æ€§è´¨ è®¾$n$ä¸ªç»“ç‚¹çš„æ ‘ï¼Œ$d_i \\ (1 \\le i \\le n)$ä¸ºè¯¥æ ‘ä¸­ç»“ç‚¹çš„åº¦ï¼š\n$$ n = (\\sum_{i=1}^{n}{d_i})+1 $$\nåº¦ä¸º$m$çš„æ ‘ä¸­ç¬¬$i$å±‚ä¸Šè‡³å¤šæœ‰$m^{i-1}$ä¸ªç»“ç‚¹ï¼ˆ$i \\ge 1$ï¼‰ã€‚\né«˜åº¦ä¸º$h$çš„$m$åº¦æ ‘è‡³å¤šæœ‰$\\cfrac{m^h-1}{m-1}$ä¸ªç»“ç‚¹ã€‚\næ ‘çš„é€»è¾‘ç»“æ„ æ ‘å¯ä»¥ç”¨äºŒå…ƒç»„ $Tree=(root,F)$ è¡¨ç¤ºã€‚å…¶ä¸­ $root$ æ˜¯æ ¹ç»“ç‚¹ï¼Œ$F$ æ˜¯ $m(m\\ge0)$ æ£µå­æ ‘çš„æ£®æ—ï¼Œå³ $F=(T_1,T_2,\\cdots,T_m)$ï¼Œå…¶ä¸­ $T_i=(r_i,F_i)$ ä¸ºæ ¹ $root$ çš„ç¬¬ $i$ æ£µå­æ ‘ã€‚\næ ‘æ ¹ä¸å…¶å­æ ‘æ£®æ—ä¹‹é—´çš„å…³ç³»ï¼š $$ RF = \\{ \u0026lt;root,r_i\u0026gt;|i=1,2,4,m,\\quad m\u0026gt;0 \\} $$\näºŒå‰æ ‘ äºŒå‰æ ‘æ˜¯ï¼ˆ$n \\ge 0$ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼š\nç©ºæ ‘ï¼š$n=0$ï¼› ç”±ä¸€ä¸ªæ ¹ç»“ç‚¹åŠä¸¤æ£µä¸ç›¸äº¤çš„ä¸”åˆ†åˆ«ç§°ä¸ºå·¦ã€å³å­æ ‘çš„äºŒå‰æ ‘æ‰€ç»„æˆï¼ˆä¸¤ä¸ªå­æ•°é¡ºåºä¸å¯äº¤æ¢ï¼‰ã€‚ äºŒå‰æ ‘åŒæ ·å…·æœ‰é€’å½’æ€§è´¨ã€‚\näºŒå‰æ ‘çš„æ€§è´¨ï¼š\nç¬¬$i$å±‚ï¼ˆ$i \\ge 1$ï¼‰ä¸Šæœ€å¤šæœ‰$2^{i-1}$ä¸ªç»“ç‚¹ã€‚\nå› ä¸ºäºŒå‰æ ‘æ¯ä¸ªç»“ç‚¹è‡³å¤šæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆç»“ç‚¹ï¼‰ã€‚\né«˜åº¦ä¸º$k$çš„äºŒå‰æ ‘æœ€å¤šæœ‰$2^k-1$ä¸ªç»“ç‚¹ï¼ˆ$k \\ge 1$ï¼‰ã€‚\næ¯å±‚ç»“ç‚¹éƒ½å–æœ€å¤§å€¼åç´¯åŠ ï¼š\n$$ \\sum_{i=1}^{k}{2^{i-1}} = 2^k - 1 $$\nå°†æ·±åº¦ä¸º$k$ä¸”æœ‰$2^k-1$ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚\nå¯¹æ»¡äºŒå‰æ ‘è‡ªä¸Šè€Œä¸‹ã€ä»å·¦è‡³å³è¿›è¡Œç¼–å·ï¼ˆå³å±‚åºéå†çš„é¡ºåºï¼‰ã€‚ä¸€ä¸ªæ·±åº¦ä¸º$k$ã€æœ‰$n$ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½äºæ·±åº¦ä¸º$k$çš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä»1è‡³$n$çš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶ï¼Œç§°ä¹‹ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚\nå®Œå…¨äºŒå‰æ ‘æœ‰ä¸€ä¸ªéšè—å…³ç³»ï¼š$n \u0026gt; 2^{k-1}-1$ã€‚å³æ·±åº¦ä¸º$k$çš„å®Œå…¨äºŒå‰æ ‘ï¼Œå…¶ç»“ç‚¹æ•°$n$å¿…é¡»è¦æ¯”æ·±åº¦ä¸º$k-1$çš„æ»¡äºŒå‰æ ‘è‡³å°‘å¤š1ä¸ªç»“ç‚¹ã€‚\næ·±åº¦ä¸º$k$çš„æ»¡äºŒå‰æ ‘ç»“ç‚¹æ•°$n$å’Œå…¶ç¬¬$k$å±‚ç»“ç‚¹æ•°$m$çš„å…³ç³»ï¼š\n$$ n = 2m-1 $$\nä»»ä½•ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥å…¶ç»ˆç«¯ç»“ç‚¹æ•°ï¼ˆåº¦ä¸º0çš„ç»“ç‚¹æ•°ï¼‰ä¸º$n_0$ï¼Œåº¦2çš„ç»“ç‚¹æ•°ä¸º$n_2$ï¼Œåˆ™$n_0=n_2+1$ã€‚\nå³ï¼š\n$$ ç»ˆç«¯ç»“ç‚¹æ•°ï¼ˆåº¦0ç»“ç‚¹æ•°ï¼‰=åº¦2ç»“ç‚¹æ•°+1 $$\nå…·æœ‰$n$ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ï¼ˆé«˜åº¦ï¼‰ä¸ºï¼š\n$$ \\lfloor \\log_2{n} \\rfloor + 1; $$\næˆ–ï¼š\n$$ \\lceil \\log_2{(n+1)} \\rceil $$\näºŒå‰æ ‘å½¢æ€æ€»æ•°ï¼ˆå¡ç‰¹å…°æ•°ï¼‰ï¼š\n$$ \\cfrac{C^{n}_{2n}}{n+1} $$\næ’åˆ—ç»„åˆå…¬å¼ï¼š\n$$ A^n_m = m \\times (m-1) \\times \\cdots \\times (m-n+1) $$\n$m$æ˜¯èµ·ç‚¹ï¼Œ$n$æ˜¯æ¬¡æ•°ã€‚\n$$ C^n_m = \\cfrac{A^n_m}{A^n_n} $$\né¡ºåºå­˜å‚¨ç»“æ„ ç”¨ä¸€ç»„åœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒå­˜å‚¨äºŒå‰æ ‘ä¸­çš„ç»“ç‚¹ã€‚\nå¯ä»¥æŒ‰ç…§ä¸ºå®Œå…¨äºŒå‰æ ‘ç¼–å·çš„é¡ºåºï¼ˆå³å±‚åºéå†çš„é¡ºåºï¼‰ï¼Œå°†äºŒå‰æ ‘æ˜ å°„åˆ°é¡ºåºè¡¨ä¸­ï¼š\nè‹¥ç¼–å·ä¸º$i$çš„ç»“ç‚¹ï¼ˆ$i \\ge 1$ï¼‰ï¼Œåˆ™ï¼š\n$i=1$ï¼šæ ¹ç»“ç‚¹ï¼Œæ²¡æœ‰åŒäº²ï¼ˆçˆ¶ç»“ç‚¹ï¼‰ï¼› $i\u0026gt;1$ï¼šåŒäº²ä¸º$\\left\\lfloor \\cfrac{i}{2} \\right\\rfloor$ï¼› $i \\le \\cfrac{n}{2}$ï¼šå·¦å­©å­ç¼–å·ä¸º$2i$ï¼› $i \\le \\cfrac{n-1}{2}$ï¼šå³å­©å­ç¼–å·ä¸º$2i+1$ã€‚ å®Œå…¨äºŒå‰æ ‘é€‚åˆé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ï¼Œè€Œä¸€èˆ¬äºŒå‰æ ‘åˆ™ä¸é€‚åˆã€‚\né“¾å¼å­˜å‚¨ç»“æ„ å¯ä»¥ç”¨ä¸‰å‰é“¾è¡¨æˆ–äºŒå‰é“¾è¡¨æ¥å­˜å‚¨äºŒå‰æ ‘ï¼ˆä¸€ä¸ªç»“ç‚¹å«æœ‰3ä¸ªæˆ–2ä¸ªæŒ‡é’ˆï¼Œå…¶ä¸­å¿…é¡»æœ‰ä¸¤ä¸ªæŒ‡é’ˆæ¥åˆ†åˆ«å­˜å‚¨å·¦å­æ ‘å’Œå³å­æ ‘çš„æ ¹ç»“ç‚¹ï¼‰ã€‚é“¾è¡¨çš„å¤´æŒ‡é’ˆæŒ‡å‘äºŒå‰æ ‘æ ¹ç»“ç‚¹ï¼š\nä¸‰å‰é“¾è¡¨ä»…ä»…æ˜¯å¤šäº†ä¸€ä¸ªæŒ‡å‘çˆ¶ç»“ç‚¹çš„é“¾è¡¨ã€‚\nè®¾æœ‰$n$ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œåˆ™å…¶ç©ºæŒ‡é’ˆåŸŸæ•°é‡ï¼š\nå¯¹äºäºŒå‰é“¾è¡¨ï¼š\næ€»æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$2n$ï¼› åˆ†æ”¯æ•°ï¼ˆå­å­™ç»“ç‚¹æ•°ï¼Œéç©ºæŒ‡é’ˆåŸŸä¸ªæ•°ï¼‰ï¼š$n-1$ã€‚ å¯å¾—ï¼š\n$$ ç©ºæŒ‡é’ˆåŸŸæ•°=2n-(n-1)=n+1 $$\nå¯¹äºä¸‰å‰é“¾è¡¨ï¼š\næ€»æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$3n$ï¼› åˆ†æ”¯æ•°ï¼ˆå­å­™ç»“ç‚¹æ•°ï¼‰ï¼š$n-1$ï¼› æŒ‡å‘çˆ¶ç»“ç‚¹ä¸”éç©ºçš„æŒ‡é’ˆåŸŸä¸ªæ•°ï¼š$n-1$ã€‚ å³ï¼Œéç©ºæŒ‡é’ˆåŸŸä¸ªæ•°ä¸ºï¼š$2(n-1)$ã€‚\nå¯å¾—ï¼š\n$$ ç©ºæŒ‡é’ˆåŸŸæ•°=3n-2(n-1)=n+2 $$\néå† äºŒå‰æ ‘æœ‰ä»¥ä¸‹éå†æ–¹æ³•ï¼š\nå…ˆåºéå†ï¼šæ ¹å·¦å³\nè®¿é—®æ ¹ç»“ç‚¹ï¼› å…ˆåºéå†å·¦å­æ ‘ï¼› å…ˆåºéå†å³å­æ ‘ã€‚ ä¸­åºéå†ï¼šå·¦æ ¹å³\nä¸­åºéå†å·¦å­æ ‘ï¼› è®¿é—®æ ¹ç»“ç‚¹ï¼› ä¸­åºéå†å³å­æ ‘ã€‚ ååºéå†ï¼šå·¦å³æ ¹\nååºéå†å·¦å­æ ‘ï¼› ååºéå†å³å­æ ‘ï¼› è®¿é—®æ ¹ç»“ç‚¹ã€‚ ååºéå†å¯ä»¥ä½¿ç”¨æ ˆï¼š\næ ¹ç»“ç‚¹å…¥æ ˆï¼› å³å­æ ‘ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æŒ‰ç…§æ­¥éª¤1è‡³3é¡ºåºå…¥æ ˆï¼ˆå…ˆå…¥æ ¹ç»“ç‚¹ï¼Œç„¶åå…¥å³å­æ ‘ï¼Œå†å…¥å·¦å­æ ‘ï¼‰ï¼› å·¦å­æ ‘ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æŒ‰ç…§æ­¥éª¤1è‡³3é¡ºåºå…¥æ ˆï¼ˆå…ˆå…¥æ ¹ç»“ç‚¹ï¼Œç„¶åå…¥å³å­æ ‘ï¼Œå†å…¥å·¦å­æ ‘ï¼‰ï¼› å°†æ ˆä¸­æ‰€æœ‰å…ƒç´ å‡ºæ ˆï¼Œå‡ºæ ˆé¡ºåºå³ä¸ºååºéå†çš„é¡ºåºã€‚ å±‚åºéå†ï¼šæ ¹æ®å±‚åºä»ä¸Šè‡³ä¸‹ï¼Œä»å·¦åˆ°å³éå†\nè®¿é—®æ ¹ç»“ç‚¹ï¼ˆç¬¬1å±‚ï¼‰ï¼›\nä»å·¦åˆ°å³è®¿é—®ç¬¬2å±‚æ‰€æœ‰ç»“ç‚¹ï¼›\nä»å·¦åˆ°å³è®¿é—®ç¬¬3å±‚æ‰€æœ‰ç»“ç‚¹ï¼›\n\u0026hellip;\nç›´è‡³è®¿é—®åˆ°æœ€åä¸€å±‚çš„æ‰€æœ‰ç»“ç‚¹ï¼ˆä»å·¦åˆ°å³ï¼‰ã€‚\nå±‚åºéå†å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—ï¼š\nå°†æ ¹ç»“ç‚¹å…¥é˜Ÿï¼› å°†å¯¹å¤´å…ƒç´ å‡ºé˜Ÿï¼Œç„¶åå°†å…¶å·¦å³å­ç»“ç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä¾åºå…¥é˜Ÿï¼› é‡å¤æ­¥éª¤2ç›´è‡³æ‰€æœ‰å…ƒç´ å‡ºé˜Ÿï¼Œå‡ºé˜Ÿé¡ºåºå³ä¸ºå±‚åºéå†é¡ºåºã€‚ äºŒå‰æ ‘çš„éå†å®è´¨ä¸Šæ˜¯å¯¹ä¸€ä¸ªéçº¿æ€§ç»“æ„è¿›è¡Œçº¿æ€§åŒ–çš„è¿‡ç¨‹ï¼Œå®ƒä½¿å¾—æ¯ä¸ªç»“ç‚¹ï¼ˆé™¤ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªï¼‰åœ¨è¿™äº›çº¿æ€§åºåˆ—ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç›´æ¥å‰é©±å’Œç›´æ¥åç»§ã€‚\nå¹³è¡¡äºŒå‰æ ‘ äºŒå‰æ ‘å¯ä»¥ç”¨äºå¿«é€ŸæŸ¥æ‰¾ã€‚ä¾‹å¦‚æ¯”æ ¹ç»“ç‚¹å°çš„åœ¨å·¦å­æ ‘ï¼Œæ¯”æ ¹ç»“ç‚¹å¤§çš„åœ¨å³å­æ ‘ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰ã€‚é‚£ä¹ˆæ¯æ¬¡æŸ¥æ‰¾ï¼Œæ ¹æ®æ ¹ç»“ç‚¹å°±å¯ä»¥å‰”é™¤ä¸€åŠçš„èŒƒå›´ã€‚\nä½†æ˜¯å¦‚æœäºŒå‰æ ‘å·¦å³å­æ ‘çš„ç»“ç‚¹æ•°é‡å·®åˆ«å¾ˆå¤§ï¼Œé‚£ä¹ˆæ¯æ¬¡æŸ¥æ‰¾å¹¶ä¸ä¸€å®šèƒ½å‰”é™¤ä¸€åŠçš„èŒƒå›´ï¼ŒæŸ¥è¯¢æ•ˆç‡å¤§æ‰“æŠ˜æ‰£ã€‚\nè®¾ä¸€ä¸ªäºŒå‰æ ‘çš„å·¦å³å­æ ‘é«˜åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸º$d$ï¼Œé‚£ä¹ˆ\nä¸å¹³è¡¡çš„äºŒå‰æ ‘ï¼š$d \u0026gt; 1$ï¼› å¹³è¡¡çš„äºŒå‰æ ‘ï¼š$d \\le 1$ã€‚ å®Œå…¨äºŒå‰æ ‘ä¸€å®šæ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘ä¸ä¸€å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚\näºŒå‰æ’åºæ ‘ äºŒå‰æ’åºæ ‘çš„å®šä¹‰ï¼š\nå·¦å­æ ‘æ‰€æœ‰ç»“ç‚¹çš„å…³é”®å­—éƒ½å°äºæ ¹ç»“ç‚¹ï¼› å³å­æ ‘æ‰€æœ‰æ ¹ç»“ç‚¹çš„å…³é”®å­—éƒ½å¤§äºæ ¹ç»“ç‚¹ï¼› å·¦å³å­æ ‘ä¹Ÿéƒ½æ˜¯äºŒå‰æ’åºæ ‘ã€‚ äºŒå‰æ’åºæ ‘çš„ä¸­åºéå†ï¼ˆå·¦æ ¹å³ï¼‰å¾—åˆ°çš„æ˜¯è¯¥äºŒå‰æ ‘çš„æœ‰åºåºåˆ—ã€‚\nçº¿ç´¢äºŒå‰æ ‘ çº¿ç´¢äºŒå‰æ ‘æ˜¯åœ¨äºŒå‰æ ‘ç»“ç‚¹ä¸­ä¿å­˜äº†ç»“ç‚¹çš„å‰é©±å’Œåç»§çš„ä¿¡æ¯ã€‚\nå¦‚æœä½¿ç”¨æŒ‡é’ˆæ¥æŒ‡å‘å…¶å‰é©±å’Œåç»§ï¼Œå¢åŠ æŒ‡é’ˆä¿¡æ¯ä¼šé™ä½å­˜å‚¨ç©ºé—´çš„åˆ©ç”¨ç‡ã€‚\nå¯ä»¥é‡‡ç”¨å¢åŠ ä¸¤ä¸ªæ ‡å¿—ï¼ˆleftTagå’ŒrightTagï¼‰æ¥åŒºåˆ†æŒ‡é’ˆåŸŸæŒ‡å‘çš„æ˜¯å·¦æˆ–å³å­ç»“ç‚¹è¿˜æ˜¯å‰é©±æˆ–åç»§ï¼š\nleftTag leftChild data rightChild rightTag å…¶ä¸­ï¼š\n$$ leftTag = \\begin{cases} True \u0026amp; leftChildæŒ‡å‘ç»“ç‚¹å·¦å­©å­ \\\\ False \u0026amp; leftChildæŒ‡å‘ç»“ç‚¹çš„ç›´æ¥å‰é©± \\end{cases} $$\n$$ rightTag = \\begin{cases} True \u0026amp; rightChildæŒ‡å‘ç»“ç‚¹å³å­©å­ \\\\ False \u0026amp; rightChildæŒ‡å‘ç»“ç‚¹çš„ç›´æ¥åç»§ \\end{cases} $$\nè‹¥äºŒå‰æ ‘çš„äºŒå‰é“¾è¡¨é‡‡ç”¨ä»¥ä¸Šæ‰€ç¤ºçš„ç»“ç‚¹ç»“æ„ï¼Œåˆ™ç›¸åº”çš„é“¾è¡¨ç§°ä¸ºçº¿ç´¢é“¾è¡¨ï¼Œå…¶ä¸­æŒ‡å‘ç»“ç‚¹å‰é©±ã€åç»§çš„æŒ‡é’ˆç§°ä¸ºçº¿ç´¢ã€‚\nå¯¹äºŒå‰æ ‘ä»¥æŸç§æ¬¡åºéå†ä½¿å…¶æˆä¸ºçº¿ç´¢äºŒå‰æ ‘çš„è¿‡ç¨‹ç§°ä¸ºçº¿ç´¢åŒ–ã€‚\nå“ˆå¤«æ›¼æ ‘ å“ˆå¤«æ›¼æ ‘å³æœ€ä¼˜äºŒå‰æ ‘ï¼Œæ˜¯ä¸€ç±»å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ã€‚\nè·¯å¾„ï¼šæŒ‡ä»æ ‘ä¸­ä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹ä¹‹é—´çš„é€šè·¯ï¼›\nè·¯å¾„é•¿åº¦ï¼šè·¯å¾„ä¸Šçš„åˆ†æ”¯æ•°ç›®ï¼›\næ ‘çš„è·¯å¾„é•¿åº¦ï¼šæŒ‡ä»æ ‘æ ¹åˆ°æ¯ä¸€ä¸ªå¶å­ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¹‹å’Œï¼›\nç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šä»è¯¥ç»“ç‚¹åˆ°æ ‘æ ¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸è¯¥ç»“ç‚¹æƒå€¼çš„ä¹˜ç§¯ï¼›\næ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæ ‘ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œã€‚\nè®¾ï¼š\nå¸¦æƒå¶å­ç»“ç‚¹æ•°ï¼š$n$ï¼› å¶å­ç»“ç‚¹çš„æƒå€¼ï¼š$w_k$ï¼› å¶å­ç»“ç‚¹åˆ°æ ¹çš„è·¯å¾„é•¿åº¦ï¼š$l_k$ã€‚ åˆ™æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºï¼š\n$$ WPL = \\sum_{k=1}^{n}{w_kl_k} $$\nå“ˆå¤«æ›¼æ ‘æ˜¯æŒ‡æƒå€¼ä¸º$w_1,w_2,\\cdots,w_n$çš„$n$ä¸ªå¶å­ç»“ç‚¹çš„äºŒå‰æ ‘ä¸­ï¼Œå¸¦æƒè·¯å¾„é•¿åº¦æœ€å°çš„äºŒå‰æ ‘ã€‚\næ„é€ æœ€ä¼˜äºŒå‰æ ‘çš„å“ˆå¤«æ›¼ç®—æ³•ï¼š\næ ¹æ®ç»™å®šçš„$n$ä¸ªæƒå€¼$\\{ w_1,w_2,\\cdots,w_n \\}$ï¼Œæ„æˆ$n$æ£µäºŒå‰æ ‘é›†åˆ$F=\\{T_1,T_2,\\cdots,T_n\\}$ï¼Œæ¯æ£µæ ‘$T_i$æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¸¦æƒä¸º$w_i$çš„æ ¹ç»“ç‚¹ã€‚ åœ¨$F$ä¸­é€‰å–2æ£µæƒå€¼æœ€å°çš„æ ‘ä½œä¸ºå·¦ã€å³å­æ ‘ï¼Œæ„é€ ä¸€æ£µæ–°äºŒå‰æ ‘ã€‚æ–°äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹æƒå€¼ä¸ºå…¶å·¦å³å­æ ‘æ ¹ç»“ç‚¹æƒå€¼ä¹‹å’Œã€‚ ä»$F$ä¸­åˆ é™¤è¿™2æ£µæ ‘ï¼Œå¹¶å°†æ–°æ ‘åŠ å…¥åˆ°$F$ä¸­ã€‚ é‡å¤æ­¥éª¤2ã€3ç›´åˆ°$F$ä¸­ä»…å«ä¸€æ£µæ ‘ä¸ºæ­¢ï¼Œè¿™æ£µæ ‘ä¾¿æ˜¯å“ˆå¤«æ›¼æ ‘ã€‚ å“ˆå¤«æ›¼ç®—æ³•å¹¶æœªè§„å®šå“ªæ£µæ ‘ä½œä¸ºå·¦æˆ–å³å­æ ‘ï¼Œæ‰€ä»¥å“ˆå¤«æ›¼æ ‘å¹¶ä¸å”¯ä¸€ï¼Œä½†$WPL$å€¼æ˜¯å”¯ä¸€çš„ã€‚\nç»™å®š$n$ä¸ªæƒå€¼åï¼Œå“ˆå¤«æ›¼æ ‘çš„ç»“ç‚¹æ•°$m$å°±ç¡®å®šäº†ï¼š\n$$ m = 2 \\times n - 1 $$\næ‰€ä»¥å¯ç”¨ä¸€ç»´æ•°ç»„å­˜å‚¨å“ˆå¤«æ›¼æ ‘ã€‚\nå“ˆå¤«æ›¼ç¼–ç  å“ˆå¤«æ›¼ç¼–ç æ˜¯ä¸€ç§ä¸ç­‰é•¿çš„ç¼–ç ï¼Œå®ƒç”¨å“ˆå¤«æ›¼ç®—æ³•æ¥æ„é€ å‡ºæœ€ä¼˜å‰ç¼€ç ï¼š\nç»™å®šå­—ç¬¦é›†$D=\\{ d_1,d_2,\\cdots,d_n \\}$åŠå­—ç¬¦çš„ä½¿ç”¨é¢‘ç‡$W=\\{w_1,w_2,\\cdots,w_n\\}$ã€‚\næ„é€ æœ€ä¼˜å‰ç¼€ç çš„æ–¹æ³•ä¸ºï¼š\nä»¥$d_1,d_2,\\cdots,d_n$ä½œä¸ºå¶å­ç»“ç‚¹ï¼Œ$w_1,w_2,\\cdots,w_n$ä½œä¸ºå¶å­ç»“ç‚¹çš„æƒå€¼ï¼Œæ„é€ å‡ºä¸€æ£µæœ€ä¼˜äºŒå‰æ ‘ã€‚ å°†æ ‘ä¸­æ¯ä¸ªç»“ç‚¹çš„å·¦åˆ†æ”¯æ ‡ä¸Š0ï¼Œå³åˆ†æ”¯æ ‡ä¸Š1ï¼ˆå·¦0å³1ï¼‰ã€‚ æ¯ä¸ªå¶å­ç»“ç‚¹ä»£è¡¨å­—ç¬¦çš„ç¼–ç å°±æ˜¯ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ä¸Šç»„æˆçš„0ã€1ä¸²ã€‚ å…¶ä¸­ï¼Œå­—ç¬¦$a$å­—ç¬¦$b$ã€$c$ã€$d$ã€$e$çš„ç¼–ç åˆ†åˆ«ä¸º00ã€01ã€100ã€11ã€101ã€‚\nå‹ç¼©æ¯” æŒ‰ç…§å‡ºç°é¢‘ç‡è®¡ç®—åŠ æƒå¹³å‡é•¿åº¦ï¼š\n$$ åŠ æƒå¹³å‡é•¿åº¦ = \\sum_{i=1}^{5}{å­—ç¬¦içš„ä½æ•° \\times å­—ç¬¦iå‡ºç°é¢‘ç‡} $$\nå³ï¼š\n$$ 1 \\times 40% + 3 \\times (10% + 20% + 16% + 14%) = 2.2 $$\nå‹ç¼©åå¹³å‡é•¿åº¦ä¸º2.2ã€‚\nè®¡ç®—å‹ç¼©æ¯”ï¼š\n$$ å‹ç¼©æ¯” = \\cfrac{å‹ç¼©å‰ç¼–ç é•¿åº¦ - å‹ç¼©åå¹³å‡é•¿åº¦}{å‹ç¼©å‰ç¼–ç é•¿åº¦} $$\nå³ï¼Œ\nç¼–ç 5ä¸ªå­—ç¬¦è‡³å°‘éœ€è¦3ä½ï¼š$2^2 \u0026lt; 5 \u0026lt; 2^3$ï¼Œæ‰€ä»¥å‹ç¼©å‰ç¼–ç é•¿åº¦ä¸º3ï¼›\nå‹ç¼©æ¯”ï¼š\n$$ \\cfrac{3-2.2}{3} \\approx 0.27 $$\nå“ˆå¤«æ›¼ç¼–ç æ–¹æ¡ˆæ˜¯åŸºäºè´ªå¿ƒç­–ç•¥çš„ã€‚\nå›¾ åœ¨å›¾ä¸­ï¼Œä»»æ„ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´éƒ½å¯èƒ½æœ‰ç›´æ¥çš„å…³ç³»ï¼Œæ‰€ä»¥å›¾ä¸­ä¸€ä¸ªç»“ç‚¹çš„å‰é©±ç»“ç‚¹å’Œåç»§ç»“ç‚¹çš„æ•°ç›®æ˜¯æ²¡æœ‰é™åˆ¶çš„ã€‚\nå›¾$G$æ˜¯ç”±é›†åˆ$V$å’Œ$E$æ„æˆçš„äºŒå…ƒç»„ï¼Œè®°ä½œ$G=(V,E)$ï¼š\né¡¶ç‚¹ï¼šè¡¨ç¤ºæ•°æ®å…ƒç´ ã€‚$V$æ˜¯å›¾ä¸­é¡¶ç‚¹çš„éç©ºæœ‰é™é›†åˆã€‚ è¾¹ï¼šè¡¨ç¤ºæ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»ã€‚$E$æ˜¯å›¾ä¸­è¾¹çš„æœ‰é™é›†åˆã€‚ å›¾å¯åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š\næœ‰å‘å›¾ï¼šæœ‰å‘å›¾é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ç§°ä¸ºå¼§ï¼ˆæˆ–æœ‰å‘è¾¹ï¼‰ï¼Œç”¨$\u0026lt;v_i,v_j\u0026gt;$è¡¨ç¤ºï¼Œ$v_i$æ˜¯å¼§å°¾ï¼ˆå§‹ç‚¹æˆ–èµ·ç‚¹ï¼‰ï¼Œ$v_j$æ˜¯å¼§å¤´ï¼ˆç»ˆç‚¹ï¼Œç®­å¤´æŒ‡å‘çš„é¡¶ç‚¹ï¼‰ï¼Œå³æœ‰å‘è¾¹æ˜¯æŒ‡ä»å¼§å°¾æŒ‡å‘å¼§å¤´çš„ä¸€æ¡è¾¹ã€‚$\u0026lt;v_i,v_j\u0026gt;$å’Œ$\u0026lt;v_j,v_i\u0026gt;$åˆ†åˆ«è¡¨ç¤ºçš„æ˜¯ä¸¤æ¡è¾¹ã€‚ æ— å‘å›¾ï¼šæ— å‘å›¾é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ç”¨$(v_i,v_j)$è¡¨ç¤ºã€‚$(v_i,v_j)$å’Œ$(v_j,v_i)$è¡¨ç¤ºçš„æ˜¯åŒä¸€æ¡è¾¹ã€‚ æœ¯è¯­ å®Œå…¨å›¾ å®Œå…¨å›¾ï¼š\næ— å‘å®Œå…¨å›¾ï¼šæŒ‡ä¸€ä¸ªæœ‰$n$ä¸ªé¡¶ç‚¹çš„æ— å‘å›¾ï¼Œå…¶æ¯ä¸€ä¸ªé¡¶ç‚¹ä¸å…¶ä»–$n-1$ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ã€‚\n$n$ä¸ªé¡¶ç‚¹çš„æ— å‘å®Œå…¨å›¾å…±æœ‰$\\cfrac{n(n-1)}{2}$æ¡è¾¹ï¼š\n$$ \\sum_{i=1}^{n}{i} = \\cfrac{n(n-1)}{2} $$\nå‡è®¾$n$ä¸ªé¡¶ç‚¹çš„æ— å‘å®Œå…¨å›¾ï¼Œä¸ºä»–ä»¬ç¼–ä¸Š1åˆ°$n$çš„ç¼–å·ï¼ŒæŒ‰ç…§ç¼–å·é¡ºåºè®¡ç®—è¾¹ï¼Œç¬¬1ä¸ªé¡¶ç‚¹è·Ÿå…¶ä»–$n-1$ä¸ªé¡¶ç‚¹æœ‰$n$æ¡è¾¹ï¼›ç¬¬2ä¸ªé¡¶ç‚¹è·Ÿå…¶ä»–$n-1$ä¸ªé¡¶ç‚¹ä¹Ÿæœ‰$n$æ¡è¾¹ï¼Œé™¤å»1æ¡è·Ÿç¬¬1ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ï¼Œæœ‰$n-1$æ¡ä¸ä¸€æ ·çš„è¾¹ï¼›ç¬¬3ä¸ªé¡¶ç‚¹å‡ºå»2æ¡è·Ÿç¬¬1å’Œç¬¬2ä¸ªé¡¶ç‚¹ç›¸è¿çš„è¾¹ï¼Œæœ‰$n-2$æ¡ä¸ä¸€æ ·çš„è¾¹â€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œå¾—å‡ºä¸Šæ–¹å…¬å¼ã€‚\næœ‰å‘å®Œå…¨å›¾ï¼šæŒ‡ä¸€ä¸ªæœ‰$n$ä¸ªé¡¶ç‚¹çš„æœ‰å‘å›¾ï¼Œä»¥å…¶æ¯ä¸€ä¸ªé¡¶ç‚¹ä¸ºå§‹ç‚¹ä¸å…¶ä»–$n-1$ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½æœ‰å¼§ã€‚\n$n$ä¸ªé¡¶ç‚¹çš„æœ‰å‘å®Œå…¨å›¾å…±æœ‰$n(n-1)$æ¡è¾¹ï¼š\n$$ \\prod_{i=1}^{n}{n-1} = n(n-1) $$\næœ‰å‘å®Œå…¨å›¾çš„$n$ä¸ªé¡¶ç‚¹éƒ½æœ‰$n-1$æ¡ä»¥å…¶ä»–é¡¶ç‚¹ä½œä¸ºç»ˆç‚¹çš„å¼§ï¼ˆå‡ºåº¦ä¸º$n-1$ï¼‰ï¼Œå¹¶ä¸”è¿™$n$ä¸ªé¡¶ç‚¹çš„$n-1$æ¡å¼§éƒ½æ˜¯ä¸åŒçš„å¼§ï¼Œæ‰€ä»¥å¯æ¨å‡ºä¸Šæ–¹å…¬å¼ã€‚\nåº¦ åº¦ï¼šé¡¶ç‚¹$v$çš„åº¦æ˜¯æŒ‡å…³è”äºè¯¥é¡¶ç‚¹çš„è¾¹çš„æ•°ç›®ï¼Œè®°ä½œ$D(v)$ã€‚\nè‹¥ä¸ºæœ‰å‘å›¾ï¼š\nå…¥åº¦ï¼šä»¥è¯¥é¡¶ç‚¹ä¸ºç»ˆç‚¹çš„æœ‰å‘è¾¹çš„æ•°ç›®ï¼Œè®°ä¸º$ID(v)$ï¼› å‡ºåº¦ï¼šä»¥è¯¥é¡¶ç‚¹ä¸ºèµ·ç‚¹çš„æœ‰å‘è¾¹çš„æ•°ç›®ï¼Œè®°ä¸º$OD(v)$ã€‚ æœ‰å‘å›¾åº¦ä¸å…¥åº¦ã€å‡ºåº¦çš„å…³ç³»ï¼š\n$$ D(v) = ID(v) + OD(v) $$\nå¯¹äºæ‰€æœ‰çš„å›¾ï¼Œé¡¶ç‚¹æ•°$n$ã€è¾¹æ•°$e$ä¸å„é¡¶ç‚¹çš„åº¦ä¹‹é—´æœ‰ï¼š\n$$ e = \\cfrac{1}{2} \\sum_{i=1}^{n}{D(v_i)} $$\nå³ï¼Œæ‰€æœ‰é¡¶ç‚¹çš„åº¦æ•°ä¹‹å’Œ $= 2e$ã€‚\nè·¯å¾„ è·¯å¾„ï¼š\næ— å‘å›¾$G$ä¸­çš„è·¯å¾„ï¼šä»é¡¶ç‚¹$v_p$åˆ°é¡¶ç‚¹$v_q$çš„è·¯å¾„æ˜¯æŒ‡å­˜åœ¨ä¸€ä¸ªé¡¶ç‚¹åºåˆ—$v_p,v_{i1},v_{i2},\\cdot,v_{in},v_q$ï¼Œä½¿å¾—$(v_p,v_{i1}),(v_{i1},v_{i2}),\\cdots,(v_{in},v_q) \\in E(G)$ï¼›\næ— å‘å›¾$G$ä¸­çš„è·¯å¾„ï¼šä»é¡¶ç‚¹$v_p$åˆ°é¡¶ç‚¹$v_q$çš„è·¯å¾„æ˜¯æŒ‡å­˜åœ¨ä¸€ä¸ªé¡¶ç‚¹åºåˆ—$v_p,v_{i1},v_{i2},\\cdot,v_{in},v_q$ï¼Œä½¿å¾—$\u0026lt;v_p,v_{i1}\u0026gt;,\u0026lt;v_{i1},v_{i2}\u0026gt;,\\cdots,\u0026lt;v_{in},v_q\u0026gt; \\in E(G)$ã€‚\næ— å‘å›¾ä¸­çš„è·¯å¾„ä¹Ÿæ˜¯æœ‰æ–¹å‘çš„ã€‚\nå­å›¾ å­å›¾ï¼šè‹¥æœ‰ä¸¤ä¸ªå›¾$G=(V,E)$å’Œ$G\u0026rsquo;=(V\u0026rsquo;,E\u0026rsquo;)$ï¼Œå¦‚æœ$V\u0026rsquo; \\sube V$ä¸”$E\u0026rsquo; \\sube E$ï¼Œåˆ™ç§°$G\u0026rsquo;$ä¸º$G$çš„å­å›¾ã€‚\nè¿é€šå›¾ å¯¹äºæ— å‘å›¾ï¼š\nè¿é€šï¼šæ— å‘å›¾ä¸­ï¼Œè‹¥ä»é¡¶ç‚¹$v_i$åˆ°é¡¶ç‚¹$v_j$æœ‰è·¯å¾„ï¼Œåˆ™ç§°é¡¶ç‚¹$v_i$å’Œé¡¶ç‚¹$v_j$æ˜¯è”é€šçš„ã€‚ è¿é€šå›¾ï¼šè‹¥æ— å‘å›¾ä¸­ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹éƒ½æ˜¯è”é€šçš„ï¼Œç§°å…¶ä¸ºè¿é€šå›¾ã€‚ è¿é€šåˆ†é‡ï¼šæ— å‘å›¾$G$çš„æå¤§è¿é€šå­å›¾ç§°ä¸º$G$çš„è¿é€šåˆ†é‡ã€‚ $n$ä¸ªç»“ç‚¹çš„è¿é€šå›¾ï¼Œå®ƒçš„è¾¹çš„å–å€¼èŒƒå›´æ˜¯$[n-1,\\cfrac{n(n-1)}{2}]$ã€‚\nå¯¹äºæœ‰å‘å›¾ï¼š\nå¼ºè¿é€šå›¾ï¼šåœ¨æœ‰å‘å›¾$G$ä¸­ï¼Œå¦‚æœå¯¹äºæ¯ä¸€å¯¹é¡¶ç‚¹ï¼Œ$v_i,v_j\\in V$ ä¸” $v_i \\neq v_j$ï¼Œä»é¡¶ç‚¹$v_i$åˆ°é¡¶ç‚¹$v_j$å’Œä»é¡¶ç‚¹$v_j$åˆ°é¡¶ç‚¹$v_i$éƒ½å­˜åœ¨è·¯å¾„ï¼Œåˆ™ç§°å›¾$G$ä¸ºå¼ºè¿é€šå›¾ã€‚ å¼ºè¿é€šåˆ†é‡ï¼šæœ‰å‘å›¾ä¸­çš„æå¤§è¿é€šå­å›¾ç§°ä¸ºæœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡ã€‚ è¿é€šå›¾æ˜¯æ— å‘å›¾ä¸­çš„ä¸€ç§ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¹Ÿç§°ä¸ºæ— å‘è¿é€šå›¾ã€‚\nå¼ºè¿é€šå›¾æ˜¯æœ‰å‘å›¾çš„ä¸€ç§ï¼Œä¸€èˆ¬ä¹Ÿç§°ä¸ºæœ‰å‘å¼ºè¿é€šå›¾ã€‚\nç½‘ è¾¹ï¼ˆæˆ–å¼§ï¼‰å¸¦æƒå€¼çš„å›¾ç§°ä¸ºç½‘ã€‚\næœ‰å‘æ ‘ å¦‚æœä¸€ä¸ªæœ‰å‘å›¾æ°æœ‰ä¸€ä¸ªé¡¶ç‚¹çš„å…¥åº¦ä¸º0ï¼ˆä½œä¸ºrootï¼‰ï¼Œå…¶ä½™é¡¶ç‚¹çš„å…¥åº¦å‡ä¸º1ï¼Œåˆ™æ˜¯ä¸€æ£µæœ‰å‘æ ‘ã€‚\nåŸºæœ¬å­˜å‚¨ç»“æ„ å›¾çš„åŸºæœ¬å­˜å‚¨ç»“æ„æœ‰ï¼š\né‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•ï¼šä½¿ç”¨çŸ©é˜µå­˜å‚¨é¡¶ç‚¹å…³ç³»ï¼Œé€‚åˆå­˜å‚¨è¾¹æ¯”è¾ƒå¤šçš„å›¾ï¼› é‚»æ¥é“¾è¡¨è¡¨ç¤ºæ³•ï¼šä½¿ç”¨å¤šä¸ªå•é“¾è¡¨å­˜å‚¨é¡¶ç‚¹å…³ç³»ï¼Œé€‚åˆå­˜å‚¨è¾¹æ¯”è¾ƒå°‘çš„å›¾ã€‚ é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³• å›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ³•æ˜¯æŒ‡ç”¨çŸ©é˜µæ¥è¡¨ç¤ºå›¾ä¸­é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚\nå¯¹äºå…·æœ‰$n$ä¸ªé¡¶ç‚¹çš„å›¾$G=(V,E)$ï¼Œå…¶é‚»æ¥çŸ©é˜µæ˜¯ä¸€ä¸ª$n$é˜¶æ–¹é˜µï¼Œä¸”æ»¡è¶³ï¼š\n$$ A[i][j] = \\begin{cases} 1 \u0026amp; è‹¥(v_i,v_j)æˆ–\u0026lt;v_i,v_j\u0026gt;æ˜¯Eä¸­çš„è¾¹ \\\\ 0 \u0026amp; è‹¥(v_i,v_j)æˆ–\u0026lt;v_i,v_j\u0026gt;ä¸æ˜¯Eä¸­çš„è¾¹ \\end{cases} $$\nå³ï¼Œæ¨ª$i$ç«–$j$ï¼Œæ¨ªå‡ºç«–å…¥ã€‚\næ— å‘å›¾çš„é‚»æ¥çŸ©é˜µæ˜¯å¯¹ç§°çŸ©é˜µï¼Œæœ‰å‘å›¾çš„é‚»æ¥çŸ©é˜µåˆ™ä¸ä¸€å®šå¯¹ç§°ã€‚\næ— å‘å›¾ï¼šé¡¶ç‚¹$v_i$çš„åº¦æ˜¯é‚»æ¥çŸ©é˜µç¬¬$i$è¡Œï¼ˆæˆ–åˆ—ï¼‰ä¸­å€¼ä¸ä¸º0çš„å…ƒç´ ä¸ªæ•°ï¼› æœ‰å‘å›¾ï¼šç¬¬$i$è¡Œçš„é0å…ƒç´ ä¸ªæ•°æ˜¯é¡¶ç‚¹$v_i$çš„å‡ºåº¦$OD(v_i)$ï¼›ç¬¬$i$åˆ—çš„é0å…ƒç´ ä¸ªæ•°æ˜¯é¡¶ç‚¹$v_i$çš„å…¥åº¦$ID(v_j)$ã€‚ ç½‘ï¼ˆèµ‹æƒå›¾ï¼‰çš„é‚»æ¥çŸ©é˜µå®šä¹‰ï¼ˆ$W_{ij}$æ˜¯è¾¹æˆ–å¼§ä¸Šçš„æƒå€¼ï¼‰ï¼š\n$$ A[i][j] = \\begin{cases} W_{ij} \u0026amp; è‹¥(v_i,v_j)æˆ–\u0026lt;v_i,v_j\u0026gt; \\in E \\\\ \\infin \u0026amp; è‹¥(v_i,v_j)æˆ–\u0026lt;v_i,v_j\u0026gt; \\notin E \\end{cases} $$\né‚»æ¥çŸ©é˜µé€‚åˆç”¨äºå­˜å‚¨è¾¹æ¯”è¾ƒå¤šçš„å›¾ã€‚\né‚»æ¥é“¾è¡¨è¡¨ç¤ºæ³• é‚»æ¥é“¾è¡¨è¡¨ç¤ºæ³•æŒ‡çš„æ˜¯ä¸ºå›¾çš„æ¯ä¸ªé¡¶ç‚¹å»ºç«‹ä¸€ä¸ªå•é“¾è¡¨ï¼š\nè¾¹ç»“ç‚¹ï¼ˆè¡¨ç»“ç‚¹ï¼‰ï¼š\nadjvex nextarc info adjvexï¼šæŒ‡ç¤ºä¸é¡¶ç‚¹$v_i$é‚»æ¥çš„é¡¶ç‚¹çš„åºå·ï¼› nextarcï¼šæŒ‡ç¤ºä¸‹ä¸€æ¡è¾¹æˆ–å¼§çš„ç»“ç‚¹ï¼› infoï¼šå­˜å‚¨ä¸è¾¹æˆ–å¼§æœ‰å…³çš„ä¿¡æ¯ï¼Œå¦‚æƒå€¼ç­‰ã€‚ è¡¨å¤´ç»“ç‚¹ï¼ˆé¡¶ç‚¹ç»“ç‚¹ï¼‰ï¼š\ndata firstarc dataï¼šå­˜å‚¨é¡¶ç‚¹$v_i$çš„åæˆ–å…¶ä»–æœ‰å…³ä¿¡æ¯ï¼› firstarcï¼šæŒ‡ç¤ºé“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼ˆé‚»æ¥é¡¶ç‚¹ï¼‰ã€‚ è¡¨å¤´ç»“ç‚¹é€šå¸¸ä»¥é¡ºåºå­˜å‚¨ç»“æ„å­˜å‚¨ï¼Œä»¥ä¾¿éšæœºè®¿é—®ã€‚\nå¯¹äºæœ‰å‘å›¾ï¼Œé‚»æ¥é“¾è¡¨å­˜å‚¨çš„æ˜¯ä»¥å½“å‰ç»“ç‚¹ä½œä¸ºèµ·ç‚¹çš„å¼§ï¼›é€†é‚»æ¥é“¾è¡¨å­˜å‚¨çš„æ˜¯ä»¥å½“å‰ç»“ç‚¹ä½œä¸ºç»ˆç‚¹çš„å¼§ã€‚\né‚»æ¥é“¾è¡¨é€‚åˆç”¨äºå­˜å‚¨è¾¹æ¯”è¾ƒå°‘çš„å›¾ã€‚\néå† å›¾çš„éå†æ˜¯æŒ‡ä»æŸä¸ªé¡¹ç‚¹å‡ºå‘ï¼Œæ²¿ç€æŸæ¡æœç´¢è·¯å¾„å¯¹å›¾ä¸­çš„æ‰€æœ‰é¡¹ç‚¹è¿›è¡Œè®¿é—®ä¸”åªè®¿é—®ä¸€æ¬¡çš„è¿‡ç¨‹ã€‚\næ·±åº¦ä¼˜å…ˆæœç´¢ æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth First Searchï¼ŒDFSï¼‰ç±»ä¼¼äºæ ‘çš„å…ˆåºéå†ã€‚ä»å›¾$G$ä¸­ä»»ä¸€ç»“ç‚¹$v$å‡ºå‘æŒ‰æ·±åº¦ä¼˜å…ˆæœç´¢æ³•è¿›è¡Œéå†çš„æ­¥éª¤ï¼š\nè®¾ç½®æœç´¢æŒ‡é’ˆ$p$ï¼Œä½¿$p$æŒ‡å‘é¡¶ç‚¹$v$ï¼› è®¿é—®$p$æ‰€æŒ‡é¡¶ç‚¹ï¼Œå¹¶ä½¿$p$æŒ‡å‘ä¸å…¶ç›¸é‚»æ¥çš„ä¸”å°šæœªè¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚ è‹¥$p$æ‰€æŒ‡é¡¶ç‚¹å­˜åœ¨ï¼Œåˆ™é‡å¤æ­¥éª¤2ï¼Œå¦åˆ™æ‰§è¡Œæ­¥éª¤4ã€‚ æ²¿ç€è®¿é—®çš„æ¬¡åºå’Œæ–¹å‘å›æº¯åˆ°æœ€åä¸€ä¸ªæœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥é¡¶ç‚¹çš„é¡¶ç‚¹ï¼Œå¹¶ä½¿$p$æŒ‡å‘è¿™ä¸ªæœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œç„¶åé‡å¤æ­¥éª¤2åˆ°4ï¼Œç›´åˆ°æ‰€æœ‰çš„é¡¹ç‚¹å‡è¢«è®¿é—®ä¸ºæ­¢ã€‚ æ—¶é—´å¤æ‚åº¦ï¼ˆ$n$ä¸ºé¡¶ç‚¹æ•°ï¼Œ$e$ä¸ºè¾¹æ•°ï¼‰ï¼š\né‚»æ¥çŸ©é˜µï¼š$O(n^2)$ï¼› é‚»æ¥é“¾è¡¨ï¼š$O(n+e)$ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢ å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth First Searchï¼ŒBFSï¼‰æ­¥éª¤ä¸ºï¼š\nä»å›¾ä¸­çš„æŸä¸ªé¡¶ç‚¹$v$å‡ºå‘ï¼› è®¿é—®$v$åï¼Œä¾æ¬¡è®¿é—®$v$çš„å„ä¸ªæœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ï¼› åˆ†åˆ«ä»$v$çš„é‚»æ¥ç‚¹å‡ºå‘ï¼Œä¾æ¬¡è®¿é—®å®ƒä»¬çš„é‚»æ¥ç‚¹ï¼› æŒ‰ç…§$v$çš„é‚»æ¥ç‚¹è®¿é—®çš„å…ˆåé¡ºåºï¼Œé‡å¤æ­¥éª¤2åˆ°4ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰å·²è¢«è®¿é—®çš„é¡¹ç‚¹çš„é‚»æ¥ç‚¹éƒ½è¢«è®¿é—®åˆ°ï¼› è‹¥æ­¤æ—¶è¿˜æœ‰æœªè¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œåˆ™å¦é€‰å›¾ä¸­çš„ä¸€ä¸ªæœªè¢«è®¿é—®çš„é¡¹ç‚¹ä½œä¸ºèµ·ç‚¹ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ä¸ºæ­¢ã€‚ å¹¿åº¦ä¼˜å…ˆæœç´¢å¯ä»¥å¼•å…¥é˜Ÿåˆ—æ¥ä¿å­˜å·²è®¿é—®è¿‡çš„é¡¶ç‚¹åºåˆ—ã€‚å³ï¼Œæ¯å½“ä¸€ä¸ªé¡¶ç‚¹è¢«è®¿é—®åï¼Œå°±å°†å…¶æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼›å½“é˜Ÿå¤´é¡¶ç‚¹å‡ºé˜Ÿæ—¶ï¼Œå°±è®¿é—®å…¶æœªè¢«è®¿é—®çš„é‚»æ¥ç‚¹å¹¶ä»¤è¿™äº›é‚»æ¥é¡¶ç‚¹å…¥é˜Ÿã€‚æ¯ä¸ªé¡¶ç‚¹æœ€å¤šå…¥é˜Ÿä¸€æ¬¡ã€‚\nå¹¿åº¦å’Œæ·±åº¦ä¼˜å…ˆæœç´¢éå†å›¾çš„æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼ˆ$n$ä¸ºé¡¶ç‚¹æ•°ï¼Œ$e$ä¸ºè¾¹æ•°ï¼‰ï¼š\né‚»æ¥çŸ©é˜µï¼š$O(n^2)$ï¼› é‚»æ¥é“¾è¡¨ï¼š$O(n+e)$ã€‚ å¹¿åº¦å’Œæ·±åº¦ä¼˜å…ˆæœç´¢éå†å›¾çš„ä¸åŒä¹‹å¤„åœ¨äºï¼šé¡¶ç‚¹è®¿é—®çš„æ¬¡åºä¸åŒã€‚\nç”Ÿæˆæ ‘ è¿é€šå›¾çš„ç”Ÿæˆæ ‘æ˜¯è¯¥å›¾çš„æå°è¿é€šå­å›¾ï¼ˆéƒ½æ˜¯$n-1$æ¡è¾¹ï¼‰ã€‚\nå¯¹äºéè¿é€šå›¾è€Œè¨€ï¼Œæ¯ä¸ªè¿é€šåˆ†é‡ä¸­çš„é¡¶ç‚¹é›†å’Œéå†æ—¶èµ°è¿‡çš„è¾¹é›†ä¸€èµ·æ„æˆè‹¥å¹²æ£µç”Ÿæˆæ ‘ï¼ŒæŠŠå®ƒä»¬ç§°ä¸ºéè¿é€šå›¾çš„ç”Ÿæˆæ ‘æ£®æ—ã€‚\nåœ¨å›¾çš„ç”Ÿæˆæ ‘ä¸­ä»»ä¸€åŠ ä¸€æ¡è¾¹ï¼Œåˆ™å¿…ç„¶å½¢æˆå›è·¯ã€‚\nè¾¹æ•°ä¸º$e$ï¼Œ$e \\ge n$åˆ™å¿…ç„¶å½¢æˆå›è·¯ã€‚\nå›¾çš„ç”Ÿæˆæ ‘ä¸æ˜¯å”¯ä¸€çš„ã€‚\næŒ‰æ·±åº¦å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢è¿›è¡Œéå†å°†å¾—åˆ°ä¸åŒçš„ç”Ÿæˆæ ‘ï¼Œåˆ†åˆ«ç§°ä¸ºæ·±åº¦ä¼˜å…ˆç”Ÿæˆæ ‘å’Œå¹¿åº¦ä¼˜å…ˆç”Ÿæˆæ ‘ã€‚\næœ€å°ç”Ÿæˆæ ‘ è¿é€šç½‘çš„ç”Ÿæˆæ ‘çš„è¾¹ä¹Ÿå¸¦æƒï¼ŒæŠŠç”Ÿæˆæ ‘å„è¾¹çš„æƒå€¼æ€»å’Œç§°ä¸ºç”Ÿæˆæ ‘çš„æƒã€‚æƒå€¼æœ€å°çš„ç”Ÿæˆæ ‘ç§°ä¸ºæœ€å°ç”Ÿæˆæ ‘ã€‚\nAOV ç½‘ ä¸€ä¸ªå¤§å·¥ç¨‹é¡¹ç›®å¯ä»¥åˆ†ä¸ºè®¸å¤šè¾ƒå°å­å·¥ç¨‹ï¼ˆç§°ä¸ºæ´»åŠ¨ï¼‰ã€‚æœ‰å‘å›¾ä¸­ï¼Œç”¨é¡¶ç‚¹è¡¨ç¤ºæ´»åŠ¨ï¼Œå¼§è¡¨ç¤ºæ´»åŠ¨ä¹‹é—´çš„ä¼˜å…ˆçº§å…³ç³»ï¼ˆæ´»åŠ¨è¿›è¡Œæ—¶çš„åˆ¶çº¦å…³ç³»ï¼‰ï¼Œç§°è¿™æ ·çš„æœ‰å‘å›¾ä¸ºä»¥é¡¶ç‚¹è¡¨ç¤ºæ´»åŠ¨çš„ç½‘ï¼ˆActivity On Vertex networkï¼ŒAOVç½‘ï¼‰ã€‚\nåœ¨AOVç½‘ä¸­ï¼š\nä»é¡¶ç‚¹$v_i$åˆ°$v_j$æœ‰ä¸€æ¡æœ‰å‘è·¯å¾„ï¼š\n$v_i$æ˜¯$v_j$çš„å‰é©±ï¼Œ $v_j$æ˜¯$v_i$çš„åç»§ï¼› $\u0026lt;v_i,v_j\u0026gt;$ï¼š\n$v_i$æ˜¯$v_j$çš„ç›´æ¥å‰é©±ï¼Œ $v_j$æ˜¯$v_i$çš„ç›´æ¥åç»§ã€‚ AOVç½‘ä¸­ä¸åº”å‡ºç°æœ‰å‘ç¯ã€‚æ£€æµ‹å·¥ç¨‹æ˜¯å¦å¯è¡Œï¼Œé¦–å…ˆåº”æ£€æŸ¥å¯¹åº”AOVç½‘æ˜¯å¦å­˜åœ¨å›è·¯ã€‚ä¸å­˜åœ¨å›è·¯çš„æœ‰å‘å›¾ç§°ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼ŒDirected Acycline Graphï¼‰ã€‚\næ‹“æ‰‘æ’åº æ£€æµ‹AOVç½‘æ˜¯å¦æ˜¯DAGçš„æ–¹æ³•æ˜¯å¯¹AOVç½‘æ„é€ å…¶é¡¶ç‚¹çš„æ‹“æ‰‘æœ‰åºåºåˆ—ã€‚\næ‹“æ‰‘æ’åºæ˜¯å°†AOVç½‘ä¸­çš„æ‰€æœ‰é¡¶ç‚¹æ’æˆä¸€ä¸ªçº¿æ€§åºåˆ—çš„è¿‡ç¨‹ï¼Œå¹¶ä¸”è¯¥åºåˆ—æ»¡è¶³ï¼šè‹¥åœ¨AOVç½‘ä¸­ä»é¡¶ç‚¹$v_i$åˆ°$v_j$æœ‰ä¸€æ¡è·¯å¾„ï¼Œåˆ™åœ¨è¯¥çº¿æ€§åºåˆ—ä¸­ï¼Œ$v_i$å¿…åœ¨$v_j$ä¹‹å‰ã€‚å¯¹AOVç½‘è¿›è¡Œæ‹“æ‰‘æ’åºçš„æ–¹æ³•å¦‚ä¸‹ï¼š\nåœ¨AOVç½‘ä¸­é€‰æ‹©ä¸€ä¸ªå…¥åº¦ä¸º0ï¼ˆæ²¡æœ‰å‰é©±ï¼‰çš„é¡¶ç‚¹ä¸”è¾“å‡ºå®ƒã€‚ ä»ç½‘ä¸­åˆ é™¤è¯¥é¡¶ç‚¹åŠä¸è¯¥é¡¶ç‚¹æœ‰å…³çš„æ‰€æœ‰å¼§ã€‚ é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œç›´åˆ°ç½‘ä¸­ä¸å­˜åœ¨å…¥åº¦ä¸º0çš„é¡¶ç‚¹ä¸ºæ­¢ã€‚ ä¸¤ç§ç»“æœï¼š\næ‰€æœ‰é¡¶ç‚¹å·²è¾“å‡ºï¼Œè¯´æ˜ç½‘ä¸­ä¸å­˜åœ¨å›è·¯ã€‚ å°šæœ‰æœªè¾“å‡ºçš„é¡¶ç‚¹ï¼Œå‰©ä½™é¡¶ç‚¹å‡æœ‰å‰é©±é¡¶ç‚¹ï¼Œè¡¨é¢ç½‘ä¸­å­˜åœ¨å›è·¯ã€‚ æœ‰å‘æ— ç¯å›¾çš„æ‹“æ‰‘åºåˆ—ä¸­ï¼Œé¡¶ç‚¹$v_i$åœ¨$v_j$ä¹‹å‰ï¼Œåˆ™ï¼š\nå¯èƒ½å­˜åœ¨å¼§$\u0026lt;v_i,v_j\u0026gt;$ï¼Œä¸€å®šä¸å­˜åœ¨å¼§$\u0026lt;v_j,v_i\u0026gt;$ï¼› å¯èƒ½å­˜åœ¨$v_i$åˆ°$v_j$çš„è·¯å¾„ï¼Œä¸€å®šä¸å­˜åœ¨$v_j$åˆ°$v_i$çš„è·¯å¾„ã€‚ ä¸Šå›¾æ‹“æ‰‘æ’åºçš„ç»“æœä¸ºï¼š6,1,4,3,2,5ï¼ˆç»“æœå¹¶ä¸å”¯ä¸€ï¼‰ã€‚\nå½“æœ‰å‘å›¾ä¸­æ— ç¯æ—¶ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨æ·±åº¦ä¼˜å…ˆéå†è¿›è¡Œé€†æ‹“æ‰‘æ’åºã€‚\n","date":"2023å¹´4æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/data-structure/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"æ•°æ®ç»“æ„","url":"/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1680912000,"title":"æ•°æ®ç»“æ„ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä½çº§å’Œé«˜çº§è¯­è¨€ ç¨‹åºè®¾è®¡è¯­è¨€æ ¹æ®ç¡¬ä»¶æ˜¯å¦èƒ½è¯†åˆ«åŒºåˆ†ä¸ºä¸¤ç±»ï¼š\nä½çº§è¯­è¨€ï¼šäºŒè¿›åˆ¶æœºå™¨æŒ‡ä»¤ã€æ±‡ç¼–è¯­è¨€ã€‚ é«˜çº§è¯­è¨€ï¼šé¢å‘å„ç±»åº”ç”¨çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œæ›´åŠ æ¥è¿‘è‡ªç„¶è¯­è¨€ã€‚éœ€è¦é€šè¿‡ç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨ï¼ˆç¿»è¯‘ï¼‰æ¥è®©æœºå™¨æ‰§è¡Œã€‚ ç¼–è¯‘å’Œè§£é‡Š ç¨‹åºè®¾è®¡è¯­è¨€æŒ‰ç…§ç¿»è¯‘çš„æ–¹å¼å¯åˆ†ä¸ºï¼š\nç¼–è¯‘ï¼šéœ€è¦é€šè¿‡ç¼–è¯‘å™¨ï¼ˆç¼–è¯‘ç¨‹åºï¼‰å°†æºç¨‹åºï¼ˆæºä»£ç ï¼‰ç¼–è¯‘ä¸ºåŒ…å«äºŒè¿›åˆ¶æŒ‡ä»¤çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆç›®æ ‡ç¨‹åºï¼‰ã€‚\nçœŸæ­£åœ¨æœºå™¨ä¸Šè¿è¡Œçš„æ˜¯ä¸æºç¨‹åºï¼ˆé€»è¾‘ï¼‰ç­‰ä»·çš„ç›®æ ‡ç¨‹åºã€‚\næºç¨‹åºå’Œç¼–è¯‘å™¨éƒ½ä¸å†å‚ä¸ç›®æ ‡ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ã€‚\næ±‡ç¼–ç¨‹åºä¹Ÿæ˜¯å±äºç¼–è¯‘æ‰§è¡Œã€‚\nè§£é‡Šï¼šéœ€è¦é€šè¿‡è§£é‡Šå™¨ï¼ˆè§£é‡Šç¨‹åºï¼‰å°†æºç¨‹åºï¼ˆæºä»£ç ï¼‰ä¸­çš„æŒ‡ä»¤è§£é‡Šä¸ºäºŒè¿›åˆ¶æŒ‡ä»¤åç»™æœºå™¨æ‰§è¡Œã€‚\nè¯¥è¿‡ç¨‹ä¸ä¼šäº§ç”Ÿç‹¬ç«‹çš„ç›®æ ‡ç¨‹åºã€‚\nå¹¶ä¸”è§£é‡Šå™¨å’Œæºç¨‹åºéƒ½ä¼šå‚ä¸åˆ°ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ï¼ˆè¿è¡Œæ§åˆ¶ï¼‰ä¸­ã€‚\nä¸ç¼–è¯‘æ–¹å¼ç›¸æ¯”ï¼Œè§£é‡Šæ–¹å¼ç¨‹åºæ‰§è¡Œçš„é€Ÿåº¦æ…¢ï¼Œå› ä¸ºè§£é‡Šæ–¹å¼æ‰§è¡Œçš„ç¨‹åºï¼Œéœ€è¦è§£é‡Šå™¨åœ¨å…¶ä¸­å……å½“ä¸€ä¸ªåŸç¨‹åºä¸æœºå™¨ä¹‹å‰å®æ—¶çš„ç¿»è¯‘ã€‚\nè„šæœ¬è¯­è¨€å±äºåŠ¨æ€è¯­è¨€ï¼Œå…¶ç¨‹åºç»“æ„å¯ä»¥åœ¨è¿è¡Œä¸­æ”¹å˜ã€‚\nç¼–è¯‘è¿‡ç¨‹ ç¼–è¯‘ç¨‹åºçš„åŠŸèƒ½æ˜¯æŠŠæŸé«˜çº§è¯­è¨€ä¹¦å†™çš„æºç¨‹åºç¿»è¯‘æˆä¸ä¹‹ç­‰ä»·çš„ç›®æ ‡ç¨‹åºï¼ˆæ±‡ç¼–è¯­è¨€æˆ–æœº å™¨è¯­è¨€)ã€‚\nç¼–è¯‘ç¨‹åºçš„å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå…¶ä¸­ï¼Œä»¥ä¸‹å‡ ä¸ªé˜¶æ®µå¯¹äºç¼–è¯‘è¿‡ç¨‹æ¥è¯´æ˜¯å¿…é¡»çš„ï¼š\nè¯æ³•åˆ†æ è¯­æ³•åˆ†æ è¯­ä¹‰åˆ†æ ç›®æ ‡ä»£ç ç”Ÿæˆ ä»¥ä¸‹ä¸¤ä¸ªé˜¶æ®µå¯¹äºç¼–è¯‘è¿‡ç¨‹æ¥è¯´ä¸æ˜¯å¿…é¡»çš„ï¼ˆå¯çœç•¥ï¼‰ï¼š\nä¸­é—´ä»£ç ç”Ÿæˆ ï¼ˆä¸­é—´æˆ–ç›®æ ‡ï¼‰ä»£ç ä¼˜åŒ– è¯æ³•åˆ†æ æºç¨‹åºå¯ä»¥ç®€å•åœ°è¢«çœ‹æˆæ˜¯ä¸€ä¸ªå¤šè¡Œçš„å­—ç¬¦ä¸²ã€‚è¯æ³•åˆ†æé˜¶æ®µçš„ä»»åŠ¡æ˜¯å¯¹æºç¨‹åºä»å‰åˆ°åï¼ˆä»å·¦åˆ°å³ï¼‰é€ä¸ªå­—ç¬¦åœ°æ‰«æï¼Œä»ä¸­è¯†åˆ«å‡ºä¸€ä¸ªä¸ªâ€œå•è¯â€ç¬¦å·ã€‚â€œå•è¯â€ç¬¦å·æ˜¯ç¨‹åºè®¾è®¡è¯­è¨€çš„åŸºæœ¬è¯­æ³•å•ä½ï¼Œå¦‚å…³é”®å­—ï¼ˆæˆ–ç§°ä¿ç•™å­—ï¼‰ã€æ ‡è¯†ç¬¦ã€å¸¸æ•°ã€è¿ç®—ç¬¦å’Œåˆ†éš”ç¬¦ï¼ˆå¦‚æ ‡ç‚¹ç¬¦å·ã€å·¦å³æ‹¬å·ï¼‰ç­‰ã€‚\nè¯æ³•åˆ†æç¨‹åºè¾“å‡ºçš„â€œå•è¯â€å¸¸ä»¥äºŒå…ƒç»„çš„æ–¹å¼è¾“å‡ºï¼Œå³å•è¯ç§åˆ«å’Œå•è¯è‡ªèº«çš„å€¼ã€‚\nè¯æ³•åˆ†æè¿‡ç¨‹ä¾æ®çš„æ˜¯è¯­è¨€çš„è¯æ³•è§„åˆ™ï¼Œå³æè¿°â€œå•è¯â€ç»“æ„çš„è§„åˆ™ã€‚\nè¯æ³•è§„åˆ™ è¯æ³•åˆ†ææ ¹æ®è¯æ³•è§„åˆ™å°†æ„æˆæºç¨‹åºçš„å­—ç¬¦ä¸²è½¬æ¢æˆå•è¯ç¬¦å·åºåˆ—ã€‚è¯æ³•è§„åˆ™å¯ç”¨3å‹æ–‡æ³•ï¼ˆæ­£è§„æ–‡æ³•ï¼‰æˆ–æ­£è§„è¡¨è¾¾å¼æè¿°ã€‚\næ­£è§„è¡¨è¾¾å¼ æ­£è§„è¡¨è¾¾å¼ï¼ˆæ­£è§„å¼ï¼‰æœ‰ä»¥ä¸‹ç¬¦å·ï¼š\nç¬¦å· åç§° å«ä¹‰ * é—­åŒ… è¡¨ç¤ºå…¶å‰é¢é“¾æ¥çš„ç¬¦å·æˆ–é›†åˆå¯ä»¥å‡ºç°$[0, +\\infty]$æ¬¡ã€‚ Â· è¿æ¥ å¯çœç•¥ï¼Œå°†å¤šä¸ªç¬¦å·æˆ–é›†åˆè¿æ¥èµ·æ¥ã€‚è¡¨ç¤ºé€»è¾‘ä¸ | æˆ– è¡¨ç¤ºé€»è¾‘æˆ–ã€‚ Exampleï¼š\nè®¾$U$ã€$V$å’Œ$W$å‡ä¸ºæ­£è§„å¼ï¼š\næœ‰é™è‡ªåŠ¨æœº æœ‰é™è‡ªåŠ¨æœºæ˜¯è¯æ³•åˆ†æçš„ä¸€ä¸ªå·¥å…·ï¼ˆä¸€ç§è¯†åˆ«è£…ç½®çš„æŠ½è±¡æ¦‚å¿µï¼‰ï¼Œå®ƒèƒ½æ­£ç¡®åœ°è¯†åˆ«æ­£è§„é›†ã€‚\nç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆDeterministic Finite Automataï¼ŒDFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦åè½¬ç§»çš„çŠ¶æ€æ˜¯å”¯ä¸€çš„ã€‚\nä¸€ä¸ªDFAæ˜¯ä¸€ä¸ªäº”å…ƒç»„$(S, \\Sigma, f, s_0, Z)$ï¼š\n$S$ï¼šåŒ…å«çŠ¶æ€çš„æœ‰é™é›†ï¼ˆæ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªçŠ¶æ€ï¼‰ã€‚\n$\\Sigma$ï¼šæœ‰ç©·å­—æ¯è¡¨ï¼Œå…¶æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªè¾“å…¥å­—ç¬¦ã€‚\n$f$ï¼š$S \\times \\Sigma \\to S$ ä¸Šçš„å•å€¼éƒ¨åˆ†æ˜ åƒã€‚\n$$ f(A,a)=Q \\qquad A \\in S, a \\in \\Sigma $$\nè¡¨ç¤ºå½“å‰çŠ¶æ€ä¸º$A$ã€è¾“å…¥ä¸º$a$æ—¶ï¼Œå°†è½¬æ¢åˆ°ä¸‹ä¸€çŠ¶æ€$Q$ï¼Œç§°$Q$ä¸º$A$çš„ä¸€ä¸ªåç»§çŠ¶æ€ã€‚\n$s_0$ï¼šå”¯ä¸€çš„å¼€å§‹çŠ¶æ€ï¼Œ$s_0 \\in S$ã€‚\n$Z$ï¼šéç©ºçš„ç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œ$Z \\subseteq S$ã€‚\nDFAå¯ä»¥ç”¨ä¸¤ç§ç›´è§‚çš„æ–¹å¼è¡¨ç¤ºï¼š\nçŠ¶æ€è½¬æ¢å›¾ï¼šç®€ç§°ä¸ºè½¬æ¢å›¾ï¼Œæ˜¯ä¸€ä¸ªæœ‰å‘å›¾ã€‚\nDFAä¸­çš„æ¯ä¸ªçŠ¶æ€å¯¹åº”è½¬æ¢å›¾ä¸­çš„ä¸€ä¸ªç»“ç‚¹ã€‚\nDFAä¸­çš„æ¯ä¸ªè½¬æ¢å‡½æ•°å¯¹åº”å›¾ä¸­çš„ä¸€æ¡æœ‰å‘å¼§ã€‚\nåŒåœˆè¡¨ç¤ºçš„ç»“ç‚¹æ˜¯ç»ˆæ€ç»“ç‚¹ã€‚\nç»ˆæ€ä¹Ÿå¯ä»¥æ˜¯åˆæ€ã€‚\nè‹¥è½¬æ¢å‡½æ•°ä¸º$f(A,a)=Q$ï¼Œåˆ™è¯¥æœ‰å‘å¼§ä»ç»“ç‚¹$A$å‡ºå‘ï¼Œè¿›å…¥ç»“ç‚¹$Q$,å­—ç¬¦$a$æ˜¯å¼§ä¸Šçš„æ ‡è®°ã€‚\nçŠ¶æ€è½¬æ¢çŸ©é˜µï¼šç”¨ä¸€ä¸ªäºŒä½æ•°ç»„$M$è¡¨ç¤ºã€‚\nçŸ©é˜µå…ƒç´ $M[A,a]$ï¼š\nè¡Œä¸‹æ ‡ï¼šè¡¨ç¤ºçŠ¶æ€ã€‚å½“å‰çŠ¶æ€ä¸º$A$ã€‚ åˆ—ä¸‹æ ‡ï¼šè¡¨ç¤ºè¾“å…¥çš„å­—ç¬¦ã€‚å½“å‰è¾“å…¥ä¸º$a$ã€‚ $M[A,a]$çš„å€¼ï¼šå½“å‰çŠ¶æ€ä¸º$A$ã€è¾“å…¥ä¸º$a$æ—¶ï¼Œåº”è¯¥è½¬æ¢åˆ°çš„ä¸‹ä¸€çŠ¶æ€ã€‚ ä¸ç¡®å®šçš„æœ‰é™è‡ªåŠ¨æœºï¼ˆNondeterministic Finite Automataï¼ŒNFAï¼‰ï¼šå¯¹æ¯ä¸€ä¸ªçŠ¶æ€æ¥è¯´è¯†åˆ«å­—ç¬¦åè½¬ç§»çš„çŠ¶æ€æ˜¯ä¸å”¯ä¸€çš„ã€‚\nNFAä¹Ÿæ˜¯ä¸€ä¸ªäº”å…ƒç»„$(S, \\Sigma, f, s_0, Z)$ã€‚ä¸DFAçš„åŒºåˆ«æ˜¯ï¼š\n$f$æ˜¯$S \\times \\Sigma \\to 2^S$ ä¸Šçš„æ˜ åƒã€‚\nå¯¹äº$S$ä¸­çš„ä¸€ä¸ªç»™å®šçŠ¶æ€åŠè¾“å…¥ç¬¦å·ï¼Œè¿”å›ä¸€ä¸ªçŠ¶æ€çš„é›†åˆã€‚å³å½“å‰çŠ¶æ€çš„åç»§çŠ¶æ€ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„ã€‚\næœ‰å‘å¼§ä¸Šçš„æ ‡è®°å¯ä»¥æ˜¯ $\\varepsilon$ï¼ˆ$\\varepsilon$ è¡¨ç¤ºç©ºï¼‰ã€‚\nDFAæ˜¯NFAçš„ç‰¹ä¾‹ã€‚\næœ‰é™è‡ªåŠ¨æœºè¯†åˆ«æˆåŠŸçš„ä¾æ®æ˜¯è·¯è·‘çš„é€šå¹¶ä¸”è·‘å®Œåçš„ç»ˆç‚¹æ˜¯ç»ˆæ€ã€‚\næœ‰å‘å¼§ä¸­å‡ºç°å¦‚ $a,b$ï¼Œä»£è¡¨è¯¥æœ‰å‘å¼§è¾“å…¥çš„å€¼å¯ä»¥ä¸º$a$æˆ–$b$ã€‚å³,ä»£è¡¨æˆ–ã€‚\nè¯­æ³•åˆ†æ è¯­æ³•åˆ†æçš„ä»»åŠ¡æ˜¯åœ¨è¯æ³•åˆ†æçš„åŸºç¡€ä¸Šï¼Œæ ¹æ®è¯­è¨€çš„è¯­æ³•è§„åˆ™å°†å•è¯ç¬¦å·åºåˆ—åˆ†è§£æˆå„ç±»è¯­æ³•å•ä½ï¼Œå¦‚â€œè¡¨è¾¾å¼â€â€œè¯­å¥â€å’Œâ€œç¨‹åºâ€ç­‰ã€‚\nå¦‚æœæºç¨‹åºä¸­æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œè¯­æ³•åˆ†æåå°±èƒ½æ­£ç¡®åœ°æ„é€ å‡ºå…¶è¯­æ³•æ ‘ï¼›å¦åˆ™æŒ‡å‡ºè¯­æ³•é”™è¯¯ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„è¯Šæ–­ä¿¡æ¯ã€‚\nä¾‹å¦‚å¯¹id1 := id2 + id3 * 60è¿›è¡Œè¯­æ³•åˆ†æåå½¢æˆçš„è¯­æ³•æ ‘ï¼š\nä¸€èˆ¬æ¥è¯´ï¼Œæ ¹æ®è¡¨è¾¾å¼ç”Ÿæˆçš„è¯­æ³•æ ‘ï¼Œè¿ç®—ç¬¦åœ¨è¡¨è¾¾å¼ç§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå®ƒåœ¨è¯­æ³•æ ‘ä¸­çš„å±‚æ¬¡å°±è¶Šä½ï¼Œåä¹‹äº¦ç„¶ã€‚\nè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æåœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯å¯¹æºç¨‹åºçš„ç»“æ„è¿›è¡Œåˆ†æã€‚\nåˆ°è¾¾è¯­æ³•åˆ†æé˜¶æ®µå¯ä»¥å‘ç°ç¨‹åºä¸­æ‰€æœ‰çš„è¯­æ³•é”™è¯¯ã€‚ä¾‹å¦‚ï¼š\nå˜é‡çš„å€¼æ˜¯å¦æ­£ç¡®ï¼› è¯­å¥çš„å½¢å¼æ˜¯å¦æ­£ç¡®ï¼› è¯­å¥çš„ç»“æ„æ˜¯å¦åˆæ³•ï¼› æ£€æŸ¥æ‹¬å·æ˜¯å¦åŒ¹é…ï¼› \u0026hellip;\u0026hellip; è¯­æ³•åˆ†ææ–¹æ³•æœ‰å¤šç§ï¼Œæ ¹æ®äº§ç”Ÿè¯­æ³•æ ‘çš„æ–¹å‘ï¼Œå¯åˆ†ä¸ºè‡ªåº•å‘ä¸Šå’Œè‡ªé¡¶å‘ä¸‹ä¸¤ç±»ã€‚\nä¸Šä¸‹æ–‡æ— å…³æ–‡æ³• ç¨‹åºè®¾è®¡è¯­è¨€çš„ç»å¤§å¤šæ•°è¯­æ³•è§„åˆ™å¯ä»¥é‡‡ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•è¿›è¡Œæè¿°ã€‚\nä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•å±äºä¹”å§†æ–¯åŸºå®šä¹‰çš„2å‹æ–‡æ³•ã€‚\nå¯¹äºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œ$G[S] = (V_N, V_T, P, S)$ï¼Œå…¶äº§ç”Ÿå¼çš„å½¢å¼éƒ½æ˜¯ $A \\to \\beta$ï¼Œå…¶ä¸­ $A \\in V_n$ï¼Œ$\\beta \\in (V_N \\cup V_T)^*$ã€‚å³ï¼š\n$V_N$ï¼šéç»ˆç»“ç¬¦å·é›†åˆï¼Œ $V_T$ï¼šç»ˆç»“ç¬¦å·é›†åˆï¼Œ $P$ï¼šäº§ç”Ÿå¼é›†åˆï¼Œ $S$ï¼šå¼€å§‹ç¬¦å·ã€‚ ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„æ¨å¯¼è¿‡ç¨‹å¯ç”¨æ ‘å‹ç»“æ„æè¿°ï¼š\nç”±ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„æ¨å¯¼è¿‡ç¨‹ä¹Ÿå¯ä»¥çœ‹å‡ºå®ƒæ˜¯è‡ªé¡¶å‘ä¸‹æ¨å¯¼ã€‚\nå¯¹äºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸­çš„é›†åˆï¼Œæœ‰ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼š\n$S \\to P$ $P \\to V_N$ $V_N \\to V_T$ è¯­ä¹‰åˆ†æ è¯­ä¹‰åˆ†æé˜¶æ®µåˆ†æå„è¯­æ³•ç»“æ„çš„å«ä¹‰ï¼Œæ£€æŸ¥æºç¨‹åºæ˜¯å¦åŒ…å«é™æ€è¯­ä¹‰é”™è¯¯ï¼Œå¹¶æ”¶é›†ç±»å‹ä¿¡æ¯ä¾›åé¢çš„ä»£ç ç”Ÿæˆé˜¶æ®µä½¿ç”¨ã€‚åªæœ‰è¯­æ³•å’Œè¯­ä¹‰éƒ½æ­£ç¡®çš„æºç¨‹åºæ‰èƒ½ç¿»è¯‘æˆæ­£ç¡®çš„ç›®æ ‡ä»£ç ã€‚\nè¯­ä¹‰åˆ†æçš„ä¸€ä¸ªä¸»è¦å·¥ä½œæ˜¯è¿›è¡Œç±»å‹åˆ†æå’Œæ£€æŸ¥ã€‚ç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„ä¸€ä¸ªæ•°æ®ç±»å‹ä¸€èˆ¬åŒ…å«ä¸¤ä¸ªæ–¹é¢çš„å†…å®¹ï¼šç±»å‹çš„è½½ä½“åŠå…¶ä¸Šçš„è¿ç®—ã€‚\nè¯­ä¹‰åˆ†æé˜¶æ®µçš„è¾“å…¥æ˜¯ä¸Šä¸€ä¸ªé˜¶æ®µï¼ˆè¯­æ³•åˆ†æï¼‰æ‰€æ„é€ çš„è¯­æ³•æ ‘ã€‚\nè¯­ä¹‰åˆ†æåè¯­æ³•æ ‘ä¸­å¯èƒ½ä¼šå‡ºç°ä¸€äº›è¯­ä¹‰å¤„ç†ç»“ç‚¹ã€‚ä¾‹å¦‚inttorealï¼Œè¡¨ç¤ºå°†ä¸€ä¸ªæ•´å‹æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚\nè¯­ä¹‰åˆ†æä¸èƒ½å‘ç°ç¨‹åºä¸­æ‰€æœ‰çš„è¯­ä¹‰é”™è¯¯ã€‚è¯­ä¹‰åˆ†æåªèƒ½å‘ç°é™æ€è¯­ä¹‰é”™è¯¯ï¼ŒåŠ¨æ€è¯­ä¹‰é”™è¯¯éœ€è¦åœ¨ç”Ÿæˆç›®æ ‡ç¨‹åºåè¿è¡Œæ—¶æ‰èƒ½å‘ç°ã€‚\næœ‰è¯­ä¹‰é”™è¯¯æ˜¯å¯ä»¥ç¼–è¯‘æˆåŠŸçš„ã€‚ä¾‹å¦‚a/0ï¼Œç¬¦åˆè¯­æ³•ï¼Œä¹Ÿç¬¦åˆé™æ€è¯­ä¹‰ï¼Œç¼–è¯‘å™¨æ£€éªŒä¸å‡ºæ¥è¿™ä¸ªæ˜¯é”™çš„ï¼Œåªæœ‰è¿è¡Œæ‰ä¼šæŠ¥é”™ï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€è¯­ä¹‰ï¼ŒåŠ¨æ€è¯­ä¹‰é”™è¯¯å¸¸è§çš„è¿˜æœ‰æ­»å¾ªç¯ã€‚\nPSï¼šç°åœ¨æœ‰äº›IDEä¼šå¯¹ä¸€äº›å¸¸è§çš„åŠ¨æ€è¯­ä¹‰é”™è¯¯è¿›è¡Œæ£€æŸ¥ï¼Œåœ¨ç¨‹åºç¼–è¯‘å‰æç¤ºç»™ç”¨æˆ·ã€‚\nä¸­é—´ä»£ç ç”Ÿæˆ ä¸­é—´ä»£ç ç”Ÿæˆé˜¶æ®µçš„å·¥ä½œæ˜¯æ ¹æ®è¯­ä¹‰åˆ†æçš„è¾“å‡ºç”Ÿæˆä¸­é—´ä»£ç ã€‚\nâ€œä¸­é—´ä»£ç â€æ˜¯ä¸€ç§ç®€å•ä¸”å«ä¹‰æ˜ç¡®çš„è®°å·ç³»ç»Ÿï¼Œå¯ä»¥æœ‰è‹¥å¹²ç§å½¢å¼ï¼Œå®ƒä»¬çš„å…±åŒç‰¹å¾æ˜¯ä¸å…·ä½“çš„æœºå™¨æ— å…³ã€‚æœ€å¸¸ç”¨çš„ä¸€ç§ä¸­é—´ä»£ç æ˜¯ä¸æ±‡ç¼–è¯­è¨€çš„æŒ‡ä»¤éå¸¸ç›¸ä¼¼çš„ä¸‰åœ°å€ç ï¼Œå…¶å®ç°æ–¹å¼å¸¸é‡‡ç”¨å››å…ƒå¼ã€‚å››å…ƒå¼çš„å½¢å¼ä¸ºï¼š\n(è¿ç®—ç¬¦, è¿ç®—å¯¹è±¡1, è¿ç®—å¯¹è±¡2, è¿ç®—ç»“æœ) è¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆæ‰€ä¾æ®çš„æ˜¯è¯­è¨€çš„è¯­ä¹‰è§„åˆ™ã€‚\nä¸­é—´ä»£ç ç”Ÿæˆé˜¶æ®µå¯¹äºç¼–è¯‘è¿‡ç¨‹æ¥è¯´æ˜¯å¯çœç•¥çš„ã€‚ä½†æ˜¯å‰é¢çš„ä¸‰ä¸ªé˜¶æ®µè¯æ³•åˆ†æã€è¯­æ³•åˆ†æå’Œè¯­ä¹‰åˆ†æè¿˜æœ‰æœ€åçš„ç›®æ ‡ä»£ç ç”Ÿæˆæ˜¯ä¸å¯çœç•¥çš„ã€‚\nç¼–è¯‘å™¨å‰åç«¯ å¯¹äºç¼–è¯‘è¿‡ç¨‹çš„å„ä¸ªé˜¶æ®µï¼Œåœ¨é€»è¾‘ä¸Šå¯ä»¥æŠŠå®ƒä»¬åˆ’åˆ†ä¸ºï¼š\nå‰ç«¯ï¼š è¯æ³•åˆ†æ è¯­æ³•åˆ†æ è¯­ä¹‰åˆ†æ ä¸­é—´ä»£ç ç”Ÿæˆ åç«¯ï¼š ä¸­é—´ä»£ç ä¼˜åŒ– ç›®æ ‡ä»£ç ç”Ÿæˆ ä»¥ä¸­é—´ä»£ç ä¸ºåˆ†æ°´å²­ï¼ˆä¸­é—´ä»£ç ä½œä¸ºå‰ç«¯çš„è¾“å‡ºï¼Œç„¶åå†ä½œä¸ºåç«¯çš„è¾“å…¥æ¥è¿æ¥å‰åç«¯ï¼‰ï¼ŒæŠŠç¼–è¯‘å™¨åˆ†æˆäº†ä¸æœºå™¨æœ‰å…³çš„éƒ¨åˆ†ï¼ˆåç«¯ï¼‰å’Œä¸æœºå™¨æ— å…³çš„éƒ¨åˆ†ï¼ˆå‰ç«¯ï¼‰ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå¯¹äºåŒä¸€ç§ç¨‹åºè®¾è®¡è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œå¼€å‘å‡ºä¸€ä¸ªå‰ç«¯ä¹‹åï¼Œå°±å¯ä»¥é’ˆå¯¹ä¸åŒçš„æœºå™¨å¼€å‘ç›¸åº”çš„åç«¯ï¼Œå‰ã€åç«¯æœ‰æœºç»“åˆåå°±å½¢æˆäº†è¯¥è¯­è¨€çš„ä¸€ä¸ªç¼–è¯‘å™¨ã€‚å½“è¯­è¨€æœ‰æ”¹åŠ¨æ—¶ï¼Œåªä¼šæ¶‰åŠå‰ç«¯éƒ¨åˆ†çš„ç»´æŠ¤ã€‚\nå¯¹äºä¸åŒçš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œåˆ†åˆ«è®¾è®¡å‡ºç›¸åº”çš„å‰ç«¯ï¼Œç„¶åå°†å„ä¸ªè¯­è¨€çš„å‰ç«¯ä¸åŒä¸€ä¸ªåç«¯ç›¸ç»“åˆï¼Œå°±å¯ä»¥å¾—åˆ°å„ä¸ªè¯­è¨€åœ¨æŸç§æœºå™¨ä¸Šçš„ç¼–è¯‘å™¨ã€‚\nä½¿ç”¨ä¸­é—´ä»£ç ï¼Œå°†ç¼–è¯‘å™¨åˆ†ä¸ºå‰åç«¯çš„å¥½å¤„æ˜¯ï¼Œæœ‰åˆ©äºç¼–è¯‘ç¨‹åºçš„å¯ç§»æ¤æ€§ã€‚\nç¼–è¯‘ç¨‹åºçš„å¯ç§»æ¤æ€§æé«˜äº†ï¼Œé‚£ä¹ˆç›¸åº”çš„æºç¨‹åºï¼ˆæºä»£ç ï¼‰çš„å¯ç§»æ¤ä¹Ÿä¼šæé«˜ã€‚\nä¸­ç¼€å’Œåç¼€è¡¨è¾¾å¼ ä¸­é—´ä»£ç æœ‰å¤šç§å½¢å¼ï¼Œå…¶ä¸­æ ‘ä¸åç¼€è¡¨ç¤ºå½¢å¼é€‚ç”¨äºè§£é‡Šå™¨ï¼Œè€Œç¼–è¯‘å™¨å¤šé‡‡ç”¨ä¸æœºå™¨æŒ‡ä»¤æ ¼å¼è¾ƒæ¥è¿‘çš„å››å…ƒå¼å½¢å¼ã€‚\næ ¹æ®ç”Ÿæˆçš„è¯­æ³•æ ‘ï¼ŒæŒ‰ç…§ä¸åŒçš„æ–¹å¼éå†å³å¯ç”Ÿæˆå½¢å¼ä¸åŒçš„è¡¨è¾¾å¼ï¼š\nä¸­ç¼€è¡¨è¾¾å¼ï¼šä¸­åºéå†ï¼ˆå·¦-æ ¹-å³ï¼‰ï¼›\nåç¼€è¡¨è¾¾å¼ï¼šååºä¾¿åˆ©ï¼ˆå·¦-å³-æ ¹ï¼‰ã€‚\nåç¼€è½¬ä¸­ç¼€ç”¨åˆ°äº†æ ˆã€‚\né€†æ³¢å…°å¼å…¶å®å°±æ˜¯åç¼€å¼ã€‚\nä»£ç ä¼˜åŒ– ç”±äºç¼–è¯‘å™¨å°†æºç¨‹åºç¿»è¯‘æˆä¸­é—´ä»£ç çš„å·¥ä½œæ˜¯æœºæ¢°çš„ã€æŒ‰å›ºå®šæ¨¡å¼è¿›è¡Œçš„ï¼Œå› æ­¤ï¼Œç”Ÿæˆçš„ä¸­é—´ä»£ç å¾€å¾€åœ¨æ—¶é—´ä¸Šå’Œç©ºé—´ä¸Šæœ‰è¾ƒå¤§çš„æµªè´¹ã€‚å½“éœ€è¦ç”Ÿæˆé«˜æ•ˆçš„ç›®æ ‡ä»£ç æ—¶ï¼Œå¿…é¡»è¿›è¡Œä¼˜åŒ–ã€‚ä¼˜åŒ–è¿‡ç¨‹å¯ä»¥åœ¨ä¸­é—´ä»£ç ç”Ÿæˆé˜¶æ®µè¿›è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ç›®æ ‡ä»£ç ç”Ÿæˆé˜¶æ®µè¿›è¡Œã€‚\nç”±äºä¸­é—´ä»£ç ä¸ä¾èµ–äºå…·ä½“æœºå™¨ï¼Œæ­¤æ—¶æ‰€åšçš„ä¼˜åŒ–ä¸€èˆ¬å»ºç«‹åœ¨å¯¹ç¨‹åºçš„æ§åˆ¶æµå’Œæ•°æ®æµåˆ†æçš„åŸºç¡€ä¹‹ä¸Šï¼Œä¸å…·ä½“çš„æœºå™¨æ— å…³ã€‚ä¼˜åŒ–æ‰€ä¾æ®çš„åŸåˆ™æ˜¯ç¨‹åºçš„ç­‰ä»·å˜æ¢è§„åˆ™ã€‚\nç›®æ ‡ä»£ç ç”Ÿæˆ ç›®æ ‡ä»£ç ç”Ÿæˆé˜¶æ®µçš„ä»»åŠ¡æ˜¯æŠŠä¸­é—´ä»£ç å˜æ¢æˆç‰¹å®šæœºå™¨ä¸Šçš„ç»å¯¹æŒ‡ä»¤ä»£ç ã€å¯é‡å®šä½çš„æŒ‡ä»¤ä»£ç æˆ–æ±‡ç¼–æŒ‡ä»¤ä»£ç ï¼Œè¿™ä¸ªé˜¶æ®µçš„å·¥ä½œä¸å…·ä½“çš„æœºå™¨å¯†åˆ‡ç›¸å…³ã€‚\nå¯„å­˜å™¨çš„åˆ†é…ï¼šå¯„å­˜å™¨è®¿é—®é€Ÿåº¦å¿«ï¼Œä½†æ•°é‡æœ‰é™ï¼Œæ‰€ä»¥å¦‚ä½•åˆ†é…åŠä½¿ç”¨å¯„å­˜å™¨æ˜¯ç›®æ ‡ä»£ç ç”Ÿæˆæ—¶éœ€è¦ç€é‡è€ƒè™‘çš„ã€‚\nç¼–è¯‘è¿‡ç¨‹ä¸­ä¸ºå˜é‡åˆ†é…çš„å­˜å‚¨å•å…ƒæ‰€ç”¨çš„åœ°å€æ˜¯é€»è¾‘åœ°å€ï¼Œç¨‹åºè¿è¡Œæ—¶å†å°†é€»è¾‘åœ°å€æ˜ å°„ä¸ºç‰©ç†åœ°å€ã€‚\nç¬¦å·è¡¨ç®¡ç† ç¬¦å·è¡¨çš„ä½œç”¨æ˜¯ï¼š\nè®°å½•æºç¨‹åºä¸­å„ä¸ªç¬¦å·çš„å¿…è¦ä¿¡æ¯ï¼› è¾…åŠ©è¯­ä¹‰çš„æ­£ç¡®æ€§æ£€æŸ¥å’Œä»£ç ç”Ÿæˆã€‚ åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦å¯¹ç¬¦å·è¡¨è¿›è¡Œå¿«é€Ÿæœ‰æ•ˆåœ°æŸ¥æ‰¾ã€æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤ç­‰æ“ä½œã€‚\nç¬¦å·è¡¨åœ¨å‰ä¸‰ä¸ªé˜¶æ®µæ„å»ºï¼šå¯ä»¥å§‹äºè¯æ³•åˆ†æé˜¶æ®µï¼Œä¹Ÿå¯ä»¥æ”¾åˆ°è¯­æ³•åˆ†æå’Œè¯­ä¹‰åˆ†æé˜¶æ®µ ç¬¦å·è¡¨çš„ä½¿ç”¨æœ‰æ—¶ä¼šå»¶ç»­åˆ°ç›®æ ‡ä»£ç çš„è¿è¡Œé˜¶æ®µã€‚ ç¼–è¯‘è¿‡ç¨‹ä¸­ç¿»è¯‘ä¸»è¦è€ƒè™‘å£°æ˜è¯­å¥å’Œå¯æ‰§è¡Œè¯­å¥ã€‚å¯¹å£°æ˜è¯­å¥ï¼Œä¸»è¦æ˜¯å°†æ‰€éœ€çš„ä¿¡æ¯æ­£ç¡®åœ°å¡«å…¥ç¬¦å·è¡¨ï¼›å¯¹å¯æ‰§è¡Œè¯­å¥ï¼Œåˆ™æ˜¯å°†å…¶ç¿»è¯‘æˆä¸­é—´ä»£ç æˆ–ç›®æ ‡ä»£ç ã€‚\nå‡ºé”™å¤„ç† ç¼–å†™çš„æºç¨‹åºä¸­å‡ºç°çš„é”™è¯¯åˆ†ä¸ºï¼š\né™æ€é”™è¯¯ï¼š\nç¼–è¯‘é˜¶æ®µå‘ç°çš„ç¨‹åºé”™è¯¯ï¼Œåˆå¯åˆ†ä¸ºï¼š\nè¯­æ³•é”™è¯¯ï¼šæœ‰å…³è¯­è¨€ç»“æ„ä¸Šçš„é”™è¯¯ã€‚ å¦‚å•è¯æ‹¼å†™é”™è¯¯ã€æ ‡ç‚¹ç¬¦å·é”™è¯¯ã€è¡¨è¾¾å¼ä¸­ç¼ºå°‘æ“ä½œæ•°ã€æ‹¬å·ä¸åŒ¹é…ç­‰ã€‚\né™æ€è¯­ä¹‰é”™è¯¯ï¼šè¿ç®—ç¬¦ä¸è¿ç®—å¯¹è±¡ç±»å‹ä¸åˆæ³•ç­‰é”™è¯¯ã€‚ åŠ¨æ€é”™è¯¯ï¼ˆåŠ¨æ€è¯­ä¹‰é”™è¯¯ï¼‰ï¼šå‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶ã€‚\nå¸¸è§çš„åŠ¨æ€é”™è¯¯ä¾‹å¦‚é™¤æ•°ä¸º0ã€‚\nåœ¨ç¼–è¯‘æ—¶å‘ç°ç¨‹åºä¸­çš„é”™è¯¯åï¼Œç¼–è¯‘ç¨‹åºåº”é‡‡ç”¨é€‚å½“çš„ç­–ç•¥ä¿®å¤å®ƒä»¬ï¼Œä½¿å¾—åˆ†æè¿‡ç¨‹èƒ½å¤Ÿç»§ç»­ä¸‹å»ï¼Œä»¥ä¾¿åœ¨ä¸€æ¬¡ç¼–è¯‘è¿‡ç¨‹ä¸­å°½å¯èƒ½å¤šåœ°æ‰¾å‡ºç¨‹åºä¸­çš„é”™è¯¯ã€‚\nç¨‹åºè®¾è®¡è¯­è¨€çš„åŸºæœ¬æˆåˆ† ç¨‹åºè®¾è®¡è¯­è¨€çš„åŸºæœ¬æˆåˆ†åŒ…æ‹¬ï¼š\næ•°æ® è¿ç®— æ§åˆ¶ ä¼ è¾“ ï¼ˆå‡½æ•°ï¼‰ æ•°æ®æˆåˆ† æ•°æ®æˆåˆ†åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\næ ‡è¯†ç¬¦ï¼šæ ‡è¯†ç¬¦é€šå¸¸æ˜¯ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿_ç»„æˆï¼Œå¹¶ä¸”ä¸èƒ½ç”±æ•°å­—å¼€å¤´ã€‚\nä¸€èˆ¬æœ‰å¦‚ä¸‹ç§ç±»æ ‡è¯†ç¬¦ï¼š\nå…³é”®å­—ã€‚ å˜é‡åã€‚ å‡½æ•°åã€‚ ç°åœ¨ï¼ŒæŸäº›é«˜çº§è¯­è¨€å·²ç»æ”¯æŒä¸­æ–‡ç­‰å­—ç¬¦æ¥å½“ä½œå˜é‡åã€‚\nå¸¸é‡ï¼šä¸€èˆ¬æœ‰å­—é¢é‡ï¼ˆä¾‹å¦‚123ã€\u0026quot;abc\u0026quot;ï¼‰å’Œä¸å¯å˜å˜é‡ï¼ˆåœ¨æŸäº›è¯­è¨€ä¸­ä¹Ÿç§°å…¶ä¸ºå¸¸é‡ï¼‰ã€‚\nå¸¸é‡ä¹Ÿå…·æœ‰ç±»å‹ï¼› å¸¸é‡ä¹Ÿæœ‰å¯¹åº”çš„å­˜å‚¨å•å…ƒã€‚ å˜é‡ï¼šç”¨æ¥å­˜å‚¨æ•°æ®æˆ–å¯¹è±¡ã€‚æœ‰å­˜å‚¨ç±»åˆ«ã€ç±»å‹ã€åç§°ï¼ˆå˜é‡åï¼‰ã€ä½œç”¨åŸŸå’Œç”Ÿå­˜å‘¨æœŸç­‰å±æ€§ï¼ˆè¿™äº›ä¹Ÿæ˜¯æ•°æ®çš„å±æ€§ï¼‰ã€‚\nå…¨å±€é‡ï¼šåœ¨ç¨‹åºä»£ç ä¸­çš„ä½œç”¨åŸŸï¼ˆä½œç”¨èŒƒå›´ï¼‰ä¸ºæ•´ä¸ªæ–‡ä»¶æˆ–ç¨‹åºçš„æ•°æ®ã€‚\nå±€éƒ¨é‡ï¼šåœ¨ç¨‹åºä»£ç ä¸­çš„ä½œç”¨åŸŸï¼ˆä½œç”¨èŒƒå›´ï¼‰ä¸ºå®šä¹‰å®ƒçš„å‡½æ•°æˆ–è¯­å¥å—ä¸­çš„æ•°æ®ã€‚\næ•°æ®ç±»å‹ï¼šæŒ‰ç…§æ•°æ®ç»„ç»‡å½¢å¼çš„ä¸åŒå¯å°†æ•°æ®åˆ†ä¸ºåŸºæœ¬ç±»å‹ã€ç”¨æˆ·å®šä¹‰ç±»å‹ã€æ„é€ ç±»å‹ï¼ˆCå’ŒC++ï¼‰åŠå…¶ä»–ç±»å‹ç­‰ã€‚\nè®¸å¤šç¨‹åºè®¾è®¡è¯­è¨€éƒ½è§„å®šï¼Œç¨‹åºä¸­çš„æ•°æ®éƒ½å¿…é¡»å…·æœ‰ç±»å‹ï¼Œå…¶ä½œç”¨æ˜¯ï¼š\nåˆ†é…å­˜å‚¨å•å…ƒï¼šä¾¿äºä¸ºæ•°æ®åˆç†åˆ†é…å­˜å‚¨å•å…ƒï¼› æ£€æŸ¥æ•°æ®å¯¹è±¡ï¼šä¾¿äºå¯¹å‚ä¸è¡¨è¾¾å¼è®¡ç®—çš„æ•°æ®å¯¹è±¡è¿›è¡Œï¼ˆåˆæ³•æ€§ï¼‰æ£€æŸ¥ï¼› å–å€¼èŒƒå›´ï¼šä¾¿äºè§„å®šæ•°æ®å¯¹è±¡çš„å–å€¼èŒƒå›´åŠèƒ½å¤Ÿè¿›è¡Œçš„è¿ç®— åŠ¨æ€æ•°æ®ç»“æ„ï¼Œå…¶æ•°æ®çš„ç»“æ„ä¼šåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ”¹å˜ï¼Œä¾‹å¦‚é“¾è¡¨ã€äºŒå‰æ ‘ç­‰ã€‚\nåŠ¨æ€æ•°æ®ç»“æ„çš„æ•°æ®ç©ºé—´å¿…é¡»é‡‡ç”¨å †å­˜å‚¨åˆ†é…ç­–ç•¥ï¼Œæ•°æ®å­˜æ”¾åœ¨å †åŒºã€‚\nåœ¨C/C++ä¸­ï¼Œå…¨å±€å˜é‡çš„å­˜å‚¨ç©ºé—´åœ¨é™æ€æ•°æ®åŒºåˆ†é…ã€‚\nè¿ç®—æˆåˆ† å¤§å¤šæ•°é«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€çš„åŸºæœ¬è¿ç®—å¯ä»¥åˆ†ä¸ºï¼š\nç®—æœ¯è¿ç®—ã€‚ å…³ç³»è¿ç®—ã€‚ é€»è¾‘è¿ç®—ã€‚ ä½è¿ç®—ã€‚ \u0026hellip; æ§åˆ¶ç»“æ„ æœ‰ä»¥ä¸‹ä¸‰ç§ç»“æ„æ¥æ„é€ ç¨‹åºä¸­çš„æ§åˆ¶é€»è¾‘ï¼š\né¡ºåºç»“æ„ã€‚ é€‰æ‹©ç»“æ„ã€‚ å¾ªç¯ç»“æ„ã€‚ å¤§å¤šæ•°é«˜çº§è¯­è¨€éƒ½é’ˆå¯¹å¾ªç¯ç»“æ„æä¾›äº†breakã€continueç­‰æ§åˆ¶æµè·³è½¬è¯­å¥ã€‚\nä¼ è¾“æˆåˆ† ç¨‹åºè®¾è®¡è¯­è¨€çš„ä¼ è¾“æˆåˆ†æŒ‡æ˜è¯­è¨€å…è®¸çš„æ•°æ®ä¼ è¾“æ–¹å¼ï¼Œå¦‚èµ‹å€¼å¤„ç†ã€æ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºç­‰ã€‚\nå‡½æ•° å‡½æ•°å®šä¹‰ï¼š\nå‡½æ•°é¦–éƒ¨ï¼š è¿”å›å€¼ç±»å‹ å‡½æ•°å å½¢å‚è¡¨ å‡½æ•°ä½“ï¼šå®šä¹‰å‡½æ•°æ‰€å®ç°çš„åŠŸèƒ½ã€‚ å‡½æ•°å£°æ˜ï¼šåœ¨Cï¼ˆC++ï¼‰ä¸­ï¼Œå‡½æ•°éœ€è¦å…ˆå£°æ˜åå¼•ç”¨ã€‚\nå‡½æ•°è°ƒç”¨ï¼šåœ¨è°ƒç”¨å‡½æ•°ä¸­ä½¿ç”¨è¢«è°ƒå‡½æ•°å®ç°çš„åŠŸèƒ½ã€‚å‡½æ•°è°ƒç”¨çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š\nå‡½æ•°å(å®å‚è¡¨) è°ƒç”¨å‡½æ•°ä¸è¢«è°ƒå‡½æ•°ä¹‹é—´å‚æ•°çš„ä¼ é€’æœ‰ä¸¤ç§å½¢å¼ï¼š\nå€¼è°ƒç”¨ï¼ˆCall by Valueï¼‰ï¼šå½¢å‚æ˜¯å®å‚çš„ä¸€ä»½æ‹·è´ã€‚å³å®å‚å°†å€¼ä¼ é€’ç»™å½¢å‚ï¼Œå¯¹å½¢å‚å€¼çš„æ›´æ”¹å¹¶ä¸ä¼šä½œç”¨åˆ°å®å‚ä¸Šã€‚\nå¼•ç”¨è°ƒç”¨ï¼ˆCall by Referenceï¼‰ï¼šå½¢å‚æ˜¯å®å‚çš„ä¸€ä¸ªåˆ«åã€‚å³å‡½æ•°ä¸­å¯¹å½¢å‚çš„è®¿é—®å’Œä¿®æ”¹å®é™…ä¸Šæ˜¯å¯¹å…¶ç›¸åº”å®å‚æ‰€åšçš„è®¿é—®å’Œä¿®æ”¹ã€‚\nå¼•ç”¨è°ƒç”¨ä¸‹ï¼Œå¯ä»¥å®ç°å½¢å‚å’Œå®å‚ä¹‹é—´æ•°æ®çš„åŒå‘ä¼ é€’ã€‚\nåœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨å’Œè¿”å›æ—¶ï¼Œç”±ç³»ç»Ÿä½¿ç”¨æ ˆåŒºæ¥è¿›è¡Œæ§åˆ¶å’Œç®¡ç†ã€‚\n","date":"2023å¹´3æœˆ30æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/programming-language/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"ç¼–è¯‘åŸç†","url":"/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"}],"timestamp":1680177521,"title":"ç¨‹åºè®¾è®¡è¯­è¨€ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"è®¡ç®—æœºçš„åŸºæœ¬å•ä½ ä½ï¼ˆæ¯”ç‰¹ï¼‰\næœ€å°æ•°æ®å•ä½ bitã€b å­—èŠ‚\næœ€å°å­˜å‚¨å•ä½ byteã€B 1B = 8b åƒå­—èŠ‚ KB 1KB = 1024B å…†å­—èŠ‚ MB 1MB = 1024KB å‰å­—èŠ‚ GB 1GB = 1024MB å¤ªå­—èŠ‚ TB 1TB = 1024GB è®¡ç®—æœºç³»ç»Ÿ è®¡ç®—æœºç³»ç»Ÿç”±ç¡¬ä»¶å’Œè½¯ä»¶ç»„æˆã€‚\nè®¡ç®—æœºåŸºæœ¬ç¡¬ä»¶ç³»ç»Ÿï¼š\nè¿ç®—å™¨ æ§åˆ¶å™¨ å­˜å‚¨å™¨ è¾“å…¥è®¾å¤‡ è¾“å‡ºè®¾å¤‡ ä¸­å¤®å¤„ç†å•å…ƒ è¿ç®—å™¨ã€æ§åˆ¶å™¨ç­‰éƒ¨ä»¶è¢«é›†æˆåœ¨ä¸€èµ·ç»Ÿç§°ä¸­å¤®å¤„ç†å•å…ƒï¼ˆCPUï¼‰ã€‚CPUæ˜¯ç¡¬ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œç”¨äºæ•°æ®çš„åŠ å·¥å¤„ç†ï¼Œèƒ½å®Œæˆå„ç§ç®—æœ¯ã€é€»è¾‘è¿ç®—åŠæ§åˆ¶åŠŸèƒ½ã€‚\nä¸­å¤®å¤„ç†å•å…ƒï¼ˆCPUï¼‰è´Ÿè´£è·å–ç¨‹åºæŒ‡ä»¤ã€å¯¹æŒ‡ä»¤è¿›è¡Œè¯‘ç å¹¶åŠ ä»¥æ‰§è¡Œã€‚\nCPUçš„åŠŸèƒ½ï¼š\nç¨‹åºæ§åˆ¶ï¼šé€šè¿‡æ‰§è¡ŒæŒ‡ä»¤æ¥æ§åˆ¶ç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚\næ“ä½œæ§åˆ¶ï¼šCPUäº§ç”Ÿæ¯æ¡æŒ‡ä»¤çš„ï¼ˆè‹¥å¹²ï¼‰æ“ä½œä¿¡å·å¹¶å°†æ“ä½œä¿¡å·é€å¾€å¯¹åº”çš„éƒ¨ä»¶ï¼Œæ§åˆ¶ç›¸åº”çš„éƒ¨ä»¶æŒ‰æŒ‡ä»¤çš„åŠŸèƒ½è¦æ±‚è¿›è¡Œæ“ä½œã€‚\næ—¶é—´æ§åˆ¶ï¼šå¯¹å„ç§æ“ä½œè¿›è¡Œæ—¶é—´ä¸Šçš„æ§åˆ¶ï¼Œå³æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­æ“ä½œä¿¡å·çš„å‡ºç°æ—¶é—´ã€æŒç»­æ—¶é—´åŠå‡ºç°çš„æ—¶é—´é¡ºåºéƒ½éœ€è¦è¿›è¡Œä¸¥æ ¼æ§åˆ¶ã€‚\næ•°æ®å¤„ç†ï¼šé€šè¿‡å¯¹æ•°æ®è¿›è¡Œç®—æœ¯è¿ç®—åŠé€»è¾‘è¿ç®—ç­‰æ–¹å¼è¿›è¡ŒåŠ å·¥å¤„ç†ï¼Œæ•°æ®åŠ å·¥å¤„ç†çš„ç»“æœè¢«äººä»¬æ‰€åˆ©ç”¨ã€‚\nå¯¹æ•°æ®çš„åŠ å·¥å¤„ç†ä¹Ÿæ˜¯CPUæœ€æ ¹æœ¬çš„ä»»åŠ¡ã€‚\nå¯¹ç³»ç»Ÿå†…éƒ¨å’Œå¤–éƒ¨çš„ä¸­æ–­ï¼ˆå¼‚å¸¸ï¼‰åšå‡ºå“åº”ï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚\nCPUçš„ç»„æˆï¼š\nè¿ç®—å™¨ æ§åˆ¶å™¨ å¯„å­˜å™¨ç»„ å†…éƒ¨æ€»çº¿ è¿ç®—å™¨ è¿ç®—å™¨ç»„æˆéƒ¨ä»¶ï¼š\nç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰ï¼šé‡è¦ç»„æˆéƒ¨ä»¶ã€‚è´Ÿè´£å¤„ç†æ•°æ®ï¼Œå®ç°å¯¹æ•°æ®çš„ç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—ã€‚\nç´¯åŠ å¯„å­˜å™¨ï¼ˆACï¼Œç´¯åŠ å™¨ï¼‰ï¼šæ˜¯ä¸€ä¸ªé€šç”¨å¯„å­˜å™¨ã€‚å­˜æ”¾æ“ä½œæ•°æˆ–è€…ç»“æœã€‚\nå…¶åŠŸèƒ½æ˜¯å½“è¿ç®—å™¨çš„ç®—æœ¯é€»è¾‘å•å…ƒæ‰§è¡Œç®—æœ¯æˆ–é€»è¾‘è¿ç®—æ—¶ï¼Œä¸ºALUæä¾›ä¸€ä¸ªå·¥ä½œåŒºã€‚ä¾‹å¦‚ï¼Œåœ¨æ‰§è¡Œä¸€ä¸ªå‡æ³•è¿ç®—å‰ï¼Œå…ˆå°†è¢«å‡æ•°å–å‡ºæš‚å­˜åœ¨ACä¸­ï¼Œå†ä»å†…å­˜å‚¨å™¨ä¸­å–å‡ºå‡æ•°ï¼Œç„¶ååŒACçš„å†…å®¹ç›¸å‡ï¼Œå°†æ‰€å¾—çš„ç»“æœé€å›ACä¸­ã€‚ è¿ç®—çš„ç»“æœæ˜¯æ”¾åœ¨ç´¯åŠ å™¨ä¸­çš„ï¼Œè¿ç®—å™¨ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ªç´¯åŠ å¯„å­˜å™¨ã€‚\næ•°æ®ç¼“å†²å¯„å­˜å™¨ï¼ˆDRï¼‰ï¼šæš‚å­˜ç”±å†…å­˜è¯»/å†™çš„ä¸€æ¡æŒ‡ä»¤æˆ–ä¸€ä¸ªæ•°æ®å­—ï¼Œå°†ä¸åŒæ—¶é—´æ®µå†…è¯»/å†™çš„æ•°æ®éš”ç¦»å¼€æ¥ã€‚\nDRçš„ä¸»è¦ä½œç”¨ä¸ºï¼š\nä½œä¸ºCPUå’Œå†…å­˜ã€å¤–éƒ¨è®¾å¤‡ä¹‹é—´æ•°æ®ä¼ é€çš„ä¸­è½¬ç«™ï¼› ä½œä¸ºCPUå’Œå†…å­˜ã€å¤–å›´è®¾å¤‡ä¹‹é—´åœ¨æ“ä½œé€Ÿåº¦ä¸Šçš„ç¼“å†²ï¼› åœ¨å•ç´¯åŠ å™¨ç»“æ„çš„è¿ç®—å™¨ä¸­ï¼Œæ•°æ®ç¼“å†²å¯„å­˜å™¨è¿˜å¯å…¼ä½œä¸ºæ“ä½œæ•°å¯„å­˜å™¨ã€‚ çŠ¶æ€æ¡ä»¶å¯„å­˜å™¨ï¼ˆPSWï¼‰ï¼šä¿å­˜äº†å½“å‰æŒ‡ä»¤æ‰§è¡Œå®Œæˆä¹‹åçš„çŠ¶æ€ï¼ˆæ ‡å¿—é€šå¸¸åˆ†åˆ«ç”±1ä½è§¦å‘å™¨ä¿å­˜ï¼‰ã€‚é€šå¸¸ï¼Œä¸€ä¸ªç®—æœ¯æ“ä½œäº§ç”Ÿä¸€ä¸ªè¿ç®—ç»“æœï¼Œè€Œä¸€ä¸ªé€»è¾‘æ“ä½œäº§ç”Ÿä¸€ä¸ªåˆ¤å†³ã€‚\næ§åˆ¶å™¨ æ§åˆ¶å™¨ç”¨äºæ§åˆ¶æ•´ä¸ªCPUçš„å·¥ä½œï¼Œå®ƒå†³å®šäº†è®¡ç®—æœºè¿è¡Œè¿‡ç¨‹çš„ è‡ªåŠ¨åŒ–ã€‚å®ƒä¸ä»…è¦ä¿è¯ç¨‹åºçš„æ­£ç¡®æ‰§è¡Œï¼Œè€Œä¸”è¦èƒ½å¤Ÿå¤„ç†å¼‚å¸¸äº‹ä»¶ã€‚\næŒ‡ä»¤æ§åˆ¶é€»è¾‘è¦å®Œå–æŒ‡ä»¤ã€åˆ†ææŒ‡ä»¤å’Œæ‰§è¡ŒæŒ‡ä»¤çš„æ“ä½œï¼Œå…¶è¿‡ç¨‹åˆ†ä¸ºå–æŒ‡ä»¤ã€æŒ‡ä»¤è¯‘ç ã€æŒ‰æŒ‡ä»¤æ“ä½œç æ‰§è¡Œã€å½¢æˆä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ç­‰æ­¥éª¤ã€‚\næŒ‡ä»¤å¯„å­˜å™¨ï¼ˆIRï¼‰ï¼šæš‚å­˜è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œè¯¥æŒ‡ä»¤ä»å†…å­˜ä¸­è·å–ï¼ˆé€šè¿‡ç¼“å†²å¯„å­˜å™¨ï¼‰ã€‚\nå½“CPUæ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ—¶ï¼š\næŠŠæŒ‡ä»¤ä»å†…å­˜å‚¨å™¨å–åˆ°ç¼“å†²å¯„å­˜å™¨ä¸­ã€‚ é€å…¥IRæš‚å­˜ã€‚ æŒ‡ä»¤è¯‘ç å™¨æ ¹æ®IRçš„å†…å®¹äº§ç”Ÿå„ç§å¾®æ“ä½œæŒ‡ä»¤ï¼Œæ§åˆ¶å…¶ä»–çš„ç»„æˆéƒ¨ä»¶å·¥ä½œï¼Œå®Œæˆæ‰€éœ€çš„åŠŸèƒ½ã€‚ ç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼ŒæŒ‡ä»¤è®¡æ•°å™¨ï¼‰ï¼šå…·æœ‰å¯„å­˜ä¿¡æ¯å’Œè®¡æ•°ä¸¤ç§\nåœ¨ç¨‹åºå¼€å§‹æ‰§è¡Œå‰ï¼Œå°†ç¨‹åºçš„èµ·å§‹åœ°å€é€å…¥PCã€‚ è¯¥åœ°å€åœ¨ç¨‹åºåŠ è½½åˆ°å†…å­˜æ—¶ç¡®å®šï¼Œå› æ­¤PCçš„å†…å®¹å³æ˜¯ç¨‹åºç¬¬ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚ æ‰§è¡ŒæŒ‡ä»¤æ—¶ï¼ŒCPUè‡ªåŠ¨ä¿®æ”¹PCçš„å†…å®¹ï¼Œä»¥ä¾¿ä½¿å…¶ä¿æŒçš„æ€»æ˜¯å°†è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚ ç”±äºå¤§å¤šæ•°æŒ‡ä»¤éƒ½æ˜¯æŒ‰é¡ºåºæ¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ä¿®æ”¹çš„è¿‡ç¨‹é€šå¸¸åªæ˜¯ç®€å•åœ°å¯¹PCåŠ 1ã€‚\næ‰§è¡Œè½¬ç§»æŒ‡ä»¤æ—¶ï¼Œåç»§æŒ‡ä»¤çš„åœ°å€æ ¹æ®å½“å‰æŒ‡ä»¤çš„åœ°å€åŠ ä¸Šä¸€ä¸ªå‘å‰æˆ–å‘åè½¬ç§»çš„ä½ç§»é‡å¾—åˆ°ï¼Œæˆ–è€…æ ¹æ®è½¬ç§»æŒ‡ä»¤ç»™å‡ºçš„ç›´æ¥è½¬ç§»çš„åœ°å€å¾—åˆ°ã€‚\nåœ°å€å¯„å­˜å™¨ï¼ˆARï¼‰ï¼šä¿å­˜å½“å‰CPUæ‰€è®¿é—®çš„å†…å­˜å•å…ƒçš„åœ°å€ã€‚\næŒ‡ä»¤è¯‘ç å™¨ï¼ˆIDï¼‰ï¼šæŒ‡ä»¤åŒ…å«æ“ä½œç å’Œåœ°å€ç ä¸¤éƒ¨åˆ†ï¼Œè€ŒæŒ‡ä»¤è¯‘ç å™¨å°±æ˜¯å¯¹æŒ‡ä»¤ä¸­çš„æ“ä½œç å­—æ®µè¿›è¡Œåˆ†æè§£é‡Šï¼Œè¯†åˆ«è¯¥æŒ‡ä»¤è§„å®šçš„æ“ä½œï¼Œå‘æ“ä½œæ§åˆ¶å™¨å‘å‡ºå…·ä½“çš„æ§åˆ¶ä¿¡å·ï¼Œæ§åˆ¶å„éƒ¨ä»¶å·¥ä½œï¼Œå®Œæˆæ‰€éœ€çš„åŠŸèƒ½ã€‚\næ•°æ®è¡¨ç¤º åŸç  åŸç è¡¨ç¤ºæ³•åˆå«ç¬¦å·åŠ ç»å¯¹å€¼è¡¨ç¤ºæ³•ã€‚æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£å·ï¼Œ1è¡¨ç¤ºè´Ÿå·ï¼Œå…¶ä½™çš„n-1ä½è¡¨ç¤ºæ•°å€¼çš„ç»å¯¹å€¼ã€‚\nåŸç ç‰¹ç‚¹ï¼š\n0çš„è¡¨ç¤ºä¸å”¯ä¸€ï¼ˆæœ‰æ­£è´Ÿ0ï¼‰ï¼› åŠ ã€å‡è¿ç®—æ–¹å¼ä¸ç»Ÿä¸€ï¼› éœ€é¢å¤–å¯¹ç¬¦å·ä½è¿›è¡Œå¤„ç†ï¼Œä¸åˆ©äºç¡¬ä»¶è®¾è®¡ï¼› å½“ $a \u0026lt; b$ æ—¶ï¼Œå®ç° $a-b$ æ¯”è¾ƒå›°éš¾ã€‚ åç  æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£å·ï¼Œ1è¡¨ç¤ºè´Ÿå·ï¼Œå…¶ä½™çš„n-1ä½è¡¨ç¤ºæ•°å€¼çš„ç»å¯¹å€¼ã€‚æ­£æ•°çš„åç ä¸åŸç ç›¸åŒï¼Œè´Ÿæ•°çš„åç åˆ™æ˜¯é™¤ç¬¦å·ä½ä»¥å¤–å…¶ä½™å„ä½æŒ‰ä½å–åã€‚\nåŸç ç‰¹ç‚¹ï¼š0çš„è¡¨ç¤ºä¸å”¯ä¸€ã€‚\nè¡¥ç  è®¡ç®—æœºä¸­çš„è¡¥ç æ˜¯æ¨¡2è¡¥ç \næ¦‚å¿µï¼šåœ¨ä¸€ä¸ªæ¨¡è¿ç®—ï¼ˆModuler Arithmeticï¼‰ç³»ç»Ÿä¸­ï¼ŒåŒä½™ï¼ˆCongruence Moduloï¼‰çš„æ•°ç­‰ä»·ã€‚\nè¡¥ç çš„å®šä¹‰ï¼šæœ‰ $n$ ä½æ—¶ï¼Œ$[X]_è¡¥=(2^n+X)\\mod{2^n}\\quad (-2^{n-1}\\leq X\u0026lt;2^{n-1})$ã€‚\nå½“ $X\u0026lt;0$ æ—¶ï¼Œè¡¥ç æœ‰ä¸¤ç§æ±‚æ³•ï¼š\nå„ä½å–åï¼Œæœ«ä½åŠ  1ã€‚ ä»ç¬¬ 2 ä¸ª 1 å¼€å§‹å¾€å³å„ä½å–åã€‚ å½“ $X\u0026gt;0$ æ—¶ï¼Œè¡¥ç ä¸åŸç ç›¸åŒã€‚\nè¡¥ç çš„å‡æ³•ï¼š$Y-X=Y+[-X]_è¡¥$ã€‚\nç‰¹æ®Šçš„è¡¥ç ï¼š\n$[-2^{n-1}]_è¡¥=(2^n-2^{n-1})\\mod{2^n}=(10\\ldots0)_2\\ (n-1 ä¸ª0)$ã€‚\nè¿™ä¸ªæ•°çš„æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰å³è¡¨ç¤ºç¬¦å·ï¼Œåˆè¡¨ç¤ºæ•°å€¼ã€‚å¦‚ï¼Œ-128ã€‚\n$[-1]_è¡¥=2^n-1=(11\\ldots1)_2\\ (nä¸ª1)$ã€‚\n$[+0]_è¡¥=[-0]_è¡¥=(00\\ldots0)\\ (nä¸ª0)$ã€‚ è¡¥ç çš„0è¡¨ç¤ºå”¯ä¸€ã€‚\nç§»ç  ç§»ç å°±æ˜¯å°†æ¯ä¸ªæ•°å€¼åŠ ä¸Šä¸€ä¸ªåç½®å¸¸æ•°ï¼ˆExcess/Biasï¼‰ã€‚ é€šå¸¸ï¼Œå½“ç¼–ç ä½æ•°ä¸º $n$ æ—¶ï¼Œbias å– $2^{n-1}$ æˆ– $2^{n-1}-1$ã€‚ ç§»ç å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå¤§å°çš„æ¯”è¾ƒã€‚ ç§»ç å¯ä»¥çœ‹æˆæ˜¯åœ¨å…¶è¡¥ç çš„åŸºç¡€ä¸Šå¯¹ç¬¦å·ä½å–åã€‚ç§»ç çš„0è¡¨ç¤ºå”¯ä¸€ã€‚\nå…¶å®ï¼ˆä¸ªäººè®¤ä¸ºï¼‰æ ¹æ®è¡¥ç å’Œç§»ç çš„å®šä¹‰ï¼Œå¯ä»¥å°†è¡¥ç å½“ä½œç‰¹æ®Šçš„ç§»ç ã€‚å…¶biasä¸º$2^n$ã€‚\nå„ç§ç åˆ¶å¸¦ç¬¦å·æ•°çš„èŒƒå›´ æµ®ç‚¹æ•° æµ®ç‚¹æ•°ä½¿ç”¨ä¸¤ä¸ªå®šç‚¹æ•°æ¥åˆ†åˆ«è¡¨ç¤ºå®æ•°çš„å°¾æ•°ï¼ˆFï¼‰å’Œé˜¶ç ï¼ˆEï¼‰ã€‚å…¶ä¸€èˆ¬å½¢å¼ä¸ºï¼š$N=2^E \\times F$ã€‚\nä¸€ä¸ªæ•°çš„æµ®ç‚¹è¡¨ç¤ºä¸æ˜¯å”¯ä¸€çš„ã€‚å°æ•°ç‚¹ä½ç½®æ”¹å˜ï¼Œé˜¶ç ä¹Ÿéšç€ç›¸åº”æ”¹å˜ã€‚ æµ®ç‚¹æ•°æ‰€èƒ½è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ä¸»è¦ç”±é˜¶ç å†³å®šï¼Œæ‰€è¡¨ç¤ºæ•°å€¼çš„ç²¾åº¦åˆ™ç”±å°¾æ•°å†³å®šã€‚ è§„æ ¼åŒ–æµ®ç‚¹æ•°ï¼š\nå°¾æ•°$M \\ge 0$ï¼Œå…¶è§„æ ¼åŒ–å°¾æ•°å½¢å¼ä¸º$M=0.\\times\\times\\times$ï¼Œ$\\times$å¯ä¸º0ä¹Ÿå¯ä¸º1ã€‚å³$M$é™å®šåœ¨äº†$[0.5,1]$ã€‚ å°¾æ•°$M \\le 0$ï¼Œå…¶è§„æ ¼åŒ–å°¾æ•°å½¢å¼ä¸º$M=1.\\times\\times\\times$ï¼Œ$\\times$å¯ä¸º0ä¹Ÿå¯ä¸º1ã€‚å³$M$é™å®šåœ¨äº†$[-1,-0.5]$ã€‚ ä¸€èˆ¬æµ®ç‚¹æ•°é˜¶ç ç”¨Rä½çš„ç§»ç è¡¨ç¤ºï¼Œå°¾æ•°ç”¨Mä½çš„è¡¥ç è¡¨ç¤ºã€‚è¿™ç§è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ä¸ºï¼š\n$$ -1 \\times 2^{(2^{R-1}-1)} \\sim +(1-2^{-M+1}) \\times 2^{(2^{R-1}-1)} $$\nç°åœ¨æ‰€æœ‰é€šç”¨è®¡ç®—æœºéƒ½é‡‡ç”¨ IEEE 754 æ¥è¡¨ç¤ºæµ®ç‚¹æ•°ã€‚IEEE 754 çš„å°¾æ•°ç”¨åŸç è¡¨ç¤ºï¼Œé˜¶ç è¿˜æ˜¯ç”¨ç§»ç è¡¨ç¤ºã€‚\nå¯»å€æ–¹å¼ ç«‹å³å¯»å€ï¼šæ“ä½œæ•°å°±åŒ…å«åœ¨æŒ‡ä»¤ä¸­ã€‚ ç›´æ¥å¯»å€ï¼šæ“ä½œæ•°åœ¨å†…å­˜ï¼ŒæŒ‡ä»¤ç»™å‡ºæ“ä½œæ•°çš„åœ°å€ã€‚ å¯„å­˜å™¨å¯»å€ï¼šæ“ä½œæ•°åœ¨å¯„å­˜å™¨ï¼ŒæŒ‡ä»¤ç»™å‡ºæ“ä½œæ•°çš„å¯„å­˜å™¨åï¼ˆåœ°å€ï¼‰ã€‚ å¯„å­˜å™¨é—´æ¥å¯»å€ï¼šæ“ä½œæ•°åœ¨å†…å­˜ï¼Œå¯„å­˜å™¨å­˜æ”¾æ“ä½œæ•°çš„åœ°å€ï¼ŒæŒ‡ä»¤ç»™å‡ºå­˜æ”¾æ“ä½œæ•°åœ°å€çš„å¯„å­˜å™¨åœ°å€ã€‚ é—´æ¥å¯»å€ï¼šæŒ‡ä»¤ä¸­ç»™å‡ºæ“ä½œæ•°åœ°å€ï¼ˆæ“ä½œæ•°åœ°å€åœ¨å†…å­˜ä¸­ï¼‰çš„åœ°å€ã€‚ ç›¸å¯¹å¯»å€ï¼šæŒ‡ä»¤åœ°å€ç ç»™å‡ºçš„æ˜¯ä¸€ä¸ªåç§»é‡ï¼ˆå¯æ­£å¯è´Ÿï¼‰ï¼Œæ“ä½œæ•°åœ°å€ç­‰äºæœ¬æ¡æŒ‡ä»¤çš„åœ°å€åŠ ä¸Šè¯¥åç§»é‡ã€‚ å˜å€å¯»å€ï¼šæ“ä½œæ•°åœ°å€ç­‰äºå˜å€å¯„å­˜å™¨çš„å†…å®¹åŠ åç§»é‡ã€‚ æ ¡éªŒç  ç è·ï¼Œæ˜¯æŒ‡ä¸€ä¸ªç¼–ç ç³»ç»Ÿä¸­ä»»æ„ä¸¤ä¸ªåˆæ³•ç¼–ç ä¹‹é—´è‡³å°‘æœ‰å¤šå°‘ä¸ªäºŒè¿›åˆ¶ä½ä¸åŒã€‚ç è·ä¸ºnçš„ç¼–ç æ–¹æ¡ˆï¼Œåœ¨è¯¥ç¼–ç æ–¹æ¡ˆä¸­ä»»æ„ä¸¤ä¸ªåˆæ³•ç¼–ç ä¹‹é—´è‡³å°‘æœ‰nä¸ªäºŒè¿›åˆ¶ä½ä¸åŒã€‚ä¾‹å¦‚å€¼1å’Œ2çš„ç¼–ç åˆ†åˆ«ä¸º0000 0001å’Œ0000 0010ä»–ä»¬æœ€åä¸¤ä½ä¸åŒï¼Œæ‰€ä»¥ï¼Œç è·ä¸º2ã€‚\nä¸€ä¸ªç¼–ç ç³»ç»Ÿçš„ç è·$\\ge 2$æ—¶ï¼Œè¯¥ç¼–ç ç³»ç»Ÿå…·æœ‰æ£€é”™èƒ½åŠ›ï¼› ä¸€ä¸ªç¼–ç ç³»ç»Ÿçš„ç è·$\\ge 3$æ—¶ï¼Œè¯¥ç¼–ç ç³»ç»Ÿæ‰å¯èƒ½æœ‰çº é”™èƒ½åŠ›ã€‚ å³ï¼Œä¸€ä¸ªæ ¡éªŒç è¦æƒ³èƒ½å¤Ÿæ£€é”™å’Œçº é”™é‚£ä¹ˆå®ƒçš„ç è·è‡³å°‘æ˜¯3ã€‚\nå¥‡å¶æ ¡éªŒç  å¥‡å¶æ ¡éªŒï¼ˆParity Codesï¼‰æ˜¯é€šè¿‡åœ¨ç¼–ç ä¸­å¢åŠ ä¸€ä½æ ¡éªŒä½æ¥ä½¿ç¼–ç ä¸­1çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼ˆå¥‡æ ¡éªŒï¼‰æˆ–è€…ä¸ºå¶æ•°ï¼ˆå¶æ ¡éªŒï¼‰ã€‚ä½†è¯¥ç¼–ç åªèƒ½æ£€é”™ï¼Œä½†ä¸èƒ½çº é”™ã€‚\nå¥‡å¶æ ¡éªŒï¼š\nç è·ä¸º2ã€‚\nä»…æ£€æµ‹å‡ºä»£ç ä¸­å¥‡æ•°ä½æ•°ï¼ˆå¥‡æ•°ä¸ª0æˆ–1å‘ç”Ÿé”™è¯¯ï¼‰ï¼Œä¸èƒ½å‘ç°å¶æ•°ä½æ•°å‡ºé”™ã€‚\nå¥‡æ•° + å¶æ•° = å¥‡æ•° å¥‡æ•° + å¥‡æ•° = å¶æ•° å¶æ•° + å¶æ•° = å¶æ•° å¶æ•° + å¥‡æ•° = å¥‡æ•° å³å¥‡æ•°å¯ä»¥æ”¹å˜å¥‡å¶æ€§ï¼Œå¶æ•°ä¸èƒ½ï¼Œæ‰€ä»¥å½“ä»£ç ä¸­å¶æ•°ä½å‡ºé”™æ—¶ï¼Œå¥‡å¶æ€§ä¸å˜ï¼Œæ— æ³•å‘ç°é”™è¯¯ã€‚\nå¸¸ç”¨çš„å¥‡å¶æ ¡éªŒç æœ‰3ç§ï¼šæ°´å¹³å¥‡å¶æ ¡éªŒç ã€å‚ç›´å¥‡å¶æ ¡éªŒç å’Œæ°´å¹³å‚ç›´æ ¡éªŒç ã€‚\næµ·æ˜ç  æµ·æ˜ç ï¼ˆHamming Codeï¼‰æ˜¯ä¸€ç§åˆ©ç”¨å¥‡å¶æ€§æ¥æ£€é”™å’Œçº é”™çš„æ ¡éªŒæ–¹æ³•ã€‚æµ·æ˜ç æ˜¯åœ¨æ•°æ®ä½ä¹‹é—´çš„ç‰¹å®šä½ç½®ä¸Šæ’å…¥kä¸ªæ ¡éªŒä½ï¼Œé€šè¿‡æ‰©å¤§ç è·æ¥å®ç°æ£€é”™å’Œçº é”™ã€‚è®¾æ•°æ®ä½æ˜¯$n$ä½ï¼Œæ ¡éªŒä½æ˜¯$k$ä½ï¼Œåˆ™$n$å’Œ$k$å¿…é¡»æ»¡è¶³ä»¥ä¸‹å…³ç³»ï¼š\n$$ 2^k-1 \\ge n+k $$\nè¯¥å…¬å¼çš„å­—é¢æ„æ€ä¸ºï¼Œ$k$ä¸ªæ ¡éªŒä½çš„æœ€å¤§å€¼ï¼ˆ$k$ä¸ªæ ¡éªŒä½éƒ½ä¸º1ï¼‰ï¼Œè¦æ¯”æµ·æ˜ç çš„ä½æ•°ï¼ˆ$n+k$ï¼‰è¦å¤§ã€‚ æµ·æ˜ç çš„ç è·ä¸º3ã€‚\næµ·æ˜ç çš„ç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š\n$k$ä¸ªæ ¡éªŒä½ï¼š$P_k, P_{k-1}, \\cdots, P_1$ã€‚\n$n$ä¸ªæ•°æ®ä½ï¼š$D_{n-1}, D_{n-2}, \\cdots, D_1, D_0$ã€‚\nå¯¹åº”çš„æµ·æ˜ç ï¼š$H_{n+k}, H_{n+k-1}, \\cdots, H_1$ã€‚\n$H_j = P_i, j=2^{i-1}$ã€‚ æ•°æ®ä½ä¾åºæ’å…¥åˆ°æµ·æ˜ç ä¸­å‰©ä¸‹çš„ä½ç½®ã€‚ æµ·æ˜ç ä¸­ä»»ä¸€ä½éƒ½æ˜¯ç”±è‹¥å¹²ä¸ªæ ¡éªŒä½æ¥æ£€éªŒï¼š\næ ¡éªŒæ•°æ®ä½æ—¶ï¼šè¢«æ ¡éªŒçš„æµ·æ˜ä½çš„ä¸‹æ ‡ç­‰äºæ‰€æœ‰å‚ä¸æ ¡éªŒè¯¥ä½çš„æ ¡éªŒä½çš„ä¸‹æ ‡ä¹‹å’Œã€‚ æ ¡éªŒä½ç”±è‡ªèº«æ ¡éªŒã€‚ Exampleï¼š\nå¶æ ¡éªŒï¼š$G_4G_3G_2G_1={(0000)}_{2}$åˆ™è¡¨ç¤ºæ•°æ®æ— é”™è¯¯ï¼Œå¦åˆ™è¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®æœ‰é”™è¯¯ã€‚\nè‹¥å‡ºé”™ï¼Œ$G_4G_3G_2G_1$çš„åè¿›åˆ¶å€¼æŒ‡å‡ºæ¥å‡ºé”™ä½ç½®ã€‚å¦‚$G_4G_3G_2G_1=1010$ï¼Œè¯´æ˜$H_{10}(D_5)$å‡ºé”™ï¼Œå°†å…¶å–åå³å¯çº é”™ã€‚\nå¥‡æ ¡éªŒï¼š$G_4G_3G_2G_1=(1111)_2$åˆ™è¡¨ç¤ºæ•°æ®æ— é”™è¯¯ï¼Œå¦åˆ™è¡¨ç¤ºæ¥æ”¶åˆ°çš„æ•°æ®æœ‰é”™è¯¯ã€‚\nå¾ªç¯å†—ä½™ç  å¾ªç¯å†—ä½™æ ¡éªŒç ï¼ˆCyclic Redundancy Checkï¼ŒCRCï¼‰å¹¿æ³›åº”ç”¨äºæ•°æ®é€šä¿¡é¢†åŸŸå’Œç£ä»‹è´¨å­˜å‚¨ç³»ç»Ÿä¸­ã€‚å®ƒåˆ©ç”¨ç”Ÿæˆå¤šé¡¹å¼ä¸ºkä¸ªæ•°æ®ä½äº§ç”Ÿä¸ªæ ¡éªŒä½æ¥è¿›è¡Œç¼–ç ï¼Œå…¶ç¼–ç é•¿åº¦ä¸ºk+rã€‚CRCçš„ä»£ç æ ¼å¼ä¸ºï¼š\nè‹¥CRCç çš„å­—é•¿ä¸ºnï¼Œåˆå¯ç§°å…¶ä¸ºï¼ˆn,kï¼‰ç ï¼Œåˆ™ï¼š\nå·¦è¾¹ä¸ºä¿¡æ¯ç ï¼ˆæ•°æ®ï¼‰ï¼Œå kä½ï¼›\nå³è¾¹ä¸ºæ ¡éªŒç ï¼Œå n-kä½ã€‚\næ ¡éªŒç æ˜¯ç”±ä¿¡æ¯ç äº§ç”Ÿçš„ï¼Œæ ¡éªŒç ä½æ•°è¶Šå¤šï¼Œè¯¥ä»£ç çš„æ ¡éªŒèƒ½åŠ›å°±è¶Šå¼ºã€‚\nåœ¨æ±‚CRCç¼–ç æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯æ¨¡2è¿ç®—ã€‚æ¨¡2åŠ å‡è¿ç®—çš„è§„åˆ™æ˜¯æŒ‰ä½è¿ç®—ï¼Œä¸å‘ç”Ÿå€Ÿä½å’Œè¿›ä½ã€‚\nCRCç è·ä¸º2ï¼Œå¯ä»¥æ£€é”™ä¸èƒ½çº é”™ã€‚\nè®¡ç®—æœºæŒ‡ä»¤é›† RISC\nç²¾ç®€æŒ‡ä»¤é›†ï¼ˆè®¡ç®—æœºï¼‰ CISC\nå¤æ‚æŒ‡ä»¤é›†ï¼ˆè®¡ç®—æœºï¼‰ æŒ‡ä»¤ç§ç±» å°‘ã€ç²¾ç®€ å¤šã€å¤æ‚ æŒ‡ä»¤å¤æ‚åº¦ ä½ï¼ˆç®€å•ï¼‰ é«˜ï¼ˆå¤æ‚ï¼‰ æŒ‡ä»¤é•¿åº¦ å›ºå®š å˜åŒ– å¯»å€æ–¹å¼ å°‘ å¤æ‚å¤šæ · å®ç°ï¼ˆè¯‘ç æ–¹å¼ï¼‰ ç¡¬å¸ƒçº¿æ§åˆ¶é€»è¾‘ï¼ˆç»„åˆé€»è¾‘æ§åˆ¶å™¨ï¼‰ å¾®ç¨‹åºæ§åˆ¶æŠ€æœ¯ é€šç”¨å¯„å­˜å™¨æ•°é‡ å¤šã€å¤§é‡ ä¸€èˆ¬ æµæ°´çº¿æŠ€æœ¯ æ”¯æŒ ä¸æ”¯æŒ æµæ°´çº¿æŠ€æœ¯ è®¡ç®—æœºä¸­çš„æµæ°´çº¿æŠ€æœ¯ï¼ˆPipeliningï¼‰æ˜¯æŠŠä¸€ä¸ªé‡å¤çš„è¿‡ç¨‹åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå­è¿‡ç¨‹ï¼Œæ¯ä¸ªå­è¿‡ç¨‹ä¸å…¶ä»–å­è¿‡ç¨‹å¹¶è¡Œè¿›è¡Œã€‚\nè‹¥è¦æ‰§è¡Œ$n$æ¡æŒ‡ä»¤ï¼š\né¡ºåºæ‰§è¡Œæ€»æ—¶é—´ï¼š\n$$ é¡ºåºæ‰§è¡Œæ€»æ—¶é—´=å•æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ—¶é—´\\times n $$\næµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´ï¼š\n$$ æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´=ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ—¶é—´+æµæ°´çº¿å‘¨æœŸ \\times (n-1) $$\næµæ°´çº¿ï¼ˆæ“ä½œï¼‰å‘¨æœŸä¸ºæ‰§è¡Œæ—¶é—´æœ€é•¿çš„ä¸€æ®µæ“ä½œçš„æ—¶é—´ã€‚\nè¿ç»­è¾“å…¥$n$æ¡æŒ‡ä»¤çš„ååç‡ï¼š\n$$ ååç‡=\\cfrac {n}{æ€»æ‰§è¡Œæ—¶é—´} $$\nå¦‚æœæ˜¯æµæ°´çº¿çš„ååç‡ï¼Œåˆ™æ€»æ‰§è¡Œæ—¶é—´ä¸ºæµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´ã€‚ æµæ°´çº¿çš„ååç‡æ˜¯æœ€é•¿æµæ°´æ®µæ“ä½œæ—¶é—´çš„å€’æ•°ã€‚å³ï¼š\n$$ æœ€é•¿æµæ°´æ®µæ“ä½œæ—¶é—´=\\cfrac {æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´}{n} $$\nåŠ é€Ÿæ¯”ï¼š\n$$ åŠ é€Ÿæ¯” = \\cfrac{é¡ºåºæ‰§è¡Œæ€»æ—¶é—´}{æµæ°´çº¿æ‰§è¡Œæ€»æ—¶é—´} $$\nå­˜å‚¨å™¨ æŒ‰å­˜å‚¨å™¨æ‰€å¤„ä½ç½®å¯åˆ†ä¸ºï¼š\nå†…å­˜ï¼ˆä¸»å­˜ï¼‰ï¼šåœ¨ä¸»æœºå†…æˆ–ä¸»æ¿ä¸Šï¼Œå­˜æ”¾æœºå™¨å½“å‰è¿è¡Œæ‰€éœ€çš„ç¨‹åºå’Œæ•°æ®ï¼Œä»¥ä¾¿å‘CPUæä¾›ä¿¡æ¯ã€‚ï¼ˆç›¸å¯¹å¤–å­˜ï¼‰å®¹é‡å°ã€é€Ÿåº¦å¿«ã€‚ å¤–å­˜ï¼ˆè¾…å­˜ï¼‰ï¼šå­˜æ”¾å½“å‰ä¸å‚åŠ è¿è¡Œçš„å¤§é‡ä¿¡æ¯ï¼Œåœ¨éœ€è¦æ—¶è°ƒå…¥å†…å­˜ã€‚ æŒ‰å­˜å‚¨å™¨çš„æ„æˆææ–™åˆ†ç±»ï¼š\nç£å­˜å‚¨å™¨ åŠå¯¼ä½“å­˜å‚¨å™¨ å…‰å­˜å‚¨å™¨ æŒ‰å­˜å‚¨å™¨å·¥ä½œæ–¹å¼ï¼š\nè¯»/å†™å­˜å‚¨å™¨ï¼ˆRAMï¼‰ã€‚ åªè¯»å­˜å‚¨å™¨ï¼šROMã€PROMã€EPROMã€EEPROMç­‰ã€‚ å›ºå®šåªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰ï¼šå‚å®¶ç”Ÿäº§æ—¶å°±å†™å¥½æ•°æ®åœ¨å…¶ä¸­ã€‚åªèƒ½è¯»ï¼ˆç”¨æˆ·ï¼‰ä¸èƒ½å†™ã€‚ä¸€èˆ¬ç”¨äºå­˜æ”¾BIOSå’Œå¾®ç¨‹åºæ§åˆ¶ã€‚ å¯ç¼–ç¨‹è¯»åªè¯»å­˜å‚¨å™¨ï¼ˆPROMï¼‰ï¼šå…¶å†…å®¹å¯ä»¥ç”±ç”¨æˆ·ä¸€æ¬¡æ€§åœ°å†™å…¥ï¼Œå†™å…¥åä¸èƒ½å†ä¿®æ”¹ã€‚ æŒ‰è®¿é—®æ–¹å¼ï¼š\næŒ‰åœ°å€è®¿é—®ï¼š\nå¯åˆ†ä¸ºï¼š\néšæœºå­˜å‚¨å™¨ é¡ºåºå­˜å‚¨å™¨ ç›´æ¥å­˜å‚¨å™¨ æŒ‰å†…å®¹è®¿é—®ï¼šä¾‹å¦‚ç›¸è”å­˜å‚¨å™¨ã€‚\nè™šæ‹Ÿå­˜å‚¨å™¨ç”±ä¸»å­˜ä¸è¾…å­˜ç»„æˆã€‚\nDRAMï¼ˆåŠ¨æ€éšæœºå­˜å‚¨å™¨ï¼‰æ„æˆä¸»å­˜ DRAMéœ€è¦å‘¨æœŸæ€§åœ°åˆ·æ–°ä¿æŒä¿¡æ¯ã€‚\nSRAMï¼ˆé™æ€éšæœºå­˜å‚¨å™¨ï¼‰æ„æˆCacheï¼ˆç¼“å­˜ï¼‰ã€‚\né—ªå­˜ç±»ä¼¼Uç›˜ï¼Œæ‰ç”µåä¿¡æ¯ä¸ä¼šä¸¢å¤±ã€‚ä»¥å—ä¸ºå•ä½è¿›è¡Œåˆ é™¤ã€‚é—ªå­˜æ˜¯EPROMçš„ä¸€ç§ç±»å‹ï¼Œå¯ä»¥ä»£æ›¿ROMå­˜å‚¨å™¨ã€‚é—ªå­˜ä¸å¯ä»¥ä»£æ›¿ä¸»å­˜ã€‚\nç¼“å­˜ é«˜é€Ÿç¼“å­˜ç”¨æ¥å­˜æ”¾å½“å‰æœ€æ´»è·ƒçš„ç¨‹åºå’Œæ•°æ®ï¼Œå…¶ç‰¹ç‚¹æ˜¯ï¼š\nä½äºCPUä¸ä¸»å­˜ä¹‹é—´ï¼›å®¹é‡ä¸€èˆ¬åœ¨å‡ åƒå­—èŠ‚åˆ°å‡ å…†å­—èŠ‚ä¹‹é—´ï¼› é€Ÿåº¦ä¸€èˆ¬æ¯”ä¸»å­˜å¿«5~10å€ï¼Œç”±å¿«é€ŸåŠå¯¼ä½“å­˜å‚¨å™¨æ„æˆï¼› å…¶å†…å®¹æ˜¯ä¸»å­˜å±€éƒ¨åŸŸçš„å‰¯æœ¬ï¼Œå¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯é€æ˜çš„ï¼ˆçœ‹ä¸åˆ°æˆ–å¯ä»¥å¿½ç•¥ï¼‰ã€‚ Cacheå­˜å‚¨å™¨éƒ¨åˆ†ç”¨æ¥å­˜æ”¾ä¸»å­˜çš„éƒ¨åˆ†æ‹·è´ï¼ˆå‰¯æœ¬ï¼‰ä¿¡æ¯ã€‚æ§åˆ¶éƒ¨åˆ†çš„åŠŸèƒ½æ˜¯åˆ¤æ–­CPUè¦è®¿é—®çš„ä¿¡æ¯æ˜¯å¦åœ¨Cacheå­˜å‚¨å™¨ä¸­ï¼Œè‹¥åœ¨å³ä¸ºå‘½ä¸­ï¼Œè‹¥ä¸åœ¨åˆ™æ²¡æœ‰å‘½ä¸­ã€‚å‘½ä¸­æ—¶ç›´æ¥å¯¹Cacheå­˜å‚¨å™¨å¯»å€ï¼›æœªå‘½ä¸­æ—¶ï¼Œè¦æŒ‰ç…§æ›¿æ¢åŸåˆ™å†³å®šä¸»å­˜çš„ä¸€å—ä¿¡æ¯æ”¾åˆ°Cacheå­˜å‚¨å™¨çš„å“ªä¸€å—é‡Œã€‚\nç¼“å­˜åœ°å€æ˜ å°„ CPUå·¥ä½œæ—¶ï¼Œé€å‡ºçš„æ˜¯ä¸»å­˜å•å…ƒçš„åœ°å€ã€‚ä¸ºä»Cacheå­˜å‚¨å™¨ä¸­è¯»/å†™ä¿¡æ¯ï¼Œå°±éœ€è¦å°†ä¸»å­˜åœ°å€è½¬æˆCacheå­˜å‚¨å™¨çš„åœ°å€ï¼Œè¿™ç§åœ°å€è½¬æ¢å³ä¸ºåœ°å€æ˜ åƒã€‚\né«˜é€Ÿç¼“å­˜ä¸­çš„åœ°å€æ˜ åƒæ–¹æ³•ï¼š\nç›´æ¥æ˜ åƒï¼šä¸»å­˜çš„å—ä¸Cacheå—çš„å¯¹åº”å…³ç³»æ˜¯å›ºå®šçš„ã€‚å†²çªå¤šã€å…³ç³»å›ºå®šã€‚\nå…¨ç›¸è”æ˜ åƒï¼šå…è®¸ä¸»å­˜çš„ä»»ä¸€å—è°ƒå…¥Cacheå­˜å‚¨å™¨çš„ä»»ä¸€å—ã€‚å†²çªå°‘ã€å…³ç³»ä¸å›ºå®šã€‚\nç»„ç›¸è”æ˜ åƒï¼šå°†ç¼“å­˜å’Œä¸»å­˜å…ˆåˆ†ä¸ºç»„ï¼Œç»„ä¸‹å†åˆ†ä¸ºå—ã€‚ç»„ä¸ç»„é‡‡ç”¨ç›´æ¥æ˜ åƒï¼Œç»„å†…çš„å—é‡‡ç”¨å…¨ç›¸è”æ˜ åƒã€‚å†²çªè¾ƒå°‘ï¼Œæ˜¯ç›´æ¥æ˜ åƒä¸å…¨ç›¸è”æ˜ åƒçš„æŠ˜ä¸­ã€‚\nå‘ç”Ÿå—å†²çªä»å¤šåˆ°å°‘çš„é¡ºåºï¼šç›´æ¥æ˜ åƒ \u0026gt; ç»„ç›¸è”æ˜ åƒ \u0026gt; å…¨ç›¸è”æ˜ åƒã€‚\nåœ°å€æ˜ åƒéƒ½æ˜¯ç”±ç¡¬ä»¶è‡ªåŠ¨å®Œæˆã€‚\nä¸­æ–­ è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºè¿‡ç¨‹ä¸­ï¼Œå½“é‡åˆ°æ€¥éœ€å¤„ç†çš„äº‹ä»¶æ—¶ï¼Œæš‚åœå½“å‰æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œè½¬å»æ‰§è¡Œæœ‰å…³æœåŠ¡ç¨‹åºï¼Œå¤„ç†å®Œåè‡ªåŠ¨è¿”å›æºç¨‹åºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸­æ–­ã€‚\nä¸­æ–­æ˜¯ä¸€ç§éå¸¸é‡è¦çš„æŠ€æœ¯ï¼Œè¾“å…¥è¾“å‡ºè®¾å¤‡å’Œä¸»æœºäº¤æ¢æ•°æ®ã€åˆ†æ—¶æ“ä½œã€å®æ—¶ç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œå’Œåˆ†å¸ƒå¼è®¡ç®—æœºç³»ç»Ÿä¸­éƒ½è¦ç”¨åˆ°è¿™ç§æŠ€æœ¯ã€‚ä¸ºäº†æé«˜å“åº”ä¸­æ–­çš„é€Ÿåº¦ï¼Œé€šå¸¸æŠŠæ‰€æœ‰ä¸­æ–­æœåŠ¡ç¨‹åºçš„å…¥å£åœ°å€ï¼ˆæˆ–ç§°ä¸ºä¸­æ–­å‘é‡ï¼‰æ±‡é›†ä¸ºä¸­æ–­å‘é‡è¡¨ã€‚\nè¾“å…¥è¾“å‡ºæ§åˆ¶æ–¹å¼ ç¨‹åºæŸ¥è¯¢æ–¹å¼ï¼ˆç¨‹åºç›´æ¥æ§åˆ¶æ–¹å¼ï¼‰ï¼š\nCPUå’ŒI/Oåªèƒ½ä¸²è¡Œå·¥ä½œã€‚CPUéœ€è¦ä¸€ç›´è½®è¯¢æ£€æŸ¥ï¼Œé•¿æœŸå¤„äºå¿™ç­‰çŠ¶æ€ï¼ŒCPUåˆ©ç”¨ç‡ä½ã€‚ ä¸€æ¬¡åªèƒ½è¯»/å†™ä¸€ä¸ªå­—ã€‚ ç”±CPUå°†æ•°æ”¾å…¥å†…å­˜ã€‚ ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼š\nI/Oè®¾å¤‡é€šè¿‡ä¸­æ–­ä¿¡å·ä¸»åŠ¨å‘CPUæŠ¥å‘ŠI/Oæ“ä½œå·²å®Œæˆã€‚ CPUå’ŒI/Oå¯å¹¶è¡Œå·¥ä½œã€‚ CPUåˆ©ç”¨ç‡å¾—åˆ°æå‡ã€‚ ä¸€æ¬¡åªèƒ½è¯»/å†™ä¸€ä¸ªå­—ã€‚ ç”±CPUå°†æ•°æ®æ”¾å…¥å†…å­˜ã€‚ DMAæ–¹å¼ï¼ˆç›´æ¥å­˜å‚¨å™¨å­˜å‚¨æ–¹å¼ï¼‰ï¼š\nCPUå’ŒI/Oå¯å¹¶è¡Œå·¥ä½œã€‚ ä»…åœ¨ä¼ é€æ•°æ®å—å¤šå¼€å§‹å’Œç»“æŸæ—¶æ‰éœ€è¦CPUçš„å¹²é¢„ã€‚ ç”±å¤–è®¾ç›´æ¥å°†æ•°æ®æ”¾å…¥å†…å­˜ã€‚ ä¸€æ¬¡è¯»å†™çš„å•ä½ä¸º\u0026quot;å—\u0026quot;è€Œä¸æ˜¯å­—ã€‚ DMAä¼ è¾“æ•°æ®æ¯”ä¸­æ–­é©±åŠ¨æ–¹å¼ä¼ è¾“æ•°æ®è¦å¿«ä¸€ç‚¹ã€‚\næ€»çº¿ æ€»çº¿æ˜¯è¿æ¥è®¡ç®—æœºæœ‰å…³éƒ¨ä»¶çš„ä¸€ç»„ä¿¡å·çº¿ï¼Œæ˜¯è®¡ç®—æœºä¸­ç”¨æ¥ä¼ é€ä¿¡æ¯ä»£ç çš„å…¬å…±é€šé“ã€‚\né‡‡ç”¨æ€»çº¿ç»“æ„ä¸»è¦æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\nç®€åŒ–ç³»ç»Ÿç»“æ„ï¼Œä¾¿äºç³»ç»Ÿè®¾è®¡åˆ¶é€ ï¼› å¤§å¤§å‡å°‘äº†è¿çº¿æ•°ç›®ï¼Œä¾¿äºå¸ƒçº¿ï¼Œå‡å°ä½“ç§¯ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§ï¼› ä¾¿äºæ¥å£è®¾è®¡ï¼Œæ‰€æœ‰ä¸æ€»çº¿è¿æ¥çš„è®¾å¤‡å‡é‡‡ç”¨ç±»ä¼¼çš„æ¥å£ï¼› ä¾¿äºç³»ç»Ÿçš„æ‰©å……ã€æ›´æ–°ä¸çµæ´»é…ç½®ï¼Œæ˜“äºå®ç°ç³»ç»Ÿçš„æ¨¡å—åŒ–ï¼› ä¾¿äºè®¾å¤‡çš„è½¯ä»¶è®¾è®¡ï¼› ä¾¿äºæ•…éšœè¯Šæ–­å’Œç»´ä¿®ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†æˆæœ¬ã€‚ åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­é‡‡ç”¨æ€»çº¿ç»“æ„ï¼Œä¾¿äºå®ç°ç³»ç»Ÿçš„ç§¯æœ¨åŒ–æ„é€ ï¼ŒåŒæ—¶å¯ä»¥å‡å°‘ä¿¡æ¯ä¼ è¾“çº¿çš„æ•°é‡ã€‚\nå¾®æœºä¸­çš„æ€»çº¿åˆ†ä¸ºï¼š\næ•°æ®æ€»çº¿ åœ°å€æ€»çº¿ æ§åˆ¶æ€»çº¿ å¸¸è§æ€»çº¿ï¼š\nISAæ€»çº¿ã€‚ EISAæ€»çº¿ã€‚ PCIæ€»çº¿ï¼šPCIæ€»çº¿æ˜¯ç›®å‰å¾®å‹æœºä¸Šå¹¿æ³›é‡‡ç”¨çš„å†…æ€»çº¿ï¼Œé‡‡ç”¨å¹¶è¡Œä¼ è¾“æ–¹å¼ã€‚ PCI Express æ€»çº¿ã€‚ å‰ç«¯æ€»çº¿ã€‚ RS-232Cã€‚ SCSIæ€»çº¿ï¼šå°å‹è®¡ç®—æœºç³»ç»Ÿæ¥å£ï¼ˆSCSIï¼‰æ˜¯ä¸€æ¡å¹¶è¡Œå¤–æ€»çº¿ã€‚ SATAã€‚ USBã€‚ IEEE-1394ã€‚ IEEE-488æ€»çº¿ã€‚ åœ°å€æ€»çº¿å®½åº¦ï¼šä¾‹å¦‚ï¼Œå†…å­˜å®¹é‡4GBï¼Œ$4GB=2^{2+10+10+10}B=2^32B$ã€‚æ‰€ä»¥å†…å­˜å•å…ƒçš„åœ°å€å®½åº¦ä¸º32ä½ï¼Œå³åœ°å€æ€»çº¿å®½åº¦ä¸º32ä½ã€‚\næ•°æ®æ€»çº¿å®½åº¦ï¼šä¾‹å¦‚å­—é•¿ä¸º32çš„æœºå™¨ï¼Œé‚£ä¹ˆå…¶æ•°æ®æ€»çº¿çš„å®½åº¦è¦ä¸º32ã€‚\nåŠ å¯†æŠ€æœ¯ä¸è®¤è¯æŠ€æœ¯ åŠ å¯†æŠ€æœ¯ åŠ å¯†æŠ€æœ¯ç”¨äºé˜²æ­¢ç¬¬ä¸‰æ–¹çªƒå¬ã€‚\nå¯¹ç§°åŠ å¯†ï¼šåªæœ‰ä¸€æŠŠå¯†é’¥ã€‚åŠ å¯†å’Œè§£å¯†ç”¨åŒä¸€æŠŠå¯†é’¥ã€‚\nå¯†é’¥åˆ†å‘æœ‰ç¼ºé™·ã€‚ åŠ å¯†è§£å¯†é€Ÿåº¦å¾ˆå¿«ã€‚ é€‚åˆåŠ é‡å¤§é‡æ˜æ–‡æ•°æ®ã€‚ éå¯¹ç§°åŠ å¯†ï¼š\nåŠ å¯†å’Œè§£å¯†ä¸æ˜¯åŒä¸€æŠŠå¯†é’¥ã€‚ ä¸€å…±æœ‰ä¸¤æŠŠå¯†é’¥ï¼Œåˆ†åˆ«æ˜¯å…¬é’¥å’Œç§é’¥ã€‚ ç”¨å…¬é’¥åŠ å¯†åªèƒ½ç”¨ç§é’¥è§£å¯†ï¼Œç”¨ç§é’¥åŠ å¯†åªèƒ½ç”¨å…¬é’¥è§£å¯†ã€‚ ä¸èƒ½é€šè¿‡ä¸€æŠŠå¯†é’¥æ¨å‡ºå¦ä¸€æŠŠå¯†é’¥ã€‚ ç”¨æ¥æ”¶æ–¹çš„å…¬é’¥åŠ å¯†æ˜æ–‡å¯ä»¥å®ç°é˜²æ­¢çªƒå¬çš„æ•ˆæœã€‚ å¯†é’¥åˆ†å‘æ²¡æœ‰ç¼ºé™·ã€‚ åŠ å¯†è§£å¯†é€Ÿåº¦å¾ˆæ…¢ã€‚ è®¤è¯æŠ€æœ¯ è®¤è¯æŠ€æœ¯ç”¨äºé˜²æ­¢ç¯¡æ”¹ã€å‡å†’å’Œå¦è®¤ã€‚\næ‘˜è¦ï¼ˆé˜²æ­¢ç¯¡æ”¹ï¼‰ï¼šå°†å‘é€çš„æ˜æ–‡è¿›è¡ŒHashç®—æ³•åå¾—åˆ°æ‘˜è¦æ”¾åœ¨å¯†æ–‡åä¸€èµ·å‘é€è¿‡å»ï¼Œä¸æ¥æ”¶æ–¹è§£å¯†åçš„æ˜æ–‡è¿›è¡Œç›¸åŒçš„Hashç®—æ³•å¾—åˆ°çš„æ‘˜è¦è¿›è¡Œå¯¹æ¯”å¦‚æœä¸€è‡´ï¼Œä¾§æ²¡æœ‰ç¯¡æ”¹ï¼Œå¦åˆ™æœ‰ç¯¡æ”¹ã€‚\næ•°å­—ç­¾åï¼ˆé˜²æ­¢å‡å†’å’Œå¦è®¤ï¼‰ï¼š\nå‘é€æ–¹ç”¨è‡ªå·±çš„ç§é’¥å¯¹æ‘˜è¦è¿›è¡Œç­¾åï¼ˆåŠ å¯†ï¼‰ã€‚å¾—åˆ°æ•°å­—ç­¾åæ”¾åœ¨å¯†æ–‡åä¸€èµ·å‘é€è¿‡å»ã€‚\næ¥æ”¶æ–¹ç”¨å‘é€æ–¹çš„å…¬é’¥å¯¹æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼ˆè§£å¯†ï¼‰ã€‚å¦‚æœéªŒè¯æˆåŠŸåˆ™è¯¥æ¶ˆæ¯æ²¡æœ‰è¢«å‡å†’ä¸”ä¸èƒ½å¦è®¤ï¼Œå¦åˆ™è¯¥æ¶ˆæ¯çš„çœŸå®æ€§ä¸ºå‡å†’å‘é€ã€‚\næ•°å­—è¯ä¹¦ æ•°å­—è¯ä¹¦æ˜¯ç¬¬ä¸‰æ–¹CAæœºæ„ä½¿ç”¨è‡ªå·±çš„ç§é’¥å¯¹ç”¨æˆ·çš„å…¬é’¥ç­¾åï¼ˆåŠ å¯†ï¼‰ï¼Œæ¥ä¿è¯è¿™ä¸ªå…¬é’¥ä¸è¢«ç¯¡æ”¹ã€‚ç„¶åæ¥æ”¶æ–¹ç”¨CAçš„å…¬é’¥éªŒè¯ï¼ˆè§£å¯†ï¼‰ï¼Œä»è€Œå¾—åˆ°ç”¨æˆ·çš„å…¬é’¥ã€‚\nåŠ å¯†ç®—æ³• å¯¹ç§°å¯†é’¥ï¼ˆç§é’¥ã€ç§æœ‰å¯†é’¥åŠ å¯†ï¼‰ç®—æ³•ï¼ˆå…±äº«å¯†é’¥åŠ å¯†ç®—æ³•ï¼‰ï¼š\nDES 3DES RC-5 IDEA AES RC4 éå¯¹ç§°å¯†é’¥ï¼ˆå…¬é’¥ã€å…¬å¼€å¯†é’¥åŠ å¯†ï¼‰ç®—æ³•ï¼š\nRSA ECC DSA å…¶ä»–åŠ å¯†ç®—æ³•ï¼š\nHashå‡½æ•°\nSHA-1å®‰å…¨æ•£åˆ—ç®—æ³•\nMD5æ‘˜è¦ç®—æ³•ï¼š\nè¾“å‡ºç»“æœä¸º128ä½ æ‘˜è¦ç®—æ³•é˜²æ­¢å‘é€çš„æŠ¥æ–‡è¢«ç¯¡æ”¹ åŠ å¯†å¯ä»¥é˜»æ­¢è¢«åŠ¨æ”»å‡»ï¼Œè®¤è¯å¯ä»¥é˜»æ­¢ä¸»åŠ¨æ”»å‡»ï¼ˆä¸å¯ä»¥å¤„ç†è¢«åŠ¨æ”»å‡»ï¼‰ã€‚\nç³»ç»Ÿå¯é åº¦ ","date":"2023å¹´3æœˆ24æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/ruan-she/computer-system/","series":[{"title":"è½¯ä»¶è®¾è®¡å¸ˆ","url":"/series/ruan-she/"}],"smallImg":"","tags":[{"title":"è½¯è€ƒ","url":"/tags/%E8%BD%AF%E8%80%83/"},{"title":"è®¡ç®—æœºç³»ç»Ÿ","url":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/"}],"timestamp":1679616000,"title":"è®¡ç®—æœºç³»ç»Ÿç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¯¼å…¥ä¾èµ– Knife4jçš„ä¾èµ–åæ ‡å¦‚ä¸‹ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.github.xiaoymin\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;knife4j-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®ç±» ç¼–å†™ï¼ˆæˆ–ä¿®æ”¹ï¼‰é…ç½®ç±»ï¼š\n@Configuration @EnableSwagger2 // å¼€å¯Swagger2 @EnableKnife4j // å¼€å¯Knife4j public class WebMvcConfig extends WebMvcConfigurationSupport { @Bean public Docket createRestApi() { // è®¾ç½®æ–‡æ¡£ç±»å‹ return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() // è®¾ç½®Controllerçš„åŒ…å .apis(RequestHandlerSelectors.basePackage(\u0026#34;com.linner.reggie.controller\u0026#34;)) .paths(PathSelectors.any()) .build(); } /** * APIæ–‡æ¡£æè¿° * @return */ private ApiInfo apiInfo() { return new ApiInfoBuilder() // æ–‡æ¡£æ ‡é¢˜ .title(\u0026#34;ç‘å‰å¤–å–\u0026#34;) // æ–‡æ¡£ç‰ˆæœ¬ .version(\u0026#34;1.0\u0026#34;) // æ–‡æ¡£æè¿° .description(\u0026#34;ç‘å‰å¤–å–æ¥å£æ–‡æ¡£\u0026#34;) .build(); } /** * è®¾ç½®é™æ€èµ„æºæ˜ å°„ * \u0026lt;p\u0026gt;æ”¾è¡Œé™æ€é¡µé¢èµ„æº\u0026lt;/p\u0026gt; * @param registry */ @Override public void addResourceHandlers(ResourceHandlerRegistry registry) { // APIæ–‡æ¡£çš„é™æ€èµ„æºæ˜ å°„ registry.addResourceHandler(\u0026#34;doc.html\u0026#34;) .addResourceLocations(\u0026#34;classpath:/META-INF/resources/\u0026#34;); registry.addResourceHandler(\u0026#34;/webjars/**\u0026#34;) .addResourceLocations(\u0026#34;classpath:/META-INF/resources/webjars/\u0026#34;); } } èµ„æºæ”¾è¡Œ æ”¾è¡Œæ–‡æ¡£é™æ€é¡µé¢è¯·æ±‚ã€‚å¿…é¡»ç¡®ä¿ä»¥ä¸‹é™æ€èµ„æºè·¯å¾„å¯ä»¥è¢«è®¿é—®ï¼Œä¸è¢«æ‹¦æˆªï¼š\n/doc.html /webjars/** /swagger-resources /v2/api-docs API æ–‡æ¡£æ³¨è§£ æ³¨è§£ è¯´æ˜ @Api ç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼ˆä¾‹å¦‚Controllerï¼Œä½¿ç”¨tagså…ƒç´ æŒ‡å®šæ–‡æ¡£çš„æ ‡ç­¾ã€‚ @ApiModel ç”¨åœ¨ç±»ä¸Šï¼ˆä¾‹å¦‚å®ä½“ç±»ï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯ã€‚ @ApiModelProperty ç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»ï¼ˆå®ä½“ç±»ï¼‰çš„å±æ€§ã€‚ @ApiOperation ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨ã€‚ @ApiImplicitParams ç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å‚æ•°è¯´æ˜ã€‚ @ApiImplicitParam ç”¨åœ¨@ApiImplicitParamsæ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„å„ä¸ªæ–¹é¢ã€‚\nå¦‚æœåªç”¨è¯´æ˜ä¸€ä¸ªå‚æ•°çš„è¯ï¼Œ@ApiImplicitParamå¯ä»¥å•ç‹¬ç”¨åœ¨æ–¹æ³•ä¸Šã€‚ æ³¨æ„ï¼š@ApiImplicitParamä¸èƒ½å¯¹å®ä½“ç±»è¿›è¡Œå®šä¹‰ï¼Œå¦åˆ™è®¿é—®APIæ–‡æ¡£æ—¶/v2/api-docsä¼šå‡ºç°æ¥å£å¼‚å¸¸ï¼ˆ500çŠ¶æ€ç ï¼‰ã€‚\nç¤ºä¾‹ æ ‡è¯†å“åº”æ•°æ®ä¿¡æ¯ï¼š\n/** èœå“ */ @Data @ApiModel(\u0026#34;èœå“\u0026#34;) // æ ‡è¯†å®ä½“ç±»çš„åç§° public class Dish implements Serializable { private static final long serialVersionUID = 1L; @ApiModelProperty(\u0026#34;èœå“ID\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private Long id; //èœå“åç§° @ApiModelProperty(\u0026#34;èœå“åç§°\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private String name; //èœå“åˆ†ç±»id @ApiModelProperty(\u0026#34;èœå“åˆ†ç±»ID\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private Long categoryId; //èœå“ä»·æ ¼ @ApiModelProperty(\u0026#34;èœå“ä»·æ ¼\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private BigDecimal price; //å•†å“ç  @ApiModelProperty(\u0026#34;å•†å“ç \u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private String code; //å›¾ç‰‡ @ApiModelProperty(\u0026#34;èœå“å›¾ç‰‡\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private String image; //æè¿°ä¿¡æ¯ @ApiModelProperty(\u0026#34;æè¿°ä¿¡æ¯\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private String description; //0 åœå”® 1 èµ·å”® @ApiModelProperty(\u0026#34;å•†å“çŠ¶æ€\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private Integer status; //é¡ºåº @ApiModelProperty(\u0026#34;å±•ç¤ºé¡ºåº\u0026#34;) // æ ‡è¯†å®ä½“ç±»å±æ€§çš„åç§° private Integer sort; /* ... */ } æ ‡è¯†è¯·æ±‚ç±»ï¼š\n/** * èœå“ç®¡ç† */ @RestController @RequestMapping(\u0026#34;/dish\u0026#34;) @Api(tags = \u0026#34;èœå“ç®¡ç†\u0026#34;) public class DishController { @Autowired private DishService dishService; @Autowired private DishFlavorService dishFlavorService; @Autowired private CategoryService categoryService; @Autowired private RedisTemplate redisTemplate; /** * æ–°å¢èœå“ * @param dishDto * @return */ @PostMapping @ApiOperation(\u0026#34;æ–°å¢èœå“\u0026#34;) // æ ‡è¯†APIæ–¹æ³•ï¼Œå¯¹APIè¯·æ±‚è¿›è¡Œè¯´æ˜ public R\u0026lt;String\u0026gt; save(@RequestBody DishDto dishDto) { // æ¸…ç†æŸä¸ªåˆ†ç±»ä¸‹é¢çš„èœå“ç¼“å­˜ String key = this.getRedisKey(dishDto); redisTemplate.delete(key); dishService.saveWithFlavor(dishDto); return R.success(\u0026#34;æ–°å¢èœå“æˆåŠŸ\u0026#34;); // è¿”å›ä¸€ä¸ªè¯·æ±‚æˆåŠŸçš„å“åº”ä½“ä¿¡æ¯ } /** * èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢ * @param page * @param pageSize */ @GetMapping(\u0026#34;/page\u0026#34;) @ApiOperation(\u0026#34;èœå“ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢\u0026#34;) // æ ‡è¯†APIæ–¹æ³•ï¼Œå¯¹APIè¯·æ±‚è¿›è¡Œè¯´æ˜ @ApiImplicitParams({ // æ ‡è¯†APIæ–¹æ³•ï¼Œå¯¹APIè¯·æ±‚å‚æ•°è¿›è¡Œè¯´æ˜ /** * @ApiImplicitParam å¯¹è¯·æ±‚å‚æ•°è¿›è¡Œå…·ä½“çš„è¯´æ˜ï¼Œå®ƒçš„å±æ€§æœ‰ï¼š * - nameï¼šæ ‡è¯†è¯·æ±‚å‚æ•°çš„åç§°ï¼Œä¸APIæ–¹æ³•çš„å‚æ•°åå¯¹åº” * - valueï¼šå¯¹nameå¯¹åº”çš„å‚æ•°è¿›è¡Œè¯´æ˜ * - requiredï¼šå¯¹nameå¯¹åº”çš„å‚æ•°æ˜¯å¦ä¸ºå¿…é¡»çš„è¯·æ±‚å‚æ•°è¿›è¡Œè¯´æ˜ * - trueï¼šå€¼ä¸ºtrueè¡¨ç¤ºè¯¥å‚æ•°æ˜¯è¯·æ±‚æ—¶å¿…é¡»æºå¸¦çš„ * - falseï¼šå€¼ä¸ºfalseè¡¨ç¤ºåœ¨è¿›è¡Œè¯·æ±‚æ—¶ï¼Œå¯ä»¥ä¸å¿…æºå¸¦è¯¥å‚æ•° */ @ApiImplicitParam(name = \u0026#34;page\u0026#34;, value = \u0026#34;é¡µç \u0026#34;, required = true), @ApiImplicitParam(name = \u0026#34;pageSize\u0026#34;, value = \u0026#34;æ¯é¡µå±•ç¤ºæ•°æ®æ¡æ•°\u0026#34;, required = true), @ApiImplicitParam(name = \u0026#34;name\u0026#34;, value = \u0026#34;è¦æœç´¢çš„èœå“åç§°\u0026#34;) }) public R\u0026lt;Page\u0026gt; page(int page, int pageSize, String name) { // æ„é€ åˆ†é¡µæ„é€ å™¨å¯¹è±¡ Page\u0026lt;Dish\u0026gt; pageInfo = new Page\u0026lt;\u0026gt;(page, pageSize); Page\u0026lt;DishDto\u0026gt; dishDtoPage = new Page\u0026lt;\u0026gt;(); // æ¡ä»¶æ„é€ å™¨ LambdaQueryWrapper\u0026lt;Dish\u0026gt; queryWrapper = new LambdaQueryWrapper\u0026lt;\u0026gt;(); // æ·»åŠ è¿‡æ»¤æ¡ä»¶ queryWrapper.like(name != null, Dish::getName, name); // æ·»åŠ æ’åºæ¡ä»¶ï¼ˆé™åºæ’åºï¼‰ queryWrapper.orderByDesc(Dish::getUpdateTime); // isDeletedä¸ä¸º1ï¼ˆä¸º1è¡¨ç¤ºè¢«åˆ é™¤ï¼‰ queryWrapper.ne(Dish::getIsDeleted, 1); // æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ dishService.page(pageInfo, queryWrapper); // å¯¹è±¡æ‹·è´ BeanUtils.copyProperties(pageInfo, dishDtoPage, \u0026#34;records\u0026#34;); List\u0026lt;Dish\u0026gt; records = pageInfo.getRecords(); List\u0026lt;DishDto\u0026gt; list = records.stream().map((item) -\u0026gt; { DishDto dishDto = new DishDto(); BeanUtils.copyProperties(item, dishDto); Long categoryId = item.getCategoryId(); // åˆ†ç±»id Category category = categoryService.getById(categoryId); // æ ¹æ®idæŸ¥è¯¢åˆ†ç±»å¯¹è±¡ if (category != null) { String categoryName = category.getName(); dishDto.setCategoryName(categoryName); } return dishDto; }).collect(Collectors.toList()); dishDtoPage.setRecords(list); return R.success(dishDtoPage); } /** * æ ¹æ®idæŸ¥è¯¢èœå“å…¨éƒ¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å£å‘³ï¼‰ * @param id */ @GetMapping(\u0026#34;/{id}\u0026#34;) @ApiOperation(\u0026#34;æ ¹æ®idæŸ¥è¯¢èœå“å…¨éƒ¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å£å‘³ï¼‰\u0026#34;) // å¦‚æœæ–¹æ³•ä»…æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª@ApiImplicitParamæ ‡è¯†ï¼Œæ— éœ€ä½¿ç”¨@ApiImplicitParams @ApiImplicitParam(name = \u0026#34;id\u0026#34;, value = \u0026#34;è¦æŸ¥è¯¢çš„èœå“ID\u0026#34;, required = true) public R\u0026lt;DishDto\u0026gt; get(@PathVariable Long id) { DishDto dishDto = dishService.getByIdWithFlavor(id); return R.success(dishDto); } } æ›´å¤šè¯¦ç»†ç”¨æ³•ï¼Œè¯·å‚è€ƒï¼šç‘å‰å¤–å–é¡¹ç›® Knife4j ç¬”è®°\n","date":"2023å¹´3æœˆ21æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/swagger_knife4j/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"APIæµ‹è¯•","url":"/tags/api%E6%B5%8B%E8%AF%95/"}],"timestamp":1679407806,"title":"Swaggerï¼ˆKnife4jï¼‰ API æ–‡æ¡£"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"é¡¹ç›®ç¬”è®° é¡¹ç›®ç¬”è®°ä»“åº“ï¼šhttps://gitee.com/linner_cheng/reggie_note\nBç«™è§†é¢‘ï¼šé»‘é©¬ç¨‹åºå‘˜Javaé¡¹ç›®å®æˆ˜ã€Šç‘å‰å¤–å–ã€‹\né¡¹ç›®åŸºç¡€åŠŸèƒ½å¼€å‘ é¡¹ç›®åŸºç¡€åŠŸèƒ½å¼€å‘ã€‚åŒ…å«é¡¹ç›®å‰å°å’Œåå°åŠŸèƒ½å¼€å‘è¿˜æœ‰é¡¹ç›®éƒ¨ç½²ã€‚\nRedis Redisã€‚åŒ…å«Jediså’ŒSpirng data redisã€‚\né¡¹ç›®ä¼˜åŒ– Redisç¼“å­˜ã€‚\nSharding-JDBCè¯»å†™åˆ†ç¦»ã€‚\nSwagger APIæ–‡æ¡£ã€‚\n","date":"2023å¹´3æœˆ21æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/03/%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Spring","url":"/tags/spring/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringBoot","url":"/tags/springboot/"}],"timestamp":1679356800,"title":"ç‘å‰å¤–å–é¡¹ç›®å®æˆ˜"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä»‹ç» Sharding Jdbcæ˜¯ä¸€ä¸ªç”¨äºå®ç°æ•°æ®åº“è¯»å†™åˆ†ç¦»çš„æ¡†æ¶ã€‚\nä¾èµ– Sharding Jdbcä¾èµ–åæ ‡ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.shardingsphere\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;sharding-jdbc-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.0.0-RC1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½® é…ç½®application.yamlï¼š\nspring: sharding-sphere: # æ—§ç‰ˆä¸º shardingsphere datasource: # æ•°æ®æºæœ‰å¤šä¸ªï¼Œç”¨åç§°æ¥è¿›è¡ŒåŒºåˆ† names: master,slave # åç§°å¯ä»¥è‡ªå®šä¹‰ï¼Œå¤šä¸ªåç§°ç”¨\u0026#39;,\u0026#39;åˆ†éš” # ä¸»æ•°æ®æº master: type: com.alibaba.druid.pool.DruidDataSource driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3316/reggie?characterEncoding=utf-8 username: root password: 123456 # ä»æ•°æ®æº slave: type: com.alibaba.druid.pool.DruidDataSource driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3326/reggie?characterEncoding=utf-8 username: root password: 123456 masters-lave: # è¯¾ç¨‹ä¸­ä¸º masterslave # è¯»å†™åˆ†ç¦»é…ç½® load-balance-algorithm-type: round_robin # å®šä¹‰ä»åº“è´Ÿè½½å‡è¡¡ç­–ç•¥ç­–ç•¥ï¼Œround_robinä¸ºè½®è¯¢ # æœ€ç»ˆçš„æ•°æ®æºåç§°ï¼ˆå³Beançš„åç§°ï¼‰ name: dataSource # ä¸»åº“æ•°æ®æºåç§° master-data-source-name: master # ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªç”¨\u0026#39;,\u0026#39;åˆ†éš” slave-data-source-names: slave props: sql: show: true # å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false main: # å…è®¸Beanå®šä¹‰è¦†ç›–ï¼Œå¦åˆ™ä¼šä¸å…¶ä»–æ•°æ®æºçš„Beanå‘ç”Ÿå†²çªï¼ˆå¦‚Druidï¼‰ allow-bean-definition-overriding: true ","date":"2023å¹´3æœˆ20æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/sharding-jdbc/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1679270400,"title":"Sharding Jdbc"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ•°æ®ç±»å‹ Rediså­˜å‚¨çš„æ˜¯key-valueç»“æ„çš„æ•°æ®ï¼Œå…¶ä¸­keyæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œvalueæœ‰5ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼š\nå­—ç¬¦ä¸² â€”â€” string\nå“ˆå¸Œ â€”â€” hash\né€‚åˆå­˜å‚¨å¯¹è±¡ã€‚\nåˆ—è¡¨ â€”â€” list\næŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œå¯ä»¥æœ‰é‡å¤å…ƒç´ ã€‚å¯ä»¥ç”¨æ¥åšä»»åŠ¡é˜Ÿåˆ—ã€‚\né›†åˆ â€”â€” set\næ— åºé›†åˆï¼Œæ²¡æœ‰é‡å¤å…ƒç´ ï¼ˆåæ’å…¥çš„å…ƒç´ ä¼šè¦†ç›–å·²æœ‰çš„ç›¸åŒå…ƒç´ ï¼‰ã€‚\næœ‰åºé›†åˆ â€”â€” sorted set\næœ‰åºé›†åˆï¼ˆä½¿ç”¨åˆ†å€¼è¿›è¡Œæ’åºï¼‰ï¼Œæ²¡æœ‰é‡å¤å…ƒç´ ã€‚\nå¸¸ç”¨å‘½ä»¤ Rediså‘½ä»¤ç¬¦ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯keyæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ æ›´å¤šå‘½ä»¤è¯·å‚è€ƒRedisä¸­æ–‡ç½‘ã€‚\nå­—ç¬¦ä¸²æ“ä½œå‘½ä»¤ SET key value è®¾ç½®æŒ‡å®škeyçš„å€¼ã€‚ keyç›¸åŒçš„æƒ…å†µä¸‹ï¼Œåè®¾çš„å€¼ä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚ GET key è·å–æŒ‡keyçš„å€¼ã€‚ SETEX key seconds value è®¾ç½®æŒ‡å®škeyçš„å€¼ï¼Œå¹¶å°†keyçš„è¿‡æœŸæ—¶é—´è®¾ä¸ºsecondsç§’ã€‚ SETNX key value åªæœ‰åœ¨keyä¸å­˜åœ¨æ—¶è®¾ç½®keyçš„å€¼ã€‚\nå¦‚ï¼š\n\u0026gt; SETNX key1 value1 1 \u0026gt; SETNX key1 value2 0 \u0026gt; GET key1 value1 å“ˆå¸Œæ“ä½œå‘½ä»¤ Redis hash æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚\nHSET key field value å°†å“ˆå¸Œè¡¨keyç§çš„å­—æ®µfieldçš„å€¼è®¾ä¸ºvalueã€‚ HGET key field è·å–å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®šå­—æ®µçš„å€¼ã€‚ HDEL key field åˆ é™¤å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­çš„æŒ‡å®šå­—æ®µã€‚ HKEYS key è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å­—æ®µã€‚ HVALS key è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰å€¼ã€‚ HGETALL key è·å–åœ¨å“ˆå¸Œè¡¨ä¸­æŒ‡å®škeyçš„æ‰€æœ‰å­—æ®µå’Œå€¼ã€‚ åˆ—è¡¨æ“ä½œå‘½ä»¤ LPUSH key value1 [value2 ...] å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨ã€‚ LRANGE key start stop è·å–åˆ—è¡¨æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼ˆstartåˆ°stopï¼Œç´¢å¼•ä»0å¼€å§‹ï¼‰ã€‚ RPOP key ç§»é™¤å¹¶è·å–åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ã€‚ LLEN key è·å–åˆ—è¡¨é•¿åº¦ã€‚ BRPOP key1 [key2 ...] timeout ç§»é™¤å¹¶è·å–åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨æ²¡æœ‰å…ƒç´ ä¼šé˜»å¡åˆ—è¡¨ç›´åˆ°ç­‰å¾…è¶…æ—¶ï¼ˆtimeoutç§’ï¼‰æˆ–ï¼ˆåœ¨æŒ‡å®šçš„keyä¸­ï¼‰å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚ é›†åˆæ“ä½œå‘½ä»¤ Redis setæ˜¯stringç±»å‹çš„æ— åºé›†åˆï¼Œé›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ã€‚\nSADD key member1 [member2 ...] å‘é›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ã€‚ SMEMBERS key è¿”å›é›†åˆä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚ SCARD key è·å–é›†åˆçš„æˆå‘˜æ•°ã€‚ SINTER key1 [key2 ...] è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„äº¤é›†ã€‚ SUNION key1 [key2 ...] è¿”å›æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›†ã€‚ SDIFF key1 [key2 ...] è¿”å›ç»™å®šæ‰€æœ‰é›†åˆçš„å·®é›†ï¼ˆå·¦å·®é›†ï¼Œå³key1é›†åˆä¸­åœ¨å…¶ä»–é›†åˆæ²¡æœ‰çš„å…ƒç´ é›†åˆï¼‰ã€‚ SREM key member1 [member2 ...] ç§»é™¤é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ã€‚ æœ‰åºé›†åˆæ“ä½œå‘½ä»¤ Redis sorted set æ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆï¼Œä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ï¼ˆscoreï¼‰ã€‚Redisé€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œæœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†åˆ†æ•°å´å¯ä»¥é‡å¤ã€‚\nZADD key score1 member1 [score2 member2 ...] å‘æœ‰åºé›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œæˆ–è€…æ›´æ–°å·²å­˜åœ¨æˆå‘˜çš„åˆ†æ•°ã€‚ ZRANGE key start stop [WITHSCOES] é€šè¿‡ç´¢å¼•åŒºé—´è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šåŒºé—´å†…çš„æˆå‘˜ã€‚ä½¿ç”¨WITHSCOESå¯ä»¥è¿”å›æˆå‘˜çš„åˆ†æ•°ã€‚ ZINCRBY key increment member æœ‰åºé›†åˆä¸­å¯¹æŒ‡å®šæˆå‘˜çš„åˆ†æ•°åŠ ä¸Šå¢é‡incrementã€‚ ZREM key member [member ...] ç§»é™¤æœ‰åºé›†åˆä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ã€‚ é€šç”¨å‘½ä»¤ KEYS pattren æŸ¥æ‰¾æ‰€æœ‰ç¬¦åˆç»™å®šæ¨¡å¼ï¼ˆpatternï¼‰çš„keyã€‚ EXISTS key æ£€æŸ¥ç»™å®škeyæ˜¯å¦å­˜åœ¨ã€‚ TYPE key è¿”å›keyæ‰€å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚ TTL key è¿”å›ç»™å®škeyçš„å‰©ä½™ç”Ÿå­˜æ—¶é—´ï¼ˆTTLï¼Œtime to liveï¼‰ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚ DEL key1 [key2 ...] è¯¥å‘½ä»¤ç”¨äºåœ¨keyå­˜åœ¨æ—¶åˆ é™¤keyã€‚\nå¦‚ï¼š\n\u0026gt; TTL key -1 è¿”å›-1è¡¨ç¤ºæ°¸ä¹…å­˜æ´»ã€‚\nåˆ‡æ¢æ•°æ®åº“ Redis é»˜è®¤æ˜¯åœ¨0å·æ•°æ®åº“ä¸­æ‰§è¡Œæ“ä½œã€‚å¦‚æœæƒ³è¦åˆ‡æ¢æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\nSELECT number å¦‚ï¼š\n127.0.0.1:6379\u0026gt; SELECT 1 OK 127.0.0.1:6379[1]\u0026gt; Redis é»˜è®¤æä¾›äº†16ä¸ªæ•°æ®åº“ã€‚\nè¦ä¿®æ”¹è¯¥é…ç½®å¯ä»¥åœ¨redis.confä¸­ä¿®æ”¹databasesçš„æ•°é‡ã€‚\ndatabash 16 Spring Data Redis ä¾èµ– Spring Data Redisçš„ä¾èµ–åæ ‡ä¸ºï¼š\n\u0026lt;!-- Spring Date Redis --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-data-redis\u0026lt;/artifactId\u0026gt; \u0026lt;!-- versionåœ¨spring-boot-starter-parentä¸­å®šä¹‰ --\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½® application.ymlï¼š\nspring: application: name: springdataredis-demo # Redisç›¸å…³é…ç½® data: redis: host: localhost port: 6379 password: 123456 database: 0 # æ“ä½œ0å·æ•°æ®åº“ jedis: # Redisè¿æ¥æ± é…ç½® pool: max-active: 8 # æœ€å¤§è¿æ¥æ•° max-wait: 1ms # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ max-idle: 4 # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥ min-idle: 0 # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥ é…ç½®ç±»ï¼ˆä¿®æ”¹é»˜è®¤åºåˆ—åŒ–å™¨ï¼Œé˜²æ­¢å› åºåˆ—åŒ–åœ¨Redisä¸Šäº§ç”Ÿä¹±ç ï¼Œä½†å¹¶ä¸å¦¨ç¢è¯»å€¼ã€‚å› ä¸ºè¯»å–æ—¶ä¼šè‡ªåŠ¨ååºåˆ—åŒ–ï¼‰ï¼š\n@Configuration public class RedisConfig extends CachingConfigurerSupport { @Bean public RedisTemplate\u0026lt;Object, Object\u0026gt; redisTemplate(RedisConnectionFactory connectionFactory) { RedisTemplate\u0026lt;Object, Object\u0026gt; redisTemplate = new RedisTemplate\u0026lt;\u0026gt;(); // é»˜è®¤çš„Keyåºåˆ—åŒ–å™¨ä¸ºï¼šJdkSerializationRedisSerializer redisTemplate.setKeySerializer(new StringRedisSerializer()); redisTemplate.setHashKeySerializer(new StringRedisSerializer()); redisTemplate.setConnectionFactory(connectionFactory); return redisTemplate; } } æµ‹è¯• @SpringBootTest @RunWith(SpringRunner.class) public class SpringDataRedisTest { @Autowired private RedisTemplate redisTemplate; /** * æ“ä½œå­—ç¬¦ä¸²ç±»å‹æ•°æ® */ @Test public void testString() { // è·å¾—Stringç±»å‹æ•°æ®æ“ä½œå¯¹è±¡ ValueOperations valueOperations = redisTemplate.opsForValue(); valueOperations.set(\u0026#34;city\u0026#34;, \u0026#34;guangzhou\u0026#34;); String city = (String) valueOperations.get(\u0026#34;city\u0026#34;); System.out.println(city); // è®¾ç½®è¶…æ—¶ valueOperations.set(\u0026#34;key1\u0026#34;, \u0026#34;value1\u0026#34;, 10L, TimeUnit.SECONDS); // ä¸å­˜åœ¨æ‰è®¾ç½® Boolean setIfAbsent1 = valueOperations.setIfAbsent(\u0026#34;city\u0026#34;, \u0026#34;foshang\u0026#34;); System.out.println(Boolean.TRUE.equals(setIfAbsent1) ? \u0026#34;cityè®¾ç½®æˆåŠŸ\u0026#34; : \u0026#34;cityå·²å­˜åœ¨\u0026#34;); Boolean setIfAbsent2 = valueOperations.setIfAbsent(\u0026#34;city_name\u0026#34;, \u0026#34;foshang\u0026#34;, 10L, TimeUnit.SECONDS); Object cityName = valueOperations.get(\u0026#34;city_name\u0026#34;); System.out.println(setIfAbsent2 ? \u0026#34;city_nameè®¾ç½®æˆåŠŸ:\u0026#34; + cityName : \u0026#34;city_nameå·²å­˜åœ¨\u0026#34;); } /** * æ“ä½œå“ˆå¸Œç±»å‹æ•°æ® */ @Test public void testHash() { HashOperations hashOperations = redisTemplate.opsForHash(); String id = \u0026#34;002\u0026#34;; // å­˜å€¼ hashOperations.put(id, \u0026#34;name\u0026#34;, \u0026#34;xiaoming\u0026#34;); hashOperations.put(id, \u0026#34;age\u0026#34;, \u0026#34;20\u0026#34;); hashOperations.put(id, \u0026#34;address\u0026#34;, \u0026#34;guangzhou\u0026#34;); // å–å€¼ String name = (String) hashOperations.get(id, \u0026#34;name\u0026#34;); String age = (String) hashOperations.get(id, \u0026#34;age\u0026#34;); String address = (String) hashOperations.get(id, \u0026#34;address\u0026#34;); System.out.println(\u0026#34;name:\u0026#34; + name + \u0026#34;,age:\u0026#34; + age + \u0026#34;,address:\u0026#34; + address); // è·å–hashç»“æ„ä¸­çš„æ‰€æœ‰å­—æ®µ Set keys = hashOperations.keys(id); for (Object key : keys) { System.out.println(key); } // åˆ é™¤ //hashOperations.delete(keys, \u0026#34;address\u0026#34;, \u0026#34;age\u0026#34;); // è·å¾—hashç»“æ„ä¸­çš„æ‰€æœ‰å€¼ List\u0026lt;String\u0026gt; values = hashOperations.values(id); for (String value : values) { System.out.println(value); } } /** * æ“ä½œåˆ—è¡¨ç±»å‹æ•°æ® */ @Test public void testList() { ListOperations listOperations = redisTemplate.opsForList(); String key = \u0026#34;mylist\u0026#34;; // å­˜å‚¨ listOperations.leftPush(key, \u0026#34;a\u0026#34;); listOperations.leftPushAll(key, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;); // å–å€¼ System.out.printf(\u0026#34;å…¥é˜Ÿï¼š\u0026#34;); List\u0026lt;String\u0026gt; myList = listOperations.range(key, 0, -1); for (String s : myList) { System.out.printf(s + \u0026#34; \u0026#34;); } System.out.println(); // è·å¾—åˆ—è¡¨é•¿åº¦ llen int size = listOperations.size(key).intValue(); System.out.printf(\u0026#34;å‡ºé˜Ÿï¼š\u0026#34;); for (int i = 0; i \u0026lt; size; i++) { // å‡ºé˜Ÿåˆ— String element = (String) listOperations.rightPop(key); System.out.printf(element + \u0026#34; \u0026#34;); } System.out.println(); } /** * æ“ä½œé›†åˆç±»å‹æ•°æ® */ @Test public void testSet() { SetOperations setOperations = redisTemplate.opsForSet(); String key = \u0026#34;myset\u0026#34;; // å­˜å€¼ setOperations.add(key, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;a\u0026#34;); // å–å€¼ Set\u0026lt;String\u0026gt; myset = setOperations.members(key); for (String s : myset) { System.out.printf(s + \u0026#34; \u0026#34;); } System.out.println(); // åˆ é™¤æˆå‘˜ setOperations.remove(key, \u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;); // å–å€¼ myset = setOperations.members(key); for (String s : myset) { System.out.printf(s + \u0026#34; \u0026#34;); } System.out.println(); } /** * æ“ä½œæœ‰åºé›†åˆç±»å‹æ•°æ® */ @Test public void testZset() { ZSetOperations zSetOperations = redisTemplate.opsForZSet(); String key = \u0026#34;myZset\u0026#34;; // å­˜å‚¨ zSetOperations.add(key, \u0026#34;a\u0026#34;, 10.); zSetOperations.add(key, \u0026#34;b\u0026#34;, 11.); zSetOperations.add(key, \u0026#34;c\u0026#34;, 12.); zSetOperations.add(key, \u0026#34;d\u0026#34;, 13.); zSetOperations.add(key, \u0026#34;a\u0026#34;, 14.); // å–å€¼ Set\u0026lt;String\u0026gt; range = zSetOperations.range(key, 0, -1); for (String s : range) { System.out.printf(s + \u0026#34; \u0026#34;); } System.out.println(); // ä¿®æ”¹åˆ†æ•° zSetOperations.incrementScore(key, \u0026#34;b\u0026#34;, 20.); // åˆ é™¤æˆå‘˜ zSetOperations.remove(key, \u0026#34;a\u0026#34;, \u0026#34;c\u0026#34;); // å–å€¼ range = zSetOperations.range(key, 0, -1); for (String s : range) { System.out.printf(s + \u0026#34; \u0026#34;); } System.out.println(); } /** * é€šç”¨æ“ä½œ */ @Test public void testCommon() { // è·å–Redisä¸­æ‰€æœ‰key Set\u0026lt;String\u0026gt; keys = redisTemplate.keys(\u0026#34;*\u0026#34;); for (String key : keys) { System.out.println(key); } // åˆ¤æ–­mæŸä¸ªkeyæ˜¯å¦å­˜åœ¨ Boolean hasKey = redisTemplate.hasKey(\u0026#34;linner\u0026#34;); System.out.println(hasKey ? \u0026#34;linnerå­˜åœ¨\u0026#34; : \u0026#34;linnerä¸å­˜åœ¨\u0026#34;); // åˆ é™¤æŒ‡å®škey redisTemplate.delete(\u0026#34;myZset\u0026#34;); // è·å–æŒ‡å®škeyå¯¹åº”çš„valueçš„æ•°æ®ç±»å‹ DataType dataType = redisTemplate.type(\u0026#34;myset\u0026#34;); System.out.println(dataType.name()); } } ","date":"2023å¹´3æœˆ11æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/redis-base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"NoSQL","url":"/tags/nosql/"},{"title":"Redis","url":"/tags/redis/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1678492800,"title":"RedisåŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç®€ä»‹ MybatisPlusï¼ˆç®€ç§°MPï¼‰æ˜¯åŸºäºMyBatisæ¡†æ¶åŸºç¡€ä¸Šå¼€å‘çš„å¢å¼ºå‹å·¥å…·ï¼ˆä¾ç„¶å¯ä»¥ä½¿ç”¨MyBatisé‡Œçš„å·¥å…·ï¼‰ï¼Œæ—¨åœ¨ç®€åŒ–å¼€å‘ã€æä¾›æ•ˆç‡ã€‚æ›´å¤šè¯¦æƒ…è¯·è®¿é—®MyBatisPluså®˜ç½‘ï¼ˆå®˜ç½‘æœ‰ä¸¤ä¸ªåœ°å€ï¼Œhttps://mp.baomidou.com/æˆ–https://mybatis.plusï¼‰ã€‚\nåŸºäºSpringä½¿ç”¨MybatisPlusï¼Œåœ¨æ„å»ºSpringå·¥ç¨‹æ—¶éœ€è¦å‹¾é€‰MySQLå’ŒMyBatisç›¸å…³æŠ€æœ¯ã€‚ç”±äºSpringå¹¶æœªæ”¶å½•MPï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å¯¼å…¥åæ ‡ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.baomidou\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-plus-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.4.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- å¯é€‰ï¼š --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.16\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨application.ymlï¼ˆé…ç½®æ–‡ä»¶ï¼‰ä¸­é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼š\nspring: datasource: type: com.alibaba.druid.pool.DruidDataSource driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/mybatisplus_db?serverTimezone=Asia/Shanghai username: root password: root DAOæ¥å£ ä½¿ç”¨MPç¼–å†™DAOæ¥å£ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿BaseMapper\u0026lt;\u0026gt;ï¼ˆè¯¥æ¥å£å†…ç½®äº†è®¸å¤šDAOæ–¹æ³•ï¼‰ï¼š\n@Mapper public interface UserDao extends BaseMapper\u0026lt;User\u0026gt;{ } ç¼–å†™å¼•å¯¼ç±»ï¼š\n@SpringBootApplication public class MybatisplusApplication { public static void main(String[] args) { SpringApplication.run(MybatisplusApplication.class, args); } } DAOæ¥å£è¦æƒ³è¢«å®¹å™¨æ‰«æåˆ°ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š\nåœ¨DAOæ¥å£ä¸Šæ·»åŠ @Mapperæ³¨è§£ï¼Œå¹¶ä¸”ç¡®ä¿DAOå¤„åœ¨å¼•å¯¼ç±»æ‰€åœ¨åŒ…æˆ–å…¶å­åŒ…ä¸­ã€‚ åœ¨å¼•å¯¼ç±»ä¸Šæ·»åŠ @MapperScanæ³¨è§£ï¼Œå…¶å±æ€§ä¸ºæ‰€è¦æ‰«æçš„DAOæ‰€åœ¨åŒ…ï¼š@MapperScan(\u0026quot;com.linner.dao\u0026quot;)ï¼ˆå¯ä»¥ä¸å†™@Mapperï¼‰ã€‚ ","date":"2023å¹´2æœˆ28æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/mybatisplus/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1677542400,"title":"MyBatisPlus"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å¤šæ¨¡å—å¼€å‘ å¤šæ¨¡å—å¼€å‘æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š\næŒ‰ç…§åŠŸèƒ½æ‹†åˆ†ã€‚ æŒ‰ç…§æ¨¡å—æ‹†åˆ†ã€‚ ä¾‹å¦‚ï¼Œå°†é¡¹ç›®ä¸­çš„DAOç±»æ‹†åˆ†å‡ºæ¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ã€‚ç„¶åä½¿ç”¨Mavenå°†è¯¥æ¨¡å—ä½œä¸ºä¾èµ–å¯¼å…¥é¡¹ç›®ä¸­ã€‚\nå‡è®¾ç°åœ¨å·²ç»å°†é¡¹ç›®ä¸­çš„å®ä½“ç±»æ‹†åˆ†å‡ºæ¥ä½œä¸ºmaven-daoæ¨¡å—ã€‚è¯¥æ¨¡å—ä¹Ÿä½¿ç”¨Mavenæ„å»ºï¼Œç„¶åå¯¼å…¥è¯¥é¡¹ç›®æ‰€éœ€ä¾èµ–ã€‚ç»è¿‡æµ‹è¯•åï¼Œå°†è¯¥é¡¹ç›®çš„\u0026lt;groupId\u0026gt;ã€\u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;å¯¼å…¥åŸæœ¬é¡¹ç›®ã€‚\nmaven-daoæ¨¡å—çš„pom.xmlä¸­ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;!-- å°†ä¸‹é¢å†…å®¹ä½œä¸ºä¾èµ–å¯¼å…¥åˆ°åŸé¡¹ç›®ä¸­ --\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;springmvc-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;!-- END --\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/project\u0026gt; å°†ä¸Šæ–¹\u0026lt;groupId\u0026gt;ã€\u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;å¯¼å…¥åŸé¡¹ç›®ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;springmvc-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/dependencies\u0026gt; æ¥ç€ä½¿ç”¨Mavençš„installå‘½ä»¤å°†maven-daoæ¨¡å—å®‰è£…åˆ°Mavenæœ¬åœ°ä»“åº“ä¸­ï¼Œé¡¹ç›®å³å¯æ­£å¸¸å¯åŠ¨ã€‚\nä¾èµ–ç®¡ç† ä¾èµ–ä¼ é€’ Mavené¡¹ç›®ä¸­çš„ä¾èµ–æ˜¯å…·æœ‰ä¼ é€’æ€§çš„ã€‚å³ï¼Œä¾èµ–çš„ä¾èµ–å¯ä»¥ä½œä¸ºä¾èµ–ä½¿ç”¨ã€‚å°†ä¾èµ–å…³ç³»ä½œä¸ºæ ‘çŠ¶ç»“æ„çœ‹å¾…ï¼Œé‚£ä¹ˆä¾èµ–çš„å­å­™ä¾èµ–ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºé¡¹ç›®çš„ä¾èµ–ã€‚\nä¾èµ–ä¼ é€’æœ‰ç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–ã€‚\nç›´æ¥ä¾èµ–ï¼š\nåœ¨pom.xmlä¸­ç¼–å†™çš„ä¾èµ–å°±æ˜¯è¯¥é¡¹ç›®çš„ç›´æ¥ä¾èµ–ã€‚å³ï¼Œä¾èµ–æ ‘ä¸­ï¼Œå­ä¾èµ–ï¼ˆå­èŠ‚ç‚¹ï¼‰å³ä¸ºå½“å‰é¡¹ç›®ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰çš„ç›´æ¥ä¾èµ–ã€‚\né—´æ¥ä¾èµ–ï¼š ä¾èµ–æ ‘ä¸­ï¼Œç›´æ¥ä¾èµ–ä¸‹çš„æ‰€æœ‰ä¾èµ–ï¼ˆå­™å­èŠ‚ç‚¹ï¼‰å³ä¸ºå½“å‰é¡¹ç›®çš„é—´æ¥ä¾èµ–ã€‚\nå› ä¸ºä¾èµ–ä¼ é€’çš„å­˜åœ¨ï¼Œä¼šå¯¼è‡´ä½¿ç”¨ä¾èµ–çš„è¿‡ç¨‹ä¸­å‡ºç°å†²çªé—®é¢˜ã€‚ä¾‹å¦‚æœ‰ä¸¤ä¸ªç›¸åŒçš„ä¾èµ–ï¼Œå®ƒä»¬çš„ç‰ˆæœ¬ä¸åŒï¼Œå°±ä¼šå¯¼è‡´ä¾èµ–å†²çªã€‚\nMavenæŒ‡å®šäº†ä¸€ç³»åˆ—è§„åˆ™æ¥è§£å†³ä¾èµ–å†²çªé—®é¢˜ã€‚\nç‰¹æ®Šä¼˜å…ˆï¼šåŒçº§ä¸‹ï¼ˆä¾èµ–æ ‘ä¸­åŒä¸ªçˆ¶èŠ‚ç‚¹çš„ä¾èµ–ä¸ºåŒçº§ï¼Œå³åŒä¸ªpom.xmlä¸‹ï¼‰ï¼Œé…ç½®äº†ç›¸åŒèµ„æºçš„ä¸åŒç‰ˆæœ¬ï¼Œåé…ç½®çš„è¦†ç›–å…ˆé…ç½®ã€‚ è·¯å¾„ä¼˜å…ˆï¼šä¾èµ–æ ‘ä¸­ï¼Œå±‚çº§è¶Šæµ…ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼›å±‚çº§è¶Šæ·±ï¼Œä¼˜å…ˆçº§è¶Šä½ã€‚ å£°æ˜ä¼˜å…ˆï¼šèµ„æºåœ¨ç›¸åŒå±‚çº§è¢«ä¾èµ–æ—¶ï¼Œé…ç½®é¡ºåºé å‰çš„è¦†ç›–é…ç½®é¡ºåºé åçš„ã€‚å³ï¼Œè°å…ˆå£°æ˜ç”¨è°ã€‚ æ³¨æ„ï¼šä¾èµ–çš„ä¼˜å…ˆçº§åªå¯¹å½“å‰é¡¹ç›®èµ·ä½œç”¨ã€‚å³ï¼Œå½“å‰é¡¹ç›®é€‰æ‹©çš„ä¾èµ–ç‰ˆæœ¬å¹¶ä¸ä¼šå½±å“åˆ°ä¾èµ–ä¸­ç›¸åŒèµ„æºä¸åŒç‰ˆæœ¬çš„ä¾èµ–ã€‚ æœ€ç»ˆé€‰æ‹©çš„ä¾èµ–ç»“æœæ ¹æ®Ideaä¸­Mavemé¢æ¿çš„ä¾èµ–æ ‘è§†å›¾ã€‚\nå¯é€‰ä¾èµ– å¯é€‰ä¾èµ–æŒ‡å¯¹å¤–éšè—å½“å‰æ‰€ä¾èµ–çš„èµ„æºï¼ˆä¸é€æ˜ï¼‰ï¼Œéšè—åå¯¹åº”èµ„æºå°†ä¸å…·æœ‰ä¾èµ–ä¼ é€’ã€‚\nå¯é€‰ä¾èµ–çš„å¼€å…³ä½¿ç”¨\u0026lt;optional\u0026gt;ã€‚å¦‚ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;xxx.xxxxxx\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;xxxxx-xxxxxx\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;x.x.x\u0026lt;/version\u0026gt; \u0026lt;!-- é»˜è®¤ä¸ºfalseï¼Œè®¾ç½®ä¸ºtrueä¸ºå¼€å¯å¯é€‰ä¾èµ– --\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; æ’é™¤ä¾èµ– æ’é™¤ä¾èµ–æŒ‡ä¸»åŠ¨æ–­å¼€ä¾èµ–çš„èµ„æºï¼Œè¢«æ’é™¤çš„èµ„æºæ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼ˆä¸éœ€è¦ï¼‰ã€‚å³ï¼Œåœ¨å½“å‰é¡¹ç›®ä¸­ï¼Œæ’é™¤ä¾èµ–ä¸­ä¸éœ€è¦çš„é—´æ¥ä¾èµ–ã€‚\næ’é™¤ä¾èµ–ä½¿ç”¨\u0026lt;exclusions\u0026gt;æ¥æŒ‡å®šä¸€ä¸ªæ’é™¤çš„ä¾èµ–åˆ—è¡¨ã€‚åˆ—è¡¨ä¸­ä½¿ç”¨\u0026lt;exclusion\u0026gt;æ¥æŒ‡å®šè¦æ’é™¤çš„ä¾èµ–ã€‚å¦‚ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;xxx.xxxxxx\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;xxxxx-xxxxxx\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;x.x.x\u0026lt;/version\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;groupId\u0026gt;yyy.yyyyyy\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;yyyyy-yyyyyyy\u0026lt;/artifactId\u0026gt; \u0026lt;!-- æ’é™¤ä¾èµ–ä¸éœ€è¦æŒ‡å®šç‰ˆæœ¬ --\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;/dependency\u0026gt; èšåˆå·¥ç¨‹ èšåˆå³ä¸ºå°†å¤šä¸ªæ¨¡å—ç»„ç»‡æˆä¸€ä¸ªæ•´ä½“ï¼ŒåŒæ—¶è¿›è¡Œé¡¹ç›®æ„å»ºçš„è¿‡ç¨‹ã€‚èšåˆå·¥ç¨‹é€šå¸¸æ˜¯ä¸€ä¸ªä¸å…·æœ‰ä¸šåŠ¡åŠŸèƒ½çš„\u0026quot;ç©º\u0026quot;å·¥ç¨‹ï¼ˆæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªpomæ–‡ä»¶ï¼‰ã€‚ä½¿ç”¨èšåˆå·¥ç¨‹å¯ä»¥å°†å¤šä¸ªå·¥ç¨‹ç¼–ç»„ï¼Œé€šè¿‡å¯¹èšåˆå·¥ç¨‹è¿›è¡Œæ„å»ºï¼Œå®ç°å¯¹æ‰€åŒ…å«çš„æ¨¡å—è¿›è¡ŒåŒæ­¥æ„å»ºã€‚å½“å·¥ç¨‹ä¸­æŸä¸ªæ¨¡å—å‘ç”Ÿæ›´æ–°ï¼ˆå˜æ›´ï¼‰æ—¶ï¼Œå¿…é¡»ä¿éšœå·¥ç¨‹ä¸­ä¸å·²æ›´æ–°æ¨¡å—å…³è”çš„æ¨¡å—åŒæ­¥æ›´æ–°ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨èšåˆå·¥ç¨‹æ¥è§£å†³æ‰¹é‡æ¨¡å—åŒæ­¥æ„å»ºçš„é—®é¢˜ã€‚\nExampleï¼š\nåˆ›å»ºä¸€ä¸ªç©ºçš„Mavené¡¹ç›®ï¼Œå¹¶å°†å…¶æ‰“åŒ…æ–¹å¼è®¾ç½®ä¸ºpomï¼Œç„¶åæ·»åŠ æ‰€è¦ç®¡ç†çš„é¡¹ç›®ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;x.x.x\u0026lt;/version\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; \u0026lt;!-- è®¾ç½®ç®¡ç†çš„æ¨¡å—åç§° --\u0026gt; \u0026lt;modules\u0026gt; \u0026lt;!-- moduleé‡Œé¢çš„å€¼ä¸ºç®¡ç†æ¨¡å—çš„ç›¸å¯¹è·¯å¾„ --\u0026gt; \u0026lt;module\u0026gt;../xxxx\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../yyyy\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../zzzz\u0026lt;/module\u0026gt; \u0026lt;/modules\u0026gt; \u0026lt;/project\u0026gt; å½“è¯¥maven-parentè¢«compileåï¼Œæ‰€æœ‰è¢«å…¶ç®¡ç†çš„é¡¹ç›®éƒ½ä¼šè¢«æ‰§è¡Œç¼–è¯‘æ“ä½œã€‚\nèšåˆå·¥ç¨‹ç®¡ç†çš„é¡¹ç›®åœ¨è¿›è¡Œè¿è¡Œçš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§é¡¹ç›®ä¸é¡¹ç›®ä¹‹é—´çš„ä¾èµ–å…³ç³»æ¥è‡ªåŠ¨å†³å®šæ‰§è¡Œçš„é¡ºåºå’Œé…ç½®çš„é¡ºåºæ— å…³ã€‚\nç»§æ‰¿ ç»§æ‰¿æ˜¯ç”¨æ¥è§£å†³é‡å¤é…ç½®é—®é¢˜ã€‚ç»§æ‰¿æè¿°çš„æ˜¯ä¸¤ä¸ªå·¥ç¨‹é—´çš„å…³ç³»å­å·¥ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶å·¥ç¨‹ä¸­çš„é…ç½®ä¿¡æ¯ï¼Œå¸¸è§äºä¾èµ–å…³ç³»çš„ç»§æ‰¿ã€‚ç»§æ‰¿çš„ä½œç”¨ï¼šç®€åŒ–é…ç½®ã€å‡å°‘ç‰ˆæœ¬å†²çªã€‚\nä¸€èˆ¬ç»§æ‰¿å’Œèšåˆéƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªç©ºé¡¹ç›®æ¥æ„å»ºï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªçš„åŠŸèƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚\nåœ¨å­å·¥ç¨‹ä¸­é…ç½®å½“å‰å·¥ç¨‹ç»§æ‰¿è‡ªparentå·¥ç¨‹ï¼š\n\u0026lt;!-- åœ¨projectä¸‹é…ç½® --\u0026gt; \u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;x.x.x\u0026lt;/version\u0026gt; \u0026lt;!--è®¾ç½®çˆ¶é¡¹ç›®pom.xmlä½ç½®è·¯å¾„--\u0026gt; \u0026lt;relativePath\u0026gt;../maven-parent/pom.xml\u0026lt;/relativePath\u0026gt; \u0026lt;/parent\u0026gt; å°†å­é¡¹ç›®å…±åŒä½¿ç”¨çš„ä¾èµ–éƒ½æŠ½å–å‡ºæ¥ï¼Œç»´æŠ¤åœ¨çˆ¶é¡¹ç›®çš„pom.xmlä¸­ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;x.x.x\u0026lt;/version\u0026gt; \u0026lt;packaging\u0026gt;pom\u0026lt;/packaging\u0026gt; \u0026lt;modules\u0026gt; \u0026lt;module\u0026gt;../xxxx\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../yyyy\u0026lt;/module\u0026gt; \u0026lt;module\u0026gt;../zzzz\u0026lt;/module\u0026gt; \u0026lt;/modules\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-core\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-webmvc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-jdbc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-test\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.47\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.16\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1.0\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.core\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-databind\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.9.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/project\u0026gt; å­é¡¹ç›®ä¾èµ–ç‰ˆæœ¬é—®é¢˜ å¦‚æœæŠŠæ‰€æœ‰ç”¨åˆ°çš„ä¾èµ–éƒ½ç®¡ç†åœ¨çˆ¶é¡¹ç›®çš„pom.xmlï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æœ‰å¾ˆå¤šé¡¹ç›®å¼•å…¥äº†è¿‡å¤šè‡ªå·±ä¸éœ€è¦çš„ä¾èµ–ï¼Œè¿™æ ·å¯¹äºå­é¡¹ç›®æ¥è¯´ä¹Ÿæ˜¯ç§è´Ÿæ‹…ã€‚\nå¯ä»¥åœ¨çˆ¶å·¥ç¨‹ä¸­ä½¿ç”¨\u0026lt;dependencyManagement\u0026gt;æ¥å®šä¹‰ä¾èµ–ç®¡ç†ï¼š\n\u0026lt;!-- åœ¨projectä¸‹é…ç½® --\u0026gt; \u0026lt;dependencyManagement\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.12\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;/dependencyManagement\u0026gt; \u0026lt;dependencyManagement\u0026gt;æ ‡ç­¾ä¸çœŸæ­£å¼•å…¥jaråŒ…ï¼Œè€Œæ˜¯é…ç½®å¯ä¾›å­é¡¹ç›®é€‰æ‹©çš„jaråŒ…ä¾èµ–ã€‚\nå¦‚æœå­é¡¹ç›®è¦æƒ³ä½¿ç”¨å®ƒæ‰€æä¾›çš„è¿™äº›jaråŒ…ï¼Œéœ€è¦è‡ªå·±æ·»åŠ ä¾èµ–ï¼Œå¹¶ä¸”ä¸éœ€è¦æŒ‡å®š\u0026lt;version\u0026gt;ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å­é¡¹ç›®ä½¿ç”¨çš„jaråŒ…versionç”±çˆ¶é¡¹ç›®å†³å®šã€‚\nå±æ€§ Mavenå±æ€§çš„æ¦‚å¿µå’Œå˜é‡çš„æ¦‚å¿µå¾ˆç›¸ä¼¼ã€‚åœ¨ä¸€ä¸ªåœ°æ–¹å£°æ˜ï¼Œå…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Œå½“å±æ€§çš„å£°æ˜ä¿®æ”¹åï¼Œæ‰€æœ‰ä½¿ç”¨å±æ€§çš„åœ°æ–¹éƒ½ä¼šè·Ÿç€ä¿®æ”¹ã€‚\nåœ¨Mavenä¸­çš„å±æ€§åˆ†ä¸º:\nè‡ªå®šä¹‰å±æ€§ã€‚\nå†…ç½®å±æ€§ã€‚\nä½¿ç”¨mvn help:systemå‘½ä»¤æŸ¥çœ‹ã€‚\nSettingå±æ€§ã€‚\nJavaç³»ç»Ÿå±æ€§ã€‚\nç¯å¢ƒå˜é‡å±æ€§ã€‚\nè‡ªå®šä¹‰å±æ€§ åœ¨çˆ¶å·¥ç¨‹ä¸­ä½¿ç”¨\u0026lt;properties\u0026gt;å®šä¹‰å±æ€§ï¼š\n5.2.10.RELEASE 4.12 1.3.0 å®šä¹‰å±æ€§æ ‡ç­¾çš„åç§°å¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚\u0026lt;spring.version\u0026gt;ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸º\u0026lt;spring-version\u0026gt;ã€‚\næ¥ç€ä¿®æ”¹ä¾èµ–çš„versionï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-core\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${spring.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-webmvc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${spring.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-jdbc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${spring.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ä½¿ç”¨${å±æ€§å}æ¥ä½¿ç”¨å±æ€§ã€‚\né…ç½®æ–‡ä»¶åŠ è½½å±æ€§ å±æ€§ä¹Ÿå¯ä»¥ä½œç”¨äºå…¶ä»–é…ç½®æ–‡ä»¶ä¸­ï¼ˆå¦‚jdbc.propertiesï¼‰ã€‚\nå…ˆåœ¨çˆ¶å·¥ç¨‹ä¸­å®šä¹‰å±æ€§ï¼Œå¹¶ä¸”è®¾ç½®Mavenè¿‡æ»¤æ–‡ä»¶èŒƒå›´ï¼š\n\u0026lt;properties\u0026gt; \u0026lt;jdbc.url\u0026gt;jdbc:mysql://127.1.1.1:3306/spring_db\u0026lt;/jdbc.url\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;build\u0026gt; \u0026lt;resources\u0026gt; \u0026lt;resource\u0026gt; \u0026lt;!-- è®¾ç½®èµ„æºç›®å½•ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ --\u0026gt; \u0026lt;directory\u0026gt;../xxxx/src/main/resources\u0026lt;/directory\u0026gt; \u0026lt;!-- è®¾ç½®æ˜¯å¦èƒ½å¤Ÿè§£æ${}ï¼Œé»˜è®¤æ˜¯false --\u0026gt; \u0026lt;filtering\u0026gt;true\u0026lt;/filtering\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resources\u0026gt; \u0026lt;/build\u0026gt; ä¿®æ”¹jdbc.propertiesï¼ˆå±æ€§å€¼çš„ä½¿ç”¨æ–¹å¼ä¸pom.xmlä¸­ç›¸åŒï¼‰ï¼š\njdbc.driver=com.mysql.jdbc.Driver jdbc.url=${jdbc.url} jdbc.username=root jdbc.password=root å¦‚æœéœ€è¦åœ¨å¤šä¸ªé¡¹ç›®ä¸­è§£æå±æ€§å€¼ï¼Œå¯ä»¥ä½¿ç”¨${project.basedir}ï¼ˆMavençš„å†…ç½®ç³»ç»Ÿå±æ€§ï¼‰æ¥ç®€åŒ–ä¹¦å†™ï¼š\n\u0026lt;build\u0026gt; \u0026lt;resources\u0026gt; \u0026lt;!-- ${project.basedir}: è¡¨ç¤ºå½“å‰é¡¹ç›®æ‰€åœ¨ç›®å½• å­é¡¹ç›®ç»§æ‰¿äº†çˆ¶é¡¹ç›®ï¼Œç›¸å½“äºæ‰€æœ‰çš„å­é¡¹ç›®éƒ½æ·»åŠ äº†èµ„æºç›®å½•çš„è¿‡æ»¤ --\u0026gt; \u0026lt;resource\u0026gt; \u0026lt;directory\u0026gt;${project.basedir}/src/main/resources\u0026lt;/directory\u0026gt; \u0026lt;filtering\u0026gt;true\u0026lt;/filtering\u0026gt; \u0026lt;/resource\u0026gt; \u0026lt;/resources\u0026gt; \u0026lt;!-- å¿½ç•¥ web.xml æ£€æŸ¥ æˆ–è€…åœ¨ src\\main\\webapp\\WEB-INF\\ æ·»åŠ ä¸€ä¸ª web.xml æ–‡ä»¶ --\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-war-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.2.3\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- å¿½ç•¥ web.xml æ£€æŸ¥ --\u0026gt; \u0026lt;failOnMissingWebXml\u0026gt;false\u0026lt;/failOnMissingWebXml\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; ä½¿ç”¨mvn help:systemå‘½ä»¤å¯ä»¥æŸ¥çœ‹æ›´å¤šçš„å†…ç½®å±æ€§ã€‚\nç‰ˆæœ¬ç®¡ç† SNAPSHOTï¼ˆå¿«ç…§ç‰ˆæœ¬ï¼‰ï¼š é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸´æ—¶è¾“å‡ºçš„ç‰ˆæœ¬ï¼Œç§°ä¸ºå¿«ç…§ç‰ˆæœ¬ã€‚ å¿«ç…§ç‰ˆæœ¬ä¼šéšç€å¼€å‘çš„è¿›å±•ä¸æ–­æ›´æ–°ã€‚ RELEASEï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰ï¼š é¡¹ç›®å¼€å‘åˆ°ä¸€å®šé˜¶æ®µé‡Œç¨‹ç¢‘åï¼Œå‘å›¢é˜Ÿå¤–éƒ¨å‘å¸ƒè¾ƒä¸ºç¨³å®šçš„ç‰ˆæœ¬ï¼Œè¿™ç§ç‰ˆæœ¬æ‰€å¯¹åº”çš„æ„ä»¶æ–‡ä»¶æ˜¯ç¨³å®šçš„ã€‚ å³ä¾¿è¿›è¡ŒåŠŸèƒ½çš„åç»­å¼€å‘ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å½“å‰å‘å¸ƒç‰ˆæœ¬å†…å®¹ï¼Œè¿™ç§ç‰ˆæœ¬ç§°ä¸ºå‘å¸ƒç‰ˆæœ¬ã€‚ alphaï¼ˆå†…æµ‹ç‰ˆï¼‰ï¼šBugå¤šã€ä¸ç¨³å®šã€å†…éƒ¨ç‰ˆæœ¬ä¸æ–­æ·»åŠ æ–°åŠŸèƒ½ã€‚ betaï¼ˆå…¬æµ‹ç‰ˆï¼‰ï¼šä¸ç¨³å®šï¼ˆç›¸å¯¹æ¯”alphaç¨³å®šäº›ï¼‰ï¼ŒBugç›¸å¯¹è¾ƒå¤šä¸æ–­æ·»åŠ æ–°åŠŸèƒ½ã€‚ çº¯æ•°å­—ç‰ˆæœ¬ã€‚ å¤šç¯å¢ƒå¼€å‘ Mavenæä¾›é…ç½®å¤šç§ç¯å¢ƒçš„è®¾å®šï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¿«é€Ÿåˆ‡æ¢ç¯å¢ƒã€‚\nåœ¨çˆ¶å·¥ç¨‹ä¸­é…ç½®å¤šä¸ªç¯å¢ƒï¼Œå¹¶æŒ‡å®šé»˜è®¤æ¿€æ´»ç¯å¢ƒï¼š\n\u0026lt;profiles\u0026gt; \u0026lt;!--å¼€å‘ç¯å¢ƒ--\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;dev\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;jdbc.url\u0026gt;jdbc:mysql://127.1.1.1:3306/spring_db\u0026lt;/jdbc.url\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;!-- è®¾å®šæ˜¯å¦ä¸ºé»˜è®¤å¯åŠ¨ç¯å¢ƒ --\u0026gt; \u0026lt;activeByDefault\u0026gt;true\u0026lt;/activeByDefault\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;!--ç”Ÿäº§ç¯å¢ƒ--\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;pro\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;jdbc.url\u0026gt;jdbc:mysql://127.2.2.2:3306/spring_db\u0026lt;/jdbc.url\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;!--æµ‹è¯•ç¯å¢ƒ--\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;test\u0026lt;/id\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;jdbc.url\u0026gt;jdbc:mysql://127.3.3.3:3306/spring_db\u0026lt;/jdbc.url\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;/profiles\u0026gt; åŠ¨æ€åˆ‡æ¢é…ç½®ç¯å¢ƒå¯ä»¥ä½¿ç”¨Mavençš„-På‚æ•°æ¥æŒ‡å®šï¼Œå‚æ•°å€¼ä¸ºç¯å¢ƒidï¼š\nmvn install -P test è·³è¿‡æµ‹è¯• åœ¨æ‰§è¡ŒinstallæŒ‡ä»¤çš„æ—¶å€™ï¼ŒMavenéƒ½ä¼šæŒ‰ç…§é¡ºåºä»ä¸Šå¾€ä¸‹ä¾æ¬¡æ‰§è¡Œï¼Œæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œtestã€‚testå¯ä»¥ç¡®ä¿æ¯æ¬¡æ‰“åŒ…æˆ–è€…å®‰è£…çš„æ—¶å€™ï¼Œç¨‹åºçš„æ­£ç¡®æ€§ã€‚\nä½†æ˜¯ï¼Œå‡å¦‚æµ‹è¯•å·²ç»é€šè¿‡ï¼Œåœ¨æ²¡æœ‰ä¿®æ”¹ç¨‹åºçš„å‰æä¸‹å†æ¬¡æ‰§è¡Œæ‰“åŒ…æˆ–å®‰è£…å‘½ä»¤ï¼Œç”±äºé¡ºåºæ‰§è¡Œï¼Œæµ‹è¯•ä¼šè¢«å†æ¬¡æ‰§è¡Œï¼Œå°±æœ‰ç‚¹è€—è´¹æ—¶é—´äº†ã€‚æˆ–è€…ï¼ŒåŠŸèƒ½å¼€å‘è¿‡ç¨‹ä¸­æœ‰éƒ¨åˆ†æ¨¡å—è¿˜æ²¡æœ‰å¼€å‘å®Œæ¯•ï¼Œæµ‹è¯•æ— æ³•é€šè¿‡ï¼Œä½†æ˜¯æƒ³è¦æŠŠå…¶ä¸­æŸä¸€éƒ¨åˆ†è¿›è¡Œå¿«é€Ÿæ‰“åŒ…ï¼Œæ­¤æ—¶ç”±äºæµ‹è¯•ç¯å¢ƒå¤±è´¥å°±ä¼šå¯¼è‡´æ‰“åŒ…å¤±è´¥ã€‚æ­¤æ—¶å°±éœ€è¦è·³è¿‡æµ‹è¯•ï¼š\nIdeaå·¥å…·å¯ä»¥å®ç°è·³è¿‡æµ‹è¯•ï¼ˆMavené¢æ¿ä¸­å¸¦é—ªç”µå›¾æ ‡çš„æŒ‰é’®ï¼‰ã€‚\nåœ¨çˆ¶å·¥ç¨‹ä¸­çš„pom.xmlä¸­æ·»åŠ æµ‹è¯•æ’ä»¶é…ç½®ï¼š\n\u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;artifactId\u0026gt;maven-surefire-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.12.4\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;skipTests\u0026gt;false\u0026lt;/skipTests\u0026gt; \u0026lt;!--æ’é™¤æ‰ä¸å‚ä¸æµ‹è¯•çš„å†…å®¹--\u0026gt; \u0026lt;excludes\u0026gt; \u0026lt;exclude\u0026gt;**/BookServiceTest.java\u0026lt;/exclude\u0026gt; \u0026lt;/excludes\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;configuration\u0026gt;ä¸­æœ‰å¦‚ä¸‹æ ‡ç­¾ï¼š\nskipTestsï¼šå¦‚æœä¸ºtrueï¼Œè·³è¿‡æ‰€æœ‰æµ‹è¯•ï¼›ä¸ºfalseï¼Œä¸è·³è¿‡æµ‹è¯•ã€‚ excludesï¼šä¸å‚ä¸æµ‹è¯•çš„æµ‹è¯•ç±»ï¼Œé’ˆå¯¹skipTestsä¸ºfalseæ¥è®¾ç½®çš„ã€‚ includesï¼šå‚ä¸æµ‹è¯•çš„æµ‹è¯•ç±»ï¼Œé’ˆå¯¹skipTestsä¸ºtrueæ¥è®¾ç½®çš„ã€‚ å‘½ä»¤è·³è¿‡æµ‹è¯•ï¼š\nmvn æŒ‡ä»¤ -D skipTests æ‰§è¡Œçš„é¡¹ç›®æ„å»ºæŒ‡ä»¤å¿…é¡»åŒ…å«æµ‹è¯•ç”Ÿå‘½å‘¨æœŸï¼Œå¦åˆ™æ— æ•ˆæœã€‚ å‘½ä»¤éœ€è¦åœ¨pom.xmlæ‰€åœ¨ç›®å½•ä¸‹è¿›è¡Œæ‰§è¡Œã€‚ ","date":"2023å¹´2æœˆ27æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/maven-senior/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"é¡¹ç›®ç®¡ç†","url":"/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1677456000,"title":"Maven é«˜çº§"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç®€ä»‹ SpringBoot æ˜¯ç”± Pivotal å›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ– Spring åº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚\nSpringBootå¼€å‘åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥ï¼š\nåˆ›å»ºæ–°æ¨¡å—ï¼Œé€‰æ‹©Springåˆå§‹åŒ–ï¼Œå¹¶é…ç½®æ¨¡å—ç›¸å…³åŸºç¡€ä¿¡æ¯ã€‚ é€‰æ‹©å½“å‰æ¨¡å—éœ€è¦ä½¿ç”¨çš„æŠ€æœ¯é›†ã€‚ å¼€å‘æ§åˆ¶å™¨ç±»ã€‚ è¿è¡Œè‡ªåŠ¨ç”Ÿæˆçš„Applicationç±»ã€‚ SpringBootæœ‰ä¸¤ä¸ªæœºåˆ¶ï¼š\nä¾èµ–ç®¡ç†æœºåˆ¶ã€‚ è‡ªåŠ¨é…ç½®æœºåˆ¶ã€‚ é¡¹ç›®åˆ›å»ºåŠé…ç½® åˆ›å»ºé¡¹ç›® æ³¨æ„ï¼š\nåœ¨åˆ›å»ºå¥½çš„å·¥ç¨‹ä¸­ä¸éœ€è¦åˆ›å»ºé…ç½®ç±»ã€‚\nåˆ›å»ºå¥½çš„é¡¹ç›®ä¼šè‡ªåŠ¨ç”Ÿæˆå…¶ä»–çš„ä¸€äº›æ–‡ä»¶ï¼ˆè¿™äº›æ–‡ä»¶ç›®å‰æ¥è¯´æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼‰ï¼Œå¯ä»¥å°†è¿™äº›æ–‡ä»¶åˆ é™¤ã€‚\nå¯ä»¥åˆ é™¤çš„ç›®å½•å’Œæ–‡ä»¶å¦‚ä¸‹ï¼š\n.mvn .gitignore HELP.md mvnw mvnw.cmd é¡¹ç›®ä¾èµ– åœ¨é¡¹ç›®ä¸­çš„pom.xmlä¸­æœ‰å¦‚ä¸‹ä»£ç ï¼š\n\u0026lt;parent\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-parent\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.4.5\u0026lt;/version\u0026gt; \u0026lt;!-- è¿™é‡Œçš„ç‰ˆæœ¬è¢«ä¿®æ”¹è¿‡ï¼ŒæŒ‰ç…§ä¸Šæ–¹åˆ›å»ºçš„å·¥ç¨‹ç‰ˆæœ¬åº”è¯¥æ˜¯ 3.0.3 --\u0026gt; \u0026lt;relativePath/\u0026gt; \u0026lt;!-- lookup parent from repository --\u0026gt; \u0026lt;/parent\u0026gt; è¯¥ä»£ç æŒ‡å®šäº†ä¸€ä¸ªçˆ¶å·¥ç¨‹ï¼Œçˆ¶å·¥ç¨‹ä¸­çš„ä¸œè¥¿åœ¨è¯¥å·¥ç¨‹ä¸­å¯ä»¥ç»§æ‰¿è¿‡æ¥ä½¿ç”¨ã€‚\nå¹¶ä¸”ä½¿ç”¨Spring Initializråˆ›å»ºçš„é¡¹ç›®ä¼šè‡ªåŠ¨åœ¨pom.xmlä¸­å¯¼å…¥æ‰€éœ€çš„èµ·æ­¥ä¾èµ–ï¼ˆåŒ…å«starterçš„ä¾èµ–ï¼‰ã€‚\nåœ¨pom.xmlä¸­è¿˜æœ‰å¦‚ä¸‹èµ·æ­¥ä¾èµ–ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!-- Springboot Web å¼€å‘æ‰€éœ€çš„èµ·æ­¥ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- Springboot æ•´åˆJunitçš„èµ·æ­¥ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; å¼•å¯¼ç±» åˆ›å»ºçš„æ¯ä¸ªSpringBooté¡¹ç›®éƒ½åŒ…å«ä¸€ä¸ªå¼•å¯¼ç±»ï¼Œå¦‚ï¼š\n@SpringBootApplication public class SpringbootDemoApplication { public static void main(String[] args) { SpringApplication.run(SpringbootDemoApplication.class, args); } } å¼•å¯¼ç±»æ˜¯é¡¹ç›®çš„å…¥å£ï¼Œè¿è¡Œmain()å°±å¯ä»¥å¯åŠ¨é¡¹ç›®ã€‚\nå¼•å¯¼ç±»é»˜è®¤åªä¼šæ‰«æå½“å‰åŒ…ä¸‹åŒçº§çš„ç±»å’ŒåŒ…ï¼ˆåŒ…ä¸‹çš„çš„ç±»ï¼‰ã€‚\nå¦‚æœControlleråŒ…ä¸å¼•å¯¼ç±»çš„åŒ…åŒçº§ï¼ˆä¾‹å¦‚com.linner.controllerä¸com.linner.springbootdemoï¼‰ï¼Œæ­¤æ—¶å¼•å¯¼ç±»å¯ä»¥æ­£å¸¸å¯åŠ¨ï¼Œä½†æ˜¯ç”±äºæ‰«æä¸åˆ°CotrolleråŒ…ï¼Œæ¥å£æ— æ³•è®¿é—®ã€‚æœ‰ä¸‰ç§è§£å†³æ–¹æ³•ï¼š\nå°†ControlleråŒ…ç§»åŠ¨åˆ°å¼•å¯¼ç±»çš„åŒ…ä¸‹ï¼ˆæ­¤å¤„ä¸ºspringbootdemoï¼‰ã€‚\nå°†å¼•å¯¼ç±»ç§»åŠ¨åˆ°é¡¹ç›®ç»„åŒ…ä¸‹ï¼ˆæ­¤å¤„ä¸ºcom.linnerï¼‰ã€‚\nåœ¨åˆ›å»ºå·¥ç¨‹æ—¶ï¼Œä¿®æ”¹è½¯ä»¶åŒ…åã€‚\nSpring Initializré»˜è®¤è½¯ä»¶åŒ…åä¸ºé¡¹ç›®ç»„å.é¡¹ç›®åï¼ˆæ­¤å¤„ä¸ºcom.linner.springbootdemoï¼‰ã€‚æ­¤å¤„åˆ›å»ºçš„é¡¹ç›®å°†å…¶ä¿®æ”¹ä¸ºé¡¹ç›®ç»„åï¼ˆcom.linnerï¼‰ã€‚\nSpringApplication.run(...) çš„è¿”å›å€¼æ˜¯å½“å‰é¡¹ç›®çš„ApplicationContextã€‚\nåˆ‡æ¢ Web æœåŠ¡å™¨ å¦‚æœè¦ä½¿ç”¨JettyæœåŠ¡å™¨ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨pom.xmlä¸­ä½¿ç”¨\u0026lt;exclusion\u0026gt;æ ‡ç­¾æ’é™¤é»˜è®¤çš„TomcatæœåŠ¡å™¨ï¼Œç„¶åå†å¯¼å…¥ä½¿ç”¨JettyæœåŠ¡å™¨æ‰€éœ€çš„åæ ‡ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-web\u0026lt;/artifactId\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-tomcat\u0026lt;/artifactId\u0026gt; \u0026lt;/exclusion\u0026gt; \u0026lt;/exclusions\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-jetty\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½®æ–‡ä»¶ SpringBootæœ‰ä¸¤ç§é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œå®ƒä»¬éƒ½åœ¨resourcesç›®å½•ä¸‹ï¼š\npropertiesæ ¼å¼ï¼š\næ–‡ä»¶åä¸ºapplication.propertiesï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\n# ç«¯å£ server.port=81 # è®¿é—®è·¯å¾„ server.servlet.context-path=/ yamlæ ¼å¼ï¼š\næ–‡ä»¶åä¸ºapplication.ymlæˆ–application.yamlï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\nserver: # ç«¯å£ port: 80 servlet: # è®¿é—®è·¯å¾„ context-path: / yamlæ ¼å¼çš„é”®å€¼å¯¹ä¸­ï¼Œé”®åé¢çš„å†’å·åï¼ˆå€¼çš„å‰é¢ï¼‰ä¸€å®šè¦åŠ ç©ºæ ¼ã€‚\nSpringBootç¨‹åºçš„é…ç½®æ–‡ä»¶å¿…é¡»æ˜¯applicationï¼Œåªæ˜¯åç¼€åä¸åŒã€‚\nä»¥ä¸Šä¸‰ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥åŒæ—¶å­˜åœ¨ï¼Œå®ƒä»¬çš„ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¸ºï¼š\napplication.properties application.yml application.yaml Ideaå¯ä»¥å¿«é€Ÿåœ°ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š\nyaml è¯­æ³• å¤§å°å†™æ•æ„Ÿã€‚\nå±æ€§å±‚çº§å…³ç³»ä½¿ç”¨å¤šè¡Œæè¿°ï¼Œæ¯è¡Œç»“å°¾ä½¿ç”¨å†’å·ç»“æŸã€‚\nä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼ŒåŒå±‚çº§å·¦ä¾§å¯¹é½ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼ï¼ˆä¸å…è®¸ä½¿ç”¨Tabé”®ï¼‰ã€‚\nç©ºæ ¼çš„ä¸ªæ•°å¹¶ä¸é‡è¦ï¼Œåªè¦ä¿è¯åŒå±‚çº§çš„å·¦ä¾§å¯¹é½å³å¯ã€‚\nå±æ€§å€¼å‰é¢æ·»åŠ ç©ºæ ¼ï¼ˆå±æ€§åä¸å±æ€§å€¼ä¹‹é—´ä½¿ç”¨:+ç©ºæ ¼ä½œä¸ºåˆ†éš”ï¼‰ã€‚\n# è¡¨ç¤ºæ³¨é‡Šã€‚\næ•°æ®å‰é¢è¦åŠ ç©ºæ ¼ä¸å†’å·éš”å¼€ã€‚\næ•°ç»„æ•°æ®åœ¨æ•°æ®ä¹¦å†™ä½ç½®çš„ä¸‹æ–¹ä½¿ç”¨å‡å·ä½œä¸ºæ•°æ®å¼€å§‹ç¬¦å·ï¼Œæ¯è¡Œä¹¦å†™ä¸€ä¸ªæ•°æ®ï¼Œå‡å·ä¸æ•°æ®é—´ç©ºæ ¼åˆ†éš”ã€‚å¦‚ï¼š\nlist: - Java - Spring è¯»å–é…ç½®æ•°æ® ä½¿ç”¨@Value(\u0026quot;è¡¨è¾¾å¼\u0026quot;)å¯ä»¥ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œæ³¨è§£ä¸­ç”¨äºè¯»å–å±æ€§åå¼•ç”¨æ–¹å¼æ˜¯ï¼š${ä¸€çº§å±æ€§å.äºŒçº§å±æ€§åâ€¦â€¦}ã€‚å¦‚ï¼š\n@RestController public class MyController { @Value(\u0026#34;${server.port}\u0026#34;) private Integer port; @Value(\u0026#34;${list[0]}\u0026#34;) private String java; @GetMapping(\u0026#34;/config\u0026#34;) public String gerConfig() { return \u0026#34;port=\u0026#34; + this.port + \u0026#34;\\n\u0026#34; + this.java; } } SpringBootè¿˜å¯ä»¥ä½¿ç”¨ @Autowired æ³¨è§£æ³¨å…¥ Environment å¯¹è±¡çš„æ–¹å¼è¯»å–æ•°æ®ã€‚è¿™ç§æ–¹å¼ SpringBoot ä¼šå°†é…ç½®æ–‡ä»¶ä¸­æ‰€æœ‰çš„æ•°æ®å°è£…åˆ° Environment å¯¹è±¡ä¸­ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å“ªä¸ªæ•°æ®åªéœ€è¦é€šè¿‡è°ƒç”¨ Environment å¯¹è±¡çš„ getProperty(String name) æ–¹æ³•è·å–ã€‚å¦‚ï¼š\n@RestController public class MyController { @Autowired private Environment env; @GetMapping(\u0026#34;/config\u0026#34;) public String gerConfig() { return \u0026#34;port=\u0026#34; + env.getProperty(\u0026#34;server.port\u0026#34;); } } è‡ªå®šä¹‰å¯¹è±¡ SpringBootæä¾›äº†å°†é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®å°è£…åˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„å®ä½“ç±»å¯¹è±¡ä¸­çš„æ–¹å¼ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š\nåœ¨å®ä½“ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£ã€‚\nè¡¨ç¤ºå°†å®ä½“ç±» bean çš„åˆ›å»ºäº¤ç»™ Spring ç®¡ç†ã€‚\nä½¿ç”¨ @ConfigurationProperties æ³¨è§£è¡¨ç¤ºåŠ è½½é…ç½®æ–‡ä»¶ã€‚\nåœ¨è¯¥æ³¨è§£ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ prefix å±æ€§æŒ‡å®šåªåŠ è½½æŒ‡å®šé”®çš„æ•°æ®ã€‚\nåœ¨Controllerä¸­è¿›è¡Œæ³¨å…¥ã€‚\nExampleï¼š\næ·»åŠ ä¾èµ–ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-configuration-processor\u0026lt;/artifactId\u0026gt; \u0026lt;optional\u0026gt;true\u0026lt;/optional\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š\nmyconfig: name: SpringBoot port: 80 id: 666 å®ä½“ç±»ï¼š\n@Component @ConfigurationProperties(prefix = \u0026#34;myconfig\u0026#34;) public class MyConfig { private String name; private Integer id; private Integer port; // getter and setter... } Controllerï¼š\n@RestController public class MyController { @Autowired private MyConfig myConfig; @GetMapping(\u0026#34;/myconfig\u0026#34;) public MyConfig getMyConfig() { return this.myConfig; } } å¤šç¯å¢ƒé…ç½® ç”±äºå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒçš„é…ç½®éƒ½ä¸ç›¸åŒã€‚æ‰€ä»¥SpringBootç»™å¼€å‘è€…æä¾›äº†å¤šç¯å¢ƒçš„å¿«æ·é…ç½®ï¼Œéœ€è¦åˆ‡æ¢ç¯å¢ƒæ—¶åªéœ€è¦æ”¹ä¸€ä¸ªé…ç½®å³å¯ã€‚\nyamlæ ¼å¼ï¼š\n# å¼€å‘ spring: config: activate: # é…ç½®ç¯å¢ƒå on-profile: dev # spring.profiles é…ç½®å·²å¼ƒç”¨ server: port: 80 --- # ç”Ÿäº§ spring: config: activate: on-profile: pro #ç»™ç”Ÿäº§ç¯å¢ƒèµ·çš„åå­— server: port: 81 --- # æµ‹è¯• spring: config: activate: on-profile: test #ç»™æµ‹è¯•ç¯å¢ƒèµ·çš„åå­— server: port: 82 --- # è®¾ç½®å¯ç”¨çš„ç¯å¢ƒ spring: profiles: active: test #è¡¨ç¤ºä½¿ç”¨çš„æ˜¯å¼€å‘ç¯å¢ƒçš„é…ç½® propertiesæ ¼å¼ï¼š\nä½¿ç”¨å¤šæ–‡ä»¶æ–¹å¼ï¼Œæ–‡ä»¶åä»¥application-å¼€å¤´ã€‚å¦‚ï¼š\napplication-dev.propertiesï¼š\nserver.port=80 application-pro.propertiesï¼š\nserver.port=81 application-test.propertiesï¼š\nserver.port=82 SpringBootåªä¼šé»˜è®¤åŠ è½½åä¸º application.properties çš„é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨ application.properties é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¯ç”¨å“ªä¸ªé…ç½®æ–‡ä»¶ã€‚å¦‚ï¼š\nspring.profiles.active=pro SpringBootæä¾›äº†åœ¨è¿è¡Œjaræ—¶è®¾ç½®å¼€å¯æŒ‡å®šçš„ç¯å¢ƒçš„æ–¹å¼ã€‚å¦‚ï¼š\njava â€“jar springbootdemo.jar â€“-spring.profiles.active=test ä¸´æ—¶ä¿®æ”¹ç«¯å£å·ï¼š\njava â€“jar springbootdemo.jar â€“-server.port=88 å‘½ä»¤è¡Œè®¾ç½®çš„ç«¯å£å·ä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶ã€‚ SpringBootå®˜ç½‘å·²ç»å¯¹é…ç½®çš„ä¼˜å…ˆçº§è¿›è¡Œäº†è¯´æ˜ï¼š é…ç½®æ–‡ä»¶åˆ†ç±» SpringBootå®šä¹‰äº†é…ç½®æ–‡ä»¶ä¸åŒçš„æ”¾ç½®çš„ä½ç½®ã€‚è€Œæ”¾åœ¨ä¸åŒä½ç½®çš„ä¼˜å…ˆçº§æ˜¯ä¸åŒçš„ã€‚SpringBootä¸­4çº§é…ç½®æ–‡ä»¶æ”¾ç½®ä½ç½®ï¼š\nclasspathï¼šapplication.yml classpathï¼šconfig/application.yml fileï¼šapplication.yml fileï¼šconfig/application.yml çº§åˆ«è¶Šé«˜ä¼˜å…ˆçº§è¶Šé«˜ã€‚\nç¬¬ä¸‰æ–¹èµ„æºæ•´åˆ æ•´åˆ Junit SpringBootæ•´åˆäº†Junitå¹¶å¯å°†å…¶ä½œä¸ºèµ·æ­¥ä¾èµ–æ•´åˆåˆ°é¡¹ç›®ä¸­ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-boot-starter-test\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; SpringBootæ•´åˆJunitåˆ†ä¸ºä¸‰æ­¥ï¼š\nåœ¨æµ‹è¯•ç±»ä¸Šæ·»åŠ  @SpringBootTest æ³¨è§£ã€‚ ä½¿ç”¨ @Autowired æ³¨å…¥è¦æµ‹è¯•çš„èµ„æºã€‚ å®šä¹‰æµ‹è¯•æ–¹æ³•è¿›è¡Œæµ‹è¯•ã€‚ Exampleï¼š\nç¼–å†™Serviceï¼š\n@Service public class BookService { public void save() { System.out.println(\u0026#34;Book save ...\u0026#34;); } } æµ‹è¯•BookServiceï¼š\n@SpringBootTest class SpringbootDemoApplicationTests { @Autowired private BookService bookService; @Test public void testSave() { bookService.save(); } } ç”±äºå¼•å¯¼ç±»é»˜è®¤æ‰«æå½“å‰åŒ…ä¸‹çš„ç±»å’ŒåŒ…ï¼Œæ‰€ä»¥æµ‹è¯•ç±»ï¼ˆæˆ–è€…æµ‹è¯•ç±»çš„åŒ…ï¼‰å’Œå¼•å¯¼ç±»è¦åœ¨åŒä¸ªåŒ…ä¸‹ã€‚\nå¦åˆ™ï¼Œå¯ä»¥ä½¿ç”¨@SpringBootTestæ³¨è§£çš„classeså±æ€§æŒ‡å®šå¼•å¯¼ç±»çš„å­—èŠ‚ç å¯¹è±¡ã€‚å¦‚ï¼š@SpringBootTest(classes = {SpringbootDemoApplication.class})\næ•´åˆ MyBatis åœ¨æ•´åˆMyBatiså‰å…ˆå»ºä¸€ä¸ªç”¨äºæµ‹è¯•çš„æ•°æ®åº“ï¼š\nSET NAMES utf8mb4; SET FOREIGN_KEY_CHECKS = 0; -- Table structure for book_tb DROP TABLE IF EXISTS `book_tb`; CREATE TABLE `book_tb` ( `id` int NOT NULL, `name` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_bin NOT NULL, PRIMARY KEY (`id`) USING BTREE ) ENGINE = InnoDB CHARACTER SET = utf8mb3 COLLATE = utf8mb3_bin ROW_FORMAT = Dynamic; -- Records of book_tb INSERT INTO `book_tb` VALUES (1, \u0026#39;éƒ‘å˜‰ä¼¦\u0026#39;); INSERT INTO `book_tb` VALUES (2, \u0026#39;é’±ç’\u0026#39;); INSERT INTO `book_tb` VALUES (3, \u0026#39;é»„å®‰çª\u0026#39;); INSERT INTO `book_tb` VALUES (4, \u0026#39;é¾™å®‡å®\u0026#39;); INSERT INTO `book_tb` VALUES (5, \u0026#39;å§œå®‡å®\u0026#39;); INSERT INTO `book_tb` VALUES (6, \u0026#39;èµµå˜‰ä¼¦\u0026#39;); SET FOREIGN_KEY_CHECKS = 1; å¯¼å…¥ä¾èµ–ï¼š\nåœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œé€šè¿‡Spring Initializrå¯¼å…¥ä¾èµ–ï¼š åœ¨pom.xmlä¸­å¯¼å…¥åæ ‡ï¼š \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis.spring.boot\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring-boot-starter\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-j\u0026lt;/artifactId\u0026gt; \u0026lt;scope\u0026gt;runtime\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; ç¼–å†™æ•°æ®åº“é…ç½®ï¼š\nspring: datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/spring_db username: root password: 123456 SpringBootç‰ˆæœ¬ä½äº2.4.3ï¼ˆä¸å«ï¼‰ï¼ŒMysqlé©±åŠ¨ç‰ˆæœ¬å¤§äº8.0æ—¶ï¼Œéœ€è¦åœ¨urlè¿æ¥ä¸²ä¸­é…ç½®æ—¶åŒº jdbc:mysql://localhost:3306/spring_db?serverTimezone=UTCï¼Œæˆ–åœ¨MySQLæ•°æ®åº“ç«¯é…ç½®æ—¶åŒºè§£å†³æ­¤é—®é¢˜ã€‚\nå®šä¹‰å®ä½“ç±»ï¼š\npublic class Book { private Integer id; private String name; // getterã€setter and toString } å®šä¹‰DAOæ¥å£ï¼š\n@Mapper // SpringBootå®šä¹‰DAOæ¥å£ç±» public interface BookDao { @Select(\u0026#34;SELECT * FROM book_tb WHERE id = #{id}\u0026#34;) public Book getById(Integer id); } å®šä¹‰Testç±»ï¼š\n@SpringBootTest class SpringbootMybatisApplicationTests { @Autowired private BookDao bookDao; @Test public void testGetById() { Book book = bookDao.getById(1); System.out.println(book); } } ä½¿ç”¨ Druid æ•°æ®æº SpringBootæœ‰é»˜è®¤çš„æ•°æ®æºï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æŒ‡å®šä½¿ç”¨Druidæ•°æ®æºã€‚\nå¯¼å…¥Druidä¾èµ–ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.16\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨application.ymlé…ç½®æ–‡ä»¶é…ç½®ï¼š\nspring: datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/spring_db?serverTimezone=UTC username: root password: 123456 type: com.alibaba.druid.pool.DruidDataSource ","date":"2023å¹´2æœˆ20æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springboot/base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Spring","url":"/tags/spring/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringBoot","url":"/tags/springboot/"}],"timestamp":1676851200,"title":"SpringBoot åŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç®€ä»‹ SpringMVCæ˜¯Springä¸‹çš„ä¸€ä¸ªç”¨äºWebè¡¨ç°å±‚å¼€å‘çš„æŠ€æœ¯ã€‚ç›¸æ¯”Servletï¼ŒSpringMVCæ›´åŠ é«˜æ•ˆå¿«æ·ã€‚\nSpringMVCæµç¨‹å¦‚ä¸‹ï¼š\næµè§ˆå™¨å‘é€è¯·æ±‚åˆ°TomcatæœåŠ¡å™¨ï¼› Tomcatæ¥æ”¶è¯·æ±‚åï¼Œå°†è¯·æ±‚äº¤ç»™SpringMVCä¸­çš„DispatcherServletï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰æ¥å¤„ç†ã€‚ DispatcherServletæŒ‰ç…§å¯¹åº”è§„åˆ™å°†è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„Beanã€‚ Beanç”±æˆ‘ä»¬è‡ªå·±ç¼–å†™æ¥å¤„ç†ä¸åŒçš„è¯·æ±‚ã€‚ æ¯ä¸ªBeanä¸­å¯ä»¥å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒçš„è¯·æ±‚ URLã€‚ DispatcherServletå’ŒBeanå¯¹è±¡éƒ½éœ€è¦äº¤ç»™Springå®¹å™¨æ¥è¿›è¡Œç®¡ç†ã€‚\nç»¼ä¸Šï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™çš„å†…å®¹ä¸ºï¼š\nBeanå¯¹è±¡ï¼›\nè¯·æ±‚URLå’ŒBeanå¯¹è±¡å¯¹åº”å…³ç³»çš„é…ç½®ï¼›\næ„å»ºSpringå®¹å™¨ã€‚\nå°†DispatcherServletå’ŒBeanå¯¹è±¡äº¤ç»™å®¹å™¨ç®¡ç†ã€‚\né…ç½®TomcatæœåŠ¡å™¨ã€‚\nä½¿Tomcatèƒ½å¤Ÿè¯†åˆ«Springå®¹å™¨ï¼Œå¹¶å°†è¯·æ±‚äº¤ç»™å®¹å™¨ä¸­çš„DispatcherServletæ¥åˆ†å‘è¯·æ±‚ã€‚\né¡¹ç›®çš„åŸºæœ¬å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºWebå·¥ç¨‹ï¼ˆMavenç»“æ„ï¼‰ï¼Œå¹¶åœ¨å·¥ç¨‹çš„pom.xmlä¸­æ·»åŠ SpringMVCå’ŒServletåæ ‡ã€‚ åˆ›å»ºSpringMVCæ§åˆ¶å™¨ç±»ï¼ˆç­‰åŒäºServletåŠŸèƒ½ï¼‰ã€‚ åˆå§‹åŒ–SpringMVCç¯å¢ƒï¼ˆåŒSpringç¯å¢ƒï¼‰ï¼Œè®¾å®šSpringMVCåŠ è½½å¯¹åº”çš„Beanã€‚ åˆå§‹åŒ–Servletå®¹å™¨ï¼ŒåŠ è½½SpringMVCç¯å¢ƒï¼Œå¹¶è®¾ç½®SpringMVCæŠ€æœ¯å¤„ç†çš„è¯·æ±‚ã€‚ Spring MVC å·¥ä½œæµç¨‹ SpringMVCçš„ä½¿ç”¨è¿‡ç¨‹å…±åˆ†ä¸¤ä¸ªé˜¶æ®µï¼š\nå¯åŠ¨æœåŠ¡å™¨åˆå§‹åŒ–è¿‡ç¨‹ï¼›\næœåŠ¡å™¨å¯åŠ¨ï¼Œæ‰§è¡ŒServletConfigç±»ï¼Œåˆå§‹åŒ–Webå®¹å™¨ã€‚\næ ¹æ®getServletConfigClassesè·å–æ‰€éœ€çš„SpringMVCé…ç½®ç±»ï¼ˆè¿™é‡Œæ˜¯SpringMvcConfigï¼‰æ¥åˆå§‹åŒ–SpringMVCçš„å®¹å™¨ã€‚\nåŠ è½½SpringMvcConfigé…ç½®ç±»ã€‚\næ‰§è¡Œ@ComponentScanåŠ è½½å¯¹åº”çš„Beanã€‚\næ‰«ææŒ‡å®šåŒ…ä¸‹æ‰€æœ‰ç±»ä¸Šçš„æ³¨è§£ï¼Œå°†æ‰€æœ‰çš„Controllerç±»ï¼ˆå¦‚æœ‰@Controllerã€@RestControllerç­‰æ³¨è§£çš„ç±»ï¼‰åŠ è½½åˆ°å®¹å™¨ä¸­ã€‚\nåŠ è½½æ¯ä¸€ä¸ªControlerã€‚\nä½¿ç”¨@RequestMappingå»ºç«‹è¯·æ±‚è·¯å¾„ä¸Controlerä¸­çš„æ–¹æ³•çš„å¯¹åº”å…³ç³»ã€‚\næ‰§è¡ŒgetServletMappingsæ–¹æ³•ï¼Œå®šä¹‰æ‰€æœ‰çš„è¯·æ±‚éƒ½é€šè¿‡SpringMVCã€‚å¦‚ï¼š\nprotected Spring[] getServletMappings() { return new Spring[]{\u0026#34;/\u0026#34;}; } /ä»£è¡¨æ‰€æ‹¦æˆªè¯·æ±‚çš„è·¯å¾„è§„åˆ™ï¼Œåªæœ‰è¢«æ‹¦æˆªåæ‰èƒ½äº¤ç»™SpringMVCæ¥å¤„ç†è¯·æ±‚ã€‚\nå•æ¬¡è¯·æ±‚è¿‡ç¨‹ã€‚\næ ¹æ®è¯·æ±‚è·¯å¾„å‘é€è¯·æ±‚ã€‚ Webå®¹å™¨å°†ç¬¦åˆè®¾ç½®çš„è¯·æ±‚è·¯å¾„çš„è¯·æ±‚äº¤ç»™SpringMVCå¤„ç†ã€‚ è§£æè¯·æ±‚è·¯å¾„ã€‚ æ‰§è¡ŒåŒ¹é…å¯¹åº”è¯·æ±‚è·¯å¾„çš„æ–¹æ³•ã€‚ å°†æœ‰@ResponseBodyæ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºå“åº”ä½“è¿”å›ç»™è¯·æ±‚æ–¹ã€‚ é¡¹ç›®ç¯å¢ƒåŠç»“æ„ é¡¹ç›®ç»“æ„ ä½¿ç”¨SpringMVCå¼€å‘çš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š\nğŸ“project-file-name ğŸ“src ğŸ“main ğŸ“java ğŸ“com.linner ğŸ“config â€”â€” é…ç½®ç±» ğŸ“controller â€”â€” è¡¨ç°å±‚ ğŸ“dao â€”â€” æŒä¹…å±‚ ğŸ“domain â€”â€” å®ä½“ç±» ğŸ“service â€”â€” ä¸šåŠ¡å±‚ ğŸ“resourcs ğŸ“webapp è¿™ç§é¡¹ç›®ç»“æ„é‡‡ç”¨äº†SSMæ¶æ„ï¼Œå³ï¼š\nè¡¨ç°å±‚ï¼› æŒä¹…å±‚ï¼› ä¸šåŠ¡å±‚ã€‚ é€šè¿‡IDEAåˆ›å»ºSpringMVCé¡¹ç›®æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºåŸºç¡€çš„Maven-Archetype-Webappé¡¹ç›®ã€‚\nè¡¥å…¨é¡¹ç›®ç»“æ„ï¼š\nğŸ“src ğŸ“main ğŸ“java ğŸ“resourcs ğŸ“webapp ä¿®æ”¹pom.xmlæ–‡ä»¶ï¼š\nå°†å¤šä½™çš„å†…å®¹åˆ é™¤ï¼Œç„¶åæ·»åŠ SpringMVCæ‰€éœ€çš„ä¾èµ–ã€‚å¦‚ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;groupId\u0026gt;com.linner\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;springmvc-demo\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.0-SNAPSHOT\u0026lt;/version\u0026gt; \u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;project.build.sourceEncoding\u0026gt;UTF-8\u0026lt;/project.build.sourceEncoding\u0026gt; \u0026lt;maven.compiler.source\u0026gt;1.8\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;1.8\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; \u0026lt;/project\u0026gt; åŸºç¡€ç¯å¢ƒ Tomcat7 Mavenæ’ä»¶ï¼š\n\u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.tomcat.maven\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tomcat7-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;port\u0026gt;80\u0026lt;/port\u0026gt; \u0026lt;path\u0026gt;/\u0026lt;/path\u0026gt; \u0026lt;uriEncoding\u0026gt;UTF-8\u0026lt;/uriEncoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; åŸºç¡€ä¾èµ–ï¼š\n\u0026lt;!-- Servlet --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1.0\u0026lt;/version\u0026gt; \u0026lt;!-- Servletéœ€è¦ä¿®æ”¹ä½œç”¨èŒƒå›´ï¼Œå¦åˆ™ä¼šä¸Tomcatä¸­çš„servlet-apiåŒ…å‘ç”Ÿå†²çª --\u0026gt; \u0026lt;!-- providedä»£è¡¨çš„æ˜¯è¯¥åŒ…åªåœ¨ç¼–è¯‘å’Œæµ‹è¯•çš„æ—¶å€™ç”¨ --\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- SpringMVC --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-webmvc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; DAO ç›¸å…³ä¾èµ–ç¯å¢ƒ ä½¿ç”¨SpringMVCæ„å»ºWebé¡¹ç›®ï¼Œé™¤äº†ä»¥ä¸ŠåŸºç¡€é…ç½®å¤–ï¼Œè¿˜éœ€è¦å¯¼å…¥å…¶ä»–é…ç½®ã€‚\nDAOç›¸å…³çš„åæ ‡ï¼š\n\u0026lt;!-- Spring JDBC --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-jdbc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MySQL --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.47\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MyBatis --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- MyBatis Springä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- Druid æ•°æ®åº“è¿æ¥æ±  --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.1.16\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å…¶å®ƒä¾èµ–ç¯å¢ƒ \u0026lt;!-- Jackson --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.core\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-databind\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.9.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- æ—¥å¿— --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;ch.qos.logback\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;logback-classic\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.3\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- Thymeleafï¼ˆä¸å¸¸ç”¨ï¼‰ --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.thymeleaf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;thymeleaf-spring5\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.0.12.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- æ–‡ä»¶ä¸Šä¼ ä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;commons-fileupload\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-fileupload\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- Test --\u0026gt; \u0026lt;!-- Junit å•å…ƒæµ‹è¯• --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.8.1\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; é…ç½® é…ç½®SpringMVCæœ‰ä¸¤ç§æ–¹å¼ï¼š\nweb.xmlé…ç½®æ–‡ä»¶ é…ç½®ç±» é…ç½®æ–‡ä»¶æ–¹å¼ åœ¨web.xmlä¸­æ³¨å†ŒSpringMVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼š\n\u0026lt;!DOCTYPE web-app PUBLIC \u0026#34;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\u0026#34; \u0026#34;http://java.sun.com/dtd/web-app_2_3.dtd\u0026#34; \u0026gt; \u0026lt;web-app\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;servlet-name\u0026gt;springMVC\u0026lt;/servlet-name\u0026gt; \u0026lt;!-- æŒ‡å®šSpringMVCå‰ç«¯æ§åˆ¶å™¨ï¼š --\u0026gt; \u0026lt;servlet-class\u0026gt;org.springframework.web.servlet.DispatcherServlet\u0026lt;/servlet-class\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;servlet-mapping\u0026gt; \u0026lt;servlet-name\u0026gt;springMVC\u0026lt;/servlet-name\u0026gt; \u0026lt;!-- é…å¯¹è·¯å¾„ / è¡¨ç¤ºå¤„ç†æ‰€æœ‰ä¸åŒ…æ‹¬.jspçš„è¯·æ±‚ å› ä¸º.jspæœ‰è‡ªå·±çš„servletï¼Œå¦‚æœåœ¨DispatcherServletä¸­å¤„ç†.jspï¼Œä¼šå¯¼è‡´æ‰¾ä¸åˆ°ç›¸åº”é¡µé¢ï¼Œä»è€Œå¯¼è‡´æ¸²æŸ“å¤±è´¥ --\u0026gt; \u0026lt;url-pattern\u0026gt;/\u0026lt;/url-pattern\u0026gt; \u0026lt;/servlet-mapping\u0026gt; \u0026lt;/webapp\u0026gt; \u0026lt;url-pattern\u0026gt;ï¼š\n/ï¼šè¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸åŒ…æ‹¬.jspçš„è¯·æ±‚ï¼› /*ï¼šèƒ½å¤ŸåŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼ŒåŒ…æ‹¬.jspã€‚ æ‰©å±•é…ç½®ï¼š\nweb.xmlä¸­çš„é…ç½®è¿˜å¯ä»¥å®šä¹‰åœ¨å…¶å®ƒæ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚åœ¨resoureceä¸‹åˆ›å»ºæ–°çš„é…ç½®æ–‡ä»¶springMVC.xmlã€‚ç„¶ååœ¨web.xmlæ·»åŠ æ–°é…ç½®ï¼š\n\u0026lt;!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ å¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚ç»Ÿä¸€è¿›è¡Œå¤„ç† --\u0026gt; \u0026lt;webapp\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;servlet-name\u0026gt;springMVC\u0026lt;/servlet-name\u0026gt; \u0026lt;servlet-class\u0026gt;org.springframework.web.servlet.DispatcherServlet\u0026lt;/servlet-class\u0026gt; \u0026lt;!-- é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§° --\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;!-- contextConfigLocationä¸ºå›ºå®šå€¼ --\u0026gt; \u0026lt;param-name\u0026gt;contextConfigLocation\u0026lt;/param-name\u0026gt; \u0026lt;!-- ä½¿ç”¨ classpath: è¡¨ç¤ºä»ç±»è·¯å¾„æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚mavenå·¥ç¨‹ä¸­çš„src/main/resources --\u0026gt; \u0026lt;param-value\u0026gt;classpath:springMVC.xml\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;!-- å°†å¯åŠ¨æ§åˆ¶DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼š --\u0026gt; \u0026lt;load-on-startup\u0026gt;1\u0026lt;/load-on-startup\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/webapp\u0026gt; åœ¨springMVC.xmlä¸­é…ç½®ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:mvc=\u0026#34;http://www.springframework.org/schema/mvc\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\u0026#34;\u0026gt; \u0026lt;!-- è‡ªåŠ¨æ‰«æåŒ… --\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.linner.controller\u0026#34;/\u0026gt; \u0026lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ï¼ˆä¸å¸¸ç”¨ï¼‰ --\u0026gt; \u0026lt;bean id=\u0026#34;viewResolver\u0026#34; class=\u0026#34;org.thymeleaf.spring5.view.ThymeleafViewResolver\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;order\u0026#34; value=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;!-- è®¾ç½®ç¼–ç ï¼Œå°†ç¼–ç éƒ½è½¬ä¸º UTF-8 --\u0026gt; \u0026lt;property name=\u0026#34;characterEncoding\u0026#34; value=\u0026#34;UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;templateEngine\u0026#34;\u0026gt; \u0026lt;bean class=\u0026#34;org.thymeleaf.spring5.SpringTemplateEngine\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;templateResolver\u0026#34;\u0026gt; \u0026lt;bean class=\u0026#34;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\u0026#34;\u0026gt; \u0026lt;!-- è§†å›¾å‰ç¼€ --\u0026gt; \u0026lt;property name=\u0026#34;prefix\u0026#34; value=\u0026#34;/WEB-INF/templates/\u0026#34;/\u0026gt; \u0026lt;!-- è§†å›¾åç¼€ --\u0026gt; \u0026lt;property name=\u0026#34;suffix\u0026#34; value=\u0026#34;.html\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;templateMode\u0026#34; value=\u0026#34;HTML5\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;characterEncoding\u0026#34; value=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!-- é™æ€èµ„æºè®¿é—® --\u0026gt; \u0026lt;mvc:view-controller path=\u0026#34;/\u0026#34; view-name=\u0026#34;index\u0026#34; /\u0026gt; \u0026lt;!-- å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htmlã€jsã€cssã€jpg è‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—® æ­¤æ—¶å¿…é¡»è®¾ç½®\u0026lt;mvc:annotation-driven/\u0026gt;è§£å†³é—®é¢˜ --\u0026gt; \u0026lt;mvc:default-servlet-handler/\u0026gt; \u0026lt;!-- å¼€å¯mvcæ³¨è§£é©±åŠ¨ --\u0026gt; \u0026lt;mvc:annotation-driven\u0026gt; \u0026lt;mvc:message-converters\u0026gt; \u0026lt;!-- å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç  --\u0026gt; \u0026lt;bean class=\u0026#34;org.springframework.http.converter.StringHttpMessageConverter\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;defaultCharset\u0026#34; value=\u0026#34;UTF-8\u0026#34; /\u0026gt; \u0026lt;property name=\u0026#34;supportedMediaTypes\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;text/html\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;application/json\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/mvc:message-converters\u0026gt; \u0026lt;/mvc:annotation-driven\u0026gt; \u0026lt;/beans\u0026gt; åœ¨è§†å›¾è§£æå™¨ä¸­è®¾ç½®äº†è§†å›¾å‰ç¼€\u0026lt;property name=\u0026quot;prefix\u0026quot; ...\u0026gt;å’Œè§†å›¾åç¼€\u0026lt;property name=\u0026quot;suffix\u0026quot; ...\u0026gt;ï¼Œé‚£ä¹ˆåœ¨Controllerçš„æ–¹æ³•ä¸­ï¼Œæƒ³è¦è·³è½¬åˆ°è§†å›¾æ—¶ï¼Œåªéœ€è¿”å›å¯¹åº”çš„è§†å›¾æ–‡ä»¶åç§°ï¼Œå¹¶å»æ‰å…¶åç¼€ã€‚ä¾‹å¦‚è®¿é—®hello.htmlåªéœ€è¿”å›\u0026quot;hello\u0026quot;ï¼Œä½†hello.htmlå¿…é¡»è¦åœ¨å¯¹åº”çš„å‰ç¼€è·¯å¾„ä¸­ã€‚\nSpringMVCç¼–ç è¿‡æ»¤å™¨ï¼ˆå¿…é¡»åœ¨web.xmlä¸­è¿›è¡Œæ³¨å†Œï¼‰ï¼š\n\u0026lt;webapp\u0026gt; \u0026lt;!-- é…ç½® SpringMVC çš„ç¼–ç è¿‡æ»¤å™¨ --\u0026gt; \u0026lt;filter\u0026gt; \u0026lt;filter-name\u0026gt;CharacterEncodingFilter\u0026lt;/filter-name\u0026gt; \u0026lt;filter-class\u0026gt;org.springframework.web.filter.CharacterEncodingFilter\u0026lt;/filter-class\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;encoding\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;UTF-8\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;init-param\u0026gt; \u0026lt;param-name\u0026gt;forceResponseEncoding\u0026lt;/param-name\u0026gt; \u0026lt;param-value\u0026gt;true\u0026lt;/param-value\u0026gt; \u0026lt;/init-param\u0026gt; \u0026lt;/filter\u0026gt; \u0026lt;filter-mapping\u0026gt; \u0026lt;filter-name\u0026gt;CharacterEncodingFilter\u0026lt;/filter-name\u0026gt; \u0026lt;url-pattern\u0026gt;/*\u0026lt;/url-pattern\u0026gt; \u0026lt;/filter-mapping\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/webapp\u0026gt; SpringMVCä¸­å¤„ç†ç¼–ç çš„è¿‡æ»¤å™¨ä¸€å®šè¦é…ç½®åˆ°å…¶ä»–è¿‡æ»¤å™¨ä¹‹å‰ï¼Œå¦åˆ™æ— æ•ˆã€‚\né…ç½®ç±»æ–¹å¼ ä½¿ç”¨é…ç½®ç±»åˆ™æ— éœ€åœ¨webapp/WEB-INFä¸­æ·»åŠ web.xmlæ–‡ä»¶ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©æ·»åŠ ï¼‰ã€‚\nSpringMVCé¡¹ç›®è‡³å°‘éœ€è¦ServletConfigã€SpringConfigå’ŒSpringMvcConfigè¿™ä¸‰ä¸ªé…ç½®ç±»ã€‚\nServletConfigï¼šSpring MVCé¡¹ç›®åˆå§‹åŒ–ç±»ï¼Œä¹Ÿæ˜¯é¡¹ç›®çš„å…¥å£ï¼Œä½œç”¨ä¸web.xmlç±»ä¼¼ã€‚ SpringConfigï¼šæ§åˆ¶ä¸šåŠ¡ï¼ˆServiceï¼‰å’ŒåŠŸèƒ½ï¼ˆå¦‚DataSourceã€SqlSessionFactoryBeanã€ MapperScannerConfigurerç­‰ï¼‰ç›¸å…³çš„Beanã€‚ SpringMvcConfigï¼ˆWebConfigï¼‰ï¼šåŠ è½½è¡¨ç°å±‚Beanï¼ˆControllerï¼‰ã€‚ ServletConfigï¼ˆWebé¡¹ç›®å…¥å£é…ç½®ç±»ï¼‰ï¼š\npublic class ServletConfig extends AbstractAnnotationConfigDispatcherServletInitializer { /** * æŒ‡å®šSpringçš„é…ç½®ç±» */ @Override protected Class\u0026lt;?\u0026gt;[] getRootConfigClasses() { return new Class[]{SpringConfig.class}; } /** * æŒ‡å®šSpring MVCçš„é…ç½®ç±» */ @Override protected Class\u0026lt;?\u0026gt;[] getServletConfigClasses() { return new Class[]{SpringMvcConfig.class}; } /** * æŒ‡å®šDispatcherServletçš„æ˜ å°„è·¯å¾„ï¼Œå³url-pattern */ @Override protected String[] getServletMappings() { return new String[]{\u0026#34;/\u0026#34;}; } } ServletConfigæœ€é‡è¦çš„æ˜¯ç»§æ‰¿AbstractAnnotationConfigDispatcherServletInitializerè¿™ä¸ªç±»ï¼Œå¹¶ååˆ«é‡å†™å®ƒçš„ä¸‰ä¸ªæ–¹æ³•ã€‚\nåœ¨Servlet3.0ç¯å¢ƒä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾å®ç°javax.servlet.ServletContainerlnitializeræ¥å£çš„ç±»ï¼Œå¦‚æœæ‰¾åˆ°çš„è¯å°±ç”¨å®ƒæ¥é…ç½®Servletå®¹å™¨ã€‚\nSpringæä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œåä¸ºSpringServletContainerlnitializerï¼Œè¿™ä¸ªç±»åè¿‡æ¥åˆä¼šæŸ¥æ‰¾å®ç°WebApplicationInitializerçš„ç±»å¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™å®ƒä»¬æ¥å®Œæˆã€‚\nSpring3.2å¼•lå…¥äº†ä¸€ä¸ªä¾¿åˆ©çš„WebApplicationInitializeråŸºç¡€å®ç°ï¼Œåä¸ºAbstractAnnotationConfigDispatcherServletlnitializerï¼Œå½“æˆ‘ä»¬çš„ç±»æ‰©å±•äº†AbstractAnnotationConfigDispatcherServletInitializerï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ°Servlet3.Oå®¹å™¨çš„æ—¶å€™ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å‘ç°å®ƒï¼Œå¹¶ç”¨å®ƒæ¥é…ç½®Servletä¸Šä¸‹æ–‡ã€‚\nSpringConfigï¼ˆå¯åŠ¨TomcatæœåŠ¡å™¨æ—¶åŠ è½½Springé…ç½®ç±»ï¼‰ï¼š\n@Configuration @ComponentScan({\u0026#34;com.linner.service\u0026#34;}) @PropertySource(\u0026#34;classpath:jdbc.properties\u0026#34;) @Import({JdbcConfig.class, MyBatisConfig.class}) // å¼•å…¥å…¶å®ƒé…ç½® @EnableTransactionManagement // å¼€å¯äº‹åŠ¡ç®¡ç† public class SpringConfig { } Springéœ€è¦ç®¡ç†çš„æ˜¯serviceåŒ…å’ŒdaoåŒ…ã€‚ä½†daoåŒ…æœ€ç»ˆæ˜¯äº¤ç»™MapperScannerConfigurerå¯¹è±¡æ¥è¿›è¡Œæ‰«æå¤„ç†çš„ã€‚æ‰€ä»¥SpringConfigåªéœ€è¦æ‰«æåˆ°serviceåŒ…å³å¯ã€‚\næ¼”ç¤º@ComponentScançš„å¦ä¸€ç§ç”¨æ³•ï¼ˆæ’é™¤controlleråŒ…ä¸­çš„Beanï¼‰ï¼š\n@ComponentScan(value=\u0026#34;com.linner\u0026#34;, excludeFilters=@ComponentScan.Filter( type = FilterType.ANNOTATION, classes = Controller.class // æ’é™¤@Controllerå®šä¹‰çš„Bean ) ) ä¸Šé¢æ–¹æ³•æœ¬è´¨æ˜¯ä½¿ç”¨@ComponentScançš„excludeFilterså±æ€§è®¾ç½®è¿‡æ»¤è§„åˆ™ã€‚\ntypeï¼šè®¾ç½®æ’é™¤è§„åˆ™ã€‚ ANNOTATIONï¼šæŒ‰ç…§æ³¨è§£æ’é™¤ã€‚ ASSIGNABLE_TYPEï¼šæŒ‰ç…§æŒ‡å®šçš„ç±»å‹è¿‡æ»¤ã€‚ ASPECTJï¼šæŒ‰ç…§Aspectjè¡¨è¾¾å¼æ’é™¤ï¼ˆåŸºæœ¬ä¸Šä¸ä¼šç”¨ï¼‰ã€‚ REGEXï¼šæŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼æ’é™¤ã€‚ CUSTOMï¼šæŒ‰ç…§è‡ªå®šä¹‰è§„åˆ™æ’é™¤ã€‚ classesï¼šè®¾ç½®æ’é™¤çš„å…·ä½“æ³¨è§£ç±»ã€‚\nSpringMvcConfig\n@Configuration @ComponentScan({\u0026#34;com.linner.controller\u0026#34;}) @EnableWebMvc // MVCæ³¨è§£é©±åŠ¨ public class WebConfig implements WebMvcConfigurer { /** * ç›¸å½“äº default-servlet-handler */ @Override public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) { configurer.enable(); } /** * è§†å›¾æ§åˆ¶å™¨ view-controller */ @Override public void addViewControllers(ViewControllerRegistry registry) { registry.addViewController(\u0026#34;/hello\u0026#34;).setViewName(\u0026#34;hello\u0026#34;); } /** * æ–‡ä»¶ä¸Šä¼ è§£æå™¨ */ @Bean public MultipartResolver getMultipartResolver() { CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver(); return commonsMultipartResolver; } /** * å¼‚å¸¸å¤„ç†è§£æå™¨ */ @Override public void configureHandlerExceptionResolvers(List\u0026lt;HandlerExceptionResolver\u0026gt; exceptionResolvers) { SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver(); Properties prop = new Properties(); prop.setProperty(\u0026#34;java.lang.ArithmeticException\u0026#34;, \u0026#34;error\u0026#34;); exceptionResolver.setExceptionMappings(prop); // å¯ä»¥ä¸è®¾ç½®ï¼Œé»˜è®¤é”®å³ä¸º exception exceptionResolver.setExceptionAttribute(\u0026#34;exception\u0026#34;); exceptionResolvers.add(exceptionResolver); } /** * æ¨¡æ¿è§£æå™¨ */ @Bean public ITemplateResolver getTemplateResolver() { // è·å–å½“å‰çš„ WebApplicationContext WebApplicationContext webApplicationContext = ContextLoader.getCurrentWebApplicationContext(); // ä½¿ç”¨WebApplicationContextè·å–ServletContextï¼Œå¹¶æ„é€ ServletContextTemplateResolver ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver( webApplicationContext.getServletContext()); // è®¾ç½®è§†å›¾å‰ç¼€ templateResolver.setPrefix(\u0026#34;/WEB-INF/templates/\u0026#34;); // è®¾ç½®è§†å›¾åç¼€ templateResolver.setSuffix(\u0026#34;.html\u0026#34;); templateResolver.setCharacterEncoding(\u0026#34;UTF-8\u0026#34;); templateResolver.setTemplateMode(TemplateMode.HTML); return templateResolver; } /** * æ¨¡æ¿å¼•æ“ * @param templateResolver æ¨¡æ¿è§£æå™¨ï¼ˆè‡ªåŠ¨è£…é…ï¼Œ@Autowiredå¯å¿½ç•¥ä¸å†™ï¼‰ */ @Bean public SpringTemplateEngine getTemplateEngine(ITemplateResolver templateResolver) { SpringTemplateEngine templateEngine = new SpringTemplateEngine(); templateEngine.setTemplateResolver(templateResolver); return templateEngine; } /** * è®¾ç½®è§†å›¾è§£æå™¨ * @param templateEngine æ¨¡æ¿å¼•æ“ï¼ˆè‡ªåŠ¨è£…é…ï¼‰ */ @Bean public ViewResolver getViewResolver(SpringTemplateEngine templateEngine) { ThymeleafViewResolver viewResolver = new ThymeleafViewResolver(); viewResolver.setCharacterEncoding(\u0026#34;UTF-8\u0026#34;); viewResolver.setTemplateEngine(templateEngine); return viewResolver; } } å…³äºSpring MVCçš„é…ç½®ç±»ï¼Œé™¤äº†æ‰«æç»„ä»¶å’Œé…ç½®æ¨¡æ¿è§£æå™¨å¤–ï¼ŒSpringæä¾›äº†ä¸¤ç§æ–¹å¼æ¥é…ç½®ï¼Œä¸€ç§æ˜¯å®ç°WebMvcConfigureræ¥å£ï¼Œå¦ä¸€ç§æ˜¯ç»§æ‰¿WebMvcConfigurationSupportã€‚ç”±äºJava 8çš„æ¥å£ä¸­æä¾›äº†defaultå…³é”®å­—æ¥ä¿®é¥°æ¥å£æ–¹æ³•ï¼Œä½¿å¾—æ¥å£å¯ä»¥å­˜åœ¨é»˜è®¤çš„å®ç°ï¼Œæ‰€ä»¥ä½¿ç”¨WebMvcConfigureræ¥å£ä¹Ÿä¸å¿…å®ç°æ‰€æœ‰æ¥å£ã€‚è€Œåœ¨SpringBoot 2ä¸­ä½¿ç”¨WebMvcConfigurationSupportæœ‰å¯èƒ½ä¼šå¯¼è‡´SpringBootçš„è‡ªåŠ¨é…ç½®ä¸ç”Ÿæ•ˆï¼Œå¹¶ä¸”åœ¨Spring MVCä¸­ä½¿ç”¨WebMvcConfigurationSupportä¹Ÿå¯èƒ½å¯¼è‡´é…ç½®ç±»ä¸ç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘ä¸ªäººæ¨èä½¿ç”¨WebMvcConfigurerã€‚\nå¦‚æœä½ ä½¿ç”¨WebMvcConfigurationSupportåå‘ç°æ‹¦æˆªå™¨ç­‰é…ç½®ä¸ç”Ÿæ•ˆï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•å®ç°WebMvcConfigureræ¥å£æ¥è§£å†³é—®é¢˜ã€‚\nDAOç›¸å…³é…ç½®ç±»ï¼š\njdbc.propertiesï¼ˆæ•°æ®åº“é…ç½®ï¼Œæ”¾åœ¨é¡¹ç›®ä¸­resourcesç›®å½•ä¸‹ï¼‰ï¼š\njdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql:///spring_db?useSSL=false\u0026amp;characterEncoding=utf-8 jdbc.username=root jdbc.password=123456 JdbcConfigï¼š\npublic class JdbcConfig { @Value(\u0026#34;${jdbc.driver}\u0026#34;) private String driver; @Value(\u0026#34;${jdbc.url}\u0026#34;) private String url; @Value(\u0026#34;${jdbc.username}\u0026#34;) private String username; @Value(\u0026#34;${jdbc.password}\u0026#34;) private String password; @Bean public DataSource dataSource(){ DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(driver); dataSource.setUrl(url); dataSource.setUsername(username); dataSource.setPassword(password); return dataSource; } @Bean public PlatformTransactionManager transactionManager(DataSource dataSource){ DataSourceTransactionManager ds = new DataSourceTransactionManager(); ds.setDataSource(dataSource); return ds; } } MyBatisConfigï¼š\npublic class MyBatisConfig { @Bean public SqlSessionFactoryBean sqlSessionFactory(DataSource dataSource){ SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean(); factoryBean.setDataSource(dataSource); factoryBean.setTypeAliasesPackage(\u0026#34;com.linner.domain\u0026#34;); return factoryBean; } @Bean public MapperScannerConfigurer mapperScannerConfigurer(){ MapperScannerConfigurer msc = new MapperScannerConfigurer(); msc.setBasePackage(\u0026#34;com.linner.dao\u0026#34;); return msc; } } ä½¿ç”¨è¿‡æ»¤å™¨è½¬æ¢ç¼–ç  åœ¨ServletConfigä¸­é‡å†™AbstractAnnotationConfigDispatcherServletInitializerçš„getServletFilters()æ¥æ³¨å†Œè¿‡æ»¤å™¨ï¼š\n/** * æ³¨å†Œè¿‡æ»¤å™¨ */ @Override protected Filter[] getServletFilters() { // è®¾ç½®ç¼–ç ï¼Œå°†ç¼–ç éƒ½è½¬ä¸º UTF-8 CharacterEncodingFilter characterEncodingFilter = new CharacterEncodingFilter(); characterEncodingFilter.setEncoding(\u0026#34;UTF-8\u0026#34;); characterEncodingFilter.setForceEncoding(true); HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter(); return new Filter[]{characterEncodingFilter, hiddenHttpMethodFilter}; } è¯·æ±‚ä¸å“åº” SpringMVCæ˜¯Webå±‚çš„æ¡†æ¶ï¼Œä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶è¯·æ±‚ã€æ¥æ”¶æ•°æ®ã€å“åº”ç»“æœã€‚\nç¼–å†™Controlleråªéœ€è¦åœ¨Controllerç±»ä¸Šä½¿ç”¨@Controlleræ³¨è§£å³å¯ã€‚\nè¯·æ±‚æ˜ å°„ RequestMapping æ˜ å°„è¯·æ±‚è·¯å¾„ä½¿ç”¨@RequestMappingæ³¨è§£ã€‚æ³¨è§£ä¸­çš„ä½¿ç”¨valueå±æ€§æŒ‡å®šæ˜ å°„çš„è¯·æ±‚è·¯å¾„ï¼ˆç”±äºæ˜¯valueå±æ€§ï¼Œæ‰€ä»¥å½“æ³¨è§£ä¸­æ— éœ€æŒ‡å®šå…¶å®ƒå‚æ•°æ—¶ï¼Œå¯ä»¥çœç•¥ï¼‰ã€‚\n@RequestMappingå¯ä»¥åˆ†åˆ«ä½œç”¨åœ¨ç±»å’Œæ–¹æ³•ä¸Šï¼š\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { @RequestMapping(value = \u0026#34;/helloSpring\u0026#34;) @ResponseBody public String helloSpring() { return \u0026#34;Hello Spring!\u0026#34;; } @RequestMapping(\u0026#34;/helloWorld\u0026#34;) @ResponseBody public String helloWorld() { return \u0026#34;Hello World!\u0026#34;; } } æ–¹æ³•ä¸Šå®šä¹‰çš„@RequestMappingæ˜¯å…·ä½“çš„è¯·æ±‚æ–¹å¼ï¼ŒåŒ…æ‹¬è¯·æ±‚è·¯å¾„å’Œè¯·æ±‚æ–¹å¼ã€‚\nå³ï¼Œå¦‚æœåœ¨æ–¹æ³•ä¸Šä½¿ç”¨äº†@RequestMappingå¹¶ä¸”æ²¡æœ‰åœ¨ç±»ä¸Šä½¿ç”¨@RequestMappingï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„è¯·æ±‚è·¯å¾„å³ä¸ºæ–¹æ³•ä¸Š@RequestMappingä¸­çš„å€¼ã€‚\nç±»ä¸Šå®šä¹‰çš„@RequestMappingæ˜¯è¯·æ±‚ç›®å½•ã€‚\nå³ï¼Œå¦‚æœåœ¨æ–¹æ³•å’Œç±»ä¸Šå‡ä½¿ç”¨äº†@RequestMappingï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•çš„è¯·æ±‚è·¯å¾„éœ€è¦åŠ ä¸Šç±»@RequestMappingæ³¨è§£ä¸­å®šä¹‰çš„ç›®å½•ã€‚ä¾‹å¦‚ä¸Šæ–¹ä»£ç ä¸­çš„è¯·æ±‚è·¯å¾„ä¸º/user/helloSpringå’Œ/user/helloWorldã€‚\nvalueå±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥æŒ‡å®šå¤šä¸ªè¯·æ±‚è·¯å¾„ï¼š\n@RequestMapping({\u0026#34;hello\u0026#34;, \u0026#34;helloWorld\u0026#34;}) @RequestMappingé™¤äº†valueå±æ€§å¤–ï¼Œè¿˜æœ‰methodå±æ€§ã€‚methodå±æ€§æ˜¯ç”¨æ¥æŒ‡å®šè¯·æ±‚æ–¹å¼çš„ï¼Œå¦‚ï¼š@RequestMapping(method = RequestMethod.POST)ï¼ˆåŒ¹é…POSTè¯·æ±‚æ–¹å¼ï¼‰ã€‚\nåœ¨å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼ŒDispatcherServletä¼šé¦–å…ˆæ ¹æ®@RequestMappingè·å–å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•ã€‚\næ¥æ”¶ URL å‚æ•° æ¥æ”¶URLå‚æ•°ï¼ŒGETå’ŒPOSTè¯·æ±‚çš„ç¼–å†™æ–¹å¼ä¸€è‡´ã€‚\nå¦‚æœè¦ä½¿ç”¨ä¸åŒçš„æ–¹å¼æ¥æ”¶è¯·æ±‚ï¼Œå¯ä»¥ä¿®æ”¹@RequestMappingæ³¨è§£ï¼š\n@RequestMapping(value = \u0026#34;/save\u0026#34;, method = RequestMethod.GET) æ™®é€šå‚æ•° @Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { // ä½¿ç”¨ [http://localhost/user/hello?name=å¼ ä¸‰] è®¿é—® // è¿”å›å“åº”ä½“ Hello å¼ ä¸‰! @RequestMapping(\u0026#34;/hello\u0026#34;) @ResponseBody public String hello(String name) { return \u0026#34;Hello \u0026#34; + name + \u0026#34;!\u0026#34;; } // ä½¿ç”¨ [http://localhost/user/login?name=å¼ ä¸‰\u0026amp;password=abc] è®¿é—® // è¿”å›å“åº”ä½“ OKï¼Œç»ˆç«¯è¾“å‡º userName=å¼ ä¸‰; password=abc @RequestMapping(\u0026#34;/login\u0026#34;) @ResponseBody public String login(@RequestParam(\u0026#34;name\u0026#34;) String userName, String password) { System.out.println(\u0026#34;userName=\u0026#34; + userName + \u0026#34;; password=\u0026#34; + password); return \u0026#34;OK\u0026#34;; } } è¯·æ±‚å‚æ•°ï¼š\næ™®é€šå‚æ•°å³URLåœ°å€ä¼ å‚ã€‚\nå®šä¹‰ç›¸åŒçš„åœ°å€å‚æ•°åä¸æ–¹æ³•å½¢å‚å˜é‡åå³å¯æ¥æ”¶å‚æ•°ã€‚\nå¦‚æœæƒ³è¦å½¢å‚åä¸åœ°å€å‚æ•°åä¸åŒåˆ™å¯ä½¿ç”¨@RequestParamæ³¨è§£å®šä¹‰åœ°å€å‚æ•°åã€‚\nå¦‚æœæœ‰å¤šä¸ªè¯·æ±‚å‚æ•°åˆ™å®šä¹‰å¤šä¸ªæ–¹æ³•å‚æ•°ã€‚\nè¿”å›å€¼ï¼š\nè¿”å›å€¼ä½¿ç”¨@ResponseBodyæ³¨è§£åç›´æ¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨returnè¿”å›ã€‚è¿™é‡Œæ³¨è§£@ResponseBodyæ˜¯æŒ‡å°†è¿”å›å€¼ä½œä¸ºå“åº”ä½“ã€‚\nPOJOç±»å‹å‚æ•° ä½¿ç”¨POJOç±»å‹æ¥æ”¶å‚æ•°ï¼Œåªéœ€è¦è®©è¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒå³å¯ã€‚å¦‚æœæœ‰åµŒå¥—çš„POJOå‚æ•°ï¼Œè¯·æ±‚å‚æ•°åä¸å½¢å‚å¯¹è±¡å±æ€§åç›¸åŒï¼Œç„¶åæŒ‰ç…§å¯¹è±¡å±‚æ¬¡ç»“æ„å…³ç³»å³å¯æ¥æ”¶ã€‚\nå®šä¹‰ä¸€ä¸ªPOJOç±»ï¼š\npublic class Address { private String province; private String city; // setterã€getter and toString... } public class User { private Integer id; private String name; private String password; private Address address; // setterã€getter and toString... } Controllerï¼š\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { // è®¿é—® [http://localhost/user/login?id=123\u0026amp;password=abc\u0026amp;name=å¼ ä¸‰\u0026amp;address.province=å¹¿ä¸œ\u0026amp;address.city=å¹¿å·] // è¿”å›å“åº”ä½“ OKï¼Œç»ˆç«¯è¾“å‡º Login: User{id=123, name=\u0026#39;å¼ ä¸‰\u0026#39;, password=\u0026#39;abc\u0026#39;, address=Address{province=\u0026#39;å¹¿ä¸œ\u0026#39;, city=\u0026#39;å¹¿å·\u0026#39;}} @RequestMapping(\u0026#34;/login\u0026#34;) @ResponseBody public String login(User user) { System.out.println(\u0026#34;Login: \u0026#34; + user); return \u0026#34;OK\u0026#34;; } } æ•°ç»„ã€é›†åˆç±»å‹å‚æ•° æ¥æ”¶æ•°ç»„å‚æ•°åªéœ€è®©è¯·æ±‚å‚æ•°åä¸å½¢å‚åç›¸åŒä¸”è¯·æ±‚å‚æ•°ä¸ºå¤šä¸ªå³å¯ï¼ˆå½¢å‚ä¸ºæ•°ç»„ç±»å‹ï¼‰ã€‚\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { // è®¿é—® [http://localhost/user/setHobbies?id=123\u0026amp;hobbies=å”±æ­Œ,è·³èˆ,Rap,æ‰“ç¯®çƒ] // è¿”å›å“åº”ä½“ OKï¼Œç»ˆç«¯è¾“å‡º User 123\u0026#39;s hobbyies: [å”±æ­Œ, è·³èˆ, Rap, æ‰“ç¯®çƒ] @RequestMapping(\u0026#34;/setHobbies\u0026#34;) @ResponseBody public String setHobbies(Integer id, String[] hobbies) { System.out.println(\u0026#34;User \u0026#34; + id + \u0026#34;\u0026#39;s hobbies: \u0026#34; + Arrays.toString(hobbies)); return \u0026#34;OK\u0026#34;; } } ä½¿ç”¨é›†åˆç±»å‹å½¢å‚æ¥æ”¶å‚æ•°ï¼Œä½¿ç”¨æ–¹å¼ä¸æ•°ç»„ä¸åŒï¼ˆä¼šæŠ¥é”™ï¼‰ã€‚å› ä¸ºSpringMVCå°†Listçœ‹åšæ˜¯ä¸€ä¸ªPOJOå¯¹è±¡æ¥å¤„ç†ï¼Œå°†å…¶åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶å‡†å¤‡æŠŠå‰ç«¯çš„æ•°æ®å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œä½†æ˜¯Listæ˜¯ä¸€ä¸ªæ¥å£æ— æ³•åˆ›å»ºå¯¹è±¡ã€‚\nä½¿ç”¨é›†åˆç±»å‹å½¢å‚æ¥æ”¶å‚æ•°éœ€è¦ä½¿ç”¨@RequestParamç»‘å®šå‚æ•°å…³ç³»ã€‚\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { // è®¿é—®æ–¹å¼ä¸æ•°ç»„å½¢å¼ç›¸åŒï¼Œå“åº”ä½“ä¸ç»ˆç«¯è¾“å‡ºä¹Ÿç›¸åŒ @RequestMapping(\u0026#34;/setHobbies\u0026#34;) @ResponseBody public String setHobbies(Integer id, @RequestParam List\u0026lt;String\u0026gt; hobbies) { System.out.println(\u0026#34;User \u0026#34; + id + \u0026#34;\u0026#39;s hobbies: \u0026#34; + hobbies); return \u0026#34;OK\u0026#34;; } } æ—¥æœŸæ ¼å¼ ä½¿ç”¨@DateTimeFormatå¯ä»¥è®¾ç½®å‚æ•°çš„æ—¥æœŸæ ¼å¼ï¼Œå¦‚ï¼š\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { // URL: http://localhost/user/setBirthday?id=123\u0026amp;birthday=2023/1/1 18:23:40 @RequestMapping(\u0026#34;/setBirthday\u0026#34;) @ResponseBody public String setBirthday(Integer id, @DateTimeFormat(pattern = \u0026#34;yyyy/MM/dd HH:mm:ss\u0026#34;) Date birthday) { System.out.println(\u0026#34;User \u0026#34; + id + \u0026#34;\u0026#39;s birthday is \u0026#34; + birthday); return \u0026#34;OK\u0026#34;; } } JSON æ•°æ®å‚æ•° ä½¿ç”¨JSONä¼ è¾“éœ€è¦æ·»åŠ ç›¸åº”ä¾èµ–ã€‚SpringMVCé»˜è®¤ä½¿ç”¨çš„æ˜¯jacksonæ¥å¤„ç†jsonçš„è½¬æ¢ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.core\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-databind\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.9.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨é…ç½®ç±»ä¸­æ·»åŠ @EnableWebMvcæ³¨è§£æ¥å¼€å¯JSONæ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢ï¼š\n@Configuration @ComponentScan(\u0026#34;com.linner.controller\u0026#34;) @EnableWebMvc // å¼€å¯JSONæ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢ public class SpringMvcConfig { } ä½¿ç”¨JSONä¼ è¾“æ•°æ®åªéœ€è¦åœ¨å½¢å‚å‰æ·»åŠ @ResponseBodyæ³¨è§£æ¥å°†å¤–éƒ¨ä¼ é€’çš„JSONæ•°æ®æ˜ å°„åˆ°å½¢å‚åˆ°å¯¹è±¡ä¸­ï¼š\n@Controller @RequestMapping(\u0026#34;/user\u0026#34;) public class UserController { @RequestMapping(\u0026#34;/login\u0026#34;) @ResponseBody public String login(@RequestBody User user) { System.out.println(\u0026#34;Login: \u0026#34; + user); return \u0026#34;OK\u0026#34;; } @RequestMapping(\u0026#34;/setHobbies\u0026#34;) @ResponseBody public String setHobbies(Integer id, @RequestBody List\u0026lt;String\u0026gt; /* ä¹Ÿå¯ä»¥ä½¿ç”¨ String[] */ hobbies) { System.out.println(\u0026#34;User \u0026#34; + id + \u0026#34;\u0026#39;s hobbies: \u0026#34; + hobbies); return \u0026#34;OK\u0026#34;; } } login()ï¼š\nURLï¼šhttp://localhost/user/login\nJSONï¼š\n{ \u0026#34;id\u0026#34;: 123, \u0026#34;name\u0026#34;: \u0026#34;å¼ ä¸‰\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;123\u0026#34;, \u0026#34;address\u0026#34;: { \u0026#34;province\u0026#34;: \u0026#34;å¹¿ä¸œ\u0026#34;, \u0026#34;city\u0026#34;: \u0026#34;å¹¿å·\u0026#34; } } setHobbiesï¼š\nURLï¼šhttp://localhost/user/setHobbies2?id=123\nJSONï¼š\n[\u0026#34;å”±æ­Œ\u0026#34;, \u0026#34;è·³èˆ\u0026#34;, \u0026#34;Rap\u0026#34;, \u0026#34;æ‰“ç¯®çƒ\u0026#34;] å“åº” JSON æ•°æ® å“åº”JSONæ•°æ®éœ€è¦ä¾èµ–äº@ResponseBodyï¼ˆåœ¨Controllerä¸­ï¼‰å’Œ@EnableWebMvcï¼ˆåœ¨é…ç½®ç±»ä¸­ï¼‰æ³¨è§£ã€‚å°†è¿”å›å€¼è®¾ç½®ä¸ºå®ä½“ç±»å¯¹è±¡ï¼Œè®¾ç½®è¿”å›å€¼ç±»å‹ä¸ºå®ä½“ç±»ç±»å‹ï¼Œå³å¯å®ç°è¿”å›å¯¹åº”å¯¹è±¡çš„JSONæ•°æ®ï¼š\nå®ä½“ç±»ï¼š\npublic class Book { private Integer id; private String name; // constructorã€setterã€getter and toString ... } Controller:\n@Controller @RequestMapping(\u0026#34;/books\u0026#34;) public class BookController { @RequestMapping(\u0026#34;/search\u0026#34;) @ResponseBody public Book search(int id) { return new Book(id, \u0026#34;Hello SpringMVC\u0026#34;); } @RequestMapping(\u0026#34;/searchName\u0026#34;) @ResponseBody public List\u0026lt;Book\u0026gt; searchName(String name) { System.out.println(\u0026#34;Search the book \u0026#34; + name); List books = new ArrayList\u0026lt;Book\u0026gt;(); for (int i = 0; i \u0026lt; 5; i++) { books.add(new Book(i, name + Integer.toString(i))); } return books; } } searchName()ï¼š\nURLï¼šhttp://localhost/books/searchName?name=SpringMVC è¿”å›JOSNï¼š\n[ { \u0026#34;id\u0026#34;: 0, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC0\u0026#34; }, { \u0026#34;id\u0026#34;: 1, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC1\u0026#34; }, { \u0026#34;id\u0026#34;: 2, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC2\u0026#34; }, { \u0026#34;id\u0026#34;: 3, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC3\u0026#34; }, { \u0026#34;id\u0026#34;: 4, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC4\u0026#34; } ] search()ï¼š\nURLï¼šhttp://localhost/books/search?id=123 è¿”å›JSONï¼š\n{ \u0026#34;id\u0026#34;: 123, \u0026#34;name\u0026#34;: \u0026#34;SpringMVC\u0026#34; } Ant é£æ ¼è·¯å¾„ åœ¨Anté£æ ¼ä¸­ï¼Œå®šä¹‰äº†ä»¥ä¸‹å‡ ç§ç¬¦å·ï¼š\n?ï¼šè¡¨ç¤ºåŒ¹é…è¯·æ±‚èµ„æºç›®å½•ä¸­çš„ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ *ï¼šè¡¨ç¤ºåŒ¹é…è¯·æ±‚èµ„æºç›®å½•ä¸­çš„ä»»æ„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚ /**/ï¼šè¡¨ç¤ºåŒ¹é…è¯·æ±‚è·¯å¾„ä¸­ä»»æ„ä¸€å±‚æˆ–å¤šå±‚ç›®å½•ã€‚ä¾‹å¦‚/**/userå¯ä»¥åŒ¹é…/abc/userã€/abc/def/userç­‰ç­‰ã€‚ REST é£æ ¼ RESTï¼ˆRepresentational State Transferï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢ï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ã€‚RESTçš„ä¼˜ç‚¹æœ‰ï¼š\néšè—èµ„æºçš„è®¿é—®è¡Œä¸ºï¼Œæ— æ³•é€šè¿‡åœ°å€å¾—çŸ¥å¯¹èµ„æºæ˜¯ä½•ç§æ“ä½œã€‚ ç®€åŒ–ä¹¦å†™ã€‚ æŒ‰ç…§RESTé£æ ¼è®¿é—®èµ„æºæ—¶ä½¿ç”¨è¡Œä¸ºåŠ¨ä½œåŒºåˆ†å¯¹èµ„æºè¿›è¡Œäº†ä½•ç§æ“ä½œï¼š\nGETï¼šæŸ¥è¯¢ï¼› POSTï¼šæ–°å¢ã€‚ PUTï¼šä¿®æ”¹ã€‚ DELETEï¼šåˆ é™¤ã€‚ å¦‚ï¼š\nhttp://localhost/users â€”â€” GETï¼š\næŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·ä¿¡æ¯ï¼ˆæŸ¥è¯¢ï¼‰ã€‚\nhttp://localhost/users/1 â€”â€” GETï¼šæŸ¥è¯¢æŒ‡å®šç”¨æˆ·ï¼ˆidä¸º1ï¼‰ä¿¡æ¯ï¼ˆæŸ¥è¯¢ï¼‰ã€‚\nhttp://localhost/users â€”â€” POSTï¼šæ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼ˆæ–°å¢/ä¿å­˜ï¼‰ã€‚\nhttp://localhost/users â€”â€” PUTï¼šä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼ˆä¿®æ”¹/æ›´æ–°ï¼‰ã€‚\nhttp://localhost/users/1 â€”â€” DELETEï¼šåˆ é™¤ç”¨æˆ·ä¿¡æ¯ï¼ˆåˆ é™¤ï¼‰ã€‚\næè¿°æ¨¡å—çš„åç§°é€šå¸¸ä½¿ç”¨å¤æ•°ï¼Œè¡¨ç¤ºæ­¤ç±»èµ„æºï¼Œè€Œéå•ä¸ªèµ„æºã€‚\nExampleï¼š\n@Controller @RequestMapping(\u0026#34;/users\u0026#34;) public class UserController { /** * æ·»åŠ ç”¨æˆ· */ @RequestMapping(method = RequestMethod.POST) @ResponseBody public String save(@RequestBody User user) { return \u0026#34;OK\u0026#34;; } /** * åˆ é™¤ç”¨æˆ· */ @RequestMapping(value = \u0026#34;/{id}\u0026#34;, method = RequestMethod.DELETE) @ResponseBody public String delete(@PathVariable int id) { return \u0026#34;OK\u0026#34;; } /** * ä¿®æ”¹ç”¨æˆ· */ @RequestMapping(method = RequestMethod.PUT) @ResponseBody public String update(@RequestBody User user) { return \u0026#34;OK\u0026#34;; } /** * æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ */ @RequestMapping(value = \u0026#34;/{id}\u0026#34;, method = RequestMethod.GET) @ResponseBody public String searchById(@PathVariable int id) { return \u0026#34;OK\u0026#34;; } /** * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· */ @RequestMapping(method = RequestMethod.GET) @ResponseBody public String searchAll() { return \u0026#34;OK\u0026#34;; } } ä¸Šæ–¹Controllerä¸­æ¯ä¸ªæ–¹æ³•çš„@RequestMappingä¸­éƒ½ä½¿ç”¨äº†methodå…ƒç´ æ¥ç¡®å®šè¯·æ±‚æ–¹å¼ã€‚å¹¶ä¸”æ ¹æ®éœ€è¦save()å’Œupdate()éƒ½æ¥æ”¶ä¸€ä¸ªJSONæ•°æ®ã€‚\ndelete()å’ŒsearchById()éƒ½ä½¿ç”¨äº†è·¯å¾„å‚æ•°ï¼ˆvalue = \u0026quot;\\{id}\u0026quot;ï¼‰ã€‚æŒ‡å®šè·¯å¾„å‚æ•°åï¼Œéœ€è¦åœ¨æ–¹æ³•å‚æ•°åˆ—è¡¨ä¸­æ·»åŠ åç§°ç›¸åŒçš„å‚æ•°ï¼Œå¹¶ä¸”ç”¨@PathVariableæ³¨è§£ï¼ˆpublic String delete(@PathVariable int id)ï¼‰ã€‚\nè·¯å¾„å‚æ•°å¯ä»¥å®šä¹‰å¤šä¸ªï¼Œå¦‚ï¼š\n@RequestMapping(value = \u0026#34;/{id}/{name}\u0026#34;, method = RequestMethod.GET) @ResponseBody public String searchById(@PathVariable int id, @PathVariable String name) { return \u0026#34;OK\u0026#34;; } å¦‚æœæƒ³è¦è·¯å¾„å‚æ•°åä¸å½¢å‚åä¸åŒï¼Œéœ€è¦åœ¨@PathVariableä¸­æ³¨æ˜å¯¹åº”å…³ç³»ï¼Œå¦‚ï¼š\n@RequestMapping(value = \u0026#34;/{id}\u0026#34;, method = RequestMethod.DELETE) @ResponseBody public String delete(@PathVariable(\u0026#34;id\u0026#34;) int userId) { return \u0026#34;OK\u0026#34;; } RESTful å¿«é€Ÿå¼€å‘ ä½¿ç”¨@RestControlleræ³¨è§£ï¼š\nå°†@ResponseBodyæ³¨è§£æåˆ°ç±»ä¸Šï¼Œè®©æ‰€æœ‰çš„æ–¹æ³•éƒ½æœ‰@ResponseBodyçš„åŠŸèƒ½ã€‚ @RestControlleræ³¨è§£æ­£å¥½ç›¸å½“äº@ControlleråŠ ä¸Š@ResponseBodyçš„åŠŸèƒ½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨@RestControlleræ›¿ä»£å®ƒä»¬ã€‚\nä½¿ç”¨@GetMappingã€@PostMappingã€@PutMappingã€@DeleteMappingç­‰æ›¿ä»£@RequestMappingã€‚\nä¾‹å¦‚@GetMappingå°±ç›¸å½“äºRequestMapping(method = RequestMethod.GET)ã€‚\nExampleï¼š\n@RestController @RequestMapping(\u0026#34;/books\u0026#34;) public class BookController { /** * æœç´¢å…¨éƒ¨ä¹¦ç± */ @GetMapping public String getAll() { return \u0026#34;All Books\u0026#34;; } /** * æœç´¢å›¾ä¹¦ */ @GetMapping(\u0026#34;/{id}\u0026#34;) public String getById(@PathVariable int id) { return \u0026#34;Get by id \u0026#34; + id; } /** * ä¿å­˜å›¾ä¹¦ */ @PostMapping public String save(@RequestBody Book book) { return \u0026#34;Save \u0026#34; + book.toString(); } /** * ä¿®æ”¹å›¾ä¹¦ */ @PutMapping public String update(@RequestBody Book book) { return \u0026#34;Update \u0026#34; + book.toString(); } /** * åˆ é™¤å›¾ä¹¦ */ @DeleteMapping(\u0026#34;/{id}\u0026#34;) public String delete(@PathVariable int id) { return \u0026#34;Delete by id\u0026#34; + id; } } params è¯·æ±‚å‚æ•°æ˜ å°„åŒ¹é… paramsæ˜¯@RequestMappingä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å‚æ•°åŒ¹é…è¯·æ±‚æ˜ å°„ã€‚\nç”¨æ³•å¦‚ä¸‹ï¼š\n\u0026quot;param\u0026quot;ï¼šè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¿™ä¸ªè¯·æ±‚å‚æ•°ã€‚\nä¾‹å¦‚ï¼š\n@RequestMapping(value = {\u0026#34;login\u0026#34;}, params = \u0026#34;username\u0026#34;) è¯·æ±‚è·¯å¾„ç¤ºä¾‹ï¼š\nhttp://localhost/login?username=zhangsan \u0026quot;!param\u0026quot;ï¼šå¦å®šåŒ¹é…ï¼Œè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦paramè¯·æ±‚å‚æ•°ã€‚\nä¾‹å¦‚ï¼š\n@RequestMapping(value = {\u0026#34;login\u0026#34;}, params = \u0026#34;!username\u0026#34;) å¦‚æœè¯·æ±‚è·¯å¾„ä¸­åŒ…å«å‚æ•°usernameå°†ä¸ä¼šåŒ¹é…åˆ°è¯¥@RequestMappingã€‚\n\u0026quot;param=value\u0026quot;ï¼šç­‰å€¼åŒ¹é…ï¼Œè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ï¼Œä¸”paramå‚æ•°çš„å€¼å¿…é¡»ä¸ºvalueã€‚\nä¾‹å¦‚ï¼š\n@RequestMapping(value = {\u0026#34;login\u0026#34;}, params = \u0026#34;username=admin\u0026#34;) è¯·æ±‚è·¯å¾„ä¸ºï¼š\nhttp://localhost/login?username=admin \u0026quot;param!=value\u0026quot;ï¼šéå€¼åŒ¹é…ï¼Œè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦paramè¯·æ±‚å‚æ•°ï¼Œä½†paramçš„å€¼ä¸èƒ½ä¸ºvalueã€‚\nä¾‹å¦‚ï¼š\n@RequestMapping(value = {\u0026#34;login\u0026#34;}, params = \u0026#34;username!=admin\u0026#34;) å¦‚æœè¯·æ±‚è·¯å¾„æºå¸¦å‚æ•°usernameä¸”å€¼ä¸ºadminåˆ™åŒ¹é…å¤±è´¥ã€‚\n{expression1[, expression2[, ...]]}ï¼š\nparamsæ˜¯å­—ç¬¦ä¸²æ•°ç»„ç±»å‹ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªå‚æ•°è§„åˆ™ï¼Œå…¶ä¸­expressionå¯ä»¥æ˜¯ä»¥ä¸Šä»»ä½•ç±»å‹çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼ä¸­çš„ä»»ä½•ä¸€ç§ã€‚\nparamsåªå¯¹å…¶æŒ‡å®šçš„å‚æ•°æœ‰è¦æ±‚ï¼Œæ²¡æœ‰è¢«å…¶æŒ‡å®šçš„å‚æ•°å¹¶æ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚\nå¦‚æœè¯·æ±‚çš„è·¯å¾„å’Œæ–¹å¼éƒ½æ»¡è¶³@RequestMappingï¼Œä½†æ˜¯ä¸paramsæŒ‡å®šçš„è§„åˆ™ä¸ä»˜ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰å…¶å®ƒæ˜ å°„æ¥åŒ¹é…è¿™ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ç»™æµè§ˆå™¨400é”™è¯¯ã€‚\nheaders è¯·æ±‚å¤´åŒ¹é… headersæ˜¯@RequestMappingçš„å±æ€§ï¼Œå®ƒæŒ‡å®šè¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯åŒ¹é…è§„åˆ™ã€‚\nheadersçš„å­—ç¬¦ä¸²è¡¨è¾¾å¼è¯­æ³•ä¸paramsååˆ†ç›¸ä¼¼ï¼š\n\u0026quot;header\u0026quot;ï¼šè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ã€‚\n\u0026quot;!header\u0026quot;ï¼šè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ã€‚\n\u0026quot;header=value\u0026quot;ï¼šè¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header=valueã€‚\nè¯·æ±‚å¤´ä¸­ä½¿ç”¨çš„æ˜¯:åˆ†éš”å¼€çš„é”®å€¼å¯¹ï¼Œ:å·¦è¾¹æ˜¯é”®ï¼ˆå³ä¸Šè¿°ä¸­çš„headerï¼‰ï¼Œå³è¾¹æ˜¯å€¼ï¼ˆå³ä¸Šè¿°ä¸­çš„valueï¼‰ã€‚åªéœ€è¦å°†:æ›¿æ¢ä¸º=å³æ˜¯å¯¹åº”çš„headerså­—ç¬¦ä¸²è¡¨è¾¾å¼ã€‚\n\u0026quot;header!=value\u0026quot;ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦headerè¯·æ±‚å¤´ä¿¡æ¯ä¸”header!=valueã€‚\n{expression1[, expression2[, ...]]}ï¼šheaderså±æ€§åŒæ ·æ˜¯å­—ç¬¦ä¸²æ•°ç»„ç±»å‹ï¼Œå¯ä»¥åœ¨{}ä¸­ä½¿ç”¨ä¸Šè¿°ä»»ä½•è¡¨è¾¾å¼ã€‚\nå½“@RequestMappingå…¶å®ƒæ¡ä»¶éƒ½æ»¡è¶³ï¼Œé™¤äº†headersæ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›404é”™è¯¯ã€‚\nåŸŸå¯¹è±¡å…±äº«æ•°æ® requeståŸŸå¯¹è±¡å…±äº«æ•°æ®çš„å¸¸ç”¨æ–¹å¼å¤§è‡´æœ‰5ç§ï¼š\né€šè¿‡ServletAPIè·å–ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰ã€‚å³é€šè¿‡ServletRequestæˆ–HttpServletRequestå¯¹è±¡è·å–requeståŸŸã€‚ é€šè¿‡ModelAndViewè·å–ã€‚ é€šè¿‡Modelè·å–ã€‚ é€šè¿‡Map\u0026lt;String, Object\u0026gt;è·å–ã€‚ é€šè¿‡ModelMapè·å–ã€‚ ServletAPI è·å–requeståŸŸå¯¹è±¡å…±äº«æ•°æ®çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ServletAPIã€‚å³ï¼Œåœ¨Controllerå¯¹è±¡ä¸­çš„æ˜ å°„æ–¹æ³•ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªServletRequestæˆ–HttpServletRequestå¯¹è±¡å‚æ•°ã€‚\nä¾‹å¦‚ï¼š\n@RequestMapping(\u0026#34;/testServletAPI\u0026#34;) @ResponseBody public String testServletAPI(HttpServletRequest request) { request.setAttribute(\u0026#34;testScope\u0026#34;, \u0026#34;Hello ServletAPI!\u0026#34;); return testRequestScope; } è·å–responseä¹Ÿæ˜¯ç±»ä¼¼çš„æ–¹æ³•ã€‚åœ¨å‚æ•°åˆ—è¡¨ä¸­æŒ‡å®šä¸€ä¸ªServletResponseæˆ–HttpServletResponseå¯¹è±¡å‚æ•°ã€‚\nModel Modelæ˜¯SpringMVCæä¾›çš„ä¸“ç”¨äºå…±äº«requeståŸŸå¯¹è±¡æ•°æ®ã€‚\nä½¿ç”¨Modelçš„æ–¹å¼ä¸ä½¿ç”¨ServletAPIç±»ä¼¼ï¼Œåœ¨å½¢å‚åˆ—è¡¨ä¸­æŒ‡å®šä¸€ä¸ªModelç±»å‹çš„å‚æ•°å³å¯ã€‚\n@RequestMapping(\u0026#34;/testModel\u0026#34;) @ResponseBody public String testModel(Model model) { // å†™å…¥ model.addAttribute(\u0026#34;testRequestScope\u0026#34;, \u0026#34;Hello Model!\u0026#34;); // è¯»å– String testRequestScope = (String) model.getAttribute(\u0026#34;testRequestScope\u0026#34;); System.out.println(testRequestScope); return testRequestScope; } Map String Object ä½¿ç”¨Map\u0026lt;String, Object\u0026gt;å…±äº«requeståŸŸå¯¹è±¡æ•°æ®ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿæ˜¯åœ¨å½¢å‚åˆ—è¡¨ä¸­å®šä¹‰ä¸€ä¸ªMap\u0026lt;String, Object\u0026gt;ç±»å‹å½¢å‚ã€‚\n@RequestMapping(\u0026#34;/testMap\u0026#34;) @ResponseBody public String testMap(Map\u0026lt;String, Object\u0026gt; map) { // å†™å…¥ map.put(\u0026#34;testRequestScope\u0026#34;, \u0026#34;Hello Map!\u0026#34;); // è¯»å– String testRequestScope = (String) map.get(\u0026#34;testRequestScope\u0026#34;); System.out.println(testRequestScope); return testRequestScope; } ModelMap ModelMapçš„ç”¨æ³•ä¸Mapååˆ†ç±»ä¼¼ã€‚\n@RequestMapping(\u0026#34;/testModelMap\u0026#34;) @ResponseBody public String testModelMap(ModelMap modelMap) { // å†™å…¥ modelMap.addAttribute(\u0026#34;testRequestScope\u0026#34;, \u0026#34;Hello ModelMap!\u0026#34;); // è¯»å– String testRequestScope = (String) modelMap.getAttribute(\u0026#34;testRequestScope\u0026#34;); System.out.println(testRequestScope); return testRequestScope; } ModelAndView ModelAndViewæ˜¯SpringMVCæä¾›çš„ç”¨äºå…±äº«requeståŸŸå¯¹è±¡æ•°æ®å’Œè§†å›¾è§£æè·³è½¬çš„APIã€‚\né€šè¿‡ModelAndViewå…±äº«requeståŸŸæ•°æ®ï¼Œæ— éœ€åœ¨å½¢å‚ä¸­æŒ‡å®šè¯¥ç±»å‹å‚æ•°ï¼Œåªéœ€åœ¨æ–¹æ³•ä¸­newä¸€ä¸ªå³å¯ã€‚ä½†æ˜¯ä½¿ç”¨ModelAndViewéœ€è¦å°†è¯¥ç±»å‹å¯¹è±¡ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚\né™¤äº†ä½¿ç”¨åŸç”ŸServletAPIä¹‹å¤–ï¼Œä½¿ç”¨å…¶å®ƒæ–¹æ³•ï¼ˆå¦‚ä¸ŠMapã€Modelã€ModelMapç­‰ï¼‰å…±äº«requeståŸŸæ•°æ®ï¼Œæœ€ç»ˆSpringMVCéƒ½ä¼šå°†æ¨¡å‹æ•°æ®å’Œè§†å›¾å°è£…åˆ°ModelAndViewä¸­ã€‚\n@RequestMapping(\u0026#34;/testModelAndView\u0026#34;) public ModelAndView testModelAndView() { ModelAndView mav = new ModelAndView(); // å¤„ç†æ¨¡å‹æ•°æ®ï¼Œå³å‘è¯·æ±‚åŸŸrequestå…±äº«æ•°æ® mav.addObject(\u0026#34;testRequestScope\u0026#34;, \u0026#34;Hello ModelAndView!\u0026#34;); // è®¾ç½®è§†å›¾åç§°ï¼ˆè¿”å›è§†å›¾éœ€è¦æœ‰å¯¹åº”çš„é¡µé¢ï¼‰ mav.setViewName(\u0026#34;success\u0026#34;); // è¯»å–æ•°æ®ï¼ˆç¬¬ä¸€æ¬¡å†™å…¥åå¯èƒ½è¯»å–å¤±è´¥ï¼Œå› ä¸ºåªæœ‰åœ¨æ–¹æ³•æ‰§è¡Œå®Œæ¯•åæ‰èƒ½çœŸæ­£å†™å…¥ï¼‰ String testRequestScope = (String) mav.getModel().get(\u0026#34;testRequestScope\u0026#34;); System.out.println(testRequestScope); return mav; } success.htmlï¼ˆåœ¨Webapp/WEB-INF/templates/ä¸‹åˆ›å»ºï¼‰ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Success!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;Success!\u0026lt;/h1\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å…¶å®ModelAndViewä¹Ÿå¯ä»¥ä½œä¸ºControlleræ–¹æ³•çš„å‚æ•°ä½¿ç”¨ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ModelAndViewè®¾ç½®è§†å›¾å¯¹è±¡æ— è®ºæ˜¯å¦ä½¿ç”¨@ResponseBodyï¼Œè¿”å›çš„å§‹ç»ˆæ˜¯è§†å›¾ã€‚\nMapã€Model å’Œ ModelMap åœ¨ä½¿ç”¨Map\u0026lt;String, Object\u0026gt;ã€Modelå’ŒModelMapæ—¶SpringMVCä¼ å…¥çš„éƒ½æ˜¯BindingAwareModelMapç±»å‹å¯¹è±¡ã€‚\nModelæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒå®šä¹‰äº†addAllAttributes()ã€getAttribute()ç­‰æ¥å£æ–¹æ³•ã€‚\nModelMapç»§æ‰¿äº†LinkedHashMap\u0026lt;String, Object\u0026gt;ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯å±äºMapçš„å­ç±»ã€‚ModelMapç»™å‡ºäº†addAllAttributes()ã€getAttribute()ç­‰æ¥å£çš„å®ç°ã€‚\nBindingAwareModelMapç»§æ‰¿è‡ªExtendedModelMapç±»ï¼Œè€ŒExtendedModelMapåˆæ˜¯ModelMapçš„å­ç±»å’ŒModelæ¥å£çš„å®ç°ã€‚\npublic class ExtendedModelMap extends ModelMap implements Model { /* ... */ } BindingAwareModelMapé‡å†™äº†Mapçš„put()å’ŒputAll()ï¼Œä½¿å¾—å®ƒèƒ½ä½œä¸ºMapæ¥è¯»å†™requeståŸŸã€‚\nç»¼ä¸Šï¼ŒBindingAwareModelMapå¯ä»¥ä½œä¸ºModelã€Map\u0026lt;String, Object\u0026gt;å’ŒModelMapä¼ å…¥Controlleræ–¹æ³•ä¸­ã€‚\nåœ¨æµè§ˆå™¨å‘é€è¯·æ±‚åï¼Œå®é™…ä¸Šè°ƒç”¨Controllerä¸­å¯¹åº”æ–¹æ³•çš„æ˜¯DispatcherServletä¸­çš„doDispatch()ï¼š\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { /* ... */ try { ModelAndView mv = null; /* ... */ try { /* ... */ // Actually invoke the handler.ï¼ˆå®é™…çš„è¯·æ±‚å¤„ç†è€…ï¼‰ mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); // æœ€åè¿”å›ä¸€ä¸ªå°è£…å¥½çš„ModelAndViewå¯¹è±¡ /* ... */ } /* ... */ processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); }/* ... */ /* ... */ } é€šè¿‡æ–­ç‚¹è°ƒè¯•æœ€åå‘ç°ï¼Œæ— è®ºæ˜¯Mapã€Modelã€ModelMapè¿˜æ˜¯ModelAndViewï¼Œå®ƒä»¬æœ€åéƒ½ä¼šè¢«å°è£…ä¸ºModelAndViewï¼ˆå³ä½¿Controlleræ–¹æ³•è¿”å›çš„æ˜¯ModelAndViewï¼ŒControlleræ–¹æ³•ä¸­çš„ModelAndViewå’ŒDispatcherServletå¯¹è±¡çš„doDispatch()ä¸­çš„ModelAndViewåœ°å€ä¹Ÿå¹¶ä¸ç›¸åŒï¼‰ã€‚\nåœ¨processDispatchResult()ä¸­è°ƒç”¨äº†ä¸‹æ–¹æ‰€ç¤ºæ–¹æ³•æ¥è¿›è¡Œè§†å›¾æ¸²æŸ“ï¼š\nrender(mv, request, response); å‘ Session åŸŸå…±äº«æ•°æ® ä½¿ç”¨åŸç”ŸServletAPIå…±äº«ï¼š\n@RequestMapping(\u0026#34;/testSession\u0026#34;) @ResponseBody public String testSession(HttpSession session) { // å†™å…¥ session.setAttribute(\u0026#34;testSessionScope\u0026#34;, \u0026#34;Hello Session!\u0026#34;); // è¯»å– String testSessionScope = (String) session.getAttribute(\u0026#34;testSessionScope\u0026#34;); System.out.println(testSessionScope); return testSessionScope; } Sessionå¯ä»¥ä»RequeståŸŸä¸­è·å–ï¼š\n@RequestMapping(\u0026#34;/testSessionInServlet\u0026#34;) @ResponseBody public String testSession(HttpServletRequest request) { // ä»RequeståŸŸä¸­è·å–Session HttpSession session = request.getSession(); // å†™å…¥ session.setAttribute(\u0026#34;testSessionScope\u0026#34;, \u0026#34;Hello Session In Servlet!\u0026#34;); // è¯»å– String testSessionScope = (String) session.getAttribute(\u0026#34;testSessionScope\u0026#34;); System.out.println(testSessionScope); return testSessionScope; } å‘ Application åŸŸå…±äº«æ•°æ® é€šè¿‡SessionåŸŸè·å–ServletContextï¼š\n@RequestMapping(\u0026#34;/testApplication\u0026#34;) @ResponseBody public String testApplication(HttpSession session) { // ä»SessionåŸŸä¸­è·å–ServletContext ServletContext application = session.getServletContext(); // å†™å…¥ application.setAttribute(\u0026#34;testSessionScope\u0026#34;, \u0026#34;Hello Application!\u0026#34;); // è¯»å– String testSessionScope = (String) application.getAttribute(\u0026#34;testSessionScope\u0026#34;); System.out.println(testSessionScope); return testSessionScope; } é€šè¿‡RequeståŸŸè·å–ServletContextï¼ˆä¸æ¨èï¼‰ï¼š\n@RequestMapping(\u0026#34;/testApplicationInServlet\u0026#34;) @ResponseBody public String testApplication(HttpServletRequest request) { // ä»RequeståŸŸä¸­è·å–ServletContext ServletContext application = request.getServletContext(); // å†™å…¥ application.setAttribute(\u0026#34;testSessionScope\u0026#34;, \u0026#34;Hello Application In Servlet !\u0026#34;); // è¯»å– String testSessionScope = (String) application.getAttribute(\u0026#34;testSessionScope\u0026#34;); System.out.println(testSessionScope); return testSessionScope; } è¯·æ±‚æŠ¥æ–‡è½¬æ¢ HttpMessageConverterå³æŠ¥æ–‡ä¿¡æ¯è½¬æ¢å™¨ï¼Œèƒ½å°†è¯·æ±‚æŠ¥æ–‡è½¬æ¢ä¸ºJavaå¯¹è±¡ï¼Œæˆ–å°†Javaå¯¹è±¡è½¬æ¢ä¸ºå“åº”æŠ¥æ–‡\nHttpMessageConverteræä¾›äº†ä¸¤ä¸ªæ³¨è§£å’Œä¸¤ä¸ªç±»å‹ï¼š\n@ResponseBodyï¼šå³ä¸Šæ–¹Controlleræ–¹æ³•ä¸­ä½¿ç”¨çš„å°†è¿”å›å€¼ï¼ˆJavaå¯¹è±¡ï¼‰ä½œä¸ºå“åº”ä½“å‘é€ç»™æµè§ˆå™¨çš„æ³¨è§£ã€‚\nResponseEntityï¼šå¯ä»¥ä½œä¸ºControlleræ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œå¹¶å“åº”ç»™æµè§ˆå™¨ã€‚\n@RequestBodyï¼šå°†Controlleræ–¹æ³•å½¢å‚æŒ‡å®šä¸ºè¯·æ±‚ä½“ï¼Œå¹¶æ¥æ”¶ä»æµè§ˆå™¨å‘é€è¿‡æ¥çš„è¯·æ±‚ä½“ã€‚\n@PostMapping(\u0026#34;/testRequestBody\u0026#34;) @ResponseBody public String testRequestBody(@RequestBody String requestBody) { requestBody = \u0026#34;RequestBody{\u0026#39;\u0026#34; + requestBody + \u0026#34;\u0026#39;}\u0026#34;; return requestBody; } RequestEntityï¼šæ˜¯å°è£…è¯·æ±‚æŠ¥æ–‡çš„ä¸€ç§ç±»å‹ï¼Œåœ¨Controlleræ–¹æ³•å½¢å‚ä¸­ä½¿ç”¨ï¼Œå®ƒè·å¾—çš„æ˜¯æ•´ä¸ªè¯·æ±‚æŠ¥æ–‡ã€‚\n@RequestMapping(\u0026#34;/testRequestEntity\u0026#34;) @ResponseBody public String testRequestEntity(RequestEntity\u0026lt;String\u0026gt; requestEntity) { HttpHeaders headers = requestEntity.getHeaders(); String body = requestEntity.getBody(); String response = \u0026#34;RequestEntity{\u0026#34; + headers + \u0026#34;}\\nRequestBody{\u0026#39;\u0026#34; + body + \u0026#34;\u0026#39;}\u0026#34;; System.out.println(response); return response; } å¾€å“åº”ä½“å†™å…¥ä¿¡æ¯è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨åŸç”ŸServletAPIï¼š\n@RequestMapping(\u0026#34;/testResponse\u0026#34;) public void testResponse(HttpServletResponse response) throws IOException { response.getWriter().print(\u0026#34;Hello Response!\u0026#34;); } æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;commons-fileupload\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-fileupload\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ResponseEntity å®ç°ä¸‹è½½ å°†ResponseEntity\u0026lt;byte[]\u0026gt;ä½œä¸ºè¿”å›å€¼ï¼Œåœ¨å…¶ä¸­è®¾ç½®å¥½å¯¹åº”çš„å“åº”å¤´ã€å“åº”ä½“å’ŒçŠ¶æ€ç ã€‚\n@RequestMapping(\u0026#34;/testDown\u0026#34;) public ResponseEntity\u0026lt;byte[]\u0026gt; testResponseEntity(HttpSession session) throws IOException { // è·å–ServletContextå¯¹è±¡ ServletContext servletContext = session.getServletContext(); // è·å–æœåŠ¡å™¨ä¸­æ–‡ä»¶çš„çœŸå®è·¯å¾„ getRealPath()å¦‚æœä¸å¸¦å‚æ•°çš„è¯è·å–çš„æ˜¯æœåŠ¡å™¨çš„éƒ¨ç½²è·¯å¾„ String realPath = servletContext.getRealPath(\u0026#34;/static/img/test.png\u0026#34;); System.out.println(\u0026#34;RealPath: \u0026#34; + realPath); // åˆ›å»ºè¾“å…¥æµ FileInputStream is = new FileInputStream(realPath); // åˆ›å»ºå­—èŠ‚æ•°ç»„ byte[] bytes = new byte[is.available()]; // å°†æµå†™åˆ°å­—èŠ‚æ•°ç»„ä¸­ is.read(bytes); // åˆ›å»ºHttpHeaderså¯¹è±¡è®¾ç½®å“åº”å¤´ä¿¡æ¯ MultiValueMap\u0026lt;String, String\u0026gt; headers = new HttpHeaders(); // è®¾ç½®ä¸‹è½½æ–¹å¼ä»¥åŠä¸‹è½½æ–‡ä»¶çš„åå­— headers.add(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment;filename=test.png\u0026#34;); // è®¾ç½®å“åº”çŠ¶æ€ç  HttpStatus statusCode = HttpStatus.OK; // åˆ›å»ºResponseEntityå¯¹è±¡ ResponseEntity\u0026lt;byte[]\u0026gt; responseEntity = new ResponseEntity\u0026lt;\u0026gt;(bytes, headers, statusCode); // å…³é—­è¾“å…¥æµ is.close(); return responseEntity; } åœ¨ä¸‹è½½æ–‡ä»¶ä¹‹å‰ï¼Œéœ€è¦é€šè¿‡Sessionè·å–å½“å‰è¦ä¸‹è½½æ–‡ä»¶çš„çœŸå®è·¯å¾„ï¼š\nServletContext servletContext = session.getServletContext(); String realPath = servletContext.getRealPath(\u0026#34;/static/img/test.png\u0026#34;); è·å–äº†çœŸå®è·¯å¾„åï¼Œé€šè¿‡FileInputStreamå°†æ–‡ä»¶è¯»å–å¹¶å†™å…¥å­—èŠ‚æ•°ç»„byte[]ä¸­ï¼š\nFileInputStream is = new FileInputStream(realPath); byte[] bytes = new byte[is.available()]; is.read(bytes); is.close(); ä¸‹è½½æ–‡ä»¶æ—¶ï¼Œéœ€è¦åœ¨å“åº”å¤´ä¸­è®¾ç½®ä¸‹è½½æ–¹å¼ä»¥åŠæ–‡ä»¶åï¼š\nMultiValueMap\u0026lt;String, String\u0026gt; headers = new HttpHeaders(); // ä»¥é™„ä»¶æ–¹å¼ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶ä¸”é»˜è®¤æ–‡ä»¶åä¸ºtest.png headers.add(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment;filename=test.png\u0026#34;); æœ€åå°†å­—èŠ‚æ•°ç»„ä½œä¸ºå“åº”ä½“ï¼Œå†åŠ ä¸Šå“åº”å¤´å’ŒçŠ¶æ€ç ç­‰ä¿¡æ¯ï¼Œåˆ›å»ºResponseEntityï¼š\nResponseEntity\u0026lt;byte[]\u0026gt; responseEntity = new ResponseEntity\u0026lt;\u0026gt;(bytes, headers, statusCode); return responseEntity; æ–‡ä»¶ä¸Šä¼  æ–‡ä»¶ä¸Šä¼ ä¾èµ–ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;commons-fileupload\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-fileupload\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.1\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åœ¨springMVC.xmlä¸­é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼š\n\u0026lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼Œå°†ä¸Šä¼ çš„æ–‡ä»¶å°è£…ä¸ºMultipartFile --\u0026gt; \u0026lt;bean id=\u0026#34;multipartResolver\u0026#34; class=\u0026#34;org.springframework.web.multipart.commons.CommonsMultipartResolver\u0026#34;/\u0026gt; æ–‡ä»¶ä¸Šä¼ å®ç°ï¼š\n@PostMapping(\u0026#34;/testUp\u0026#34;) @ResponseBody public String testUp(MultipartFile photo, HttpSession session) throws IOException { // è·å–ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å String fileName = photo.getOriginalFilename(); // è·å–ä¸Šä¼ æ–‡ä»¶çš„åç¼€å String suffixName = fileName.substring(fileName.lastIndexOf(\u0026#34;.\u0026#34;)); // å°†UUIDä½œä¸ºæ–‡ä»¶å String uuid = UUID.randomUUID().toString(); // å°†UUIDå’Œåç¼€åæ‹¼æ¥åçš„ç»“æœä½œä¸ºæœ€ç»ˆçš„æ–‡ä»¶å fileName = uuid + suffixName; // éœ€è¦é€šè¿‡ ServletContext è·å–æœåŠ¡å™¨ä¸­ photo ç›®å½•çš„è·¯å¾„ ServletContext servletContext = session.getServletContext(); // photo å…¶å®ä¹Ÿå¯ä»¥ç”¨ photo.getName() æ›¿ä»£ String photoPath = servletContext.getRealPath(\u0026#34;photo\u0026#34;); File file = new File(photoPath); // åˆ¤æ–­photoPathæ‰€å¯¹åº”è·¯å¾„æ˜¯å¦å­˜åœ¨ if (!file.exists()) { // è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½• file.mkdir(); } String finalPath = photoPath + File.separator + fileName; photo.transferTo(new File(finalPath)); return fileName + \u0026#34; OK!\u0026#34;; } åœ¨ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œéœ€è¦è€ƒè™‘æ–‡ä»¶ä¹‹é—´æ–‡ä»¶åçš„å†²çªé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å°†æ–‡ä»¶åæ”¹ä¸ºUUIDè§£å†³ï¼š\n// è·å–ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶å String fileName = photo.getOriginalFilename(); // è·å–ä¸Šä¼ æ–‡ä»¶çš„åç¼€å String suffixName = fileName.substring(fileName.lastIndexOf(\u0026#34;.\u0026#34;)); // å°†UUIDä½œä¸ºæ–‡ä»¶å String uuid = UUID.randomUUID().toString(); // å°†UUIDå’Œåç¼€åæ‹¼æ¥åçš„ç»“æœä½œä¸ºæœ€ç»ˆçš„æ–‡ä»¶å fileName = uuid + suffixName; æ‹¦æˆªå™¨ æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æ˜¯ä¸€ç§åŠ¨æ€æ‹¦æˆªæ–¹æ³•è°ƒç”¨çš„æœºåˆ¶ï¼Œåœ¨SpringMVCä¸­åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œã€‚æ‹¦æˆªå™¨å¯ä»¥åœ¨æŒ‡å®šçš„å‘é‚£ä¸ªå‘è°ƒç”¨å‰åæ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç ï¼Œå¯ä»¥é˜»æ­¢åŸå§‹æ–¹æ³•çš„æ‰§è¡Œã€‚æ‹¦æˆªå™¨å’Œè¿‡æ»¤å™¨åœ¨ä½œç”¨å’Œæ‰§è¡Œé¡ºåºä¸Šå¾ˆç›¸ä¼¼ã€‚å®ƒä»¬çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåˆ›å»ºæ‹¦æˆªå™¨ç±»ï¼š\n@Component // ç”±SpringMVCæ¥ç®¡ç† public class BookInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;preHandle...\u0026#34;); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;postHandle...\u0026#34;); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;afterCompletion...\u0026#34;); } } æ‹¦æˆªå™¨é…ç½®ç±» ç¼–å†™æ‹¦æˆªå™¨é…ç½®ç±»æœ‰ä¸¤ç§æ–¹å¼ï¼š\nå®ç°WebMvcConfigureræ¥å£ï¼› ç»§æ‰¿WebMvcConfigurationSupportç±»å¹¶é‡å†™æ–¹æ³•ã€‚ @Configuration // æ‰«æinterceptoråŒ… @ComponentScan(\u0026#34;com.linner.interceptor\u0026#34;) public class SpringMvcSupport extends WebMvcConfigurationSupport { @Autowired // è‡ªåŠ¨è£…é… private BookInterceptor bookInterceptor; @Override protected void addInterceptors(InterceptorRegistry registry) { /* æ·»åŠ ï¼ˆå£°æ˜ï¼‰æ‹¦æˆªå™¨å¹¶é…ç½®æ‹¦æˆªè§„åˆ™ å¯ä»¥åŒæ—¶é…ç½®å¤šä¸ªè§„åˆ™ å¦‚æœä¸æ·»åŠ æ‹¦æˆªè§„åˆ™ï¼Œé»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ */ registry.addInterceptor(bookInterceptor).addPathPatterns(\u0026#34;/books\u0026#34;, \u0026#34;/books/*\u0026#34;); } } è®©SpringMVCæ‰«æåˆ°æ‹¦æˆªå™¨çš„é…ç½®ç±»ï¼š\n@Configuration @ComponentScan({\u0026#34;com.linner.controller\u0026#34;, \u0026#34;com.linner.config\u0026#34;}) @EnableWebMvc public class SpringMvcConfig {} æ‹¦æˆªå™¨çš„é…ç½®ç±»SpingMvcSupportå¯ä»¥ä¹¦å†™åœ¨SpringMvcConfigä¸­ï¼Œä»¥ç®€åŒ–ä¹¦å†™ï¼ˆå¹¶æ¼”ç¤ºç»§æ‰¿WebMvcConfigurerç¼–å†™æ‹¦æˆªå™¨é…ç½®ç±»ï¼‰ï¼š\n@Configuration @ComponentScan({\u0026#34;com.linner.controller\u0026#34;, \u0026#34;com.linner.interceptor\u0026#34;}) @EnableWebMvc public class SpringMvcConfig implements WebMvcConfigurer { @Autowired private BookInterceptor bookInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { registry.addInterceptor(bookInterceptor).addPathPatterns(\u0026#34;/books\u0026#34;, \u0026#34;/books/*\u0026#34;); } } æ‹¦æˆªå™¨æ‰§è¡Œè¿‡ç¨‹ è¿è¡Œç¨‹åºï¼Œå‘é€bookså¼€å¤´çš„è¯·æ±‚ï¼ˆå¦‚http://localhost/booksï¼‰ï¼Œç»ˆç«¯ä¼šæœ‰å¦‚ä¸‹è¾“å‡ºï¼š\npreHandle... getAll... postHandle... afterCompletion... æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š\næ‰§è¡ŒpreHandle()ã€‚ preHandle()è¿”å›å€¼ä¸ºtrueï¼š æ‰§è¡Œè¯·æ±‚è·¯å¾„ç›¸åº”çš„æ–¹æ³•æˆ–ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨çš„preHandle()ã€‚ åˆ¤æ–­æ˜¯å¦æ‰§è¡ŒpostHandle()ï¼š Controllerè¢«æ‰§è¡Œï¼ˆåç»­æ‹¦æˆªå™¨é“¾ä¸­æ²¡æœ‰ä¸€ä¸ªpreHandle()è¿”å›å€¼ä¸ºfalseï¼‰ï¼Œæ‰§è¡ŒpostHandle()ã€‚ Controlleræ²¡æœ‰è¢«æ‰§è¡Œï¼ˆåç»­æ‹¦æˆªå™¨é“¾ä¸­å­˜åœ¨ä¸€ä¸ªpreHandle()è¿”å›å€¼ä¸ºfalseï¼‰ï¼Œä¸æ‰§è¡ŒpostHandle()ã€‚ æ‰§è¡ŒafterCompletion()ã€‚ preHandle()è¿”å›å€¼ä¸ºfalseã€‚ ç»“æŸã€‚ å½“é…ç½®å¤šä¸ªæ‹¦æˆªå™¨æ—¶ï¼Œå½¢æˆæ‹¦æˆªå™¨é“¾ã€‚å¤šä¸ªpreHandle()æŒ‰ç…§Interceptorè¢«å£°æ˜é¡ºåºæ‰§è¡Œï¼›å¤šä¸ªpostHandle()æŒ‰ç…§Interceptorè¢«å£°æ˜é¡ºåºé€†åºæ‰§è¡Œã€‚å³ï¼Œæ‹¦æˆªå™¨é“¾çš„è¿è¡Œé¡ºåºä»¥æ‹¦æˆªå™¨æ·»åŠ é¡ºåºä¸ºå‡†ã€‚\nå½“æ‹¦æˆªå™¨ä¸­å‡ºç°å¯¹åŸå§‹å¤„ç†å™¨çš„æ‹¦æˆªï¼Œåé¢çš„æ‹¦æˆªå™¨å‡ç»ˆæ­¢è¿è¡Œã€‚å½“æ‹¦æˆªå™¨è¿è¡Œä¸­æ–­ï¼Œä»…è¿è¡Œé…ç½®åœ¨å‰é¢çš„æ‹¦æˆªå™¨çš„afterCompletion()æ“ä½œï¼ˆafterCompletion()ä»£è¡¨å½“å‰æ‹¦æˆªå™¨æ‰§è¡Œå®Œæˆï¼Œä¸åç»­æ‹¦æˆªå™¨é“¾ä¸­preHandle()çš„è¿”å›å€¼å’ŒControlleræ˜¯å¦è¢«æ‰§è¡Œæ— å…³ï¼‰ã€‚\nå‡è®¾ç°åœ¨æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ‹¦æˆªå™¨ï¼š\n@Component public class FirstInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;FirstInterceptor preHandle...\u0026#34;); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;FirstInterceptor postHandle...\u0026#34;); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;FirstInterceptor afterCompletion...\u0026#34;); } } @Component public class LaterInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { System.out.println(\u0026#34;LaterInterceptor preHandle...\u0026#34;); return true; } @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { System.out.println(\u0026#34;LaterInterceptor postHandle...\u0026#34;); } @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { System.out.println(\u0026#34;LaterInterceptor afterCompletion...\u0026#34;); } } å®ƒä»¬åœ¨æ‹¦æˆªå™¨ç±»ä¸­çš„æ·»åŠ é¡ºåºä¸ºï¼š\n@Autowired private FirstInterceptor firstInterceptor; @Autowired private LaterInterceptor laterInterceptor; @Override public void addInterceptors(InterceptorRegistry registry) { // å¦‚æœæ²¡æœ‰é…ç½®æ‹¦æˆªè·¯å¾„ï¼Œåˆ™é»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ registry.addInterceptor(firstInterceptor); regisrty.addInterceptor(laterInterceptor); } è®¿é—®ä»»æ„èµ„æºåï¼Œç»ˆç«¯è¾“å‡ºï¼š\nFirstInterceptor preHandle... LaterInterceptor preHandle... LaterInterceptor postHandle... FirstInterceptor postHandle... LaterInterceptor afterCompletion... FirstInterceptor afterCompletion... å®é™…ä¸Šåœ¨DispatcherServletçš„doDispatch()æ–¹æ³•ä¸­ï¼Œåœ¨æ‰§è¡Œmv = ha.handle(...)ä¹‹å‰è¿›è¡Œäº†ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­ï¼š\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { /* ... */ // æ‹¦æˆªå™¨é“¾ HandlerExecutionChain mappedHandler = null; try { /* ... */ try { /* ... */ // è·å–æ‹¦æˆªå™¨é“¾ mappedHandler = getHandler(processedRequest); if (mappedHandler == null) { noHandlerFound(processedRequest, response); return; } /* ... */ // æ‰§è¡Œç›¸åº”Interceptorçš„preHandle if (!mappedHandler.applyPreHandle(processedRequest, response)) { return; } // Actually invoke the handler. mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); /* ... */ // æ‰§è¡Œç›¸åº”Interceptorçš„postHandle mappedHandler.applyPostHandle(processedRequest, response, mv); /* ... */ } catch /* ... */ // å¤„ç†è°ƒåº¦ç»“æœ // åŒ…å«äº†ModelAndViewçš„è¿›ä¸€æ­¥å¤„ç†ï¼ˆæ¸²æŸ“è§†å›¾ã€å¤„ç†æ¨¡å‹ï¼‰ã€è¿˜æœ‰Interceptorçš„afterCompletion()è°ƒç”¨ç­‰ç­‰ processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); /* ... */ } } å³HandlerExecutionChainï¼ˆæ§åˆ¶å™¨æ‰§è¡Œé“¾ï¼‰å¯¹è±¡çš„applyPreHandle()æ–¹æ³•ï¼š\n/** * preHandleæ‰§è¡Œé“¾ */ boolean applyPreHandle(HttpServletRequest request, HttpServletResponse response) throws Exception { // è¯»å–interceptorListä¸­çš„interceptorï¼Œå¹¶é€ä¸ªæ‰§è¡Œå®ƒä»¬çš„preHandleæ–¹æ³• for (int i = 0; i \u0026lt; this.interceptorList.size(); i++) { // è·å–interceptor HandlerInterceptor interceptor = this.interceptorList.get(i); // æ‰§è¡Œinterceptor.preHandle // å¦‚æœæœ‰ä¸€ä¸ªinterceptorè¿”å›äº†falseï¼Œåˆ™ç«‹å³æ‰§è¡ŒtriggerAfterCompletion()å¹¶è¿”å›false if (!interceptor.preHandle(request, response, this.handler)) { triggerAfterCompletion(request, response, null); return false; } // è®°å½•æ‹¦æˆªå™¨é“¾ä¸­è¿”å›falseçš„å‰ä¸€ä¸ªæ‹¦æˆªå™¨ä¸‹æ ‡ this.interceptorIndex = i; } return true; } applyPostHandle()æ–¹æ³•ï¼š\n/** * postHandleæ‰§è¡Œé“¾ */ void applyPostHandle(HttpServletRequest request, HttpServletResponse response, @Nullable ModelAndView mv) throws Exception { // æŒ‰ç…§å€’åºï¼Œé€ä¸ªæ‰§è¡Œinterceptor.postHandle() for (int i = this.interceptorList.size() - 1; i \u0026gt;= 0; i--) { HandlerInterceptor interceptor = this.interceptorList.get(i); interceptor.postHandle(request, response, this.handler, mv); } } triggerAfterCompletion()ï¼š\n/** * afterCompletionæ‰§è¡Œé“¾ */ void triggerAfterCompletion(HttpServletRequest request, HttpServletResponse response, @Nullable Exception ex) { // ä»interceptorIndexå¼€å§‹ï¼Œå€’åºæ‰§è¡Œinterceptor.afterCompletion() // å³triggerAfterCompletion()åªä¼šæ‰§è¡Œé‚£äº›è¿”å›trueçš„interceptorçš„afterCompletion() for (int i = this.interceptorIndex; i \u0026gt;= 0; i--) { HandlerInterceptor interceptor = this.interceptorList.get(i); try { interceptor.afterCompletion(request, response, this.handler, ex); } catch (Throwable ex2) { logger.error(\u0026#34;HandlerInterceptor.afterCompletion threw exception\u0026#34;, ex2); } } } åœ¨ä¸€åˆ‡æ­£å¸¸è¿è¡Œå®Œæˆåï¼Œè°ƒç”¨Interceptorçš„afterCompletion()çš„æƒ…å†µæœ‰ç‚¹å¤æ‚ï¼ˆDispatcherServletä¸­çš„processDispatchResult()ï¼‰ï¼š\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response, @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv, @Nullable Exception exception) throws Exception { /* ... */ // Did the handler return a view to render? if (mv != null \u0026amp;\u0026amp; !mv.wasCleared()) { // æ¸²æŸ“è§†å›¾ render(mv, request, response); /* ... */ } /* ... */ // åœ¨å¤„ç†å®Œå…¶å®ƒè°ƒåº¦ç»“æœåï¼Œé€šè¿‡mappedHandler.triggerAfterCompletion()æ¥è°ƒç”¨interceptor.afterCompletion() if (mappedHandler != null) { // Exception (if any) is already handled.. mappedHandler.triggerAfterCompletion(request, response, null); } } åœ¨DispatcherServletçš„doDispatch()æ–¹æ³•ä¸­è¿˜æœ‰è®¸å¤štry ... catchï¼Œå½“æ•æ‰åˆ°å¼‚å¸¸æ—¶ï¼ŒdoDispatch()ä¹Ÿä¼šé€šè¿‡triggerAfterCompletion()æ–¹æ³•æ¥è°ƒç”¨mappedHandler.triggerAfterCompletion()ã€‚\næ›´å…·ä¸Šè¿°ä»£ç æ€»ç»“å‡ºHandlerExecutionChainä¸­çš„æ‰§è¡Œæƒ…å†µï¼š\napplyPreHandle()ï¼šåœ¨æ‰§è¡ŒControlleræ–¹æ³•ä¹‹å‰æ‰§è¡Œã€‚\napplyPostHandle()ï¼šæ‰§è¡Œäº†Controlleræ–¹æ³•ä¹‹åæ‰§è¡Œã€‚\ntriggerAfterCompletion()ï¼š\nä¸¤ç§æ‰§è¡Œæƒ…å†µï¼š\næ‰§è¡ŒapplyPreHandle()æ—¶ï¼Œæœ‰ä¸€ä¸ªæ‹¦æˆªå™¨è¿”å›äº†falseï¼› æ‰§è¡Œå®ŒapplyPostHandle()ä¹‹åï¼Œä¸”æ— é”™è¯¯æ—¶æ‰§è¡Œï¼ˆå³processDispatchResult()ä¸­çš„triggerAfterCompletion()ï¼‰ï¼› æ‰§è¡ŒapplyPreHandle()ã€applyPostHandle()å’ŒControlleræ–¹æ³•è¿‡ç¨‹ä¸­ï¼Œå‡ºç°å¼‚å¸¸æ—¶æ‰§è¡Œï¼ˆå‡ºç°å¼‚å¸¸æ—¶æ˜¯åœ¨DispatcherServletçš„triggerAfterCompletion()ä¸­è°ƒç”¨ï¼‰ã€‚ é…ç½®æ–‡ä»¶é…ç½®æ‹¦æˆªå™¨ é™¤äº†ä½¿ç”¨é…ç½®ç±»å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥é…ç½®æ‹¦æˆªå™¨ã€‚\nä½¿ç”¨\u0026lt;mvc:interceptors\u0026gt;æ¥é…ç½®æ‹¦æˆªå™¨ã€‚æ·»åŠ æ‹¦æˆªå™¨çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½¿ç”¨\u0026lt;bean class=\u0026quot;...\u0026quot;/\u0026gt;ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨\u0026lt;ref bean=\u0026quot;...\u0026quot;/\u0026gt;ï¼Œè¿™ä¸¤ç§æ–¹å¼æœ¬è´¨ä¸Šæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚\n\u0026lt;mvc:interceptors\u0026gt; \u0026lt;bean class=\u0026#34;asia.linner.interceptor.FirstInterceptor\u0026#34;/\u0026gt; \u0026lt;!-- beanä¸­æŒ‡å®šçš„æ˜¯Beançš„é»˜è®¤idï¼Œå³é¦–å­—æ¯å°å†™çš„ç±»å --\u0026gt; \u0026lt;ref bean=\u0026#34;laterInterceptor\u0026#34;/\u0026gt; \u0026lt;/mvc:interceptors\u0026gt; åœ¨\u0026lt;mvc:interceptors\u0026gt;ä¸­å¯ä»¥ä½¿ç”¨\u0026lt;mvc:interceptor\u0026gt;æ¥é…ç½®å…·ä½“çš„æ‹¦æˆªè§„åˆ™ï¼š\n\u0026lt;mvc:interceptors\u0026gt; \u0026lt;mvc:interceptor\u0026gt; \u0026lt;!-- \u0026lt;mvc:mapping\u0026gt;: æ‹¦æˆªè·¯å¾„ --\u0026gt; \u0026lt;mvc:mapping path=\u0026#34;/**\u0026#34;/\u0026gt; \u0026lt;!-- \u0026lt;mvc:exclude-mapping\u0026gt;: æ’é™¤è·¯å¾„ï¼ˆä¸æ‹¦æˆªï¼‰ --\u0026gt; \u0026lt;mvc:exclude-mapping path=\u0026#34;/users\u0026#34;/\u0026gt; \u0026lt;mvc:exclude-mapping path=\u0026#34;/users/**\u0026#34;/\u0026gt; \u0026lt;!-- å‡è®¾åªæœ‰userså’Œbooksè¿™ä¸¤ä¸ªè¯·æ±‚ --\u0026gt; \u0026lt;ref bean=\u0026#34;bookInterceptor\u0026#34;/\u0026gt; \u0026lt;/mvc:interceptor\u0026gt; \u0026lt;/mvc:interceptors\u0026gt; é™æ€èµ„æºå¤„ç†å™¨ @Configuration public class SpringMvcSupport extends WebMvcConfigurationSupport { @Override protected void addResourceHandlers(ResourceHandlerRegistry registry) { // æ”¾è¡Œå•ä¸ªç›®å½•ï¼ˆWebappç›®å½•ä¸‹ï¼‰ registry.addResourceHandler(\u0026#34;/pages/**\u0026#34;).addResourceLocations(\u0026#34;/pages/\u0026#34;); // ä¹Ÿå¯ä»¥å°†Webappæ•´ä¸ªç›®å½•éƒ½æ·»åŠ ï¼š // registry.addResourceHandler(\u0026#34;/**\u0026#34;).addResourceLocations(\u0026#34;classpath:/\u0026#34;); } } addResourceHandler()ï¼šå®šä¹‰è®¿é—®èµ„æºè·¯å¾„ã€‚ addResourceLocations()ï¼šå®šä¹‰è®¿é—®è·¯å¾„æ—¶çš„é™æ€èµ„æºç›®å½•ã€‚ å¼‚å¸¸å¤„ç† Spring MVC è‡ªå¸¦äº†ä¸¤ä¸ªå¼‚å¸¸å¤„ç†å™¨åˆ†åˆ«æ˜¯SimpleMappingExceptionResolverå’ŒDefaultHandlerExceptionResolverã€‚\nå…¶ä¸­DefaultHandlerExceptionResolveræ˜¯ç”±Spring MVCå®šä¹‰çš„é»˜è®¤å¼‚å¸¸å¤„ç†å™¨ï¼Œå®ƒçš„doResolveException()å®šä¹‰äº†ä¸€äº›å¸¸è§çš„å¼‚å¸¸å¤„ç†ï¼š\nprotected ModelAndView doResolveException( HttpServletRequest request, HttpServletResponse response, @Nullable Object handler, Exception ex) { try { if (ex instanceof HttpRequestMethodNotSupportedException) { return handleHttpRequestMethodNotSupported( (HttpRequestMethodNotSupportedException) ex, request, response, handler); } else if (ex instanceof HttpMediaTypeNotSupportedException) { return handleHttpMediaTypeNotSupported( (HttpMediaTypeNotSupportedException) ex, request, response, handler); } else if (ex instanceof HttpMediaTypeNotAcceptableException) { return handleHttpMediaTypeNotAcceptable( (HttpMediaTypeNotAcceptableException) ex, request, response, handler); } else if (ex instanceof MissingPathVariableException) { return handleMissingPathVariable( (MissingPathVariableException) ex, request, response, handler); } else if (ex instanceof MissingServletRequestParameterException) { return handleMissingServletRequestParameter( (MissingServletRequestParameterException) ex, request, response, handler); } else if (ex instanceof ServletRequestBindingException) { return handleServletRequestBindingException( (ServletRequestBindingException) ex, request, response, handler); } else if (ex instanceof ConversionNotSupportedException) { return handleConversionNotSupported( (ConversionNotSupportedException) ex, request, response, handler); } else if (ex instanceof TypeMismatchException) { return handleTypeMismatch( (TypeMismatchException) ex, request, response, handler); } else if (ex instanceof HttpMessageNotReadableException) { return handleHttpMessageNotReadable( (HttpMessageNotReadableException) ex, request, response, handler); } else if (ex instanceof HttpMessageNotWritableException) { return handleHttpMessageNotWritable( (HttpMessageNotWritableException) ex, request, response, handler); } else if (ex instanceof MethodArgumentNotValidException) { return handleMethodArgumentNotValidException( (MethodArgumentNotValidException) ex, request, response, handler); } else if (ex instanceof MissingServletRequestPartException) { return handleMissingServletRequestPartException( (MissingServletRequestPartException) ex, request, response, handler); } else if (ex instanceof BindException) { return handleBindException((BindException) ex, request, response, handler); } else if (ex instanceof NoHandlerFoundException) { return handleNoHandlerFoundException( (NoHandlerFoundException) ex, request, response, handler); } else if (ex instanceof AsyncRequestTimeoutException) { return handleAsyncRequestTimeoutException( (AsyncRequestTimeoutException) ex, request, response, handler); } } catch (Exception handlerEx) { if (logger.isWarnEnabled()) { logger.warn(\u0026#34;Failure while trying to resolve exception [\u0026#34; + ex.getClass().getName() + \u0026#34;]\u0026#34;, handlerEx); } } return null; } SimpleMappingExceptionResolveræ˜¯Spring MVCæä¾›çš„è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨ã€‚\nåŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç† åœ¨springMVC.xmlä¸­é…ç½®å¼‚å¸¸å¤„ç†å™¨ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;!-- é…ç½®å¼‚å¸¸å¤„ç† --\u0026gt; \u0026lt;bean class=\u0026#34;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;exceptionMappings\u0026#34;\u0026gt; \u0026lt;props\u0026gt; \u0026lt;!-- è®¾ç½®è¦å¤„ç†çš„å¼‚å¸¸å’Œè¿”å›çš„è§†å›¾ propçš„keyï¼šè¡¨ç¤ºå¤„ç†å™¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸ propçš„å€¼ï¼šè¡¨ç¤ºè‹¥å‡ºç°æŒ‡å®šå¼‚å¸¸æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„è§†å›¾åç§°ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢ --\u0026gt; \u0026lt;prop key=\u0026#34;java.lang.ArithmeticException\u0026#34;\u0026gt;error\u0026lt;/prop\u0026gt; \u0026lt;/props\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;!-- å°†å¼‚å¸¸ä¿¡æ¯å…±äº«åœ¨è¯·æ±‚åŸŸä¸­çš„é”® exceptionAttributeè®¾ç½®ä¸€ä¸ªå±æ€§åï¼Œå°†å‡ºç°çš„å¼‚å¸¸ä¿¡æ¯åœ¨è¯·æ±‚åŸŸä¸­è¿›è¡Œå…±äº« --\u0026gt; \u0026lt;property name=\u0026#34;exceptionAttribute\u0026#34; value=\u0026#34;ex\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; åœ¨ç›¸åº”è·¯å¾„ï¼ˆå¦‚/WEB-INF/templates/ï¼‰ä¸‹åˆ›å»ºå¼‚å¸¸è§†å›¾ï¼ˆå¦‚error.htmlï¼‰ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh\u0026#34; xmlns:th=\u0026#34;http://www.thymeleaf.org\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Error\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h1\u0026gt;å‡ºç°å¼‚å¸¸\u0026lt;/h1\u0026gt; \u0026lt;p th:text=\u0026#34;${ex}\u0026#34;\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ³¨ï¼šä½¿ç”¨Thymeleafç®¡ç†Htmlè§†å›¾ï¼Œéœ€è¦åœ¨\u0026lt;html\u0026gt;æ ‡ç­¾ä¸­å£°æ˜xmlns:th=\u0026quot;http://www.thymeleaf.org\u0026quot;ã€‚\nåŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç† ä½¿ç”¨@ControllerAdviceæ ‡æ³¨åœ¨å¼‚å¸¸å¤„ç†ç±»ä¸Šï¼Œè¿™æ ·çš„å¼‚å¸¸å¤„ç†ç±»ä¸Controllerç±»ä¼¼ã€‚åœ¨ç±»çš„æ–¹æ³•ä¸Šç”¨@ExceptionHandleræŒ‡å®šè¦å¤„ç†çš„å¼‚å¸¸ï¼Œ@ExceptionHandlerçš„valueå±æ€§æ¥æ”¶ä¸€ä¸ªClassç±»å‹çš„æ•°ç»„ï¼Œæ„å‘³ç€å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå¼‚å¸¸ã€‚\n@ControllerAdvice public class ExceptionController { @ExceptionHandler({ ArithmeticException.class, NullPointerException.class }) public String testException( Exception ex /* å½“å‰å‡ºç°çš„å¼‚å¸¸ */, Model model) { // ç”¨Modelè®¾ç½®å±æ€§ï¼Œå°†å¼‚å¸¸ä¿¡æ¯è¿”å› model.addAttribute(\u0026#34;exception\u0026#34;, ex); return \u0026#34;error\u0026#34;; } } åœ¨ExceptionControllerä¸­ç”¨@ExceptionHandleræ ‡æ³¨çš„æ–¹æ³•ï¼Œåœ¨å®ƒçš„å‚æ•°åˆ—è¡¨ä¸­å®šä¹‰ä¸€ä¸ªExceptionç±»å‹çš„å‚æ•°ï¼Œå¯ç”¨äºè·å–å½“å‰å¤„ç†çš„å®é™…çš„å¼‚å¸¸ã€‚\né‡å®šå‘ Spring MVCé»˜è®¤çš„æ–¹å¼æ˜¯forwardï¼ˆå³è½¬å‘ï¼‰ï¼Œè€Œè¦ä½¿ç”¨redirectéœ€è¦åœ¨è§†å›¾åç§°ä¸­æ·»åŠ redirect:è¯´æ˜ã€‚Spring MVCé‡å®šå‘æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š\n@Controller public class TestController { /** * é€šè¿‡è¿”å›ç±»å‹ä¸ºStringçš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª\u0026#34;redirect:...\u0026#34;çš„å­—ç¬¦ä¸²è¿›è¡Œé‡å®šå‘ * @return é‡å®šå‘çš„è·¯å¾„ */ @RequestMapping(\u0026#34;/test1\u0026#34;) public String test1() { return \u0026#34;redirect:/index.html\u0026#34;; } /** * é€šè¿‡ModelAndViewè®¾ç½®è§†å›¾åç§°ä¸º\u0026#34;redirect:...\u0026#34; * @return */ @RequestMapping(\u0026#34;/test2\u0026#34;) public ModelAndView test2() { return new ModelAndView(\u0026#34;redirect:/test1\u0026#34;); // ç›¸å½“äºï¼š /* ModelAndView mav = new ModelAndView(); mav.setViewName(\u0026#34;redirect:/index\u0026#34;); return mav; */ } /** * é€šè¿‡åŸç”ŸServletAPI */ @RequestMapping(\u0026#34;/test3\u0026#34;) public void test3(HttpServletResponse response) throws IOException { response.sendRedirect(\u0026#34;/test1\u0026#34;); } } Spring MVC æ‰§è¡Œæµç¨‹ å¸¸ç”¨ç»„ä»¶ DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨ï¼Œç”±æ¡†æ¶æä¾›ã€‚\nä½œç”¨ï¼šç»Ÿä¸€å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œæ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ã€‚\nControllerã€Interceptorã€HandlerExceptionResolverç­‰ç­‰éƒ½ç”±å®ƒæ¥è°ƒç”¨ã€‚\nHandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨ï¼Œç”±æ¡†æ¶æä¾›ã€‚\nä½œç”¨ï¼šæ ¹æ®è¯·æ±‚çš„urlã€methodç­‰ä¿¡æ¯æŸ¥æ‰¾ç›¸åº”çš„Handlerï¼ˆå³æ§åˆ¶å™¨æ–¹æ³•ï¼‰ã€‚\nå°±æ˜¯è¯·æ±‚ä¸­çš„@RequestMappingã€@GetMappingã€@PostMappingç­‰ç­‰ã€‚å°†è¯·æ±‚å’Œæ§åˆ¶å™¨æˆ–æ§åˆ¶å™¨æ–¹æ³•è¿›è¡Œæ˜ å°„ã€‚\nHandlerï¼šå¤„ç†å™¨ï¼ˆæ§åˆ¶å™¨æ–¹æ³•ï¼‰ï¼Œç”±å·¥ç¨‹å¸ˆå¼€å‘ã€‚\nä½œç”¨ï¼šåœ¨DispatcherServletçš„æ§åˆ¶ä¸‹ï¼ŒHandlerå¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚\nHandlerAdapterï¼šå¤„ç†å™¨é€‚é…å™¨ï¼Œç”±æ¡†æ¶æä¾›ã€‚\nä½œç”¨ï¼šé€šè¿‡HandlerAdapteræ‰§è¡Œå¤„ç†å™¨ï¼ˆæ§åˆ¶å™¨æ–¹æ³•ï¼‰ã€‚\nç”±HandlerMappingæ‰¾åˆ°å¯¹åº”çš„Handlerï¼Œæ¥ç€ç”±HandlerAdapteræ‰§è¡Œå¯¹åº”çš„Handlerã€‚\nViewResolverï¼šè§†å›¾è§£æå™¨ï¼Œç”±æ¡†æ¶æä¾›ã€‚\nä½œç”¨ï¼šè¿›è¡Œè§†å›¾è§£æï¼Œå¾—åˆ°ç›¸åº”çš„è§†å›¾ï¼Œä¾‹å¦‚ï¼šThymeleafViewã€InternalResourceViewï¼ˆä¾‹å¦‚forwardï¼Œå³è½¬å‘æ—¶ï¼‰ã€RedirectViewï¼ˆä¾‹å¦‚redirectï¼Œå³é‡å®šå‘æ—¶ï¼‰ã€‚\nViwï¼šè§†å›¾ï¼Œç”±æ¡†æ¶æˆ–è§†å›¾æŠ€æœ¯æä¾›ã€‚\nä½œç”¨ï¼šå°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚\nDispatcherServlet ç»§æ‰¿é“¾ DispatcherServlet $\\xrightarrow{extends}$ FrameworkServlet $\\xrightarrow{extends}$ HttpServletBean $\\xrightarrow{extends}$ HttpServlet $\\xrightarrow{extends}$ GenericServlet $\\xrightarrow{implements}$ Servlet\nDispatcherServlet åˆå§‹åŒ–è¿‡ç¨‹ DispatcherServletåˆå§‹åŒ–è¿‡ç¨‹éœ€è¦æ ¹æ®å®ƒçš„ç»§æ‰¿é“¾ï¼ŒæŸ¥æ‰¾æ¯ä¸ªç±»æˆ–æ¥å£çš„init()æ–¹æ³•ã€‚\nServlet.init(ServletConfig)ï¼š\npublic void init(ServletConfig config) throws ServletException; GenericServletï¼š\nGenericServletä¸ä»…å®ç°äº†Servlet.init(ServletConfig)è¿˜ç»™å‡ºäº†ä¸€ä¸ªæœªå®ç°çš„init()ã€‚\ninit(ServletConfig config)ï¼š\npublic void init(ServletConfig config) throws ServletException { this.config = config; this.init(); } init()ï¼š\npublic void init() throws ServletException {} HttpServletï¼š\nHttpServletå¹¶æ²¡æœ‰é‡å†™GenericServlet.init(ServletConfig)æˆ–GenericServlet.init()ã€‚\nHttpServletBeanï¼š\nHttpServletBeanå®ç°äº†GenericServlet.init()å¹¶ä¸”ç»™å‡ºäº†ä¸€ä¸ªæœªå®ç°çš„initServletBean()ã€‚\ninit()ï¼š\n@Override public final void init() throws ServletException { // Set bean properties from init parameters. /* ... */ // Let subclasses do whatever initialization they like. initServletBean(); } initServletBean()ï¼šåˆå§‹åŒ–ServletBeanã€‚\nprotected void initServletBean() throws ServletException {} FrameworkServletï¼š\nFrameworkServletå®ç°äº†HttpServletBean.initServletBean()ï¼Œå¹¶ä¸”ç»™å‡ºäº†initServletBean()çš„å®ç°ã€‚\ninitServletBean()ï¼š\n@Override protected final void initServletBean() throws ServletException { /* ... */ try { // åˆå§‹åŒ–WebApplicationContext this.webApplicationContext = initWebApplicationContext(); initFrameworkServlet(); } /* catch ... */ /* ... */ } initWebApplicationContext()ï¼šåˆå§‹åŒ–WebApplicationContextã€‚\nprotected WebApplicationContext initWebApplicationContext() { // è·å–å½“å‰çš„WebApplicationContext WebApplicationContext rootContext = WebApplicationContextUtils.getWebApplicationContext(getServletContext()); WebApplicationContext wac = null; // åˆ¤æ–­å½“å‰WebApplicationContextæ˜¯å¦ä¸ºç©ºï¼ˆç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶æ’ä¸ºç©ºï¼‰ if (this.webApplicationContext != null) { // A context instance was injected at construction time -\u0026gt; use it wac = this.webApplicationContext; if (wac instanceof ConfigurableWebApplicationContext) { ConfigurableWebApplicationContext cwac = (ConfigurableWebApplicationContext) wac; if (!cwac.isActive()) { // The context has not yet been refreshed -\u0026gt; provide services such as // setting the parent context, setting the application context id, etc if (cwac.getParent() == null) { // The context instance was injected without an explicit parent -\u0026gt; set // the root application context (if any; may be null) as the parent cwac.setParent(rootContext); } // è£…é…å¹¶åˆ·æ–°WebApplicationContext configureAndRefreshWebApplicationContext(cwac); } } } /* å¦‚æœwacä¸ºç©ºåˆ™æŸ¥æ‰¾WebApplicationContext ï¼ˆç¬¬ä¸€æ¬¡æ‰§è¡Œå®Œåwacè¿˜æ˜¯ä¸ºç©ºï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•WebApplicationContextï¼‰ */ if (wac == null) { // No context instance was injected at construction time -\u0026gt; see if one // has been registered in the servlet context. If one exists, it is assumed // that the parent context (if any) has already been set and that the // user has performed any initialization such as setting the context id wac = findWebApplicationContext(); } // å¦‚æœwacä¸ºç©ºåˆ™åˆ›å»ºä¸€ä¸ªWebApplicationContext if (wac == null) { // No context instance is defined for this servlet -\u0026gt; create a local one // åˆ›å»ºä¸€ä¸ªWebApplicationContext wac = createWebApplicationContext(rootContext); } // æ²¡æœ‰æ¥æ”¶åˆ°åˆ·æ–°äº‹ä»¶æ—¶ if (!this.refreshEventReceived) { // Either the context is not a ConfigurableApplicationContext with refresh // support or the context injected at construction time had already been // refreshed -\u0026gt; trigger initial onRefresh manually here. synchronized (this.onRefreshMonitor) { // åˆ·æ–°WebApplicationContext onRefresh(wac); } } if (this.publishContext) { // Publish the context as a servlet context attribute. // å°†ServletContextä½œä¸ºå±æ€§ï¼Œè·å–å®ƒçš„å±æ€§å String attrName = getServletContextAttributeName(); // å°†IOCå®¹å™¨åœ¨åº”ç”¨åŸŸå…±äº« getServletContext().setAttribute(attrName, wac); } return wac; } createWebApplicationContext(WebApplicationContext)ï¼šé€šè¿‡WebApplicationContextåˆ›å»ºWebApplicationContextã€‚\nprotected WebApplicationContext createWebApplicationContext(@Nullable WebApplicationContext parent) { return createWebApplicationContext((ApplicationContext) parent); } createWebApplicationContext(ApplicationContext)ï¼šé€šè¿‡ApplicationContextåˆ›å»ºWebApplicationContextã€‚\nprotected WebApplicationContext createWebApplicationContext(@Nullable ApplicationContext parent) { Class\u0026lt;?\u0026gt; contextClass = getContextClass(); if (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) { throw new ApplicationContextException( \u0026#34;Fatal initialization error in servlet with name \u0026#39;\u0026#34; + getServletName() + \u0026#34;\u0026#39;: custom WebApplicationContext class [\u0026#34; + contextClass.getName() + \u0026#34;] is not of type ConfigurableWebApplicationContext\u0026#34;); } // Web IOC å®¹å™¨å¯¹è±¡ï¼ˆå³SpringMVC IOCï¼‰ ConfigurableWebApplicationContext wac = (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass); // é…ç½®ç¯å¢ƒ wac.setEnvironment(getEnvironment()); /* æ•´åˆSpringå’ŒSpringMVCæ—¶ï¼Œ è®¾ç½®SpringMVCçš„çˆ¶å®¹å™¨ï¼Œ è®©Springå’ŒSpringMVCçš„IOCå®¹å™¨èƒ½æ— ç¼è¡”æ¥ SpringMVC IOCå®¹å™¨æ˜¯Spring IOCå®¹å™¨çš„å­å®¹å™¨ */ wac.setParent(parent); String configLocation = getContextConfigLocation(); if (configLocation != null) { wac.setConfigLocation(configLocation); } // è£…é…å¹¶åˆ·æ–°WebApplicationContext configureAndRefreshWebApplicationContext(wac); return wac; } onRefresh()ï¼šåˆ·æ–°WebApplicationContextã€‚\nprotected void onRefresh(ApplicationContext context) { // For subclasses: do nothing by default. // ç”±å­ç±»å»å®ç° } FrameworkServleteåˆ›å»ºWebApplicationContextåï¼Œåˆ·æ–°å®¹å™¨ï¼Œè°ƒç”¨onRefresh(wac)ï¼Œæ­¤æ–¹æ³•åœ¨DispatcherServletè¿›è¡Œäº†é‡å†™ï¼ˆå®ç°ï¼‰ã€‚\ngetServletContextAttributeName()ï¼š\n// FrameworkServletçš„å…¨ç±»å.CONTEXT. public static final String SERVLET_CONTEXT_PREFIX = FrameworkServlet.class.getName() + \u0026#34;.CONTEXT.\u0026#34;; public String getServletContextAttributeName() { // å‰ç¼€+Servletå‹å¥½åç§°ï¼ˆå³å‰ç¼€ + \u0026lt;servlet-name\u0026gt;ï¼‰ return SERVLET_CONTEXT_PREFIX + getServletName(); } DispatcherServletï¼š\nå®ç°äº†FrameworkServlet.onRefresh()ã€‚\n@Override protected void onRefresh(ApplicationContext context) { initStrategies(context); } initStrategies()ï¼šDispatcherServletåˆå§‹åŒ–ç­–ç•¥ã€‚\nprotected void initStrategies(ApplicationContext context) { // åˆå§‹åŒ–å¤šä¸ªè§£æå™¨ï¼Œä¾‹å¦‚æ–‡ä»¶ä¸Šä¼ è§£æå™¨ç­‰ initMultipartResolver(context); initLocaleResolver(context); // åˆå§‹åŒ–æ¨¡æ¿è§£æå™¨ initThemeResolver(context); // åˆå§‹åŒ–å¤„ç†å™¨æ˜ å°„å™¨ initHandlerMappings(context); // åˆå§‹é˜¿è™å¤„ç†å™¨é€‚é…å™¨ initHandlerAdapters(context); // åˆå§‹åŒ–å¼‚å¸¸å¤„ç†å™¨ initHandlerExceptionResolvers(context); // åˆå§‹åŒ–è½¬æ¢å™¨ï¼Œå°†è¯·æ±‚è½¬æ¢ä¸ºè§†å›¾åç§° initRequestToViewNameTranslator(context); // åˆå§‹åŒ–è§†å›¾è§£æå™¨ initViewResolvers(context); initFlashMapManager(context); } DispatcherServlet è¯·æ±‚å¤„ç†è¿‡ç¨‹ Servletå’ŒGenericServletï¼š\nServletæä¾›äº†service()æ¥å£ï¼ŒGenericServletå¹¶æœªå¯¹å…¶è¿›è¡Œå®ç°ã€‚\nservice(ServletRequest, ServletResponse)ï¼š\npublic void service(ServletRequest req, ServletResponse res) throws ServletException, IOException; HttpServletï¼š\nservice()ç”±HttpServletå®ç°ã€‚å¹¶ä¸”HttpServletè¿˜æä¾›äº†service(HttpServletRequest, HttpServletResponse)ã€‚\nservice(ServletRequest, ServletResponse)ï¼š\n@Override public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException { HttpServletRequest request; HttpServletResponse response; if (!(req instanceof HttpServletRequest \u0026amp;\u0026amp; res instanceof HttpServletResponse)) { throw new ServletException(\u0026#34;non-HTTP request or response\u0026#34;); } // è½¬æ¢ä¸ºHttpServletRequestå’ŒHttpServletResponse request = (HttpServletRequest) req; response = (HttpServletResponse) res; service(request, response); } HttpServlet.service(ServletRequest, ServletResponse)çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†ServletRequestå’ŒServletResponseåˆ†åˆ«è½¬æ¢ä¸ºHttpServletRequestå’ŒHttpServletResponseï¼Œç„¶åè°ƒç”¨HttpServlet.service(HttpServletRequest, HttpServletResponse)ã€‚\nservice(HttpServletRequest, HttpServletResponse)ï¼š\nprotected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // è·å–è¯·æ±‚æ–¹å¼ String method = req.getMethod(); // è¯·æ±‚çš„åˆ†å‘å¤„ç†ï¼Œæ ¹æ®è¯·æ±‚æ–¹å¼è°ƒç”¨ç›¸åº”æ–¹æ³•ï¼ˆå¦‚è°ƒç”¨doGetï¼‰ if (method.equals(METHOD_GET)) { long lastModified = getLastModified(req); if (lastModified == -1) { // servlet doesn\u0026#39;t support if-modified-since, no reason // to go through further expensive logic doGet(req, resp); } else { long ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE); if (ifModifiedSince \u0026lt; lastModified) { // If the servlet mod time is later, call doGet() // Round down to the nearest second for a proper compare // A ifModifiedSince of -1 will always be less maybeSetLastModified(resp, lastModified); doGet(req, resp); } else { resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED); } } } else if (method.equals(METHOD_HEAD)) { long lastModified = getLastModified(req); maybeSetLastModified(resp, lastModified); doHead(req, resp); } else if (method.equals(METHOD_POST)) { doPost(req, resp); } else if (method.equals(METHOD_PUT)) { doPut(req, resp); } else if (method.equals(METHOD_DELETE)) { doDelete(req, resp); } else if (method.equals(METHOD_OPTIONS)) { doOptions(req,resp); } else if (method.equals(METHOD_TRACE)) { doTrace(req,resp); } else { // // Note that this means NO servlet supports whatever // method was requested, anywhere on this server. // /* ... */ } } HttpServletBeanï¼š\næ²¡æœ‰å¯¹HttpServlet.service()å’ŒHttpServletä¸­doå¼€å¤´çš„å¤„ç†è¯·æ±‚åˆ†å‘çš„æ–¹æ³•è¿›è¡Œé‡å†™ã€‚\nFrameworkServletï¼š\né‡å†™äº†HttpServlet.service(HttpServletRequest, HttpServletResponse)å’ŒHttpServletä¸­doå¼€å¤´çš„å¤„ç†è¯·æ±‚åˆ†å‘çš„æ–¹æ³•ã€‚\nservice(HttpServletRequest, HttpServletResponse)ï¼š\n@Override protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { HttpMethod httpMethod = HttpMethod.resolve(request.getMethod()); // è¯·æ±‚æ–¹å¼ä¸ºPATCHæˆ–nullæ—¶ if (httpMethod == HttpMethod.PATCH || httpMethod == null) { // æ‰§è¡Œè¯·æ±‚ processRequest(request, response); } else { super.service(request, response); } } processRequest()ï¼š\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { /* ... */ try { // æ‰§è¡ŒæœåŠ¡ doService(request, response); } /* catch ... */ finally { /* ... */ } } åœ¨FrameworkServletä¸­çš„doGet()ã€doPost()ã€doPut()å’ŒdoDelete()ä¸­éƒ½æ˜¯ç›´æ¥è°ƒç”¨processRequest()æ–¹æ³•ï¼š\nprocessRequest(request, response); åœ¨doOptions()å’ŒdoTrace()ä¸­ä¹Ÿæœ‰å¯¹processRequest()æ–¹æ³•çš„è°ƒç”¨ã€‚\ndoService()ï¼šäº¤ç”±å­ç±»å®ç°ã€‚\nprotected abstract void doService(HttpServletRequest request, HttpServletResponse response) throws Exception; DispatcherServletï¼š\n@Override protected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception { logRequest(request); // Keep a snapshot of the request attributes in case of an include, // to be able to restore the original attributes after the include. /* ... */ // Make framework objects available to handlers and view objects. /* ... */ try { // æœ€ç»ˆè°ƒç”¨doDispatch()æ¥å¤„ç† doDispatch(request, response); } finally { if (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) { // Restore the original attribute snapshot, in case of an include. if (attributesSnapshot != null) { restoreAttributesAfterInclude(request, attributesSnapshot); } } } } doDispatch()ï¼š\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { HttpServletRequest processedRequest = request; /* æ‰§è¡Œé“¾ HandlerExecutionChainåŒ…å«ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š - handlerï¼šä¸è¯·æ±‚æ‰€åŒ¹é…çš„æ§åˆ¶å™¨æ–¹æ³• - interceptorListï¼šå¤„ç†æ§åˆ¶å™¨æ–¹æ³•çš„æ‰€æœ‰æ‹¦æˆªå™¨é›†åˆï¼Œå³æ‹¦æˆªå™¨é“¾ - interceptorIndexï¼šæ‹¦æˆªå™¨ç´¢å¼•ï¼Œæ§åˆ¶æ‹¦æˆªå™¨afterCompletion()çš„æ‰§è¡Œ */ HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false; WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request); try { ModelAndView mv = null; Exception dispatchException = null; try { processedRequest = checkMultipart(request); multipartRequestParsed = (processedRequest != request); // Determine handler for the current request. // è·å–å½“å‰è¯·æ±‚çš„æ‰§è¡Œé“¾ mappedHandler = getHandler(processedRequest); if (mappedHandler == null) { noHandlerFound(processedRequest, response); return; } // Determine handler adapter for the current request. /* è·å–å½“å‰è¯·æ±‚çš„å¤„ç†å™¨é€‚é…å™¨ é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•åˆ›å»ºå¯¹åº”çš„å¤„ç†å™¨é€‚é…å™¨ï¼Œä»è€Œèƒ½è°ƒç”¨æ‰€å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³• */ HandlerAdapter ha = getHandlerAdapter(mappedHandler.getHandler()); // Process last-modified header, if supported by the handler. /* ... */ // æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„ preHandleï¼Œæ­£åºæ‰§è¡Œ if (!mappedHandler.applyPreHandle(processedRequest, response)) { return; } // Actually invoke the handler. // é€šè¿‡HandlerAdapteræ¥è°ƒç”¨è¯·æ±‚å¤„ç†ï¼Œæœ€ç»ˆè·å¾—ModelAndViewå¯¹è±¡ mv = ha.handle(processedRequest, response, mappedHandler.getHandler()); if (asyncManager.isConcurrentHandlingStarted()) { return; } applyDefaultViewName(processedRequest, mv); // æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„ postHandleï¼Œå€’åºæ‰§è¡Œ mappedHandler.applyPostHandle(processedRequest, response, mv); } /* catch ... */ // æ‰§è¡Œå®Œè¯·æ±‚çš„åç»­å¤„ç†ï¼Œå¦‚è§†å›¾æ¸²æŸ“ã€å¼‚å¸¸å¤„ç†ç­‰ç­‰ processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); } /* catch ... */ /* finally ... */ } processDispatchResult()ï¼š\nprivate void processDispatchResult(HttpServletRequest request, HttpServletResponse response, @Nullable HandlerExecutionChain mappedHandler, @Nullable ModelAndView mv, @Nullable Exception exception) throws Exception { boolean errorView = false; // å¼‚å¸¸å¤„ç† if (exception != null) { if (exception instanceof ModelAndViewDefiningException) { logger.debug(\u0026#34;ModelAndViewDefiningException encountered\u0026#34;, exception); // è·å–å¼‚å¸¸é¡µé¢çš„è§†å›¾ mv = ((ModelAndViewDefiningException) exception).getModelAndView(); } else { /* ... */ } } // Did the handler return a view to render? if (mv != null \u0026amp;\u0026amp; !mv.wasCleared()) { // è§†å›¾æ¸²æŸ“ render(mv, request, response); /* ... */ } /* else ... */ /* ... */ if (mappedHandler != null) { // Exception (if any) is already handled.. // æ‰§è¡Œæ‹¦æˆªå™¨é“¾çš„ afterCompletionï¼Œå€’åºæ‰§è¡Œï¼ˆæ­¤å¤„æ‰€æœ‰çš„å¼‚å¸¸å·²ç»è¢«å¤„ç†å®Œæˆï¼‰ mappedHandler.triggerAfterCompletion(request, response, null); } } MVC æ‰§è¡Œæµç¨‹ ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚è¢«SpringMVCå‰ç«¯æ§åˆ¶å™¨DispatcherServletæ•è·ã€‚\nDispatcherServletå¯¹è¯·æ±‚URLè¿›è¡Œè§£æï¼Œå¾—åˆ°è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰ï¼Œåˆ¤æ–­è¯·æ±‚URIå¯¹åº”çš„æ˜ å°„ï¼š\nå¦‚æœæ²¡æœ‰å¯¹åº”çš„æ˜ å°„ï¼š\nåˆ¤æ–­æ˜¯å¦é…ç½®äº†mvc:default-servlet-handlerï¼ˆé»˜è®¤å¤„ç†å™¨ï¼‰ã€‚\nå¦‚æœæ²¡é…ç½®ï¼Œåˆ™æ§åˆ¶å°æŠ¥æ˜ å°„æŸ¥æ‰¾ä¸åˆ°ï¼Œå‘å®¢æˆ·ç«¯å±•ç¤º404é”™è¯¯ã€‚\nå¦‚æœæœ‰é…ç½®ï¼Œåˆ™è®¿é—®ç›®æ ‡èµ„æºï¼ˆä¸€èˆ¬ä¸ºé™æ€èµ„æºï¼Œå¦‚JSã€CSSã€HTMLç­‰ç­‰ï¼‰ã€‚\nå¦‚æœæ‰¾ä¸åˆ°å®¢æˆ·ç«¯ä¹Ÿä¼šå±•ç¤º404é”™è¯¯ã€‚\nå¦‚æœå­˜åœ¨å¯¹åº”çš„æ˜ å°„åˆ™æ¥ç€æ‰§è¡Œä¸‹é¢çš„æµç¨‹ã€‚\næ ¹æ®è¯¥URIï¼Œè°ƒç”¨HandlerMappingè·å¾—è¯¥Handleré…ç½®çš„æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬Handlerå¯¹è±¡ä»¥åŠHandlerå¯¹è±¡å¯¹åº”çš„æ‹¦æˆªå™¨ï¼‰ï¼Œæœ€åä»¥HandlerExecutionChainæ‰§è¡Œé“¾å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚\nDispatcherServletæ ¹æ®è·å¾—çš„Handlerï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„HandlerAdapterã€‚\nå¦‚æœæˆåŠŸè·å¾—HandlerAdapterï¼Œæ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„preHandler()æ–¹æ³•ã€‚\næ ¹æ®æ‹¦æˆªå™¨é“¾çš„é¡ºåºï¼Œæ­£åºæ‰§è¡Œã€‚\næå–Requestä¸­çš„æ¨¡å‹æ•°æ®ï¼Œå¡«å……Handlerå…¥å‚ï¼Œå¼€å§‹æ‰§è¡ŒHandlerï¼ˆController)æ–¹æ³•ï¼Œå¤„ç†è¯·æ±‚ã€‚\nåœ¨å¡«å……Handlerçš„å…¥å‚è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä½ çš„é…ç½®ï¼ŒSpringå°†å¸®ä½ åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼š\nHttpMessageConveterï¼š å°†è¯·æ±‚æ¶ˆæ¯ï¼ˆå¦‚JSONã€XMLç­‰æ•°æ®ï¼‰è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œæˆ–å°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„å“åº”ä¿¡æ¯ã€‚\næ•°æ®è½¬æ¢ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®è½¬æ¢ã€‚\nå¦‚Stringè½¬æ¢æˆIntegerã€Doubleç­‰ã€‚\næ•°æ®æ ¼å¼åŒ–ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®æ ¼å¼åŒ–ã€‚\nå¦‚å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ ¼å¼åŒ–æ•°å­—æˆ–æ ¼å¼åŒ–æ—¥æœŸç­‰ã€‚\næ•°æ®éªŒè¯ï¼šéªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆé•¿åº¦ã€æ ¼å¼ç­‰ï¼‰ï¼ŒéªŒè¯ç»“æœå­˜å‚¨åˆ°BindingResultæˆ–Errorä¸­ã€‚\nHandleræ‰§è¡Œå®Œæˆåï¼Œå‘DispatcherServletè¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ã€‚\nå¦‚æœHandlerè¢«æˆåŠŸæ‰§è¡Œï¼Œåˆ™å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„postHandle()æ–¹æ³•ã€‚\næ ¹æ®æ‹¦æˆªå™¨é“¾çš„é¡ºåºï¼Œå€’åºæ‰§è¡Œã€‚\næ ¹æ®è¿”å›çš„ModelAndViewï¼ˆæ­¤æ—¶ä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨å¼‚å¸¸ï¼šå¦‚æœå­˜åœ¨å¼‚å¸¸ï¼Œåˆ™æ‰§è¡ŒHandlerExceptionResolverè¿›è¡Œå¼‚å¸¸å¤„ç†ï¼‰é€‰æ‹©ä¸€ä¸ªé€‚åˆçš„ViewResolverè¿›è¡Œè§†å›¾è§£æï¼Œæ ¹æ®Modelå’ŒViewï¼Œæ¥æ¸²æŸ“è§†å›¾ã€‚\næ¸²æŸ“è§†å›¾å®Œæ¯•æ‰§è¡Œæ‹¦æˆªå™¨çš„afterCompletion()æ–¹æ³•ã€‚\næ ¹æ®æ‹¦æˆªå™¨é“¾çš„é¡ºåºï¼Œå€’åºæ‰§è¡Œã€‚\nå°†æ¸²æŸ“ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚\n","date":"2023å¹´2æœˆ20æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springmvc/base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Spring","url":"/tags/spring/"},{"title":"Maven","url":"/tags/maven/"},{"title":"SpringMVC","url":"/tags/springmvc/"}],"timestamp":1676851200,"title":"SpringMVC åŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åå°„ åå°„æ˜¯Javaä¸­ä¸€ç§ç”¨äºåŠ¨æ€è·å–ç±»æˆ–å¯¹è±¡çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½æœºåˆ¶ã€‚åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œä½¿ç”¨åå°„å¯ä»¥è·å–è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨åå°„èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„å±æ€§å’Œæ–¹æ³•ã€‚åˆ©ç”¨åå°„å¯ä»¥æ— è§†å¯¹è±¡çš„ä¿®é¥°ç¬¦ï¼Œè°ƒç”¨ç±»é‡Œé¢çš„å†…å®¹ã€‚åˆ©ç”¨åå°„å¯ä»¥è·Ÿé…ç½®æ–‡ä»¶ç»“åˆèµ·æ¥ä½¿ç”¨ï¼ŒæŠŠè¦åˆ›å»ºçš„å¯¹è±¡ä¿¡æ¯å’Œæ–¹æ³•å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ã€‚\nä½¿ç”¨åå°„åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š\nè·å–classå­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚ åˆ©ç”¨åå°„å¯ä»¥æ“ä½œç±»æˆ–å¯¹è±¡çš„ä¿¡æ¯æœ‰ï¼š æ„é€ æ–¹æ³•ï¼ˆè·å–ã€åˆ›å»ºå¯¹è±¡ï¼‰ æˆå‘˜å˜é‡ï¼ˆè·å–ã€èµ‹å€¼ï¼‰ æˆå‘˜æ–¹æ³•ï¼ˆè·å–ã€è¿è¡Œï¼‰ è·å–å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ Javaä¸­çš„æ¯ä¸ªç±»éƒ½æ˜¯ä¸€ä¸ªClasså¯¹è±¡ï¼ˆå­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼‰ã€‚è·å–å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡å…±æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š\né€šè¿‡classå­—èŠ‚ç æ–‡ä»¶è·å–ï¼šClass.forName(\u0026quot;ç±»çš„å…¨ç±»å\u0026quot;)\nç±»çš„å…¨ç±»å=ç±»çš„åŒ…å.ç±»åã€‚\nä½¿ç”¨è¯¥æ–¹å¼ï¼Œæ˜¯é€šè¿‡.javaæºä»£ç æ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„.classå­—èŠ‚ç æ–‡ä»¶è·å–ã€‚\nClass clazz = Class.forName(\u0026#34;com.linner.repo.Student\u0026#34;); é€šè¿‡Classå¯¹è±¡çš„classå±æ€§è·å–ï¼šç±»å.class\nè¯¥æ–¹å¼æ˜¯å¯¹è±¡å·²è½½å…¥å†…å­˜åä½¿ç”¨çš„ï¼Œéœ€è¦ä½¿ç”¨importè¯­å¥å°†å¯¹åº”çš„ç±»å¯¼å…¥ï¼ˆ.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜åäº§ç”Ÿçš„Classå¯¹è±¡ä¹Ÿæ˜¯å”¯ä¸€çš„ï¼‰ã€‚\nClass clazz = Student.class; é€šè¿‡å¯¹è±¡è·å–ï¼šå¯¹è±¡.getClass()\né€šè¿‡åˆ›å»ºå¯¹è±¡åçš„getClass()æ–¹æ³•æ¥è¿”å›è¯¥å¯¹è±¡çš„Classå¯¹è±¡ã€‚è¯¥æ–¹æ³•éœ€è¦åˆ›å»ºå…·ä½“å¯¹è±¡åæ‰èƒ½ä½¿ç”¨ã€‚\nStudent student = new Student(); Class clazz = student.getClass(); ä»¥ä¸Šä¸‰ç§æ–¹æ³•è·å–åˆ°çš„Classå¯¹è±¡å‡ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚å³ï¼Œä½¿ç”¨==åˆ†åˆ«åˆ¤æ–­ä»¥ä¸Šä¸‰ç§æ–¹æ³•è·å–åˆ°çš„å¯¹è±¡å‡ä¸ºtrueã€‚\nè·å–äº†Classå¯¹è±¡åå°±å¯ä»¥è·å–åˆ°è¯¥ç±»çš„å„ç§ä¿¡æ¯ã€‚\nè·å–æ„é€ æ–¹æ³• è·å–æ„é€ æ–¹æ³•å³ä¸ºè·å–Constructorå¯¹è±¡ã€‚\næ–¹æ³•å è¯´æ˜ Constructor\u0026lt;?\u0026gt;[] getConstructors() è·å¾—æ‰€æœ‰çš„å…¬å…±æ„é€ æ–¹æ³•ï¼ˆpublicï¼‰ Constructor\u0026lt;?\u0026gt;[] getDeclaredConstructors() è·å¾—æ‰€æœ‰çš„æ„é€ æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼‰ Constructor\u0026lt;T\u0026gt; getConstructor(Class\u0026lt;?\u0026gt;... parameterTypes) è·å–æŒ‡å®šçš„å…¬å…±æ„é€ æ–¹æ³• Constructor\u0026lt;T\u0026gt; getDeclaredConstructor(Class\u0026lt;?\u0026gt;... parameterTypes) è·å–æŒ‡å®šçš„æ„é€ æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼‰ Exampleï¼š\npublic class Student { public Student() { System.out.println(\u0026#34;åˆ›å»ºäº†ä¸€ä¸ªStudentå¯¹è±¡\u0026#34;); } private Student(String name) { System.out.println(\u0026#34;åˆ›å»ºäº†ä¸€ä¸ªStudentå¯¹è±¡ï¼š\u0026#34; + name); } public Student(String name, int age) { System.out.println(\u0026#34;åˆ›å»ºäº†ä¸€ä¸ªStudentå¯¹è±¡ï¼šname=\u0026#34; + name + \u0026#34;, age=\u0026#34; + age); } } public class ReflectDemo { public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException { // è·å–Classå¯¹è±¡ Class clazz = Class.forName(\u0026#34;com.linner.repo.Student\u0026#34;); // è·å–æ‰€æœ‰å…¬å…±æ„é€ æ–¹æ³•å¯¹è±¡ Constructor[] constructors1 = clazz.getConstructors(); for (Constructor constructor : constructors1) { System.out.println(constructor); } System.out.println(\u0026#34;=======================\u0026#34;); // è·å–æ‰€æœ‰æ„é€ æ–¹æ³•å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Constructor[] constructors2 = clazz.getDeclaredConstructors(); for (Constructor constructor : constructors2) { System.out.println(constructor); } System.out.println(\u0026#34;=======================\u0026#34;); // è·å–æŒ‡å®šçš„æ„é€ æ–¹æ³•å¯¹è±¡ // ç©ºå‚æ„é€ æ–¹æ³• Constructor con1 = clazz.getConstructor(); System.out.println(con1); // åŒ…å«å‚æ•°çš„æ„é€ æ–¹æ³• Constructor con2 = clazz.getConstructor(String.class, int.class); System.out.println(con2); // è·å–æŒ‡å®šçš„æ„é€ æ–¹æ³•å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Constructor con3 = clazz.getDeclaredConstructor(String.class); System.out.println(con3); } } é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ ä½¿ç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•å¯ä»¥ä¸ºåå°„çš„ç±»åˆ›å»ºå¯¹è±¡ã€‚\nExampleï¼š\npublic class ReflectDemo { public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException { // è·å–Classå¯¹è±¡ Class clazz = Class.forName(\u0026#34;com.linner.reflect.Student\u0026#34;); // è·å–æ— å‚çš„å…¬å…±æ„é€ æ–¹æ³• Constructor con1 = clazz.getConstructor(); // ä½¿ç”¨æ— å‚çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ Student stu1 = (Student) con1.newInstance(); System.out.println(stu1); // è·å–å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼‰ Constructor con2 = clazz.getDeclaredConstructor(String.class, int.class); // æš´åŠ›åå°„ // å¦‚æœæ˜¯privateä¿®é¥°çš„æ„é€ æ–¹æ³•ï¼Œéœ€è¦ä¸´æ—¶ä¿®æ”¹æ„é€ æ–¹æ³•çš„è®¿é—®æƒé™ï¼ˆå–æ¶ˆæ£€æŸ¥è®¿é—®æƒé™ï¼‰ con2.setAccessible(true); // ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ Student stu2 = (Student) con2.newInstance(\u0026#34;zhangsan\u0026#34;, 23); System.out.println(stu2); } } è·å–æˆå‘˜å˜é‡ è·å–æˆå‘˜å˜é‡å³ä¸ºè·å–Fieldå¯¹è±¡ã€‚\næ–¹æ³•å è¯´æ˜ Field[] getFields() è¿”å›æ‰€æœ‰å…¬å…±æˆå‘˜å˜é‡å¯¹è±¡ï¼ˆpublicï¼‰ Field[] getDeclaredFields() è¿”å›æ‰€æœ‰æˆå‘˜å˜é‡å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Field getField(String name) è¿”å›æŒ‡å®šåç§°çš„å…¬å…±æˆå‘˜å˜é‡å¯¹è±¡ï¼ˆpublicï¼‰ Field getDeclaredField(String name) è¿”å›æŒ‡å®šåç§°çš„æˆå‘˜å˜é‡å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Exampleï¼š\npublic class Student { public String name; private int age; public String gender; private String address; } public class ReflectDemo { public static void main(String[] args) throws ClassNotFoundException, NoSuchFieldException { // è·å–Classå¯¹è±¡ Class clazz = Class.forName(\u0026#34;com.linner.reflect.Student\u0026#34;); // è·å–æ‰€æœ‰å…¬å…±æˆå‘˜å˜é‡å¯¹è±¡ Field[] fields1 = clazz.getFields(); for (Field field : fields1) { System.out.println(field); } System.out.println(\u0026#34;====================\u0026#34;); // è·å–æ‰€æœ‰æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬privateï¼‰ Field[] fields2 = clazz.getDeclaredFields(); for (Field field : fields2) { System.out.println(field); } System.out.println(\u0026#34;====================\u0026#34;); // è·å–æŒ‡å®šåç§°çš„å…¬å…±æˆå‘˜å˜é‡ Field nameField = clazz.getField(\u0026#34;name\u0026#34;); System.out.println(nameField); System.out.println(\u0026#34;====================\u0026#34;); // è·å–æŒ‡å®šåç§°çš„æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬privateï¼‰ Field ageField = clazz.getDeclaredField(\u0026#34;age\u0026#34;); System.out.println(ageField); } } åˆ©ç”¨åå°„è·å–å’Œä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹Fieldå¯¹è±¡æ–¹æ³•å¯¹æˆå‘˜å˜é‡çš„å€¼è¿›è¡Œä¿®æ”¹ï¼š\nèµ‹å€¼ï¼š\nvoid set(Object obj, Object value) å‚æ•°ï¼š\nobjï¼šè¦ä¿®æ”¹å±æ€§å€¼çš„å…·ä½“å¯¹è±¡ï¼› valueï¼šå…·ä½“è¦ä¿®æ”¹çš„å€¼ã€‚ è·å–å€¼ï¼š\nObject get(Object obj) å‚æ•°ï¼š\nobjï¼šè¦ä¿®æ”¹å±æ€§å€¼çš„å…·ä½“å¯¹è±¡ã€‚ Exampleï¼š\npublic class Student { public String name; private int age; private String gender; private String address; public Student(String name, int age, String gender, String address) { this.name = name; this.age = age; this.gender = gender; this.address = address; } } public class ReflectDemo { public static void main(String[] args) throws ClassNotFoundException, IllegalAccessException, NoSuchFieldException { Student student = new Student(\u0026#34;å¼ ä¸‰\u0026#34;, 23, \u0026#34;å¤§ä¸‰\u0026#34;, \u0026#34;å¹¿å·\u0026#34;); // è·å–Classå¯¹è±¡ Class\u0026lt;?\u0026gt; clazz = Class.forName(\u0026#34;com.linner.reflect.Student\u0026#34;); // è·å–å¹¶ä¿®æ”¹nameçš„å€¼ Field nameField = clazz.getField(\u0026#34;name\u0026#34;); // è·å–nameçš„å€¼ String name = (String) nameField.get(student); System.out.println(name); // ä¿®æ”¹nameçš„å€¼ nameField.set(student, \u0026#34;æå››\u0026#34;); name = (String) nameField.get(student); System.out.println(name); System.out.println(\u0026#34;===============\u0026#34;); // è·å–å¹¶ä¿®æ”¹ç§æœ‰å˜é‡çš„å€¼ï¼ˆæš´åŠ›åå°„ï¼‰ Field addressField = clazz.getDeclaredField(\u0026#34;address\u0026#34;); // ä¸´æ—¶å–æ¶ˆè®¿é—®æƒé™ï¼ˆè·å–å’Œä¿®æ”¹ç§æœ‰å˜é‡çš„å€¼éƒ½éœ€è¦æ­¤æ“ä½œï¼‰ addressField.setAccessible(true); // è·å–ç§æœ‰å˜é‡addressçš„å€¼ String address = (String) addressField.get(student); System.out.println(address); // ä¿®æ”¹ç§æœ‰å˜é‡addressçš„å€¼ addressField.set(student, \u0026#34;åŒ—äº¬\u0026#34;); address = (String) addressField.get(student); System.out.println(address); } } è·å–æˆå‘˜æ–¹æ³• è·å–æˆå‘˜æ–¹æ³•å³ä¸ºè·å–Methodå¯¹è±¡ã€‚\næ–¹æ³•å è¯´æ˜ Method[] getMethods() è¿”å›æ‰€æœ‰å…¬å…±æˆå‘˜æ–¹æ³•å¯¹è±¡ï¼ˆpublicï¼‰ Method[] getDeclaredMethods() æ”¾å›æ‰€æœ‰æˆå‘˜æ–¹æ³•å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Method getMethod(String name, Class\u0026lt;?\u0026gt;... parameterTypes) è¿”å›æŒ‡å®šåç§°å’Œå½¢å‚çš„å…¬å…±æˆå‘˜æ–¹æ³•å¯¹è±¡ï¼ˆpublicï¼‰ Method getDeclaredMethod(String name, Class\u0026lt;?\u0026gt;... parameterTypes è¿”å›æŒ‡å®šåç§°å’Œå½¢å‚çš„æˆå‘˜æ–¹æ³•å¯¹è±¡ï¼ˆåŒ…æ‹¬privateï¼‰ Exampleï¼š\npackage com.linner.reflect; public class Student { private String name; private int age; private String gender; private String address; public Student() { } public Student(String name) { this.name = name; } public Student(String name, int age) { this.name = name; this.age = age; } public Student(String name, int age, String gender, String address) { this.name = name; this.age = age; this.gender = gender; this.address = address; } public String getName() { return name; } public void setName(String name) { this.name = name; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } public String getGender() { return gender; } public void setGender(String gender) { this.gender = gender; } public String getAddress() { return address; } public void setAddress(String address) { this.address = address; } @Override public String toString() { return \u0026#34;Student{\u0026#34; + \u0026#34;name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, age=\u0026#34; + age + \u0026#34;, gender=\u0026#39;\u0026#34; + gender + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, address=\u0026#39;\u0026#34; + address + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } private void sleep() { System.out.println(this.name + \u0026#34;æ­£åœ¨ç¡è§‰\u0026#34;); } private void study() { System.out.println(this.name + \u0026#34;æ­£åœ¨å†…å·\u0026#34;); } private void study(int time) { System.out.println(this.name + \u0026#34;å·²ç»å·äº†\u0026#34; + time + \u0026#34;åˆ†é’Ÿè¿˜åœ¨å·\u0026#34;); } } public class ReflectDemo1 { public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException { // è·å–Classå¯¹è±¡ Class\u0026lt;?\u0026gt; clazz = Class.forName(\u0026#34;com.linner.reflect.Student\u0026#34;); // è·å–æ‰€æœ‰å…¬å…±æˆå‘˜æ–¹æ³• Method[] methods1 = clazz.getMethods(); for (Method method : methods1) { System.out.println(method); } System.out.println(\u0026#34;==============\u0026#34;); // è·å–æ‰€æœ‰æˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼‰ Method[] methods2 = clazz.getDeclaredMethods(); for (Method method : methods2) { System.out.println(method); } System.out.println(\u0026#34;==============\u0026#34;); // è·å–æŒ‡å®šçš„å…¬å…±æˆå‘˜æ–¹æ³• // ç©ºå‚çš„å…¬å…±æˆå‘˜æ–¹æ³• Method toStringMethod = clazz.getMethod(\u0026#34;toString\u0026#34;); System.out.println(toStringMethod); // å¸¦å‚æ•°çš„å…¬å…±æˆå‘˜æ–¹æ³• Method setNameMethod = clazz.getMethod(\u0026#34;setName\u0026#34;, String.class); System.out.println(setNameMethod); System.out.println(\u0026#34;==============\u0026#34;); // è·å–æŒ‡å®šçš„æˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬privateï¼‰ // ç©ºå‚çš„æˆå‘˜æ–¹æ³• Method studyMethod1 = clazz.getDeclaredMethod(\u0026#34;study\u0026#34;); System.out.println(studyMethod1); // å¸¦å‚æ•°çš„æˆå‘˜æ–¹æ³• Method studyMethod2 = clazz.getDeclaredMethod(\u0026#34;study\u0026#34;, int.class); System.out.println(studyMethod2); } } é€šè¿‡åå°„è¿è¡Œæˆå‘˜æ–¹æ³• ä½¿ç”¨Methodå¯¹è±¡çš„invoke()æ–¹æ³•å¯ä»¥è¿è¡Œæˆå‘˜æ–¹æ³•ã€‚\nObject invoke(Object obj, Object... args) objï¼šå…·ä½“è°ƒç”¨æˆå‘˜æ–¹æ³•çš„å¯¹è±¡ï¼› argsï¼šè°ƒç”¨æˆå‘˜æ–¹æ³•ä¼ é€’çš„å‚æ•°ï¼› è¿”å›å€¼ï¼šæ–¹æ³•çš„è¿”å›å€¼ã€‚ Exampleï¼š\npublic class ReflectDemo1 { public static void main(String[] args) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException { Student student = new Student(\u0026#34;å¼ ä¸‰\u0026#34;, 23, \u0026#34;å¤§ä¸‰\u0026#34;, \u0026#34;å¹¿å·\u0026#34;); // è·å–Classå¯¹è±¡ Class\u0026lt;?\u0026gt; clazz = Class.forName(\u0026#34;com.linner.reflect.Student\u0026#34;); // è°ƒç”¨æ— å‚çš„æˆå‘˜æ–¹æ³• Method toStringMethod = clazz.getMethod(\u0026#34;toString\u0026#34;); String studentToString = (String) toStringMethod.invoke(student); System.out.println(studentToString); // è°ƒç”¨å¸¦å‚çš„ç§æœ‰æˆå‘˜æ–¹æ³• Method studyMethod = clazz.getDeclaredMethod(\u0026#34;study\u0026#34;, int.class); // ä¸´æ—¶å–æ¶ˆè®¿é—®æƒé™ studyMethod.setAccessible(true); studyMethod.invoke(student, 180); } } æ³¨è§£ Javaæ³¨è§£æ˜¯é™„åŠ åœ¨ä»£ç ä¸­çš„ä¸€äº›å…ƒä¿¡æ¯ï¼Œç”¨äºç¼–è¯‘å’Œè¿è¡Œæ—¶è¿›è¡Œè§£æå’Œä½¿ç”¨ï¼Œèµ·åˆ°è¯´æ˜ã€é…ç½®çš„åŠŸèƒ½ã€‚\næ³¨è§£ä¸ä¼šå½±å“ä»£ç çš„å®é™…é€»è¾‘ï¼ˆå¹¶ä¸ç›´æ¥å½±å“ä»£ç çš„è¯­ä¹‰ï¼‰ï¼Œä»…ä»…èµ·åˆ°è¾…åŠ©æ€§çš„ä½œç”¨ï¼ˆä½†æ˜¯æ³¨è§£å¯ä»¥è¢«çœ‹åšæ˜¯ç¨‹åºçš„å·¥å…·æˆ–è€…ç±»åº“ã€‚ä¼šåè¿‡æ¥å¯¹æ­£åœ¨è¿è¡Œçš„ç¨‹åºè¯­ä¹‰æœ‰æ‰€å½±å“ï¼‰ã€‚åŒ…å«åœ¨java.lang.annotationåŒ…ä¸­ã€‚æ³¨è§£ä½¿ç”¨@interfaceæ¥å®šä¹‰ï¼ˆç±»ä¼¼äºæ¥å£çš„å®šä¹‰ï¼‰ã€‚ä¸ºæ³¨è§£å®šä¹‰ä¸€ä¸ªæ–¹æ³•å³ä¸ºæ³¨è§£ç±»å‹å®šä¹‰äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ–¹æ³•çš„å£°æ˜ä¸å…è®¸æœ‰å‚æ•°æˆ–throwè¯­å¥ï¼Œè¿”å›å€¼ç±»å‹è¢«é™å®šä¸ºåŸå§‹æ•°æ®ç±»å‹ã€Stringã€Classã€enumsã€æ³¨è§£ç±»å‹ï¼Œæˆ–å‰é¢è¿™äº›ç±»å‹çš„æ•°ç»„ï¼Œæ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å€¼ã€‚æ³¨è§£å¯ä»¥ä»æºæ–‡ä»¶ã€classæ–‡ä»¶æˆ–è€…åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æœºåˆ¶å¤šç§æ–¹å¼è¢«è¯»å–ã€‚\næ³¨è§£çš„å®ç°çš„åŸç†å¾ˆå¤§çš„ä¸€éƒ¨åˆ†æ˜¯åŸºäºåå°„å®ç°ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œæ³¨è§£ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š\nå…ƒæ³¨è§£ æ ‡å‡†æ³¨è§£ è‡ªå®šä¹‰æ³¨è§£ å…ƒæ³¨è§£ å…ƒæ³¨è§£æ˜¯ä¸“èŒè´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ï¼Œä¸»è¦æ˜¯æ ‡æ˜è¯¥æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œç”Ÿæ•ˆèŒƒå›´ã€‚å…ƒæ³¨è§£å¹¶ä¸èƒ½è¢«ä¿®æ”¹ï¼Œåªèƒ½è¢«ç”¨æ¥å®šä¹‰è‡ªå®šä¹‰æ³¨è§£ã€‚\nå…ƒæ³¨è§£åŒ…æ‹¬ä»¥ä¸‹å››ç§ï¼š\næ³¨è§£ è¯´æ˜ @Target å®šä¹‰æ³¨è§£çš„ä½œç”¨ç›®æ ‡ã€‚å³ç”¨æ¥å®šä¹‰è‡ªå®šä¹‰æ³¨è§£å…·ä½“ä½œç”¨åœ¨ç±»ä¸Šï¼Œæ–¹æ³•ä¸Šï¼Œè¿˜æ˜¯å˜é‡ä¸Šã€‚å…·ä½“å€¼å’Œä½œç”¨å¯¹è±¡å¦‚ä¸‹ï¼š\nElementType.TYPEï¼šæ¥å£ã€ç±»ã€æšä¸¾ã€æ³¨è§£\nElementType.FIELDï¼šå­—æ®µã€æšä¸¾çš„å¸¸é‡\nElementType.METHODï¼šæ–¹æ³•\nElementType.PARAMETERï¼šæ–¹æ³•å‚æ•°\nElementType.CONSTRUCTORï¼šæ„é€ å‡½æ•°\nElementType.LOCAL_VARIABLEï¼šå±€éƒ¨å˜é‡\nElementType.ANNOTATION_TYPEï¼šæ³¨è§£\nElementType.PACKAGEï¼šåŒ… Retention å®šä¹‰æ³¨è§£çš„ä¿ç•™ç­–ç•¥ã€‚è¯¥æ³¨è§£çš„å€¼å¦‚ä¸‹ï¼š\nRetentionPolicy.SOURCEï¼šå®šä¹‰æ³¨è§£ä»…å­˜åœ¨äºæºç ä¸­ï¼Œåœ¨classå­—èŠ‚ç æ–‡ä»¶ä¸­ä¸åŒ…å«ï¼›\nRetentionPolicy.CLASSï¼šè¯¥æ³¨è§£é»˜è®¤çš„ä¿ç•™ç­–ç•¥ï¼Œå®šä¹‰æ³¨è§£ä¼šåœ¨classå­—èŠ‚ç æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œä½†è¿è¡Œæ—¶æ— æ³•è·å¾—ï¼›\nRetentionPolicy.RUNTIMEï¼šå®šä¹‰æ³¨è§£ä¼šåœ¨classå­—èŠ‚ç æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è·å–åˆ°ã€‚ @Document è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­ã€‚ @Inherited è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿è¯¥æ³¨è§£ã€‚ æ ‡å‡†æ³¨è§£ Java æä¾›äº†ä¸‰ä¸ªæ ‡å‡†æ³¨è§£ï¼Œå®šä¹‰åœ¨java.langä¸­ï¼ˆè¿™ä¸‰ä¸ªæ³¨è§£çš„ä½œç”¨æ›´å¤šæ˜¯ä¸€ç§æ³¨é‡Šï¼‰ã€‚\n@Overrideï¼šè¡¨ç¤ºå½“å‰æ–¹æ³•è¦†ç›–äº†çˆ¶ç±»ä¸­çš„å¯¹åº”æ–¹æ³•ï¼ˆé‡å†™æ–¹æ³•ï¼‰ã€‚\n@Deprecatedï¼šæ ‡è®°ä¸€ä¸ªå…ƒç´ ä¸ºå·²è¿‡æœŸï¼Œé¿å…æˆ–ä¸æ¨èä½¿ç”¨ã€‚\næ”¯æŒçš„å…ƒç´ ç±»å‹ä¸ºï¼šCONSTRUCTOR, FIELD, LOCAL_VARIABLE, METHOD, PACKAGE, PARAMETER, TYPEã€‚\n@SuppressWarningsï¼šä¸è¾“å‡ºå¯¹åº”çš„ç¼–è¯‘è­¦å‘Šã€‚\nè‡ªå®šä¹‰æ³¨è§£ æ³¨è§£çš„å®šä¹‰ç±»ä¼¼äºæ¥å£çš„å®šä¹‰ï¼Œä½¿ç”¨@interfaceæ¥å®šä¹‰ã€‚å®šä¹‰æ³¨è§£ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•å³ä¸ºæ³¨è§£ç±»å‹å®šä¹‰äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ–¹æ³•çš„å£°æ˜ä¸å…è®¸æœ‰å‚æ•°æˆ–throwè¯­å¥ï¼Œè¿”å›å€¼ç±»å‹è¢«é™å®šä¸ºåŸå§‹æ•°æ®ç±»å‹ã€å­—ç¬¦ä¸²Stringã€Classã€enumsã€æ³¨è§£ç±»å‹ï¼Œæˆ–å‰é¢è¿™äº›ç±»å‹çš„æ•°ç»„ï¼Œæ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å€¼ã€‚\nè‡ªå®šä¹‰æ³¨è§£ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š\nå®šä¹‰æ³¨è§£ã€‚\nå¦‚ï¼š\n@Target(ElementType.Type) // è¡¨æ˜è¯¥æ³¨è§£åŠ è½½åœ¨ç±»ä¸Š @Retention(RetentionPolicy.RUNTIME) // è¡¨æ˜è¿è¡Œæ—¶è¯»å–è¯¥æ³¨è§£ // å®šä¹‰æ³¨è§£ç±» public @interface MyAnnotationType { // å®šä¹‰æ³¨è§£æ–¹æ³•ï¼ˆä¸èƒ½æœ‰å‚æ•°æˆ–throwç­‰ï¼‰ String value(); } @Target(ElementType.FIELD) // è¡¨æ˜è¯¥æ³¨è§£åŠ è½½åœ¨å­—æ®µä¸Šï¼ˆæ¥å£ã€ç±»ã€æšä¸¾ï¼‰ã€‚ @Retention(RetentionPolicy.RUNTIME) public @interface MyAnnotationField { String name(); // ä½¿ç”¨defaultå®šä¹‰é»˜è®¤å€¼ int length() default 0; } ä½¿ç”¨æ³¨è§£ã€‚\nå¦‚ï¼ˆåœ¨å…¶ä»–ç±»ä¸Šï¼‰ï¼š\n@MyAnnotationType(\u0026#34;Annotation\u0026#34;) // æˆ–ï¼ˆæœ‰å¤šä¸ªå…ƒç´ æ—¶éœ€è¦æŒ‡å®šå…ƒç´ åï¼‰ï¼š@MyAnnotation1(value = \u0026#34;Annotation\u0026#34;) public class UsingAnnotations { @MyAnnotationField(name = \u0026#34;å¼ ä¸‰\u0026#34;, length = 12) public int a; @MyAnnotationField(name = \u0026#34;æå››\u0026#34;) // lengthå°†ä½¿ç”¨é»˜è®¤å€¼ public String b; } è¯»å–æ³¨è§£ã€‚\nå¦‚ï¼ˆå®šä¹‰ä¸€ä¸ªç±»æ¥è¯»å–ï¼‰ï¼š\npublic class AnnotationValues { public static void readValues() throws ClassNotFoundException { Class usingAnnotationsClass = Class.forName(\u0026#34;UsingAnnotation\u0026#34;); // è¯»å–ä½œç”¨äºç±»ä¸Šçš„æ³¨è§£ MyAnnotationType mat = (MyAnnotationType) usingAnnotationsClass.getAnnotation(MyAnnotationType.class); System.out.println(mat.value()); // è¯»å–ä½œç”¨äºå±æ€§ä¸Šçš„æ³¨è§£ Field a = usingAnnotationsClass.getDeclaredField(\u0026#34;a\u0026#34;); MyAnnotationField maf = (MyAnnotationField) a.getAnnotation(MyAnnotationField.class); System.out.println(maf.name()); System.out.println(maf.length()); } } ä½¿ç”¨æ³¨è§£æ¨¡æ‹Ÿ Junit public class AnnotationDemo { // @MyTest public void test1() { System.out.println(\u0026#34;test1...\u0026#34;); } @MyTest public void test2() { System.out.println(\u0026#34;test2...\u0026#34;); } // @MyTest public void test3() { System.out.println(\u0026#34;test3...\u0026#34;); } @MyTest public void test4() { System.out.println(\u0026#34;test4...\u0026#34;); } @MyTest public void test5() { System.out.println(\u0026#34;test5...\u0026#34;); } public static void main(String[] args) throws Exception { AnnotationDemo a = new AnnotationDemo(); // è·å–Classå¯¹è±¡ Class\u0026lt;?\u0026gt; clazz = Class.forName(\u0026#34;com.linner.annotation.AnnotationDemo\u0026#34;); // åˆ¤æ–­å¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•ä¸Šæ˜¯å¦å­˜åœ¨MyTestæ³¨è§£ Method[] methods = clazz.getDeclaredMethods(); for (Method method : methods) { if (method.isAnnotationPresent(MyTest.class)) { method.invoke(a); } } } } ","date":"2023å¹´2æœˆ14æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2023/02/java-%E8%BF%9B%E9%98%B6/","series":[],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"}],"timestamp":1676332800,"title":"Java è¿›é˜¶"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Spring Framewor ç®€ä»‹ Spring5.0å·²ç»å…¨é¢æ”¯æŒJDK8ï¼Œå»ºè®®JDKä½¿ç”¨1.8ç‰ˆæœ¬ã€‚\nSpring Frameworkæ˜¯Springå®¶æ—ä¸­å…¶ä»–æ¡†æ¶çš„åº•å±‚åŸºç¡€ã€‚\nSpring Framewor æ¶æ„ Spring Frameworkçš„å‘å±•ç»å†äº†å¾ˆå¤šç‰ˆæœ¬çš„å˜æ›´ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ç›¸åº”çš„è°ƒæ•´ã€‚\nSpring Framework æ¶æ„ï¼š\næ ¸å¿ƒå±‚\nCore Containerï¼šæ ¸å¿ƒå®¹å™¨ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯Springæœ€æ ¸å¿ƒçš„æ¨¡å—ï¼Œå…¶ä»–çš„éƒ½éœ€è¦ä¾èµ–è¯¥æ¨¡å—ã€‚\nAOPå±‚\nAOPï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå®ƒä¾èµ–æ ¸å¿ƒå±‚å®¹å™¨ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„å‰æä¸‹å¯¹å…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ Aspectsï¼šAOPæ˜¯ç¼–ç¨‹æ€æƒ³ï¼ŒAspectsæ˜¯å¯¹AOPæ€æƒ³çš„å…·ä½“å®ç°ã€‚ æ•°æ®å±‚\nData Accessï¼šæ•°æ®è®¿é—®ï¼ŒSpringå…¨å®¶æ¡¶ä¸­æœ‰å¯¹æ•°æ®è®¿é—®çš„å…·ä½“å®ç°æŠ€æœ¯ã€‚ Data Integrationï¼šæ•°æ®é›†æˆï¼ŒSpringæ”¯æŒæ•´åˆå…¶ä»–çš„æ•°æ®å±‚è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚Mybatisã€‚ Transactionsï¼šäº‹åŠ¡ï¼ŒSpringä¸­äº‹åŠ¡ç®¡ç†æ˜¯Spring AOPçš„ä¸€ä¸ªå…·ä½“å®ç°ã€‚ Webå±‚\nTestå±‚\nSpringä¸»è¦æ•´åˆäº†Junitæ¥å®Œæˆå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚\nä»Spring Framework 5æ²¡æœ‰æ¶æ„å›¾ï¼Œè€Œæœ€æ–°çš„æ¶æ„å›¾æ˜¯4ç‰ˆæœ¬ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºSpring Frameworkä»4ç‰ˆæœ¬å¼€å§‹æ¶æ„å°±å·²ç»è¶‹äºç¨³å®šï¼Œæ²¡æœ‰ä»€ä¹ˆå˜åŠ¨ã€‚\nSpring æ ¸å¿ƒæ¦‚å¿µ åœ¨Springæ ¸å¿ƒæ¦‚å¿µä¸»è¦åŒ…å«ï¼š\nIOC\nIOCï¼ŒInversion of Controlï¼Œå³æ§åˆ¶åè½¬ã€‚ æ§åˆ¶åè½¬ï¼šä¸»åŠ¨newäº§ç”Ÿå¯¹è±¡è½¬æ¢ä¸ºç”±å¤–éƒ¨æä¾›å¯¹è±¡ï¼Œæ­¤è¿‡ç¨‹ä¸­å¯¹è±¡åˆ›å»ºæ§åˆ¶æƒç”±ç¨‹åºè½¬ç§»åˆ°å¤–éƒ¨çš„ä¸€ç§æ€æƒ³ã€‚ ä¾‹å¦‚ï¼Œä¸šåŠ¡ï¼ˆServiceï¼‰å±‚è¦ä½¿ç”¨åˆ°æ•°æ®ï¼ˆDAOï¼‰å±‚çš„ç±»å¯¹è±¡ã€‚æ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨IOCæ€æƒ³ï¼Œç”±å¤–éƒ¨ç¨‹åºç»™ä¸šåŠ¡å±‚åˆ›å»ºæ•°æ®å±‚å¯¹è±¡ã€‚ è¿™æ ·å¯ä»¥é™ä½ä¸šåŠ¡å±‚å’Œæ•°æ®å±‚ä¹‹é—´çš„è€¦åˆæ€§ã€‚ å¦‚æœæ•°æ®å±‚çš„å®ç°æ›´æ”¹çš„è¯ï¼Œå°±æ— éœ€åœ¨ä¸šåŠ¡å±‚ä¸­ä¿®æ”¹å®ç°ç±»ã€‚\nIOCå®¹å™¨ Springæä¾›äº†ä¸€ä¸ªå®¹å™¨ï¼Œç§°ä¸ºIOCå®¹å™¨ï¼Œç”¨æ¥å……å½“IOCæ€æƒ³ä¸­çš„\u0026quot;å¤–éƒ¨\u0026quot;ã€‚ IOCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œã€‚ Bean åœ¨IOCå®¹å™¨ä¸­ï¼Œè¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡ç»Ÿç§°ä¸ºBeanã€‚ IOCå®¹å™¨ä¸­å­˜æ”¾çš„å°±æ˜¯ä¸€ä¸ªä¸ªçš„Beanå¯¹è±¡ã€‚ DI\nä¾èµ–æ³¨å…¥ï¼šåœ¨å®¹å™¨ä¸­å»ºç«‹Beanä¸Beanä¹‹é—´çš„ä¾èµ–å…³ç³»çš„æ•´ä¸ªè¿‡ç¨‹ã€‚ ä¾‹å¦‚ï¼Œä¸šåŠ¡å±‚å’Œæ•°æ®å±‚åœ¨IOCå®¹å™¨ä¸­åˆ›å»ºBeanåï¼Œå¹¶ä¸èƒ½ç›´æ¥å·¥ä½œï¼Œå› ä¸ºä¸šåŠ¡å±‚éœ€è¦ä¾èµ–æ•°æ®å±‚æ‰èƒ½æ­£ç¡®å·¥ä½œã€‚æ‰€ä»¥æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼Œåœ¨ä¸šåŠ¡å±‚å’Œæ•°æ®å±‚ä¹‹é—´å»ºç«‹ä¾èµ–å…³ç³»ã€‚\nIOCå’ŒDIçš„æœ€ç»ˆç›®æ ‡å°±æ˜¯å……åˆ†è§£è€¦ã€‚åœ¨Spring Frameworä¸­çš„å®ç°ä¾é ï¼š\nä½¿ç”¨IOCå®¹å™¨ç®¡ç†Beanï¼ˆIOCï¼‰ã€‚ åœ¨IOCå®¹å™¨å†…å°†æœ‰ä¾èµ–å…³ç³»çš„Beanè¿›è¡Œå…³ç³»ç»‘å®šï¼ˆDIï¼‰ã€‚ æœ€ç»ˆï¼Œä½¿ç”¨å¯¹è±¡æ—¶ä¸ä»…å¯ä»¥ç›´æ¥ä»IOCå®¹å™¨ä¸­è·å–ï¼Œå¹¶ä¸”è·å–åˆ°çš„beanå·²ç»ç»‘å®šäº†æ‰€æœ‰çš„ä¾èµ–å…³ç³»ã€‚\né…ç½®æ–‡ä»¶æ–¹æ³•ä½¿ç”¨IOC/DI ä½¿ç”¨ IOC å®¹å™¨åˆ›å»º Beanï¼ˆbean æ ‡ç­¾ï¼‰ åŸºç¡€é…ç½®ï¼š\nåˆ›å»ºMavené¡¹ç›®ï¼Œé¡¹ç›®åŸºç¡€ç»“æ„å¦‚ä¸‹ï¼š\nğŸ“project-file-name ğŸ“src ğŸ“main ğŸ“java ğŸ“com.linner ğŸ“dao ğŸ“domain ğŸ“service ğŸ“resourcs ğŸ“test ğŸ“java ğŸ“com.linner ğŸ“service ğŸ“„pom.xml æ·»åŠ Spring Frameworkçš„ä¾èµ–jaråŒ…ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;!--springframework--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--junit--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.12\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/dependencies\u0026gt; æ·»åŠ ä¸šåŠ¡å±‚ã€æ•°æ®å±‚ç±»ï¼š\nUser.java:\npackage com.linner.domain; public class User { Integer id; String username; String password; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, username=\u0026#39;\u0026#34; + username + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } DAO(ä»…æµ‹è¯•ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“):\næ¥å£ï¼š\npackage com.linner.dao; import com.linner.domain.User; import java.util.List; public interface UserDao { List\u0026lt;User\u0026gt; findAll(); User findById(int id); void delete(int id); void save(User user); void update(User user); } å®ç°ç±»ï¼š\npackage com.linner.dao.impl; import com.linner.dao.UserDao; import com.linner.domain.User; import java.util.List; public class UserDaoImpl implements UserDao { @Override public List\u0026lt;User\u0026gt; findAll() { System.out.println(\u0026#34;UserDao findAll...\u0026#34;); return null; } @Override public User findById(int id) { System.out.println(\u0026#34;UserDao findById:\u0026#34; + id); return null; } @Override public void delete(int id) { System.out.println(\u0026#34;UserDao delete:\u0026#34; + id); } @Override public void save(User user) { System.out.println(\u0026#34;UserDao save:\u0026#34; + user); } @Override public void update(User user) { System.out.println(\u0026#34;UserDao update:\u0026#34; + user); } } Service:\næ¥å£ï¼š\npackage com.linner.service; import com.linner.domain.User; import java.util.List; public interface UserService { List\u0026lt;User\u0026gt; findAll(); User findById(int id); void delete(int id); void save(User user); void update(User user); } å®ç°ç±»ï¼š\npackage com.linner.service.impl; import com.linner.dao.UserDao; import com.linner.dao.impl.UserDaoImpl; import com.linner.domain.User; import com.linner.service.UserService; import java.util.List; public class UserServiceImpl implements UserService { private UserDao userDao = new UserDaoImpl(); @Override public List\u0026lt;User\u0026gt; findAll() { System.out.println(\u0026#34;UserService findAll...\u0026#34;); userDao.findAll(); return null; } @Override public User findById(int id) { System.out.println(\u0026#34;UserService findById:\u0026#34; + id); userDao.findById(id); return null; } @Override public void delete(int id) { System.out.println(\u0026#34;UserService delete:\u0026#34; + id); userDao.delete(id); } @Override public void save(User user) { System.out.println(\u0026#34;UserService save:\u0026#34; + user); userDao.save(user); } @Override public void update(User user) { System.out.println(\u0026#34;UserService update:\u0026#34; + user); userDao.update(user); } } æµ‹è¯•æ–¹æ³•ï¼š\npackage com.linner.service; import com.linner.domain.User; import com.linner.service.UserService; import com.linner.service.impl.UserServiceImpl; import org.junit.Test; import java.util.List; public class UserServiceTest { private UserService userService = new UserServiceImpl(); @Test public void testFindAll() { userService.findAll(); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testFindById() { int id = 12; userService.findById(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testDelete() { int id = 12; userService.delete(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testSave() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.save(user); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testUpdate() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.update(user); System.out.println(\u0026#34;------------\u0026#34;); } } åˆ›å»ºBean\nåœ¨ğŸ“resourcsç›®å½•ä¸‹åˆ›å»ºStringé…ç½®æ–‡ä»¶applicationContext.xmlï¼Œå¹¶ä½¿ç”¨\u0026lt;bean\u0026gt;æ ‡ç­¾é…ç½®Beanï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\u0026#34;\u0026gt; \u0026lt;!--æ·»åŠ UserService--\u0026gt; \u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34;/\u0026gt; \u0026lt;/beans\u0026gt; æ¥ç€åœ¨ç¨‹åºä¸­ä½¿ç”¨Springæä¾›çš„æ–¹æ³•è·å–IOCå®¹å™¨ã€‚ç„¶åä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼Œä¿®æ”¹Testç±»è¿›è¡Œæµ‹è¯•ï¼š\npublic class UserServiceTest { // private UserService userService = new UserServiceImpl(); // ä½¿ç”¨IOCæ— éœ€è‡ªå·±åˆ›å»ºå¯¹è±¡ï¼ˆå¯¹è±¡ç”±IOCå®¹å™¨åˆ†é… private static UserService userService; // è¿™é‡Œä½¿ç”¨é™æ€ä»£ç å—è·å–å®¹å™¨å’ŒBean static { // è·å–IOCå®¹å™¨ ApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); } // ... } IOCæ ¸å¿ƒå®¹å™¨åˆ›å»ºæ–¹å¼æœ‰ï¼š\nClassPathXmlApplicationContextï¼šç±»è·¯å¾„ä¸‹çš„XMLé…ç½®æ–‡ä»¶ã€‚\nApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); ClassPathXmlApplicationContextçš„å‚æ•°ä¸ºXMLé…ç½®æ–‡ä»¶åœ¨ç±»è·¯å¾„ä¸‹çš„ç›¸å¯¹è·¯å¾„ã€‚\nFileSystemXmlApplicationContextï¼š\nApplicationContext ctx = new FileSystemXmlApplicationContext(\u0026#34;/home/linner/IdeaProjects/my-springfw-demo/src/main/resources/applicationContext.xml\u0026#34;); FileSystemXmlApplicationContextçš„å‚æ•°ä¸ºXMLé…ç½®æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸‹çš„ç»å¯¹è·¯å¾„ã€‚\nUserServiceTestæ‰§è¡ŒæˆåŠŸè¯´æ˜é…ç½®æˆåŠŸã€‚\nBean çš„åŸºç¡€é…ç½® \u0026lt;bean\u0026gt;æ ‡ç­¾æ˜¯ä½œä¸ºSpringé…ç½®Beanä½¿ç”¨ã€‚å…¶åŸºæœ¬å½¢å¼ä¸ºï¼š\n\u0026lt;bean id=\u0026#34;\u0026#34; class=\u0026#34;\u0026#34;/\u0026gt; idï¼šBeanæ ‡ç­¾çš„å”¯ä¸€æ ‡è¯†ã€‚åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­(é…ç½®æ–‡ä»¶)ä¸èƒ½é‡å¤ã€‚ classï¼šBeançš„ç±»å‹ã€‚åŒ…å«åŒ…åå’Œç±»åã€‚ åˆ«åï¼ˆname å±æ€§ï¼‰ \u0026lt;bean\u0026gt;çš„nameå±æ€§å¯ä»¥ä¸º\u0026lt;bean\u0026gt;æŒ‡å®šåˆ«åï¼Œåˆ«åå¯ä»¥æœ‰å¤šä¸ªï¼Œä½¿ç”¨,ï¼Œ;ï¼Œç©ºæ ¼è¿›è¡Œåˆ†éš”ã€‚å¦‚ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; name=\u0026#34;service userEbi\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34;/\u0026gt; è¯´æ˜ï¼šEBIå…¨ç§°Enterprise Business Interfaceï¼Œè¯‘ä¸ºä¼ä¸šä¸šåŠ¡æ¥å£ã€‚\nè·å– Bean çš„æ–¹å¼ï¼ˆgetBean() æ–¹æ³•ï¼‰ ä½¿ç”¨getBean()è·å–Beançš„æ–¹å¼æœ‰ä¸‰ç§ï¼š\næŒ‰ç…§åç§°è·å–ï¼š\næ˜¯æŒ‡åœ¨getBean()æ–¹æ³•ä¸­ä¼ é€’Stringç±»å‹çš„å‚æ•°ï¼Œå‚æ•°çš„å€¼ä¸ºBeançš„åç§°ã€‚\nObject getBean(String s) æŒ‰ç…§ç±»å‹è·å–ï¼š\néœ€è¦ä¿è¯è¯¥ç±»å‹åœ¨IOCå®¹å™¨ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªBeanï¼ˆä¸èƒ½åŒ…å«å¤šä¸ªåŒç±»å‹çš„Beanï¼‰ã€‚ åœ¨å‚æ•°ä¸­ä¼ é€’è¯¥ç±»å‹çš„classã€‚\n\u0026lt;T\u0026gt; T getBean(Class\u0026lt;T\u0026gt; aClass) æŒ‰ç…§åç§°å’Œç±»å‹è·å–ï¼š\nåœ¨å‚æ•°ä¸­ä¼ å…¥Beançš„åç§°å’Œç±»å‹ã€‚\n\u0026lt;T\u0026gt; T getBean(String s, Class\u0026lt;T\u0026gt; aClass) ä½œç”¨èŒƒå›´ï¼ˆscope å±æ€§ï¼‰ \u0026lt;bean\u0026gt;çš„scopeå±æ€§å¯ä»¥ä¸º\u0026lt;bean\u0026gt;è®¾ç½®ä½œç”¨èŒƒå›´ï¼Œå¯é€‰å€¼ä¸ºï¼š\nsinglotonï¼šé»˜è®¤ï¼Œè¡¨ç¤ºåˆ›å»ºçš„å¯¹è±¡ä¸ºå•ä¾‹ï¼ˆåœ¨æ•´ä¸ªIOCå®¹å™¨ä¸­æ‰€æœ‰è·å–åˆ°çš„è¯¥å¯¹è±¡éƒ½ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚å¦‚ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; scope=\u0026#34;singloton\u0026#34;/\u0026gt; æˆ–ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; /\u0026gt; å®é™…ä¸Šï¼Œå•ä¾‹å¯¹è±¡åœ¨å®¹å™¨è¢«è·å–çš„æ—¶å€™å°±å·²ç»è¢«åˆ›å»ºäº†ã€‚\nprototypeï¼šè¡¨ç¤ºåˆ›å»ºçš„å¯¹è±¡ä¸ºéå•ä¾‹ï¼ˆæ¯æ¬¡åœ¨IOCå®¹å™¨ä¸­è·å–åˆ°çš„å¯¹è±¡éƒ½æ˜¯ä¸åŒçš„å¯¹è±¡ï¼‰ã€‚å¦‚ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; name=\u0026#34;service userEbi\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; scope=\u0026#34;prototype\u0026#34;/\u0026gt; Exampleï¼š\nå°†UserServiceè®¾ä¸ºå•ä¾‹ï¼š\nStringé…ç½®æ–‡ä»¶applicationContext.xmlä¸­userServiceçš„\u0026lt;bean\u0026gt;ï¼ˆç”±äºSpringé»˜è®¤åˆ›å»ºçš„æ˜¯å•ä¾‹ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥é€‰æ‹©ä¸æ·»åŠ scope=\u0026quot;singloton\u0026quot;ï¼‰ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34;\u0026gt; \u0026lt;/bean\u0026gt; åˆ›å»ºæ–°çš„æµ‹è¯•ç±»TestForUserServiceScopeï¼š\npackage com.linner.service; import com.linner.domain.User; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class TestForUserServiceScope { private static ApplicationContext ctx; static { ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); } @Test public void testFindAll() { UserService userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); System.out.println(userService); userService.findAll(); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testFindById() { UserService userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); System.out.println(userService); int id = 12; userService.findById(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testDelete() { UserService userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); System.out.println(userService); int id = 12; userService.delete(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testSave() { UserService userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); System.out.println(userService); User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.save(user); System.out.println(\u0026#34;------------\u0026#34;); } public void testUpdate() { UserService userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); System.out.println(userService); User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.update(user); System.out.println(\u0026#34;------------\u0026#34;); } } æ‰§è¡ŒUserServiceTest1åï¼Œåœ¨è¾“å‡ºä¸­å¯ä»¥å‘ç°ï¼šæ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸­ä½¿ç”¨getBean()è·å–åˆ°çš„UserServiceéƒ½æ˜¯åŒä¸ªå¯¹è±¡ã€‚\nå°†UserServiceè®¾ä¸ºéå•ä¾‹ï¼š\nä¿®æ”¹Stringé…ç½®æ–‡ä»¶applicationContext.xmlï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; scope=\u0026#34;prototype\u0026#34;\u0026gt; å†æ¬¡æ‰§è¡ŒUserServiceTest1ï¼Œå¯ä»¥å‘ç°ï¼šæ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸­ä½¿ç”¨getBean()è·å–åˆ°çš„UserServiceéƒ½æ˜¯ä¸åŒçš„å¯¹è±¡ã€‚\nBean çš„å®ä¾‹åŒ– å®ä¾‹åŒ–Beanåˆ†ä¸ºä¸‰ç§æ–¹å¼ï¼š\næ„é€ æ–¹æ³• é™æ€å·¥å‚ å®ä¾‹å·¥å‚ æ„é€ æ–¹æ³•å®ä¾‹åŒ– Beanï¼ˆé»˜è®¤ï¼‰ \u0026lt;bean\u0026gt;é»˜è®¤æ˜¯ä½¿ç”¨æ— å‚çš„æ„é€ æ–¹æ³•å®ä¾‹åŒ–Beanã€‚å¹¶ä¸”ï¼ŒSpringåº•å±‚ç”¨çš„æ˜¯åå°„ï¼ˆå› ä¸ºå³ä½¿å°†æ„é€ æ–¹æ³•è®¾ç½®ä¸ºprivateä¾ç„¶å¯ä»¥ä½¿ç”¨ï¼‰ã€‚\né™æ€å·¥å‚å®ä¾‹åŒ– Beanï¼ˆfactory-method å±æ€§ï¼‰ é™æ€å·¥å‚å®ä¾‹åŒ–BeanæŒ‡çš„æ˜¯é€šè¿‡å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•é™æ€å·¥å‚å®ä¾‹åŒ–å¯¹è±¡ï¼š\nåˆ›å»ºcom.linner.factoryåŒ…ï¼Œå¹¶ç¼–å†™UserDaoFactoryï¼š\npackage com.linner.factory; import com.linner.dao.UserDao; import com.linner.dao.impl.UserDaoImpl; public class UserDaoFactory { public static UserDao getUserDao() { return new UserDaoImpl(); } } ç¼–å†™TestFroInstanceUserDaoæµ‹è¯•ç±»ï¼š\npackage com.linner.dao; import com.linner.domain.User; import com.linner.factory.UserDaoFactory; import org.junit.Test; public class TestFroInstanceUserDao { private UserDao userDao = UserDaoFactory.getUserDao(); @Test public void testFindAll() { userDao.findAll(); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testFindById() { int id = 12; userDao.findById(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testDelete() { int id = 12; userDao.delete(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testSave() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userDao.save(user); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testUpdate() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userDao.update(user); System.out.println(\u0026#34;------------\u0026#34;); } } åœ¨IOCå®¹å™¨ä¸­ä½¿ç”¨é™æ€å·¥å‚å®ä¾‹åŒ–ï¼š\nåœ¨Springé…ç½®æ–‡ä»¶ä¸­åŠ å…¥UserDaoçš„é…ç½®ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.factory.UserDaoFactory\u0026#34; factory-method=\u0026#34;getUserDao\u0026#34;/\u0026gt; classï¼šå·¥å‚ç±»çš„ç±»å…¨åã€‚è¿™é‡ŒæŒ‡å®šçš„æ˜¯åˆ›å»ºUserDaoçš„é™æ€å·¥å‚ç±»UserDaoFactoryã€‚ factory-methodï¼šclassæŒ‡å®šçš„å·¥å‚ç±»ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•åã€‚è¿™é‡ŒæŒ‡å®šçš„æ˜¯å·¥å‚ç±»ä¸­ç”¨æ¥åˆ›å»ºUserDaoçš„æ–¹æ³•ã€‚ ä¿®æ”¹TestFroInstanceUserDaoï¼š\nimport org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class TestFroInstanceUserDao { private static UserDao userDao; static { ApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); userDao = (UserDao) ctx.getBean(\u0026#34;userDao\u0026#34;); } // ... } æ³¨æ„ï¼šä½¿ç”¨è¿™ç§æ–¹æ³•å®ä¾‹åŒ–ï¼Œä¸èƒ½å°†è¯¥Beanæ³¨å…¥åˆ°å…¶ä»–Beanä¸­ã€‚\nå®ä¾‹å·¥å‚å®ä¾‹åŒ– Bean ä½¿ç”¨ Bean çš„ factory-bean å±æ€§ å®ä¾‹åŒ–å·¥å‚å®ä¾‹åŒ–Beanæ˜¯æŒ‡ï¼Œä¸ºå·¥å‚ç±»æ·»åŠ ä¸€ä¸ªå•ä¾‹çš„Beanï¼ˆä¸ºåŒºåˆ†åˆ™ç§°ä¸ºå·¥å‚Beanï¼‰ï¼Œç„¶ååœ¨è¦å®ä¾‹åŒ–çš„Beanä¸­æŒ‡å®šä½¿ç”¨è¿™ä¸ªå·¥å‚Beanä½œä¸ºå®ä¾‹åŒ–å·¥å‚ã€‚\nä¿®æ”¹UserDaoFactoryï¼ˆä¸ä½¿ç”¨é™æ€å·¥å‚ï¼‰ï¼š\npublic class UserDaoFactory { public UserDao getUserDao() { return new UserDaoImpl(); } } åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ UserDaoFactoryçš„\u0026lt;bean\u0026gt;ï¼Œå¹¶ä¸”ä¿®æ”¹UserDaoçš„\u0026lt;bean\u0026gt;ï¼š\n\u0026lt;bean id=\u0026#34;userDaoFactory\u0026#34; class=\u0026#34;com.linner.factory.UserDaoFactory\u0026#34;/\u0026gt; \u0026lt;bean id=\u0026#34;userDao\u0026#34; factory-bean=\u0026#34;userDaoFactory\u0026#34; factory-method=\u0026#34;getUserDao\u0026#34;/\u0026gt; æ·»åŠ äº†ä¸€ä¸ªuserDaoFactoryå·¥å‚Beanã€‚ factory-beanï¼šå·¥å‚çš„å®ä¾‹å¯¹è±¡ï¼Œå³å·¥å‚Beançš„idæˆ–nameã€‚ factory-methodï¼šå·¥å‚å¯¹è±¡ä¸­å…·ä½“åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•åï¼Œå³factory-beanæŒ‡å®šå¯¹è±¡ä¸­åˆ›å»ºè¯¥å¯¹è±¡çš„æ–¹æ³•åã€‚ æˆåŠŸæ‰§è¡ŒTestFroInstanceUserDaoå³é…ç½®æˆåŠŸã€‚\nä½¿ç”¨ FactoryBean æ¥å£ åˆ›å»ºä¸€ä¸ªUserDaoFactoryBeançš„ç±»ï¼Œå®ç°FactoryBeanæ¥å£ï¼Œé‡å†™æ¥å£çš„æ–¹æ³•ï¼š\npackage com.linner.factory; import com.linner.dao.UserDao; import com.linner.dao.impl.UserDaoImpl; import org.springframework.beans.factory.FactoryBean; public class UserDaoFactoryBean implements FactoryBean { @Override public Object getObject() throws Exception { return new UserDaoImpl(); } @Override public Class\u0026lt;?\u0026gt; getObjectType() { return UserDao.class; } @Override public boolean isSingleton() { return true; } } getObject()ï¼šåˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡å¹¶è¿”å›ã€‚ä»£æ›¿åŸå§‹å®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•ã€‚ getObjectType()ï¼šè¿”å›æ‰€åˆ›å»ºç±»çš„Classå¯¹è±¡ã€‚ isSingleton()ï¼šè®¾ç½®å¯¹è±¡æ˜¯å¦ä¸ºå•ä¾‹ã€‚é»˜è®¤trueï¼Œå¯ä»¥ä¸é‡å†™ã€‚ ä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.factory.UserDaoFactoryBean\u0026#34;/\u0026gt; æˆåŠŸæ‰§è¡ŒTestFroInstanceUserDaoå³é…ç½®æˆåŠŸã€‚\nBean çš„ç”Ÿå‘½å‘¨æœŸ Beançš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡Beanå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚å¯¹Beançš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œæ§åˆ¶ï¼Œå¯ä»¥åœ¨Beanåˆ›å»ºåï¼ˆå¦‚åŠ è½½åˆå§‹åŒ–éœ€è¦ç”¨åˆ°èµ„æºï¼‰è¿˜æœ‰é”€æ¯å‰ï¼ˆå¦‚é‡Šæ”¾èµ„æºï¼‰æ‰§è¡Œä¸€äº›æ“ä½œã€‚\ninit-method å’Œ destroy-method å±æ€§ Springæ§åˆ¶ç”Ÿå‘½å‘¨æœŸçš„ç¬¬ä¸€ä¸ªæ–¹æ³•ä¾¿æ˜¯ä½¿ç”¨Springé…ç½®æ–‡ä»¶ä¸­\u0026lt;bean\u0026gt;çš„ init-method å’Œ destroy-method å±æ€§ã€‚\nåœ¨UserDaoImplä¸­åˆ›å»ºåˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ï¼ˆæ–¹æ³•åä»»æ„ï¼‰ï¼š\npublic class UserDaoImpl implements UserDao { /** * åˆå§‹åŒ–æ–¹æ³• */ public void init() { System.out.println(\u0026#34;UserDao init...\u0026#34;); } /** * é”€æ¯æ–¹æ³• */ public void destroy() { System.out.println(\u0026#34;UserDao destroy...\u0026#34;); } // ... } ä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34; init-method=\u0026#34;init\u0026#34; destroy-method=\u0026#34;destroy\u0026#34;/\u0026gt; init-methodï¼šclassæŒ‡å®šçš„ç±»ä¸­çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨åˆ›å»ºBeanå¯¹è±¡åæ‰§è¡Œã€‚ destroy-methodï¼šclassæŒ‡å®šçš„ç±»ä¸­çš„é”€æ¯æ–¹æ³•ï¼Œåœ¨é”€æ¯Beanå‰æ‰§è¡Œã€‚ ç¼–å†™TestForLifeCycleæµ‹è¯•ç±»ï¼š\npackage com.linner; import com.linner.dao.UserDao; import org.junit.Test; import org.springframework.context.support.ClassPathXmlApplicationContext; public class TestForLifeCycle { @Test public void testForLifeCycle() { ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); UserDao userDao = (UserDao) ctx.getBean(\u0026#34;userDao\u0026#34;); userDao.findAll(); ctx.close(); } } å¯¹æ¯”ä¹‹å‰çš„ctxå¯¹è±¡ï¼Œè¿™é‡Œctxå¯¹è±¡ä½¿ç”¨çš„ç±»å‹ä»ApplicationContextå˜æˆäº†ClassPathXmlApplicationContextã€‚è¿™æ˜¯å› ä¸ºApplicationContextä¸­å¹¶æ²¡æœ‰close()æ–¹æ³•ã€‚è€Œæƒ³è¦æ‰§è¡ŒBeanå¯¹è±¡ä¸­çš„destroy()ï¼Œå°±å¿…é¡»åœ¨ç¨‹åºé€€å‡ºå‰å…³é—­IOCå®¹å™¨ï¼ˆè°ƒç”¨ctx.close()ï¼‰ã€‚\næ³¨å†Œé’©å­å…³é—­å®¹å™¨ åœ¨å®¹å™¨æœªå…³é—­ä¹‹å‰ï¼Œæå‰è®¾ç½®å¥½å›è°ƒå‡½æ•°ï¼Œè®©JVMåœ¨é€€å‡ºä¹‹å‰å›è°ƒæ­¤å‡½æ•°æ¥å…³é—­å®¹å™¨ã€‚\nä¿®æ”¹TestForLifeCycleï¼š\npublic class TestForLifeCycle { @Test public void testForLifeCycle() { ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); ctx.registerShutdownHook(); UserDao userDao = (UserDao) ctx.getBean(\u0026#34;userDao\u0026#34;); userDao.findAll(); } } æ³¨æ„ï¼šApplicationContextä¸­ä¹Ÿæ²¡æœ‰registerShutdownHook()ã€‚æ‰€ä»¥è¿™é‡Œä½¿ç”¨çš„æ˜¯ClassPathXmlApplicationCå¯¹è±¡ã€‚\nInitializingBean å’Œ DisposableBean æ¥å£ Spring æä¾›äº†InitializingBeanå’ŒDisposableBeanæ¥å£ä»¥æ›´åŠ æ–¹ä¾¿åœ°æ§åˆ¶Beanç”Ÿå‘½å‘¨æœŸã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªæ¥å£åˆ™æ— éœ€é€šè¿‡Spingé…ç½®æ–‡ä»¶ä¸­çš„init-methodå’Œdestroy-method å±æ€§æ¥æ§åˆ¶ç”Ÿå‘½å‘¨æœŸã€‚\nå®ç°InitializingBeanæ¥å£çš„afterPropertiesSet()æ–¹æ³•å’ŒDisposableBeanæ¥å£çš„destroy()æ–¹æ³•ï¼š\nimport org.springframework.beans.factory.DisposableBean; import org.springframework.beans.factory.InitializingBean; public class UserDaoImpl implements UserDao, InitializingBean, DisposableBean { /** * InitializingBeanæ¥å£çš„åˆå§‹åŒ–æ–¹æ³• */ @Override public void afterPropertiesSet() throws Exception { System.out.println(\u0026#34;UserDao init by afterPropertiesSet()...\u0026#34;); } /** * DisposableBeanæ¥å£çš„é”€æ¯æ–¹æ³• */ @Override public void destroy() { System.out.println(\u0026#34;UserDao destroyed by destroy()...\u0026#34;); } // ... } åœ¨Springé…ç½®æ–‡ä»¶ä¸­åˆ é™¤init-methodå’Œdestroy-methodå±æ€§ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34;/\u0026gt; ä½¿ç”¨ Bean æ ‡ç­¾çš„æ³¨æ„äº‹é¡¹ classå±æ€§ä¸èƒ½ä½¿ç”¨æ¥å£ã€‚å› ä¸ºæ¥å£ä¸èƒ½åˆ›å»ºå¯¹è±¡ã€‚\nè·å–Beanæ— è®ºæ˜¯é€šè¿‡idè¿˜æ˜¯nameè·å–ï¼Œå¦‚æœæ— æ³•è·å–åˆ°ï¼Œå°†æŠ›å‡ºå¼‚å¸¸NoSuchBeanDefinitionExceptionã€‚\nBeané»˜è®¤ä¸ºå•ä¾‹ï¼Œé¿å…äº†å¯¹è±¡çš„é¢‘ç¹åˆ›å»ºä¸é”€æ¯ï¼Œè¾¾åˆ°äº†å¯¹Beanå¯¹è±¡çš„å¤ç”¨ï¼Œæ€§èƒ½é«˜ã€‚\nå¦‚æœå¯¹è±¡æ˜¯æœ‰çŠ¶æ€å¯¹è±¡ï¼ˆå³è¯¥å¯¹è±¡æœ‰æˆå‘˜å˜é‡å¯ä»¥ç”¨æ¥å­˜å‚¨æ•°æ®ï¼‰ã€‚å› ä¸ºæ‰€æœ‰è¯·æ±‚çº¿ç¨‹å…±ç”¨ä¸€ä¸ªBeanå¯¹è±¡ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚\nå¦‚æœå¯¹è±¡æ˜¯æ— çŠ¶æ€å¯¹è±¡ï¼ˆå³è¯¥å¯¹è±¡æ²¡æœ‰æˆå‘˜å˜é‡æ²¡æœ‰è¿›è¡Œæ•°æ®å­˜å‚¨ï¼‰ã€‚å› æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡åœ¨æ–¹æ³•è°ƒç”¨å®Œæˆåä¼šè¢«é”€æ¯ï¼Œæ‰€ä»¥ä¸ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚\né€‚åˆäº¤ç»™å®¹å™¨è¿›è¡Œç®¡ç†çš„Beanå¯¹è±¡ï¼š\nè¡¨ç°å±‚å¯¹è±¡ ä¸šåŠ¡å±‚å¯¹è±¡ æ•°æ®å±‚å¯¹è±¡ å·¥å…·å¯¹è±¡ ä¸é€‚åˆäº¤ç»™å®¹å™¨è¿›è¡Œç®¡ç†çš„Beanå¯¹è±¡ï¼š\nå°è£…å®ä¾‹çš„åŸŸå¯¹è±¡ã€‚ä¼šå¼•å‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚\nDI ä¾èµ–æ³¨å…¥ ä¸Šé¢çš„ç¨‹åºï¼Œåœ¨UserServiceImplä¸­ä¾ç„¶éœ€è¦æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ï¼š\npublic class UserServiceImpl implements UserService { private UserDao userDao = new UserDaoImpl(); // ... } å½“å‰ä¸šåŠ¡å±‚å’Œæ•°æ®å±‚çš„è€¦åˆæ€§è¿˜æ˜¯å¾ˆé«˜ã€‚æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¥é™ä½è€¦åˆæ€§ã€‚\nSpringä¾èµ–æ³¨å…¥æ”¯æŒç®€å•æ•°æ®ç±»å‹ã€å¼•ç”¨æ•°æ®ç±»å‹è¿˜æœ‰é›†åˆæ³¨å…¥ï¼Œå¹¶ä¸”æä¾›äº†ä¸¤ç§æ³¨å…¥æ–¹å¼ï¼š\nSetteræ³¨å…¥ æ„é€ å™¨æ³¨å…¥ åŸºç¡€é…ç½®ï¼š\nåˆ›å»ºMavené¡¹ç›®ã€‚ æ·»åŠ Spring Frameworkå’ŒJunitçš„ä¾èµ–jaråŒ…ã€‚ æ·»åŠ ä¸šåŠ¡å±‚ã€æ•°æ®å±‚ç±»ï¼š User.java: åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„User.javaã€‚ DAO(ä»…æµ‹è¯•ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“): åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„DAOï¼ˆUserDaoï¼‰ã€‚ Service: åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„Serviceï¼ˆUserServiceï¼‰ã€‚ æµ‹è¯•æ–¹æ³•ï¼š\npackage com.linner.service; import com.linner.domain.User; import com.linner.service.UserService; import com.linner.service.impl.UserServiceImpl; import org.junit.Test; import java.util.List; public class UserServiceTest { private static UserService userService; static { ApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); userService = (UserService) ctx.getBean(\u0026#34;userService\u0026#34;); } @Test public void testFindAll() { userService.findAll(); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testFindById() { int id = 12; userService.findById(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testDelete() { int id = 12; userService.delete(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testSave() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.save(user); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testUpdate() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userService.update(user); System.out.println(\u0026#34;------------\u0026#34;); } } Setter æ³¨å…¥ï¼ˆproperty æ ‡ç­¾ï¼‰ Setteræ³¨å…¥æ˜¯æŒ‡ï¼Œåœ¨å®ç°ç±»ä¸­ä¸ºéœ€è¦æ³¨å…¥çš„å±æ€§è®¾ç½®Setteræ–¹æ³•ï¼Œè®©Springèƒ½å¤Ÿä½¿ç”¨Setteræ–¹æ³•è‡ªåŠ¨ç»™å±æ€§åˆ›å»ºå¯¹è±¡ã€‚\næ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹ è¦åœ¨Beanä¸­æ³¨å…¥å¼•ç”¨ç±»å‹å±æ€§ï¼Œæ³¨å…¥çš„å±æ€§å…¶å®ç°ç±»å¿…é¡»å¾—æ˜¯IOCå®¹å™¨ä¸­çš„Beanã€‚\nåœ¨UserServiceImplä¸­ï¼Œå–æ¶ˆæ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸ºuserDaoå±æ€§æä¾›setteræ–¹æ³•ï¼š\npublic class UserServiceImpl implements UserService { private UserDao userDao; public void setUserDao(UserDao userDao) { this.userDao = userDao; } // ... } ä¿®æ”¹Springé…ç½®æ–‡ä»¶applicationContext.xmlï¼š\n\u0026lt;!--...--\u0026gt; \u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34;/\u0026gt; \u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;userDao\u0026#34; ref=\u0026#34;userDao\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;!--...--\u0026gt; ä¸ºUserServiceæ³¨å…¥UserDaoè¦åœ¨UserServiceçš„\u0026lt;bean\u0026gt;æ ‡ç­¾ä¸­ä½¿ç”¨\u0026lt;property\u0026gt;æ ‡ç­¾ã€‚Â·\n\u0026lt;property\u0026gt;è¡¨ç¤ºé…ç½®å½“å‰\u0026lt;bean\u0026gt;çš„å±æ€§ï¼Œå…¶æ ‡ç­¾å±æ€§æœ‰ï¼š\nnameï¼š\u0026lt;bean\u0026gt;æ‰€æŒ‡çš„å®ç°ç±»çš„å±æ€§åï¼Œè¡¨ç¤ºé…ç½®å“ªä¸€ä¸ªå…·ä½“çš„å±æ€§ã€‚ refï¼šè¦é…ç½®çš„å±æ€§çš„Beançš„idæˆ–nameï¼Œè¡¨ç¤ºå‚ç…§å“ªä¸€ä¸ª\u0026lt;bean\u0026gt;ï¼ˆè¯¥æ³¨å…¥çš„Beanå¿…é¡»åœ¨å®¹å™¨ä¸­å­˜åœ¨ï¼‰ã€‚ æˆåŠŸè¿è¡ŒServiceBeanTestè¯´æ˜æ³¨å…¥æˆåŠŸã€‚\nå¦‚æœè¦æ³¨å…¥å¤šä¸ªå±æ€§ï¼Œåˆ™åœ¨å®ä¾‹ç±»ä¸­åŠ å…¥å¤šä¸ªå±æ€§ï¼Œä¸ºå…¶è®¾ç½®Setterå¹¶åœ¨Beanä¸­é…ç½®å¤šä¸ª\u0026lt;property\u0026gt;å³å¯ã€‚\næ³¨å…¥ç®€å•æ•°æ®ç±»å‹ åœ¨Beanä¸­æ³¨å…¥ç®€å•ç±»å‹å±æ€§ï¼Œç®€å•æ•°æ®ç±»å‹å¹¶ä¸ç”¨åœ¨é…ç½®æ–‡ä»¶ä¸­ä¸ºç®€å•ç±»å‹æ·»åŠ Beanæ ‡ç­¾é…ç½®ã€‚\nä¸ºBookDaoæ·»åŠ ç®€å•ç±»å‹å±æ€§ï¼š\nimport org.springframework.beans.factory.InitializingBean; public class UserDaoImpl implements UserDao, InitializingBean { private String databaseName; private int connectionNum; public void setConnectionNum(int connectionNum) { this.connectionNum = connectionNum; } public void setDatabaseName(String databaseName) { this.databaseName = databaseName; } @Override public void afterPropertiesSet() throws Exception { System.out.println(\u0026#34;UserDao init: DatabaseName=\u0026#34; + this.databaseName + \u0026#34;, ConnectionNum=\u0026#34; + this.connectionNum); } // ... } åœ¨Springé…ç½®æ–‡ä»¶ä¸­ä¸ºUserDaoæ·»åŠ \u0026lt;property\u0026gt;æ ‡ç­¾ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;databaseName\u0026#34; value=\u0026#34;mysql\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;connectionNum\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; nameï¼šå«ä¹‰ä¸å˜ï¼Œä¸å¼•ç”¨æ³¨å…¥ç±»å‹ç”¨æ³•ä¸­çš„å«ä¹‰ç›¸åŒã€‚ value: è¦é…ç½®çš„å±æ€§çš„å€¼ï¼Œå¿…é¡»æ˜¯ç®€å•æ•°æ®ç±»å‹ã€‚å¯¹äºå‚æ•°ç±»å‹ï¼ŒSpringåœ¨æ³¨å…¥çš„æ—¶å€™ä¼šè‡ªåŠ¨è½¬æ¢ï¼Œä½†æ˜¯æœ‰å¯èƒ½ä¼šå‘ç”Ÿè½¬æ¢é”™è¯¯çš„æƒ…å†µã€‚ æˆåŠŸè¿è¡ŒServiceBeanTestè¯´æ˜æ³¨å…¥æˆåŠŸã€‚\né›†åˆæ³¨å…¥ ä¿®æ”¹UserDaoï¼Œä¸ºå…¶æ·»åŠ é›†åˆç±»å‹å‚æ•°å’Œå¯¹åº”Setteræ–¹æ³•ï¼š\nimport java.util.*; public class UserDaoImpl implements UserDao, InitializingBean { private int[] array; private List\u0026lt;String\u0026gt; list; private Set\u0026lt;String\u0026gt; set; private Map\u0026lt;String,String\u0026gt; map; private Properties properties; // ...æ­¤å¤„çœç•¥setteræ–¹æ³• @Override public void afterPropertiesSet() throws Exception { System.out.println(\u0026#34;UserDao init: \u0026#34; + \u0026#34;array=\u0026#34; + Arrays.toString(array) + \u0026#34;, list=\u0026#34; + list + \u0026#34;, set=\u0026#34; + set + \u0026#34;, map=\u0026#34; + map + \u0026#34;, properties=\u0026#34; + properties); } // ... } ä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;array\u0026#34;\u0026gt; \u0026lt;array\u0026gt; \u0026lt;value\u0026gt;1\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;2\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;3\u0026lt;/value\u0026gt; \u0026lt;/array\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;list\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;a\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;b\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;c\u0026lt;/value\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;set\u0026#34;\u0026gt; \u0026lt;set\u0026gt; \u0026lt;value\u0026gt;a\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;a\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;b\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;c\u0026lt;/value\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;map\u0026#34;\u0026gt; \u0026lt;map\u0026gt; \u0026lt;entry key=\u0026#34;a\u0026#34; value=\u0026#34;1\u0026#34;/\u0026gt; \u0026lt;entry key=\u0026#34;b\u0026#34; value=\u0026#34;2\u0026#34;/\u0026gt; \u0026lt;entry key=\u0026#34;c\u0026#34; value=\u0026#34;3\u0026#34;/\u0026gt; \u0026lt;/map\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property name=\u0026#34;properties\u0026#34;\u0026gt; \u0026lt;props\u0026gt; \u0026lt;prop key=\u0026#34;a\u0026#34;\u0026gt;1\u0026lt;/prop\u0026gt; \u0026lt;prop key=\u0026#34;b\u0026#34;\u0026gt;2\u0026lt;/prop\u0026gt; \u0026lt;prop key=\u0026#34;c\u0026#34;\u0026gt;3\u0026lt;/prop\u0026gt; \u0026lt;/props\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;property\u0026gt;ï¼šSetteræ³¨å…¥ä¾ç„¶ä½¿ç”¨è¯¥æ ‡ç­¾ã€‚å…¶nameå±æ€§å«ä¹‰ä¸å˜ã€‚\né›†åˆç±»å‹çš„å€¼åœ¨å…¶æ ‡ç­¾ä¸‹å®šä¹‰ã€‚\n\u0026lt;array\u0026gt;ï¼šå®šä¹‰æ•°ç»„ç±»å‹çš„å€¼ã€‚\næ•°ç»„å…ƒç´ ä¸­çš„å€¼ä½¿ç”¨\u0026lt;value\u0026gt;æ ‡ç­¾å®šä¹‰ã€‚ \u0026lt;value\u0026gt;æ ‡ç­¾ä¸­çš„å€¼è¦ä¸æ•°ç»„çš„ç±»å‹ä¸€è‡´ã€‚ ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š \u0026lt;property name=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;array\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/array\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;list\u0026gt;ï¼šå®šä¹‰Listç±»å‹çš„å€¼ã€‚\nå…¶ç”¨æ³•ä¸\u0026lt;array\u0026gt;ç±»ä¼¼ã€‚\n\u0026lt;property name=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;list\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/list\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;set\u0026gt;ï¼šå®šä¹‰Setç±»å‹çš„å€¼ã€‚ å…¶ç”¨æ³•ä¸\u0026lt;array\u0026gt;ç±»ä¼¼ã€‚\n\u0026lt;property name=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;set\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;value\u0026gt;...\u0026lt;/value\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;map\u0026gt;ï¼šå®šä¹‰Mapç±»å‹çš„å€¼ã€‚\nå…¶å…ƒç´ ä½¿ç”¨\u0026lt;entry\u0026gt;æ ‡ç­¾å®šä¹‰ã€‚å¹¶ä¸”å…ƒç´ çš„keyä½¿ç”¨keyå±æ€§å®šä¹‰ï¼Œå…ƒç´ çš„valueä½¿ç”¨valueå±æ€§å®šä¹‰ã€‚ keyå’Œvalueå±æ€§çš„å€¼è¦å’ŒMapçš„ç±»å‹å¯¹åº”ã€‚ \u0026lt;property name=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;map\u0026gt; \u0026lt;entry key=\u0026#34;...\u0026#34; value=\u0026#34;...\u0026#34;/\u0026gt; \u0026lt;entry key=\u0026#34;...\u0026#34; value=\u0026#34;...\u0026#34;/\u0026gt; \u0026lt;entry key=\u0026#34;...\u0026#34; value=\u0026#34;...\u0026#34;/\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/map\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;props\u0026gt;ï¼šå®šä¹‰Propertiesçš„å€¼ã€‚\nå…¶å…ƒç´ ä½¿ç”¨\u0026lt;prop\u0026gt;æ ‡ç­¾å®šä¹‰ã€‚keyä½¿ç”¨keyå±æ€§å®šä¹‰ï¼Œvalueåœ¨æ ‡ç­¾ä¸­å®šä¹‰ã€‚\n\u0026lt;property name=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;props\u0026gt; \u0026lt;prop key=\u0026#34;...\u0026#34;\u0026gt;...\u0026lt;/prop\u0026gt; \u0026lt;prop key=\u0026#34;...\u0026#34;\u0026gt;...\u0026lt;/prop\u0026gt; \u0026lt;prop key=\u0026#34;...\u0026#34;\u0026gt;...\u0026lt;/prop\u0026gt; \u0026lt;!--...--\u0026gt; \u0026lt;/props\u0026gt; \u0026lt;/property\u0026gt; æ³¨æ„ï¼š\nListçš„åº•å±‚ä¹Ÿæ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œæ‰€ä»¥\u0026lt;list\u0026gt;å’Œ\u0026lt;array\u0026gt;æ ‡ç­¾æ˜¯å¯ä»¥æ··ç”¨ã€‚ é›†åˆä¸­è¦æ·»åŠ å¼•ç”¨ç±»å‹ï¼Œåªéœ€è¦æŠŠ\u0026lt;value\u0026gt;æ ‡ç­¾æ”¹æˆ\u0026lt;ref\u0026gt;æ ‡ç­¾ã€‚ æ„é€ å™¨æ³¨å…¥ï¼ˆconstructor-arg æ ‡ç­¾ï¼‰ æ„é€ å™¨æ³¨å…¥æ˜¯æŒ‡Springé€šè¿‡Beançš„å®ä¾‹ç±»ä¸­ï¼Œå¸¦å‚çš„æ„é€ æ–¹æ³•å°†å…¶ä»–Beanè¿›è¡Œæ³¨å…¥ã€‚\næ³¨å…¥å¼•ç”¨æ•°æ®ç±»å‹ åœ¨UserServicesä¸­åˆ é™¤Setteræ–¹æ³•ï¼ˆæ­¤å¤„åˆ é™¤Setteræ–¹æ³•æ˜¯ä¸ºäº†è¯æ˜ä½¿ç”¨çš„æ˜¯æ„é€ å™¨æ³¨å…¥è€ŒéSetteræ³¨å…¥ï¼‰å¹¶æ·»åŠ å¸¦å‚çš„æ„é€ æ–¹æ³•ï¼š\npublic class UserServiceImpl implements UserService { private UserDao userDao; public UserServiceImpl(UserDao userDao) { this.userDao = userDao; } // ... } ä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34;\u0026gt; \u0026lt;constructor-arg name=\u0026#34;userDao\u0026#34; ref=\u0026#34;userDao\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;constructor-arg\u0026gt;ä¸­nameå’Œrefå±æ€§çš„å«ä¹‰ä¸\u0026lt;property\u0026gt;çš„å«ä¹‰ç±»ä¼¼ã€‚åªä¸è¿‡nameå±æ€§æŒ‡çš„æ˜¯Beanå®ä¾‹ç±»å‹ä¸­æ„é€ æ–¹æ³•çš„å‚æ•°åï¼ˆåç§°å¿…é¡»è¦ä¸€è‡´ï¼‰ã€‚\næˆåŠŸè¿è¡ŒServiceBeanTestè¯´æ˜æ³¨å…¥æˆåŠŸã€‚\nå¦‚æœè¦æ³¨å…¥å¤šä¸ªç±»å‹æ•°æ®ï¼Œåˆ™åœ¨æ„é€ æ–¹æ³•ä¸­åŠ å…¥å¤šä¸ªå‚æ•°å¹¶åœ¨Beanä¸­é…ç½®å¤šä¸ª\u0026lt;constructor-arg\u0026gt;å³å¯ã€‚\næ³¨å…¥ç®€å•æ•°æ®ç±»å‹ åœ¨UserDaoä¸­åˆ é™¤Setteræ–¹æ³•ï¼Œå¹¶ä¸ºå…¶æ·»åŠ å¸¦å‚çš„æ„é€ æ–¹æ³•ï¼š\npublic class UserDaoImpl implements UserDao, InitializingBean { private String databaseName; private int connectionNum; public UserDaoImpl(String databaseName, int connectionNum) { this.databaseName = databaseName; this.connectionNum = connectionNum; } // ... } ä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼š\n\u0026lt;bean id=\u0026#34;userDao\u0026#34; class=\u0026#34;com.linner.dao.impl.UserDaoImpl\u0026#34;\u0026gt; \u0026lt;constructor-arg name=\u0026#34;databaseName\u0026#34; value=\u0026#34;mysql\u0026#34;/\u0026gt; \u0026lt;constructor-arg name=\u0026#34;connectionNum\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; æˆåŠŸè¿è¡ŒServiceBeanTestè¯´æ˜æ³¨å…¥æˆåŠŸã€‚\né›†åˆæ³¨å…¥ æ„é€ å™¨æ³¨å…¥é›†åˆæ•°æ®ç±»å‹çš„æ–¹å¼ä¸Setteræ³¨å…¥é›†åˆæ•°æ®ç±»å‹çš„æ–¹å¼ç±»ä¼¼ã€‚\nåªä¸æ„é€ å™¨æ³¨å…¥è¦å®šä¹‰ç›¸åº”çš„å¸¦å‚æ–¹æ³•ï¼Œå¹¶ä¸”å°†\u0026lt;property\u0026gt;æ ‡ç­¾æ”¹ä¸º\u0026lt;constructor-arg\u0026gt;ã€‚\nè‡ªåŠ¨è£…é…ï¼ˆbean æ ‡ç­¾çš„ autowire å±æ€§ï¼‰ è‡ªåŠ¨è£…é…åªé€‚ç”¨äºå¼•ç”¨ç±»å‹ä¾èµ–æ³¨å…¥ï¼Œä¸èƒ½å¯¹ç®€å•ç±»å‹è¿›è¡Œæ“ä½œã€‚\nè‡ªåŠ¨è£…é…çš„æ–¹å¼æœ‰ï¼š\næŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰ æŒ‰åç§° æŒ‰æ„é€ æ–¹æ³•ï¼ˆçš„å‚æ•°ï¼‰ æŒ‰ç±»å‹è‡ªåŠ¨è£…é… ä¸ºUserServiceä¸­çš„å±æ€§ï¼ˆå¦‚userDaoï¼‰æä¾›Setteræ–¹æ³•ã€‚æ¥ç€åœ¨Springä¸­ä¸ºUserServiceåˆ é™¤å…¶\u0026lt;bean\u0026gt;æ ‡ç­¾ä¸‹çš„æ‰€æœ‰\u0026lt;proerty\u0026gt;æˆ–\u0026lt;constructor-arg\u0026gt;ã€‚ç„¶åç»™\u0026lt;bean\u0026gt;æ·»åŠ autowire=\u0026quot;byType\u0026quot;ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; autowire=\u0026#34;byType\u0026#34;/\u0026gt; æ³¨æ„ï¼š\nç±»ä¸­å¯¹åº”å±æ€§çš„Setteræ–¹æ³•ä¸èƒ½çœç•¥ã€‚ è¢«æ³¨å…¥çš„å¯¹è±¡å¿…é¡»è¦è¢«Springçš„IOCå®¹å™¨ç®¡ç†ã€‚ æŒ‰ç…§ç±»å‹è‡ªåŠ¨è£…é…å¦‚æœSpringåœ¨IOCä¸­æ‰¾åˆ°å¤šä¸ªç±»å‹ç›¸åŒçš„Beanåˆ™ä¼šæŠ¥NoUniqueBeanDefinitionExceptioné”™è¯¯ã€‚ æŒ‰åç§°è‡ªåŠ¨è£…é… ä¸€ä¸ªç±»å‹åœ¨IOCä¸­æœ‰å¤šä¸ªå¯¹è±¡ï¼Œè¿˜æƒ³è¦æ³¨å…¥æˆåŠŸï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æŒ‰ç…§åç§°æ³¨å…¥ã€‚\nä¿®æ”¹Springé…ç½®æ–‡ä»¶ï¼ˆæ·»åŠ autowire=\u0026quot;byName\u0026quot;ï¼‰ï¼š\n\u0026lt;bean id=\u0026#34;userService\u0026#34; class=\u0026#34;com.linner.service.impl.UserServiceImpl\u0026#34; autowire=\u0026#34;byName\u0026#34;/\u0026gt; æ³¨æ„ï¼š\næŒ‰åç§°è‡ªåŠ¨è£…é…æ˜¯æ ¹æ®Setteræ–¹æ³•çš„åç§°åœ¨IOCå®¹å™¨ä¸­å¯»æ‰¾åç§°å¯¹åº”çš„Beanï¼ˆBeançš„idæˆ–nameï¼‰ã€‚å¦‚setUserDao()åˆ™éœ€è¦å¯»æ‰¾åç§°ä¸ºuserDaoçš„Beanã€‚ å¦‚æœæŒ‰ç…§åç§°æ‰¾ä¸åˆ°å¯¹åº”çš„Beanï¼Œåˆ™æ³¨å…¥nullï¼ˆä¸ä¼šæŠ¥é”™ï¼ï¼‰ã€‚ æŒ‰åç§°è‡ªåŠ¨è£…é…ä¸­ï¼Œå®ä¾‹ç±»æˆå‘˜å˜é‡åä¸é…ç½®è€¦åˆï¼Œä¸æ¨èä½¿ç”¨ã€‚ é…ç½®æ–‡ä»¶ç®¡ç†ç¬¬ä¸‰æ–¹ Beanï¼ˆproperties æ–‡ä»¶åŠ è½½ï¼‰ æ•°æ®æºå¯¹è±¡ç®¡ç†ï¼ˆDAOå±‚ï¼‰ ä»¥Druidä¸ºä¾‹ï¼š\npom.xmlä¾èµ–ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!--Spring Framework--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--MySQL JDBC--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;8.0.29\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--Druid--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.11\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; JDBCé…ç½®ï¼ˆjdbc.propertiesï¼‰ï¼š\njdbc.driver=com.mysql.jdbc.Driver jdbc.url=jdbc:mysql://localhost:33061/spring_db jdbc.username=root jdbc.password=n546,Lin0 Springé…ç½®ï¼ˆapplicationContext.xmlï¼‰ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!--éœ€è¦å¼€å¯contextå‘½åç©ºé—´--\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;!--åŠ è½½jdbcé…ç½®æ–‡ä»¶--\u0026gt; \u0026lt;context:property-placeholder location=\u0026#34;classpath*:jdbc.properties\u0026#34;/\u0026gt; \u0026lt;!--Druid Bean--\u0026gt; \u0026lt;bean class=\u0026#34;com.alibaba.druid.pool.DruidDataSource\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driverClassName\u0026#34; value=\u0026#34;${jdbc.driver}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;${jdbc.url}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;${jdbc.username}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;${jdbc.password}\u0026#34;/\u0026gt; \u0026lt;/bean\u0026gt; \u0026lt;/beans\u0026gt; ç¼–å†™App.javaï¼š\npackage com.linner; import com.alibaba.druid.pool.DruidDataSource; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class App { public static void main(String[] args) { ApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); DruidDataSource dataSource = ctx.getBean(DruidDataSource.class); System.out.println(dataSource); } } å¦‚æœç»ˆç«¯æˆåŠŸè¾“å‡ºdataSourceï¼Œè¯´æ˜é…ç½®æˆåŠŸã€‚\næ³¨è§£å¼€å‘ Springå¯¹æ³¨è§£æ”¯æŒçš„ç‰ˆæœ¬å†ç¨‹:\n2.0ç‰ˆå¼€å§‹æ”¯æŒæ³¨è§£ 2.5ç‰ˆæ³¨è§£åŠŸèƒ½è¶‹äºå®Œå–„ 3.0ç‰ˆæ”¯æŒçº¯æ³¨è§£å¼€å‘ åŸºç¡€é…ç½®ï¼š\nåˆ›å»ºMavené¡¹ç›®ã€‚ æ·»åŠ Spring Frameworkå’ŒJunitçš„ä¾èµ–jaråŒ…ã€‚ æ·»åŠ ä¸šåŠ¡å±‚ã€æ•°æ®å±‚ç±»ï¼š User.java: åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„User.javaã€‚ DAO(ä»…æµ‹è¯•ï¼Œæ— éœ€æŸ¥è¯¢æ•°æ®åº“): åŒSetter æ³¨å…¥ä¸­çš„DAOï¼ˆUserDaoï¼‰ã€‚ Service: åŒSetter æ³¨å…¥ä¸­çš„Serviceï¼ˆUserServiceï¼‰ã€‚ Spring é…ç½®æ–‡ä»¶åŒ…æ‰«æ ä¸ºäº†èƒ½å¤Ÿè·å–åˆ°ä½¿ç”¨æ³¨è§£å®šä¹‰çš„Beanï¼Œéœ€è¦åœ¨Springé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨åŒ…æ‰«ææ¥è¯†åˆ«å‡ºæŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰Beanã€‚\nåˆ›å»ºSpringé…ç½®æ–‡ä»¶ã€‚åœ¨Springé…ç½®æ–‡ä»¶ä¸­åŠ å…¥åŒ…æ‰«æï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;beans xmlns=\u0026#34;http://www.springframework.org/schema/beans\u0026#34; xmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\u0026#34;\u0026gt; \u0026lt;context:component-scan base-package=\u0026#34;com.linner\u0026#34;/\u0026gt; \u0026lt;/beans\u0026gt; æ³¨æ„ï¼š\nä½¿ç”¨\u0026lt;context:component-scan\u0026gt;åŒ…æ‰«æï¼Œéœ€è¦åœ¨\u0026lt;beans\u0026gt;æ ‡ç­¾ä¸­åŠ å…¥å±æ€§ï¼š\nxmlns:context=\u0026#34;http://www.springframework.org/schema/context\u0026#34; æ¥ç€åœ¨\u0026lt;context:component-scan\u0026gt;çš„xsi:schemaLocationå±æ€§ä¸­åŠ å…¥å€¼ï¼š\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd \u0026lt;context:component-scan\u0026gt;ï¼š\ncomponentï¼šç»„ä»¶ï¼ŒSpringå°†ç®¡ç†çš„Beanè§†ä½œè‡ªå·±çš„ä¸€ä¸ªç»„ä»¶ã€‚\nscanï¼šæ‰«æã€‚\nbase-packageï¼šè¯¥å±æ€§æŒ‡å®šSpringæ¡†æ¶æ‰«æçš„åŒ…è·¯å¾„ï¼Œå®ƒä¼šæ‰«ææŒ‡å®šåŒ…åŠå…¶å­åŒ…ä¸­çš„æ‰€æœ‰ç±»ä¸Šçš„æ³¨è§£ã€‚\nåŒ…è·¯å¾„è¶Šç²¾ç¡®ï¼Œå¦‚ï¼šcom.linner.dao.implï¼Œæ‰«æçš„èŒƒå›´è¶Šå°é€Ÿåº¦è¶Šå¿«ã€‚ åŒ…è·¯å¾„è¶Šå¹¿æ³›ï¼Œå¦‚ï¼šcom.linnerï¼Œæ‰«æçš„èŒƒå›´è¶Šå¤§é€Ÿåº¦è¶Šæ…¢ã€‚ ä¸€èˆ¬æ‰«æåˆ°é¡¹ç›®çš„ç»„ç»‡åç§°å³Mavençš„\u0026lt;groupId\u0026gt;ä¸‹ï¼ˆå¦‚ï¼šcom.linnerï¼‰å³å¯ã€‚ åŒ…æ‰«æä¸ä»…èƒ½æ‰«æå½“å‰åŒ…ï¼Œè¿˜èƒ½æ‰«æå½“å‰åŒ…ä¸‹çš„å­åŒ…ã€‚\nåˆ›å»º Bean å¯¹è±¡ï¼ˆ@Componentï¼‰ åœ¨UserDaoä¸­æ·»åŠ @Componentæ³¨è§£ï¼š\nimport org.springframework.stereotype.Component; @Component(\u0026#34;userDao\u0026#34;) public class UserDaoImpl implements UserDao { // ... } ç¼–å†™æ–°çš„æµ‹è¯•ç±»UserDaoTestï¼š\npackage com.linner.dao; import com.linner.domain.User; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; public class UserDaoTest { private static UserDao userDao; static { ApplicationContext ctx = new ClassPathXmlApplicationContext(\u0026#34;applicationContext.xml\u0026#34;); userDao = (UserDao) ctx.getBean(\u0026#34;userDao\u0026#34;); } @Test public void testFindAll() { userDao.findAll(); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testFindById() { int id = 12; userDao.findById(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testDelete() { int id = 12; userDao.delete(id); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testSave() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userDao.save(user); System.out.println(\u0026#34;------------\u0026#34;); } @Test public void testUpdate() { User user = new User(); user.setId(12); user.setUsername(\u0026#34;abc\u0026#34;); user.setPassword(\u0026#34;abc123\u0026#34;); userDao.update(user); System.out.println(\u0026#34;------------\u0026#34;); } } @Componentå¯ä»¥ä¼ é€’ä¸€ä¸ªStringç±»å‹çš„å€¼ã€‚ç”¨äºåˆ¶å®šBeançš„åç§°ã€‚\n@Componentå¯ä»¥ç›´æ¥ä½¿ç”¨è€Œä¸æŒ‡å®šåç§°ã€‚å³ï¼Œä½¿ç”¨æŒ‰ç±»å‹è·å–Beanã€‚ä½†å¿…é¡»ä¿è¯è¯¥ç±»å‹åœ¨IOCä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªBeanã€‚å¦‚ï¼š\n@Component(\u0026#34;userDao\u0026#34;) public class UserDaoImpl implements UserDao { // ... } UserDao userDao = ctx.getBean(UserDao.class); @Componentæ³¨è§£å¦‚æœä¸èµ·åç§°ï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå°±æ˜¯å°†å½“å‰ç±»åé¦–å­—æ¯è½¬ä¸ºå°å†™åçš„å€¼ã€‚æ‰€ä»¥ä¹Ÿå¯ä»¥æŒ‰ç…§åç§°è·å–ã€‚\n@Componentè¿˜æœ‰å…¶ä»–ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ã€‚\n@Controllerï¼šè¡¨ç°å±‚ @Serviceï¼šä¸šåŠ¡å±‚ @Repositoryï¼šæ•°æ®å±‚ å®ƒä»¬çš„ä½œç”¨å’Œ@Componentæ˜¯ä¸€æ ·çš„ï¼Œä»…ä½œä¸ºå¯¹è¡¨ç°å±‚ã€ä¸šåŠ¡å±‚å’Œæ•°æ®å±‚çš„ç±»è¿›è¡ŒåŒºåˆ†ã€‚å¦‚ï¼š\nimport org.springframework.stereotype.Repository; @Repository(\u0026#34;userDao\u0026#34;) public class UserDaoImpl implements UserDao { // ... } import org.springframework.stereotype.Repository; @Repository public class UserDaoImpl implements UserDao { // ... } çº¯æ³¨è§£å¼€å‘ï¼ˆé…ç½®ç±»ã€åŒ…æ‰«æï¼‰ Spring3.0å¼€å¯äº†çº¯æ³¨è§£å¼€å‘æ¨¡å¼ï¼Œä½¿ç”¨Javaç±»æ›¿ä»£é…ç½®æ–‡ä»¶ã€‚\nåˆ é™¤Springé…ç½®æ–‡ä»¶å¹¶åˆ›å»ºé…ç½®ç±»ï¼š\npackage com.linner.config; import org.springframework.context.annotation.ComponentScan; import org.springframework.context.annotation.Configuration; @Configuration @ComponentScan(\u0026#34;com.linner\u0026#34;) public class SpringConfig { } @Configurationï¼šè®¾å®šè¯¥ç±»ä¸ºSpringé…ç½®ç±»ã€‚\n@ComponentScanï¼šåŒ…æ‰«æï¼Œç”¨æ¥æ›¿æ¢é…ç½®æ–‡ä»¶ä¸­çš„\u0026lt;context:component-scan\u0026gt;ã€‚åœ¨ä¸€ä¸ªé…ç½®ç±»ä¸­ä»…èƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚å¤šä¸ªæ‰«æè·¯å¾„ä½¿ç”¨æ•°æ®æ ¼å¼ï¼Œå¦‚ï¼š\n@ComponentScan({\u0026#34;com.linner.dao\u0026#34;, \u0026#34;com.linner.service\u0026#34;}) åŒ…æ‰«æä¸ä»…èƒ½æ‰«æå½“å‰åŒ…ï¼Œè¿˜èƒ½æ‰«æå½“å‰åŒ…ä¸‹çš„å­åŒ…\nä¿®æ”¹UserDaoTestï¼š\nimport com.linner.config.SpringConfig; import org.springframework.context.annotation.AnnotationConfigApplicationContext; public class UserDaoTest { private static UserDao userDao; static { ApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig.class); userDao = (UserDao) ctx.getBean(\u0026#34;userDao\u0026#34;); } // ... } ä½¿ç”¨Springé…ç½®ç±»ï¼Œè·å–IOCå®¹å™¨åº”è¯¥ä½¿ç”¨AnnotationConfigApplicationContextå¯¹è±¡ï¼š\npublic AnnotationConfigApplicationContext(Class\u0026lt;?\u0026gt;... componentClasses) ä½œç”¨èŒƒå›´ï¼ˆ@Scopeï¼‰ æ³¨è§£å¼€å‘æ§åˆ¶Beançš„ä½œç”¨èŒƒå›´ä½¿ç”¨@Scopeã€‚å®ƒçš„å€¼æœ‰ä¸¤ä¸ªï¼š\n\u0026quot;singleton\u0026quot;ï¼šé»˜è®¤å€¼ï¼Œå°†å½“å‰ç±»è®¾ç½®ä¸ºå•ä¾‹ã€‚\n\u0026quot;prototype\u0026quot;ï¼šå°†å½“å‰ç±»è®¾ç½®ä¸ºå¤šä¾‹ã€‚å¦‚ï¼š\nimport org.springframework.context.annotation.Scope; @Repository @Scope(\u0026#34;prototype\u0026#34;) public class UserDaoImpl implements UserDao { // ... } ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼ˆ@PostConstruct å’Œ @PreDestroyï¼‰ æ³¨è§£æ§åˆ¶Beanç”Ÿå‘½å‘¨æœŸä½¿ç”¨ï¼š\n@PostConstructï¼šåˆå§‹åŒ–ã€‚ @PreDestroyï¼šé”€æ¯ã€‚ ç»™UserDaoåŠ å…¥åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ï¼ˆæ–¹æ³•åä»»æ„ï¼‰ï¼š\nimport javax.annotation.PostConstruct; import javax.annotation.PreDestroy; @Repository public class UserDaoImpl implements UserDao { /** * åˆå§‹åŒ–æ–¹æ³• */ @PostConstruct public void init() { System.out.println(this + \u0026#34;init...\u0026#34;); } /** * é”€æ¯æ–¹æ³• */ @PreDestroy public void destroy() { System.out.println(this + \u0026#34;destroy...\u0026#34;); } // ... } ä¸ä½¿ç”¨æ³¨è§£å¼€å‘çš„æƒ…å†µä¸€æ ·ï¼Œè¦æƒ³æ‰§è¡Œdestroy()éœ€è¦åœ¨ç¨‹åºæ‰§è¡Œçš„æ—¶å€™å…³é—­å®¹å™¨ï¼š\nctx.close(); æˆ–ï¼š\nctx.registerShutdownHook(); æ³¨æ„:@PostConstructå’Œ@PreDestroyæ³¨è§£å¦‚æœæ‰¾ä¸åˆ°ï¼Œéœ€è¦å¯¼å…¥ä¸‹é¢çš„jaråŒ…ã€‚\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.annotation\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.annotation-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; åŸå› æ˜¯ï¼Œä»JDK9ä»¥åjdkä¸­çš„javax.annotationåŒ…è¢«ç§»é™¤äº†ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£åˆšå¥½å°±åœ¨è¿™ä¸ªåŒ…ä¸­ã€‚\nä¾èµ–æ³¨å…¥ ç»™UserServiceé…ç½®Beanï¼š\nimport org.springframework.stereotype.Service; @Service public class UserServiceImpl implements UserService { // ... } æŒ‰ç…§ç±»å‹æ³¨å…¥ æ³¨è§£å¼€å‘æŒ‰ç…§ç±»å‹æ³¨å…¥ä½¿ç”¨@Autowiredæ³¨è§£ã€‚\nç»™UserServiceæ³¨å…¥UserDaoï¼š\nimport org.springframework.beans.factory.annotation.Autowired; @Service public class UserServiceImpl implements UserService { @Autowired private UserDao userDao; // ... } @Autowiredå¯ä»¥åœ¨å®ä¾‹ç±»çš„æˆå‘˜å˜é‡ä¸Šä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨Setteræ–¹æ³•ä¸Šä½¿ç”¨ï¼Œå¦‚ï¼š\n@Service public class UserServiceImpl implements UserService { private UserDao userDao; @Autowired public void setUserDao(UserDao userDao) { this.userDao = userDao; } // ... } åœ¨å®ä¾‹ç±»çš„æˆå‘˜å˜é‡ä¸Šä½¿ç”¨@Autowiredï¼Œå³ä½¿å°†Setteræ–¹æ³•æ³¨é‡Šæ‰ä¾ç„¶å¯ä»¥æ³¨å…¥æˆåŠŸã€‚å› ä¸ºè‡ªåŠ¨è£…é…åŸºäºåå°„è®¾è®¡åˆ›å»ºå¯¹è±¡å¹¶é€šè¿‡æš´åŠ›åå°„ä¸ºå±æ€§è¿›è¡Œè®¾å€¼ï¼ˆå³ä½¿æ˜¯ç§æœ‰å±æ€§ä¹Ÿèƒ½è®¾å€¼ï¼‰ã€‚\nä½¿ç”¨@Autowiredéœ€è¦ä¿è¯è¯¥ç±»å‹åœ¨IOCå®¹å™¨ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŒç±»å‹çš„Beanã€‚ å¦‚æœIOCå®¹å™¨ä¸­æœ‰å¯¹ä¸ªåŒç±»å‹çš„Beanã€‚é‚£ä¹ˆ@Autowiredå°±ä¼šæŒ‰ç…§å˜é‡åå’ŒBeançš„åç§°è¿›è¡ŒåŒ¹é…ã€‚å¦‚ï¼š\n@Repository(\u0026#34;userDao\u0026#34;) public class UserDaoImpl implements UserDao { /*...*/ } @Service public class UserServiceImpl implements UserService { @Autowired private UserDao userDao; // ... } ä¹Ÿèƒ½æ³¨å…¥æˆåŠŸã€‚\nå¦‚æœæœ‰å¤šä¸ªåŒç±»å‹Beanï¼Œå¹¶ä¸”@Autowiredåç§°åŒ¹é…ä¸ä¸Šï¼Œé‚£ä¹ˆä¼šæŠ¥NoUniqueBeanDefinitionExceptioné”™è¯¯ã€‚\nä½¿ç”¨ä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„UserServiceTestï¼ŒæˆåŠŸæ‰§è¡Œè¯´æ˜é…ç½®æˆåŠŸã€‚\næŒ‰ç…§åç§°æ³¨å…¥ æ³¨è§£å¼€å‘åç§°æ³¨å…¥ä½¿ç”¨@Qualifieræ³¨è§£æ¥å®Œæˆã€‚\nimport org.springframework.beans.factory.annotation.Qualifier; @Service public class UserServiceImpl implements UserService { @Autowired @Qualifier(\u0026#34;userDao\u0026#34;) private UserDao userDao; // ... } åœ¨@Qualifierä¸­æŒ‡å®šBeançš„åç§°ã€‚å¹¶ä¸”ï¼Œ@Qualifierå¿…é¡»å’Œ@Autowiredä¸€èµ·ä½¿ç”¨æ‰èƒ½èµ·åˆ°æŒ‰ç…§åç§°æ³¨å…¥çš„æ•ˆæœã€‚\nç»è¿‡æµ‹è¯•å•ç‹¬ä½¿ç”¨@Qualifierï¼ˆä¸åŠ @Autowiredï¼‰çš„æ•ˆæœå’ŒæŒ‰ç…§ç±»å‹æ³¨å…¥çš„æ•ˆæœä¸€æ ·ï¼ˆå¯èƒ½ä¼šæœ‰å…¶ä»–ç»†å¾®çš„åŒºåˆ«ï¼‰ã€‚\næ³¨å…¥ç®€å•æ•°æ®ç±»å‹ æ³¨è§£å¼€å‘æ³¨å…¥ç®€å•ç±»å‹æ•°æ®ä½¿ç”¨@Valueæ³¨è§£ã€‚\nimport org.springframework.beans.factory.annotation.Value; @Repository public class UserDaoImpl implements UserDao { @Value(\u0026#34;mysql\u0026#34;) private String databaseName; @Value(\u0026#34;10\u0026#34;) private int connectionNum; // ... } @Valueä¸­çš„å€¼ä½¿ç”¨Stringç±»å‹ã€‚å¦‚æœè¦æ³¨å…¥çš„æ˜¯å…¶ä»–ç±»å‹æ•°æ®ï¼Œéœ€è¦æŒ‰ç…§å…¶ç±»å‹æ•°æ®çš„æ ¼å¼ç¼–å†™ã€‚\næ³¨è§£è¯»å– properties é…ç½®æ–‡ä»¶ ä½¿ç”¨@Valueçš„æ„ä¹‰ä¹‹ä¸€åœ¨äºï¼šè¯»å–propertiesé…ç½®æ–‡ä»¶çš„ä¿¡æ¯ã€‚\nåœ¨resourceç›®å½•ä¸‹æ–°å»ºjdbc.propertiesï¼š\ndatabaseName=mysql connectionNum=10 åœ¨é…ç½®ç±»ä¸Šæ·»åŠ @PropertySourceæ³¨è§£ï¼š\nimport org.springframework.context.annotation.PropertySource; @Configuration @ComponentScan(\u0026#34;com.linner\u0026#34;) @PropertySource(\u0026#34;jdbc.properties\u0026#34;) public class SpringConfig { } ä¿®æ”¹UserDaoï¼š\n@Repository public class UserDaoImpl implements UserDao { @Value(\u0026#34;${databaseName}\u0026#34;) private String databaseName; @Value(\u0026#34;${connectionNum}\u0026#34;) private int connectionNum; // ... } è¯»å–å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨æ•°ç»„å½¢å¼ç»™@PropertySourceä¼ é€’å­—ç¬¦ä¸²æ•°ç»„ã€‚å¦‚ï¼š\n@PropertySource({\u0026#34;jdbc.properties\u0026#34;, \u0026#34;xxx.properties\u0026#34;}) @PropertySourceæ³¨è§£å±æ€§ä¸­ä¸æ”¯æŒä½¿ç”¨é€šé…ç¬¦*ï¼Œè¿è¡Œä¼šæŠ¥é”™ã€‚\n@PropertySourceæ³¨è§£å±æ€§ä¸­å¯ä»¥åŠ å…¥classpath:ï¼Œä»£è¡¨ä»å½“å‰é¡¹ç›®çš„æ ¹è·¯å¾„æ‰¾æ–‡ä»¶ï¼š\n@PropertySource({\u0026#34;classpath:jdbc.properties\u0026#34;}) æ³¨è§£ç®¡ç†ç¬¬ä¸‰æ–¹ Bean åŸºç¡€é…ç½®ï¼š\nUser.java: åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„User.javaã€‚\nUserDaoï¼š\npackage com.linner.dao; import com.linner.domain.User; import org.apache.ibatis.annotations.*; import java.util.List; public interface UserDao { @Select(\u0026#34;SELECT * FROM user_tb\u0026#34;) List\u0026lt;User\u0026gt; findAll(); @Select((\u0026#34;SELECT * FROM user_tb WHERE id = #{id}\u0026#34;)) User findById(int id); @Delete(\u0026#34;DELETE FROM user_tb WHERE id = #{id}\u0026#34;) void delete(int id); @Insert(\u0026#34;INSERT INTO user_tb(username, password) VALUES (#{username}, #{password})\u0026#34;) void save(User user); @Update(\u0026#34;UPDATE user_tb SET username = #{username}, password = #{password} WHERE id = #{id}\u0026#34;) void update(User user); } UserServiceï¼š\nUserServiceæ¥å£åŒä½¿ç”¨IOCå®¹å™¨åˆ›å»ºBeanä¸­çš„UserService.javaã€‚\nUserServiceå®ç°ç±»UserServiceImpl.javaï¼š\npackage com.linner.service.impl; import com.linner.dao.UserDao; import com.linner.domain.User; import com.linner.service.UserService; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import java.util.List; @Service public class UserServiceImpl implements UserService { @Autowired private UserDao userDao; @Override public List\u0026lt;User\u0026gt; findAll() { return userDao.findAll(); } @Override public User findById(int id) { return userDao.findById(id); } @Override public void delete(int id) { userDao.delete(id); } @Override public void save(User user) { userDao.save(user); } @Override public void update(User user) { userDao.update(user); } } æ•´åˆ Mybatis pom.xmlä¾èµ–ï¼š\n\u0026lt;!--Spring Framework--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-context\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--MySQL JDBC--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;8.0.29\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--Druid--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;druid\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.11\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--MyBatis--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.10\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--Spring JDBC--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-jdbc\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--MyBatis Spring æ•´åˆåŒ…--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis-spring\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--Junit å•å…ƒæµ‹è¯•--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.13\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; å»ºç«‹Userè¡¨ï¼š\nDROP TABLE IF EXISTS `user_tb`; CREATE TABLE `user_tb` ( `id` int(10) PRIMARY KEY AUTO_INCREMENT COMMENT \u0026#39;ç”¨æˆ·id\u0026#39;, `username` varchar(10) NOT NULL COMMENT \u0026#39;ç”¨æˆ·å\u0026#39;, `password` varchar(10) NOT NULL COMMENT \u0026#39;å¯†ç \u0026#39; ) CHARACTER SET = utf8; JDBCé…ç½®æ–‡ä»¶jdbc.propertiesï¼š\njdbc.driver=com.mysql.cj.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/spring_db?useSSL=false\u0026amp;useServerPrepStmts=true jdbc.username=root jdbc.password=root JDBCé…ç½®ç±»JdbcConfig.javaï¼š\npackage com.linner.config; import com.alibaba.druid.pool.DruidDataSource; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import javax.sql.DataSource; public class JdbcConfig { // é©±åŠ¨ä¿¡æ¯ï¼š @Value(\u0026#34;${jdbc.driver}\u0026#34;) private String driver; @Value(\u0026#34;${jdbc.url}\u0026#34;) private String url; @Value(\u0026#34;${jdbc.username}\u0026#34;) private String username; @Value(\u0026#34;${jdbc.password}\u0026#34;) private String password; /** * è·å–DataSourceå¯¹è±¡ */ @Bean public DataSource dataSource() { DruidDataSource ds = new DruidDataSource(); // è®¾ç½®é©±åŠ¨ä¿¡æ¯ ds.setDriverClassName(this.driver); ds.setUrl(this.url); ds.setUsername(this.username); ds.setPassword(this.password); return ds; } } @Beanï¼šç”¨äºæ–¹æ³•ä¸Šï¼Œæ ¹æ®è¿”å›å€¼ç±»å‹è‡ªåŠ¨äº§ç”ŸBeanï¼Œå¹¶ä¸”æ–¹æ³•çš„å‚æ•°ä¼šæŒ‰ç…§ç±»å‹è‡ªåŠ¨è£…é…ã€‚ Mybatisé…ç½®ç±»MybatisConfig.javaï¼š\npackage com.linner.config; import org.mybatis.spring.SqlSessionFactoryBean; import org.mybatis.spring.mapper.MapperScannerConfigurer; import org.springframework.context.annotation.Bean; import javax.sql.DataSource; public class MybatisConfig { @Bean public SqlSessionFactoryBean sqlSessionFactory(DataSource dataSource) { SqlSessionFactoryBean ssfb = new SqlSessionFactoryBean(); // è®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æ ssfb.setTypeAliasesPackage(\u0026#34;com.linner.domain\u0026#34;); // è®¾ç½®æ•°æ®æº ssfb.setDataSource(dataSource); return ssfb; } /** * è·å–MapperScannerConfigurerå¯¹è±¡ */ @Bean public MapperScannerConfigurer mapperScannerConfigurer() { MapperScannerConfigurer msc = new MapperScannerConfigurer(); msc.setBasePackage(\u0026#34;com.linner.dao\u0026#34;); return msc; } } SqlSessionFactoryBeanï¼šç”¨äºå°è£…SqlSessionFactoryéœ€è¦çš„ç¯å¢ƒä¿¡æ¯ï¼ˆåŸå…ˆçš„ä¿¡æ¯æ˜¯åœ¨Mybatisé…ç½®æ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¦‚ä»Šå¯ä»¥åœ¨Javaä¸­ç”¨ä»£ç å®šä¹‰ï¼‰ã€‚ç”¨äºäº§ç”ŸSqlSessionFactoryå¯¹è±¡ã€‚ setTypeAliasesPackage()ï¼šè®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æ setDataSource()ï¼šè®¾ç½®DataSourceã€‚è¿™é‡Œè®¾ç½®çš„DataSourceé€šè¿‡æ–¹æ³•çš„å‚æ•°å’Œ@Beanæ³¨è§£å®ç°äº†è‡ªåŠ¨è£…é…ã€‚å¹¶ä¸”è‡ªåŠ¨è£…é…çš„å¯¹åƒæ˜¯Druidçš„DataSourceã€‚ MapperScannerConfigurerï¼šç”¨äºåŠ è½½Daoæ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ä¿å­˜åˆ°IOCå®¹å™¨ä¸­ã€‚æ­¤å¤„è®¾ç½®çš„æ˜¯daoåŒ…ä¸‹çš„æ‰€æœ‰æ¥å£ã€‚è¿™äº›æ¥å£éƒ½ä¼šè¢«Mybatisåˆ›å»ºæˆå¯¹è±¡å¹¶ä¸”ä½œä¸ºBeanä¿å­˜åœ¨IOCå®¹å™¨ä¸­ã€‚å³ï¼Œä½¿ç”¨ctx.getBean(UserDao.class)èƒ½è·å–åˆ°UserDaoã€‚ Springé…ç½®ç±»SpringConfig.javaï¼š\npackage com.linner.config; import org.springframework.context.annotation.*; @Configuration @ComponentScan(\u0026#34;com.linner\u0026#34;) @PropertySource(\u0026#34;classpath:jdbc.properties\u0026#34;) @Import({JdbcConfig.class, MybatisConfig.class}) public class SpringConfig { } @Importï¼šç”¨äºå¼•å…¥å…¶ä»–é…ç½®ç±»ã€‚å¦‚æœè¦å¼•å…¥å¤šä¸ªé…ç½®ç±»åˆ™éœ€è¦ä½¿ç”¨æ•°ç»„å½¢å¼ã€‚ æµ‹è¯•ç±»UserServiceTestï¼š\npackage com.linner; import com.linner.config.SpringConfig; import com.linner.domain.User; import com.linner.service.UserService; import org.junit.Test; import org.springframework.context.ApplicationContext; import org.springframework.context.annotation.AnnotationConfigApplicationContext; import java.util.List; public class UserServiceTest { private static UserService userService; static { ApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig.class); userService = ctx.getBean(UserService.class); } @Test public void testFindAll() { List\u0026lt;User\u0026gt; users = userService.findAll(); for (User user : users) { System.out.println(user); } } @Test public void testFindById() { int id = 10; User user = userService.findById(id); System.out.println(user); } @Test public void testDelete() { int id = 10; userService.delete(id); } @Test public void testSave() { User user = new User(); user.setUsername(\u0026#34;å¼ ä¸‰\u0026#34;); user.setPassword(\u0026#34;abc\u0026#34;); userService.save(user); } @Test public void testUpdate() { User user = new User(); user.setId(21); user.setUsername(\u0026#34;å¼ ä¸‰\u0026#34;); user.setPassword(\u0026#34;abc\u0026#34;); userService.update(user); } } æ•´åˆ Junit å¼•å…¥Springä¸æµ‹è¯•æœ‰å…³çš„æ•´åˆåŒ…ï¼š\n\u0026lt;!--Spring æµ‹è¯•æ•´åˆåŒ…--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.springframework\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;spring-test\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.2.10.RELEASE\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ä¿®æ”¹æµ‹è¯•ç±»UserServiceTestï¼š\nimport org.junit.runner.RunWith; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; import java.util.List; // è®¾ç½®ç±»è¿è¡Œå™¨ @RunWith(SpringJUnit4ClassRunner.class) // è®¾ç½®Springç¯å¢ƒå¯¹åº”çš„é…ç½® // åŠ è½½é…ç½®ç±» @ContextConfiguration(classes = {SpringConfig.class}) // åŠ è½½é…ç½®æ–‡ä»¶ //@ContextConfiguration(locations={\u0026#34;classpath:applicationContext.xml\u0026#34;}) public class UserServiceTest { // è‡ªåŠ¨è£…é…UserServiceï¼Œåˆ é™¤staticé™æ€ä»£ç å— @Autowired private UserService userService; } AOP AOP ä»‹ç» ä¸€èˆ¬å¸¸ç”¨çš„ç¼–ç¨‹æ€æƒ³æ˜¯OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ŒObject Oriented Programmingï¼‰ã€‚\nè€ŒAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ŒAspect Oriented Programmingï¼‰ï¼Œæ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„ã€‚\nç¼–ç¨‹æ€æƒ³ä¸»è¦çš„å†…å®¹å°±æ˜¯æŒ‡å¯¼ç¨‹åºå‘˜è¯¥å¦‚ä½•ç¼–å†™ç¨‹åºï¼Œæ‰€ä»¥AOPå’ŒOOPæ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹èŒƒå¼ã€‚\nAOPçš„ä½œç”¨æ˜¯åœ¨ä¸æ”¹å˜åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ç±»ä¼¼äºFilterä»£ç†æ¨¡å¼ã€‚\nAOPæœ¯è¯­ï¼š\nè¿æ¥ç‚¹ï¼ˆJoinPointï¼‰ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»æ„ä½ç½®ï¼Œç²’åº¦ä¸ºæ‰§è¡Œæ–¹æ³•ã€æŠ›å‡ºå¼‚å¸¸ã€è®¾ç½®å˜é‡ç­‰ã€‚\nåœ¨SpringAOPä¸­ï¼Œç†è§£ä¸ºæ–¹æ³•çš„æ‰§è¡Œã€‚\nä¾‹å¦‚è¦å¯¹é¡¹ç›®ä¸­UserDaoçš„åŠŸèƒ½åœ¨ä¸è¿›è¡Œä»»ä½•ä¿®æ”¹çš„å‰æä¸‹å®ç°å¢å¼ºã€‚é‚£ä¹ˆUserDaoä¸­è¦å¢å¼ºçš„æ–¹æ³•å³ä¸ºè¿æ¥ç‚¹ã€‚\nåˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šåŒ¹é…è¿æ¥ç‚¹çš„å¼å­ã€‚\nåœ¨SpringAOPä¸­ï¼Œä¸€ä¸ªåˆ‡å…¥ç‚¹å¯ä»¥æè¿°ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œä¹Ÿå¯ä¹ŸåŒ¹é…å¤šä¸ªæ–¹æ³•ã€‚\nè¿æ¥ç‚¹èŒƒå›´è¦æ¯”åˆ‡å…¥ç‚¹èŒƒå›´å¤§ï¼Œæ˜¯åˆ‡å…¥ç‚¹çš„æ–¹æ³•ä¹Ÿä¸€å®šæ˜¯è¿æ¥ç‚¹ï¼Œä½†æ˜¯æ˜¯è¿æ¥ç‚¹çš„æ–¹æ³•å°±ä¸ä¸€å®šè¦è¢«å¢å¼ºï¼Œæ‰€ä»¥å¯èƒ½ä¸æ˜¯åˆ‡å…¥ç‚¹ã€‚\né€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåœ¨åˆ‡å…¥ç‚¹å¤„æ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯å…±æ€§åŠŸèƒ½ã€‚\nåœ¨SpringAOPä¸­ï¼ŒåŠŸèƒ½æœ€ç»ˆä»¥æ–¹æ³•çš„å½¢å¼å‘ˆç°ã€‚\né€šçŸ¥ç±»ï¼šå®šä¹‰é€šçŸ¥çš„ç±»ã€‚\nåˆ‡é¢ï¼ˆAspectï¼‰ï¼šæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ã€‚\né€šçŸ¥æ˜¯è¦å¢å¼ºçš„å†…å®¹ï¼Œä¼šæœ‰å¤šä¸ªï¼›åˆ‡å…¥ç‚¹æ˜¯éœ€è¦è¢«å¢å¼ºçš„æ–¹æ³•ï¼Œä¹Ÿä¼šæœ‰å¤šä¸ªã€‚é€šçŸ¥å’Œåˆ‡å…¥ç‚¹çš„å…³ç³»é€šè¿‡åˆ‡é¢æ¥æè¿°ã€‚\nç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼šä¹Ÿå«åŸå§‹å¯¹è±¡ã€‚åŸå§‹åŠŸèƒ½å»æ‰å…±æ€§åŠŸèƒ½å¯¹åº”çš„ç±»äº§ç”Ÿçš„å¯¹è±¡ã€‚å³ï¼Œé…ç½®AOPä¹‹å‰åŸè®¾è®¡çš„å¯¹è±¡ï¼ˆè¦å¢å¼ºçš„å¯¹è±¡ï¼‰ã€‚\nä»£ç†ï¼ˆProxyï¼‰ï¼šé€šè¿‡é€šçŸ¥ç±»æŠŠç›®æ ‡å¯¹è±¡å¢å¼ºåäº§ç”Ÿçš„å¯¹è±¡ã€‚\nç›®æ ‡å¯¹è±¡æ— æ³•ç›´æ¥å®Œæˆå·¥ä½œï¼Œéœ€è¦å¯¹å…¶è¿›è¡ŒåŠŸèƒ½å›å¡«ï¼Œé€šè¿‡åŸå§‹å¯¹è±¡çš„ä»£ç†å¯¹è±¡å®ç°ã€‚\næ³¨è§£å¼€å‘ AOP åŸºç¡€é…ç½®ï¼šä½¿ç”¨æ•´åˆ Junitä¸­çš„é…ç½®ã€‚\npom.xmlå¯¼å…¥åæ ‡ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.aspectj\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;aspectjweaver\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.9.4\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; spring-contextä¸­å·²ç»åŒ…å«äº†spring-aopï¼Œæ‰€ä»¥ä¸éœ€è¦å†å•ç‹¬å¯¼å…¥spring-aopã€‚ AspectJæ˜¯AOPæ€æƒ³çš„ä¸€ä¸ªå…·ä½“å®ç°ï¼ŒAspectJæ¯”èµ·Springçš„AOPå®ç°æ¥è¯´ï¼Œæ›´åŠ å¥½ç”¨ã€‚ åˆ›å»ºé€šçŸ¥ç±»UserDaoAdviceï¼š\npackage com.linner.aop; import org.aspectj.lang.annotation.*; import org.springframework.stereotype.Component; @Component @Aspect public class UserDaoAdvice { @Pointcut(\u0026#34;execution(* com.linner.dao.UserDao.*(..))\u0026#34;) private void pt() {} @Before(\u0026#34;pt()\u0026#34;) public void method() { System.out.println(\u0026#34;Before...\u0026#34;); } } @Aspectï¼šè®¾ç½®å½“å‰ç±»ä¸ºAOPåˆ‡é¢ç±»ã€‚\n@Pointcutï¼šè®¾ç½®åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚åˆ‡å…¥ç‚¹å®šä¹‰éœ€è¦ä¸€ä¸ªä¸å…·æœ‰å®é™…æ„ä¹‰çš„æ–¹æ³•ï¼ˆæ— å‚ã€æ— è¿”å›å€¼ã€ç©ºæ–¹æ³•ä½“ï¼‰ã€‚å³UserDaoAdviceä¸­çš„pt()ã€‚\n@Pointcutä¸­çš„execution()ç”¨æ¥å®šä¹‰åˆ‡å…¥ç‚¹ã€‚\n@Beforeï¼šè®¾ç½®åˆ‡é¢ã€‚å³è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰è¿è¡Œã€‚\nåˆ‡å…¥ç‚¹å®šä¹‰ä½œä¸º@Beforeçš„å‚æ•°ã€‚\nåœ¨SpringConfigåŠ å…¥@EnableAspectJAutoProxyæ³¨è§£ï¼š\nimport org.springframework.context.annotation.*; @Configuration @ComponentScan(\u0026#34;com.linner\u0026#34;) @EnableAspectJAutoProxy @PropertySource(\u0026#34;classpath:jdbc.properties\u0026#34;) @Import({JdbcConfig.class, MybatisConfig.class}) public class SpringConfig { } AOP åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ˜¯å¯¹è¦è¿›è¡Œå¢å¼ºçš„æ–¹æ³•çš„æè¿°æ–¹å¼ã€‚åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„ä¸€èˆ¬å½¢å¼å¦‚ä¸‹ï¼š\nåŠ¨ä½œå…³é”®å­—(è®¿é—®ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ åŒ…å.ç±»å.æ–¹æ³•å(å‚æ•°ç±»å‹åˆ—è¡¨) å¼‚å¸¸å) ç”±äºé€šå¸¸éƒ½æ˜¯å¯¹publicæ–¹æ³•è¿›è¡Œå®šä¹‰ï¼Œè€Œpublicæ˜¯é»˜è®¤çš„ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ã€‚ åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å®šä¹‰çš„ç±»å¯ä»¥æ˜¯æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ç°ç±»ã€‚ AOPæ˜¯åœ¨Springä¸­è¿è¡Œçš„ï¼Œå¾ˆæ˜¾ç„¶åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å®šä¹‰çš„ç±»å¿…é¡»å­˜åœ¨IOCå®¹å™¨ä¸­ã€‚ å¦‚æœåŒ¹é…æ— å‚æ–¹æ³•ï¼Œç›´æ¥çœç•¥å‚æ•°ã€‚ Exampleï¼š\nexecution(void com.linner.dao.UserDao.delete(int)) åˆ‡å…¥ç‚¹è¡¨è¾¾å¼é€šé…ç¬¦ *ï¼šåŒ¹é…ä»»æ„å•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ã€‚\nå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼ŒåŒ¹é…ä»»æ„è¿”å›å€¼ç±»å‹ã€å•ä¸ªåŒ…åï¼ˆä¸èƒ½ç”¨åšåŒ¹é…å®Œæ•´åŒ…åï¼‰ã€ç±»åã€æ–¹æ³•åæˆ–å•ä¸ªå‚æ•°ç±»å‹ï¼ˆå³åŒ¹é…å•ä¸ªå•è¯ï¼‰ï¼› ä¹Ÿå¯ä»¥ä½œä¸ºå‰ç¼€æˆ–è€…åç¼€çš„åŒ¹é…ç¬¦å‡ºç°ã€‚\nå¦‚ï¼š\nexecutionï¼ˆ* com.linner.*.UserService.find*(*)) åŒ¹é…com.linneråŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­ï¼Œæ‰€æœ‰ä»¥findå¼€å¤´çš„ã€å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„ã€ä»»æ„è¿”å›å€¼ç±»å‹çš„æ–¹æ³•ã€‚\n..ï¼šåŒ¹é…å¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ã€‚\nå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œå¸¸ç”¨äºç®€åŒ–åŒ…åä¸å‚æ•°çš„ä¹¦å†™ã€‚\nexecutionï¼ˆ* com..UserService.findById(..)) åŒ¹é…comåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­æ‰€æœ‰åç§°ä¸ºfindByIdçš„ï¼ˆå‚æ•°çš„æ•°é‡ã€ç±»å‹ä»»æ„ï¼Œè¿”å›å€¼ä»»æ„ï¼‰æ–¹æ³•ã€‚\n+ï¼šä¸“ç”¨äºåŒ¹é…å­ç±»ç±»å‹ã€‚\nexecution(* *..*Service+.*(..)) è¿™ä¸ªä½¿ç”¨ç‡è¾ƒä½ã€‚*Service+ï¼Œè¡¨ç¤ºæ‰€æœ‰ä»¥Serviceç»“å°¾çš„æ¥å£çš„å­ç±»ã€‚\nä¹¦å†™æŠ€å·§ï¼ˆæ‰€æœ‰ä»£ç æŒ‰ç…§æ ‡å‡†è§„èŒƒå¼€å‘ï¼Œå¦åˆ™ä»¥ä¸‹æŠ€å·§å…¨éƒ¨å¤±æ•ˆï¼‰ï¼š\næè¿°åˆ‡å…¥ç‚¹é€šå¸¸æè¿°æ¥å£ï¼Œè€Œä¸æè¿°å®ç°ç±»ï¼Œå¦‚æœæè¿°åˆ°å®ç°ç±»ï¼Œå°±å‡ºç°è€¦åˆäº†ã€‚ è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦é’ˆå¯¹æ¥å£å¼€å‘å‡é‡‡ç”¨publicæè¿°ï¼ˆç®€åŒ–ä¹¦å†™ï¼‰ã€‚ è¿”å›å€¼ç±»å‹å¯¹äºå¢åˆ æ”¹æ–¹æ³•ä½¿ç”¨ç²¾å‡†ç±»å‹åŠ é€ŸåŒ¹é…ï¼Œå¯¹äºæŸ¥è¯¢ç±»ä½¿ç”¨*é€šé…å¿«é€Ÿæè¿°ã€‚ åŒ…åä¹¦å†™å°½é‡ä¸ä½¿ç”¨..åŒ¹é…ï¼Œæ•ˆç‡è¿‡ä½ï¼Œå¸¸ç”¨*åšå•ä¸ªåŒ…æè¿°åŒ¹é…ï¼Œæˆ–ç²¾å‡†åŒ¹é…ã€‚ æ¥å£å/ç±»åä¹¦å†™åç§°ä¸æ¨¡å—ç›¸å…³çš„é‡‡ç”¨*åŒ¹é…ï¼Œä¾‹å¦‚UserServiceä¹¦å†™æˆ*Serviceï¼Œç»‘å®šä¸šåŠ¡å±‚æ¥å£åã€‚ æ–¹æ³•åä¹¦å†™ä»¥åŠ¨è¯è¿›è¡Œç²¾å‡†åŒ¹é…ï¼Œåè¯é‡‡ç”¨*åŒ¹é…ï¼Œä¾‹å¦‚getByIdä¹¦å†™æˆgetBy*ï¼ŒselectAllä¹¦å†™æˆselectAllã€‚ å‚æ•°è§„åˆ™è¾ƒä¸ºå¤æ‚ï¼Œæ ¹æ®ä¸šåŠ¡æ–¹æ³•çµæ´»è°ƒæ•´ã€‚ é€šå¸¸ä¸ä½¿ç”¨å¼‚å¸¸ä½œä¸ºåŒ¹é…è§„åˆ™ã€‚ é€šçŸ¥ç±»å‹ AOPé€šçŸ¥æè¿°äº†æŠ½å–çš„å…±æ€§åŠŸèƒ½ï¼Œæ ¹æ®å…±æ€§åŠŸèƒ½æŠ½å–çš„ä½ç½®ä¸åŒï¼Œæœ€ç»ˆè¿è¡Œä»£ç æ—¶è¦å°†å…¶åŠ å…¥åˆ°åˆç†çš„ä½ç½®ã€‚\nAspactJæä¾›äº†5ç§é€šçŸ¥ç±»å‹ï¼š\nå‰ç½®é€šçŸ¥ åç½®é€šçŸ¥ ç¯ç»•é€šçŸ¥ è¿”å›åé€šçŸ¥ æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥ // ä»£ç 1 try { // ä»£ç 2 // åŸå§‹çš„ä¸šåŠ¡æ“ä½œ // ä»£ç 3 } catch (Exception e) { // ä»£ç 4 } // ä»£ç 5 å…¶ä¸­ï¼š\nå‰ç½®é€šçŸ¥ï¼šä»£ç 1å’Œä»£ç 2 è¿”å›åé€šçŸ¥ï¼šä»£ç 3 æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥ï¼šä»£ç 4 åç½®é€šçŸ¥:ä»£ç 5 ç¯ç»•é€šçŸ¥ï¼šä¸Šè¿°æ•´ä¸ªä»£ç å— é€šçŸ¥æ–¹æ³•çš„æ–¹æ³•åç§°æ²¡æœ‰é™åˆ¶ï¼Œåªéœ€åœ¨æ–¹æ³•çš„ä¸Šç«¯ä½¿ç”¨æ³¨è§£å®šä¹‰å³å¯ã€‚å„é€šçŸ¥ç±»å‹çš„æ³¨è§£å¦‚ä¸‹ï¼š\nå‰ç½®é€šçŸ¥ï¼š@Before åç½®é€šçŸ¥ï¼š@After ç¯ç»•é€šçŸ¥ï¼š@Around è¿”å›åé€šçŸ¥ï¼š@AfterReturning æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥ï¼š@AfterThrowing è¿™äº›æ³¨è§£çš„ä½¿ç”¨æ–¹å¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚åœ¨å¯¹åº”çš„æ–¹æ³•ä¸Šå®šä¹‰ï¼Œå¹¶ä¸”ä¼ å…¥åˆ‡å…¥ç‚¹ï¼ˆå‡½æ•°å½¢å¼ï¼‰ã€‚å¦‚ï¼š@Around(\u0026quot;pt()\u0026quot;)ã€‚\nå‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥çš„ä½¿ç”¨ å‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥çš„ä½¿ç”¨æ–¹å¼ä¸€æ ·ï¼š\n@Component @Aspect public class UserDaoAdvice { @Pointcut(\u0026#34;execution(* com.linner.dao.UserDao.*(..))\u0026#34;) private void pt() {} @Before(\u0026#34;pt()\u0026#34;) public void before() { System.out.println(\u0026#34;Before...\u0026#34;); } @After(\u0026#34;pt()\u0026#34;) public void after() { System.out.println(\u0026#34;After...\u0026#34;); } } ç¯ç»•é€šçŸ¥çš„ä½¿ç”¨ import org.aspectj.lang.ProceedingJoinPoint; @Component @Aspect public class UserDaoAdvice { @Pointcut(\u0026#34;execution(* com.linner.dao.UserDao.findById(int))\u0026#34;) private void pt() {} @Around(\u0026#34;pt()\u0026#34;) public Object around(ProceedingJoinPoint pjp) throws Throwable { System.out.println(\u0026#34;Before...\u0026#34;); Object ret = pjp.proceed(); System.out.println(\u0026#34;After....\u0026#34;); return ret; } } ç¯ç»•é€šçŸ¥å¿…é¡»ä¼ å…¥ä¸€ä¸ªProceedingJoinPointå‚æ•°ã€‚ä½¿ç”¨pjp.proceed()æ‰å¯ä»¥åœ¨ç¯ç»•é€šçŸ¥ä¸­æ‰ç”¨åŸå§‹æ–¹æ³•ã€‚å¹¶ä¸”proceed()å¯ä»¥è·å–åˆ°åŸå§‹æ–¹æ³•çš„è¿”å›å€¼ã€‚\nå¦‚æœä¹Ÿæƒ³è®©ä»£ç†åçš„æ–¹æ³•è¿”å›è·ŸåŸå§‹æ–¹æ³•ä¸€æ ·çš„å€¼ã€‚é‚£ä¹ˆå¿…é¡»å®šä¹‰ç¯ç»•æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œå¹¶ä¸”ä½¿ç”¨proceed()è·å–åŸå§‹æ–¹æ³•çš„è¿”å›å€¼å¹¶è¿”å›ã€‚\nç¯ç»•é€šçŸ¥æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥å°†å…¶å®šä¹‰æˆå…¶ä»–ç±»å‹çš„é€šçŸ¥ï¼Œå¹¶ä¸”å¯ä»¥åšåˆ°å…¶ä»–é€šçŸ¥åšä¸åˆ°çš„äº‹æƒ…ã€‚ä¾‹å¦‚å¾ªç¯è°ƒç”¨åŸå§‹æ–¹æ³•ç­‰ã€‚\nç¯ç»•é€šçŸ¥éœ€è¦æŠ›å‡ºå¼‚å¸¸æ˜¯å› ä¸ºã€‚åŸå§‹æ–¹æ³•æœ‰å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼Œå¹¶ä¸”åŸå§‹æ–¹æ³•çš„å¼‚å¸¸å¹¶ä¸ç¡®å®šã€‚æ‰€ä»¥ä¸ºäº†æé«˜é€šç”¨æ€§ï¼Œç¯ç»•é€šçŸ¥é»˜è®¤æŠ›å‡ºå¼‚å¸¸ã€‚\nå¦‚æœç¯ç»•æ–¹æ³•å®šä¹‰çš„æ˜¯voidç±»å‹ï¼Œå¹¶ä¸”åŸå§‹æ–¹æ³•æœ‰è¿”å›å€¼ã€‚å¦‚æœæ­¤æ—¶åœ¨ç¯ç»•é€šçŸ¥ä¸­æ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆåœ¨æ‰ç”¨ä»£ç†åçš„æ–¹æ³•åï¼Œè¿”å›çš„æ˜¯nullã€‚\nè¿”å›åé€šçŸ¥çš„ä½¿ç”¨ @Component @Aspect public class UserDaoAdvice { @Pointcut(\u0026#34;execution(* com.linner.dao.UserDao.findById(int))\u0026#34;) private void pt() {} @AfterReturning(\u0026#34;pt()\u0026#34;) public void afterReturning() { System.out.println(\u0026#34;After Returning...\u0026#34;); } } æ³¨æ„ï¼šè¿”å›åé€šçŸ¥æ˜¯éœ€è¦åœ¨åŸå§‹æ–¹æ³•æ­£å¸¸æ‰§è¡Œåæ‰ä¼šè¢«æ‰§è¡Œï¼Œå¦‚æœåŸå§‹æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿”å›åé€šçŸ¥ä¸ä¼šè¢«æ‰§è¡Œã€‚\nåç½®é€šçŸ¥æ˜¯ä¸ç®¡åŸå§‹æ–¹æ³•æœ‰æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸éƒ½ä¼šè¢«æ‰§è¡Œã€‚\nå¼‚å¸¸åé€šçŸ¥ @Component @Aspect public class UserDaoAdvice { @Pointcut(\u0026#34;execution(* com.linner.service.UserService.findAll())\u0026#34;) private void pt() {} @AfterThrowing(\u0026#34;pt()\u0026#34;) public void afterThrowing() { System.out.println(\u0026#34;After Throwing...\u0026#34;); } } åœ¨UserServiceImpl.findAll()ä¸­æ¨¡æ‹Ÿé”™è¯¯å³å¯è§¦å‘ã€‚ä¾‹å¦‚ä½¿ç”¨int a = 1/0;æ¨¡æ‹Ÿé”™è¯¯ã€‚\næ³¨æ„ï¼šå¼‚å¸¸åé€šçŸ¥æ˜¯éœ€è¦åŸå§‹æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœæ²¡æœ‰æŠ›å¼‚å¸¸ï¼Œå¼‚å¸¸åé€šçŸ¥å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚\n","date":"2022å¹´10æœˆ16æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/springframework/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"Spring","url":"/tags/spring/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1665878400,"title":"Spring Framework"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Ajax AJAX (Asynchronous JavaScript And XML)ï¼Œå…¶å«ä¹‰ä¸ºå¼‚æ­¥çš„ JavaScript å’Œ XMLã€‚å…¶ä¸­ JavaScript è¡¨æ˜è¯¥æŠ€æœ¯å’Œå‰ç«¯ç›¸å…³ï¼›XML æ˜¯æŒ‡ä»¥æ­¤è¿›è¡Œæ•°æ®äº¤æ¢ã€‚\nAJAX ä½œç”¨æœ‰ä»¥ä¸‹ä¸¤æ–¹é¢ï¼š\nä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤æ¢ï¼šé€šè¿‡AJAXå¯ä»¥ç»™æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°†æ•°æ®ç›´æ¥å“åº”å›ç»™æµè§ˆå™¨ã€‚ å¼‚æ­¥äº¤äº’ï¼šå¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ï¼Œå¦‚ï¼šæœç´¢è”æƒ³ã€ç”¨æˆ·åæ˜¯å¦å¯ç”¨æ ¡éªŒç­‰ç­‰ã€‚ åŒæ­¥ï¼šæµè§ˆå™¨é¡µé¢åœ¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢ä¸èƒ½åšå…¶ä»–çš„æ“ä½œã€‚åªèƒ½ç­‰åˆ°æœåŠ¡å™¨å“åº”ç»“æŸåï¼Œæµè§ˆå™¨é¡µé¢æ‰èƒ½ç»§ç»­åšå…¶ä»–çš„æ“ä½œã€‚ å¼‚æ­¥ï¼šæµè§ˆå™¨é¡µé¢å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢è¿˜å¯ä»¥åšå…¶ä»–çš„æ“ä½œã€‚ Ajax ç®€å•ä½¿ç”¨ æœåŠ¡ç«¯ï¼š\npackage web.servlet; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/ajaxServlet\u0026#34;) public class AjaxServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // è¿”å›ç»™å®¢æˆ·ç«¯å“åº”æ•°æ® resp.getWriter().write(\u0026#34;Hello Ajax!\u0026#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } å®¢æˆ·ç«¯ï¼š\n//1. åˆ›å»ºæ ¸å¿ƒå¯¹è±¡ let xhttp; if (window.XMLHttpRequest) { xhttp = new XMLHttpRequest(); } else { // code for IE6, IE5 xhttp = new ActiveXObject(\u0026#34;Microsoft.XMLHTTP\u0026#34;); } //2. å‘é€è¯·æ±‚ xhttp.open(\u0026#34;GET\u0026#34;, \u0026#34;http://localhost:8080/ajax-demo/ajaxServlet\u0026#34;); xhttp.send(); //3. è·å–å“åº” xhttp.onreadystatechange = function() { if (this.readyState == 4 \u0026amp;\u0026amp; this.status == 200) { // å¤„ç†ä»æœåŠ¡ç«¯å‘é€è¿‡æ¥çš„å“åº”æ•°æ® alert(this.responseText); } }; Axios Axios æ˜¯ä¸€ä¸ªå¯¹åŸç”Ÿçš„AJAXè¿›è¡Œå°è£…ï¼Œç®€åŒ–ä¹¦å†™çš„å‰ç«¯æ¡†æ¶ã€‚\nä½¿ç”¨ Axios è¿›è¡Œäº¤äº’ Axios çš„ä½¿ç”¨åˆ†ä¸ºä»¥ä¸‹ä¸¤æ­¥ï¼š\nå¼•å…¥ Axios çš„ js æ–‡ä»¶\n\u0026lt;script src=\u0026#34;js/axios.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; ä½¿ç”¨ Axios å‘é€è¯·æ±‚ï¼Œå¹¶è·å–å“åº”ç»“æœï¼š\nå‘é€ GET è¯·æ±‚çš„åŸºæœ¬å½¢å¼ï¼š\naxios({ method: \u0026#34;get\u0026#34;, // è¯·æ±‚å‚æ•°ä¼šä¼ é€’ç»™æœåŠ¡å™¨ï¼Œæ­¤å¤„è¯·æ±‚å‚æ•°å¯ä»¥è½¬ä¹‰ä¹Ÿå¯ä»¥ä¸è½¬ä¹‰ url: \u0026#34;http://localhost:8080/axios-demo/demo?message=Hello%20World\u0026#34; }).then(function (resp){ // å¯¹å“åº”æ•°æ®è¿›è¡Œå¤„ç† alert(resp.data); }) å‘é€ POST è¯·æ±‚çš„åŸºæœ¬å½¢å¼ï¼š\naxios({ method: \u0026#34;post\u0026#34;, url: \u0026#34;http://localhost:8080/axios-demo/demo\u0026#34;, data: \u0026#34;message=Hello World\u0026#34; }).then(function (resp){ alert(resp.data); }); å…¶ä¸­ï¼š\naxios() æ˜¯ç”¨æ¥å‘é€å¼‚æ­¥è¯·æ±‚çš„ï¼Œå°æ‹¬å·ä¸­ä½¿ç”¨ js å¯¹è±¡ä¼ é€’è¯·æ±‚ç›¸å…³çš„å‚æ•°ï¼š\nmethod å±æ€§ï¼šç”¨æ¥è®¾ç½®è¯·æ±‚æ–¹å¼çš„ã€‚\nå–å€¼ä¸º get æˆ–è€… postã€‚\nurl å±æ€§ï¼šç”¨æ¥ä¹¦å†™è¯·æ±‚çš„èµ„æºè·¯å¾„ã€‚\nå¦‚æœæ˜¯ get è¯·æ±‚ï¼Œéœ€è¦å°†è¯·æ±‚å‚æ•°æ‹¼æ¥åˆ°è·¯å¾„çš„åé¢ï¼Œæ ¼å¼ä¸ºï¼š url?å‚æ•°å=å‚æ•°å€¼\u0026amp;å‚æ•°å2=å‚æ•°å€¼2ã€‚\ndata å±æ€§ï¼šä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ®ã€‚\nå³ï¼Œå¦‚æœæ˜¯ post è¯·æ±‚çš„è¯ï¼Œæ•°æ®éœ€è¦ä½œä¸º data å±æ€§çš„å€¼ã€‚\nthen() éœ€è¦ä¼ é€’ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚\nthen() ä¸­ä¼ é€’çš„åŒ¿åå‡½æ•°ç§°ä¸ºå›è°ƒå‡½æ•°ï¼Œæ„æ€æ˜¯è¯¥åŒ¿åå‡½æ•°åœ¨å‘é€è¯·æ±‚æ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨æˆåŠŸå“åº”åè°ƒç”¨çš„å‡½æ•°ã€‚\nè€Œè¯¥å›è°ƒå‡½æ•°ä¸­çš„ resp å‚æ•°æ˜¯å¯¹å“åº”çš„æ•°æ®è¿›è¡Œå°è£…çš„å¯¹è±¡ï¼Œé€šè¿‡ resp.data å¯ä»¥è·å–åˆ°å“åº”çš„æ•°æ®ã€‚\nè¯·æ±‚æ–¹æ³•åˆ«å ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œ Axios å·²ç»ä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«åã€‚å¦‚ä¸‹ï¼š\nget è¯·æ±‚ï¼š\naxios.get(url[,config]) delete è¯·æ±‚ï¼š\naxios.delete(url[,config]) head è¯·æ±‚ï¼š\naxios.head(url[,config]) options è¯·æ±‚ï¼š\naxios.option(url[,config]) post è¯·æ±‚ï¼š\naxios.post(url[,data[,config]) put è¯·æ±‚ï¼š\naxios.put(url[,data[,config]) patch è¯·æ±‚ï¼š\naxios.patch(url[,data[,config]) this ä½œç”¨åŸŸé—®é¢˜ ä½¿ç”¨è¯·æ±‚æ–¹æ³•åˆ«åå’Œç®­å¤´å‡½æ•°å¯ä»¥è§£å†³thisä½œç”¨åŸŸé—®é¢˜ï¼Œé˜²æ­¢thisæŒ‡å‘é”™è¯¯ï¼š\nGETè¯·æ±‚ï¼š\naxios.get( \u0026#34;http://localhost:8080/axios-demo/demo?message=Hello World\u0026#34; ).then(resp =\u0026gt; { // å¯¹å“åº”æ•°æ®è¿›è¡Œå¤„ç† alert(resp.data); }) POSTè¯·æ±‚ï¼š\naxios.post( \u0026#34;http://localhost:8080/axios-demo/demo\u0026#34;, \u0026#34;message=Hello World\u0026#34; ).then(resp =\u0026gt; { // å¯¹å“åº”æ•°æ®è¿›è¡Œå¤„ç† alert(resp.data); }) JSON JSONï¼ˆJavaScript Object Notationï¼‰æ˜¯æŒ‡ JavaScript å¯¹è±¡è¡¨ç¤ºæ³•ã€‚\nJSONçš„ä¼˜ç‚¹ï¼šæ•°æ®æ ¼å¼ç®€å•ï¼Œæ‰€å çš„å­—èŠ‚æ•°å°‘ç­‰ã€‚\nJSON çš„æ ¼å¼ JSON æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¯¥å­—ç¬¦ä¸²å†…å®¹æ˜¯æœ‰ä¸€å®šçš„æ ¼å¼è¦æ±‚çš„ï¼š\n{ \u0026#34;key_1\u0026#34;: value_1, \u0026#34;key_2\u0026#34;: value_2, \u0026#34;key_3\u0026#34;: value_3, ..., \u0026#34;key_n\u0026#34;: value_n } JSON æ ¼å¼ä¸­çš„é”®è¦æ±‚å¿…é¡»ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚ Value çš„æ•°æ®ç±»å‹åˆ†ä¸ºå¦‚ä¸‹ï¼š æ•°å­—ï¼ˆæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼‰ å­—ç¬¦ä¸²ï¼ˆä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼‰ é€»è¾‘å€¼ï¼ˆtrueæˆ–è€…falseï¼‰ æ•°ç»„ï¼ˆåœ¨æ–¹æ‹¬å·{}ä¸­ï¼‰ å¯¹è±¡ï¼ˆåœ¨èŠ±æ‹¬å·[]ä¸­ï¼‰ null åœ¨ js ä¸­å®šä¹‰ jsonï¼š\nvar å˜é‡å = `{ \u0026#34;key1\u0026#34;:value1, \u0026#34;key2\u0026#34;:value2, ... }`; åœ¨ JS ä¸­ä½¿ç”¨ JOSN JS æä¾›äº†ä¸€ä¸ªå¯¹è±¡ JSON ï¼Œè¯¥å¯¹è±¡æœ‰å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š\nparse(str)ï¼šå°† JSONä¸²è½¬æ¢ä¸º js å¯¹è±¡ã€‚\nä½¿ç”¨æ–¹å¼ï¼š\nvar jsObject = JSON.parse(jsonStr); stringify(obj)ï¼šå°† js å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²ã€‚\nä½¿ç”¨æ–¹å¼ï¼š\nvar jsonStr = JSON.stringify(jsObject) æºå¸¦JSONå‘é€å¼‚æ­¥è¯·æ±‚ å¯ä»¥ä½¿ç”¨ JSON.stringify() å°†jså¯¹è±¡è½¬æ¢ä¸º JSON ä¸²ï¼Œå†å°†è¯¥ JSON ä¸²ä½œä¸º axios çš„ data å±æ€§å€¼è¿›è¡Œè¯·æ±‚å‚æ•°çš„æäº¤ã€‚\nä½†å…¶å®åªéœ€è¦å°†éœ€è¦æäº¤çš„å‚æ•°å°è£…æˆ js å¯¹è±¡ï¼Œå¹¶å°†è¯¥ js å¯¹è±¡ä½œä¸º axios çš„ data å±æ€§å€¼ã€‚axios ä¼šè‡ªåŠ¨å°† js å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²è¿›è¡Œæäº¤ã€‚\nå‘é€å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œå¦‚æœè¯·æ±‚å‚æ•°æ˜¯ JSON æ ¼å¼ï¼Œé‚£è¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯ POSTã€‚å› ä¸º JSON ä¸²éœ€è¦æ”¾åœ¨è¯·æ±‚ä½“ä¸­ã€‚\nFastjson Fastjson æ˜¯é˜¿é‡Œå·´å·´æä¾›çš„ä¸€ä¸ªJavaè¯­è¨€ç¼–å†™çš„é«˜æ€§èƒ½åŠŸèƒ½å®Œå–„çš„ JSON åº“ï¼Œæ˜¯ç›®å‰Javaè¯­è¨€ä¸­æœ€å¿«çš„ JSON åº“ï¼Œå¯ä»¥å®ç° Java å¯¹è±¡å’Œ JSON å­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢ã€‚\nä¾èµ–åæ ‡ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.alibaba\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;fastjson\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.2.62\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; JOSN å’Œ Javaå¯¹è±¡çš„ç›¸äº’è½¬æ¢åŒ…å«ï¼š\nè¯·æ±‚æ•°æ®ï¼ˆååºåˆ—åŒ–ï¼‰ï¼š\nJSONå­—ç¬¦ä¸²è½¬ä¸ºJavaå¯¹è±¡ã€‚\nå°† json è½¬æ¢ä¸º Java å¯¹è±¡ï¼Œåªéœ€è¦ä½¿ç”¨ Fastjson æä¾›çš„ JSON ç±»ä¸­çš„ parseObject() é™æ€æ–¹æ³•å³å¯ã€‚\nString toJSONString(Object object) å“åº”æ•°æ®ï¼ˆåºåˆ—åŒ–ï¼‰ï¼š\nJavaå¯¹è±¡è½¬ä¸ºJSONå­—ç¬¦ä¸²ã€‚\nå°† Java å¯¹è±¡è½¬æ¢ä¸º JSON ä¸²ï¼Œåªéœ€è¦ä½¿ç”¨ Fastjson æä¾›çš„ JSON ç±»ä¸­çš„ toJSONString() é™æ€æ–¹æ³•å³å¯ã€‚\n\u0026lt;T\u0026gt; T parseObject(String jsonStr, Class\u0026lt;T\u0026gt; clazz) Exampleï¼š\nå¯¼å…¥åæ ‡ã€‚\nç¼–å†™pojoç±»ï¼š\npackage pojo; public class User { private Integer id; private String username; private String password; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, username=\u0026#39;\u0026#34; + username + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } ç¼–å†™FastJsonDemoï¼š\npackage web.servlet; import com.alibaba.fastjson.JSON; import pojo.User; public class FastJsonDemo { public static void main(String[] args) { // 1. Javaå¯¹è±¡è½¬JSONå­—ç¬¦ä¸² User user = new User(); user.setId(1); user.setUsername(\u0026#34;zhangsan\u0026#34;); user.setPassword(\u0026#34;123\u0026#34;); String jsonString = JSON.toJSONString(user); System.out.println(jsonString); // è¾“å‡ºï¼š{\u0026#34;id\u0026#34;:1,\u0026#34;password\u0026#34;:\u0026#34;123\u0026#34;,\u0026#34;username\u0026#34;:\u0026#34;zhangsan\u0026#34;} // 2. å°†JSONå­—ç¬¦ä¸²è½¬ä¸ºJavaå¯¹è±¡ User u = JSON.parseObject( \u0026#34;{\\\u0026#34;id\\\u0026#34;:1,\\\u0026#34;password\\\u0026#34;:\\\u0026#34;123\\\u0026#34;,\\\u0026#34;username\\\u0026#34;:\\\u0026#34;zhangsan\\\u0026#34;}\u0026#34;, User.class); System.out.println(u); } } ","date":"2022å¹´9æœˆ25æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/ajax-interaction/","series":[],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"},{"title":"Ajax","url":"/tags/ajax/"}],"timestamp":1664064000,"title":"Ajax å‰åç«¯äº¤äº’"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Filter æ¦‚è¿° Filter è¡¨ç¤ºè¿‡æ»¤å™¨ï¼Œæ˜¯ JavaWeb ä¸‰å¤§ç»„ä»¶(Servletã€Filterã€Listener)ä¹‹ä¸€ã€‚\nè¿‡æ»¤å™¨å¯ä»¥æŠŠå¯¹èµ„æºçš„è¯·æ±‚æ‹¦æˆªä¸‹æ¥ï¼Œä»è€Œå®ç°ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚è®¾ç½® Filter ä¼šåœ¨è®¿é—®èµ„æºä¹‹å‰ä¼šå…ˆç»è¿‡ Filterï¼Œå°†èµ„æºæ‹¦æˆªï¼Œä»è€Œå®ç°æƒé™æ§åˆ¶ã€ç»Ÿä¸€ç¼–ç å¤„ç†ã€æ•æ„Ÿå­—ç¬¦å¤„ç†ç­‰åŠŸèƒ½ã€‚\nè¿‡æ»¤å™¨Filteræ˜¯åœ¨è¯·æ±‚è¿›å…¥å®¹å™¨åï¼Œä½†åœ¨è¿›å…¥Servletä¹‹å‰è¿›è¡Œé¢„å¤„ç†ã€‚\nè¿›è¡Œ Filter å¼€å‘åˆ†æˆä»¥ä¸‹ä¸‰æ­¥å®ç°ï¼š\nå®šä¹‰ç±»ï¼Œå®ç° Filteræ¥å£ï¼Œå¹¶é‡å†™å…¶æ‰€æœ‰æ–¹æ³•ï¼š\npackage filter; import javax.servlet.*; import javax.servlet.annotation.WebFilter; import java.io.IOException; // æ‹¦æˆªçš„è·¯å¾„ï¼Œè¿™é‡Œ \u0026#34;/*\u0026#34; æ‹¦æˆªäº†é¡¹ç›®ä¸­æ‰€æœ‰èµ„æºè¯·æ±‚ @WebFilter(\u0026#34;/*\u0026#34;) public class FilterDemo implements Filter { // Filterçš„åˆå§‹åŒ–æ–¹æ³• @Override public void init(FilterConfig filterConfig) throws ServletException { // ... } // Filterçš„æ“ä½œæ–¹æ³•ï¼Œåœ¨initåæ‰§è¡Œ @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { // ... } // é”€æ¯Filteræ‰§è¡Œçš„æ–¹æ³• @Override public void destroy() { // ... } } é…ç½®Filteræ‹¦æˆªèµ„æºçš„è·¯å¾„ï¼š\nåœ¨ç±»ä¸Šå®šä¹‰ @WebFilter æ³¨è§£ã€‚\næ­¤å¤„æ³¨è§£çš„ value å±æ€§å€¼ /* è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰çš„èµ„æºã€‚\npackage filter; // import ... // æ‹¦æˆªçš„è·¯å¾„ï¼Œè¿™é‡Œ \u0026#34;/*\u0026#34; æ‹¦æˆªäº†é¡¹ç›®ä¸­æ‰€æœ‰èµ„æºè¯·æ±‚ @WebFilter(\u0026#34;/*\u0026#34;) public class FilterDemo implements Filter { // ... } åœ¨doFilter()æ–¹æ³•ä¸­å¯¹æ‹¦æˆªçš„èµ„æºè¿›è¡Œå¤„ç†ï¼Œå¹¶é€‰æ‹©æ˜¯å¦æ”¾è¡Œï¼š\npackage web.filter; // import ... // æ‹¦æˆªçš„è·¯å¾„ï¼Œè¿™é‡Œ \u0026#34;/*\u0026#34; æ‹¦æˆªäº†é¡¹ç›®ä¸­æ‰€æœ‰èµ„æºè¯·æ±‚ @WebFilter(\u0026#34;/*\u0026#34;) public class FilterDemo implements Filter { @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { // 1. æ”¾è¡Œå‰ï¼Œå¯¹requestæ•°æ®è¿›è¡Œå¤„ç† // ... // æ”¾è¡Œå‰responseä¸­æ²¡æœ‰æ•°æ® // 2. æ”¾è¡Œ filterChain.doFilter(servletRequest, servletResponse); // è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¼šæ‰§è¡Œå…¶å®ƒæ‹¦æˆªå™¨æˆ–è®¿é—®è·¯å¾„ä¸­å¯¹åº”çš„Servletæˆ–è®¿é—®å¯¹åº”èµ„æº // å¦‚æœè¯¥æ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆå¯¹åº”èµ„æºå°†ä¸å¯è¢«è®¿é—®ï¼Œä¸”åç»­çš„å…¶å®ƒæ‹¦æˆªå™¨éƒ½ä¸ä¼šè¢«æ‰§è¡Œ // 3. æ”¾è¡Œåï¼Œå¯¹responseæ•°æ®è¿›è¡Œå¤„ç† // ... } // ... } é¡¹ç›®ä¾èµ–ï¼š\n\u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;maven.compiler.source\u0026gt;8\u0026lt;/maven.compiler.source\u0026gt; \u0026lt;maven.compiler.target\u0026gt;8\u0026lt;/maven.compiler.target\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1.0\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.tomcat.maven\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tomcat7-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;port\u0026gt;80\u0026lt;/port\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; åœ¨doFilter()ä¸­ï¼Œå¦‚æœè¦ä½¿ç”¨requestå’Œresponseï¼Œå¯ä»¥å°†å®ƒä»¬å¼ºè½¬ä¸ºå¯¹åº”çš„HttpServletRequestå’ŒHttpServletResponseå¯¹è±¡æ¥è¿›è¡Œæ“ä½œã€‚\nFilter æ‰§è¡Œæµç¨‹ Filter çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š\næµè§ˆå™¨è®¿é—®èµ„æº\nèµ„æºè¢«Filteræ‹¦æˆª\nFilter æ‰§è¡Œæ”¾è¡Œå‰é€»è¾‘\nåˆ¤æ–­æ˜¯å¦æ”¾è¡Œ\næ”¾è¡Œï¼š\nå¯èƒ½ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\nå¦‚æœæœ‰ï¼Œåˆ™æ‰§è¡Œåç»­çš„Filter å¦‚æœèµ„æºæ²¡æœ‰è¢«åç»­å…¶å®ƒFilteræ‹¦æˆªï¼Œé‚£ä¹ˆè®¿é—®å¯¹åº”èµ„æº ä¸æ”¾è¡Œï¼š\nåç»­çš„å…¶å®ƒ Filter å°†ä¸ä¼šè¢«æ‰§è¡Œï¼Œèµ„æºä¹Ÿä¸å¯è¢«è®¿é—®\nFilter æ‰§è¡Œæ”¾è¡Œåé€»è¾‘\nFilter æ‹¦æˆªè·¯å¾„é…ç½® æ‹¦æˆªè·¯å¾„è¡¨ç¤º Filter ä¼šå¯¹è¯·æ±‚çš„å“ªäº›èµ„æºè¿›è¡Œæ‹¦æˆªï¼Œä½¿ç”¨ @WebFilter æ³¨è§£è¿›è¡Œé…ç½®ã€‚\næ‹¦æˆªè·¯å¾„æœ‰å¦‚ä¸‹å››ç§é…ç½®æ–¹å¼ï¼š\næ‹¦æˆªå…·ä½“çš„èµ„æºï¼š/index.htmlï¼Œåªæœ‰è®¿é—®index.htmlæ—¶æ‰ä¼šè¢«æ‹¦æˆª ç›®å½•æ‹¦æˆªï¼š/user/*ï¼Œè®¿é—®/userä¸‹çš„æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª åç¼€åæ‹¦æˆªï¼š*.htmlï¼Œè®¿é—®åç¼€åä¸ºjspçš„èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª æ‹¦æˆªæ‰€æœ‰ï¼š/*ï¼Œè®¿é—®é¡¹ç›®ä¸‹æ‰€æœ‰èµ„æºï¼Œéƒ½ä¼šè¢«æ‹¦æˆª è¿‡æ»¤å™¨é“¾ è¿‡æ»¤å™¨é“¾æ˜¯æŒ‡åœ¨ä¸€ä¸ªWebåº”ç”¨ï¼Œå¯ä»¥å¯¹åŒä¸ªæ‹¦æˆªè·¯å¾„é…ç½®å¤šä¸ªè¿‡æ»¤å™¨ï¼Œè¿™å¤šä¸ªè¿‡æ»¤å™¨ç»„æˆäº†è¿‡æ»¤å™¨é“¾ã€‚\nè¿‡æ»¤å™¨é“¾åŸºäºå‡½æ•°å›è°ƒï¼Œå¤šä¸ªè¿‡æ»¤å™¨ä¹‹é—´çš„ä¼˜å…ˆçº§é¡ºåºä»¥è¿‡æ»¤å™¨ç±»åçš„è‡ªç„¶é¡ºåºï¼ˆA-Z 0-9ï¼‰ä¸ºè§„åˆ™è¿›è¡Œæ’åºã€‚\nä¾‹å¦‚ï¼Œæœ‰Filter1å’ŒFilter2ä¸¤ä¸ªæ‹¦æˆªè·¯å¾„ç›¸åŒçš„Filterï¼š\næ‰§è¡Œ Filter1 çš„æ”¾è¡Œå‰é€»è¾‘ä»£ç  æ‰§è¡Œ Filter1 çš„æ”¾è¡Œä»£ç  æ‰§è¡Œ Filter2 çš„æ”¾è¡Œå‰é€»è¾‘ä»£ç  æ‰§è¡Œ Filter2 çš„æ”¾è¡Œä»£ç  è®¿é—®åˆ°èµ„æº æ‰§è¡Œ Filter2 çš„æ”¾è¡Œåé€»è¾‘ä»£ç  æ‰§è¡Œ Filter1 çš„æ”¾è¡Œåé€»è¾‘ä»£ç  ","date":"2022å¹´9æœˆ25æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/filter/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1664064000,"title":"Filter è¿‡æ»¤å™¨"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ ä¼šè¯æ˜¯æŒ‡ä¸€ä¸ªç»ˆç«¯ç”¨æˆ·ä¸äº¤äº’ç³»ç»Ÿè¿›è¡Œé€šè®¯çš„è¿‡ç¨‹ï¼Œä¾‹å¦‚ä»æµè§ˆå™¨å‘å‡ºè¯·æ±‚åˆ°æœåŠ¡ç«¯å“åº”æ•°æ®ç»™å‰ç«¯è¿™ä¸ªè¿‡ç¨‹å³ä¸ºä¸€ä¸ªä¼šè¯ã€‚\nä¼šè¯è·Ÿè¸ªæŒ‡çš„æ˜¯ä¸€ç§ç»´æŠ¤æµè§ˆå™¨çŠ¶æ€çš„æ–¹æ³•ã€‚æœåŠ¡å™¨ä¼šæ”¶åˆ°å¤šä¸ªè¯·æ±‚ï¼Œè¿™å¤šä¸ªè¯·æ±‚å¯èƒ½æ¥è‡ªå¤šä¸ªæµè§ˆå™¨ã€‚æœåŠ¡å™¨éœ€è¦è¯†åˆ«å¤šæ¬¡è¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€æµè§ˆå™¨ï¼Œä»¥ä¾¿åœ¨åŒä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚é—´å…±äº«æ•°æ®ã€‚\næµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸æ”¯æŒæ•°æ®å…±äº«çš„åŸå› ï¼š\nHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œæ¯æ¬¡æµè§ˆå™¨å‘æœåŠ¡å™¨è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨éƒ½ä¼šå°†è¯¥è¯·æ±‚è§†ä¸ºæ–°çš„è¯·æ±‚ã€‚ HTTPåè®®è®¾è®¡æˆæ— çŠ¶æ€çš„ç›®çš„æ˜¯è®©æ¯æ¬¡è¯·æ±‚ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚ è¯·æ±‚ä¸è¯·æ±‚ä¹‹é—´ç‹¬ç«‹åï¼Œå°±æ— æ³•å®ç°å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚ å®ç°ä¼šè¯è·Ÿè¸ªæŠ€æœ¯çš„æ–¹å¼æœ‰ï¼š\nå®¢æˆ·ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼šCookieã€‚ Cookieæ˜¯å­˜å‚¨åœ¨æµè§ˆå™¨ç«¯ã€‚ æœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼šSessionã€‚ Sessionæ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ã€‚ Cookie Cookieæ˜¯ä¸€ç§å®¢æˆ·ç«¯ä¼šè¯æŠ€æœ¯ï¼Œå°†æ•°æ®ä¿å­˜åˆ°å®¢æˆ·ç«¯ï¼Œåœ¨ä»¥åçš„æ¯æ¬¡è¯·æ±‚ä¸­éƒ½æºå¸¦Cookieæ•°æ®è¿›è¡Œè®¿é—®ã€‚\næœåŠ¡å™¨å°†Cookieå‘é€ç»™æµè§ˆå™¨ï¼Œæ˜¯é€šè¿‡åœ¨å“åº”å¤´ä¸­æ·»åŠ Set-Cookieé”®å€¼å¯¹å®ç°çš„ï¼Œå¦‚Set-Cookie: message=\u0026quot;Hello Wrold\u0026quot;ã€‚åœ¨å¤šä¸ªCookieä¹‹é—´ä½¿ç”¨;åˆ†å‰²ã€‚\næµè§ˆå™¨åœ¨æ¥æ”¶äº†æœåŠ¡å™¨å‘é€æ¥çš„Cookieåï¼Œä¼šå°†æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨çš„å†…å­˜ä¸­ã€‚åœ¨æ¥ä¸‹æ¥çš„æ¯æ¬¡è¯·æ±‚ä¸­ï¼Œæµè§ˆå™¨éƒ½ä¼šå°†è·å–åˆ°çš„Cookieå‘é€åˆ°æœåŠ¡å™¨ï¼ˆåŒä¸€æ¬¡ä¼šè¯ä¸­æˆ–åœ¨Cookieå­˜æ´»æ—¶é—´å†…ï¼‰ã€‚æµè§ˆå™¨å°†Cookieå‘é€åˆ°æœåŠ¡å™¨ï¼Œæ˜¯é€šè¿‡åœ¨è¯·æ±‚å¤´ä¸­è®¾ç½®Cookieé”®å€¼å¯¹å®ç°çš„ï¼Œå¦‚Cookie: message=\u0026quot;Hello Wrold\u0026quot;ã€‚åŒæ ·çš„ï¼Œåœ¨å¤šä¸ªCookieä¹‹é—´ä½¿ç”¨;åˆ†å‰²ã€‚\nåˆ›å»ºCookieå¯¹è±¡ï¼š\nCookie cookie = new Cookie(\u0026#34;key\u0026#34;,\u0026#34;value\u0026#34;) å‘é€Cookieåˆ°å®¢æˆ·ç«¯ï¼ˆä½¿ç”¨Responseå¯¹è±¡ï¼‰ï¼š\nresponse.addCookie(cookie) ä»å®¢æˆ·ç«¯è·å–Cookieï¼ˆä½¿ç”¨Requestå¯¹è±¡ï¼‰ï¼š\nrequest.getCookies() åˆ›å»ºMaven webé¡¹ç›®ã€‚\né¡¹ç›®ä¾èµ–ï¼š\n\u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt; \u0026lt;dependencies\u0026gt; \u0026lt;!--servlet--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1.0\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;pluginManagement\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.tomcat.maven\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tomcat7-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2\u0026lt;/version\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/pluginManagement\u0026gt; \u0026lt;/build\u0026gt; å‘é€ Cookie å‘é€Cookieä½¿ç”¨çš„æ˜¯HttpServletResponseå¯¹è±¡æä¾›çš„addCookie()ï¼š\nresponse.addCookie(cookie) package web.cookie; import javax.servlet.*; import javax.servlet.http.*; import javax.servlet.annotation.*; import java.io.IOException; import java.net.URLEncoder; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/cookieServlet\u0026#34;) public class CookieServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. åˆ›å»ºCookieå¯¹è±¡ String value = \u0026#34;Hello World\u0026#34;; System.out.println(\u0026#34;å­˜å‚¨æ•°æ®: \u0026#34; + value); Cookie cookie = new Cookie(\u0026#34;message\u0026#34;, value); // è®¾ç½®å­˜æ´»æ—¶é—´, 7å¤© cookie.setMaxAge(60*60*24*7); // 2. å‘é€Cookie, response response.addCookie(cookie); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } åœ¨å‘é€Cookieæ—¶ï¼Œå¯ä»¥ä½¿ç”¨setMaxAge()æ–¹æ³•è®¾ç½®Cookieå­˜æ´»çš„æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚\nå¦‚æœè¦åœ¨Cookieä¸­å­˜å‚¨ä¸­æ–‡æ•°æ®ï¼Œéœ€è¦å°†ä¸­æ–‡æ•°æ®ä½¿ç”¨URLEncoder.encode()æŒ‰ç…§UTF-8ï¼ˆä¸å‰ç«¯é¡µé¢çš„ç¼–ç ä¿æŒä¸€è‡´ï¼‰ç¼–ç ã€‚\npackage web.cookie; import javax.servlet.*; import javax.servlet.http.*; import javax.servlet.annotation.*; import java.io.IOException; import java.net.URLEncoder; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/cookieServlet\u0026#34;) public class CookieServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. åˆ›å»ºCookieå¯¹è±¡ // å­˜å‚¨ä¸­æ–‡ String value = \u0026#34;ä½ å¥½\u0026#34;; // URLç¼–ç  value = URLEncoder.encode(value, StandardCharsets.UTF_8); // System.out.println(\u0026#34;å­˜å‚¨æ•°æ®: \u0026#34; + value); Cookie cookie = new Cookie(\u0026#34;message\u0026#34;, value); // è®¾ç½®å­˜æ´»æ—¶é—´, 7å¤© cookie.setMaxAge(60*60*24*7); // 2. å‘é€Cookie, response response.addCookie(cookie); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } è·å– Cookie ä»å®¢æˆ·ç«¯è·å–Cookieä½¿ç”¨çš„æ˜¯HttpServletRequestå¯¹è±¡æä¾›çš„getCookies()ï¼š\nrequest.getCookies() å®ƒè¿”å›ä¸€ä¸ªCookieæ•°ç»„ï¼ˆCookie[]ï¼‰ã€‚\npackage web.cookie; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.Cookie; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.net.URLDecoder; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/cookieServlet\u0026#34;) public class CookieServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. è·å–Cookieæ•°ç»„ Cookie[] cookies = request.getCookies(); // 2. éå†æ•°ç»„ for (Cookie cookie : cookies) { // 3. è·å–æ•°æ® String name = cookie.getName(); if (\u0026#34;message\u0026#34;.equals(name)) { String value = cookie.getValue(); // URLè§£ç  value = URLDecoder.decode(value, StandardCharsets.UTF_8); System.out.println(name + \u0026#34;:\u0026#34; + value); break; } } } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } Cookieå¯¹è±¡æä¾›çš„getName()å’ŒgetValue()å¯ä»¥åˆ†åˆ«è·å–Cookieçš„åç§°å’Œå€¼ã€‚\nè·å–Cookieååº”è¯¥ä½¿ç”¨URLDecoder.decodeè¿›è¡Œè§£ç ï¼Œè¿™æ ·ç¡®ä¿Cookieé‡Œå‡ºç°ä¸­æ–‡æ•°æ®æ—¶ä¸ä¼šä¹±ç ã€‚\nCookie å¸¸ç”¨æ–¹æ³• æ–¹æ³• è¯´æ˜ Cookie[] getCookies() HttpServletRequestæä¾›çš„è·å–å®¢æˆ·ç«¯Cookieçš„æ–¹æ³• void addCookie(Cookie cookie) HttpServletResponseæä¾›çš„ï¼Œå°†Cookieå‘é€åˆ°å®¢æˆ·ç«¯çš„æ–¹æ³• Cookie(String name, String value) Cookieç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºCookieï¼Œéœ€è¦æŒ‡å®šåç§°nameå’Œå€¼value void setMaxAge(int expiry) è®¾ç½®Cookieè¿‡æœŸçš„æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚å€¼ä¸º-1ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰æˆ–å…¶å®ƒè´Ÿæ•°ï¼ŒCookieåªä¼šåœ¨å½“å‰Sessionä¼šè¯ä¸­æŒç»­æœ‰æ•ˆã€‚å€¼ä¸º0è¡¨ç¤ºåˆ é™¤å¯¹åº”Cookie int getMaxAge() è¿”å›Cookieçš„æœ€å¤§ç”Ÿå­˜å‘¨æœŸï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ˆä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰ï¼Œ-1 è¡¨ç¤º Cookie å°†æŒç»­åˆ°æµè§ˆå™¨å…³é—­ã€‚ String getName() è¿”å›Cookieçš„åç§°ï¼ˆåç§°åœ¨åˆ›å»ºåä¸èƒ½æ”¹å˜ï¼‰ void setValue(String newValue) è®¾ç½®ä¸Cookieå…³è”çš„å€¼ String getValue() è·å–ä¸Cookieå…³è”çš„å€¼ Session Sessionæ˜¯ä¸€ç§æœåŠ¡ç«¯ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ï¼Œå…¶æ•°æ®ä¿å­˜åœ¨æœåŠ¡ç«¯ã€‚Sessionå› ä¸ºæ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯æ‰€ä»¥æ¯”èµ·Cookieï¼ŒSessionè¦æ›´åŠ å®‰å…¨ã€‚ä½†ä¸ä¹‹ç›¸å¯¹çš„ï¼ŒSessionä¸é€‚åˆé•¿æœŸä¿å­˜æ•°æ®ã€‚\nSessionæ˜¯åŸºäºCookieå®ç°çš„ã€‚Sessionè¦æƒ³å®ç°ä¸€æ¬¡ä¼šè¯å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œå°±å¿…é¡»è¦ä¿è¯å¤šæ¬¡è¯·æ±‚è·å–Sessionçš„å¯¹è±¡æ˜¯åŒä¸€ä¸ªã€‚åœ¨ç¬¬ä¸€æ¬¡è·å–Sessionå¯¹è±¡æ—¶ï¼ŒSessionå¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œå¦‚id:123ã€‚TomcatæœåŠ¡å™¨å‘ç°ä¸šåŠ¡å¤„ç†ä¸­ä½¿ç”¨äº†Sessionå¯¹è±¡ï¼Œå°±ä¼šæŠŠSessionçš„å”¯ä¸€æ ‡è¯†id:123å½“åšä¸€ä¸ªCookieï¼Œæ·»åŠ Set-Cookie:JESSIONID=123åˆ°å“åº”å¤´ä¸­ï¼Œå¹¶å“åº”ç»™æµè§ˆå™¨ã€‚æ‰€ä»¥ï¼Œæµè§ˆå™¨é€šè¿‡Cookieå‘Šè¯‰æœåŠ¡å™¨Sessionçš„idï¼ŒæœåŠ¡å™¨ä¹Ÿé€šè¿‡Cookieè·å–ç›¸åº”çš„Sessionï¼Œä»è€Œå®ç°ä¸€æ¬¡ä¼šè¯å¤šæ¬¡è¯·æ±‚ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚\nJavaEEä¸­æä¾›äº†HttpSessionæ¥å£ï¼Œæ¥å®ç°ä¸€æ¬¡ä¼šè¯çš„å¤šæ¬¡è¯·æ±‚ä¹‹é—´æ•°æ®å…±äº«åŠŸèƒ½ï¼š\nè·å–Sessionå¯¹è±¡ï¼ˆä½¿ç”¨Requestå¯¹è±¡ï¼‰ï¼š\nHttpSession session = request.getSession(); Sessionå¯¹è±¡æä¾›çš„åŠŸèƒ½:\nå­˜å‚¨æ•°æ®åˆ° session åŸŸä¸­ï¼š\nvoid setAttribute(String name, Object o) æ ¹æ® keyï¼Œè·å–å€¼ï¼š\nObject getAttribute(String name) æ ¹æ® keyï¼Œåˆ é™¤è¯¥é”®å€¼å¯¹ï¼š\nvoid removeAttribute(String name) å­˜å‚¨æ•°æ® package web.session; import javax.servlet.*; import javax.servlet.http.*; import javax.servlet.annotation.*; import java.io.IOException; @WebServlet(\u0026#34;/sessionServlet\u0026#34;) public class SessionServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // å­˜å‚¨æ•°æ®åˆ°Sessionä¸­ // 1. è·å–Sessionå¯¹è±¡ HttpSession session = request.getSession(); // 2. å­˜å‚¨æ•°æ® session.setAttribute(\u0026#34;message\u0026#34;, \u0026#34;Hello World!\u0026#34;); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } ç”±äºSessionä¸­çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨Sessionä¸­å­˜å‚¨å’Œè¯»å–ä¸­æ–‡æ•°æ®ä¸éœ€è¦è¿›è¡Œç¼–ç å’Œè§£ç ã€‚\nè·å–æ•°æ® package web.session; import javax.servlet.*; import javax.servlet.http.*; import javax.servlet.annotation.*; import java.io.IOException; @WebServlet(\u0026#34;/sessionServlet\u0026#34;) public class SessionServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // ä»Sessionä¸­è·å–æ•°æ® // 1. è·å–Sessionå¯¹è±¡ HttpSession session = request.getSession(); // 2. è·å–æ•°æ® Object message = session.getAttribute(\u0026#34;message\u0026#34;); System.out.println(message); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } Session çš„é’åŒ–ä¸æ´»åŒ– æ­£å¸¸æ¥è¯´ï¼ŒSessionæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œåªè¦æœåŠ¡å™¨å…³é—­ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¼šè¯çš„Sessionéƒ½ä¼šå¤±æ•ˆã€‚ä½†æ˜¯Tomcatåœ¨æ­£å¸¸å…³é—­çš„æƒ…å†µä¸‹ï¼ŒSessionå¹¶ä¸ä¼šå¤±æ•ˆï¼Œè¿™æ˜¯å› ä¸ºSessionçš„é’åŒ–ï¼šåœ¨æœåŠ¡å™¨æ­£å¸¸å…³é—­åï¼ŒTomcatä¼šè‡ªåŠ¨å°†Sessionæ•°æ®å†™å…¥ç¡¬ç›˜çš„æ–‡ä»¶ä¸­ã€‚é’åŒ–çš„æ•°æ®è·¯å¾„ä¸ºï¼šé¡¹ç›®ç›®å½•\\target\\tomcat\\work\\Tomcat\\localhost\\é¡¹ç›®åç§°\\SESSIONS.serã€‚\nå†æ¬¡å¯åŠ¨æœåŠ¡å™¨åï¼Œä»æ–‡ä»¶ä¸­åŠ è½½æ•°æ®åˆ°Sessionä¸­ï¼Œè¿™å°±æ˜¯Sessionçš„æ´»åŒ–ã€‚è€Œæ•°æ®åŠ è½½åˆ°Sessionä¸­åï¼Œè·¯å¾„ä¸­çš„SESSIONS.seræ–‡ä»¶ä¼šè¢«åˆ é™¤æ‰ã€‚\næ‰€ä»¥è¯´åªè¦æµè§ˆå™¨ä¸­è®°å½•SessionIDçš„Cookieè¿˜å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹åº”çš„Sessionä¹Ÿå°±å­˜åœ¨ï¼Œå¹¶ä¸”å”¯ä¸€ã€‚\nè€ŒCookieçš„å­˜åœ¨æ˜¯ä¸æµè§ˆå™¨çš„å…³é—­å¯†åˆ‡ç›¸å…³çš„ã€‚åœ¨æ— äººä¸ºé”€æ¯Cookieå’Œæ²¡æœ‰ä¸ºCookieè®¾ç½®å­˜æ´»æ—¶é—´çš„æƒ…å†µä¸‹ï¼Œå½“æµè§ˆå™¨å…³é—­æ—¶ï¼Œå…¶è®°å½•çš„Cookieä¹Ÿä¼šè‡ªåŠ¨é”€æ¯ã€‚æ‰€ä»¥å½“æµè§ˆå™¨å…³é—­æ—¶ï¼Œå¯¹åº”çš„Sessionå¯èƒ½ä¼šæ¶ˆå¤±ã€‚\nSession çš„é”€æ¯ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— æ“ä½œï¼Œ30åˆ†é’Ÿåè‡ªåŠ¨é”€æ¯Sessionã€‚å¯¹äºè¿™ä¸ªå¤±æ•ˆæ—¶é—´ï¼Œæ˜¯å¯ä»¥é€šè¿‡åœ¨é¡¹ç›®çš„web.xmlä¸­é…ç½®è¿›è¡Œä¿®æ”¹ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;web-app xmlns=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\u0026#34; version=\u0026#34;3.1\u0026#34;\u0026gt; \u0026lt;session-config\u0026gt; \u0026lt;session-timeout\u0026gt;100\u0026lt;/session-timeout\u0026gt; \u0026lt;/session-config\u0026gt; \u0026lt;/web-app\u0026gt; å¦‚æœæ²¡æœ‰é…ç½®ï¼Œé»˜è®¤æ˜¯30åˆ†é’Ÿï¼Œé»˜è®¤å€¼æ˜¯åœ¨Tomcatçš„web.xmlé…ç½®æ–‡ä»¶ä¸­å†™æ­»çš„ã€‚é€šè¿‡åœ¨Tomcatçš„web.xmlä¸­æœç´¢\u0026lt;session-timeout\u0026gt;å³å¯æ‰¾åˆ°å¯¹åº”è®¾ç½®ã€‚\nä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨HTTPSessionçš„invalidate()æ–¹æ³•è¿›è¡Œæ‰‹åŠ¨é”€æ¯ã€‚\nSession å¸¸ç”¨æ–¹æ³• æ–¹æ³• è¯´æ˜ HttpSession getSession() HttpServletRequestæä¾›çš„æ–¹æ³•ï¼Œç”¨äºè·å–å½“å‰ä¼šè¯çš„HttpSessionå¯¹è±¡ Object getAttribute(String name) è¿”å›åœ¨è¯¥ session ä¼šè¯ä¸­å…·æœ‰æŒ‡å®šåç§°ï¼ˆnameï¼‰çš„å¯¹è±¡ï¼›å¦‚æœæ²¡æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ï¼Œåˆ™è¿”å› null void setAttribute(String name, Object value) ä½¿ç”¨æŒ‡å®šçš„åç§°ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°è¯¥ session ä¼šè¯ void removeAttribute(String name) å°†ä»è¯¥ session ä¼šè¯ç§»é™¤æŒ‡å®šåç§°çš„å¯¹è±¡ Enumeration getAttributeNames() è¿”å› String å¯¹è±¡çš„æšä¸¾ï¼ŒString å¯¹è±¡åŒ…å«æ‰€æœ‰ç»‘å®šåˆ°è¯¥ session ä¼šè¯çš„å¯¹è±¡çš„åç§° String getId() è¿”å›ä¸€ä¸ªåŒ…å«åˆ†é…ç»™è¯¥ session ä¼šè¯çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸² void invalidate() é”€æ¯å½“å‰Sessionå¯¹è±¡ã€‚è¯¥æ–¹æ³•æŒ‡ç¤ºè¯¥ session ä¼šè¯æ— æ•ˆï¼Œå¹¶è§£é™¤ç»‘å®šåˆ°å®ƒä¸Šé¢çš„ä»»ä½•å¯¹è±¡ Cookie å’Œ Session Cookie å’Œ Session çš„åŒºåˆ«ï¼š\nå­˜å‚¨ä½ç½®ï¼šCookie æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼ŒSession å°†æ•°æ®å­˜å‚¨åœ¨æœåŠ¡ç«¯ã€‚ å®‰å…¨æ€§ï¼šCookieä¸å®‰å…¨ï¼ŒSessionå®‰å…¨ã€‚ æ•°æ®å¤§å°ï¼šCookieæœ€å¤§3KBï¼ŒSessionæ— å¤§å°é™åˆ¶ã€‚ å­˜å‚¨æ—¶é—´ï¼šCookieå¯ä»¥é€šè¿‡setMaxAge()é•¿æœŸå­˜å‚¨ï¼ŒSessioné»˜è®¤30åˆ†é’Ÿã€‚ æœåŠ¡å™¨æ€§èƒ½ï¼šCookieä¸å æœåŠ¡å™¨èµ„æºï¼ŒSessionå ç”¨æœåŠ¡å™¨èµ„æºã€‚ Sessionæ˜¯åŸºäºCookieå®ç°çš„ã€‚\n","date":"2022å¹´9æœˆ23æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/cookie-session/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"}],"timestamp":1663891200,"title":"ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ Cookie å’Œ Session"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"Ubuntu å®‰è£…ä¸­æ–‡æ”¯æŒï¼š\napt-get install language-pack-zh-hans -y æŸ¥çœ‹ç³»ç»Ÿè¯­è¨€åŒ…ï¼š\nlocale -a ä¿®æ”¹~/.bashrcï¼ŒåŠ å…¥ï¼š\nexport LC_ALL=zh_CN.UTF-8 export LANG=zh_CN.UTF-8 ä¿®æ”¹/etc/default/localeï¼š\nLANG=\u0026#34;zh_CN.UTF-8\u0026#34; Debian å®‰è£…localesï¼š\napt install locales -y å®‰è£…å®Œæˆåå¯èƒ½ä¼šæç¤ºè®¾ç½®localesï¼Œå¦‚æœå®‰è£…å®Œä¹‹åæƒ³è¦æ›´æ”¹ç›¸å…³è®¾ç½®æˆ–è€…æ²¡æœ‰æç¤ºè®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°è®¾ç½®localesç›¸å…³ä¿¡æ¯ï¼š\ndpkg-reconfigure locales ZSH ä¿®æ”¹~/.zshrcï¼ŒåŠ å…¥ï¼š\nexport LC_ALL=zh_CN.UTF-8 export LANG=zh_CN.UTF-8 ","date":"2022å¹´9æœˆ13æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/09/linux-%E7%BB%88%E7%AB%AF%E4%B8%AD%E6%96%87%E7%BC%96%E7%A0%81%E8%AE%BE%E7%BD%AE/","series":[],"smallImg":"","tags":[{"title":"Linux","url":"/tags/linux/"},{"title":"Ubuntu","url":"/tags/ubuntu/"},{"title":"Debian","url":"/tags/debian/"}],"timestamp":1663027200,"title":"Linux ç»ˆç«¯ä¸­æ–‡ç¼–ç è®¾ç½®"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"HttpServlet ç®€ä»‹ HttpServletæ˜¯å¯¹HTTPåè®®å°è£…çš„Servletå®ç°ç±»ã€‚\nServletçš„ä½“ç³»ç»“æ„ï¼š\nåœ¨å¼€å‘ä¸­ï¼Œå…³æ³¨æ›´å¤šçš„æ˜¯Servlet.service()æ–¹æ³•ã€‚è€Œæ¯å®ç°ä¸€ä¸ªServletå°±å¿…é¡»å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚\nä½†å…¶å®å¯ä»¥é€šè¿‡ç»§æ‰¿HttpServletæ¥ç¼–å†™Servletï¼Œç®€åŒ–Servletçš„å¼€å‘æµç¨‹ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯å¼€å‘B/Sæ¶æ„çš„Webé¡¹ç›®ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯HTTPåè®®ã€‚\nä½¿ç”¨HttpServletçš„æ ¼å¼å¦‚ä¸‹ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; @WebServlet(\u0026#34;/demo\u0026#34;) public class ServletDemo extends HttpServlet { // éœ€è¦å¤å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•: @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\u0026#34;Get...\u0026#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\u0026#34;Post...\u0026#34;); } } å¯åŠ¨Tomcatï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®http://localhost:8080/web-demo/demoå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°doGet()æ–¹æ³•è¢«æ‰§è¡Œã€‚\nåœ¨é¡¹ç›®çš„webappç›®å½•ä¸‹æ–°å»ºindex.htmlï¼Œå†™å…¥ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;TestPost\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;form action=\u0026#34;/web-demo/demo\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;input name=\u0026#34;username\u0026#34;/\u0026gt;\u0026lt;input type=\u0026#34;submit\u0026#34;/\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å¯åŠ¨Tomcatï¼Œè®¿é—®http://localhost:8080/web-demo/ï¼Œåœ¨è¡¨å•è¾“å…¥å†…å®¹åæäº¤ã€‚å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°doPost()è¢«æ‰§è¡Œã€‚\nä½¿ç”¨Servletå®ç°HttpServlet æ—¢ç„¶HttpServletç»§æ‰¿è‡ªServletï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥é€šè¿‡ç¼–å†™Servletç±»æ¥å®ç°HttpServletï¼š\npackage com.linner.web; import javax.servlet.*; import javax.servlet.http.HttpServletRequest; import java.io.IOException; public class MyHttpServlet implements Servlet { @Override public void init(ServletConfig servletConfig) throws ServletException { } @Override public ServletConfig getServletConfig() { return null; } @Override public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException { // æ ¹æ®è¯·æ±‚æ–¹å¼çš„ä¸åŒ,åˆ†åˆ«è¿›è¡Œå¤„ç† HttpServletRequest request = (HttpServletRequest) servletRequest; // 1. è·å–è¯·æ±‚æ–¹å¼ String method = request.getMethod(); // 2. åˆ¤æ–­ if (\u0026#34;GET\u0026#34;.equals(method)) { // GET æ–¹å¼çš„å¤„ç†é€»è¾‘ doGet(servletRequest, servletResponse); } else if (\u0026#34;POST\u0026#34;.equals(method)) { // POST æ–¹å¼çš„å¤„ç†é€»è¾‘ doPost(servletRequest, servletResponse); } } protected void doPost(ServletRequest servletRequest, ServletResponse servletResponse) { } protected void doGet(ServletRequest servletRequest, ServletResponse servletResponse) { } @Override public String getServletInfo() { return null; } @Override public void destroy() { } } ç¿»é˜…HttpServlet.service()æ–¹æ³•æºç ï¼Œå¯ä»¥å‘ç°HttpServletä¸ä»…ä»…å¯ä»¥å¯¹GETå’ŒPOSTè¿›è¡Œå¤„ç†ï¼Œè¿˜èƒ½å¤„ç†å…¶å®ƒäº”ç§è¯·æ±‚ï¼šdoHead()ã€doPut()ã€doDelete()ã€doOptions()å’ŒdoTrace()ã€‚\nHttpServletRequest å’Œ HttpServletResponse Request å’Œ Response æ¦‚è¿° Requestæ˜¯è¯·æ±‚å¯¹è±¡ï¼ŒResponseæ˜¯å“åº”å¯¹è±¡ã€‚åœ¨Servletä¸­ä¹Ÿå­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå¯¹è±¡ï¼š\npublic class ServletDemo implements Servlet { @Override public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException { // ... } // ...... } Requestä½œç”¨ï¼šè·å–è¯·æ±‚æ•°æ®\næµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨ï¼ˆå¦‚ï¼ŒTomcatï¼‰\nHTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®\nå¦‚ï¼ŒHTTPåè®®è¯·æ±‚ï¼š\nè¯·æ±‚è¡Œ è¯·æ±‚å¤´ è¯·æ±‚ä½“ åå°æœåŠ¡å™¨ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­\næ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸ºRequestå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»Requestå¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•°\nè·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡\nå¦‚ï¼Œè·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡\nResponseä½œç”¨ï¼šè®¾ç½®å“åº”æ•°æ®\nä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœï¼ˆå³ï¼Œå“åº”æ•°æ®ï¼‰ æŠŠå“åº”æ•°æ®å°è£…åˆ°Responseå¯¹è±¡ä¸­ åå°æœåŠ¡å™¨ä¼šè§£æResponseå¯¹è±¡ï¼ŒæŒ‰ç…§æ ¼å¼ï¼ˆå“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“ï¼‰æ‹¼æ¥ç»“æœ æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ è€ŒHttpServletä½¿ç”¨çš„ Request å’Œ Response å¯¹è±¡ä¸Servletæœ‰æ‰€ä¸åŒã€‚HttpServletä½¿ç”¨çš„æ˜¯ HttpServletRequest å’Œ HttpServletResponseã€‚\nExampleï¼š\n@WebServlet(\u0026#34;/demo\u0026#34;) public class HttpServletDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // ä½¿ç”¨requestå¯¹è±¡ è·å–è¯·æ±‚æ•°æ® String name = request.getParameter(\u0026#34;name\u0026#34;); // Parameteråœ¨åœ°å€ä¸­ä»¥ ? å¼€å§‹ï¼šurl?name=zhangsan // ä½¿ç”¨responseå¯¹è±¡ è®¾ç½®å“åº”æ•°æ® response.setHeader(\u0026#34;content-type\u0026#34;,\u0026#34;text/html;charset=utf-8\u0026#34;); response.getWriter().write(\u0026#34;\u0026lt;h1\u0026gt;\u0026#34;+name+\u0026#34;,æ¬¢è¿æ‚¨ï¼\u0026lt;/h1\u0026gt;\u0026#34;); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } Request å’Œ Response ç»§æ‰¿ä½“ç³» HttpServletRequestå’ŒServletRequestä¹‹é—´æ˜¯ç»§æ‰¿å…³ç³»ï¼ŒHttpServletResponseå’ŒServletResponseæ˜¯ç»§æ‰¿å…³ç³»ã€‚\nRequestä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š\nResponseä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š\nHttpServletRequest HTTPå¸¸ç”¨çš„è¯·æ±‚æ–¹å¼ä¸ºï¼š\nGET POST HTTPè¯·æ±‚æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼š\nè¯·æ±‚è¡Œ è¯·æ±‚å¤´ è¯·æ±‚ä½“ åœ¨è¯·æ±‚æ•°æ®ä¸­ï¼Œè¿˜åŒ…å«ç€è¯·æ±‚å‚æ•°ï¼š\nå¯¹äºGETï¼šè¯·æ±‚å‚æ•°åŒ…å«åœ¨è¯·æ±‚å¤´ä¸­ã€‚ å¯¹äºPOSTï¼šè¯·æ±‚å‚æ•°ä¸€èˆ¬åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚ è·å–è¯·æ±‚è¡Œæ•°æ® å¦‚æ‰“å¼€ä»¥ä¸‹é“¾æ¥ï¼š\nhttp://localhost:8080/HttpServlet/httpservlet.html?username=linner å…¶è¯·æ±‚è¡Œå¤§è‡´å†…å®¹å¦‚ä¸‹ï¼š\nGET /HttpServlet/httpservlet.html?username=linner HTTP/1.1 åŒ…å«ä»¥ä¸‹ä¸‰éƒ¨åˆ†å†…å®¹ï¼š\nè¯·æ±‚æ–¹å¼ï¼šGET\nè¯·æ±‚èµ„æºè·¯å¾„ï¼š/HttpServlet/httpservlet.html?username=linner\nè¯·æ±‚èµ„æºè·¯å¾„åŒ…å«ï¼š\nè™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰ï¼š/HttpServlet URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰ï¼š/HttpServlet/httpservlet.html è¯·æ±‚å‚æ•°ï¼šusername=linner HTTPåè®®åŠç‰ˆæœ¬ï¼šHTTP/1.1\nè¿™ä¸‰éƒ¨åˆ†å†…å®¹ï¼ŒHttpServletRequestå¯¹è±¡éƒ½æä¾›äº†å¯¹åº”çš„APIæ–¹æ³•æ¥è·å–ï¼š\nè·å–è¯·æ±‚æ–¹å¼ï¼š\nString getMethod() è¿”å›ï¼šGET\nè·å–è™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰:\nString getContextPath() è¿”å›ï¼š/HttpServlet\nè·å–URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰:\nStringBuffer getRequestURL() è¿”å›ï¼šhttp://localhost:8080/HttpServlet/httpservlet.htm\nè·å–URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰:\nString getRequestURI() è¿”å›ï¼š/HttpServlet/httpservlet.html\nè·å–è¯·æ±‚å‚æ•°ï¼ˆGETæ–¹å¼ï¼‰:\nString getQueryString() è¿”å›ï¼šusername=linnerï¼ˆå¤šä¸ªå‚æ•°ä¹Ÿä¸€å¹¶è¿”å›ï¼‰\nExampleï¼š\npackage com.linner.web; import javax.servlet.*; import javax.servlet.http.*; import javax.servlet.annotation.*; import java.io.IOException; @WebServlet(\u0026#34;/test\u0026#34;) public class TestHttpServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(\u0026#34;---------------------------------------\u0026#34;); System.out.println(\u0026#34;è¯·æ±‚è¡Œï¼š\u0026#34;); System.out.println(\u0026#34;è¯·æ±‚æ–¹å¼ï¼š\u0026#34; + request.getMethod()); System.out.println(\u0026#34;è™šæ‹Ÿç›®å½•ï¼š\u0026#34; + request.getContextPath()); System.out.println(\u0026#34;URLï¼š\u0026#34; + request.getRequestURL()); System.out.println(\u0026#34;URIï¼š\u0026#34; + request.getRequestURI()); System.out.println(\u0026#34;è¯·æ±‚å‚æ•°ï¼š\u0026#34; + request.getQueryString()); System.out.println(\u0026#34;---------------------------------------\u0026#34;); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } è·å–è¯·æ±‚å¤´æ•°æ® è¯·æ±‚å¤´æ•°æ®ç”±å¤šä¸ª key: value ç»„æˆï¼Œå¦‚å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š\nUser-Agent: Mozila/5.0 Chrome/105.0.0.0 Edg/105.0.1343.42 HttpServletRequest è·å–è¯·æ±‚å¤´çš„æ–¹æ³•ä¸ºï¼š\nString getHeader(String name) nameï¼šæ˜¯è¯·æ±‚å¤´ä¸­çš„keyã€‚ è¿”å›å€¼ï¼šè¿”å›nameå¯¹åº”keyçš„valueã€‚ ä½¿ç”¨getHeader()è·å–å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š\npackage com.linner.web.request; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo7 extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String agent = request.getHeader(\u0026#34;user-agent\u0026#34;); // name ä¸åŒºåˆ†å¤§å°å†™ System.out.println(agent); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } è¾“å‡ºï¼š\nMozila/5.0 Chrome/105.0.0.0 Edg/105.0.1343.42 è·å–è¯·æ±‚ä½“æ•°æ® æµè§ˆå™¨å‘é€çš„GETè¯·æ±‚ï¼Œæ˜¯æ²¡æœ‰è¯·æ±‚ä½“çš„ã€‚åªæœ‰åœ¨å‘é€POSTè¯·æ±‚æ—¶æ‰å¸¦æœ‰è¯·æ±‚ä½“ã€‚\nè¯·æ±‚ä½“ä¸­çš„æ•°æ®æ ¼å¼å¦‚ï¼š\nusername=linner\u0026amp;password=123456 ä¸èµ„æºè·¯å¾„ä¸­ï¼Œè¯·æ±‚å‚æ•°çš„æ ¼å¼ä¸€æ ·ã€‚\nHttpServletRequestæä¾›äº†ä¸¤ç§æ–¹å¼æ¥è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼š\nè·å–å­—èŠ‚è¾“å…¥æµï¼š\nå½“å‰ç«¯å‘é€çš„æ˜¯å­—èŠ‚æ•°æ®ï¼Œå¦‚ä¼ é€’çš„æ˜¯æ–‡ä»¶æ•°æ®æ—¶ä½¿ç”¨ã€‚\nServletInputStream getInputStream() è·å–å­—ç¬¦è¾“å…¥æµï¼š\nå½“å‰ç«¯å‘é€çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®æ—¶ä½¿ç”¨ã€‚\nBufferedReader getReader() å¦‚æœè¦åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å‘é€POSTè¯·æ±‚ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ª\u0026lt;form\u0026gt;è¡¨å•ã€‚\nExampleï¼š\nåœ¨é¡¹ç›®çš„webappç›®å½•ä¸‹æ·»åŠ index.htmlï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Title\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;!-- action: è¡¨å•æäº¤çš„è¯·æ±‚åœ°å€ method: è¯·æ±‚æ–¹å¼ï¼ŒæŒ‡å®šä¸ºpost --\u0026gt; \u0026lt;form action=\u0026#34;/request-demo/test\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; name=\u0026#34;password\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åœ¨doPostæ–¹æ³•ä¸­è·å–æ•°æ®ï¼š\nç”±äºindex.htmlæäº¤çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®ï¼Œæ‰€ä»¥è¦ä½¿ç”¨getReader()æ–¹æ³•è·å–ã€‚\npackage com.linner.web.request; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.BufferedReader; import java.io.IOException; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo8 extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. è·å–å­—ç¬¦è¾“å…¥æµ BufferedReader br = request.getReader(); // 2. è¯»å–æ•°æ® String line = br.readLine(); System.out.println(line); } } BufferedReaderæµæ˜¯é€šè¿‡HttpServletRequestå¯¹è±¡æ¥è·å–çš„ï¼Œå½“è¯·æ±‚å®ŒæˆåHttpServletRequestå¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼ŒHttpServletRequestå¯¹è±¡è¢«é”€æ¯åï¼ŒBufferedReaderæµå°±ä¼šè‡ªåŠ¨å…³é—­ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦æ‰‹åŠ¨å…³é—­æµäº†ã€‚ getReader()è·å–è¯·æ±‚å‚æ•°åï¼Œè¿˜éœ€è¦ä½¿ç”¨readLine()è¯»å–å‚æ•°æ•°æ®ã€‚\né€šè¿‡æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/request-demo/ã€‚åœ¨è¡¨å•ä¸­è¾“å…¥å†…å®¹ï¼Œç„¶åæäº¤ï¼Œå°±å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°å‰ç«¯æ‰€å‘é€çš„è¯·æ±‚æ•°æ®ï¼š\nusername=linner\u0026amp;password=123456 è·å–è¯·æ±‚å‚æ•° ä½¿ç”¨getQueryString()æ–¹æ³•å’ŒgetReader()åˆ†åˆ«è·å–GETå’ŒPOSTçš„è¯·æ±‚å‚æ•°ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { String result = req.getQueryString(); System.out.println(result); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { BufferedReader br = req.getReader(); String result = br.readLine(); System.out.println(result); } } ä¸Šè¿°ä»£ç å­˜åœ¨çš„é—®é¢˜ï¼š\ndoGet()å’ŒdoPostä¸­å‡ºç°äº†é‡å¤ä»£ç ã€‚\nåœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šç›¸åŒçš„ä¸šåŠ¡ä»£ç ã€‚\ndoGet()å’ŒdoPostéƒ½å¿…é¡»å­˜åœ¨ã€‚\nGETè¯·æ±‚å’ŒPOSTè¯·æ±‚è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼ä¸ä¸€æ ·ã€‚\nåœ¨doPost()ä¸­è°ƒç”¨doGet()ï¼Œç„¶ååœ¨doGet()åˆ¤æ–­è¯·æ±‚çš„æ–¹å¼ï¼Œå¹¶åˆ†åˆ«åšå¤„ç†ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // 1. è·å–è¯·æ±‚æ–¹å¼ String method = req.getMethod(); // 2. è·å–è¯·æ±‚å‚æ•° String params = \u0026#34;\u0026#34;; if(\u0026#34;GET\u0026#34;.equals(method)){ params = req.getQueryString(); }else if(\u0026#34;POST\u0026#34;.equals(method)){ BufferedReader reader = req.getReader(); params = reader.readLine(); } // 3. å¤„ç†è¯·æ±‚ System.out.println(params); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req,resp); } } HttpServletRequestå·²ç»å¯¹è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼è¿›è¡Œäº†å°è£…ï¼š\nè·å–æ‰€æœ‰å‚æ•°Mapé›†åˆ\nMap\u0026lt;String, String[]\u0026gt; getParameterMap() æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆè¿”å›å€¼ä¸ºæ•°ç»„ï¼Œè¿”å›å¤šä¸ªå‚æ•°ï¼‰\nString[] getParameterValues(String name) æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆå•ä¸ªå€¼ï¼‰\nString getParameter(String name) åŒæ ·æ˜¯åœ¨doPost()ä¸­è°ƒç”¨doGet()ï¼Œç„¶ååœ¨doGet()å¤„ç†å‚æ•°ï¼Œä½†æ˜¯åœ¨è·å–å‚æ•°æ—¶ä¸ç”¨å¯¹è¯·æ±‚æ–¹å¼è¿›è¡Œåˆ¤æ–­ã€‚\nExampleï¼š\nwebapp/index.htmlï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;zh\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Title\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; test:get \u0026lt;form action=\u0026#34;/request-demo/test\u0026#34; method=\u0026#34;get\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; name=\u0026#34;password\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34; value=\u0026#34;1\u0026#34;\u0026gt; get-1 \u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34; value=\u0026#34;2\u0026#34;\u0026gt; get-2 \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; test:post \u0026lt;form action=\u0026#34;/request-demo/test\u0026#34; method=\u0026#34;post\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;username\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;password\u0026#34; name=\u0026#34;password\u0026#34;\u0026gt;\u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34; value=\u0026#34;1\u0026#34;\u0026gt; post-1 \u0026lt;input type=\u0026#34;checkbox\u0026#34; name=\u0026#34;hobby\u0026#34; value=\u0026#34;2\u0026#34;\u0026gt; post-2 \u0026lt;br\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ä½¿ç”¨getParameterValues()å’ŒgetParameter()è·å–è¯·æ±‚å‚æ•°ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/test1\u0026#34;) public class RequestDemo1 extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(\u0026#34;---------------\u0026#34;); // éªŒè¯è¯·æ±‚çš„æ–¹å¼ï¼š String method = req.getMethod(); System.out.println(method); // è·å–å¤šä¸ª valueï¼š System.out.print(\u0026#34;hobby: \u0026#34;); String[] hobbies = request.getParameterValues(\u0026#34;hobby\u0026#34;); for (String hobby : hobbies) { System.out.print(hobby + \u0026#34;, \u0026#34;); } System.out.println(\u0026#34;\\b\\b \u0026#34;); // è·å–å•ä¸ª valueï¼š String username = request.getParameter(\u0026#34;username\u0026#34;); String password = request.getParameter(\u0026#34;password\u0026#34;); System.out.println(\u0026#34;username: \u0026#34; + username); System.out.println(\u0026#34;password: \u0026#34; + password); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } ä½¿ç”¨getParameterMap()ä¸€æ¬¡æ€§è·å–æ‰€æœ‰å‚æ•°ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.util.Map; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(\u0026#34;-------------------------------------------\u0026#34;); // éªŒè¯è¯·æ±‚çš„æ–¹å¼ï¼š String method = request.getMethod(); System.out.println(method); // è·å–æ‰€æœ‰å‚æ•°çš„Mapé›†åˆ Map\u0026lt;String, String[]\u0026gt; map = request.getParameterMap(); for (String key : map.keySet()) { System.out.print(key + \u0026#34;:\u0026#34;); // è·å–keyå¯¹åº”çš„æ‰€æœ‰values String[] values = map.get(key); for (String value : values) { System.out.print(value + \u0026#34;, \u0026#34;); } System.out.println(\u0026#34;\\b\\b \u0026#34;); } } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } è¯·æ±‚è½¬å‘ è¯·æ±‚è½¬å‘ï¼ˆforwardï¼‰æ˜¯ä¸€ç§åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè·³è½¬æ–¹å¼ã€‚å¦‚ï¼š\næœåŠ¡å™¨å†…èµ„æºAè·å–è¯·æ±‚ã€‚ èµ„æºAï¼ˆå¤„ç†ä¸€éƒ¨åˆ†æ•°æ®åï¼‰å°†è¯·æ±‚è½¬å‘ç»™èµ„æºBå»å¤„ç†ã€‚ èµ„æºBå¤„ç†å®Œæˆåå°†å°†ç»“æœå“åº”ç»™æµè§ˆå™¨ã€‚ è¯·æ±‚ä»èµ„æºAåˆ°èµ„æºBçš„è¿‡ç¨‹å³ä¸ºè¯·æ±‚è½¬å‘ã€‚\nè¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹ï¼š\næµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å˜ã€‚ åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨çš„å†…éƒ¨èµ„æºã€‚ ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥åœ¨è½¬å‘çš„èµ„æºé—´ä½¿ç”¨requestå…±äº«æ•°æ®ã€‚ ä½¿ç”¨request.getRequestDispatcher(\u0026quot;/path\u0026quot;).forward(request, response)è¿›è¡Œè¯·æ±‚è½¬å‘ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/demo1\u0026#34;) public class RequestDemo1 extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(\u0026#34;demo1...\u0026#34;); // å­˜å‚¨æ•°æ® request.setAttribute(\u0026#34;msg\u0026#34;, \u0026#34;Hello\u0026#34;); // è¯·æ±‚è½¬å‘ï¼ˆèµ„æºè½¬å‘åˆ°demo2ï¼‰ request.getRequestDispatcher(\u0026#34;/demo2\u0026#34;).forward(request, response); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } package com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/demo2\u0026#34;) public class RequestDemo2 extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(\u0026#34;demo2...\u0026#34;); // è·å–æ•°æ® Object msg = request.getAttribute(\u0026#34;msg\u0026#34;); System.out.println(msg); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } é€šè¿‡http://localhost:8080/request-demo/demo1è®¿é—®ã€‚\nç”±äºè¯·æ±‚è½¬å‘æ˜¯åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè½¬å‘ï¼Œæ‰€ä»¥getRequestDispatcher()ä¸­çš„è·¯å¾„ä¸éœ€è¦åŒ…å«è™šæ‹Ÿç›®å½•ã€‚\nè¯·æ±‚è½¬å‘ä½¿ç”¨HttpServletRequestï¼ˆRequestï¼‰å¯¹è±¡è¿›è¡Œèµ„æºçš„ä¼ é€’ã€‚è¿™ä¸ªç”¨æ¥å­˜å‚¨èµ„æºçš„ç©ºé—´è¢«ç§°ä¸ºRequeståŸŸã€‚\nHttpServletRequestå¯¹è±¡æä¾›äº†å¯¹äºRequestä¸­çš„åŸŸå±æ€§æ“ä½œçš„æ–¹æ³•æœ‰ï¼š\nåœ¨ Request åŸŸå±æ€§ç©ºé—´ä¸­æ”¾å…¥æ•°æ®ï¼š\nvoid setAttribute(String name, Object object) å…¶ç”Ÿå‘½å‘¨æœŸä¸ Request çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚\nä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­è·å–æŒ‡å®šåç§°çš„æ•°æ®ï¼š\nObject getAttribute(String name) ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­åˆ é™¤æŒ‡å®šåç§°çš„æ•°æ®ï¼š\nvoid removeAttribute(String name) åˆ›å»ºè¯·æ±‚è½¬å‘å™¨ï¼š\nRequestDispatcher getRequestDispatcher(String path) è¯·æ±‚è½¬å‘å™¨ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®Œæˆå°†è¯·æ±‚å¯¹è±¡è½¬å‘ç»™ä¸‹ä¸€ä¸ªèµ„æºï¼š\nvoid forward(HttpServletRequest request, HttpServletResponse response) Tomcat7 è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜ Tomcat8.0 ä¹‹åï¼Œå·²ç»å°†é»˜è®¤ç¼–ç è®¾ç½®ä¸ºUTF-8ã€‚\nPOSTè¯·æ±‚å‚æ•°æ˜¯é€šè¿‡æµçš„æ–¹å¼è·å–æ•°æ®ï¼š\nTomcatåœ¨è·å–æµçš„æ—¶å€™é‡‡ç”¨çš„ç¼–ç æ˜¯ISO-8859-1ã€‚ é¡µé¢è®¾ç½®çš„ç¼–ç æ ¼å¼ä¸€èˆ¬ä¸ºUTF-8ã€‚ ISO-8859-1ç¼–ç æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¹±ç ã€‚ è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡HttpServletRequestæä¾›çš„setCharacterEncoding()ï¼Œåœ¨Tomcatåœ¨è·å–æµæ•°æ®ä¹‹å‰çš„ç¼–ç è®¾ç½®ä¸ºUTF-8ã€‚\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.BufferedReader; import java.io.IOException; import java.net.URLDecoder; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo4Copy extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. è®¾ç½®å­—ç¬¦è¾“å…¥æµçš„ç¼–ç  request.setCharacterEncoding(\u0026#34;UTF-8\u0026#34;); // 2. è·å–è¯·æ±‚å‚æ•° BufferedReader br = request.getReader(); String line = br.readLine(); // getReader()è·å–çš„æ˜¯ç¼–ç åçš„URLï¼Œå¦‚æœè¦æ˜¾ç¤ºä¸­æ–‡ï¼Œéœ€è¦å¯¹URLæŒ‰ç…§UTF-8è¿›è¡Œè§£ç  String decode = URLDecoder.decode(line, StandardCharsets.UTF_8); System.out.println(\u0026#34;è§£å†³ä¹±ç å: \u0026#34; + decode); } } GETè¯·æ±‚å‚æ•°åŒ…å«åœ¨URLä¸­ï¼š\ngetQueryString()è·å–çš„å¹¶ä¸æ˜¯å­—ç¬¦è¾“å…¥æµï¼Œæ‰€ä»¥setCharacterEncoding()å¹¶ä¸é€‚ç”¨ã€‚\næµè§ˆå™¨åœ¨å‘é€HTTPçš„è¿‡ç¨‹ä¸­ä¼šæ ¹æ®é¡µé¢\u0026lt;meta\u0026gt;æ ‡ç­¾æŒ‡å®šçš„charsetçš„æ–¹å¼ï¼ˆä¸€èˆ¬ä¸ºUTF-8ï¼‰å¯¹URLè¿›è¡Œç¼–ç ã€‚ URLç¼–ç ï¼š\nå°†å­—ç¬¦ä¸²æŒ‰ç…§ç¼–ç æ–¹å¼è½¬ä¸ºäºŒè¿›åˆ¶ã€‚ æ¯ä¸ªå­—èŠ‚ï¼ˆ8ä½ï¼‰è½¬ä¸º2ä¸ª16è¿›åˆ¶æ•°ï¼ˆä¸€ä¸ª16è¿›åˆ¶æ•°ä»£è¡¨4ä½ï¼‰å¹¶åœ¨å‰è¾¹åŠ ä¸Š%ã€‚ Tomcatåœ¨æ¥æ”¶ç¼–ç åçš„URLåï¼Œä¼šé»˜è®¤æŒ‰ç…§ISO-8859-1è¿›è¡ŒURLè§£ç ã€‚\nå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°å¯ä»¥æ¨¡æ‹ŸURLç¼–ç ã€è§£ç çš„è¿‡ç¨‹ï¼š\nç¼–ç ï¼š\njava.net.URLEncoder.encode(string, charset) è§£ç ï¼š\njava.net.URLDecoder.decode(string, charset) è§£å†³æ–¹æ¡ˆï¼š\næŠŠå­—ç¬¦æ•°æ®ï¼ˆURLç¼–ç ï¼‰æŒ‰ç…§ISO-8859-1ç¼–ç è½¬æ¢æˆå­—èŠ‚ã€‚ å­—èŠ‚æŒ‰ç…§æµè§ˆå™¨å¯¹åº”çš„URLç¼–ç ï¼ˆUTF-8ï¼‰è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦ã€‚ è¿™æ ·åœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­ä¿æŒç¼–ç ä¸€è‡´ï¼Œå°±å¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.net.URLDecoder; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo4Copy extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String qs = request.getQueryString(); // æŠŠå­—ç¬¦æ•°æ®ï¼ˆURLç¼–ç ï¼‰æŒ‰ç…§ISO-8859-1ç¼–ç è½¬æ¢æˆå­—èŠ‚ byte[] bytes = qs.getBytes(StandardCharsets.ISO_8859_1); // æŒ‰ç…§UTF-8ç¼–ç è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦ String s = new String(bytes, StandardCharsets.UTF_8); // è½¬æ¢åçš„å­—ç¬¦æ˜¯URLç¼–ç åçš„å­—ç¬¦ï¼Œéœ€è¦å†æ¬¡è§£ç  qs = URLDecoder.decode(s, StandardCharsets.UTF_8); System.out.println(\u0026#34;è§£å†³ä¹±ç å: \u0026#34; + qs); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { } } é€šç”¨æ–¹å¼è§£å†³ä¹±ç é—®é¢˜ï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.nio.charset.StandardCharsets; @WebServlet(\u0026#34;/test\u0026#34;) public class RequestDemo4Copy extends HttpServlet { @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1. è·å–username String username = request.getParameter(\u0026#34;username\u0026#34;); // 2. è§£å†³ä¹±ç  username = new String(username.getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8); System.out.println(\u0026#34;è§£å†³ä¹±ç å: \u0026#34; + username); } @Override protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { this.doGet(request, response); } } HttpServletResponse HTTPå“åº”æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯ï¼š\nå“åº”è¡Œ\nå¦‚ï¼ŒHTTP/1.1 200 OKï¼Œä»å·¦åˆ°å³åˆ†åˆ«ä¸ºï¼š\nHTTPåè®®åŠç‰ˆæœ¬\nå“åº”çŠ¶æ€ç  è®¾ç½®å“åº”çŠ¶æ€ç ï¼ŒHttpServletResponseå¯¹è±¡æä¾›äº†ä»¥ä¸‹æ–¹æ³•è®¾ç½®ï¼š\nvoid setStatus(int sc) çŠ¶æ€ç æè¿°\nå“åº”å¤´\nç”±å¤šä¸ª key: value ç»„æˆã€‚HttpServletResponseå¯¹è±¡æä¾›äº†ä»¥ä¸‹æ–¹æ³•è®¾ç½®é”®å€¼å¯¹ï¼š\nvoid setHeader(String name, String value) å“åº”ä½“\nè·å–å­—ç¬¦è¾“å‡ºæµï¼š\nPrintWriter getWriter() è·å–å­—èŠ‚è¾“å‡ºæµï¼š\nServletOutputStream getOutputStream() Responesé‡å®šå‘ Responseé‡å®šå‘ï¼ˆredirectï¼‰æ˜¯ä¸€ç§èµ„æºè·³è½¬æ–¹å¼ã€‚å¦‚ï¼š\næµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚ã€‚ èµ„æºAç°åœ¨æ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œå°±ä¼šç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª302çš„çŠ¶æ€ç å’Œlocationï¼ˆä¸€ä¸ªè®¿é—®èµ„æºBçš„è·¯å¾„ï¼‰ã€‚ æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”çŠ¶æ€ç ä¸º302å°±ä¼šé‡æ–°å‘é€è¯·æ±‚åˆ°locationå¯¹åº”çš„è®¿é—®åœ°å€å»è®¿é—®èµ„æºBã€‚ é‡å®šå‘çš„ç‰¹ç‚¹:\næµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–ï¼ˆç”±èµ„æºAçš„è·¯å¾„å˜åŒ–ä¸ºèµ„æºBçš„è·¯å¾„ï¼‰ã€‚\nè¿›è¡Œé‡å®šå‘è®¿é—®æ—¶ï¼Œç”±æµè§ˆå™¨å‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œæ‰€ä»¥åœ°å€å‘ç”Ÿäº†å˜åŒ–ã€‚\nå¯ä»¥é‡å®šå‘åˆ°ä»»æ„ä½ç½®çš„èµ„æºï¼ˆæœåŠ¡å™¨å†…éƒ¨ã€å¤–éƒ¨å‡å¯ï¼‰ã€‚\nèµ„æºç”±æµè§ˆå™¨æ¥è®¿é—®ï¼Œæ‰€ä»¥å¯ä»¥é‡å®šå‘åˆ°ä»»æ„ä½ç½®èµ„æºã€‚\nä¸èƒ½åœ¨å¤šä¸ªèµ„æºä½¿ç”¨Requesté‡å®šå‘å…±äº«æ•°æ®ã€‚\né‡å®šå‘æ˜¯ç”±æµè§ˆå™¨æ¥å‘é€æ–°çš„è¯·æ±‚ï¼Œæ¯æ¬¡è¯·æ±‚ä¸­çš„Requestå¯¹è±¡éƒ½æ˜¯ä¸åŒçš„ã€‚\né‡å®šå‘éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š\nè®¾ç½®302çŠ¶æ€ç ï¼š\nresponse.setStatus(302) è®¾ç½®å“åº”å¤´ä¸­ï¼Œlocationçš„å€¼ï¼š\nresponse.setHeader(\u0026#34;location\u0026#34;, \u0026#34;/path_b\u0026#34;) Exampleï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/demo1\u0026#34;) public class ResponseDemo1 extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\u0026#34;demo1...\u0026#34;); // é‡å®šå‘ // 1. è®¾ç½®ç›¸åº”çŠ¶æ€ç  resp.setStatus(302); // 2. è®¾ç½®ç›¸åº”å¤´ Location (ä¸åŒºåˆ†å¤§å°å†™) resp.setHeader(\u0026#34;Location\u0026#34;, \u0026#34;/request-demo/demo2\u0026#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } package com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/demo2\u0026#34;) public class ResponseDemo2 extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\u0026#34;demo2...\u0026#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } ç”±äºé‡å®šå‘æ˜¯å°†é‡å®šå‘åçš„èµ„æºè·¯å¾„å‘ŠçŸ¥æµè§ˆå™¨ï¼Œæ‰€ä»¥locationéœ€è¦æ·»åŠ è™šæ‹Ÿç›®å½•ï¼ˆå¦‚/response-demo/demo2ï¼‰ã€‚ å¦‚æœæ˜¯é‡å®šå‘åˆ°æœåŠ¡å™¨å¤–éƒ¨èµ„æºï¼Œlocationçš„å€¼ä¸ºå¤–éƒ¨èµ„æºçš„URLã€‚\nHttpServletResponseæä¾›äº†sendRedirect()æ–¹æ³•æ¥ç®€åŒ–é‡å®šå‘æµç¨‹ã€‚ä¿®æ”¹ResponseDemo1ï¼š\npackage com.linner.web.response; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; @WebServlet(\u0026#34;/resp1\u0026#34;) public class ResponseDemo1 extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(\u0026#34;resp1...\u0026#34;); // ç®€åŒ–æ–¹å¼å®Œæˆé‡å®šå‘ // åŠ¨æ€è·å–è™šæ‹Ÿç›®å½• String contextPath = req.getContextPath(); resp.sendRedirect(contextPath + \u0026#34;/resp2\u0026#34;); @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } å“åº”å­—ç¬¦æ•°æ® å°†å­—ç¬¦æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œéœ€è¦ï¼š\né€šè¿‡HttpServletResponseå¯¹è±¡è·å–å­—ç¬¦è¾“å‡ºæµï¼š\nPrintWriter writer = response.getWriter() é€šè¿‡å­—ç¬¦è¾“å‡ºæµå†™æ•°æ®ï¼š\nwriter.write(\u0026#34;ä½ å¥½\u0026#34;) Exampleï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.io.PrintWriter; @WebServlet(\u0026#34;/demo\u0026#34;) public class ResponseDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // è®¾ç½®content-typeï¼ˆå“åº”çš„æ•°æ®æ ¼å¼ï¼‰å’Œå­—ç¬¦é›†ï¼ˆç¼–ç ï¼‰ resp.setContentType(\u0026#34;text/html;charset=utf-8\u0026#34;); // content-typeä¹Ÿå¯ä»¥ä½¿ç”¨setHeader()æ‰‹åŠ¨è®¾ç½® // resp.setHeader(\u0026#34;content-type\u0026#34;, \u0026#34;text/html\u0026#34;); // è·å–å­—ç¬¦è¾“å‡ºæµ PrintWriter writer = resp.getWriter(); writer.write(\u0026#34;ä½ å¥½\u0026#34;); writer.write(\u0026#34;\u0026lt;h1\u0026gt;Hello World!\u0026lt;/h1\u0026gt;\u0026#34;); // } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } write()ä¸ä»…èƒ½å†™å…¥æ–‡æœ¬æ•°æ®ï¼Œè¿˜èƒ½å†™å…¥HTMLæ•°æ®ã€‚ PrintWriter å¯¹è±¡ä¼šåœ¨ HttpServletRequest è¢«é”€æ¯æ—¶ä¸€å¹¶é”€æ¯ï¼Œæ— éœ€æ‰‹åŠ¨å…³é—­ã€‚\nå“åº”å­—èŠ‚æ•°æ® å°†å­—èŠ‚æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œéœ€è¦ï¼š\né€šè¿‡HttpServletResponseå¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµï¼š\nServletOutputStream os = response.getOutputStream() é€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™æ•°æ®ï¼š\nos.write(buff) Exampleï¼š\npackage com.linner.web; import javax.servlet.ServletException; import javax.servlet.ServletOutputStream; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.FileInputStream; import java.io.IOException; import java.io.PrintWriter; @WebServlet(\u0026#34;/demo\u0026#34;) public class ResponseDemo extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // 1. è¯»å–æ–‡ä»¶ FileInputStream fis = new FileInputStream(\u0026#34;src/main/webapp/imgs/bg.jpg\u0026#34;); // 2. è·å–responseå­—èŠ‚è¾“å‡ºæµ ServletOutputStream os = resp.getOutputStream(); // 3. å®Œæˆæµçš„copy byte[] buff = new byte[1024]; int len = 0; while ((len = fis.read(buff)) != -1) { os.write(buff, 0, len); } fis.close(); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } å…¶ä¸­ï¼Œæµçš„copyå¯ä»¥ä½¿ç”¨IOUtilså·¥å…·ç±»çš„copy()æ¥ç®€åŒ–æ“ä½œï¼š\nå¯¼å…¥é…ç½®ï¼š\n\u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;commons-io\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-io\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ä¿®æ”¹ResponseDemoï¼š\n@Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { // 1. è¯»å–æ–‡ä»¶ FileInputStream fis = new FileInputStream(\u0026#34;src/main/webapp/imgs/reg_bg_min.jpg\u0026#34;);0 // 2. è·å–responseå­—èŠ‚è¾“å‡ºæµ ServletOutputStream os = resp.getOutputStream(); // 3. å®Œæˆæµçš„copy IOUtils.copy(fis, os); fis.close(); } æ€»ç»“ HttpServletRequest å¸¸ç”¨æ–¹æ³• æ–¹æ³•å ä½œç”¨ String getMethod() è·å–è¯·æ±‚æ–¹å¼ String getContextPath() è·å–è™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰ StringBuffer getRequestURL() è·å–URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ String getRequestURI() è·å–URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰ String getQueryString() è·å–è¯·æ±‚å‚æ•°ï¼ˆGETæ–¹å¼ï¼‰ String getHeader(String name) è·å–nameæŒ‡å®škeyå¯¹åº”çš„è¯·æ±‚å¤´çš„value ServletInputStream getInputStream() è·å–è¯·æ±‚ä½“å­—èŠ‚è¾“å…¥æµï¼ˆPOSTæ–¹å¼è·å–è¯·æ±‚å‚æ•°ï¼‰ BufferedReader getReader() è·å–è¯·æ±‚ä½“å­—ç¬¦è¾“å…¥æµ\ngetReader()è·å–è¯·æ±‚å‚æ•°åï¼Œè¿˜éœ€è¦ä½¿ç”¨readLine()è¯»å–å‚æ•°æ•°æ®\nå³ï¼Œ\nBufferedReader br = request.getReader();\nString line = br.readLine(); Map\u0026lt;String, String[]\u0026gt; getParameterMap() è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°Mapé›†åˆ String[] getParameterValues(String name) æ ¹æ®åç§°è·å–è¯·æ±‚å‚æ•°å€¼\nè¿”å›å€¼ä¸ºæ•°ç»„\nè¿”å›å¤šä¸ªå‚æ•° String getParameter(String name) æ ¹æ®åç§°è·å–è¯·æ±‚å‚æ•°å€¼\nè¿”å›å•ä¸ªå‚æ•°å€¼ void setAttribute(String name, Object object) åœ¨ Request åŸŸå±æ€§ç©ºé—´ä¸­æ”¾å…¥æ•°æ® Object getAttribute(String name) ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­è·å–æŒ‡å®šåç§°çš„æ•°æ® void removeAttribute(String name) ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­åˆ é™¤æŒ‡å®šåç§°çš„æ•°æ® RequestDispatcher getRequestDispatcher(String path) åˆ›å»ºè¯·æ±‚è½¬å‘å™¨\nè¯·æ±‚è½¬å‘å™¨ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®Œæˆå°†è¯·æ±‚å¯¹è±¡è½¬å‘ç»™ä¸‹ä¸€ä¸ªèµ„æºï¼š\nvoid forward(HttpServletRequest request, HttpServletResponse response) void setCharacterEncoding(String charset) è®¾ç½®è¯·æ±‚ä½“å­—ç¬¦è¾“å…¥æµçš„ç¼–ç  HttpServletResponse å¸¸ç”¨æ–¹æ³• æ–¹æ³•å ä½œç”¨ void setStatus(int sc) è®¾ç½®å“åº”çŠ¶æ€ç  void setHeader(String name, String value) è®¾ç½®å“åº”å¤´é”®å€¼å¯¹ PrintWriter getWriter() è·å–å“åº”ä½“å­—ç¬¦è¾“å‡ºæµè·å–å­—ç¬¦è¾“å‡ºæµåè¿˜éœ€è¦ä½¿ç”¨write()æ–¹æ³•æ¥å†™å…¥å­—ç¬¦æ•°æ®ï¼š\nPrintWriter writer = response.getWriter();\nwriter.write(\u0026quot;Hello World!\u0026quot;); ServletOutputStream getOutputStream() è·å–å“åº”ä½“å­—èŠ‚è¾“å‡ºæµ\nè·å–å­—èŠ‚è¾“å‡ºæµå‰éœ€è¦å…ˆä½¿ç”¨FileInputStreamå¯¹è±¡æ¥è¯»å–æ–‡ä»¶\nç„¶åä½¿ç”¨IOUtilså·¥å…·ç±»çš„copy()æ¥copyæµ\nè·å–å­—èŠ‚è¾“å‡ºæµåè¿˜éœ€è¦ä½¿ç”¨write()æ–¹æ³•æ¥å†™å…¥å­—ç¬¦æ•°æ®\nå“åº”å­—èŠ‚æ•°æ® void sendRedirect(String path) Responesé‡å®šå‘ ","date":"2022å¹´9æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/http-servlet/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1662940800,"title":"HttpServlet ä¸ Tomcat"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Servlet ç®€ä»‹ Java Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åºï¼Œå®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ã€‚\nServlet åŸºæœ¬ä½¿ç”¨ åˆ›å»ºMaven Webé¡¹ç›®åï¼Œå¯¼å…¥Servletä¾èµ–åæ ‡å’ŒTomcatæ’ä»¶ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!-- Servletä¾èµ– --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;javax.servlet-api\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1.0\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!-- Tomcatæ’ä»¶ --\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.tomcat.maven\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tomcat7-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2\u0026lt;/version\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; ä½¿ç”¨\u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt;çš„åŸå› ï¼š providedæŒ‡çš„æ˜¯åœ¨ç¼–è¯‘å’Œæµ‹è¯•è¿‡ç¨‹ä¸­æœ‰æ•ˆï¼Œæœ€åç”Ÿæˆçš„waråŒ…æ—¶ä¸ä¼šåŠ å…¥ã€‚ å› ä¸ºTomcatçš„libç›®å½•ä¸­å·²ç»æœ‰servlet-apiè¿™ä¸ªjaråŒ…ï¼Œå¦‚æœåœ¨ç”ŸæˆwaråŒ…çš„æ—¶å€™ç”Ÿæ•ˆå°±ä¼šå’ŒTomcatä¸­çš„jaråŒ…å†²çªï¼Œå¯¼è‡´æŠ¥é”™ã€‚\nåˆ›å»ºServletç±»ï¼Œå®ç°Servletæ¥å£ï¼Œå¹¶é‡å†™æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•ï¼š\npackage com.linner.web; import javax.servlet.*; import javax.servlet.annotation.WebServlet; import java.io.IOException; @WebServlet(\u0026#34;/demo\u0026#34;) public class ServletDemo implements Servlet { @Override public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException { System.out.println(\u0026#34;Hello Servlet!\u0026#34;); } @Override public String getServletInfo() { return null; } @Override public void destroy() { } @Override public void init(ServletConfig servletConfig) throws ServletException { } @Override public ServletConfig getServletConfig() { return null; } } ä½¿ç”¨@WebServletæ³¨è§£é…ç½®è¯¥Servletçš„è®¿é—®è·¯å¾„ï¼š@WebServlet(\u0026quot;/demo\u0026quot;) å¯åŠ¨Tomcatï¼Œæ ¹æ®è‡ªå·±é¡¹ç›®å’ŒTomcatçš„é…ç½®è®¿é—®ï¼Œå¦‚ï¼šhttp://localhost:8080/web-demo/demo\nè®¿é—®æˆåŠŸåå¯ä»¥çœ‹åˆ°åœ¨æ§åˆ¶å°è¾“å‡ºservice()æ–¹æ³•ä¸­çš„å†…å®¹ã€‚\nServlet æ‰§è¡Œæµç¨‹ è¿è¡ŒTomcatæ—¶å¹¶æ²¡æœ‰æ˜¾å¼åˆ›å»ºServletå¯¹è±¡ï¼Œä¹Ÿæ²¡æœ‰æ˜¾å¼è°ƒç”¨å…¶ä¸­çš„æ–¹æ³•ã€‚å¯æ§åˆ¶å°ä¾ç„¶è¾“å‡ºäº†ServletDemo.service()ä¸­çš„å†…å®¹ã€‚\nè®¿é—®è¯¥Tomcaté¡¹ç›®æ—¶ï¼Œæµè§ˆå™¨å‘å‡ºhttp://localhost:8080/web-demo/demoè¯·æ±‚ï¼Œä»è¯·æ±‚ä¸­å¯ä»¥è§£æå‡ºä¸‰éƒ¨åˆ†å†…å®¹ï¼š\næ ¹æ®localhost:8080å¯ä»¥æ‰¾åˆ°è¦è®¿é—®çš„Tomcat WebæœåŠ¡å™¨ æ ¹æ®web-demoå¯ä»¥æ‰¾åˆ°éƒ¨ç½²åœ¨TomcatæœåŠ¡å™¨ä¸Šçš„web-demoé¡¹ç›® æ ¹æ®demoå¯ä»¥æ‰¾åˆ°è¦è®¿é—®çš„æ˜¯é¡¹ç›®ä¸­çš„å“ªä¸ªServletç±»ï¼Œæ ¹æ®@WebServletåé¢çš„å€¼è¿›è¡ŒåŒ¹é… æ‰¾åˆ°ServletDemoè¿™ä¸ªç±»åï¼ŒTomcat WebæœåŠ¡å™¨å°±ä¼šä¸ºServletDemoè¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè°ƒç”¨å¯¹è±¡ä¸­çš„service()æ–¹æ³•ã€‚\nè€ŒTomcatåˆ™æ˜¯æ ¹æ®@WebServletæ³¨è§£æˆ–web.xmlé…ç½®æ–‡ä»¶ç­‰ä¿¡æ¯æ¥åˆ›å»ºå¯¹åº”çš„Servletå¯¹è±¡ã€‚\nServlet ç”Ÿå‘½å‘¨æœŸ ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæŒ‡ä¸€ä¸ªå¯¹è±¡ä»è¢«åˆ›å»ºåˆ°è¢«é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚\nServletè¿è¡Œåœ¨Servletå®¹å™¨ï¼ˆwebæœåŠ¡å™¨ï¼‰ä¸­ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸç”±å®¹å™¨æ¥ç®¡ç†ï¼Œåˆ†ä¸º4ä¸ªé˜¶æ®µï¼š\nåŠ è½½å’Œå®ä¾‹åŒ–ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒServletä¼šåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶è¢«å®¹å™¨åˆ›å»º\nåˆå§‹åŒ–ï¼šåœ¨Servletå®ä¾‹åŒ–ä¹‹åï¼Œå®¹å™¨å°†è°ƒç”¨Servletçš„init()æ–¹æ³•åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡ï¼Œå®Œæˆä¸€äº›å¦‚åŠ è½½é…ç½®æ–‡ä»¶ã€åˆ›å»ºè¿æ¥ç­‰åˆå§‹åŒ–çš„å·¥ä½œ\ninit()æ–¹æ³•ä»…ä¼šè¢«è°ƒç”¨ä¸€æ¬¡\nè¯·æ±‚å¤„ç†ï¼šæ¯æ¬¡è¯·æ±‚Servletæ—¶ï¼ŒServletå®¹å™¨éƒ½ä¼šè°ƒç”¨Servletçš„service()æ–¹æ³•å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†\næœåŠ¡ç»ˆæ­¢ï¼šå½“éœ€è¦é‡Šæ”¾å†…å­˜æˆ–è€…å®¹å™¨å…³é—­æ—¶ï¼Œå®¹å™¨å°±ä¼šè°ƒç”¨Servletå®ä¾‹çš„destroy()æ–¹æ³•å®Œæˆèµ„æºçš„é‡Šæ”¾\nåœ¨destroy()æ–¹æ³•è°ƒç”¨ä¹‹åï¼Œå®¹å™¨ä¼šé‡Šæ”¾è¿™ä¸ªServletå®ä¾‹ï¼Œè¯¥å®ä¾‹éšåä¼šè¢«Javaçš„åƒåœ¾æ”¶é›†å™¨æ‰€å›æ”¶\nå¯ä»¥æŠŠServletçš„åˆ›å»ºæ”¾åˆ°æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ¥åˆ›å»ºï¼ˆä¿®æ”¹@WebServletæ³¨è§£ï¼‰ï¼š\n@WebServlet(urlPatterns = \u0026#34;/demo1\u0026#34;, loadOnStartup = 1) loadOnstartupçš„å–å€¼æœ‰ä¸¤ç±»æƒ…å†µï¼š\nè´Ÿæ•´æ•°ï¼šç¬¬ä¸€æ¬¡è®¿é—®æ—¶åˆ›å»ºServletå¯¹è±¡ éè´Ÿæ•´æ•°ï¼šæœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºServletå¯¹è±¡ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆ0çš„ä¼˜å…ˆçº§æœ€é«˜ï¼‰ Exampleï¼š\npackage com.linner.web; import javax.servlet.*; import javax.servlet.annotation.WebServlet; import java.io.IOException; @WebServlet(urlPatterns = \u0026#34;/demo\u0026#34;, loadOnStartup = 1) public class ServletDemo implements Servlet { /** * åˆå§‹åŒ–æ–¹æ³• * - åœ¨Servletè¢«ç¬¬ä¸€æ¬¡è®¿é—®æˆ–è€…æœåŠ¡å™¨å¯åŠ¨æ—¶è¢«è°ƒç”¨ä¸€æ¬¡ */ public void init(ServletConfig config) throws ServletException { System.out.println(\u0026#34;init...\u0026#34;); } /** * æä¾›æœåŠ¡ * - æ¯ä¸€æ¬¡Servletè¢«è®¿é—®æ—¶è¢«è°ƒç”¨ * - å¯è¢«è°ƒç”¨å¤šæ¬¡ */ public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException { System.out.println(\u0026#34;Hello Servlet!\u0026#34;); } /** * é”€æ¯æ–¹æ³• * - è°ƒç”¨æ—¶æœºï¼šå†…å­˜é‡Šæ”¾æˆ–è€…æœåŠ¡å™¨å…³é—­çš„æ—¶å€™è¢«è°ƒç”¨ä¸€æ¬¡ */ public void destroy() { System.out.println(\u0026#34;destroy...\u0026#34;); } public ServletConfig getServletConfig() { return null; } public String getServletInfo() { return null; } } æ³¨æ„ï¼šè‹¥è¦åœ¨å…³é—­Tomcatæ—¶è°ƒç”¨destroy()ï¼Œéœ€è¦åœ¨æ­£å¸¸å…³é—­Tomcatçš„æƒ…å†µä¸‹ï¼Œdestroy()æ‰èƒ½è¢«æ‰§è¡Œã€‚\nServlet æ–¹æ³• å‰©ä¸‹ä¸¤ä¸ªServletæ–¹æ³•çš„ä½œç”¨æ˜¯ï¼š\nè·å–Servletä¿¡æ¯ï¼š\npublic String getServletInfo() { return \u0026#34;\u0026#34;; } è·å–ServletConfigå¯¹è±¡ï¼š\npublic String getServletInfo() { return \u0026#34;\u0026#34;; } ServletConfigå¯¹è±¡ï¼ŒTomcat WebæœåŠ¡å™¨åœ¨åˆ›å»ºServletå¯¹è±¡çš„æ—¶å€™ä¼šé€šè¿‡init()æ–¹æ³•å°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥ï¼š\nvoid init(ServletConfig config) throws ServletException åœ¨getServletInfo()ä¸­ä»…éœ€å°†æœåŠ¡å™¨ä¼ è¿‡æ¥çš„ServletConfigè¿›è¡Œè¿”å›å³å¯ï¼š\nprivate ServletConfig servletConfig; public void init(ServletConfig config) throws ServletException { // è·å–æœåŠ¡å™¨ä¼ å…¥çš„ServletConfig this.servletConfig = config; System.out.println(\u0026#34;init...\u0026#34;); } public ServletConfig getServletConfig() { // å°†æœåŠ¡å™¨ä¼ å…¥çš„ServletConfigè¿”å› return servletConfig; } urlPattern é…ç½® urlPatterns å¤šè·¯å¾„è®¿é—® ä¸€ä¸ªServletï¼Œå¯ä»¥é…ç½®å¤šä¸ªè®¿é—®è·¯å¾„ï¼ˆurlPatternï¼‰ï¼š\n@WebServlet(urlPatterns = {\u0026#34;/path1\u0026#34;, \u0026#34;/path2\u0026#34;, ....}) ç²¾ç¡®åŒ¹é… é…ç½®è·¯å¾„ï¼š\n@WebServlet(\u0026#34;/path/servlet\u0026#34;) è®¿é—®è·¯å¾„ï¼šhttp://localhost:8080/web-demo/path/servlet\nç›®å½•åŒ¹é… é…ç½®è·¯å¾„ï¼š\n@WebServlet(\u0026#34;/path/*\u0026#34;) è®¿é—®è·¯å¾„ï¼š\nhttp://localhost:8080/web-demo/path/abc http://localhost:8080/web-demo/path/def http://localhost:8080/web-demo/path/ http://localhost:8080/web-demo/path/anypath \u0026hellip; ç²¾ç¡®åŒ¹é…ä¼˜å…ˆçº§è¦é«˜äºç›®å½•åŒ¹é…\næ‰©å±•ååŒ¹é… é…ç½®è·¯å¾„ï¼š\n@WebServlet(\u0026#34;*.html\u0026#34;) è®¿é—®è·¯å¾„ï¼š\nhttp://localhost:8080/web-demo/index.html http://localhost:8080/web-demo/login.html http://localhost:8080/web-demo/any_name.html \u0026hellip; æ³¨æ„ï¼š\nå¦‚æœè·¯å¾„é…ç½®çš„ä¸æ˜¯æ‰©å±•åï¼Œé‚£ä¹ˆåœ¨è·¯å¾„çš„å‰é¢å°±å¿…é¡»è¦åŠ /å¦åˆ™ä¼šæŠ¥é”™ å¦‚æœè·¯å¾„é…ç½®çš„æ˜¯*.htmlï¼Œé‚£ä¹ˆåœ¨*.htmlçš„å‰é¢ä¸èƒ½åŠ /ï¼Œå¦åˆ™ä¼šæŠ¥é”™ ä»»æ„åŒ¹é… é…ç½®è·¯å¾„ï¼š\n@WebServlet(\u0026#34;/\u0026#34;) æˆ–\n@WebServlet(\u0026#34;/*\u0026#34;) è®¿é—®è·¯å¾„ï¼š\nä»»ä½•ä»¥ http://localhost:8080/web-demo/ å¼€å¤´çš„è·¯å¾„\n/å’Œ/*çš„åŒºåˆ«ï¼š\nå½“é¡¹ç›®ä¸­çš„Servleté…ç½®äº†@WebServlet(\u0026quot;/\u0026quot;)ï¼Œä¼šè¦†ç›–æ‰Tomcatä¸­çš„DefaultServletï¼Œå½“å…¶ä»–çš„urlPatternéƒ½åŒ¹é…ä¸ä¸Šæ—¶éƒ½ä¼šèµ°è¿™ä¸ªServletã€‚ å½“é¡¹ç›®ä¸­é…ç½®äº†@WebServlet(\u0026quot;/\u0026quot;)ï¼Œæ„å‘³ç€åŒ¹é…ä»»æ„è®¿é—®è·¯å¾„ã€‚ DefaultServletæ˜¯ç”¨æ¥å¤„ç†é™æ€èµ„æºï¼Œå¦‚æœä½¿ç”¨@WebServlet(\u0026quot;/\u0026quot;)å°†å…¶è¦†ç›–æ‰ã€‚å½“è¯·æ±‚é™æ€èµ„æºçš„æ—¶å€™åˆ™æ˜¯ä½¿ç”¨äº†è‡ªå®šä¹‰çš„Servletç±»ï¼Œæœ€ç»ˆä¼šå¯¼è‡´é™æ€èµ„æºä¸èƒ½è¢«è®¿é—®ã€‚ XMLé…ç½®Servletï¼ˆä¸æ¨èï¼‰ Servletä»3.0ç‰ˆæœ¬åæ‰å¼€å§‹æ”¯æŒæ³¨è§£é…ç½®ï¼Œè€Œ3.0ç‰ˆæœ¬å‰åªæ”¯æŒXMLé…ç½®æ–‡ä»¶çš„é…ç½®æ–¹æ³•ã€‚\nç¼–å†™Servletç±»ï¼š\npackage com.linner.web; import javax.servlet.*; import javax.servlet.annotation.WebServlet; import java.io.IOException; public class ServletDemo implements Servlet { // ... } åœ¨web.xmlä¸­é…ç½®è¯¥Servletï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;web-app xmlns=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\u0026#34; version=\u0026#34;4.0\u0026#34;\u0026gt; \u0026lt;!-- Servlet å…¨ç±»å --\u0026gt; \u0026lt;servlet\u0026gt; \u0026lt;!-- Servletçš„åç§°ï¼Œåå­—ä»»æ„ --\u0026gt; \u0026lt;servlet-name\u0026gt;demo\u0026lt;/servlet-name\u0026gt; \u0026lt;!-- Servletçš„ç±»å…¨å --\u0026gt; \u0026lt;servlet-class\u0026gt;com.linner.web.ServletDemo\u0026lt;/servlet-class\u0026gt; \u0026lt;/servlet\u0026gt; \u0026lt;!-- Servlet è®¿é—®è·¯å¾„ --\u0026gt; \u0026lt;servlet-mapping\u0026gt; \u0026lt;!-- Servletçš„åç§°ï¼Œè¦å’Œä¸Šé¢çš„åç§°ä¸€è‡´ --\u0026gt; \u0026lt;servlet-name\u0026gt;demo\u0026lt;/servlet-name\u0026gt; \u0026lt;!-- Servletçš„è®¿é—®è·¯å¾„ --\u0026gt; \u0026lt;url-pattern\u0026gt;/demo\u0026lt;/url-pattern\u0026gt; \u0026lt;/servlet-mapping\u0026gt; \u0026lt;/web-app\u0026gt; ServletRequest å’Œ ServletResponse åœ¨ Servlet.service() ä¸­æœ‰è¿™æ ·ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬çš„ç±»å‹æ˜¯ ServletRequest å’Œ ServletResponseã€‚è¿™ä¸¤ä¸ªå‚æ•°å°±æ˜¯Servletçš„ Request å’Œ Response å¯¹è±¡ã€‚\nRequestæ˜¯è¯·æ±‚å¯¹è±¡ï¼Œä½œç”¨æ˜¯å°†å®¢æˆ·ç«¯çš„è¯·æ±‚æ•°æ®ä»å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯ï¼›Responseæ˜¯å“åº”å¯¹è±¡ï¼Œä½œç”¨æ˜¯å°†æœåŠ¡ç«¯çš„å“åº”æ•°æ®ä»æœåŠ¡ç«¯å‘é€åˆ°å®¢æˆ·ç«¯ã€‚\n","date":"2022å¹´9æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/servlet/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1662940800,"title":"Servlet ä¸ Tomcat"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"TomcatåŸºæœ¬ä½¿ç”¨ Tomcatå®‰è£… è®¿é—®Tomcatå®˜ç½‘ä¸‹è½½ã€‚Tomcatæ˜¯ç»¿è‰²ç‰ˆï¼Œç›´æ¥è§£å‹å³å¯ã€‚\nå¯åŠ¨Tomcat ä»¥Windowsç³»ç»Ÿä¸ºä¾‹ï¼Œè¿è¡ŒTomcatç›®å½•ä¸‹ bin\\startup.bat å¯åŠ¨è„šæœ¬å³å¯å®Œæˆå¯åŠ¨ã€‚\nå¯åŠ¨åï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—® http://localhost:8080èƒ½çœ‹åˆ°Apache Tomcatçš„å†…å®¹å°±è¯´æ˜Tomcatå·²ç»å¯åŠ¨æˆåŠŸã€‚\nWindowsç³»ç»Ÿä¸‹å¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ§åˆ¶å°æœ‰ä¸­æ–‡ä¹±ç ï¼Œéœ€è¦ä¿®æ”¹conf/logging.proopertiesã€‚\nå°†\njava.util.logging.ConsoleHandler.encoding = UTF-8 ä¿®æ”¹ä¸º\njava.util.logging.ConsoleHandler.encoding = GBK å…³é—­Tomcat å…³é—­Tomcatä¸åº”è¯¥ç›´æ¥å…³é—­è¿è¡Œçª—å£æ¥å¼ºåˆ¶å…³é—­ã€‚åº”è¯¥è¿è¡Œbin\\shutdown.batæˆ–ctrl+cæ¥æ­£å¸¸å…³é—­ã€‚\nä¿®æ”¹ç«¯å£ Tomcaté»˜è®¤çš„ç«¯å£æ˜¯8080ï¼Œé€šè¿‡ä¿®æ”¹ conf/server.xml æ¥ä¿®æ”¹ç«¯å£å·ï¼š\n\u0026lt;Connector port=\u0026#34;8080\u0026#34; protocol=\u0026#34;HTTP/1.1\u0026#34; connectionTimeout=\u0026#34;20000\u0026#34; redirectPort=\u0026#34;8443\u0026#34;\u0026gt; éƒ¨ç½² Tomcatéƒ¨ç½²é¡¹ç›®ï¼š å°†é¡¹ç›®æ”¾ç½®åˆ°webappsç›®å½•ä¸‹ï¼Œå³éƒ¨ç½²å®Œæˆã€‚\nä¸€èˆ¬JavaWebé¡¹ç›®ä¼šè¢«æ‰“åŒ…ç§°waråŒ…ï¼Œç„¶åå°†waråŒ…æ”¾åˆ°webappsç›®å½•ä¸‹ï¼ŒTomcatä¼šè‡ªåŠ¨è§£å‹ç¼©ã€‚\nMaven åˆ›å»º Web é¡¹ç›® ä½¿ç”¨Mavenå·¥å…·èƒ½æ›´åŠ ç®€å•å¿«æ·çš„åˆ›å»ºWebé¡¹ç›®ã€‚\nMaven Web é¡¹ç›®ç»“æ„ ğŸ“project_name \u0026mdash; é¡¹ç›®ä¸»ç›®å½• ğŸ“src \u0026mdash; æºä»£ç å’Œæµ‹è¯•ä»£ç æ–‡ä»¶ç›®å½• ğŸ“main \u0026mdash; æºä»£ç æ–‡ä»¶ç›®å½• ğŸ“java \u0026mdash; æºä»£ç Javaæ–‡ä»¶ç›®å½• ğŸ“resourcs \u0026mdash; æºä»£ç é…ç½®æ–‡ä»¶ç›®å½• â—ğŸ“webapp æˆ– web \u0026mdash; Webé¡¹ç›®æ ¸å¿ƒç›®å½• å­˜æ”¾webé…ç½®æ–‡ä»¶å’Œwebé¡¹ç›®ä»£ç  (html, css, javascriptç­‰) â—ğŸ“WEB-INF \u0026mdash; Webé¡¹ç›®æ ¸å¿ƒç›®å½• ğŸ“„web.xml \u0026mdash; Webé¡¹ç›®é…ç½®æ–‡ä»¶ å…¶å®ƒç›®å½•æˆ–æ–‡ä»¶ï¼Œå¦‚ index.htmlã€htmlã€cssã€jsç­‰ ğŸ“test \u0026mdash; æµ‹è¯•ä»£ç æ–‡ä»¶ç›®å½• ğŸ“java \u0026mdash; æµ‹è¯•ä»£ç Javaæ–‡ä»¶ç›®å½• ğŸ“resource \u0026mdash; æµ‹è¯•ä»£ç é…ç½® ğŸ“„pom.xml \u0026mdash; é¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶ å¼€å‘å®Œæˆéƒ¨ç½²çš„ Maven Web é¡¹ç›®ç»“æ„ï¼š\nğŸ“project_name \u0026mdash; é¡¹ç›®è®¿é—®è·¯å¾„ï¼ˆè™šæ‹Ÿç›®å½•ï¼‰ â—ğŸ“WEB-INF \u0026mdash; Webé¡¹ç›®æ ¸å¿ƒç›®å½• ğŸ“classes \u0026mdash; Javaå­—èŠ‚ç æ–‡ä»¶ ç¼–è¯‘åçš„Javaå­—èŠ‚ç æ–‡ä»¶å’Œresourcesçš„èµ„æºæ–‡ä»¶ï¼Œä¼šè¢«æ”¾åˆ°è¯¥ç›®å½•ä¸‹ åŒ…æ‹¬pom.xmlä¸­ä¾èµ–åæ ‡å¯¹åº”çš„jaråŒ… ğŸ“lib \u0026mdash; é¡¹ç›®æ‰€éœ€jaråŒ… ğŸ“„web.xml \u0026mdash; Webé¡¹ç›®é…ç½®æ–‡ä»¶ å…¶å®ƒç›®å½•æˆ–æ–‡ä»¶ï¼Œå¦‚ index.htmlã€htmlã€cssã€jsç­‰ åˆ›å»º Maven Web é¡¹ç›® åˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§ï¼šä½¿ç”¨éª¨æ¶å’Œä¸ä½¿ç”¨éª¨æ¶\nä½¿ç”¨éª¨æ¶å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºMavené¡¹ç›® é€‰æ‹©ä½¿ç”¨Webé¡¹ç›®éª¨æ¶ è¾“å…¥Mavené¡¹ç›®åæ ‡åˆ›å»ºé¡¹ç›®\nç¡®è®¤Mavenç›¸å…³çš„é…ç½®ä¿¡æ¯åï¼Œå®Œæˆé¡¹ç›®åˆ›å»º\nåˆ é™¤pom.xmlä¸­å¤šä½™å†…å®¹ è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±çš„ç›®å½•ç»“æ„\næœ€ç»ˆç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\nğŸ“project_name ğŸ“src ğŸ“main ğŸ“java ğŸ“resourcs ğŸ“webapp ğŸ“WEB-INF ğŸ“„web.xml ğŸ“„pom.xml ä¸ä½¿ç”¨éª¨æ¶å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š\nåˆ›å»ºMavené¡¹ç›® é€‰æ‹©ä¸ä½¿ç”¨Webé¡¹ç›®éª¨æ¶ æŒ‰ç…§æ­£å¸¸çš„æ–¹å¼åˆ›å»ºï¼Œä¸å‹¾é€‰Create from archetype\nè¾“å…¥Mavené¡¹ç›®åæ ‡åˆ›å»ºé¡¹ç›®\nåœ¨pom.xmlè®¾ç½®æ‰“åŒ…æ–¹å¼ä¸ºwar\n\u0026lt;project\u0026gt; \u0026lt;!-- ...... --\u0026gt; \u0026lt;groupId\u0026gt;......\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;.......\u0026lt;/artifactId\u0026gt; \u0026lt;vesion\u0026gt;.......\u0026lt;/vesion\u0026gt; \u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt; \u0026lt;!-- ...... --\u0026gt; \u0026lt;/project\u0026gt; è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±webappçš„ç›®å½•ç»“æ„\næ–‡ä»¶\u0026ndash;\u0026gt;é¡¹ç›®ç»“æ„\u0026ndash;\u0026gt;Facetä¸­æŒ‰+ç„¶åé€‰æ‹©Webï¼Œé€‰æ‹©å½“å‰é¡¹ç›®\nä¿®æ”¹webappç›®å½•ï¼Œå¹¶è¡¥é½Maven Webé¡¹ç›®ç¼ºå¤±WEB-INF/web.xmlçš„ç›®å½•ç»“æ„ï¼Œå³å¯å®Œæˆæ„å»º\nåœ¨IDEAä¸­ä½¿ç”¨Tomcat åœ¨IDEAä¸­é›†æˆä½¿ç”¨Tomcatæœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯é›†æˆæœ¬åœ°Tomcatå’ŒTomcat Mavenæ’ä»¶ã€‚\né›†æˆæœ¬åœ°Tomcat å³ä¸Šè§’ ç¼–è¾‘è¿è¡Œ/è°ƒè¯•é…ç½® å¯¹è¯æ¡†\u0026ndash;\u0026gt;ç¼–è¾‘é…ç½®\u0026ndash;\u0026gt;+\u0026ndash;\u0026gt;TomcatæœåŠ¡å™¨\u0026ndash;\u0026gt;æœ¬åœ° æŒ‡å®šæœ¬åœ°Tomcatçš„å…·ä½“è·¯å¾„ å°†å¼€å‘é¡¹ç›®éƒ¨ç½²é¡¹ç›®åˆ°Tomcatä¸­ xxx.war å’Œ xxx.war exploded è¿™ä¸¤ç§éƒ¨ç½²é¡¹ç›®æ¨¡å¼çš„åŒºåˆ«ï¼š\nwaræ¨¡å¼æ˜¯å°†WEBå·¥ç¨‹æ‰“æˆwaråŒ…ï¼ŒæŠŠwaråŒ…å‘å¸ƒåˆ°TomcatæœåŠ¡å™¨ä¸Š war explodedæ¨¡å¼æ˜¯å°†WEBå·¥ç¨‹ä»¥å½“å‰æ–‡ä»¶å¤¹çš„ä½ç½®å…³ç³»å‘å¸ƒåˆ°TomcatæœåŠ¡å™¨ä¸Š waræ¨¡å¼éƒ¨ç½²æˆåŠŸåï¼ŒTomcatçš„webappsç›®å½•ä¸‹ä¼šæœ‰éƒ¨ç½²çš„é¡¹ç›®å†…å®¹\nwar explodedæ¨¡å¼éƒ¨ç½²æˆåŠŸåï¼ŒTomcatçš„webappsç›®å½•ä¸‹æ²¡æœ‰ï¼Œè€Œä½¿ç”¨çš„æ˜¯é¡¹ç›®çš„targetç›®å½•ä¸‹çš„å†…å®¹è¿›è¡Œéƒ¨ç½²\nå»ºè®®é€‰waræ¨¡å¼è¿›è¡Œéƒ¨ç½²ï¼Œæ›´ç¬¦åˆé¡¹ç›®éƒ¨ç½²çš„å®é™…æƒ…å†µ\nTomcat Mavenæ’ä»¶ åœ¨pom.xmlä¸­æ·»åŠ Tomcatæ’ä»¶ï¼š\n\u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;!--Tomcatæ’ä»¶ --\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.tomcat.maven\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;tomcat7-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2\u0026lt;/version\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; ä½¿ç”¨Maven Helperæ’ä»¶å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼Œé€‰ä¸­é¡¹ç›®ï¼Œå³é”® \u0026ndash;\u0026gt;Run Maven \u0026ndash;\u0026gt; tomcat7:run\nå®‰è£…Maven Helperæ’ä»¶ï¼šFile \u0026ndash;\u0026gt; Settings \u0026ndash;\u0026gt; Plugins \u0026ndash;\u0026gt; Maven Helper \u0026mdash;\u0026gt; Installï¼Œé‡å¯IDEA\n","date":"2022å¹´9æœˆ10æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/tomcat-base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Tomcat","url":"/tags/tomcat/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1662768000,"title":"Tomcat"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"MyBatis ä»‹ç» MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œç”¨äºç®€åŒ– JDBC å¼€å‘ã€‚\næŒä¹…å±‚ï¼š\næ˜¯è´Ÿè´£å°†æ•°æ®åˆ°ä¿å­˜åˆ°æ•°æ®åº“çš„é‚£ä¸€å±‚ä»£ç ã€‚å³ï¼Œæ“ä½œæ•°æ®åº“çš„Javaä»£ç ä¸ºæŒä¹…å±‚ã€‚\nè€ŒMybatiså°±æ˜¯å¯¹JDBCä»£ç è¿›è¡Œäº†å°è£…ã€‚\næŒä¹…å±‚æ˜¯JavaEEä¸‰å±‚æ¶æ„ä¸­çš„ä¸€å±‚ã€‚\nJavaEEä¸‰å±‚æ¶æ„ï¼šè¡¨ç°å±‚ã€ä¸šåŠ¡å±‚ã€æŒä¹…å±‚ã€‚\næ¡†æ¶ï¼š\næ¡†æ¶å°±æ˜¯ä¸€ä¸ªåŠæˆå“è½¯ä»¶ï¼Œæ˜¯ä¸€å¥—å¯é‡ç”¨çš„ã€é€šç”¨çš„ã€è½¯ä»¶åŸºç¡€ä»£ç æ¨¡å‹ã€‚ ä½¿ç”¨æ¡†æ¶çš„å¥½å¤„ï¼šåœ¨æ¡†æ¶çš„åŸºç¡€ä¹‹ä¸Šæ„å»ºè½¯ä»¶ç¼–å†™æ›´åŠ é«˜æ•ˆã€è§„èŒƒã€é€šç”¨ã€å¯æ‰©å±•ã€‚ ä½¿ç”¨JDBCå­˜åœ¨ä»¥ä¸‹é—®é¢˜:\nç¡¬ç¼–ç \næ‰‹åŠ¨æ³¨å†Œé©±åŠ¨ã€è·å–è¿æ¥ã€SQLè¯­å¥ç­‰ã€‚\næ“ä½œç¹ç\næ‰‹åŠ¨è®¾ç½®å‚æ•°ã€å°è£…ç»“æœé›†ç­‰ã€‚\nä½¿ç”¨Mybatisï¼š\nç¡¬ç¼–ç å¯ä»¥é…ç½®åˆ°é…ç½®æ–‡ä»¶ã€‚ æ“ä½œç¹ççš„åœ°æ–¹Mybatiséƒ½è‡ªåŠ¨å®Œæˆã€‚ é…ç½® Mybatis ä½¿ç”¨Mavenå¯¼å…¥Mybatisã€‚\nåœ¨ pom.xml é…ç½®æ–‡ä»¶ä¸­å¯¼å…¥åæ ‡ï¼š\n\u0026lt;dependencies\u0026gt; \u0026lt;!--mybatis ä¾èµ–--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.5\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!--mysql é©±åŠ¨--\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-java\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;5.1.46\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;/dependencies\u0026gt; ç¼–å†™ mybatis-config.xml æ–‡ä»¶ï¼š\nåœ¨æ¨¡å—ä¸‹çš„ resources ç›®å½•ä¸‹åˆ›å»ºMybatisçš„é…ç½®æ–‡ä»¶ mybatis-config.xmlï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- éœ€è¦æ³¨æ„é…ç½®æ ‡ç­¾çš„å‰åé¡ºåº(æŒ‰ç…§MyBatiså®˜æ–¹æ–‡æ¡£ç›®å½•ä¸­çš„é¡ºåºå»å®šä¹‰) --\u0026gt; \u0026lt;!-- åˆ«åæˆ–åŒ…æ‰«æ --\u0026gt; \u0026lt;typeAliases\u0026gt; \u0026lt;!-- nameå±æ€§çš„å€¼æ˜¯å®ä½“ç±»æ‰€åœ¨åŒ… --\u0026gt; \u0026lt;!-- åŒ…æ‰«æå,åˆ«åé»˜è®¤ä¸ºç±»å(ä¸åŒºåˆ†å¤§å°å†™) --\u0026gt; \u0026lt;!-- ä½¿ç”¨åˆ«åå¯ä»¥ç®€åŒ–æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ resultType å±æ€§å€¼çš„ç¼–å†™ --\u0026gt; \u0026lt;package name=\u0026#34;package.name.pojo\u0026#34;/\u0026gt; \u0026lt;/typeAliases\u0026gt; \u0026lt;!-- environments:é…ç½®æ•°æ®åº“çš„è¿æ¥ç¯å¢ƒä¿¡æ¯, å¯ä»¥é…ç½®å¤šä¸ªenvironmentä¿¡æ¯, é€šè¿‡å¯¹åº”çš„defaultå±æ€§åˆ‡æ¢ä¸åŒçš„environment --\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;!-- å¯ä»¥é…ç½®å¤šä¸ª\u0026lt;environment\u0026gt; --\u0026gt; \u0026lt;!-- ä½¿ç”¨ id ç»™æ¯æ®µç¯å¢ƒèµ·å --\u0026gt; \u0026lt;!-- åœ¨ \u0026lt;environments\u0026gt; ä¸­ä½¿ç”¨ default=\u0026#39;environment-id\u0026#39; æ¥æŒ‡å®šä½¿ç”¨å“ªå„¿æ®µé…ç½® --\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®åº“è¿æ¥ä¿¡æ¯ æ³¨æ„urlã€usernameå’Œpassword --\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql:///mybatis1?useSSL=false\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;environment id=\u0026#34;test\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®åº“è¿æ¥ä¿¡æ¯ --\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql:///mybatis2?useSSL=false\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --\u0026gt; \u0026lt;!-- ...... --\u0026gt; \u0026lt;!-- åœ¨ä¸‹èŠ‚ä¸­è®²è§£ --\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt; æ›´å¤šMyBatisé…ç½®è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šMyBatisæ–‡æ¡£â€”â€”é…ç½®\nä½¿ç”¨ Mybatis ç¼–å†™ Mapperç±»\nåœ¨ java ç›®å½•ä¸‹åˆ›å»ºä¸ pojo å¯¹åº”çš„ Mapperæ¥å£ ClassNameMapper.javaï¼š\npublic interface ClassNameMapper { // æ–¹æ³• } ç¼–å†™ SQL æ˜ å°„æ–‡ä»¶\nåœ¨æ¨¡å—çš„ resources ç›®å½•ä¸‹åˆ›å»ºä¸ pojo å¯¹åº”çš„æ˜ å°„é…ç½®æ–‡ä»¶ ClassNameMapper.xmlï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;!-- namespace:åç§°ç©ºé—´ --\u0026gt; \u0026lt;mapper namespace=\u0026#34;package.name.mapper\u0026#34;\u0026gt; \u0026lt;!-- ç›¸åº”çš„SQLè¯­å¥ï¼ˆXMLæ˜ å°„ï¼‰ --\u0026gt; \u0026lt;/mapper\u0026gt; åœ¨Myb atisçš„é…ç½®æ–‡ä»¶ mybatis-config.xml ä¸­åŠ è½½æ˜ å°„æ–‡ä»¶ï¼š\nç›´æ¥åŠ è½½æ˜ å°„æ–‡ä»¶ï¼š \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;com/abc/mapper/ClassNameMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; ä½¿ç”¨è¿™ç§æ–¹å¼åŠ è½½æ˜ å°„æ–‡ä»¶ï¼Œå¤šä¸ªæ˜ å°„æ–‡ä»¶éœ€è¦å®šä¹‰å¤šä¸ª \u0026lt;mapper\u0026gt;ï¼Œè¿‡äºç¹çã€‚\nMapperä»£ç†æ–¹å¼ï¼ˆæ¨èï¼‰ï¼š å¦‚æœ Mapperæ¥å£åç§°å’ŒSQLæ˜ å°„æ–‡ä»¶åç§°ç›¸åŒï¼Œå¹¶åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŒ…æ‰«æçš„æ–¹å¼ç®€åŒ–SQLæ˜ å°„æ–‡ä»¶çš„åŠ è½½ã€‚\n\u0026lt;mappers\u0026gt; \u0026lt;package name=\u0026#34;com.abc.mapper\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; æ³¨æ„ï¼šä½¿ç”¨Mapperä»£ç†æ–¹å¼åŠ è½½æ˜ å°„æ–‡ä»¶ï¼ŒMapperæ¥å£ä¸å…¶å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œå®ƒä»¬çš„è·¯å¾„ï¼ˆåŒ…åï¼‰è¦ç›¸åŒã€‚\nå³ï¼Œåœ¨javaç›®å½•ä¸‹çš„ Mapperæ¥å£çš„åŒ…åï¼Œè¦å’Œæ˜ å°„é…ç½®æ–‡ä»¶åœ¨ resourcesä¸‹çš„è·¯å¾„è¦ä¸€è‡´ã€‚\nå¦‚ Mapperæ¥å£çš„åŒ…åä¸º com.abc.mapperï¼Œé‚£ä¹ˆå…¶æ˜ å°„é…ç½®æ–‡ä»¶çš„è·¯å¾„åˆ™ä¸º com/abc/mapperã€‚\näº†è§£ Mavené¡¹ç›®ç»“æ„ï¼Œè¯·æŸ¥çœ‹ï¼šMavenæ ‡å‡†åŒ–é¡¹ç›®ç»“æ„\nå®ä¾‹ åœ¨ Mapper æ¥å£ä¸­å®šä¹‰æ–¹æ³•ï¼Œæ–¹æ³•åå°±æ˜¯SQLæ˜ å°„æ–‡ä»¶ä¸­SQLè¯­å¥çš„idï¼Œå¹¶ä¿æŒå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸€è‡´ã€‚\nä¾‹å¦‚ï¼Œä¸º Userå¯¹è±¡å®šä¹‰ selectAll()å’Œ selectById()æ–¹æ³•ï¼š\nåˆ›å»º Userè¡¨:\nCREATE DATABASE mybatis; USE mybatis; DROP table IF EXISTS tb_user; CREATE table tb_user ( id INT PRIMARY KEY AUTO_INCREMENT, username VARCHAR(20), password VARCHAR(20), gender CHAR(1), addr VARCHAR(30) ); INSERT INTO tb_user VALUES (NULL, \u0026#39;zhangsan\u0026#39;, \u0026#39;123\u0026#39;, \u0026#39;ç”·\u0026#39;, \u0026#39;åŒ—äº¬\u0026#39;); INSERT INTO tb_user VALUES (NULL, \u0026#39;æå››\u0026#39;, \u0026#39;234\u0026#39;, \u0026#39;å¥³\u0026#39;, \u0026#39;å¤©æ´¥\u0026#39;); INSERT INTO tb_user VALUES (NULL, \u0026#39;ç‹äº”\u0026#39;, \u0026#39;11\u0026#39;, \u0026#39;ç”·\u0026#39;, \u0026#39;è¥¿å®‰\u0026#39;); pojoåŒ…ä¸‹å®šä¹‰ Userå®ä½“ç±»:\npackage com.linner.pojo; public class User { private Integer id; private String username; private String password; private String gender; private String addr; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public String getGender() { return gender; } public void setGender(String gender) { this.gender = gender; } public String getAddr() { return addr; } public void setAddr(String addr) { this.addr = addr; } @Override public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, username=\u0026#39;\u0026#34; + username + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, gender=\u0026#39;\u0026#34; + gender + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, addr=\u0026#39;\u0026#34; + addr + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } mapperåŒ…ä¸‹å®šä¹‰ UserMapper:\npackage com.linner.pojo; import com.linner.pojo.User; import org.apache.ibatis.annotations.Select; import java.util.List; public interface UserMapper { List\u0026lt;User\u0026gt; selectAll(); User selectById(int id); // æ›´å¤šæ“ä½œæ¥å£ } åœ¨ resourcesç›®å½•ä¸‹åˆ›å»ºä¸ UserMapperåŒ…åå¯¹åº”çš„è·¯å¾„ï¼Œå¹¶æ·»åŠ  UserMapper.xmlæ˜ å°„é…ç½®æ–‡ä»¶:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.linner.mapper.UserMapper\u0026#34;\u0026gt; \u0026lt;!-- selectè¯­å¥ä½¿ç”¨\u0026lt;select\u0026gt; id ä¸ºå¯¹åº”Mapperç±»ä¸­çš„æ–¹æ³•å resultType ä¸ºå¯¹åº”çš„å®ä½“ç±», ä½¿ç”¨äº†\u0026lt;typeAliases\u0026gt;åŒ…æ‰«æ, çœç•¥äº†åŒ…å --\u0026gt; \u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT * FROM tb_user; \u0026lt;/select\u0026gt; \u0026lt;select id=\u0026#34;selectById\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT * FROM tb_user WHERE id = #{id}; \u0026lt;/select\u0026gt; \u0026lt;!-- æ›´å¤šXMLæ˜ å°„ --\u0026gt; \u0026lt;/mapper\u0026gt; resourcesç›®å½•ä¸‹ï¼Œé…ç½® mybatis-config.xmlæ–‡ä»¶:\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- åˆ«åæˆ–åŒ…æ‰«æ --\u0026gt; \u0026lt;!-- ä½¿ç”¨åˆ«åå¯ä»¥ç®€åŒ–æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ resultType å±æ€§å€¼çš„ç¼–å†™ --\u0026gt; \u0026lt;typeAliases\u0026gt; \u0026lt;package name=\u0026#34;com.linner.pojo\u0026#34;/\u0026gt; \u0026lt;/typeAliases\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;!-- æ•°æ®åº“è¿æ¥ä¿¡æ¯ --\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql:///mybatis?useSSL=false\u0026amp;useServerPerpStmts=true\u0026amp;characterEncoding=UTF-8\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;!-- Mapperä»£ç†æ–¹å¼--\u0026gt; \u0026lt;package name=\u0026#34;com.linner.mapper\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt; ç¼–å†™æµ‹è¯•ç±»:\npackage com.linner.test; import com.linner.mapper.UserMapper; import com.linner.pojo.User; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.junit.Test; import java.io.IOException; import java.io.InputStream; import java.util.List; public class UserMapperTest { @Test public void testSelectAll() throws IOException { // 1. åŠ è½½mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶,è·å–SqlSessionFactory String resource = \u0026#34;./mybatis-config.xml\u0026#34;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // 2. è·å–SqlSessionå¯¹è±¡,ç”¨å®ƒæ¥æ‰§è¡ŒSQL SqlSession sqlSession = sqlSessionFactory.openSession(); // 3. æ‰§è¡Œsqlè¯­å¥ // 3.1 æ–¹å¼ä¸€: // List\u0026lt;User\u0026gt; users = sqlSession.selectList(\u0026#34;com.linner.mapper.UserMapper.selectAll\u0026#34;); // 3.2 æ–¹å¼äºŒ: // 3.2.1 è·å–UserMapperæ¥å£çš„ä»£ç†å¯¹è±¡ UserMapper userMapper = sqlSession.getMapper(UserMapper.class); // 3.2.2 æ‰§è¡Œå¯¹åº”Mapperå¯¹è±¡çš„æ–¹æ³• List\u0026lt;User\u0026gt; users = userMapper.selectAll(); // 4. å¤„ç†æ•°æ®(æ¨¡æ‹Ÿ) System.out.println(users); // 5. é‡Šæ”¾èµ„æº(ä»…éœ€é‡Šæ”¾SqlSessionå¯¹è±¡) sqlSession.close(); } @Test public void testSelectById() throws IOException { // æ¨¡æ‹Ÿæ¥æ”¶å‚æ•° int id = 1; // 1. è·å–sqlSessionFactory String resource = \u0026#34;./mybatis-config.xml\u0026#34;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); // 2. è·å–SqlSessionå¯¹è±¡ SqlSession sqlSession = sqlSessionFactory.openSession(); // 3. è·å–Mapperæ¥å£çš„ä»£ç†å¯¹è±¡ UserMapper userMapper = sqlSession.getMapper(UserMapper.class); // 4. æ‰§è¡Œæ–¹æ³• User user = userMapper.selectById(id); // 5. å¤„ç†æ•°æ®(æ¨¡æ‹Ÿ) System.out.println(user); // 6. é‡Šæ”¾èµ„æº sqlSession.close(); } } XML æ˜ å°„å™¨ é€šè¿‡åœ¨ XxxMapper.xml ä¸­ä½¿ç”¨å…ƒç´ æ¥å®šä¹‰å„ç§CRUDæ“ä½œã€‚\nå¸¸ç”¨çš„å…ƒç´ å¦‚ä¸‹ï¼ˆæŒ‰ç…§å®šä¹‰çš„é¡ºåºç»™å‡ºï¼‰ï¼š\n\u0026lt;sql\u0026gt; â€“ å¯è¢«å…¶å®ƒè¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚ \u0026lt;insert\u0026gt; â€“ æ˜ å°„æ’å…¥è¯­å¥ã€‚ \u0026lt;update\u0026gt; â€“ æ˜ å°„æ›´æ–°è¯­å¥ã€‚ \u0026lt;delete\u0026gt; â€“ æ˜ å°„åˆ é™¤è¯­å¥ã€‚ \u0026lt;select\u0026gt; â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥ã€‚ Select æŸ¥è¯¢æ‰€æœ‰æ•°æ® xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT * FROM tb_user \u0026lt;/select\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nList\u0026lt;User\u0026gt; selectAll(); idï¼šç›¸åº” Mapper æ¥å£ä¸­çš„æ–¹æ³•åã€‚ resultTypeï¼šç›¸åº” Mapper æ¥å£ä¸­çš„è¿”å›å€¼ç±»å‹ï¼ˆå¯è‡ªåŠ¨å°è£…ä¸ºå¯¹è±¡ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚ Mapper æ¥å£è¿”å›å€¼ï¼šè¿”å›ä¸€ä¸ªList\u0026lt;User\u0026gt;ã€‚è¿™ä¸ªè¿”å›å€¼å¯ä»¥æ˜¯Userã€List\u0026lt;User\u0026gt;æˆ–ArrayList\u0026lt;User\u0026gt;ç­‰ï¼ŒMyBatisä¼šæ ¹æ®è¿”å›å€¼è‡ªåŠ¨å°è£…ã€‚ æ ¹æ®idå­—æ®µæŸ¥è¯¢ xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;select id=\u0026#34;selectById\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT * FROM tb_user WHERE id = #{id}; \u0026lt;/select\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nUser selectById(int id); \u0026lt;select\u0026gt;ä¸­ï¼Œ#{id}ä¸ºç›¸åº” Mapper æ¥å£ä¸­çš„å‚æ•° idã€‚#{id}è¢«ç§°ä¸ºå‚æ•°å ä½ç¬¦ï¼Œç›¸å½“äºJDBCä¸­çš„?å ä½ç¬¦ã€‚\nå¤šæ¡ä»¶åŠ¨æ€æŸ¥è¯¢ xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;select id=\u0026#34;selectByCondition\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT * FROM tb_user \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;username != null and username != \u0026#39;\u0026#39; \u0026#34;\u0026gt; username = #{username} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;password != null and password != \u0026#39;\u0026#39; \u0026#34;\u0026gt; AND password = #{password} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null and gender != \u0026#39;\u0026#39; \u0026#34;\u0026gt; AND gender = #{gender} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;addr != null and addr != \u0026#39;\u0026#39; \u0026#34;\u0026gt; AND addr = #{addr} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; å¤šæ¡ä»¶æŸ¥è¯¢ä½¿ç”¨äº†åŠ¨æ€SQL\u0026lt;where\u0026gt;å’Œ\u0026lt;if\u0026gt;ã€‚å¦‚æœä»…éœ€æŸ¥è¯¢æŸéƒ¨åˆ†å­—æ®µï¼Œä»…ä»…ä½¿ç”¨SQLè¯­å¥åœ¨å®ç°ä¸Šæœ‰éš¾åº¦ã€‚è€ŒMybatiså°±æä¾›äº†åŠ¨æ€SQLæ–¹ä¾¿äº†æˆ‘ä»¬çš„å®ç°ã€‚\n\u0026lt;if\u0026gt;ï¼šèƒ½æ ¹æ®Userå¯¹è±¡çš„å€¼æ¥å†³å®šæ˜¯å¦åœ¨SQLè¯­å¥ä¸­åŠ å…¥å…¶åŒ…å«çš„è¯­å¥ã€‚\n\u0026lt;where\u0026gt;ï¼šåªä¼šåœ¨å­å…ƒç´ è¿”å›ä»»ä½•å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥WHEREå­å¥ã€‚\nè€Œä¸”ï¼Œè‹¥å­å¥çš„å¼€å¤´ä¸ºANDæˆ–ORï¼Œ\u0026lt;where\u0026gt;å…ƒç´ ä¹Ÿä¼šå°†å®ƒä»¬å»é™¤ã€‚\nå•æ¡ä»¶åŠ¨æ€æŸ¥è¯¢ xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;select id=\u0026#34;selectByConditionSingle\u0026#34; resultMap=\u0026#34;brandResultMap\u0026#34;\u0026gt; SELECT * FROM tb_brand \u0026lt;where\u0026gt;\u0026lt;!--ä½¿ç”¨whereæ ‡ç­¾ç¡®ä¿ä¸ä¼šå‡ºé”™--\u0026gt; \u0026lt;choose\u0026gt;\u0026lt;!--ç›¸å½“äºswitch--\u0026gt; \u0026lt;when test=\u0026#34;status != null\u0026#34;\u0026gt;\u0026lt;!--ç›¸å½“äºcase--\u0026gt; status = #{status} \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;companyName != null and companyName != \u0026#39;\u0026#39; \u0026#34;\u0026gt;\u0026lt;!--ç›¸å½“äºcase--\u0026gt; company_name like #{companyName} \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;brandName != null and brandName != \u0026#39;\u0026#39; \u0026#34;\u0026gt;\u0026lt;!--ç›¸å½“äºcase--\u0026gt; brand_name like #{brandName} \u0026lt;/when\u0026gt; \u0026lt;!--æ²¡æœ‰æ¡ä»¶è¾“å…¥å¾ˆå¯èƒ½ä¼šæŠ¥é”™,ä½¿ç”¨\u0026lt;otherwise\u0026gt;ä¿åº•--\u0026gt; \u0026lt;!--å¦‚æœæ²¡æœ‰ä½¿ç”¨\u0026lt;where\u0026gt;ï¼Œåˆ™å¿…é¡»ä½¿ç”¨\u0026lt;otherwise\u0026gt;--\u0026gt; \u0026lt;!--\u0026lt;otherwise\u0026gt; 1 = 1 \u0026lt;/otherwise\u0026gt;--\u0026gt; \u0026lt;/choose\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; å•æ¡ä»¶åŠ¨æ€æŸ¥è¯¢ä½¿ç”¨äº†\u0026lt;where\u0026gt;ã€\u0026lt;choose\u0026gt;ã€\u0026lt;when\u0026gt;å’Œ\u0026lt;otherwise\u0026gt;ï¼Œå®ƒä»¬éƒ½æ˜¯MyBatisæä¾›çš„åŠ¨æ€SQLå…ƒç´ ã€‚\n\u0026lt;choose\u0026gt;ä¸\u0026lt;when\u0026gt;ï¼ˆå¿…é¡»ï¼‰å’Œ\u0026lt;otherwise\u0026gt;å…ƒç´ é…åˆä½¿ç”¨ã€‚å®ƒä¼šæ ¹æ®å­å…ƒç´ \u0026lt;when\u0026gt;çš„testå±æ€§æ¥åˆ¤æ–­è¦é€‰æ‹©å“ªä¸ª\u0026lt;when\u0026gt;æˆ–\u0026lt;otherwise\u0026gt;å…ƒç´ ã€‚\nå¦‚æœ\u0026lt;choose\u0026gt;å¤–æ²¡æœ‰è¢«\u0026lt;where\u0026gt;åŒ…è£¹åˆ™å¿…é¡»ä½¿ç”¨\u0026lt;otherwise\u0026gt;æ¥åŒ…è£¹ä¸€ä¸ªæ°¸çœŸçš„æ¡ä»¶SQLè¯­å¥ï¼Œä»¥ç¡®ä¿SQLè¯­å¥ä¸ä¼šå‡ºé”™ã€‚å¦‚æœè¢«\u0026lt;where\u0026gt;åŒ…è£¹äº†ï¼Œ\u0026lt;where\u0026gt;ä¼šæ ¹æ®éœ€è¦åˆ¤æ–­æ˜¯å¦è¦æ·»åŠ WHEREå­å¥ã€‚\n\u0026lt;choose\u0026gt;ã€\u0026lt;when\u0026gt;å’Œ\u0026lt;otherwise\u0026gt;ä¸switchè¯­å¥çš„ä½œç”¨ååˆ†ç›¸ä¼¼ã€‚\nInsert xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;insert id=\u0026#34;add\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34;\u0026gt; INSERT INTO tb_user (username, password, ordered, gender, addr) VALUES (#{username}, #{password}, #{ordered}, #{gender}, #{addr}); \u0026lt;/insert\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nboolean add(User user); æ¥å£æ–¹æ³•ç›´æ¥ä¼ å…¥å¯¹è±¡å³å¯ï¼Œå¯¹è±¡æˆå‘˜è¦ä¸ VALUES å­å¥ä¸­çš„å‚æ•°ä¸€ä¸€å¯¹åº”ï¼ˆå‚æ•°ç¬¦å·ä¸­çš„åç§°è¦ä¸å¯¹è±¡çš„æˆå‘˜åç§°ç›¸åŒï¼‰ã€‚\nå¦‚æœXMLæ˜ å°„ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°çš„åç§°ä¸å¿…ä¸æ¥å£çš„å‚æ•°åç§°ç›¸åŒã€‚\nidï¼šå«ä¹‰ä¸ \u0026lt;insert\u0026gt; çš„å«ä¹‰ç›¸åŒï¼Œä¸ºç›¸åº” Mapper æ¥å£ä¸­çš„æ–¹æ³•åï¼ˆä»¥ä¸‹ idå‡ä¸ºæ­¤å«ä¹‰ï¼Œçœç•¥ï¼‰ã€‚\nuseGeneratedKeysï¼š\nå€¼ä¸º true æ—¶ï¼ŒMybatis ä¼šä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆå¦‚è‡ªå¢çš„ä¸»é”®ï¼‰ã€‚ é»˜è®¤ä¸º falseã€‚ keyPropertyï¼šgetGeneratedKeys è·å–åˆ°çš„ä¸»é”®å€¼æ‰€è¦èµ‹äºˆçš„å¯¹è±¡æˆå‘˜åã€‚MyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æ¥è®¾ç½®å®ƒçš„å€¼ã€‚\nå¦‚ï¼ŒkeyProperty=\u0026quot;id\u0026quot;â€”â€”ç›´æ¥å°†è·å–åˆ°çš„ä¸»é”®å€¼èµ‹å€¼ç»™ user.idã€‚\nå¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚\nMapper æ¥å£è¿”å›å€¼ï¼šbooleanï¼Œæ’å…¥æˆåŠŸè¿”å› trueï¼Œæ’å…¥å¤±è´¥è¿”å› falseã€‚\nè¿”å›å€¼ä¹Ÿå¯ä»¥é€‰æ‹©å¿½ç•¥ï¼Œå°†add()æ¥å£çš„è¿”å›å€¼è®¾ç½®ä¸ºvoidå³å¯ã€‚\nUpdate xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;update id=\u0026#34;update\u0026#34;\u0026gt; UPDATE tb_user \u0026lt;set\u0026gt; \u0026lt;if test=\u0026#34;username != null and username != \u0026#39;\u0026#39; \u0026#34;\u0026gt; username = #{username}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;password != null and password != \u0026#39;\u0026#39; \u0026#34;\u0026gt; password = #{password}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;ordered != null\u0026#34;\u0026gt; ordered = #{ordered}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;gender != null and (gender == \u0026#39;ç”·\u0026#39; or gender == \u0026#39;å¥³\u0026#39;)\u0026#34;\u0026gt; gender = #{gender}, \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;addr != null and addr != \u0026#39;\u0026#39;\u0026#34;\u0026gt; addr = #{addr} \u0026lt;/if\u0026gt; \u0026lt;/set\u0026gt; WHERE id = #{id}; \u0026lt;/update\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nint update(User user); åœ¨ \u0026lt;update\u0026gt; ä¸­æœ‰ä¸€äº›ç”¨ \u0026lt;set\u0026gt; åŒ…è£¹èµ·æ¥çš„ \u0026lt;if\u0026gt;ã€‚è¿™æ˜¯å› ä¸ºéœ€è¦ä½¿ç”¨ \u0026lt;set\u0026gt; åŠ¨æ€åŒ…å«éœ€è¦æ›´æ–°çš„åˆ—ï¼Œå¿½ç•¥å…¶å®ƒä¸æ›´æ–°çš„åˆ—ã€‚ä»è€Œèƒ½æ ¹æ®Userå¯¹è±¡çš„å€¼æ¥å†³å®šè¦æ›´æ–°å“ªäº›æ•°æ®ï¼Œå¹¶ä¸”åŠ¨æ€åœ°æ”¹å˜SQLè¯­å¥ã€‚\nUpdateçš„Mapperæ¥å£è¿”å›å€¼æ˜¯intç±»å‹ï¼Œè¿”å›æ›´æ–°çš„è¡Œæ•°ã€‚åŒæ ·å¯ä»¥å°†æ¥å£çš„è¿”å›å€¼è®¾ç½®ä¸ºvoidæ¥å¿½ç•¥å®ƒã€‚\nDelete åˆ é™¤å•è¡Œæ•°æ® xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;delete id=\u0026#34;deleteById\u0026#34;\u0026gt; DELETE FROM tb_user WHERE id = #{id}; \u0026lt;/delete\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nint deleteById(int id); åˆ é™¤å¤šè¡Œæ•°æ® xml é…ç½®æ–‡ä»¶ï¼š\n\u0026lt;delete id=\u0026#34;deleteByIds\u0026#34;\u0026gt; DELETE FROM tb_brand WHERE id IN \u0026lt;!-- \u0026lt;foreach\u0026gt;å‚æ•°: - item: ä»£è¡¨æ•°ç»„å‚æ•°ä¸­çš„æ¯ä¸ªå…ƒç´  - separator: åˆ†éš”ç¬¦ - open: æ’å…¥å¼€å§‹ç¬¦ - close: æ’å…¥ç»“æŸç¬¦ --\u0026gt; \u0026lt;foreach collection=\u0026#34;ids\u0026#34; item=\u0026#34;id\u0026#34; separator=\u0026#34;,\u0026#34; open=\u0026#34;(\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/delete\u0026gt; Mapper æ¥å£æ–¹æ³•ï¼š\nint deleteByIds(@Param(\u0026#34;ids\u0026#34;) int[] ids); Mybatisæä¾›äº† \u0026lt;foreach\u0026gt; æ ‡ç­¾éå†æ•°ç»„ï¼Œæ‹¼æ¥SQLè¯­å¥ã€‚\u0026lt;foreach\u0026gt; åŒæ ·ä¹Ÿæ˜¯åŠ¨æ€SQLã€‚\næ›´å¤šXMLæ˜ å°„å™¨è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šMyBatisæ–‡æ¡£â€”â€”XMLæ˜ å°„å™¨\nç»“æœæ˜ å°„ resultMap å‡è®¾SQLè¡¨ä¸­çš„å­—æ®µä¸å®ä½“ç±»çš„æˆå‘˜å˜é‡åæ— æ³•ä¸€ä¸€å¯¹åº”ï¼Œä¼šå¯¼è‡´SQLè¯­å¥çš„ä¼ å‚å‡ºç°é—®é¢˜ã€‚ä¾‹å¦‚ï¼š\nCREATE table tb_user ( user_id INT PRIMARY KEY AUTO_INCREMENT, user_name VARCHAR(20), user_password VARCHAR(20), user_gender CHAR(1), user_addr VARCHAR(30) ); public class User { private Integer id; private String username; private String password; private String gender; private String addr; // setter å’Œ getter // ... } é‚£ä¹ˆå¯ä»¥ä½¿ç”¨\u0026lt;resultMap\u0026gt;å…ƒç´ æ¥å¯¹è¡¨å­—æ®µå’Œæˆå‘˜ååšä¸€ä¸ªæ˜ å°„ï¼ˆç»“æœæ˜ å°„ï¼‰ï¼š\n\u0026lt;!-- \u0026lt;resultMap\u0026gt;: - id: å”¯ä¸€æ ‡è¯† - type: æ˜ å°„çš„ç±»å‹,æ”¯æŒåˆ«å --\u0026gt; \u0026lt;resultMap id=\u0026#34;userResultMap\u0026#34; type=\u0026#34;user\u0026#34;\u0026gt; \u0026lt;!-- ä¸¤ç§æ ‡ç­¾: - \u0026lt;id\u0026gt;: å®Œæˆä¸»é”®å­—æ®µçš„æ˜ å°„ - column: è¡¨çš„åˆ—å - property: å®ä½“ç±»çš„å±æ€§å - \u0026lt;result\u0026gt;: å®Œæˆä¸€èˆ¬å­—æ®µçš„æ˜ å°„ - column: è¡¨çš„åˆ—å - property: å®ä½“ç±»çš„å±æ€§å --\u0026gt; \u0026lt;id column=\u0026#34;user_id\u0026#34; property=\u0026#34;id\u0026#34;\u0026gt; \u0026lt;result column=\u0026#34;user_name\u0026#34; property=\u0026#34;userame\u0026#34;/\u0026gt; \u0026lt;result column=\u0026#34;user_password\u0026#34; property=\u0026#34;password\u0026#34;/\u0026gt; \u0026lt;result column=\u0026#34;user_gender\u0026#34; property=\u0026#34;gender\u0026#34;/\u0026gt; \u0026lt;result column=\u0026#34;user_addr\u0026#34; property=\u0026#34;addr\u0026#34;/\u0026gt; \u0026lt;/resultMap\u0026gt; \u0026lt;select id=\u0026#34;selectAll\u0026#34; resultMap=\u0026#34;userResultMap\u0026#34;\u0026gt; SELECT * FROM tb_user \u0026lt;/select\u0026gt; è¦ä½¿ç”¨ç»“æœæ˜ å°„ï¼Œéœ€è¦æŠŠ\u0026lt;select\u0026gt;ä¸­çš„resultTypeå±æ€§æ›¿æ¢ä¸ºresultMapï¼Œå¹¶ä¸”å…¶å±æ€§å€¼ä¸º\u0026lt;resultMap\u0026gt;çš„idå€¼ã€‚\nè‡ªåŠ¨æ˜ å°„ å½“è‡ªåŠ¨æ˜ å°„æŸ¥è¯¢ç»“æœæ—¶ï¼ŒMyBatis ä¼šè·å–ç»“æœä¸­è¿”å›çš„åˆ—åå¹¶åœ¨ Java ç±»ä¸­æŸ¥æ‰¾ç›¸åŒåå­—çš„å±æ€§ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚\næ¥ä¸ŠèŠ‚ä¾‹å­ï¼Œä½¿ç”¨SQLè¯­å¥çš„ AS æ¥å®ç°ï¼š\n\u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;user\u0026#34;\u0026gt; SELECT user_id AS \u0026#34;id\u0026#34;, user_name AS \u0026#34;username\u0026#34;, user_password AS \u0026#34;password\u0026#34;, user_gender AS gender, user_addr AS \u0026#34;addr\u0026#34; FROM tb_user \u0026lt;/select\u0026gt; é€šå¸¸æ•°æ®åº“åˆ—ä½¿ç”¨å¤§å†™å­—æ¯ç»„æˆçš„å•è¯å‘½åï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼›è€Œ Java å±æ€§ä¸€èˆ¬éµå¾ªé©¼å³°å‘½åæ³•çº¦å®šã€‚ä¸ºäº†åœ¨è¿™ä¸¤ç§å‘½åæ–¹å¼ä¹‹é—´å¯ç”¨è‡ªåŠ¨æ˜ å°„ï¼Œéœ€è¦å°† mapUnderscoreToCamelCase è®¾ç½®ä¸º trueã€‚\n\u0026lt;!-- é…ç½®mybatisè‡ªåŠ¨è½¬æ¢ä¸ºé©¼å³°å¼å‘½å --\u0026gt; \u0026lt;settings\u0026gt; \u0026lt;setting name=\u0026#34;mapUnderscoreToCamelCase\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; \u0026lt;/settings\u0026gt; \u0026lt;resultMap\u0026gt;å’Œè‡ªåŠ¨æ˜ å°„å¯ä»¥æ··ç”¨ã€‚\nå‚æ•° MyBatisæœ‰ä¸¤ç§å‚æ•°ï¼š\n#{p} â€”â€” ä¼šè‡ªåŠ¨è½¬ä¹‰ã€‚ ${p} â€”â€” ä¸ä¼šè‡ªåŠ¨è½¬ä¹‰ã€‚ å®˜æ–¹æ–‡æ¡£ï¼šMyBatisâ€”â€”XMLæ˜ å°„å™¨å‚æ•°\nMyBatis å‚æ•°å°è£…:\nå•ä¸ªå‚æ•°:\nPOJOç±»å‹: ç›´æ¥ä½¿ç”¨,ä¿è¯ å±æ€§å å’Œ å‚æ•°å ä½ç¬¦åç§° ä¸€è‡´\nMapç±»å‹: ç›´æ¥ä½¿ç”¨,ä¿è¯ é”®å å’Œ å‚æ•°å ä½ç¬¦åç§° ä¸€è‡´\nCollection: å°è£…ä¸ºMapé›†åˆ\nç›¸å½“äºï¼š\nmap.put(\u0026#34;arg0\u0026#34;, collectioné›†åˆ) map.put(\u0026#34;collection\u0026#34;, collectioné›†åˆ) ä½¿ç”¨@Paramæ³¨è§£ï¼Œæ›¿æ¢Mapé›†åˆä¸­é»˜è®¤çš„argé”®å List: å°è£…ä¸ºMapé›†åˆ\nç›¸å½“äºï¼š\nmap.put(\u0026#34;arg0\u0026#34;, listé›†åˆ) map.put(\u0026#34;collection\u0026#34;, listé›†åˆ) map.put(\u0026#34;list\u0026#34;, listé›†åˆ) ä½¿ç”¨@Paramæ³¨è§£,æ›¿æ¢Mapé›†åˆä¸­é»˜è®¤çš„argé”®å Array: å°è£…ä¸ºMapé›†åˆ\nç›¸å½“äºï¼š\nmap.put(\u0026#34;arg0\u0026#34;, æ•°ç»„) map.put(\u0026#34;array\u0026#34;, æ•°ç»„) ä½¿ç”¨@Paramæ³¨è§£,æ›¿æ¢Mapé›†åˆä¸­é»˜è®¤çš„argé”®å å…¶ä»–ç±»å‹: ç›´æ¥ä½¿ç”¨,ä¸”å ä½ç¬¦åç§°å’Œå‚æ•°åç§°å¯ä»¥ä¸ç›¸åŒ\nå¤šä¸ªå‚æ•°: å°è£…ä¸ºMapé›†åˆ\næ¯ä¸ªå‚æ•°æœ‰ä¸¤ä¸ªé”®:\nç›¸å½“äºï¼š\nmap.put(\u0026#34;arg0\u0026#34;, å‚æ•°å€¼1) map.put(\u0026#34;param1\u0026#34;, å‚æ•°å€¼1) map.put(\u0026#34;arg1\u0026#34;, å‚æ•°å€¼2) map.put(\u0026#34;param2\u0026#34;, å‚æ•°å€¼2) ä½¿ç”¨@Paramæ³¨è§£,æ›¿æ¢Mapé›†åˆä¸­é»˜è®¤çš„argé”®å:\nç›¸å½“äºï¼š\n@Param(\u0026#34;username\u0026#34;) å‚æ•°ç±»å‹ å‚æ•°å map.put(\u0026#34;username\u0026#34;, å‚æ•°å€¼1) map.put(\u0026#34;param1\u0026#34;, å‚æ•°å€¼1) ç¤ºä¾‹ï¼š\npublic interface UserMapper { User selectById(int id); List\u0026lt;User\u0026gt; selectByCondition( @Param(\u0026#34;username\u0026#34;) String username, @Param(\u0026#34;password\u0026#34;) String password); } æ³¨è§£å®ç°CRUD å¯¹äºç®€å•çš„SQLè¯­å¥æ¥è¯´ï¼Œä½¿ç”¨æ³¨è§£å¼€å‘ä¼šæ¯”é…ç½®æ–‡ä»¶å¼€å‘æ›´åŠ æ–¹ä¾¿ã€‚\n@Select(value = \u0026#34;SELECT * FROM tb_user WHERE id = #{id}\u0026#34;) User selectById(int id); æ³¨æ„ï¼šæ³¨è§£æ˜¯ç”¨æ¥æ›¿æ¢æ˜ å°„é…ç½®æ–‡ä»¶æ–¹å¼é…ç½®çš„ï¼Œæ‰€ä»¥ä½¿ç”¨äº†æ³¨è§£ï¼Œå°±ä¸éœ€è¦å†æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ä¹¦å†™å¯¹åº”çš„ statementã€‚\nMybatis é’ˆå¯¹ CURD æ“ä½œéƒ½æä¾›äº†å¯¹åº”çš„æ³¨è§£ï¼š\næŸ¥è¯¢ ï¼š@Select æ·»åŠ  ï¼š@Insert ä¿®æ”¹ ï¼š@Update åˆ é™¤ ï¼š@Delete æ³¨è§£é€‚åˆç”¨äºå®Œæˆç®€å•åŠŸèƒ½ï¼Œè€Œä½¿ç”¨é…ç½®æ–‡ä»¶æ¥å®Œæˆå¤æ‚åŠŸèƒ½ã€‚å¦‚æœä½¿ç”¨æ³¨è§£æ¥å®ŒæˆåŠ¨æ€SQLä¹‹ç±»çš„å¤æ‚åŠŸèƒ½ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°MyBatisæä¾›çš„SQLæ„å»ºå™¨æ¥å®Œæˆã€‚è¯¦æƒ…è¯·é˜…è¯»å®˜æ–¹SQLæ„å»ºå™¨æ–‡æ¡£ï¼šMyBatisæ–‡æ¡£â€”â€”SQLè¯­å¥æ„å»ºå™¨ã€‚\nåŠ¨æ€SQL åŠ¨æ€ SQL æ˜¯ MyBatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ã€‚\nMyBatisæä¾›çš„åŠ¨æ€SQLå…ƒç´ æœ‰ï¼š\n\u0026lt;if\u0026gt; \u0026lt;choose\u0026gt; (\u0026lt;when\u0026gt;, \u0026lt;otherwise\u0026gt;) \u0026lt;trim\u0026gt; (\u0026lt;where\u0026gt;, \u0026lt;set\u0026gt;) \u0026lt;foreach\u0026gt; æ›´å¤šä¸åŠ¨æ€SQLè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼šMyBatisæ–‡æ¡£â€”â€”åŠ¨æ€SQL\nSqlSessionFactoryå·¥å…·ç±»æŠ½å– MyBatisé‡å¤ä»£ç ä¼šé€ æˆä¸€äº›é—®é¢˜:\nä¸åˆ©äºåæœŸçš„ç»´æŠ¤ã€‚ SqlSessionFactoryå·¥å‚ç±»è¿›è¡Œé‡å¤åˆ›å»ºã€‚ å¯¹äºMybatisçš„åŸºç¡€æ“ä½œå‡ºç°çš„é‡å¤ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé™æ€ä»£ç å—æ¥è‡ªåŠ¨åŠ è½½ï¼š\npublic class SqlSessionFactoryUtils { private static SqlSessionFactory sqlSessionFactory; static { // é™æ€ä»£ç å—ä¼šéšç€ç±»çš„åŠ è½½è€Œè‡ªåŠ¨æ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ try { String resource = \u0026#34;mybatis-config.xml\u0026#34;; InputStream inputStream = Resources.getResourceAsStream(resource); sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); } catch (IOException e) { e.printStackTrace(); } } public static SqlSessionFactory getSqlSessionFactory(){ return sqlSessionFactory; } } å·¥å…·ç±»æŠ½å–ä»¥åï¼Œä»¥ååœ¨å¯¹Mybatisçš„SqlSessionè¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š\nSqlSessionFactory sf = SqlSessionFactoryUtils.getSqlSessionFactory(); ","date":"2022å¹´9æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/mybatis-base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1662422400,"title":"MyBatis"},{"authors":[],"categories":[],"content":"å¾®ä¿¡å…¬ä¼—å·â€”â€”é˜¿ç ç ”ç©¶ç¤¾ æ­å»ºç›®çš„ æ­å»ºè¿™ä¸ªåšå®¢ç½‘ç«™çš„æ­å»ºç›®çš„ä¸»è¦æœ‰ï¼š\nå±•ç¤ºä¸ªäººæŠ€æœ¯èƒ½åŠ›ã€‚\nçŸ¥è¯†æ•´ç†ä¸æ€»ç»“ã€‚\nç¼–å†™åšå®¢æ–‡ç« æœ‰åŠ©äºå¯¹æ‰€å­¦çŸ¥è¯†è¿›è¡Œæ•´ç†å’Œæ€»ç»“ã€‚åœ¨å†™ä½œçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ·±å…¥æ€è€ƒã€æ¢³ç†å’Œè¡¨è¾¾è‡ªå·±çš„è§‚ç‚¹ï¼Œè¿™æœ‰åŠ©äºåŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£å’Œè®°å¿†ï¼Œå¹¶æå‡è‡ªå·±çš„å­¦ä¹ æ•ˆæœã€‚\näº¤æµä¸åˆ†äº«ã€‚\né€šè¿‡åšå®¢æ–‡ç« ï¼Œåˆ†äº«ç»éªŒã€è§è§£å’Œè§£å†³æ–¹æ¡ˆã€‚\næ‹“å±•èŒä¸šå‘å±•æœºä¼šã€‚\nç½‘ç«™çš„æ­å»º æœ¬ç«™åŸºäºHugoåšå®¢æ¡†æ¶ï¼Œä½¿ç”¨hugo-theme-bootstrapä¸»é¢˜ã€‚\næœ¬ç«™çš„Markdownæ–‡æ¡£å’Œé…ç½®ç­‰å­˜æ”¾åœ¨https://gitee.com/linner_cheng/hugo-blog-siteã€‚\næœ¬ç«™åŸæœ¬éƒ¨ç½²äºGithub Pagesï¼Œä»“åº“åœ°å€ä¸ºhttps://github.com/Linna-cy/Linna-cy.github.ioã€‚ä½†ç”±äºGithubåœ¨å›½å†…è®¿é—®é€Ÿåº¦ä¸æ˜¯å¾ˆç†æƒ³ï¼Œåæ”¹ç”¨Netlifyéƒ¨ç½²ã€‚Netlifyçš„è®¿é—®é€Ÿåº¦ç›¸è¾ƒäºGithub Pagesæ¥è¯´å¥½ä¸€ç‚¹ã€‚\nç¼–è¾‘å·¥å…·ä½¿ç”¨çš„æ˜¯VS Codeã€‚å¦‚æœä½ ç†Ÿæ‚‰Markdownå’ŒHtmlç­‰è¯­è¨€çš„è¯­æ³•ï¼Œä½¿ç”¨VS Codeæ¥ç¼–è¾‘åšå®¢ç‰¹åˆ«çˆ½ï¼\nä¸ºä»€ä¹ˆä½¿ç”¨VS Codeï¼Ÿ\nåœ¨æˆ‘çš„ä¸ªäººç”µè„‘ä¸Šï¼Œæˆ‘å–œæ¬¢ä½¿ç”¨Dockeræ¥æ­å»ºä¸€äº›æœåŠ¡ï¼Œè¿™æ ·èƒ½è®©æˆ‘çš„ç”µè„‘å°½é‡å‡å°‘ä¸€äº›å› ä¸ºç¯å¢ƒå†²çªå¸¦æ¥çš„é”™è¯¯ã€‚æœ¬ç«™çš„æ­å»ºä¹Ÿæ˜¯åœ¨é€šè¿‡Dockerå®¹å™¨ä¸­å®‰è£…Hugoä»¥åŠGolangã€Node.jsç­‰è½¯ä»¶æ¥æ„å»ºã€‚ä½¿ç”¨VS Codeèƒ½è®©æˆ‘æ›´åŠ æ–¹ä¾¿åœ°è¿æ¥åˆ°Dockerå®¹å™¨ä¸­ï¼Œå¹¶ä¸”åœ¨VS Codeä¸Šç¼–è¾‘çš„ä½“éªŒè¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚\né€šå¸¸æ’°å†™åšå®¢æ—¶ï¼Œæˆ‘çš„å·¥ä½œç›®å½•å’Œåšå®¢ç›®å½•æ˜¯ä¸ä¸€è‡´çš„ã€‚æˆ‘çš„å·¥ä½œç›®å½•æ˜¯åœ¨åšå®¢ç›®å½•çš„contentç›®å½•ä¹‹ä¸‹ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯èƒ½è®©æˆ‘æ›´åŠ ä¸“æ³¨äºå†…å®¹çš„æ’°å†™ã€‚å½“æˆ‘è¦ç¼–å†™ä¸€ç¯‡åšæ–‡æ—¶ï¼Œä¸ä¼šå› ä¸ºå…¶å®ƒä¸ç›¸å…³çš„ç›®å½•æ¥å¹²æ‰°æˆ‘ã€‚ä½†æ˜¯ç”±äºå·¥ä½œç›®å½•ä¸åšå®¢ç›®å½•ä¸ä¸€è‡´ï¼Œæ‰€ä»¥åœ¨é¢„è§ˆç½‘ç«™æ•ˆæœæˆ–è€…å‘å¸ƒå†…å®¹çš„æ—¶å€™éœ€è¦ç»å¸¸cdåˆ°ä¸Šå±‚ç›®å½•ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘åœ¨å·¥ä½œç›®å½•é‡Œé¢ç¼–å†™äº†ä¸¤ä¸ªè„šæœ¬æ–‡ä»¶hugo.shå’Œgit.shæ¥ç®€åŒ–æˆ‘çš„å·¥ä½œæµç¨‹ã€‚\nç½‘ç«™å‰èº« æ—§ç‰ˆå·²ç»åœæ­¢æ›´æ–°ï¼Œç‚¹å‡»å›¾ç‰‡å¯è®¿é—®ï¼š\nå…³äºæœ¬ç½‘ç«™çš„ä»»ä½•é—®é¢˜æˆ–è€…å…³äºæ–‡ç« çš„ä»»ä½•è§è§£ï¼Œå¯ä»¥åœ¨æ–‡ç« ä¸‹æ–¹è¯„è®ºç•™è¨€ï¼›æˆ–è€…ç‚¹å‡»è”ç³»æˆ‘ï¼Œæäº¤æ‚¨çš„å»ºè®®ã€‚\n","date":"2022å¹´9æœˆ2æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/about/","series":[],"smallImg":"","tags":[],"timestamp":1662134699,"title":"å…³äºæˆ‘"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"é›†åˆçš„æ¦‚å¿µ A set is a group of objects. (simplest way) By a set we mean any collection M into a whole of definite disinct objects m (which we called elements of M) of our perception or thought. (Cantor\u0026rsquo;s way) é›†åˆï¼ˆsetï¼‰æ˜¯ç”± \u0026lt;u\u0026gt;æŒ‡å®šèŒƒå›´ \u0026lt;/u\u0026gt;å†…çš„ \u0026lt;u\u0026gt;æ»¡è¶³ç»™å®šæ¡ä»¶çš„æ‰€æœ‰å¯¹è±¡ \u0026lt;/u\u0026gt;èšé›†åœ¨ä¸€èµ·æ„æˆçš„ï¼ŒæŒ‡å®šèŒƒå›´å†…çš„æ¯ä¸€ä¸ªå¯¹è±¡ç§°ä¸ºè¿™ä¸ªé›†åˆçš„å…ƒç´ ï¼ˆelementï¼‰ã€‚\né›†åˆä¸­çš„å…ƒç´ æ˜¯æ— åºçš„ã€‚ é›†åˆä¸­çš„å…ƒç´ æ˜¯ä¸åŒçš„ï¼ˆå³ï¼ŒåŒä¸ªé›†åˆä¸­ç›¸åŒæˆ–é‡å¤çš„å…ƒç´ è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚ é€šå¸¸æƒ…å†µä¸‹ï¼Œ\nç”¨å¸¦ï¼ˆæˆ–ä¸å¸¦ï¼‰ä¸‹æ ‡çš„ \u0026lt;u\u0026gt;å¤§å†™ \u0026lt;/u\u0026gt;è‹±æ–‡å­—æ¯è¡¨ç¤º \u0026lt;u\u0026gt;é›†åˆ \u0026lt;/u\u0026gt;ï¼š$A,B,C,\\dots,A_1,B_1,C_1,\\dots$ ç”¨å¸¦ï¼ˆæˆ–ä¸å¸¦ï¼‰ä¸‹æ ‡çš„ \u0026lt;u\u0026gt;å°å†™ \u0026lt;/u\u0026gt;è‹±æ–‡å­—æ¯è¡¨ç¤º \u0026lt;u\u0026gt;å…ƒç´  \u0026lt;/u\u0026gt;ï¼š$a,b,c,\\dots,a_1,b_1,c_1,\\dots$ ZFC å…¬ç†åŒ–é›†åˆè®ºï¼š\nå¤–å»¶å…¬ç†ï¼Œ ç©ºé›†å­˜åœ¨å…¬ç†ï¼Œ æ— åºå¯¹å…¬ç†ï¼Œ å¹¶é›†å…¬ç†ï¼Œ å¹‚é›†å…¬ç†ï¼Œ æ— ç©·å…¬ç†ï¼Œ æ›¿æ¢å…¬ç†ï¼Œ æ­£åˆ™å…¬ç†ï¼Œ é€‰æ‹©å…¬ç†ã€‚ å¸¸è§çš„é›†åˆ ç©ºé›† $\\emptyset$ï¼› æ­£æ•´æ•°é›† $\\mathbf{N^+}$ or $\\mathbf{W}$ï¼š$1,2,3,\\cdots$ è‡ªç„¶æ•°é›† $\\mathbf{N}$ï¼š$0,1,2,3,\\cdots$ æ•´æ•°é›† $\\mathbf{Z}$ï¼š$\\cdots,-2,-1,0,1,2,\\cdots$ è´¨æ•°/ç´ æ•°é›† $\\mathbf{P}$ï¼š$2,3,5,7,\\cdots$ æœ‰ç†æ•°é›† $\\mathbf{Q}$ï¼› æ— ç†æ•°é›† $\\mathbf{I}$ï¼› å®æ•°é›† $\\mathbf{R}$ï¼› å¤æ•°é›† $\\mathbf{C}$ï¼› $\\cdots\\cdots$ å…³ç³»ï¼š\n$$ \\mathbf{W} \\subseteq \\mathbf{N} \\subseteq \\mathbf{Z} \\subseteq \\mathbf{Q} \\subseteq \\mathbf{R} \\subseteq \\mathbf{C} $$\né›†åˆçš„è¡¨ç¤ºæ–¹æ³• æšä¸¾æ³• æšä¸¾æ³•åˆç§°åˆ—ä¸¾æ³•æˆ–æ˜¾ç¤ºæ³•ï¼Œæ˜¯æšä¸¾å‡ºé›†åˆä¸­çš„æ‰€æœ‰æˆ–éƒ¨åˆ†å…ƒç´ ï¼ˆè¦èƒ½çœ‹å‡ºå…¶ä»–å…ƒç´ ä¹‹é—´çš„è§„å¾‹ï¼‰ã€‚\nExampleï¼š\næšä¸¾å‡ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š$A = {a,b,c,d}$ï¼› æšä¸¾å‡ºé›†åˆä¸­çš„éƒ¨åˆ†å…ƒç´ ï¼š$B = {1,3,5,\\cdots,2n+1,\\cdots}$ã€‚ å™è¿°æ³• å™è¿°æ³•åˆç§°éšå¼æ³•ï¼Œæ˜¯é€šè¿‡åˆ»ç”»ï¼ˆæˆ–ç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼‰é›†åˆä¸­å…ƒç´ æ‰€å…·å¤‡çš„æŸç§ç‰¹æ€§æ¥è¡¨ç¤ºé›†åˆçš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨ç¬¦å· $P(x)$ æ¥è¡¨ç¤ºä¸åŒå¯¹è±¡ $x$ æ‰€å…·æœ‰çš„æ€§è´¨ $P$ ï¼Œç”± $P(x)$ æ‰€å®šä¹‰çš„é›†åˆå¸¸è®°ä¸º\n$$ {x|P(x)}ã€‚ $$\næ–‡æ°å›¾ æ–‡æ°å›¾ï¼ˆVenn diagramï¼‰åˆå«ç»´æ©å›¾ï¼Œç”¨äºå±•ç¤ºé›†åˆæˆ–ç±»ä¹‹é—´çš„å¤§è‡´å…³ç³»ã€‚\nä¸€èˆ¬ç”¨æ–¹å‘è¡¨ç¤ºå…¨é›†ï¼Œç”¨åœ†å½¢è¡¨ç¤ºæŸä¸€ç‰¹å®šé›†åˆã€‚\né€’å½’æŒ‡å®šé›†åˆæ³• é€’å½’æŒ‡å®šé›†åˆæ³•æ˜¯æŒ‡é€šè¿‡è®¡ç®—è§„åˆ™å®šä¹‰é›†åˆä¸­çš„å…ƒç´ çš„æ–¹æ³•ã€‚\nExampleï¼š\nè®¾ $a_0 = 1$ï¼Œ$a_{i+1}=2a_i(i \\ge 0)$ï¼Œå®šä¹‰ $S={a_0,a_1,\\cdots,a_n,\\cdots}={a_k|k\\ge0}$ï¼Œå¯ä»¥å¾—å‡ºé›†åˆ $S$ ä¸º\n$$ S={1,2,2^2,\\cdots,2^n,\\cdots}ã€‚ $$\nå½’çº³æ³• æŒ‡å‡ºé›†åˆè‡³å°‘è¦åŒ…å«çš„å…ƒç´ \nç¬¬ä¸€éƒ¨åˆ†ï¼šåŸºç¡€ï¼ŒæŒ‡å‡ºæŸäº›æœ€ \u0026lt;u\u0026gt;åŸºæœ¬å…ƒç´  \u0026lt;/u\u0026gt;å±äºæŸé›†åˆï¼› ç¬¬äºŒéƒ¨åˆ†ï¼šå½’çº³ï¼ŒæŒ‡å‡º \u0026lt;u\u0026gt;ç”±åŸºæœ¬å…ƒç´ æ„é€ æ–°å…ƒç´ çš„æ–¹æ³• \u0026lt;/u\u0026gt;ï¼› æŒ‡å‡ºé›†åˆè‡³å¤šè¦åŒ…å«çš„å…ƒç´ \nç¬¬ä¸‰éƒ¨åˆ†ï¼šæå°æ€§ï¼ŒæŒ‡å‡ºè¯¥ \u0026lt;u\u0026gt;é›†åˆçš„ç•Œé™ \u0026lt;/u\u0026gt;ã€‚ åŸºæ•° Definitionï¼š\né›†åˆ $A$ ä¸­çš„å…ƒç´ ä¸ªæ•°ç§°ä¸ºé›†åˆçš„åŸºæ•°ï¼ˆbase numberï¼‰ï¼Œè®°ä¸º $|A|$ã€‚\nå¯¹äºä»»æ„é›†åˆ $A$ æ¥è¯´ï¼Œ\nè‹¥ $|A|$ æ˜¯ \u0026lt;u\u0026gt;æœ‰é™çš„ \u0026lt;/u\u0026gt;ï¼Œç§°è¯¥é›†åˆä¸ºæœ‰é™é›†ï¼ˆfinite setï¼‰ï¼› è‹¥ $|A|$ æ˜¯ \u0026lt;u\u0026gt;æ— é™çš„ \u0026lt;/u\u0026gt;ï¼Œç§°è¯¥é›†åˆä¸ºæ— é™é›†ï¼ˆinfinite setï¼‰ã€‚ é›†åˆä¸å…ƒç´ çš„å…³ç³» å…ƒç´ ä¸é›†åˆä¹‹é—´æœ‰ä¸¤ç§å…³ç³»ï¼š\nå±äºï¼šå¦‚ â€œ$a$ æ˜¯é›†åˆ $A$ ä¸­çš„å…ƒç´ â€ æˆ– â€œ$a$ å±äº $A$ â€ è®°ä¸º\n$$ a \\in Aã€‚ $$\nä¸å±äºï¼šå¦‚ â€œ$a$ ä¸æ˜¯æ˜¯é›†åˆ $A$ ä¸­çš„å…ƒç´ â€ æˆ– â€œ$a$ ä¸å±äº $A$â€ è®°ä¸º\n$$ a \\notin Aã€‚ $$\né›†åˆä¸é›†åˆçš„å…³ç³» å¤–å»¶æ€§åŸç† Theoremï¼š\nä¸¤ä¸ªé›†åˆ $A$ å’Œ $B$ ç›¸ç­‰ï¼Œå½“ä¸”ä»…å½“å®ƒä»¬çš„å…ƒç´ å®Œå…¨ç›¸åŒï¼Œè®°ä¸º $A\\ =\\ B$ï¼Œå¦åˆ™ $A$ å’Œ $B$ ä¸ç›¸ç­‰ï¼Œè®°ä¸º $A\\ \\neq\\ B$ã€‚\nåŒ…å«å…³ç³» Definitionsï¼š\nè®¾ $A$ï¼Œ$B$ æ˜¯ä»»æ„ä¸¤ä¸ªé›†åˆï¼Œ\nåŒ…å«ä¸ä¸åŒ…å«ï¼šå¦‚æœ $B$ çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ $A$ ä¸­çš„å…ƒç´ ï¼Œåˆ™ç§° $B$ æ˜¯ $A$ çš„å­é›†ï¼ˆsubsetï¼‰ï¼Œä¹Ÿç§° ${B}$ è¢« ${A}$ åŒ…å«æˆ– ${A}$ åŒ…å« ${B}$ï¼Œè®°ä½œ ${B \\subseteq A}$ æˆ– $A \\supseteq B$ï¼Œç§° $\\subseteq$ æˆ– $\\supseteq$ ä¸ºè¢«åŒ…å«å…³ç³»ï¼ˆincluded relationï¼‰æˆ–åŒ…å«å…³ç³»ï¼ˆinclusion relationï¼‰ï¼›å¦åˆ™è®°ä½œ ${B \\nsubseteq A}$ã€‚\nâ€œ$\\subseteq$â€ å®šä¹‰çš„æ•°å­¦è¯­è¨€æè¿°ä¸ºï¼š\n$$ B \\subseteq A\n\\Longleftrightarrow\\ \\forall xï¼Œ å¦‚æœ x \\subseteq Bï¼Œ åˆ™ x \\subseteq Aã€‚ $$\nç”±å­é›†çš„å®šä¹‰å¯æ¨å‡º $A \\subseteq A$ã€‚\nçœŸåŒ…å«ï¼šå¦‚æœ $B \\subseteq A$ å¹¶ä¸” $A \\neq B$ï¼Œåˆ™ç§° $B$ æ˜¯ $A$ çš„çœŸå­é›†ï¼ˆproper subsetï¼‰ï¼Œä¹Ÿç§°åš ${B}$ è¢« ${A}$ çœŸåŒ…å«æˆ– ${A}$ çœŸåŒ…å« ${B}$ï¼Œè®°ä½œ ${B \\subset A}$ï¼Œç§° $\\subset$ ä¸ºçœŸåŒ…å«å…³ç³»ï¼ˆproperly inclusion relationï¼‰ã€‚\nâ€œ$\\subset$â€ å®šä¹‰çš„æ•°å­¦è¯­è¨€æè¿°ä¸ºï¼š\n$$ B \\subset A \\Longleftrightarrow å¯¹ \\forall xï¼Œè‹¥ x \\in Bï¼Œåˆ™ x \\in Aï¼Œå¹¶ä¸” \\exists y \\in Aï¼Œä½† y \\notin Bã€‚ $$\nç›¸ç­‰å…³ç³» Theoremï¼š\nè®¾ $A$ï¼Œ$B$ ä¸ºä»»æ„ä¸¤ä¸ªé›†åˆï¼Œåˆ™ ${A\\ =\\ B}\\ \\Longleftrightarrow\\ {A \\subseteq B}$ å¹¶ä¸” ${B \\subseteq A}$ã€‚\nå¸¸è§ç‰¹æ®Šçš„é›†åˆ ç©ºé›† Definitionï¼š\nä¸å«ä»»ä½•å…ƒç´ çš„é›†åˆå«åšç©ºé›†ï¼ˆempty setï¼‰ï¼Œè®°ä½œ $\\emptyset$ã€‚\n$$ \\emptyset = {x|x \\neq x} $$\nç©ºé›†æ˜¯ä¸€åˆ‡é›†åˆçš„å­é›†ã€‚ ç©ºé›†æ˜¯ç»å¯¹å”¯ä¸€çš„ã€‚ Exampleï¼š\n$|\\emptyset| = 0$ï¼Œ $|{\\emptyset}| = 1$ã€‚ è¯æ˜ç©ºé›†æ˜¯ç»å¯¹å”¯ä¸€çš„ å¯¹ â€œå”¯ä¸€æ€§â€ çš„è¯æ˜é€šå¸¸é‡‡ç”¨åè¯æ³•ï¼ˆå…ˆå‡è®¾ â€œä¸å”¯ä¸€â€ï¼Œå¾—å‡ºçŸ›ç›¾ï¼Œä»è€Œè¯æ˜ â€œå”¯ä¸€æ€§â€ æ˜¯æ­£ç¡®çš„ï¼‰ã€‚\nè¯æ˜ï¼š\nå‡è®¾æœ‰ä¸¤ä¸ªä¸åŒçš„ç©ºé›† $\\emptyset_1$ å’Œ $\\emptyset_2$ ï¼Œç”±ç©ºé›†æ˜¯ä¸€åˆ‡é›†åˆçš„å­é›†å¾—\n$$ \\empty_1 \\subseteq \\emptyset_2\\ å’Œ\\ \\emptyset_2 \\subseteq \\emptyset_1 $$\næ ¹æ®é›†åˆçš„ç›¸ç­‰å…³ç³»ï¼Œå¾— $\\emptyset_1 = \\emptyset_2$ï¼Œä¸å‡è®¾çŸ›ç›¾ã€‚å› æ­¤ç©ºé›†æ˜¯ç»å¯¹å”¯ä¸€çš„ã€‚\nå…¨é›† Definitionï¼š\nåœ¨ä¸€ä¸ªç›¸å¯¹å›ºå®šçš„èŒƒå›´å†…ï¼ŒåŒ…å«æ­¤èŒƒå›´å†…æ‰€æœ‰å…ƒç´ çš„é›†åˆï¼Œç§°ä¸ºå…¨é›†æˆ–è®ºé›†ï¼ˆuniversal setï¼‰ï¼Œç”¨ $U$ æˆ– $E$ è¡¨ç¤ºã€‚\nåœ¨ç»´æ©å›¾ä¸­ä¸€èˆ¬ç”¨æ–¹å½¢è¡¨ç¤ºå…¨é›†ã€‚\nå…¨é›†æ˜¯ç›¸å¯¹å”¯ä¸€çš„ã€‚\nm å…ƒå­é›† Definitionï¼š\nå¦‚æœä¸€ä¸ªé›†åˆå«æœ‰ $n$ ä¸ªå…ƒç´ ï¼Œåˆ™ç§°é›†åˆ $A$ ä¸º $n$ å…ƒå­é›†ï¼Œç§°å«æœ‰ $A$ ä¸­ $m(0 \\le m \\le n)$ä¸ªå…ƒç´ çš„å­é›†ä¸ºå®ƒçš„ $m$ å…ƒå­é›†ã€‚\nå¯¹äºä»»æ„ $n$ å…ƒé›†åˆ $A$ï¼Œå®ƒçš„ $m$ å…ƒï¼ˆ$0 \\le m \\le n$ï¼‰å­é›†ï¼ˆåŒ…å«ç©ºé›†ï¼‰ä¸ªæ•°ä¸º $C_n^m$ ä¸ªï¼Œæ‰€ä»¥ä¸åŒçš„å­é›†ä¸ªæ•°ä¸ºï¼š\n$$ C_n^0 + C_n^1 + \\cdots + C_n^n = (1 + 1)^n = 2^nã€‚ \\tag{1} $$\nå¹‚é›† Definitionï¼š\nè®¾ $A$ ä¸ºä»»æ„é›†åˆï¼ŒæŠŠ $A$ çš„æ‰€æœ‰ä¸åŒå­é›†æ„æˆçš„é›†åˆå«åš $A$ çš„å¹‚é›†ï¼ˆpower setï¼‰ï¼Œè®°ä½œ $P(A)$ï¼Œå³\n$$ P(A)\\ =\\ {x|x \\subseteq A}ã€‚ $$\nç”±å…¬å¼ $(1)$ å¯å¾— $|A| = 2^n(n=|A|)$ã€‚\nå¹‚é›†ä¹Ÿå«åšé›†æ—ï¼ˆfamily of setï¼‰æˆ–é›†åˆçš„é›†åˆã€‚\nå¯¹é›†æ—çš„ç ”ç©¶åœ¨æ•°å­¦æ–¹é¢ã€çŸ¥è¯†åº“å’Œè¡¨å¤„ç†è¯­è¨€ä»¥åŠäººå·¥æ™ºèƒ½ç­‰æ–¹é¢éƒ½æœ‰ååˆ†é‡è¦çš„æ„ä¹‰ã€‚\né›†åˆçš„è¿ç®— é›†åˆè¿ç®—çš„å®šä¹‰ Definitionï¼š\nè®¾ $U$ æ˜¯å…¨é›†ï¼Œ$A$ã€$B$ æ˜¯ $U$ çš„ä¸¤ä¸ªå­é›†ï¼Œåˆ™\nâ€œ$\\cup$â€ å¹¶è¿ç®—ï¼ˆunion operationï¼‰ï¼š$A \\cup B = {x|x \\in A\\ or\\ x \\in B}$ æ˜¯ $A$ ä¸ $B$ çš„å¹¶é›†ï¼ˆunionï¼‰ã€‚\nå¹¶é›†å¯ä»£è¡¨ä¸¤ä¸ªé›†åˆ â€œç›¸åŠ â€ã€‚\nâ€œ$\\cap$â€ äº¤è¿ç®—ï¼ˆintersection operationï¼‰ï¼š$A \\cap B = {x|x \\in A\\ and\\ B}$ æ˜¯ $A$ ä¸ $B$ çš„äº¤é›†ï¼ˆintersectionï¼‰ã€‚\nâ€œ$\\overline{A}$â€ è¡¥è¿ç®—ï¼ˆcomplement operationï¼‰ï¼š$\\overline{A} = U - A$ æ˜¯é›†åˆ $A$ çš„è¡¥é›†ï¼ˆcomplementï¼‰ï¼ˆä¹Ÿå¯è®°ä¸º $A\u0026rsquo;$ã€$~A$ã€$A^c$ ç­‰ï¼‰ã€‚$A$ å¯¹äºå…¨é›† $U$ çš„è¡¥é›†æ˜¯ç»å¯¹è¡¥é›†ã€‚\nâ€œ$-$â€ å·®è¿ç®—ï¼ˆsubtraction operationï¼‰ï¼š$A-B={x|x \\in A\\ and\\ x \\notin B} = A \\cap \\overline{B}$ æ˜¯ $A$ ä¸ $B$ çš„å·®é›†ï¼ˆsubtraction)ï¼Œåˆç§° $B$ åœ¨ $A$ ä¸­çš„ç›¸å¯¹è¡¥é›†ã€‚\nå½“ $A=U$ æ—¶ï¼Œ$A-B=\\overline{B}$ã€‚\nâ€œ$\\oplus$â€ å¯¹ç§°å·®è¿ç®—ï¼ˆsymmetric difference operationï¼‰ï¼š$A \\oplus B = {x|(x \\in A\\ and\\ x \\notin B)\\ or\\ (x\\in B\\ and\\ x \\notin A} = (A-B) \\cup (B-A)$ æ˜¯ $A$ ä¸ $B$ çš„å¯¹ç§°å·®é›†ï¼ˆsymmetric difference of setï¼‰ã€‚\næ‰©å±•ï¼š\nè®¾ $A_1,A_2,\\cdots,A_n$ æ˜¯ä»»æ„ $n$ ä¸ªé›†åˆï¼Œåˆ™\nè¿™ $\\mathbf n$ ä¸ªé›†åˆçš„å¹¶é›†æ˜¯åŒ…å«é‚£äº›è‡³å°‘æ˜¯è¿™ç»„é›†åˆä¸­ä¸€ä¸ªé›†åˆæˆå‘˜çš„å…ƒç´ çš„é›†åˆï¼Œå³\n$$ \\displaystyle \\bigcup_{i=1}^{n}{A_i} = A_1 \\cup A_2 \\cup \\cdots \\cup A_n = {x|x \\in A_1\\ or\\ x \\in A_2 \\cdots or\\ x \\in A_n} $$\nè¿™ $\\mathbf n$ ä¸ªé›†åˆçš„äº¤é›†æ˜¯é‚£äº›å±äºè¿™ç»„é›†åˆä¸­æ‰€æœ‰é›†åˆæˆå‘˜çš„å…ƒç´ çš„é›†åˆï¼Œå³\n$$ \\displaystyle \\bigcap_{i=1}^{n}{A_i} = A_1 \\cap A_2 \\cap \\cdots \\cap A_n = {x|x \\in A_1\\ and\\ x \\in A_2 \\cdots and\\ x \\in A_n} $$\nå½“ $n$ æ— é™å¢å¤§æ—¶ï¼Œå¯è®°ä¸º\n$\\displaystyle \\bigcup^{\\infin}_{i=1}A_i = A_1 \\cup A_2 \\cup \\cdots$ $\\displaystyle \\bigcap^{\\infin}_{i=1}A_i = A_1 \\cap A_2 \\cap \\cdots$ é›†åˆè¿ç®—çš„åŸºæœ¬ç­‰å¼ è®¾ $U$ ä¸ºå…¨é›†ï¼Œ$A$ï¼Œ$B$ï¼Œ$C$ ä¸ºä»»æ„é›†åˆï¼Œ\nç­‰å¼ æ€§è´¨ $A \\cup A = A$\n$A \\cap A = A$ å¹‚ç­‰ç‡ $A \\cup B = B \\cup A$\n$A \\cap B = B \\cap A$ äº¤æ¢å¾‹ $A \\cup (B \\cup C) = (A \\cup B) \\cup C$\n$A \\cap (B \\cap C) = (A \\cap B) \\cap C$ ç»“åˆå¾‹ $A \\cup \\emptyset = A$\n$A \\cap U = A$ åŒä¸€å¾‹ $A \\cup U = U$\n$A \\cap \\emptyset = \\emptyset$ é›¶å¾‹ $A \\cup (B \\cap C) = (A \\cup B) \\cap (A \\cup C)$\n$A \\cap (B \\cup C) = (A \\cap B) \\cup (A \\cap C)$ åˆ†é…å¾‹ $A \\cup (A \\cap B) = A$\n$A \\cap (A \\cup B)$ å¸æ”¶å¾‹ $\\overline{A} \\cap A = \\emptyset$ çŸ›ç›¾å¾‹ $\\overline{A} \\cup A = U$ æ’ä¸­å¾‹ $\\overline{\\overline{A}}=A$ åŒé‡å¦å®šå¾‹ $\\overline{A \\cup B} = \\overline{A} \\cap \\overline{B}$\n$\\overline{A \\cap B} = \\overline{A}$ å¾·æ‘©æ ¹å¾‹ Exampleï¼š\nè¯æ˜å¾·æ‘©æ ¹å¾‹çš„ç­‰å¼ä¹‹ä¸€ï¼š$\\overline{A \\cup B} = \\overline{A} \\cap \\overline{B}$\nè¯æ˜ï¼š\nè¯æ˜ $\\overline{A \\cup B} \\subseteq \\overline{A} \\cap \\overline{B}$\n$\\begin{aligned} \\forall x \\in \\overline{A \\cup B} \\quad \u0026amp; \\Rightarrow\\ x \\notin A \\cup B\\ \\Rightarrow\\ x \\notin A\\ and\\ x \\notin B\\ \u0026amp; \\Rightarrow x \\in \\overline{A}\\ and\\ x \\in \\overline{B}\\ \\Rightarrow\\ x \\in \\overline{A} \\cap \\overline{B}ï¼Œ \\end{aligned}$\nå³ $\\overline{A \\cup B} \\subseteq \\overline{A} \\cap \\overline{B}$ï¼›\nè¯æ˜ $\\overline{A} \\cap \\overline{B} \\subseteq \\overline{A \\cup B}$\n$\\begin{aligned} \\forall x \\in \\overline{A} \\cap \\overline{B} \\quad \u0026amp; \\Rightarrow\\ x \\in \\overline{A}\\ and\\ x \\in \\overline{B}\\ \\Rightarrow\\ x \\notin A\\ and\\ x \\notin B\\ \u0026amp; \\Rightarrow\\ x \\notin A \\cup B\\ \\Rightarrow\\ x \\in \\overline{A} \\cap \\overline{B}ï¼Œ \\end{aligned}$\nå³ $\\overline{A} \\cap \\overline{B} \\subseteq \\overline{A \\cup B}$ã€‚\nç»¼ä¸Šå¯å¾— $\\overline{A \\cup B} = \\overline{A} \\cap \\overline{B}$ã€‚\næ— é™é›†åˆ æœ‰é™é›†åˆä¸æ— é™é›†åˆçš„æ ¹æœ¬åŒºåˆ«æ˜¯ï¼šå¯¹äºæ— é™é›†åˆï¼Œè¡¨é¢ä¸Šä¸ªæ•°å®Œå…¨ä¸ç›¸ç­‰çš„ä¸¤ä¸ªé›†åˆä¹‹é—´ä»å¯èƒ½å­˜åœ¨ç­‰åŠ¿å…³ç³»ï¼Œå¦‚é›†åˆä¸çœŸå­é›†ä¹‹é—´ã€‚\nç­‰åŠ¿ å†¯Â·è¯ºä¾æ›¼çš„è‡ªç„¶æ•°å®šä¹‰ï¼š\nåŸºäºåŸºæ•°ï¼Œåˆ©ç”¨ä¸€ä¸ªé›†åˆçš„åºåˆ—æ¥å®šä¹‰è‡ªç„¶æ•°ã€‚\n$\\emptyset \\in \\mathbf{N}$ï¼› è‹¥ $n \\in \\mathbf{N}$ï¼Œåˆ™ $n\u0026rsquo; \\equiv n \\cup {n} \\in \\mathbf{N}$ã€‚ ä»è€Œï¼Œè¿™ä¸ª \u0026lt;u\u0026gt;é›†åˆåºåˆ—çš„åŸºæ•° \u0026lt;/u\u0026gt;å¯ä»¥æ¥å®šä¹‰è‡ªç„¶æ•°ï¼š\n$0 \\equiv \\emptyset$ï¼› $1 \\equiv \\emptyset \\cup {\\emptyset} = {\\emptyset} = {0}$ï¼› $2 \\equiv {\\emptyset} \\cup {{\\emptyset}} = {\\emptyset, {\\emptyset}} = {0,1}$ï¼› $\\cdots$ $n \\equiv {0,1,2,3,\\cdots,n-1}$ï¼› $\\cdots$ $\\mathbf{N} \\equiv {0,1,2,\\cdots,n,\\cdots}$ã€‚ å®é™…ä¸Šï¼Œä»»æ„å«æœ‰ $n$ ä¸ªå…ƒç´ çš„é›†åˆéƒ½å¯ä»¥ç”¨ $n$ è¡¨ç¤ºã€‚å³ï¼Œä»»æ„ä¸¤ä¸ªåŸºæ•°ç›¸åŒçš„é›†åˆä¹‹é—´éƒ½å¯ä»¥å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚\nDefinitionï¼š\nè®¾ $A$ï¼Œ$B$ ä¸ºä¸¤ä¸ªé›†åˆï¼Œè‹¥åœ¨ $A$ï¼Œ$B$ ä¹‹é—´å­˜åœ¨ä¸€ç§ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼š\n$$ \\Psi:\\ A \\rightarrow B $$\nåˆ™ç§° $A$ ä¸ $B$ æ˜¯ç­‰åŠ¿çš„ï¼ˆequipotentialï¼‰ï¼Œè®°ä½œï¼š\n$$ A \\sim B $$\nä¹Ÿç§°é›†åˆ $A$ã€$B$ ç­‰åŠ¿ï¼ˆequipotentï¼‰ã€‚\nç”±ç­‰åŠ¿å®šä¹‰å¯å¾—ï¼Œå¦‚æœ $A = B$ï¼Œé‚£ä¹ˆ $A \\sim B$ï¼Œåä¹‹åˆ™ä¸ä¸€å®šæˆç«‹ã€‚\nTheoremï¼š\nä¸¤ä¸ªæœ‰é™é›†åˆç­‰å¼å½“ä¸”ä»…å½“å®ƒä»¬æœ‰ç›¸åŒçš„å…ƒç´ ä¸ªæ•°ã€‚ æœ‰é™é›†åˆä¸å’Œå…¶ä»»ä½•çœŸå­é›†ç­‰åŠ¿ã€‚ \u0026lt;u\u0026gt;å¯æ•°é›†åˆå¯ä»¥ä¸å…¶å¯æ•°çš„çœŸå­é›†ç­‰åŠ¿ \u0026lt;/u\u0026gt;ã€‚ å¯æ•°é›†åˆ Definitionï¼š\nå‡¡ä¸è‡ªç„¶æ•°é›†åˆ $\\mathbf{N}$ ç­‰åŠ¿çš„é›†åˆï¼Œç§°ä¹‹ä¸ºå¯æ•°é›†åˆï¼ˆcountable setï¼‰ï¼Œè¯¥ç±»é›†åˆçš„åŸºæ•°è®°ä¸º $\\aleph_0$ï¼ˆalephï¼Œé˜¿åˆ—å¤«ï¼‰ã€‚\nExampleï¼š\nè¯æ˜ä»¥ä¸‹é›†åˆæ˜¯å¯æ•°é›†åˆï¼Œ\n$O^+ = {x|x \\in \\mathbf{N}ï¼Œxæ˜¯æ­£å¥‡æ•°}$\nåœ¨ $O^+$ ä¸ $\\mathbf{N}$ ä¹‹é—´å»ºç«‹ä¸€ä¸ªä¸€ä¸€å¯¹åº”å…³ç³» $\\varphi_1 : \\mathbf{N} \\rightarrow O^+$ï¼š\n$$ \\begin{matrix} 0\u0026amp; 1\u0026amp; 2\u0026amp; \\cdots\u0026amp; n\u0026amp; \\cdots\\ \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\\ 1\u0026amp; 3\u0026amp; 5\u0026amp; \\cdots\u0026amp; 2n+1\u0026amp; \\cdots\u0026amp;\\ \\end{matrix} $$\næ‰€ä»¥ $O^+$ æ˜¯å¯æ•°é›†åˆã€‚\n$P = {x|x \\in \\mathbf{N}ï¼Œxæ˜¯ç´ æ•°}$\nåœ¨ $P$ ä¸ $\\mathbf{N}$ ä¹‹é—´å»ºç«‹ä¸€ä¸ªä¸€ä¸€å¯¹åº”å…³ç³» $\\varphi_2 : \\mathbf{N} \\rightarrow P$ï¼š\n$$ \\begin{matrix} 0\u0026amp; 1\u0026amp; 2\u0026amp; 3\u0026amp; 4\u0026amp; \\cdots\\ \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\u0026amp; \\downarrow\\ 2\u0026amp; 3\u0026amp; 5\u0026amp; 7\u0026amp; 11\u0026amp; \\cdots\u0026amp;\\ \\end{matrix} $$\næ‰€ä»¥ $P$ æ˜¯å¯æ•°é›†åˆã€‚\næœ‰ç†æ•°é›†åˆ $\\mathbf{Q}$\nå°† $\\mathbf{Q}$ ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å†™æˆ $p/q$ï¼ˆ$p$ã€$q$ æ˜¯æ•´æ•°ï¼Œä¸” $q \\neq 0$ï¼‰çš„å½¢å¼ï¼Œä» $0/1^{[0]}$ å¼€å§‹ï¼Œå°†æ‰€æœ‰æœ‰ç†æ•°ä¸è‡ªç„¶æ•°ä¸€ä¸€é…å¯¹ï¼ˆå…¶ä¸­ $p/q^{[n]}$ çš„ä¸Šæ ‡ $[n]$ ä»£è¡¨å¯¹åº”äºè¯¥æœ‰ç†æ•°çš„è‡ªç„¶æ•°ï¼‰ï¼š\næ‰€ä»¥ $\\mathbf{Q}$ æ˜¯å¯æ•°é›†åˆã€‚\nä¸å¯æ•°é›†åˆ Definitionï¼š\nå¼€åŒºé—´ $(0,1)$ ç§°ä¸ºä¸å¯æ•°é›†åˆï¼Œå‡¡ä¸å¼€åŒºé—´ $(0,1)$ ç­‰åŠ¿çš„é›†åˆï¼Œéƒ½ç§°ä¸ºä¸å¯æ•°é›†åˆï¼Œè¯¥ç±»é›†åˆçš„åŸºæ•°è®°ä¸º $\\aleph$ï¼ˆæˆ– $\\aleph_1$ï¼‰ã€‚\nExampleï¼š\né—­åŒºé—´ $[0,1]$ æ˜¯ä¸å¯æ•°é›†åˆã€‚\nè¯æ˜ï¼šåœ¨ $[0,1]$ å’Œ $(0,1)$ ä¹‹é—´å»ºç«‹å¦‚ä¸‹å¯¹åº”å…³ç³»ï¼š\n$$ R: \\begin{cases} \\begin{matrix} 0\u0026amp; \\rightarrow\u0026amp; 1/4 \\ 1\u0026amp; \\rightarrow\u0026amp; 1/2 \\ \\cfrac{1}{2^n}\u0026amp; \\rightarrow\u0026amp; \\cfrac{1}{2^{n+2}},\u0026amp; n=1,2,3,\\cdots \\ n\u0026amp; \\rightarrow\u0026amp; n,\u0026amp; å…¶ä»– n \\in (0,1)\\ \\end{matrix} \\end{cases} $$\næ˜¾ç„¶ $[0,1]$ ä¸ $(0,1)$ æ˜¯ç­‰åŠ¿çš„ï¼Œæ‰€ä»¥ $[0,1]$ æ˜¯ä¸å¯æ•°é›†åˆã€‚\nå®æ•°é›† $\\mathbf R$ æ˜¯ä¸å¯æ•°é›†åˆã€‚\nè¯æ˜ï¼šåœ¨å®æ•°é›† $\\mathbf R$ å’Œå¼€åŒºé—´ $(0,1)$ ä¹‹é—´å»ºç«‹å¦‚ä¸‹å¯¹åº”å…³ç³»ï¼š\n$$ n \\rightarrow \\tan{\\pi\\bigg(\\cfrac{2n-1}{2}\\bigg)} $$\næ˜¾ç„¶ $(0,1)$ ä¸ $\\mathbf{R}$ ä¹‹é—´æ˜¯ç­‰åŠ¿çš„ï¼Œæ‰€ä»¥ $\\mathbf{R}$ æ˜¯ä¸€ä¸ªä¸å¯æ•°é›†åˆã€‚\n","date":"2022å¹´9æœˆ2æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/09/%E9%9B%86%E5%90%88%E8%AE%BA/","series":[],"smallImg":"","tags":[{"title":"æ•°å­¦","url":"/tags/%E6%95%B0%E5%AD%A6/"}],"timestamp":1662093821,"title":"é›†åˆè®º"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ•°æ®åº“è¿æ¥æ±  æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨, è´Ÿè´£åˆ†é…, ç®¡ç†æ•°æ®åº“è¿æ¥ (Connection).\næ•°æ®åº“è¿æ¥æ± å…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥, è€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ª. ä»è€Œå‡å°‘èµ„æºæµªè´¹.\næ•°æ®åº“è¿æ¥æ± ä¼šè‡ªåŠ¨é‡Šæ”¾è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„æ•°æ®åº“è¿æ¥ (å¼ºåˆ¶é‡Šæ”¾), æ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾æ•°æ®åº“è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼.\nä½¿ç”¨æ•°æ®åº“è¿æ¥æ± çš„å¥½å¤„:\nèµ„æºå¯ä»¥é‡ç”¨ æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ é¿å…æ•°æ®åº“è¿æ¥é—æ¼ åœ¨é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨JDBC, æœ‰å¯èƒ½ä¼šåå¤åœ°åˆ›å»ºå’Œé”€æ¯ Connectionå¯¹è±¡. è¿™æ ·é‡å¤åˆ›å»ºé”€æ¯çš„è¿‡ç¨‹ç‰¹åˆ«è€—è´¹è®¡ç®—æœºçš„æ€§èƒ½å’Œæ—¶é—´.\nè€Œæ•°æ®åº“ä½¿ç”¨äº†æ•°æ®åº“è¿æ¥æ± åï¼Œå°±èƒ½è¾¾åˆ°Connectionå¯¹è±¡çš„å¤ç”¨.\nè¿æ¥æ± æ˜¯åœ¨ä¸€å¼€å§‹å°±åˆ›å»ºå¥½äº†ä¸€äº›è¿æ¥ (Connection) å¯¹è±¡å­˜å‚¨èµ·æ¥. ç”¨æˆ·éœ€è¦è¿æ¥æ•°æ®åº“æ—¶, ä¸éœ€è¦è‡ªå·±åˆ›å»ºè¿æ¥, è€Œåªéœ€è¦ä»è¿æ¥æ± ä¸­è·å–ä¸€ä¸ªè¿æ¥è¿›è¡Œä½¿ç”¨, ä½¿ç”¨å®Œæ¯•åå†å°†è¿æ¥å¯¹è±¡å½’è¿˜ç»™è¿æ¥æ± ; è¿™æ ·å°±å¯ä»¥èµ·åˆ°èµ„æºé‡ç”¨, ä¹ŸèŠ‚çœäº†é¢‘ç¹åˆ›å»ºè¿æ¥é”€æ¯è¿æ¥æ‰€èŠ±è´¹çš„æ—¶é—´, ä»è€Œæå‡äº†ç³»ç»Ÿå“åº”çš„é€Ÿåº¦.\nå¸¸è§çš„æ•°æ®åº“è¿æ¥æ± æœ‰:\nDBCP C3P0 Druid Druid é…ç½® Druid ä¸‹è½½Druid jaråŒ…, å¹¶å¯¼å…¥:\nåœ¨é¡¹ç›®ä¸­, å°†ä¸‹è½½å¥½çš„jaråŒ…æ”¾å…¥é¡¹ç›®çš„ libç›®å½•ä¸­.\nç„¶åç‚¹å‡»é¼ æ ‡å³é”®\u0026ndash;\u0026gt;Add as Library (æ·»åŠ ä¸ºåº“). åœ¨æ·»åŠ ä¸ºåº“æ–‡ä»¶çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹ä¸‰ä¸ªé€‰é¡¹: Global Library: å…¨å±€æœ‰æ•ˆ\nProject Library: é¡¹ç›®æœ‰æ•ˆ\nModule Library: æ¨¡å—æœ‰æ•ˆ\né€‰æ‹©Module Library.\nåœ¨é¡¹ç›®ç›®å½•ä¸‹å®šä¹‰Druidé…ç½®æ–‡ä»¶ druid.properties:\ndriverClassName=com.mysql.jdbc.Driver url=jdbc:mysql:///db1?useSSL=false\u0026amp;useServerPrepStmts=true username=root password=1234 # åˆå§‹åŒ–è¿æ¥æ•°é‡ initialSize=5 # æœ€å¤§è¿æ¥æ•° maxActive=10 # æœ€å¤§ç­‰å¾…æ—¶é—´ maxWait=3000 åŠ è½½é…ç½®æ–‡ä»¶:\nProperties prop = new Properties(); prop.load(new FileInputStream(\u0026#34;demo/src/druid.properties\u0026#34;)); ä½¿ç”¨ Druid Javaä¸­ä»æ•°æ®åº“è¿æ¥æ± è·å–è¿æ¥å¯¹è±¡, ä½¿ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„æ•°æ®åº“è¿æ¥æ± æ ‡å‡†æ¥å£, ç”±ç¬¬ä¸‰æ–¹ç»„ç»‡å®ç°æ­¤æ¥å£. è¯¥æ¥å£æä¾›äº†è·å–è¿æ¥çš„åŠŸèƒ½:\nConnection getConnection() throws SQLException å› æ­¤, ä½¿ç”¨Druidè·å–æ•°æ®åº“è¿æ¥è¿˜éœ€è¦ä»¥ä¸‹ä¸¤æ­¥:\nè·å–æ•°æ®åº“è¿æ¥æ± å¯¹è±¡:\nDataSource dataSource = DruidDataSourceFactory.createDataSource(prop); ä»æ•°æ®åº“è¿æ¥æ± ä¸­è·å–è¿æ¥ (Connection):\nConnection connection = dataSource.getConnection(); æ“ä½œå®ä¾‹ éœ€æ±‚åˆ†æ å®Œæˆå•†å“å“ç‰Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œ\næŸ¥è¯¢ï¼šæŸ¥è¯¢æ‰€æœ‰æ•°æ® æ·»åŠ ï¼šæ·»åŠ å“ç‰Œ ä¿®æ”¹ï¼šæ ¹æ®idä¿®æ”¹ åˆ é™¤ï¼šæ ¹æ®idåˆ é™¤ ç¯å¢ƒå‡†å¤‡ åˆ›å»ºæ•°æ®åº“è¡¨:\n-- åˆ é™¤tb_brandè¡¨ DROP TABLE IF EXISTS tb_brand; -- åˆ›å»ºtb_brandè¡¨ CREATE TABLE tb_brand ( id INT PRIMARY KEY AUTO_INCREMENT, -- id ä¸»é”® brand_name VARCHAR(20), -- å“ç‰Œåç§° company_name VARCHAR(20), -- ä¼ä¸šåç§° ordered INT, -- æ’åºå­—æ®µ description VARCHAR(100), -- æè¿°ä¿¡æ¯ status INT -- çŠ¶æ€ï¼š0ï¼šç¦ç”¨ 1ï¼šå¯ç”¨ ); -- æ·»åŠ æ•°æ® INSERT INTO tb_brand (brand_name, company_name, ordered, description, status) VALUES (\u0026#39;ä¸‰åªæ¾é¼ \u0026#39;, \u0026#39;ä¸‰åªæ¾é¼ è‚¡ä»½æœ‰é™å…¬å¸\u0026#39;, 5, \u0026#39;å¥½åƒä¸ä¸Šç«\u0026#39;, 0), (\u0026#39;åä¸º\u0026#39;, \u0026#39;åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸\u0026#39;, 100, \u0026#39;åä¸ºè‡´åŠ›äºæŠŠæ•°å­—ä¸–ç•Œå¸¦å…¥æ¯ä¸ªäººã€æ¯ä¸ªå®¶åº­ã€æ¯ä¸ªç»„ç»‡ï¼Œæ„å»ºä¸‡ç‰©äº’è”çš„æ™ºèƒ½ä¸–ç•Œ\u0026#39;, 1), (\u0026#39;å°ç±³\u0026#39;, \u0026#39;å°ç±³ç§‘æŠ€æœ‰é™å…¬å¸\u0026#39;, 50, \u0026#39;are you ok\u0026#39;, 1); åˆ›å»º pojoåŒ…, å¹¶åœ¨åŒ…ä¸­æ·»åŠ  Brandå®ä½“ç±»:\npackage pojo; /** * å“ç‰Œ */ public class Brand { private Integer id; // id ä¸»é”® private String brandName; // å“ç‰Œåç§° private String companyName; // ä¼ä¸šåç§° private Integer ordered; // æ’åºå­—æ®µ private String description; // æè¿°ä¿¡æ¯ private Integer status; // çŠ¶æ€ï¼š0ï¼šç¦ç”¨ 1ï¼šå¯ç”¨ public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getBrandName() { return brandName; } public void setBrandName(String brandName) { this.brandName = brandName; } public String getCompanyName() { return companyName; } public void setCompanyName(String companyName) { this.companyName = companyName; } public Integer getOrdered() { return ordered; } public void setOrdered(Integer ordered) { this.ordered = ordered; } public String getDescription() { return description; } public void setDescription(String description) { this.description = description; } public Integer getStatus() { return status; } public void setStatus(Integer status) { this.status = status; } @Override public String toString() { return \u0026#34;Brand{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, brandName=\u0026#39;\u0026#34; + brandName + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, companyName=\u0026#39;\u0026#34; + companyName + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, ordered=\u0026#34; + ordered + \u0026#34;, description=\u0026#39;\u0026#34; + description + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, status=\u0026#34; + status + \u0026#39;}\u0026#39;; } } å®ç°æ“ä½œ package dao; import pojo.Brand; import com.alibaba.druid.pool.DruidDataSourceFactory; import javax.sql.DataSource; import java.io.FileInputStream; import java.sql.*; import java.util.ArrayList; import java.util.Properties; /** * å“ç‰Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œ */ public class BrandDAO { private static DataSource dataSource; // è·å–Connection: static { try { // - å¯¼å…¥jaråŒ… \u0026amp; å®šä¹‰é…ç½®æ–‡ä»¶ // - åŠ è½½é…ç½®æ–‡ä»¶ Properties prop = new Properties(); prop.load(new FileInputStream(\u0026#34;demo/src/druid.properties\u0026#34;)); // - è·å–è¿æ¥æ± å¯¹è±¡ dataSource = DruidDataSourceFactory.createDataSource(prop); } catch (Exception e) { e.printStackTrace(); } } /** * æŸ¥è¯¢æ‰€æœ‰ * 1. SQL: SELECT * FROM tb_brand * 2. å‚æ•°: ä¸éœ€è¦ * 3. ç»“æœ: ArrayList\u0026lt;Brand\u0026gt; */ public ArrayList\u0026lt;Brand\u0026gt; selectAll() throws Exception{ // 1. è·å–æ•°æ®åº“è¿æ¥Connection Connection conn = dataSource.getConnection(); // *2. å®šä¹‰SQL String sql = \u0026#34;SELECT * FROM tb_brand\u0026#34;; // 3. è·å–pstmtå¯¹è±¡ PreparedStatement pstmt = conn.prepareStatement(sql); // *4. è®¾ç½®å‚æ•° // 5. æ‰§è¡ŒSQL ResultSet rs = pstmt.executeQuery(); // *6. å¤„ç†ç»“æœ: ArrayList\u0026lt;Brand\u0026gt; Brand brand = null; ArrayList\u0026lt;Brand\u0026gt; brands = new ArrayList\u0026lt;\u0026gt;(); // - éå†ç»“æœé›† while (rs.next()) { // 1. è·å–æ•°æ® int id = rs.getInt(\u0026#34;id\u0026#34;); String brandName = rs.getString(\u0026#34;brand_name\u0026#34;); String companyName = rs.getString(\u0026#34;company_name\u0026#34;); int ordered = rs.getInt(\u0026#34;ordered\u0026#34;); String description = rs.getString(\u0026#34;description\u0026#34;); int status = rs.getInt(\u0026#34;status\u0026#34;); // 2. å°è£…Brandå¯¹è±¡ brand = new Brand(); brand.setId(id); brand.setCompanyName(companyName); brand.setOrdered(ordered); brand.setDescription(description); brand.setStatus(status); // 3. è£…è½½ArrayListé›†åˆ brands.add(brand); } // 7. é‡Šæ”¾èµ„æº rs.close(); pstmt.close(); conn.close(); // 8. è¿”å›ç»“æœ return brands; } /** * æ·»åŠ  * 1. SQL: INSERT INTO tb_brand( brand_name, company_name, ordered, description, status) VALUES(?,?,?,?,?) * 2. å‚æ•°: é™¤äº†idä¹‹å¤–çš„æ‰€æœ‰å‚æ•°ä¿¡æ¯ * 3. ç»“æœ: boolean */ public boolean add(Brand brand) throws Exception{ // 1. è·å–æ•°æ®åº“è¿æ¥Connection Connection conn = dataSource.getConnection(); // *2. å®šä¹‰SQL String sql = \u0026#34;\u0026#34;\u0026#34; INSERT INTO tb_brand( brand_name, company_name, ordered, description, status) VALUES(?,?,?,?,?)\u0026#34;\u0026#34;\u0026#34;; // 3. è·å–pstmtå¯¹è±¡ PreparedStatement pstmt = conn.prepareStatement(sql); // *4. è®¾ç½®å‚æ•° pstmt.setString(1, brand.getBrandName()); pstmt.setString(2, brand.getCompanyName()); pstmt.setInt(3, brand.getOrdered()); pstmt.setString(4, brand.getDescription()); pstmt.setInt(5, brand.getStatus()); // 5. æ‰§è¡ŒSQL int count = pstmt.executeUpdate(); // è¿”å›å½±å“çš„è¡Œæ•° // 6. é‡Šæ”¾èµ„æº pstmt.close(); conn.close(); // 7. è¿”å›ç»“æœ return count \u0026gt; 0; } /** * ä¿®æ”¹ * 1. SQL: UPDATE tb_brand SET brand_name=?, company_name=?, ordered=?, description=?, status=? WHERE id=? * 2. å‚æ•°: æ‰€æœ‰ * 3. ç»“æœ: boolean */ public boolean update(Brand brand) throws Exception{ // 1. è·å–æ•°æ®åº“è¿æ¥Connection Connection conn = dataSource.getConnection(); // *2. å®šä¹‰SQL String sql = \u0026#34;\u0026#34;\u0026#34; UPDATE tb_brand SET brand_name=?, company_name=?, ordered=?, description=?, status=? WHERE id=?\u0026#34;\u0026#34;\u0026#34;; // 3. è·å–pstmtå¯¹è±¡ PreparedStatement pstmt = conn.prepareStatement(sql); // *4. è®¾ç½®å‚æ•° pstmt.setString(1, brand.getBrandName()); pstmt.setString(2, brand.getCompanyName()); pstmt.setInt(3, brand.getOrdered()); pstmt.setString(4, brand.getDescription()); pstmt.setInt(5, brand.getStatus()); pstmt.setInt(6, brand.getId()); // 5. æ‰§è¡ŒSQL int count = pstmt.executeUpdate(); // è¿”å›å½±å“çš„è¡Œæ•° // 6. é‡Šæ”¾èµ„æº pstmt.close(); conn.close(); // 8. è¿”å›ç»“æœ return count \u0026gt; 0; } /** * åˆ é™¤ * 1. SQL:DELETE FROM tb_brand WHERE id=? * 2. å‚æ•°: id * 3. ç»“æœ: boolean */ public boolean deleteById(int id) throws Exception{ // 1. è·å–æ•°æ®åº“è¿æ¥Connection Connection conn = dataSource.getConnection(); // *2. å®šä¹‰SQL String sql = \u0026#34;DELETE FROM tb_brand WHERE id=?\u0026#34;; // 3. è·å–pstmtå¯¹è±¡ PreparedStatement pstmt = conn.prepareStatement(sql); // *4. è®¾ç½®å‚æ•° pstmt.setInt(1, id); // 5. æ‰§è¡ŒSQL int count = pstmt.executeUpdate(); // è¿”å›å½±å“çš„è¡Œæ•° // 6. é‡Šæ”¾èµ„æº pstmt.close(); conn.close(); // 7. è¿”å›ç»“æœ return count \u0026gt; 0; } } ","date":"2022å¹´8æœˆ14æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/druid/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"SQL","url":"/tags/sql/"},{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1660435200,"title":"Druid æ•°æ®åº“è¿æ¥æ± "},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Maven ç®€ä»‹ Apache Mavenæ˜¯ä¸“é—¨ç”¨äºç®¡ç†å’Œæ„å»ºJavaé¡¹ç›®çš„å·¥å…·, å®ƒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹ (POM) çš„æ¦‚å¿µ, é€šè¿‡ä¸€å°æ®µæè¿°ä¿¡æ¯æ¥ç®¡ç†é¡¹ç›®çš„æ„å»º, æŠ¥å‘Šå’Œæ–‡æ¡£.\nMavençš„ä¸»è¦åŠŸèƒ½æœ‰:\næä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„. æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹ (ç¼–è¯‘, æµ‹è¯•, æ‰“åŒ…, å‘å¸ƒ\u0026hellip;). æä¾›äº†ä¸€å¥—ä¾èµ–ç®¡ç†æœºåˆ¶. Maven æ¨¡å‹ Mavenæ¨¡å‹åŒ…å«:\né¡¹ç›®å¯¹è±¡æ¨¡å‹ (Project Object Model) ä¾èµ–ç®¡ç†æ¨¡å‹ (Dependency) æ’ä»¶ (Plugin) Mavenæ¨¡å‹å›¾ç¤º:\nå…¶ä¸­ç´«è‰²æ¡†æ¡†èµ·æ¥çš„éƒ¨åˆ†, å°±æ˜¯ç”¨æ¥å®Œæˆæ ‡å‡†åŒ–æ„å»ºæµç¨‹.\nä»“åº“ Mavenä»“åº“æ˜¯é¡¹ç›®ä¸­ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“, è¿™ä¸ªåº“æ‰€åœ¨çš„ä½ç½®å«åšä»“åº“ (åœ¨Mavençš„æœ¯è¯­ä¸­ï¼Œä»“åº“æ˜¯ä¸€ä¸ªä½ç½®, place).\nMavenä¸­, ä»»ä½•ä¸€ä¸ªä¾èµ–ã€æ’ä»¶æˆ–è€…é¡¹ç›®æ„å»ºçš„è¾“å‡ºï¼Œéƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ„ä»¶. Mavenä»“åº“èƒ½å¸®åŠ©æˆ‘ä»¬ç®¡ç†æ„ä»¶ (ä¸»è¦æ˜¯JAR), å®ƒå°±æ˜¯æ”¾ç½®æ‰€æœ‰JARæ–‡ä»¶ (WAR, ZIP, POMç­‰ç­‰) çš„åœ°æ–¹.\nä»“åº“æœ‰ä¸‰ç§ç±»å‹:\næœ¬åœ° (local) ä¸­å¤® (central) è¿œç¨‹ (remote) åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åæ ‡å¼•å…¥å¯¹åº”ä¾èµ–jaråŒ…å, Mavenä¼šæŒ‰ç…§æœ¬åœ°ä»“åº“ \u0026ndash;\u0026gt; è¿œç¨‹ä»“åº“\u0026ndash;\u0026gt; ä¸­å¤®ä»“åº“çš„é¡ºåºå»æŸ¥æ‰¾ç›¸åº”çš„jaråŒ…. åªè¦jaråŒ…å­˜åœ¨, å¦‚æœæ˜¯åœ¨æœ¬åœ°ä»“åº“åˆ™ç›´æ¥ä½¿ç”¨, è€Œå¦‚æœåœ¨è¿œç¨‹ä»“åº“æˆ–ä¸­å¤®ä»“åº“, Mavenåˆ™å°†jaråŒ…è‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“.\næœ¬åœ°ä»“åº“ æœ¬åœ°ä»“åº“åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œmavenå‘½ä»¤çš„æ—¶å€™æ‰è¢«åˆ›å»º.\nè¿è¡Œ Maven çš„æ—¶å€™, Maven æ‰€éœ€è¦çš„ä»»ä½•æ„ä»¶éƒ½æ˜¯ç›´æ¥ä»æœ¬åœ°ä»“åº“è·å–çš„. å¦‚æœæœ¬åœ°ä»“åº“æ²¡æœ‰, å®ƒä¼šé¦–å…ˆå°è¯•ä»è¿œç¨‹ä»“åº“ä¸‹è½½æ„ä»¶è‡³æœ¬åœ°ä»“åº“, ç„¶åå†ä½¿ç”¨æœ¬åœ°ä»“åº“çš„æ„ä»¶.\nMaven æœ¬åœ°ä»“åº“é»˜è®¤ä¸ºç”¨æˆ·ä¸»ç›®å½• (USER HOME) ä¸­çš„ .m2/repository.\nä¸­å¤®ä»“åº“ Maven ä¸­å¤®ä»“åº“æ˜¯ç”± Maven ç¤¾åŒºæä¾›çš„ä»“åº“, å…¶ä¸­åŒ…å«äº†å¤§é‡å¸¸ç”¨çš„åº“.\nä¸­å¤®ä»“åº“åŒ…å«äº†ç»å¤§å¤šæ•°æµè¡Œçš„å¼€æºJavaæ„ä»¶, ä»¥åŠæºç ã€ä½œè€…ä¿¡æ¯ã€SCMã€ä¿¡æ¯ã€è®¸å¯è¯ä¿¡æ¯ç­‰. ä¸€èˆ¬æ¥è¯´ï¼Œç®€å•çš„Javaé¡¹ç›®ä¾èµ–çš„æ„ä»¶éƒ½å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ°.\nMaven ç¤¾åŒºæä¾›äº†ä¸€ä¸ª URL: search.maven.org/#browse, æ¥æµè§ˆä¸­å¤®ä»“åº“çš„å†…å®¹.\nè¿œç¨‹ä»“åº“ è¿œç¨‹ä»“åº“æ˜¯å¼€å‘äººå‘˜è‡ªå·±å®šåˆ¶çš„ä»“åº“, åŒ…å«äº†æ‰€éœ€è¦çš„ä»£ç åº“æˆ–è€…å…¶ä»–å·¥ç¨‹ä¸­ç”¨åˆ°çš„ jar æ–‡ä»¶. ä¸€èˆ¬æ˜¯ç”±å…¬å¸å›¢é˜Ÿæ­å»ºçš„ç§æœ‰ä»“åº“.\nMavenæ ‡å‡†åŒ–é¡¹ç›®ç»“æ„ Mavenæä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„, æ‰€æœ‰çš„IDEä½¿ç”¨Mavenæ„å»ºçš„é¡¹ç›®å®Œå…¨ä¸€æ ·. æ‰€ä»¥, ä½¿ç”¨Mavenåˆ›å»ºçš„é¡¹ç›®åœ¨æ‰€æœ‰IDEä¸­å¯ä»¥é€šç”¨.\nä½¿ç”¨Mavenæ„å»ºçš„é¡¹ç›®ç»“æ„ç¤ºä¾‹:\nğŸ“project_name \u0026mdash; é¡¹ç›®ä¸»ç›®å½• ğŸ“src \u0026mdash; æºä»£ç å’Œæµ‹è¯•ä»£ç æ–‡ä»¶ç›®å½• ğŸ“main \u0026mdash; æºä»£ç æ–‡ä»¶ç›®å½• ğŸ“java \u0026mdash; æºä»£ç Javaæ–‡ä»¶ç›®å½• ğŸ“resourcs \u0026mdash; æºä»£ç é…ç½®æ–‡ä»¶ç›®å½• ğŸ“test \u0026mdash; æµ‹è¯•ä»£ç æ–‡ä»¶ç›®å½• ğŸ“java \u0026mdash; æµ‹è¯•ä»£ç Javaæ–‡ä»¶ç›®å½• ğŸ“resource \u0026mdash; æµ‹è¯•ä»£ç é…ç½® ğŸ“„pom.xml \u0026mdash; é¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶ é¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶ pom.xml \u0026lt;project xmlns=\u0026#34;http://maven.apache.org/POM/4.0.0\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34; xsi:schemaLocation=\u0026#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\u0026#34;\u0026gt; \u0026lt;!-- æ¨¡å‹ç‰ˆæœ¬ --\u0026gt; \u0026lt;modelVersion\u0026gt;4.0.0\u0026lt;/modelVersion\u0026gt; \u0026lt;!-- The Basics --\u0026gt; \u0026lt;!-- å…¬å¸æˆ–è€…ç»„ç»‡çš„å”¯ä¸€æ ‡å¿— --\u0026gt; \u0026lt;groupId\u0026gt;...\u0026lt;/groupId\u0026gt; \u0026lt;!-- å½“å‰é¡¹ç›®å”¯ä¸€ID --\u0026gt; \u0026lt;artifactId\u0026gt;...\u0026lt;/artifactId\u0026gt; \u0026lt;!-- æœ¬é¡¹ç›®ç›®å‰æ‰€å¤„çš„ç‰ˆæœ¬å· --\u0026gt; \u0026lt;version\u0026gt;...\u0026lt;/version\u0026gt; \u0026lt;!-- æ‰“åŒ…çš„æœºåˆ¶ --\u0026gt; \u0026lt;packaging\u0026gt;...\u0026lt;/packaging\u0026gt; \u0026lt;!-- é¡¹ç›®ä¾èµ–å…³ç³» --\u0026gt; \u0026lt;dependencies\u0026gt;...\u0026lt;/dependencies\u0026gt; \u0026lt;parent\u0026gt;...\u0026lt;/parent\u0026gt; \u0026lt;dependencyManagement\u0026gt;...\u0026lt;/dependencyManagement\u0026gt; \u0026lt;modules\u0026gt;...\u0026lt;/modules\u0026gt; \u0026lt;!-- pomå¸¸é‡ --\u0026gt; \u0026lt;properties\u0026gt;...\u0026lt;/properties\u0026gt; \u0026lt;!-- Build Settings --\u0026gt; \u0026lt;build\u0026gt;...\u0026lt;/build\u0026gt; \u0026lt;reporting\u0026gt;...\u0026lt;/reporting\u0026gt; \u0026lt;!-- More Project Information --\u0026gt; \u0026lt;!-- é¡¹ç›®çš„åç§° --\u0026gt; \u0026lt;name\u0026gt;...\u0026lt;/name\u0026gt; \u0026lt;!-- é¡¹ç›®çš„è¯¦ç»†æè¿° --\u0026gt; \u0026lt;description\u0026gt;...\u0026lt;/description\u0026gt; \u0026lt;!-- é¡¹ç›®ä¸»é¡µçš„URL --\u0026gt; \u0026lt;url\u0026gt;...\u0026lt;/url\u0026gt; \u0026lt;inceptionYear\u0026gt;...\u0026lt;/inceptionYear\u0026gt; \u0026lt;licenses\u0026gt;...\u0026lt;/licenses\u0026gt; \u0026lt;organization\u0026gt;...\u0026lt;/organization\u0026gt; \u0026lt;developers\u0026gt;...\u0026lt;/developers\u0026gt; \u0026lt;contributors\u0026gt;...\u0026lt;/contributors\u0026gt; \u0026lt;!-- Environment Settings --\u0026gt; \u0026lt;issueManagement\u0026gt;...\u0026lt;/issueManagement\u0026gt; \u0026lt;ciManagement\u0026gt;...\u0026lt;/ciManagement\u0026gt; \u0026lt;mailingLists\u0026gt;...\u0026lt;/mailingLists\u0026gt; \u0026lt;scm\u0026gt;...\u0026lt;/scm\u0026gt; \u0026lt;prerequisites\u0026gt;...\u0026lt;/prerequisites\u0026gt; \u0026lt;!-- å‘ç°ä¾èµ–å’Œæ‰©å±•çš„è¿œç¨‹ä»“åº“åˆ—è¡¨ --\u0026gt; \u0026lt;repositories\u0026gt;...\u0026lt;/repositories\u0026gt; \u0026lt;pluginRepositories\u0026gt;...\u0026lt;/pluginRepositories\u0026gt; \u0026lt;distributionManagement\u0026gt;...\u0026lt;/distributionManagement\u0026gt; \u0026lt;profiles\u0026gt;...\u0026lt;/profiles\u0026gt; \u0026lt;/project\u0026gt; pom.xmlä¸­æè¿°ç¬¦çš„æ ¹ä¸º\u0026lt;project\u0026gt;.\nMavenåæ ‡ Maven ä¸­çš„åæ ‡æ˜¯èµ„æºçš„å”¯ä¸€æ ‡è¯†. ä½¿ç”¨åæ ‡æ¥å®šä¹‰é¡¹ç›®æˆ–å¼•å…¥é¡¹ç›®ä¸­éœ€è¦çš„ä¾èµ–. Mavenåæ ‡çš„ä¸»è¦ç»„æˆ (åœ¨pom.xmlæ–‡ä»¶ä¸­):\n\u0026lt;groupId\u0026gt;: å…¬å¸æˆ–è€…ç»„ç»‡çš„å”¯ä¸€æ ‡å¿—. é…ç½®æ—¶ç”Ÿæˆçš„è·¯å¾„ä¹Ÿæ˜¯ç”±æ­¤ç”Ÿæˆ. å¦‚com.linner.blog (é€šå¸¸æ˜¯åŸŸååå†™), Mavenä¼šå°†è¯¥é¡¹ç›®æ‰“æˆçš„jaråŒ…æ”¾æœ¬åœ°è·¯å¾„ï¼š/com/linner/blog. \u0026lt;artifactId\u0026gt;: å½“å‰é¡¹ç›®çš„å”¯ä¸€ID (é€šå¸¸æ˜¯æ¨¡å—åç§°). ä¸€ä¸ªgroupIdä¸‹é¢å¯èƒ½å¤šä¸ªé¡¹ç›®, å°±æ˜¯é \u0026lt;artifactId\u0026gt;æ¥åŒºåˆ†. \u0026lt;version\u0026gt;: æœ¬é¡¹ç›®ç›®å‰æ‰€å¤„çš„ç‰ˆæœ¬å·. Maven ä¸­, æ ¹æ® groupIdã€artifactIdã€version ç»„åˆæˆ groupId:artifactId:version æ¥å”¯ä¸€è¯†åˆ«ä¸€ä¸ª jar åŒ…. è¿™ä¸‰ä¸ªæ ‡ç­¾æ„æˆäº†Mavenåæ ‡.\nå…¶ä»–åŸºæœ¬é…ç½® \u0026lt;modelVersion\u0026gt;: æŒ‡å®špom.xmlç¬¦åˆå“ªä¸ªç‰ˆæœ¬çš„æè¿°ç¬¦. Maven2å’Œ3åªèƒ½ä¸º4.0.0. \u0026lt;packaging\u0026gt;: æ‰“åŒ…çš„æœºåˆ¶. æœ‰ä»¥ä¸‹å‡ ç§: pom jar \u0026mdash; é»˜è®¤å€¼ maven-plugin ejb war ear rar par \u0026lt;dependencies\u0026gt;: å®šä¹‰æœ¬é¡¹ç›®çš„ä¾èµ–å…³ç³». Mavenä¾èµ–ç®¡ç† ä¾èµ–ç®¡ç†æ˜¯æŒ‡ç®¡ç†é¡¹ç›®ä¸­æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹èµ„æº (jaråŒ…, æ’ä»¶). è€ŒMavenä½¿ç”¨æ ‡å‡†çš„åæ ‡é…ç½®æ¥ç®¡ç†å„ç§ä¾èµ–, åªéœ€è¦ç®€å•çš„é…ç½®å°±å¯ä»¥å®Œæˆä¾èµ–ç®¡ç†.\nMavençš„ä¾èµ–èµ„æºæ˜¯åœ¨pom.xmlé…ç½®æ–‡ä»¶ä¸­çš„\u0026lt;dependencies\u0026gt;æè¿°çš„. å…¶ç»“æ„å¦‚ä¸‹:\n\u0026lt;project\u0026gt; \u0026hellip; \u0026lt;dependencies\u0026gt; \u0026lt;dependency\u0026gt;: ä¸€ä¸ª\u0026lt;dependency\u0026gt;ä»£è¡¨ä¸€ä¸ªä¾èµ–é¡¹. \u0026lt;groupId\u0026gt;, \u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;çš„å«ä¹‰ä¸\u0026lt;project\u0026gt;çš„å­æ ‡ç­¾\u0026lt;groupId\u0026gt;, \u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;çš„å«ä¹‰ç›¸åŒ. \u0026lt;groupId\u0026gt; \u0026lt;artifactId\u0026gt; \u0026lt;version\u0026gt; \u0026lt;type\u0026gt;: ä¾èµ–çš„æ‰“åŒ…æœºåˆ¶. å¯¹åº”\u0026lt;packaging\u0026gt;çš„ç±»å‹, æœ‰pom, jar(é»˜è®¤), maven-plugin, ejb, war, ear, rar, par. \u0026lt;scope\u0026gt;: ä»»åŠ¡çš„ç±»è·¯å¾„ (ç¼–è¯‘å’Œè¿è¡Œæ—¶, æµ‹è¯•ç­‰) ä»¥åŠå¦‚ä½•é™åˆ¶ä¾èµ–å…³ç³»çš„ä¼ é€’æ€§. scopeå–å€¼ æœ‰æ•ˆèŒƒå›´(compile, runtime, test) ä¾èµ–ä¼ é€’ compile all æ˜¯ provided compile, test å¦ runtime runtime, test æ˜¯ test test å¦ system compile, test æ˜¯ \u0026lt;optional\u0026gt; \u0026lt;exclusions\u0026gt; \u0026lt;exclusion\u0026gt; \u0026lt;groupId\u0026gt; \u0026lt;artifactId\u0026gt; \u0026lt;exclusion\u0026gt; \u0026hellip; å¤šä¸ª\u0026lt;exclusion\u0026gt;\u0026hellip; å¤šä¸ª\u0026lt;dependency\u0026gt;\u0026hellip; \u0026hellip; \u0026lt;scope\u0026gt;å–å€¼è¯´æ˜:\nMavenå¸¸ç”¨å‘½ä»¤ compile: ç¼–è¯‘ clean: æ¸…ç† test: æµ‹è¯• package: æ‰“åŒ… install: å®‰è£… ä½¿ç”¨Mavenå‘½ä»¤éœ€è¦å…ˆé…ç½®PATH, ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ.\nä¾‹å¦‚é¡¹ç›®è·¯å¾„ä¸º~/project:\ncd ~/project ç¼–è¯‘ mvn compile ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤, Mavenä¼šè‡ªåŠ¨ä»ä»“åº“ (ä¸­å¤®ä»“åº“æˆ–è¿œç¨‹ä»“åº“, ä»‹ç»å¸¸ç”¨å‘½ä»¤æ—¶, å¦‚æ— ç‰¹åˆ«æŒ‡å‡º, ä»“åº“å‡æŒ‡ä¸­å¤®ä»“åº“æˆ–è¿œç¨‹ä»“åº“) ä¸‹è½½ç¼–è¯‘æ‰€éœ€çš„jaræ’ä»¶åŒ…. ç„¶ååœ¨é¡¹ç›®ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª target ç›®å½•. ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶å°±æ”¾åœ¨è¯¥ç›®å½•ä¸‹.\næ¸…ç† mvn clean ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤, Mavenä¼šä»ä»“åº“ä¸‹è½½æ¸…ç†æ‰€éœ€è¦çš„jaræ’ä»¶åŒ…. æ¥ç€ä¾¿ä½¿ç”¨æ’ä»¶æ¸…é™¤é¡¹ç›®ä¸‹çš„targetç›®å½•.\næ‰“åŒ… mvn package ç¬¬ä¸€æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤, Mavenä¼šä»ä»“åº“ä¸‹è½½æ‰“åŒ…æ‰€éœ€è¦çš„jaræ’ä»¶åŒ…. ç„¶ååœ¨é¡¹ç›®çš„ terget ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªjaråŒ… (å°†å½“å‰é¡¹ç›®æ‰“æˆçš„jaråŒ…).\næµ‹è¯• mvn test è¯¥å‘½ä»¤ä¼šæ‰§è¡Œæ‰€æœ‰çš„æµ‹è¯•ä»£ç , å³project/scr/textä¸‹çš„ä»£ç .\nå®‰è£… mvn install è¯¥å‘½ä»¤ä¼šå°†å½“å‰é¡¹ç›®æ‰“æˆjaråŒ…, å¹¶å®‰è£…åˆ°æœ¬åœ°ä»“åº“. æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤åå¯ä»¥åˆ°æœ¬åœ°ä»“åº“æŸ¥çœ‹ç»“æœ. ä»“åº“ä¸­çš„è·¯å¾„ä¸ºpom.xmlæ–‡ä»¶ä¸­\u0026lt;groupId\u0026gt;ç›¸åº”çš„è·¯å¾„, ç”Ÿæˆçš„jaråŒ…åä¸º\u0026lt;artifactId\u0026gt;å’Œ\u0026lt;version\u0026gt;ç»„æˆçš„å†…å®¹.\nMavenç”Ÿå‘½å‘¨æœŸ Maven æ„å»ºé¡¹ç›®ç”Ÿå‘½å‘¨æœŸæè¿°çš„æ˜¯ä¸€æ¬¡æ„å»ºè¿‡ç¨‹ç»å†ç»å†äº†å¤šå°‘ä¸ªäº‹ä»¶.\nMavenå¯¹é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†ä¸º3å¥—:\nclean: æ¸…ç†å·¥ä½œ. default: æ ¸å¿ƒå·¥ä½œ, ä¾‹å¦‚ç¼–è¯‘, æµ‹è¯•, æ‰“åŒ…, å®‰è£…ç­‰. site: äº§ç”ŸæŠ¥å‘Š, å‘å¸ƒç«™ç‚¹ç­‰. è¿™å¥—å£°æ˜å‘¨æœŸä¸€èˆ¬ä¸ä¼šä½¿ç”¨. åŒä¸€å¥—ç”Ÿå‘½å‘¨æœŸå†…, æ‰§è¡Œåè¾¹çš„å‘½ä»¤, å‰é¢çš„æ‰€æœ‰å‘½ä»¤ä¼šè‡ªåŠ¨æ‰§è¡Œ.\ndefault ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹:\nå¦‚æ‰§è¡Œinstallå‘½ä»¤, mavenä¼šæŒ‰ç…§ä¸Šå›¾ä¸­ä»å·¦åˆ°å³çš„é¡ºåºå…ˆæ‰§è¡Œcompile, å†æ‰§è¡Œtest, package, æœ€åæ‰§è¡Œinstall; å¦‚æœæ‰§è¡Œpackage, é™¤äº†installå‘½ä»¤, å…¶å®ƒå‘½ä»¤æŒ‰ç…§ä¸Šå›¾å·¦åˆ°å³é¡ºåºæ‰§è¡Œ.\né»˜è®¤çš„ç”Ÿå‘½å‘¨æœŸå…¶å®æœ‰å¯¹åº”çš„å¾ˆå¤šå‘½ä»¤, ä¸Šå›¾ä¸­åªå±•ç¤ºäº†å¸¸ç”¨çš„.\n","date":"2022å¹´8æœˆ14æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/maven-base/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"Java","url":"/tags/java/"},{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"é¡¹ç›®ç®¡ç†","url":"/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"title":"Maven","url":"/tags/maven/"}],"timestamp":1660435200,"title":"Maven åŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"åˆ›å»º.sshç›®å½•å¹¶ç”Ÿæˆå…¬é’¥:\nssh-keygen -t rsa æ‰€æœ‰é€‰é¡¹å…¨éƒ¨å›è½¦, ä½¿ç”¨é»˜è®¤é€‰é¡¹å³å¯.\nç„¶ååˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•ä¸‹çš„.sshç›®å½•:\ncd ~/.ssh è¯¥ç›®å½•ä¸‹é»˜è®¤æœ‰ä¸‰ä¸ªæ–‡ä»¶:\nid_rsa: ç”¨æˆ·ç§é’¥, ä¸è¦å¤åˆ¶å‘é€ç»™ä»»ä½•äºº. id_rsa.pub: å…¬é’¥, å°†é‡Œé¢å†…å®¹å‘é€ç»™å®¢æˆ·ç«¯. authorized_keys: ä¿¡ä»»çš„å…¬é’¥. åªéœ€è¦å°†id_rsa.pubé‡Œçš„å†…å®¹ä»¥ (ssh-rsaå¼€å¤´çš„ä¸€è¡Œå†…å®¹) å¤åˆ¶åˆ°å®¢æˆ·ç«¯çš„authorized_keysçš„ç›®å½•ä¸‹å³å¯.\næ¥ç€åœ¨å®¢æˆ·ç«¯ä½¿ç”¨:\nssh username@ip -p port å³å¯è¿æ¥åˆ°æœåŠ¡å™¨.\n","date":"2022å¹´8æœˆ13æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/08/ssh-%E5%85%AC%E9%92%A5%E9%85%8D%E7%BD%AE/","series":[],"smallImg":"","tags":[{"title":"Linux","url":"/tags/linux/"},{"title":"Ubuntu","url":"/tags/ubuntu/"}],"timestamp":1660348800,"title":"SSH å…¬é’¥é…ç½®"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"JDBC ç®€ä»‹ JDBC (Java DataBase Connectivity, Java æ•°æ®åº“è¿æ¥) æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥— API.\nJDBCå…¶å®æ˜¯SUNå…¬å¸åˆ¶è®¢çš„ä¸€å¥—æ“ä½œæ•°æ®åº“çš„æ ‡å‡†æ¥å£. JDBCä¸­å®šä¹‰äº†æ‰€æœ‰æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„è§„åˆ™. ç”±å„è‡ªçš„æ•°æ®åº“å‚å•†ç»™å‡ºå®ç°ç±» (é©±åŠ¨jaråŒ…).\nJava, JDBCå’Œå„ç§æ•°æ®åº“çš„å…³ç³»å¦‚ä¸‹å›¾:\nä½¿ç”¨JDBCçš„å¥½å¤„:\nä¸éœ€è¦é’ˆå¯¹ä¸åŒæ•°æ®åº“åˆ†åˆ«å¼€å‘. å¯éšæ—¶æ›¿æ¢åº•å±‚æ•°æ®åº“, è®¿é—®æ•°æ®åº“çš„Javaä»£ç åŸºæœ¬ä¸å˜. JDBC ä½¿ç”¨çš„åŸºæœ¬æ­¥éª¤ å¯¼å…¥JDBCé©±åŠ¨jaråŒ…:\nä¸‹è½½MySQL jaré©±åŠ¨åŒ…, èœé¸Ÿæ•™ç¨‹ Java MySQL è¿æ¥ã€‚\nåœ¨é¡¹ç›®ä¸­, å°†ä¸‹è½½å¥½çš„jaråŒ…æ”¾å…¥é¡¹ç›®çš„ libç›®å½•ä¸­.\nç„¶åç‚¹å‡»é¼ æ ‡å³é”®\u0026ndash;\u0026gt;Add as Library (æ·»åŠ ä¸ºåº“).\nåœ¨æ·»åŠ ä¸ºåº“æ–‡ä»¶çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹ä¸‰ä¸ªé€‰é¡¹:\nGlobal Library: å…¨å±€æœ‰æ•ˆ\nProject Library: é¡¹ç›®æœ‰æ•ˆ\nModule Library: æ¨¡å—æœ‰æ•ˆ\né€‰æ‹©Global Library.\næ³¨å†Œé©±åŠ¨:\nClass.forName(\u0026#34;com.mysql.jdbc.Driver\u0026#34;); MySQLæä¾›çš„ Driverçš„é™æ€ä»£ç å—ä¼šè‡ªåŠ¨æ‰§è¡Œ DriverManager.registerDriver() æ–¹æ³•æ¥æ³¨å†Œé©±åŠ¨. æ‰€ä»¥æˆ‘ä»¬åªéœ€åŠ è½½ Driverå³å¯. MySQL5ä¹‹åçš„é©±åŠ¨åŒ…, å¯ä»¥çœç•¥æ³¨å†Œé©±åŠ¨çš„æ­¥éª¤.\nè·å–æ•°æ®åº“è¿æ¥:\nConnection conn = DriverManager.getConnection(url, username, password); å…¶ä¸­, url, usernameå’Œ passwordéƒ½æ˜¯ Stringç±»å‹.\nurlæ ¼å¼:\njdbc:æ•°æ®åº“è½¯ä»¶åç§°://ipåœ°å€æˆ–åŸŸå:ç«¯å£/æ•°æ®åº“åç§°?å‚æ•°é”®å€¼å¯¹1\u0026amp;å‚æ•°é”®å€¼å¯¹2... ä¾‹å¦‚, è¿æ¥æœ¬åœ°mysqlä¸­åä¸ºtestçš„æ•°æ®åº“:\njdbc:mysql://127.0.0.1:3306/test æœ¬åœ°mysql, ä¸”ç«¯å£ä¸º3306, urlå¯ç®€å†™ä¸º:\njdbc:mysql:///æ•°æ®åº“åç§°?å‚æ•°é”®å€¼å¯¹ å¸¸ç”¨çš„å‚æ•°é”®å€¼å¯¹æœ‰:\nuseSSL=false // ç¦ç”¨å®‰å…¨è¿æ¥æ–¹å¼, è§£å†³è­¦å‘Šæç¤º useServerPrepStmts=true // å¼€å¯é¢„ç¼–è¯‘(é»˜è®¤ä¸ºfalse) serverTimezone=GMT%2B8 // è®¾ç½®æ—¶åŒº, ä¸œå…«åŒº(å³GMT+8) serverTimezone=Asia/Shanghai // è®¾ç½®æ—¶åŒºä¸œå…«åŒº useUnicode=true\u0026amp;characterEncoding=UTF-8 // è®¾ç½®å­—ç¬¦é›†ä¸ºUTF-8 è·å–æ‰§è¡ŒSQLå¯¹è±¡:\næ‰§è¡ŒSQLè¯­å¥éœ€è¦SQLæ‰§è¡Œå¯¹è±¡ (Statementå¯¹è±¡):\nStatement stmt = conn.createStatement(); Statementå¯¹è±¡å­˜åœ¨å®‰å…¨é—®é¢˜ (SQLæ³¨å…¥ç­‰é—®é¢˜), è€Œä½¿ç”¨ PreparedStatementä¸ä»…å¯ä»¥æå‡æŸ¥è¯¢é€Ÿåº¦, è€Œä¸”è¿˜èƒ½é˜²æ­¢SQLæ³¨å…¥é—®é¢˜.\nString sql = \u0026#34;...SQLè¯­å¥...\u0026#34;; PreparedStatement pstmt = conn.prepareStatement(sql); æ‰§è¡ŒSQLè¯­å¥:\nint count = pstmt.executeUpdate(sql); ç”¨äºæ‰§è¡ŒDML, DDLè¯­å¥.\næˆ–è€…:\nResultSet rs = pstmt.executeQuery(sql); ç”¨äºæ‰§è¡ŒDQLè¯­å¥.\nå¤„ç†è¿”å›ç»“æœ\né‡Šæ”¾èµ„æº:\nResultSetã€Statementå’Œ Connectionå¯¹è±¡éƒ½è¦ \u0026lt;i\u0026gt;æŒ‰ç…§é¡ºåº \u0026lt;/i\u0026gt;é‡Šæ”¾èµ„æº.\nrs.close(); stmt.close(); conn.close(); å¤§è‡´ä»£ç å¦‚ä¸‹:\nimport java.sql.*; public class JDBCDemo { public static void main(String[] args) throws Exception { // - æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç  String name = \u0026#34;...\u0026#34;; String pwd = \u0026#34;...\u0026#34;; // 1. æ³¨å†Œé©±åŠ¨ï¼ˆè£…è½½ç±»ï¼Œå¹¶å®ä¾‹åŒ–ï¼‰ Class.forName(\u0026#34;com.mysql.jdbc.Driver\u0026#34;); // 2. è·å–è¿æ¥ String url = \u0026#34;jdbc:mysql://127.0.0.1:3306/test\u0026#34; + \u0026#34;?useServerPrepStmts=true\u0026#34;; String username = \u0026#34;root\u0026#34;; String password = \u0026#34;1234\u0026#34;; Connection conn = DriverManager.getConnection(url, username, password); // 3. å®šä¹‰SQLè¯­å¥ (ç”¨?ä½œå ä½ç¬¦) String sql = \u0026#34;SELECT id,username,password\u0026#34; + \u0026#34; FROM tb_user\u0026#34; + \u0026#34; WHERE username = ?\u0026#34; + \u0026#34; AND password = ?\u0026#34;; // 4. è·å–æ‰§è¡ŒSQLçš„PreparedStatementå¯¹è±¡ PreparedStatement pstmt = conn.prepareStatement(sql); // è®¾ç½®å‚æ•°ï¼ˆ?ï¼‰çš„å€¼ pstmt.setXxx(index, value) pstmt.setString(1, name); pstmt.setString(2, pwd); // 5. æ‰§è¡ŒSQL ResultSet rs = pstmt.executeQuery(); // 6. å¤„ç†ç»“æœ while (rs.next) { /* ... */ } // 7. é‡Šæ”¾èµ„æº rs.close(); pstmt.close(); conn.close(); } } PreparedStatement å¯¹è±¡ PreparedStatement å¯¹è±¡å¯ä»¥:\né¢„ç¼–è¯‘SQLè¯­å¥å¹¶æ‰§è¡Œ é¢„é˜²SQLæ³¨å…¥é—®é¢˜ è·å– PreparedStatementéœ€è¦å…ˆä¼ å…¥SQLè¯­å¥:\n// SQLè¯­å¥ä¸­çš„å‚æ•°å€¼,ä½¿ç”¨ ? å ä½ç¬¦æ›¿ä»£ String sql = \u0026#34;SELECT id,username,password\u0026#34; + \u0026#34; FROM tb_user\u0026#34; + \u0026#34; WHERE username = ?\u0026#34; + \u0026#34; AND password = ?\u0026#34;; // é€šè¿‡Connectionå¯¹è±¡è·å–PreparedStatement, å¹¶ä¼ å…¥å¯¹åº”çš„SQLè¯­å¥ PreparedStatement pstmt = conn.prepareStatement(sql); æ¥ç€æˆ‘ä»¬éœ€è¦è®¾ç½®SQLå¯¹è±¡ä¸­çš„å‚æ•°å€¼:\nä½¿ç”¨ pstmt.setXxx(index, value), ç»™ ? èµ‹å€¼. å…¶ä¸­, indexçš„å€¼ä» 1å¼€å§‹, valueçš„ç±»å‹ä¸º Xxxæˆ– xxx.\nä¾‹å¦‚, ç»™ intç±»å‹çš„ valueèµ‹å€¼ä½¿ç”¨ setInt(), Stringç±»å‹ä½¿ç”¨ setString(). é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ setFloat(), setDouble(), setArray(), setByte()ç­‰.\nå¦‚æœ prepareStatement()æ–¹æ³•ä¼ å…¥çš„æ˜¯DML, DDLè¯­å¥, åˆ™ä½¿ç”¨ executeUpdate() æ–¹æ³•:\nint executeUpdate() throws SQLException å¦‚æœè¯¥æ–¹æ³•æ‰§è¡Œçš„æ˜¯DMLè¯­å¥ (INSERT, UPDATEå’Œ DELETE), åˆ™è¿”å›DMLè¯­å¥æ“ä½œçš„è¡Œæ•°; å¦‚æœæ˜¯DDLè¯­å¥åˆ™è¿”å› 0.\néœ€è¦æ³¨æ„, åœ¨å¼€å‘ä¸­å¾ˆå°‘ä½¿ç”¨javaä»£ç æ“ä½œDDLè¯­å¥.\nå¦‚æœ prepareStatement()æ–¹æ³•ä¼ å…¥çš„æ˜¯DQLè¯­å¥ (SELECT), ä½¿ç”¨çš„æ˜¯ executeQuery() æ–¹æ³•:\nResultSet executeQuery() throws SQLException è¯¥æ–¹æ³•è¿”å›çš„æ˜¯DQLè¯­å¥æŸ¥è¯¢åçš„ç»“æœé›†.\nåœ¨ä½¿ç”¨ PreparedStatementå¯¹è±¡å, éœ€è¦ä½¿ç”¨ close()æ–¹æ³•é‡Šæ”¾èµ„æº.\nStatement å’Œ PreparedStatement Statement å¯¹è±¡çš„ä¸€èˆ¬ç”¨æ³•å¦‚ä¸‹:\nString sql = \u0026#34;UPDATE tb_user SET password = \\\u0026#34;abc\\\u0026#34; WHERE id = 1\u0026#34;; Statement stmt = conn.createStatement(); int count = stmt.executeUpdate(sql); Statementçš„SQLè¯­å¥æ˜¯ä½œä¸º executeUpdate()å’Œ executeQuery()çš„å‚æ•°ä¼ å…¥, è€Œ PreparedStatementåˆ™æ˜¯åœ¨åˆ›å»ºå¯¹è±¡å°±å·²ç»ä½œä¸º prepareStatement()æ–¹æ³•çš„å‚æ•°ä¼ å…¥.\nè¿™æ˜¯å› ä¸º PreparedStatementéœ€è¦é¢„å…ˆä¼ å…¥SQLè¯­å¥, æ¥èµ·åˆ°é¢„ç¼–è¯‘SQLè¯­å¥å’Œé¢„é˜²SQLæ³¨å…¥é—®é¢˜.\né¢„ç¼–è¯‘ ä¸€èˆ¬æƒ…å†µä¸‹, javaæ‰§è¡ŒSQLè¯­å¥çš„è¿‡ç¨‹å¦‚ä¸‹:\njavaç¨‹åºè¯·æ±‚æ•°æ®åº“æ‰§è¡ŒSQLè¯­å¥å:\næ£€æŸ¥: æ•°æ®åº“æ¥æ”¶æŒ‡ä»¤, æ£€æŸ¥SQLè¯­æ³• ç¼–è¯‘: å¦‚æœSQLè¯­å¥æ— è¯­æ³•é”™è¯¯, åˆ™å°†è¯¥è¯­å¥ç¼–è¯‘æˆå¯æ‰§è¡Œçš„å‡½æ•° æ‰§è¡Œ: ç¼–è¯‘å®Œæˆåæ‰§è¡ŒSQLè¯­å¥ è€Œæ£€æŸ¥SQLå’Œç¼–è¯‘SQLèŠ±è´¹çš„æ—¶é—´æ¯”æ‰§è¡ŒSQLçš„æ—¶é—´è¿˜è¦é•¿, å¦‚æœéœ€è¦ä¸€æ¬¡æ€§æ‰§è¡Œå¤šæ¡SQLè¯­å¥, é‚£ä¼šæµªè´¹å¤§é‡æ—¶é—´å’Œèµ„æº. æ‰€ä»¥, PreparedStatementçš„å‡ºç°è§£å†³äº†è¿™ä¸ªé—®é¢˜.\né€šè¿‡ä½¿ç”¨ PreparedStatementå¯¹è±¡, å¹¶ä¸”åœ¨è¿æ¥æ•°æ®åº“çš„ urlä¸­æ·»åŠ  useServerPrepStmts=trueå‚æ•°æ¥å¼€å¯SQLè¯­å¥é¢„ç¼–è¯‘åŠŸèƒ½. é¢„ç¼–è¯‘åŠŸèƒ½ä¼šå°†æˆ‘ä»¬è®¾ç½®çš„SQLè¯­å¥ (å¦‚ \u0026quot;SELECT id,username,password FROM tb_user WHERE username = ? AND password = ?\u0026quot;) é¢„å…ˆä¼ ç»™æ•°æ®åº“, è®©å…¶å…ˆå®Œæˆæ£€æŸ¥å’Œç¼–è¯‘çš„å·¥ä½œ (å…ˆå®Œæˆè€—æ—¶çš„å·¥ä½œ), ç„¶åå†ä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰SQLè¯­å¥ (è¿™äº›SQLè¯­å¥éƒ½æ˜¯ç›¸åŒçš„, åªæ˜¯å ä½ç¬¦å¤„è®¾ç½®çš„å€¼ä¸åŒ).\nSQLæ³¨å…¥ SQLæ³¨å…¥æ˜¯æŒ‡é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•æäº¤, æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸², æœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤.\nè€Œ PreparedStatementé€šè¿‡åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ ?å ä½ç¬¦, å¹¶ä¸”ä½¿ç”¨ç›¸åº”çš„ setXxx()æ–¹æ³•æ¥è®¾ç½®å€¼ (è®¾ç½®çš„å€¼å¦‚æœå«æœ‰ç‰¹æ®Šå­—ç¬¦, å¦‚ \u0026quot; å’Œ ' ç­‰, åˆ™ä¼šè¿›è¡Œè½¬ä¹‰), é˜²æ­¢äº†SQLæ³¨å…¥çš„å‘ç”Ÿ.\nä¸‹é¢ä»£ç è¯´æ˜äº† PreparedStatementå¦‚ä½•é˜²æ­¢SQLæ³¨å…¥:\nclass Demo { public static void main(String[] args) { // useServerPrepStmts=trueå¼€å¯é¢„ç¼–è¯‘ String url = \u0026#34;jdbc:mysql:///test?useSSL=false\u0026amp;useServerPrepStmts=true\u0026#34;; String username = \u0026#34;root\u0026#34;; String password = \u0026#34;n546,Lin0\u0026#34;; Connection conn = DriverManager.getConnection(url, username, password); // - æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç  String name = \u0026#34;zhangsan\u0026#34;; String pwd = \u0026#34;\u0026#39; OR \u0026#39;1\u0026#39; = \u0026#39;1\u0026#34;; // - å®šä¹‰SQLï¼ˆç”¨?ä½œå ä½ç¬¦ï¼‰ String sql = \u0026#34;SELECT id,username,password\u0026#34; + \u0026#34; FROM tb_user\u0026#34; + \u0026#34; WHERE username = ?\u0026#34; + \u0026#34; AND password = ?\u0026#34;; // - è·å–PreparedStatementå¯¹è±¡ // - é¢„ç¼–è¯‘SQLï¼Œæ€§èƒ½æ›´é«˜ // é»˜è®¤å…³é—­ï¼Œåœ¨urlåŠ ä¸Šå‚æ•°useServerPrepStmts=trueå¼€å¯ // - é˜²æ­¢SQLæ³¨å…¥ PreparedStatement pstmt = conn.prepareStatement(sql); // - è®¾ç½®å‚æ•°ï¼ˆ?ï¼‰çš„å€¼ // - é˜²æ³¨å…¥åŸç†ï¼š // å­—ç¬¦ä¸²å‚æ•°åœ¨setStringä¸­ä¼šè¢«è½¬ä¹‰ï¼Œ // å³æ•´ä¸ªå‚æ•°è¢«å½“æˆsqlé‡Œé¢çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯javaçš„å­—ç¬¦ä¸² pstmt.setString(1, name); // ä»mysqlæ—¥å¿—æ–‡ä»¶å¯ä»¥å‘ç°ï¼š // \u0026#39; OR \u0026#39;1\u0026#39; = \u0026#39;1 è½¬ä¹‰æˆäº† \\\u0026#39; OR \\\u0026#39;1\\\u0026#39; = \\\u0026#39;1 pstmt.setString(2, pwd); // - æ‰§è¡ŒSQL ResultSet rs = pstmt.executeQuery(); // - åˆ¤è¯»ç™»å½•æ˜¯å¦æˆåŠŸ if (rs.next()) { System.out.println(\u0026#34;ç™»å½•æˆåŠŸï¼\u0026#34;); } else { System.out.println(\u0026#34;ç™»é™†å¤±è´¥ï¼\u0026#34;); } rs.close(); pstmt.close(); conn.close(); } } ä¸‹é¢ä»£ç æ¼”ç¤ºäº†æŠŠSQLä»£ç ç‰‡æ®µæ’å…¥åˆ°SQLå‘½ä»¤, æ¥è¿›è¡Œå…å¯†ç™»å½•:\nclass LoginInject { public static void main(String[] args) throws Exception { String url = \u0026#34;jdbc:mysql:///test\u0026#34;; String username = \u0026#34;root\u0026#34;; String password = \u0026#34;1234\u0026#34;; Connection conn = DriverManager.getConnection(url, username, password); // æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç  String name = \u0026#34;abcdefg\u0026#34;; // ç”¨æˆ·åéšæ„ String pwd = \u0026#34;\u0026#39; OR \u0026#39;1\u0026#39; = \u0026#39;1\u0026#34;; // å¯†ç ä¼ å…¥SQLä»£ç ç‰‡æ®µ String sql = \u0026#34;SELECT id,username,password\u0026#34; + \u0026#34; FROM tb_user\u0026#34; + \u0026#34; WHERE username = \u0026#39;\u0026#34; + name + \u0026#34;\u0026#39; AND password = \u0026#39;\u0026#34;+ pwd + \u0026#34;\u0026#39;\u0026#34;; // å°†sqlè¯­å¥whereéƒ¨åˆ†å±•å¼€ï¼š // WHERE username = \u0026#39;abcdefg\u0026#39; AND password = \u0026#39;\u0026#39; OR \u0026#39;1\u0026#39; = \u0026#39;1\u0026#39; // å‘ç°whereè¯­å¥æ¡ä»¶å§‹ç»ˆä¸ºçœŸ System.out.println(sql); Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery(sql); // åˆ¤è¯»ç™»å½•æ˜¯å¦æˆåŠŸ if (rs.next()) { System.out.println(\u0026#34;ç™»å½•æˆåŠŸï¼\u0026#34;); } else { System.out.println(\u0026#34;ç™»é™†å¤±è´¥ï¼\u0026#34;); } // è¿”å›çš„æ˜¯ç™»å½•æˆåŠŸ rs.close(); stmt.close(); conn.close(); } } ResultSet å¯¹è±¡ ResultSet (ç»“æœé›†å¯¹è±¡) ä½œç”¨: å°è£…äº†SQLæŸ¥è¯¢è¯­å¥çš„ç»“æœ, æ˜¯ executeQuery()æ–¹æ³•çš„è¿”å›å€¼ç±»å‹.\nResultSetå¯¹è±¡æœ‰ä¸‰ä¸ªæ–¹æ³•:\nnext():\nboolean next() throws SQLException æ¯æ¬¡æ‰§è¡Œæ—¶, å°†å…‰æ ‡ä»å½“å‰ä½ç½®å‘å‰ç§»åŠ¨ä¸€è¡Œ (å…‰æ ‡ä»ç¬¬0è¡Œå¼€å§‹), å¹¶ä¸”åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦ä¸ºæœ‰æ•ˆè¡Œ (è¿”å› trueåˆ™ä»£è¡¨ä¸ºæœ‰æ•ˆè¡Œ)ã€‚\ngetXxx():\nxxx getXxx(arg) throws SQLException argç±»å‹:\nint: ä»£è¡¨åˆ—çš„ç¼–å· (æŒ‰ç…§ SELECTè¯­å¥ä¸­çš„æŸ¥è¯¢é¡ºåº), ä»1å¼€å§‹ String: åˆ—çš„åç§° close():\nvoid close() throws SQLException é‡Šæ”¾ ResultSetå¯¹è±¡.\nä¸‹é¢æ¼”ç¤ºäº† ResultSetçš„ä½¿ç”¨:\nclass Demo { public static void main(String[] args) { // ... String sql = \u0026#34;SELECT id,username,password FROM tb_user\u0026#34;; Statement stmt = conn.createStatement(); PreparedStatement pstmt = conn.prepareStatement(sql); // - å¤„ç†ç»“æœï¼Œéå†rsä¸­çš„æ‰€æœ‰æ•°æ® // - rs.next()ï¼šå…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€è¡Œï¼Œå¹¶åˆ¤æ–­å½“å‰è¡Œæ˜¯å¦æœ‰æ•ˆ while (rs.next()) { // - è·å–æ•°æ® getXxx() int id = rs.getInt(1); // getXxx()æ–¹æ³•å¯ä»¥ä½¿ç”¨åˆ—ç´¢å¼•ï¼ˆä»1å¼€å§‹ï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ—å String usrname = rs.getString(\u0026#34;username\u0026#34;); String passwd = rs.getString(3); System.out.println(\u0026#34;id: \u0026#34; + id); System.out.println(\u0026#34;username: \u0026#34; + usrname); System.out.println(\u0026#34;passwd: \u0026#34; + passwd); System.out.println(\u0026#34;-----------------------\u0026#34;); } // - é‡Šæ”¾èµ„æº // ResultSetã€Statementå’ŒConnectionéƒ½è¦æŒ‰ç…§é¡ºåºé‡Šæ”¾èµ„æº // å…ˆé‡Šæ”¾ResultSet, å†é‡Šæ”¾Statement, æœ€åæ˜¯Connection rs.close(); stmt.close(); conn.close(); } } æ“ä½œå®ä¾‹ ç”¨æˆ·è´¦å·å¯†ç å¢åˆ æ”¹æ“ä½œ.\nåœ¨ç¼–å†™JDBCä»£ç ä¹‹å‰éœ€è¦å…ˆå®Œæˆåˆ›å»ºæ•°æ®åº“, åˆ›å»º pojoåŒ…å¹¶ç¼–å†™ Userå®ä½“ç±»çš„å·¥ä½œ:\nåˆ›å»ºæ•°æ®åº“å¹¶è¿è¡Œä¸‹æ–¹SQLä»£ç :\n-- åˆ é™¤tb_userè¡¨ DROP TABLE IF EXISTS tb_user; -- åˆ›å»ºtb_userè¡¨ CREATE TABLE tb_user( id INT PRIMARY KEY AUTO_INCREMENT, username VARCHAR(20), password VARCHAR(32) ); -- æ·»åŠ æ•°æ® INSERT INTO tb_user VALUES(NULL, \u0026#39;zhangsan\u0026#39;, \u0026#39;123\u0026#39;), (NULL, \u0026#39;lisi\u0026#39;, \u0026#39;234\u0026#39;); åˆ›å»º pojoåŒ…, å¹¶åœ¨åŒ…ä¸­æ·»åŠ  Userå®ä½“ç±»:\npackage pojo; // pojoåŒ…å­˜æ”¾å®ä½“ç±» public class User { private Integer id; private String username; private String password; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } @Override public String toString() { return \u0026#34;Account{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, username=\u0026#39;\u0026#34; + username + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } å¢åˆ æ”¹æ“ä½œ JDBCæ•°æ®è®¿é—®å±‚çš„ä»£ç æ”¾åœ¨ DAOåŒ…ä¸‹:\npackage dao; import pojo.User; import java.sql.*; public class UserDAO { private static String URL = \u0026#34;jdbc:mysql:///test\u0026#34; + \u0026#34;?useSSL=false\u0026amp;useServerPrepStmts=true\u0026#34;; private static String USERNAME = \u0026#34;root\u0026#34;; private static String PASSWORD = \u0026#34;1234\u0026#34;; /** * æ ¹æ®ç”¨æˆ·åå’Œå¯†ç æŸ¥è¯¢ * @param username * @param password * @return User * @throws SQLException */ public User select(String username, String password) throws SQLException { // å‚æ•°æœ‰nullå€¼æ—¶ if (username == null || password == null) { return null; } // è¿æ¥æ•°æ®åº“ Connection conn = DriverManager.getConnection(URL, USERNAME, PASSWORD); // è·å–PreparedStatementå¯¹è±¡, å¹¶è®¾ç½®SQLè¯­å¥ String sql = \u0026#34;SELECT id, username, password\u0026#34; + \u0026#34; FROM tb_user\u0026#34; + \u0026#34; WHERE username = ?\u0026#34; + \u0026#34; AND password = ?\u0026#34;; PreparedStatement pstmt = conn.prepareStatement(sql); pstmt.setString(1, username); pstmt.setString(2, password); // è·å–ResultSet ResultSet rs = pstmt.executeQuery(); User user = null; if (rs.next()) { user = new User(); Integer id = rs.getInt(\u0026#34;id\u0026#34;); String name = rs.getString(\u0026#34;username\u0026#34;); String pw = rs.getString(\u0026#34;password\u0026#34;); user.setId(id); user.setUsername(name); user.setPassword(pw); } rs.close(); pstmt.close(); conn.close(); return user; } /** * æ ¹æ®ç”¨æˆ·åå’Œå¯†ç æ·»åŠ æ•°æ® * @param username * @param password * @return boolean * @throws SQLException */ public boolean add(String username, String password) throws SQLException { Connection conn = DriverManager.getConnection(URL, USERNAME, PASSWORD); String sql = \u0026#34;INSERT INTO tb_user\u0026#34; + \u0026#34; VALUE(null, ?, ?)\u0026#34;; PreparedStatement pstmt = conn.prepareStatement(sql); pstmt.setString(1, username); pstmt.setString(2, password); int count = pstmt.executeUpdate(); pstmt.close(); conn.close(); return count \u0026gt; 0; } /** * æ ¹æ®ç”¨æˆ·åå’Œå¯†ç åˆ é™¤æ•°æ® * @param username * @param password * @return boolean * @throws SQLException */ public boolean delete(String username, String password) throws SQLException { Connection conn = DriverManager.getConnection(URL, USERNAME, PASSWORD); String sql = \u0026#34;DELETE FROM tb_user\u0026#34; + \u0026#34; WHERE username = ?\u0026#34; + \u0026#34; AND password = ?\u0026#34;; PreparedStatement pstmt = conn.prepareStatement(sql); pstmt.setString(1, username); pstmt.setString(2, password); int count = pstmt.executeUpdate(); pstmt.close(); conn.close(); return count \u0026gt; 0; } } ","date":"2022å¹´8æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/spring/java-web/jdbc/","series":[{"title":"Spring","url":"/series/spring/"}],"smallImg":"","tags":[{"title":"JavaWeb","url":"/tags/javaweb/"},{"title":"Java","url":"/tags/java/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1660315613,"title":"JDBC"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":" ä¸‹è½½code-serverï¼š\nwget https://github.com/coder/code-server/releases/download/v4.5.1/code-server-4.5.1-linux-amd64.tar.gz å¯ä»¥è®¿é—®code-server GitHub é¡µé¢è·å–ä¸‹è½½è¿æ¥ã€‚\nè§£å‹ï¼š\ntar -zxvf code-server-4.5.1-linux-amd64.tar.gz å°†è§£å‹åçš„æ–‡ä»¶ç§»åŠ¨åˆ°/optç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åï¼š\nmv code-server-4.5.1-linux-amd64 /opt/code-server åˆ›å»ºè½¯é“¾åˆ°/usr/binç›®å½•ä¸‹ï¼š\nln -s /opt/code-server/code-server /usr/bin/code-server ä¿®æ”¹é…ç½®æ–‡ä»¶~/.config/code-server/config.yamlï¼š\nvim ~/.config/code-server/config.yaml æ·»åŠ code-serveræœåŠ¡ï¼š\nvim /lib/systemd/system/codeweb.service å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š\n[Unit] Description=The nginx HTTP and reverse proxy server After=network.target remote-fs.target nss-lookup.target [Service] Type=simple ExecStart=/usr/bin/code-server KillSignal=SIGQUIT TimeoutStopSec=5 KillMode=process PrivateTmp=true StandardOutput=syslog StandardError=inherit [Install] WantedBy=multi-user.target ","date":"2022å¹´7æœˆ23æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/07/code-server-%E9%83%A8%E7%BD%B2/","series":[],"smallImg":"","tags":[{"title":"Linux","url":"/tags/linux/"},{"title":"Ubuntu","url":"/tags/ubuntu/"}],"timestamp":1658534400,"title":"Code Server éƒ¨ç½²"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":" ä¸‹è½½frpï¼š\nwget https://github.com/fatedier/frp/releases/download/v0.44.0/frp_0.44.0_linux_amd64.tar.gz æˆ–è€…è®¿é—®frpé¡¹ç›®è·å–è‡ªå·±éœ€è¦çš„ç‰ˆæœ¬ã€‚\nè§£å‹ï¼š\ntar -zxvf frp_0.44.0_linux_amd64.tar.gz è¿›å…¥ç›®å½•åï¼Œé…ç½®frps.iniå’Œfrpc.iniï¼š\ncd frp_0.44.0_linux_amd64 æœåŠ¡ç«¯ï¼š\nvim frps.ini å°†æ–‡ä»¶æŒ‰ç…§ä¸‹é¢ä¿®æ”¹ï¼š\n[common] # frpç›‘å¬çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯7000ï¼Œå¯ä»¥æ”¹æˆå…¶ä»–çš„ bind_port = 7000 # æˆæƒç ï¼Œè¯·æ”¹æˆæ›´å¤æ‚çš„ token = 123456 # è¿™ä¸ªtokenä¹‹ååœ¨å®¢æˆ·ç«¯ä¼šç”¨åˆ° # frpç®¡ç†åå°ç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±éœ€æ±‚æ›´æ”¹ dashboard_port = 7500 # frpç®¡ç†åå°ç”¨æˆ·åå’Œå¯†ç ï¼Œè¯·æ”¹æˆè‡ªå·±çš„ dashboard_user = admin dashboard_pwd = admin enable_prometheus = true # frpæ—¥å¿—é…ç½® log_file = /var/log/frps.log log_level = info log_max_days = 3 å®¢æˆ·ç«¯ï¼š\nvim frpc.ini å°†æ–‡ä»¶æŒ‰ç…§ä¸‹é¢ä¿®æ”¹ï¼š\n# å®¢æˆ·ç«¯é…ç½® [common] server_addr = æœåŠ¡å™¨ip server_port = 7000 # ä¸frps.iniçš„bind_portä¸€è‡´ token = 52010 # ä¸frps.iniçš„tokenä¸€è‡´ # é…ç½®sshæœåŠ¡ [ssh] type = tcp local_ip = 127.0.0.1 # é»˜è®¤æœ¬åœ°ip local_port = 22 remote_port = 6000 # è¿™ä¸ªè‡ªå®šä¹‰ï¼Œä¹‹åå†sshè¿æ¥çš„æ—¶å€™è¦ç”¨ # é…ç½®httpæœåŠ¡ï¼Œå¯ç”¨äºå°ç¨‹åºå¼€å‘ã€è¿œç¨‹è°ƒè¯•ç­‰ï¼Œå¦‚æœæ²¡æœ‰å¯ä»¥ä¸å†™ä¸‹é¢çš„ [web] type = http local_ip = 127.0.0.1 local_port = 8080 subdomain = test.hijk.pw # webåŸŸå remote_port = è‡ªå®šä¹‰çš„è¿œç¨‹æœåŠ¡å™¨ç«¯å£ï¼Œä¾‹å¦‚8080 æ¥ç€éœ€è¦åœ¨é˜²ç«å¢™å¼€å¯ç›¸åº”çš„ç«¯å£ã€‚\nå¯åŠ¨æœåŠ¡ï¼š\næœåŠ¡ç«¯ï¼š\n./frps -s frps.ini æˆ–è€…é…ç½®frps.serveræ–‡ä»¶ï¼š\nsudo vim /lib/systemd/system/frps.service [Unit] Description=The nginx HTTP and reverse proxy server After=network.target remote-fs.target nss-lookup.target [Service] Type=simple # æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹è¿™æ¡å‘½ä»¤æˆ–è€…å°†frpsã€frps.iniç§»åŠ¨åˆ°ç›¸åº”ä½ç½® ExecStart=/usr/bin/frps -c /etc/frp/frps.ini KillSignal=SIGQUIT TimeoutStopSec=5 KillMode=process PrivateTmp=true StandardOutput=syslog StandardError=inherit [Install] WantedBy=multi-user.target å®¢æˆ·ç«¯ï¼š\n./frpc -c frpc.ini å¦‚æœæ˜¯Linuxä¹Ÿå¯ä»¥é…ç½®frpc.serviceï¼š\n[Unit] Description=Frp Client Service After=network.target [Service] Type=simple #User=nobody Restart=on-failure RestartSec=5s # æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤æˆ–è€…å°†frpsã€frps.iniç§»åŠ¨åˆ°ç›¸åº”ä½ç½® ExecStart=/usr/bin/frpc -c /etc/frp/frpc.ini ExecReload=/usr/bin/frpc reload -c /etc/frp/frpc.ini [Install] WantedBy=multi-user.target æ›´å¤šè¯·è§Frpå®˜æ–¹æ–‡æ¡£ã€‚\n","date":"2022å¹´7æœˆ23æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/07/%E6%90%AD%E5%BB%BA-frp-%E6%9C%8D%E5%8A%A1/","series":[],"smallImg":"","tags":[{"title":"Linux","url":"/tags/linux/"},{"title":"Ubuntu","url":"/tags/ubuntu/"}],"timestamp":1658534400,"title":"æ­å»º frp æœåŠ¡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"äºŒåˆ†æŸ¥æ‰¾ äºŒåˆ†æŸ¥æ‰¾åˆå«æŠ˜åŠæŸ¥æ‰¾ï¼Œæ˜¯åœ¨æœ‰åºåˆ—è¡¨çš„åŸºç¡€ä¸Šè¿›è¡ŒæŸ¥æ‰¾ï¼Œæ¯æ¬¡æŸ¥æ‰¾å¯ä»¥ç­›æ‰ä¸€åŠçš„å…ƒç´ ã€‚\nç®—æ³•æ­¥éª¤ ä»¥å‡åºæ•°åˆ—$L[0\u0026hellip;n-1]$ä¸ºä¾‹ï¼Œå‡è®¾è¦æŸ¥æ‰¾çš„æ•°ä¸º$x$ï¼š\nè®©$x$ä¸æ•°åˆ—ä¸­é—´ä½ç½®çš„å…ƒç´ $L[\\lfloor \\frac n2 \\rfloor]$è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™è¿”å›è¯¥å…ƒç´ ä¸‹æ ‡ï¼Œå¦åˆ™ï¼š\nå¦‚æœ$x$æ¯”ä¸­é—´å…ƒç´ å°ï¼Œé€’å½’åœ°å¯¹ä¸­é—´å…ƒç´ å·¦è¾¹çš„æ•°åˆ—ï¼ˆæ¯”äºŒåˆ†æŸ¥æ‰¾å°çš„å…ƒç´ ï¼‰è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼› å¦‚æœ$x$æ¯”ä¸­é—´å…ƒç´ å¤§ï¼Œé€’å½’åœ°å¯¹ä¸­é—´å…ƒç´ å³è¾¹çš„æ•°åˆ—ï¼ˆæ¯”äºŒåˆ†æŸ¥æ‰¾å¤§çš„å…ƒç´ ï¼‰è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚ ä»£ç å®ç° Pythonå®ç° é€’å½’å®ç°ï¼š def BinarySearch(arr, target, left = 0, right = 0): \u0026#34;\u0026#34;\u0026#34;äºŒåˆ†æ’åºï¼ˆé€’å½’å®ç°ï¼‰ left=0,right=len(arr)-1\u0026#34;\u0026#34;\u0026#34; if left == 0 and right == 0: right = len(arr)-1 if left \u0026gt; right or len(arr) == 0: return -1 mid = int((left + right) / 2) if target == arr[mid]: return mid elif target \u0026lt; arr[mid]: return BinarySearch(arr, target, left, mid-1) else: return BinarySearch(arr, target, mid+1, right) if __name__ == \u0026#34;__main__\u0026#34;: arr = list(range(100)) target = 66 result = BinarySearch(arr, target) if result == -1: print(False) else: print(result) éé€’å½’å®ç°ï¼š def BinarySearch(arr, target): \u0026#34;\u0026#34;\u0026#34;äºŒåˆ†æ’åºï¼ˆéé€’å½’å®ç°ï¼‰\u0026#34;\u0026#34;\u0026#34; if len(arr) == 0: return -1 left = 0 right = len(arr)-1 while left \u0026lt;= right: mid = int((left + right) / 2) if target == arr[mid]: return mid elif target \u0026lt; arr[mid]: right = mid - 1 else: left = mid + 1 return -1 if __name__ == \u0026#34;__main__\u0026#34;: arr = list(range(100)) target = 66 result = BinarySearch(arr, target) if result == -1: print(False) else: print(result) Cå®ç° é€’å½’å®ç°ï¼š #include \u0026lt;stdio.h\u0026gt; #define LEN 100 int BinarySearch(int arr[], int left, int right, int target) { if (left \u0026gt; right || arr == NULL) return -1; int mid = (left + right) / 2; if (target == arr[mid]) return mid; else if (target \u0026lt; arr[mid]) return BinarySearch(arr, left, mid-1, target); else return BinarySearch(arr, mid+1, right, target); } int main(void) { int arr[LEN]; for (int i = 0; i \u0026lt; LEN; i++) arr[i] = i; int target = 66; int result = BinarySearch(arr, 0, LEN-1, target); if (result == -1) printf(\u0026#34;False\\n\u0026#34;); else printf(\u0026#34;%d\\n\u0026#34;, result); return 0; } éé€’å½’å®ç°ï¼š #include \u0026lt;stdio.h\u0026gt; #define LEN 100 int BinarySearch(int arr[], int left, int right, int target) { if (left \u0026gt; right || arr == NULL) return -1; while (left \u0026lt;= right) { int mid = (left + right) / 2; if (target == arr[mid]) return mid; else if (target \u0026lt; arr[mid]) right = mid - 1; else left = mid + 1; } return -1; } int main(void) { int arr[LEN]; for (int i = 0; i \u0026lt; LEN; i++) arr[i] = i; int target = 66; int result = BinarySearch(arr, 0, LEN-1, target); if (result == -1) printf(\u0026#34;False\\n\u0026#34;); else printf(\u0026#34;%d\\n\u0026#34;, result); return 0; } æ•£åˆ—è¡¨æŸ¥æ‰¾ æ•£åˆ—è¡¨æŸ¥æ‰¾åˆå«å“ˆå¸Œè¡¨æŸ¥æ‰¾ï¼Œæ˜¯é€šè¿‡è®°å½•å­˜å‚¨ä½ç½®å’Œå…³é”®å­—æ„å»ºä¸€ä¸ªç¡®å®šçš„å…³ç³»$f$ï¼Œä½¿å¾—æ¯ä¸ªå…³é”®å­—$key$å¯¹åº”ä¸€ä¸ªå­˜å‚¨ä½ç½®$f(key)$ï¼Œç§°è¿™ä¸ªä¸ºæ•£åˆ—æŠ€æœ¯ã€‚å…¶ä¸­ï¼Œ$f$ç§°ä¸ºæ•£åˆ—å‡½æ•°æˆ–è€…å“ˆå¸Œå‡½æ•°ã€‚\né€šè¿‡æ•£åˆ—æŠ€æœ¯å°†è®°å½•å­˜å‚¨åœ¨ä¸€å—è¿ç»­çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œè¿™å—è¿ç»­çš„ç©ºé—´ç§°ä¸ºæ•£åˆ—è¡¨æˆ–è€…å“ˆå¸Œè¡¨ã€‚\næ•£åˆ—è¡¨æœ€é€‚åˆæŸ¥æ‰¾ä¸ç»™å®šçš„å€¼ç›¸ç­‰çš„è®°å½•ã€‚\næ•£åˆ—å‡½æ•°çš„å†²çªï¼š\nåœ¨ä½¿ç”¨æ•£åˆ—è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰ä¸¤ä¸ªå…³é”®å­—é€šè¿‡æ•£åˆ—å‡½æ•°å¾—åˆ°çš„å­˜å‚¨åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªç°è±¡è¢«ç§°ä¸ºå†²çªã€‚æ­¤æ—¶å°±éœ€è¦é€šè¿‡å†²çªè§£å†³åŠæ³•æ¥è§£å†³å†²çªã€‚åœ¨è§£å†³å†²çªçš„åŒæ—¶ä¹Ÿè¦ä¿è¯æŸ¥æ‰¾å’Œæ’å…¥æ•ˆç‡é—®é¢˜ã€‚åŒæ—¶ä¸ºäº†é¿å…å†²çªï¼Œæ•£åˆ—å‡½æ•°çš„æ„é€ ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚\nç®—æ³•æ­¥éª¤ æ•£åˆ—å‡½æ•°çš„æ„é€ æ–¹æ³• é€‰å–æ•£åˆ—å‡½æ•°çš„å‚è€ƒï¼š\nè®¡ç®—æ•£åˆ—åœ°å€æ‰€éœ€çš„æ—¶é—´ï¼› å…³é”®å­—é•¿åº¦ï¼› æ•£åˆ—è¡¨å¤§å°ï¼› å…³é”®å­—çš„åˆ†å¸ƒæƒ…å†µï¼› æŸ¥æ‰¾è®°å½•çš„é¢‘ç‡ã€‚ ç›´æ¥å®šå€æ³• ç›´æ¥å®šå€æ³•å°±æ˜¯ç›´æ¥é€šè¿‡å–å…³é”®å­—çš„æŸä¸ªçº¿æ€§å€¼ä½œä¸ºæ•£åˆ—åœ°å€ï¼š\n$$ f(key)=a \\cdot key+b\\quad(a,bä¸ºå¸¸æ•°) $$\nä¾‹å¦‚ï¼Œè¦å­˜å‚¨0-100å²çš„äººå£ç»Ÿè®¡è¡¨ï¼Œå°±å¯ä»¥é‡‡ç”¨æ•£åˆ—å‡½æ•°ä¸ºï¼š\nf(key) = key æ•°å­—åˆ†ææ³• æ•°å­—åˆ†ææ³•é€šå¸¸é€‚åˆå¤„ç†å…³é”®å­—ä½æ•°æ¯”è¾ƒå¤§çš„æƒ…å†µï¼Œå¦‚æœäº‹å…ˆçŸ¥é“å…³é”®å­—çš„åˆ†å¸ƒä¸”å…³é”®å­—çš„è‹¥å¹²ä½åˆ†å¸ƒæ¯”è¾ƒ å‡åŒ€ï¼Œå°±å¯ä»¥è€ƒè™‘è¿™ä¸ªæ–¹æ³•ã€‚\nExampleï¼š\nå‡è®¾æŸå…¬å¸çš„å‘˜å·¥ç™»è®°è¡¨ä»¥å‘˜å·¥çš„æ‰‹æœºå·ä½œä¸ºå…³é”®å­—ã€‚æ‰‹æœºå·ä¸€å…±11ä½ã€‚å‰3ä½æ˜¯æ¥å…¥å·ï¼Œå¯¹åº”ä¸åŒè¿è¥å•†çš„å­å“ç‰Œï¼›ä¸­é—´4ä½è¡¨ç¤ºå½’å±åœ°ï¼›æœ€å4ä½æ˜¯ç”¨æˆ·å·ã€‚ä¸åŒæ‰‹æœºå·å‰7ä½ç›¸åŒçš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹©å4ä½ä½œä¸ºæ•£åˆ—åœ°å€ï¼Œæˆ–è€…å¯¹å4ä½åè½¬ï¼ˆ1234 -\u0026gt; 4321ï¼‰ã€å¾ªç¯å³ç§»ï¼ˆ1234 -\u0026gt; 4123ï¼‰ã€å¾ªç¯å·¦ç§»ç­‰ç­‰ä¹‹åä½œä¸ºæ•£åˆ—åœ°å€ã€‚\nå¹³æ–¹å–ä¸­æ³• å‡è®¾å…³é”®å­—æ˜¯1234ï¼Œå¹³æ–¹ä¹‹åæ˜¯1522756ï¼Œå†æŠ½å–ä¸­é—´3ä½227ï¼Œç”¨ä½œæ•£åˆ—åœ°å€ã€‚å¹³æ–¹å–ä¸­æ³•æ¯”è¾ƒé€‚åˆäºä¸çŸ¥é“å…³é”®å­—çš„åˆ†å¸ƒï¼Œè€Œä½æ•°åˆä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µã€‚\næŠ˜å æ³• å°†å…³é”®å­—ä»å·¦åˆ°å³åˆ†å‰²æˆä½æ•°ç›¸ç­‰çš„å‡ éƒ¨åˆ†ï¼Œæœ€åä¸€éƒ¨åˆ†ä½æ•°ä¸å¤Ÿæ—¶å¯ä»¥çŸ­äº›ï¼Œç„¶åå°†è¿™å‡ éƒ¨åˆ†å åŠ æ±‚å’Œï¼Œ å¹¶æŒ‰æ•£åˆ—è¡¨è¡¨é•¿ï¼Œå–åå‡ ä½ä½œä¸ºæ•£åˆ—åœ°å€ã€‚\næ¯”å¦‚å…³é”®å­—æ˜¯9876543210ï¼Œæ•£åˆ—è¡¨è¡¨é•¿æ˜¯3ä½ï¼Œå°†å…¶åˆ†ä¸ºå››ç»„ï¼Œç„¶åå åŠ æ±‚å’Œï¼š987 + 654 + 321 + 0 = 1962ï¼Œå–å3ä½962ä½œä¸ºæ•£åˆ—åœ°å€ã€‚\næŠ˜å æ³•äº‹å…ˆä¸éœ€è¦çŸ¥é“å…³é”®å­—çš„åˆ†å¸ƒï¼Œé€‚åˆå…³é”®å­—ä½æ•°è¾ƒå¤šçš„æƒ…å†µã€‚\n\u0026#x20;é™¤ç•™å–ä½™æ•°æ³• æ­¤æ–¹æ³•ä¸ºæœ€å¸¸ç”¨çš„æ„é€ æ•£åˆ—å‡½æ•°æ–¹æ³•ã€‚\né™¤ç•™å–ä½™æ•°æ³•ï¼š\n$$ f(key)=key\\enspace mod\\enspace p\\quad (p\\le m),\\ mä¸ºæ•£åˆ—è¡¨é•¿ $$\nè¿™ç§æ–¹æ³•ä¸ä»…å¯ä»¥å¯¹å…³é”®å­—ç›´æ¥å–æ¨¡ï¼Œä¹Ÿå¯åœ¨æŠ˜å ã€å¹³æ–¹å–ä¸­åå†å–æ¨¡ã€‚æ ¹æ®ç»éªŒï¼Œè‹¥æ•£åˆ—è¡¨è¡¨é•¿ä¸º$m$ï¼Œé€šå¸¸$p$ä¸ºå°äºæˆ–ç­‰äºè¡¨é•¿ï¼ˆæœ€å¥½æ¥è¿‘$m$ï¼‰çš„æœ€å°è´¨æ•°ï¼Œå¯ä»¥æ›´å¥½çš„å‡å°å†²çªã€‚\néšæœºæ•°æ³• $$ f(key)=random(key),\\quad randomæ˜¯éšæœºå‡½æ•° $$\nå½“å…³é”®å­—çš„é•¿åº¦ä¸ç­‰æ—¶ï¼Œé‡‡ç”¨è¿™ä¸ªæ–¹æ³•æ„é€ æ•£åˆ—å‡½æ•°æ˜¯æ¯”è¾ƒåˆé€‚çš„ã€‚\nå¤„ç†æ•£åˆ—è¡¨å†²çªé—®é¢˜çš„æ–¹æ³• å¼€æ”¾åœ°å€æ³• å¼€æ”¾åœ°å€å°±æ˜¯ä¸€æ—¦å‘ç”Ÿå†²çªï¼Œå°±å»å¯»æ‰¾ä¸‹ä¸€ä¸ªç©ºçš„æ•£åˆ—åœ°å€ï¼Œåªè¦æ•£åˆ—è¡¨è¶³å¤Ÿå¤§ï¼Œç©ºçš„æ•£åˆ—åœ°å€æ€»èƒ½æ‰¾åˆ°ï¼Œå¹¶ä¸”è®°å½•å®ƒã€‚æœ‰ä¸‰ç§å¯»æ‰¾ç©ºæ•£åˆ—åœ°å€çš„æ–¹æ³•ï¼š\nçº¿æ€§æ¢æµ‹æ³•\n$$ f\u0026rsquo;(key)=(f(key)+d)% n,\\quad å…¶ä¸­då–(0,1,2,\u0026hellip;,n-1),\\ nä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ $$\n$d$åˆå§‹ä¸º0ï¼Œå¦‚æœæœ‰å†²çªï¼Œé‚£ä¹ˆ$d$å°±é€šè¿‡é€’å¢æ¥å¯»æ‰¾ç©ºçš„æ•£åˆ—åœ°å€ã€‚\nExampleï¼š\nä¸‹æ ‡ 0 1 2 3 4 5 6 7 8 9 10 11 å…³é”®å­— 12 25 16 67 56 åœ¨å¦‚ä¸Šæ‰€ç¤ºçš„æ•£åˆ—è¡¨ä¸­æ’å…¥37ã€‚é¦–å…ˆä½¿ç”¨æ•£åˆ—å‡½æ•°è®¡ç®—37çš„æ•£åˆ—åœ°å€ï¼š$f\u0026rsquo;(37)=f(37)%12=1$ï¼ˆè¿™é‡Œå‡è®¾$f(key)=key$ï¼‰ã€‚ è€Œä¸‹æ ‡ä¸º1çš„ä½ç½®å·²ç»å­˜æ”¾äº†25ï¼Œé‚£å°±åªèƒ½ç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªç©ºæ•£åˆ—åœ°å€ï¼š$f\u0026rsquo;(37)=(f(37)+1)%12=2$ã€‚\n2è¿™ä¸ªä½ç½®æ²¡æœ‰å†…å®¹ï¼Œæ‰€ä»¥å¾—åˆ°ï¼š\nä¸‹æ ‡ 0 1 2 3 4 5 6 7 8 9 10 11 å…³é”®å­— 12 25 37 16 67 56 ä½¿ç”¨çº¿æ€§æ¢æµ‹æ¥è§£å†³å†²çªé—®é¢˜ï¼Œä¼šé€ æˆå†²çªå †ç§¯ã€‚æ‰€è°“çš„å†²çªå †ç§¯å°±æ˜¯ä¸Šä¾‹çš„37ï¼Œå®ƒæœ¬æ¥æ˜¯å±äºä¸‹æ ‡1çš„å…ƒç´ ï¼Œç°åœ¨å´å ç”¨äº†ä¸‹æ ‡ä¸º2çš„ç©ºé—´ã€‚å¦‚æœç°åœ¨éœ€è¦å­˜æ”¾åŸæœ¬å­˜æ”¾åœ¨ä¸‹æ ‡ä¸º2çš„å…ƒç´ ï¼Œå°±ä¼šå†æ¬¡å‘ç”Ÿå†²çªï¼Œè¿™ä¸ªå†²çªä¼šä¸€ç›´ä¼ æ’­ä¸‹å»ï¼Œå¤§å¤§å‡ä½æŸ¥æ‰¾å’Œæ’å…¥æ•ˆç‡ã€‚ äºŒæ¬¡æ¢æµ‹æ³•\n$$ f\u0026rsquo;(key)=(f(key)+q^2)%n,\\quad å…¶ä¸­qå–(0,1,-1,2,-2,\u0026hellip;,\\frac n2,-\\frac n2),\\ nä¸ºæ•£åˆ—è¡¨çš„é•¿åº¦ $$\näºŒæ¬¡æ¢æµ‹æ³•å…¶å®æ˜¯å¯¹çº¿æ€§æ¢æµ‹çš„ä¸€ä¸ªä¼˜åŒ–ï¼Œå¢åŠ äº†å¹³æ–¹å¯ä»¥ä¸è®©å…³é”®å­—èšé›†åœ¨æŸä¸€å—åŒºåŸŸã€‚\nExampleï¼š\nä¸‹æ ‡ 0 1 2 3 4 5 6 7 8 9 10 11 å…³é”®å­— 12 25 37 16 67 56 æ’å…¥å…ƒç´ 7ï¼Œé€šè¿‡äºŒæ¬¡æ¢æµ‹çš„æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°ï¼š$f\u0026rsquo;(7)=f(7)%12=7$ã€‚ ä½†ä¸‹æ ‡ä¸º7çš„ä½ç½®å·²ç»å­˜æ”¾äº†67ï¼Œæ‰€ä»¥éœ€è¦å¯»æ‰¾ä¸‹ä¸€ä¸ªå­˜å‚¨åœ°å€ï¼š$f\u0026rsquo;(7)=(f(7)+1^2)%12=8$ã€‚\nä¸‹æ ‡ä¸º8çš„ä½ç½®å·²ç»å­˜æ”¾äº†56ï¼Œç»§ç»­å¯»æ‰¾ï¼š $f\u0026rsquo;(7)=(f(7)+(-1^2))%12=6$ã€‚\n6è¿™ä¸ªä½ç½®ä¸ºç©ºï¼Œå¾—åˆ°ï¼š\nä¸‹æ ‡ 0 1 2 3 4 5 6 7 8 9 10 11 å…³é”®å­— 12 25 37 16 7 67 56 éšæœºæ¢æµ‹æ³•\n$$ f\u0026rsquo;(key)=(f(key)+d)%m,\\quad dä¸ºéšæœºæ•°,mä¸ºè¡¨é•¿ $$\nåœ¨å®ç°ä¸­åº”é¢„å…ˆç”¨éšæœºæ•°å‘ç”Ÿå™¨äº§ç”Ÿä¸€ä¸ªéšæœºåºåˆ—ï¼Œå°†æ­¤åºåˆ—ä½œä¸ºä¾æ¬¡æ¢æµ‹çš„æ­¥é•¿ã€‚è¿™æ ·å°±èƒ½ä½¿ä¸åŒçš„å…³é”®å­—å…·æœ‰ä¸åŒçš„æ¢æµ‹æ¬¡åºï¼Œä»è€Œå¯ä»¥é¿å…æˆ–å‡å°‘å †ç§¯ã€‚\nå¤šé‡æ•£åˆ—æ³• å¤šé‡æ•£åˆ—æ³•åˆå«å†æ•£åˆ—å‡½æ•°æ³•ã€‚å…¶å…¬å¼å¦‚ä¸‹ï¼š\n$$ f\u0026rsquo;(key)=RH(key) $$\nå…¶ä¸­$RH$å°±æ˜¯ä¸åŒçš„æ•£åˆ—å‡½æ•°ï¼Œè¿™äº›æ•£åˆ—å‡½æ•°å¯ä»¥æ˜¯ä»»ä½•æ•£åˆ—å‡½æ•°ã€‚åªè¦å…¶ä¸­ä¸€ä¸ªå‘ç”Ÿäº†å†²çªï¼Œå°±é©¬ä¸Šæ¢ä¸€ä¸ªæ•£åˆ—å‡½æ•°ï¼Œç›´åˆ°å†²çªè§£å†³ã€‚ç¼ºç‚¹å°±æ˜¯å¢åŠ äº†å¾ˆå¤šè®¡ç®—æ—¶é—´ã€‚\né“¾åœ°å€æ³• é“¾åœ°å€æ³•å°±æ˜¯å½“å†²çªå‘ç”Ÿæ—¶ï¼Œç”¨é“¾è¡¨æ¥å­˜æ”¾åŒä¹‰è¯ï¼ˆå³å­˜æ”¾åœ¨å½“å‰ä½ç½®ï¼Œæ¯ä¸ªä½ç½®ä½¿ç”¨é“¾è¡¨å­˜æ”¾åŒä¹‰è¯ï¼‰ã€‚è¿™ä¸ªæ€è·¯å’Œå›¾çš„é‚»æ¥è¡¨å­˜å‚¨æ–¹å¼å¾ˆç›¸ä¼¼ã€‚\nå…¬å…±æº¢å‡ºåŒºæ³• å…¬å…±æº¢å‡ºåŒºæ³•å°±æ˜¯æŠŠé‚£äº›å†²çªçš„å…ƒç´ ç›´æ¥è¿½åŠ åˆ°å¦å¤–ä¸€ä¸ªæº¢å‡ºè¡¨ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nåœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå¦‚æœåœ¨åŸºæœ¬è¡¨æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±åªèƒ½å»æº¢å‡ºè¡¨ä¸­è¿›è¡Œé¡ºåºæŸ¥æ‰¾ã€‚è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒé€‚åˆå†²çªå…ƒç´ å°‘çš„æƒ…å†µã€‚\nä»£ç å®ç° Pythonå®ç° é™¤ç•™å–ä½™æ•°æ³•æ„é€ æ•£åˆ—å‡½æ•°ï¼Œå¼€æ”¾åœ°å€æ³•-çº¿æ€§æ¢æµ‹å¤„ç†æ•£åˆ—è¡¨å†²çªï¼š class HashTable: def __init__(self, size): self.elem = [None for i in range(size)] self.size = size def hash(self, key): \u0026#34;\u0026#34;\u0026#34;é™¤ç•™å–ä½™æ•°æ³•æ„é€ å“ˆå¸Œå‡½æ•°\u0026#34;\u0026#34;\u0026#34; return key % self.size def insert_hash(self, key): address = self.hash(key) # å¼€æ”¾åœ°å€æ³•-çº¿æ€§æ¢æµ‹ while self.elem[address]: address = (address+1) % self.size self.elem[address] = key def search_hash(self, key): star = address = self.hash(key) while self.elem[address] != key: address = (address + 1) % self.size if not self.elem[address] or address == star: return -1 return address if __name__ == \u0026#34;__main__\u0026#34;: list_a = [12, 67, 56, 16, 25, 37, 22, 29, 15, 47, 48, 34] hash_table = HashTable(12) for i in list_a: hash_table.insert_hash(i) for i in hash_table.elem: if i: print((hash_table.elem.index(i), i), end=\u0026#34; \u0026#34;) print(\u0026#34;\u0026#34;) print(hash_table.search_hash(15)) print(hash_table.search_hash(33)) ","date":"2022å¹´2æœˆ27æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/02/%E7%BB%8F%E5%85%B8%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/","series":[],"smallImg":"","tags":[{"title":"C","url":"/tags/c/"},{"title":"Python","url":"/tags/python/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1645973040,"title":"ç»å…¸æŸ¥æ‰¾ç®—æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"Ubuntu MySQL 8 å®‰è£…ï¼š\né¦–å…ˆæ›´æ–°æœ¬åœ°å­˜å‚¨åº“ç´¢å¼•ï¼š\nsudo apt update ä» APT å­˜å‚¨åº“å®‰è£… MySQLï¼š\nsudo apt install MySQL-server -y æŸ¥çœ‹ MySQL ç‰ˆæœ¬ï¼ŒéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š\nmysql --version æ£€æŸ¥ MySQL æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š\nsystemctl status mysql.service å¦‚æœæœåŠ¡æœªè¿è¡Œï¼š\nsudo systemctl start mysql MySQL å®‰è£…å®Œæˆåéœ€è¦æ›´æ”¹å¯†ç ã€‚\næŸ¥çœ‹é»˜è®¤è´¦æˆ·å’Œå¯†ç ï¼š\næ‰§è¡Œåæ‰¾åˆ° user å’Œ passwordï¼Œå¦‚ï¼š\nsudo vim /etc/mysql/debian.cnf æˆ–ï¼š\nsudo cat /etc/mysql/debian.cnf æ‰¾åˆ°å¦‚ä¸‹ï¼š\nuser = debian-sys-maint password = 12E0cDBeusG6vANp ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•ï¼š\nç„¶åè¾“å…¥é»˜è®¤å¯†ç ï¼š\nmysql -udebian-sys-maint -p 12E0cDBeusG6vANp è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ root å¯†ç ï¼š\nALTER USER \u0026#39;root\u0026#39;@\u0026#39;localhost\u0026#39; identified WITH mysql_native_password BY \u0026#39;your_password\u0026#39;; ä¿®æ”¹å®Œæˆåæ‰§è¡Œï¼š\nFLUSH privileges; QUIT æœ€åé‡å¯ MySQL åå°±å¯ä»¥ä½¿ç”¨ root ç”¨æˆ·äº†ï¼š\nsudo service mysql restart mysql -uroot -p ","date":"2022å¹´2æœˆ20æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/02/mysql-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","series":[],"smallImg":"","tags":[{"title":"SQL","url":"/tags/sql/"},{"title":"MySQL","url":"/tags/mysql/"},{"title":"ç¯å¢ƒæ­å»º","url":"/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}],"timestamp":1645315200,"title":"MySQL ç¯å¢ƒé…ç½®"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"oh-my-zshä¸»é¡µï¼š https://ohmyz.sh/\nå®‰è£…å¹¶è®¾ç½®zsh å®‰è£…zshï¼š\nsudo apt install zsh æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„shellï¼š\ncat /etc/shells # /etc/shells: valid login shells /bin/sh /bin/bash /usr/bin/bash /bin/rbash /usr/bin/rbash /bin/dash /usr/bin/dash /usr/bin/tmux /usr/bin/screen /bin/zsh /usr/bin/zsh å°†zshè®¾ç½®ä¸ºé»˜è®¤çš„shellï¼š\nsudo chsh -s /bin/zsh é‡æ–°è¿æ¥åˆ°Ubuntuï¼Œç„¶åæŸ¥çœ‹å½“å‰é»˜è®¤shellï¼š\necho $SHELL å¦‚æœæ˜¾ç¤º/bin/zshåˆ™é…ç½®æˆåŠŸã€‚\nå®‰è£… oh-my-zsh ä¸‹è½½install.shï¼š\nwget https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh ç»™install.shæ·»åŠ æƒé™ï¼š\nchmod +x install.sh æ‰§è¡Œinstall.shï¼š\n./install.sh ğŸ“Œåœ¨æ‰§è¡Œinstall.shä¹‹å‰è¿˜éœ€è¦å®‰è£…gitã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚\nå®‰è£…gitï¼š\nsudo apt install git é…ç½®zsh zshçš„é…ç½®æ–‡ä»¶ä¸ºï¼š~/.zshrcã€‚\nvim ~/.zshrc ä¿®æ”¹ä¸»é¢˜ ä¸»é¢˜é…ç½®é¡¹ä¸ºï¼šZSH_THEMEã€‚\né»˜è®¤ä¸»é¢˜é…ç½®ä¸ºï¼š\nZSH_THEME=\u0026#34;robbyrussell\u0026#34; å¯ä»¥ä¿®æ”¹ä¸ºå…¶ä¸­ä¹‹ä¸€ï¼š\nZSH_THEME=\u0026#34;ys\u0026#34; ZSH_THEME=\u0026#34;geoffgarside\u0026#34; è¿˜å¯ä»¥è®¿é—®https://github.com/ohmyzsh/ohmyzsh/wiki/Themes æŸ¥çœ‹æ›´å¤šä¸»é¢˜ã€‚\n","date":"2022å¹´1æœˆ26æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/ubuntu-%E5%AE%89%E8%A3%85-oh-my-zsh/","series":[],"smallImg":"","tags":[{"title":"Linux","url":"/tags/linux/"},{"title":"Ubuntu","url":"/tags/ubuntu/"},{"title":"Shell","url":"/tags/shell/"}],"timestamp":1643155200,"title":"Ubuntu å®‰è£… Oh my zsh"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å‘½é¢˜çš„å®šä¹‰ å…·æœ‰ç¡®åˆ‡çœŸå€¼çš„é™ˆè¿°å¥ç§°ä¸ºå‘½é¢˜ï¼ˆpropositionï¼‰ã€‚å‘½é¢˜å¯ä»¥å–ä¸€ä¸ª â€œå€¼â€ï¼Œç§°ä¸ºçœŸå€¼ã€‚çœŸå€¼åªæœ‰ â€œçœŸâ€ï¼ˆç”¨ â€œTâ€ or â€œ1â€ è¡¨ç¤ºï¼Œå³ Trueï¼‰å’Œ â€œå‡â€ï¼ˆç”¨ â€œFâ€ or â€œ0â€ è¡¨ç¤ºï¼Œå³ Falseï¼‰ã€‚\né€šå¸¸ç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å¤§å†™è‹±æ–‡å­—æ¯è¡¨ç¤ºå‘½é¢˜ã€‚\néå‘½é¢˜ ä¸€åˆ‡æ²¡æœ‰åˆ¤æ–­å†…å®¹çš„å¥å­ï¼Œå¦‚å‘½ä»¤å¥ï¼ˆç¥ˆä½¿å¥ï¼‰ã€æ„Ÿå¹å¥ã€ç–‘é—®å¥ã€äºŒä¹‰æ€§çš„é™ˆè¿°å¥ç­‰éƒ½ä¸èƒ½ä½œä¸ºå‘½é¢˜ã€‚\nåŸå­å‘½é¢˜ä¸å¤åˆå‘½é¢˜ åŸå­å‘½é¢˜ï¼ˆç®€å•å‘½é¢˜ï¼‰ï¼šä¸èƒ½å†åˆ†è§£ä¸ºæ›´ç®€å•å‘½é¢˜çš„å‘½é¢˜ã€‚ å¤åˆå‘½é¢˜ï¼šå¯ä»¥åˆ†è§£ä¸ºæ›´ä¸ºç®€å•å‘½é¢˜çš„å‘½é¢˜ã€‚è¿™äº›ç®€å•å‘½é¢˜ä¹‹é—´æ˜¯é€šè¿‡è”ç»“è¯å’Œæ ‡ç‚¹ç¬¦å·å¤åˆè€Œæˆã€‚ å‘½é¢˜å˜å…ƒ ä¸€ä¸ªç‰¹å®šçš„å‘½é¢˜æ˜¯ä¸€ä¸ªå¸¸å€¼å‘½é¢˜ï¼Œå®ƒä¸æ˜¯å…·æœ‰å€¼ â€œTâ€ï¼Œå°±æ˜¯å…·æœ‰å€¼ â€œFâ€ã€‚\nä¸€ä¸ªä»»æ„çš„æ²¡æœ‰èµ‹äºˆå…·ä½“å†…å®¹çš„åŸå­å‘½é¢˜å°±æ˜¯ä¸€ä¸ªå˜é‡å‘½é¢˜ï¼Œå¸¸ç§°å®ƒä¸ºå‘½é¢˜å˜é‡ï¼ˆæˆ–å‘½é¢˜å˜å…ƒï¼Œpropositional vatiableï¼‰ã€‚\nå‘½é¢˜å˜å…ƒæ— å…·ä½“çš„çœŸå€¼ï¼Œå®ƒçš„å˜åŸŸæ˜¯é›†åˆ ${T,F}$ï¼ˆæˆ– ${0,1}$ï¼‰ã€‚\nè”ç»“è¯ è”ç»“è¯æ˜¯ä¸¤ä¸ªå‘½é¢˜çœŸå€¼ä¹‹é—´çš„è”ç»“ï¼Œè€Œä¸æ˜¯å‘½é¢˜å†…å®¹ä¹‹é—´çš„è¿æ¥ï¼Œå› æ­¤å¤åˆå‘½é¢˜çš„çœŸå€¼åªå–å†³äºæ„æˆå®ƒä»¬çš„å„ç®€å•å‘½é¢˜çš„çœŸå€¼ï¼Œè€Œä¸å®ƒä»¬çš„å†…å®¹æ— å…³ï¼Œä¸äºŒè€…ä¹‹é—´æ˜¯å¦æœ‰å…³ç³»æ— å…³ã€‚\nå¦å®šè”ç»“è¯ è®¾ $P$ æ˜¯ä»»æ„ä¸€ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œé $P$â€ï¼ˆæˆ– â€œ$P$ çš„å¦å®šâ€ï¼‰ç§°ä¸º $P$ çš„å¦å®šå¼ï¼ˆnegationï¼‰ï¼Œè®°ä½œ $\\neg P$ï¼Œâ€œ$\\neg$â€ ä¸ºå¦å®šè”ç»“è¯ã€‚\n$P$ ä¸ºçœŸå½“ä¸”ä»…å½“ $\\neg P$ ä¸ºå‡ã€‚\nçœŸå€¼è¡¨ï¼š\n$P$ $\\neg P$ 0 1 1 0 â€œ$\\neg$â€ æ˜¯è‡ªç„¶è¯­è¨€ä¸­çš„ â€œéâ€ã€â€œä¸â€ã€â€œæ²¡æœ‰â€ ç­‰çš„é€»è¾‘æŠ½è±¡ã€‚\nåˆå–è”ç»“è¯ è®¾ $P$ã€$Q$ æ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œ$P$ å¹¶ä¸” $Q$â€ï¼ˆæˆ– â€œ$P$ å’Œ $Q$â€ï¼‰ç§°ä¸º $P$ ä¸ $Q$ çš„åˆå–å¼ï¼ˆconjunctionï¼‰ï¼Œè®°ä½œ $P \\wedge Q$ï¼Œâ€œ$\\wedge$â€ ä¸ºåˆå–è”ç»“è¯ã€‚\n$P \\wedge Q$ ä¸ºçœŸå½“ä¸”ä»…å½“ $P$ã€$Q$ åŒä¸ºçœŸã€‚\nçœŸå€¼è¡¨ï¼š\n$P \\qquad Q$ $P \\wedge Q$ $0 \\qquad 0$ $0$ $0 \\qquad 1$ $0$ $1 \\qquad 0$ $0$ $1 \\qquad 1$ $1$ æå–è”ç»“è¯ è®¾ $P$ã€$Q$ æ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œ$P$ æˆ– $Q$â€ ç§°ä¸º $P$ ä¸ $Q$ çš„æå–å¼ï¼ˆdisjunctionï¼‰ï¼Œè®°ä½œ $P \\vee Q$ï¼Œâ€œ$\\vee$â€ ä¸ºæå–è”ç»“è¯ã€‚\n$P \\vee Q$ ä¸ºçœŸå½“ä¸”ä»…å½“ $P$ã€$Q$ è‡³å°‘æœ‰ä¸€ä¸ªä¸ºçœŸã€‚\nçœŸå€¼è¡¨ï¼š\n$P \\qquad Q$ $P \\vee Q$ $0 \\qquad 0$ $0$ $0 \\qquad 1$ $1$ $1 \\qquad 0$ $1$ $1 \\qquad 1$ $1$ è”ç»“è¯ â€œ$\\vee$â€ æ˜¯è‡ªç„¶è¯­è¨€ä¸­çš„ â€œæˆ–â€ã€â€œæˆ–è€…â€ ç­‰çš„é€»è¾‘æŠ½è±¡ã€‚\nè‡ªç„¶è¯­è¨€ä¸­çš„ â€œæˆ–â€ æœ‰ â€œå¯å…¼æˆ–â€ï¼ˆæˆ–ç§°ä¸ºåŒæˆ–ï¼‰ã€â€œä¸å¯å…¼æˆ–â€ï¼ˆå³å¼‚æˆ–ï¼‰ä¸¤ç§ã€‚\nä¸¥æ ¼æ¥è®²ï¼Œæå–è”ç»“è¯å®é™…ä¸Šä»£è¡¨çš„æ˜¯å¯å…¼æˆ–ã€‚\nå¼‚æˆ–è”ç»“è¯ è®¾ $P$ã€$Q$ æ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œ$P$ æˆ– $Q$â€ æœ‰æ—¶ä»£è¡¨ä¸å¯å…¼æˆ–ï¼Œè®°ä½œ $P \\oplus Q$ æˆ– $P \\overline{\\vee} Q$ï¼Œâ€œ$\\oplus$â€ æˆ– â€œ$\\overline{\\vee}$â€ ä¸ºå¼‚æˆ–è”ç»“è¯ã€‚\n$P \\oplus Q$ ä¸ºçœŸå½“ä¸”ä»…å½“ $P$ã€$Q$ ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä¸ºçœŸã€‚\nçœŸå€¼è¡¨ï¼š\n$P \\qquad Q$ $P \\vee Q$ $0 \\qquad 0$ $0$ $0 \\qquad 1$ $1$ $1 \\qquad 0$ $1$ $1 \\qquad 1$ $0$ è•´æ¶µè”ç»“è¯ è®¾ $P$ã€$Q$ æ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œå¦‚æœ $P$ï¼Œåˆ™ $Q$â€ ç§°ä¸º $P$ ä¸ $Q$ çš„è•´æ¶µå¼ï¼ˆimplicationï¼‰ï¼Œè®°ä½œ $P \\rightarrow Q$ï¼Œâ€œ$\\rightarrow$â€ ä¸ºè•´å«è”ç»“è¯ã€‚\n$P \\rightarrow Q$ ä¸ºå‡å½“ä¸”ä»…å½“ $P$ ä¸ºçœŸä¸” $Q$ ä¸ºå‡ï¼ˆ$P$ ä¸ºå‡æ—¶ï¼Œè®¤ä¸ºè¯¥è•´æ¶µå¼ä¸ºçœŸï¼‰ã€‚\nä¸€èˆ¬æŠŠè•´æ¶µå¼ $P \\rightarrow Q$ ä¸­çš„ $P$ ç§°ä¸ºè¯¥è•´æ¶µå¼çš„å‰ä»¶ï¼Œ$Q$ ç§°ä¸ºè•´æ¶µå¼çš„åä»¶ã€‚\nçœŸå€¼è¡¨ï¼š\n$P \\qquad Q$ $P \\vee Q$ $0 \\qquad 0$ $1$ $0 \\qquad 1$ $1$ $1 \\qquad 0$ $0$ $1 \\qquad 1$ $1$ ç­‰ä»·è”ç»“è¯ è®¾ $P$ã€$Q$ æ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜ â€œ$P$ å½“ä¸”ä»…å½“ $Q$â€ ç§°ä¸º $P$ ä¸ $Q$ çš„è•´æ¶µå¼ï¼ˆimplicationï¼‰ï¼Œè®°ä½œ $P \\leftrightarrow Q$ï¼Œâ€œ$\\leftrightarrow$â€ ä¸ºç­‰ä»·è”ç»“è¯ã€‚\n$P \\leftrightarrow Q$ ä¸ºçœŸå½“ä¸”ä»…å½“ $P$ã€$Q$ åŒä¸ºçœŸå‡ã€‚\nçœŸå€¼è¡¨ï¼š\n$P \\qquad Q$ $P \\vee Q$ $0 \\qquad 0$ $1$ $0 \\qquad 1$ $0$ $1 \\qquad 0$ $0$ $1 \\qquad 1$ $1$ â€œ$\\leftrightarrow$â€ æ˜¯è‡ªç„¶è¯­è¨€ä¸­çš„ â€œç­‰ä»·â€ã€â€œå……åˆ†å¿…è¦æ¡ä»¶â€ã€â€œå½“ä¸”ä»…å½“â€ ç­‰çš„é€»è¾‘æŠ½è±¡ã€‚\næ€»ç»“ å‘½é¢˜è”ç»“è¯ â€œ$\\wedge$â€ã€â€œ$\\vee$â€ã€â€œ$\\leftrightarrow$â€ å…·æœ‰å¯¹ç§°æ€§ï¼Œè€Œ â€œ$\\neg$â€ã€â€œ$\\rightarrow$â€ æ²¡æœ‰ã€‚\nä¼˜å…ˆçº§ ä¼˜å…ˆé¡ºåºï¼šæ‹¬å·ã€å¦å®šã€åˆå–ã€æå–ã€è•´æ¶µã€ç­‰ä»·ã€‚åŒçº§çš„è”ç»“è¯ï¼ŒæŒ‰å‡ºç°çš„å…ˆåæ¬¡åºï¼ˆä»å·¦åˆ°å³ï¼‰ã€‚\nå‘½é¢˜è”ç»“è¯çš„åº”ç”¨ è”ç»“è¯ä¸å¼€å…³ç”µè·¯ è®¾å‘½é¢˜ $P$ï¼šå¼€å…³ $S_1$ é—­åˆï¼›å‘½é¢˜ $Q$ï¼šå¼€å…³ $S_2$ é—­åˆã€‚åˆ™ä»¥ä¸‹ç”µè·¯å¯ç”¨å¤åˆå‘½é¢˜è¡¨ç¤ºï¼š\nâ€œä¸²è”â€ï¼š$P \\wedge Q$ï¼› â€œå¹¶è”â€ï¼š$P \\vee Q$ï¼› â€œæ–­å¼€â€ï¼š$\\neg P$ã€‚ è”ç»“è¯ä¸é€»è¾‘ç”µè·¯ ä¸é—¨ï¼š$\\wedge$\næˆ–é—¨ï¼š$\\vee$\néé—¨ï¼š$\\neg$\nè”ç»“è¯ä¸ç½‘é¡µæ£€ç´¢ åœ¨å¸ƒå°”æ£€ç´¢ä¸­ï¼Œ\n$\\wedge$ï¼ˆä¸€èˆ¬ç”¨ AND è¡¨ç¤ºï¼‰ç”¨äºåŒ¹é…åŒ…å«ä¸¤ä¸ªæ£€ç´¢é¡¹çš„è®°å½•ï¼› $\\vee$ï¼ˆä¸€èˆ¬ç”¨ OR è¡¨ç¤ºï¼‰ç”¨äºåŒ¹é…åŒ…å«ä¸¤ä¸ªæ£€ç´¢é¡¹è‡³å°‘ä¸€ä¸ªçš„è®°å½•ï¼› $\\neg$ï¼ˆä¸€èˆ¬ç”¨ NOT è¡¨ç¤ºï¼‰ç”¨äºæ’é™¤æŸä¸ªç‰¹å®šçš„æ£€ç´¢é¡¹ã€‚ è”ç»“è¯ä¸ä½è¿ç®— æŒ‰ä½ä¸ï¼š$\\wedge$ï¼› æŒ‰ä½æˆ–ï¼š$\\vee$ï¼› æŒ‰ä½å–åï¼š$\\neg$ã€‚ å‘½é¢˜å…¬å¼ å¤åˆå‘½é¢˜æ˜¯ç”±åŸå­å‘½é¢˜ä¸è”ç»“è¯æ„æˆçš„å‘½é¢˜ã€‚æ‰€ä»¥ï¼Œå½“å…¶ä¸­çš„åŸå­å‘½é¢˜æ˜¯å‘½é¢˜å˜å…ƒæ—¶ï¼Œæ­¤å¤åˆå‘½é¢˜ä¹Ÿå³ä¸ºå‘½é¢˜å˜å…ƒçš„å‡½æ•°ï¼Œä¸”è¯¥å‡½æ•°çš„å€¼ä»ä¸º â€œçœŸâ€ æˆ– â€œå‡â€ å€¼ï¼Œè¿™æ ·çš„å‡½æ•°å¯å½¢è±¡åœ°ç§°ä¸º â€œçœŸå€¼å‡½æ•°â€ æˆ– â€œå‘½é¢˜å…¬å¼â€ï¼Œæ­¤å‘½é¢˜å…¬å¼æ²¡æœ‰ç¡®åˆ‡çš„çœŸå€¼ã€‚\nå‘½é¢˜å…¬å¼çš„å®šä¹‰ å‘½é¢˜æ¼”ç®—çš„åˆå¼å…¬å¼ï¼ˆWell Formed Formulaï¼ŒWFFï¼‰ï¼Œåˆç§°å‘½é¢˜å…¬å¼ï¼ˆç®€ç§°å…¬å¼ï¼‰ï¼ŒæŒ‰å¦‚ä¸‹è§„åˆ™ç”Ÿæˆï¼š\nå‘½é¢˜å˜å…ƒæœ¬èº«æ˜¯ä¸€ä¸ªå…¬å¼ï¼› å¦‚æœ $G$ æ˜¯å…¬å¼ï¼Œåˆ™ $(\\neg G)$ ä¹Ÿæ˜¯å…¬å¼ï¼› å¦‚æœ $G$ã€$H$ æ˜¯å…¬å¼ï¼Œåˆ™ $(G \\wedge H)$ã€$(G \\vee H)$ã€$(G \\rightarrow H)$ã€$(G \\leftrightarrow H)$ ä¹Ÿæ˜¯å…¬å¼ï¼› ä»…ç”±æœ‰é™æ­¥ä½¿ç”¨è§„åˆ™ 1ã€2ã€3 åæ‰€å¾—åˆ°çš„åŒ…å«å‘½é¢˜å˜å…ƒã€è”ç»“è¯å’Œæ‹¬å·çš„ç¬¦å·ä¸²æ‰æ˜¯å‘½é¢˜å…¬å¼ã€‚ å¦‚æœ $G$ æ˜¯å«æœ‰ $n$ ä¸ªå‘½é¢˜å˜å…ƒ $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ çš„å…¬å¼ï¼Œå¯è®°ä¸ºï¼š$G(P_1,P_2,P_3,\\cdots,P_n)$ æˆ–ç®€å†™ä¸º $G$ã€‚\nåŸå­å‘½é¢˜å˜å…ƒæ˜¯æœ€ç®€å•çš„åˆå¼å…¬å¼ï¼Œç§°ä¸ºåŸå­åˆå¼å…¬å¼ï¼Œç®€ç§°åŸå­å…¬å¼ï¼› å‘½é¢˜å…¬å¼æ²¡æœ‰çœŸå€¼ï¼Œåªæœ‰å¯¹å…¶å‘½é¢˜å˜å…ƒè¿›è¡ŒçœŸå€¼æŒ‡æ´¾åï¼Œæ–¹å¯ç¡®å®šå‘½é¢˜å…¬å¼çš„çœŸå€¼ï¼› æ•´ä¸ªå…¬å¼çš„æœ€å¤–å±‚æ‹¬å·å¯ä»¥çœç•¥ï¼Œå…¬å¼ä¸­ä¸å½±å“è¿ç®—æ¬¡åºçš„æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥ï¼› åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸ºäº†ä¾¿äºå­˜å‚¨å’Œè¿ç®—ï¼Œå‘½é¢˜å…¬å¼å¸¸ç”¨äºŒå…ƒæ•°æ–¹å¼æ¥è¡¨è¾¾ã€‚ å‘½é¢˜å…¬å¼çš„è§£é‡Š è®¾ $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ æ˜¯å‡ºç°åœ¨å…¬å¼ $G$ ä¸­çš„æ‰€æœ‰å‘½é¢˜å˜å…ƒï¼Œç»™ $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ æŒ‡å®šä¸€ç»„çœŸå€¼ï¼Œåˆ™è¿™ç»„çœŸå€¼ç§°ä¸º $G$ çš„ä¸€ä¸ªè§£é‡Šï¼Œå¸¸è®°ä¸º $I$ã€‚\nå¦‚æœå…¬å¼ $G$ åœ¨è§£é‡Š $I$ ä¸‹æ˜¯çœŸçš„ï¼Œåˆ™ç§° $I$ æ»¡è¶³ $G$ï¼Œæ­¤æ—¶ $I$ æ˜¯ $G$ çš„æˆçœŸèµ‹å€¼ï¼› å¦‚æœ $G$ åœ¨è§£é‡Š $I$ ä¸‹æ˜¯å‡çš„ï¼Œåˆ™ç§° $I$ å¼„å‡äº $G$ï¼Œæ­¤æ—¶ $I$ æ˜¯ $G$ çš„æˆå‡èµ‹å€¼ã€‚ å‘½é¢˜å…¬å¼çš„åˆ†ç±» æ°¸çœŸå…¬å¼ï¼ˆåˆå«é‡è¨€å¼ï¼Œtautologyï¼‰ï¼šå¦‚æœåœ¨å®ƒçš„æ‰€æœ‰è§£é‡Šä¹‹ä¸‹å…¶çœŸå€¼éƒ½ä¸º â€œçœŸâ€ã€‚ æ°¸å‡å…¬å¼ï¼ˆåˆå«çŸ›ç›¾å¼ï¼Œcontradictionï¼‰ï¼šå¦‚æœåœ¨å®ƒçš„æ‰€æœ‰è§£é‡Šä¸‹å…¶çœŸå€¼éƒ½ä¸º â€œå‡â€ã€‚ ä¸å¯æ»¡è¶³å…¬å¼ï¼šå³æ°¸å‡å…¬å¼ã€‚ å¯æ»¡è¶³å…¬å¼ï¼ˆsatisfiableï¼‰ï¼šä¸ä¸ºæ°¸å‡å…¬å¼çš„å…¬å¼ã€‚ $G$ æ˜¯æ°¸çœŸçš„å½“ä¸”ä»…å½“ $\\neg G$ æ˜¯æ°¸å‡çš„ï¼› $G$ æ˜¯å¯æ»¡è¶³çš„å½“ä¸”ä»…å½“è‡³å°‘æœ‰ä¸€ä¸ªè§£é‡Š $I$ï¼Œä½¿ $G$ åœ¨ $I$ ä¸‹ä¸ºçœŸï¼› è‹¥ $G$ æ˜¯æ°¸çœŸå¼ï¼Œåˆ™ $G$ ä¸€å®šæ˜¯å¯æ»¡è¶³å¼ï¼Œä½†åä¹‹å¯æ»¡è¶³å¼ä¸ä¸€å®šæ˜¯æ°¸çœŸå¼ã€‚ ç­‰ä»·çš„å‘½é¢˜å…¬å¼ è®¾ $G$ã€$H$ æ˜¯ä¸¤ä¸ªå‘½é¢˜å…¬å¼ï¼Œ$P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ æ˜¯å‡ºç°åœ¨ $G$ã€$H$ ä¸­æ‰€æœ‰çš„å‘½é¢˜å˜å…ƒï¼Œå¦‚æœå¯¹äº $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ çš„ $2^n$ ä¸ªè§£é‡Šï¼Œ$G$ ä¸ $H$ çš„çœŸå€¼ç»“æœéƒ½ç›¸åŒï¼Œåˆ™ç§°å…¬å¼ $G$ ä¸ $H$ æ˜¯ç­‰ä»·çš„ï¼Œè®°ä½œ $G = H$ï¼ˆæˆ– $G \\Leftrightarrow H$ï¼‰ã€‚\nå…¬å¼ç­‰ä»·çš„å……åˆ†å¿…è¦æ¡ä»¶ å¯¹äºä»»æ„ä¸¤ä¸ªå…¬å¼ $G$ å’Œ $H$ï¼Œ$G = H$ çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯å…¬å¼ $G \\leftrightarrow H$ æ˜¯æ°¸çœŸå…¬å¼ã€‚\nProofï¼š\nå¿…è¦æ€§ï¼šå‡å®š $G = H$ï¼Œåˆ™ $G$ã€$H$ åœ¨å…¶ä»»æ„è§£é‡Š $I$ ä¸‹æˆ–åŒä¸ºçœŸæˆ–åŒä¸ºå‡ï¼Œäºæ˜¯ç”± â€œ$\\leftrightarrow$â€ çš„æ„ä¹‰çŸ¥ï¼Œå…¬å¼ $G \\leftrightarrow H$ åœ¨å…¶ä»»ä½•çš„è§£é‡Š $I$ ä¸‹ï¼Œå…¶çœŸå€¼ä¸º â€œçœŸâ€ï¼Œå³ $G \\leftrightarrow H$ ä¸ºæ°¸çœŸå…¬å¼ã€‚ å……åˆ†æ€§ï¼šå‡å®šå…¬å¼ $G \\leftrightarrow H$ æ˜¯æ°¸çœŸå…¬å¼ï¼Œ$I$ æ˜¯å®ƒçš„ä»»æ„è§£é‡Šï¼Œåœ¨ $I$ ä¸‹ï¼Œ$G \\leftrightarrow H$ ä¸ºçœŸï¼Œå› æ­¤ï¼Œ$G$ï¼Œ$H$ æˆ–åŒä¸ºçœŸæˆ–åŒä¸ºå‡ï¼Œç”±äº $I$ çš„ä»»æ„æ€§ï¼Œæ•…æœ‰ $G = H$ã€‚ å¯åˆ¤å®šæ€§ï¼šèƒ½å¦ç»™å‡ºä¸€ä¸ªå¯è¡Œæ–¹æ³•ï¼Œå®Œæˆå¯¹ä»»æ„å…¬å¼çš„åˆ¤å®šé—®é¢˜ï¼ˆç±»å‹æˆ–ç­‰ä»·åˆ¤å®šï¼‰ã€‚\nå‘½é¢˜å…¬å¼æ˜¯å¯åˆ¤å®šçš„ã€‚\nå‘½é¢˜å…¬å¼çš„åŸºæœ¬ç­‰ä»·å…³ç³» è®¾ $G$ã€$H$ã€$S$ ä¸ºä»»æ„çš„å‘½é¢˜å…¬å¼ã€‚\næ€§è´¨ ç­‰å¼ å¹‚ç­‰å¾‹ $G \\vee G = G$$G \\wedge G = G$ äº¤æ¢å¾‹ $G \\vee H = H \\vee G$$G \\wedge H = H \\wedge G$ ç»“åˆå¾‹ $G \\vee (H \\vee S) = (G \\vee H) \\vee S$$G \\wedge (H \\wedge S) = (G \\wedge H) \\wedge S$ åŒä¸€å¾‹ $G \\wedge 0 = G$$G \\vee 1 = G$ é›¶å¾‹ $G \\vee 1 = 1$$G \\wedge 0 = 0$ åˆ†é…å¾‹ $G \\vee (H \\wedge S) = (G \\vee H) \\wedge (G \\vee S)$$G \\wedge (H \\vee S) = (G \\wedge H) \\vee (G \\wedge S)$ å¸æ”¶ç‡ $G \\vee (G \\wedge H) = G$$G \\wedge (G \\vee H) = G$ çŸ›ç›¾å¾‹ $\\neg G \\wedge G = 0$ æ’ä¸­å¾‹ $\\neg G \\vee G = 1$ åŒé‡å¦å®šå¾‹ $\\neg(\\neg G) = G$ å¾·æ‘©æ ¹å¾‹ $\\neg(G \\vee H) = \\neg G \\wedge \\neg H$$\\neg(G \\wedge H) = \\neg G \\vee \\neg H$ è•´æ¶µå¼ $G \\rightarrow H = \\neg G \\vee H$ å‡è¨€æ˜“ä½ $G \\rightarrow H = \\neg H \\rightarrow \\neg G$ ç­‰ä»·å¼ $G \\leftrightarrow H = (G \\rightarrow H) \\wedge (H \\rightarrow G) = (\\neg G \\vee H) \\wedge (\\neg H \\vee G)$ ç­‰ä»·å¦å®šç­‰å¼ $G \\leftrightarrow H = \\neg G \\leftrightarrow \\neg H$ å½’è°¬è®º $(G \\rightarrow H) \\wedge (G \\rightarrow \\neg H) = \\neg G$ åŸºæœ¬ç­‰ä»·å…³ç³»çš„åº”ç”¨ ï¼ˆ1ï¼‰åˆ¤æ–­å…¬å¼ç±»å‹\nï¼ˆ2ï¼‰è¯æ˜å…¬å¼ç­‰ä»·\nï¼ˆ3ï¼‰å¼€å…³ç”µè·¯åŒ–ç®€\nï¼ˆ4ï¼‰é€»è¾‘ç”µè·¯åŒ–ç®€\nï¼ˆ5ï¼‰å…¶ä»–\nèŒƒå¼ å‘½é¢˜å˜å…ƒæˆ–å‘½é¢˜å˜å…ƒçš„å¦å®šç§°ä¸ºæ–‡å­—ã€‚ æœ‰é™ä¸ªæ–‡å­—ï¼ˆ$\\ge 1$ï¼‰çš„æå–ç§°ä¸ºç®€å•æå–å¼ï¼ˆæˆ–å­å¥ï¼‰ã€‚ å•ä¸ªæ–‡å­—å¯æ„æˆå­å¥ã€‚ æœ‰é™ä¸ªæ–‡å­—ï¼ˆ$\\ge 1$ï¼‰çš„åˆå–ç§°ä¸ºç®€å•åˆå–å¼ï¼ˆæˆ–çŸ­è¯­ï¼‰ã€‚ å•ä¸ªæ–‡å­—å¯æ„æˆçŸ­è¯­ã€‚ $P$ ä¸ $\\neg P$ ç§°ä¸ºäº’è¡¥å¯¹ã€‚ æœ‰é™ä¸ªï¼ˆ$\\ge 1$ï¼‰ç®€å•åˆå–å¼ï¼ˆçŸ­è¯­ï¼‰çš„æå–å¼ç§°ä¸ºæå–èŒƒå¼ï¼ˆdisjunctive normal formï¼‰ã€‚ æœ‰é™ä¸ªï¼ˆ$\\ge 1$ï¼‰ç®€å•æå–å¼ï¼ˆå­å¥ï¼‰çš„åˆå–å¼ç§°ä¸ºåˆå–èŒƒå¼ï¼ˆconjunctive normal formï¼‰ã€‚ æ–‡å­—å¯ä»¥æ˜¯å­å¥ã€çŸ­è¯­ã€æå–èŒƒå¼ã€åˆå–èŒƒå¼ã€‚\nå‘½é¢˜å…¬å¼çš„æå–èŒƒå¼å¯ä»¥æŒ‡å‡ºå…¬å¼ä½•æ—¶ä¸ºçœŸï¼Œè€Œåˆå–èŒƒå¼å¯ä»¥æŒ‡å‡ºå…¬å¼ä½•æ—¶ä¸ºå‡ï¼Œä»è€Œèƒ½å¤Ÿæ›¿ä»£çœŸå€¼è¡¨ã€‚ å‘½é¢˜å…¬å¼çš„èŒƒå¼è¡¨è¾¾å¹¶ä¸å”¯ä¸€ã€‚ Exampleï¼š\n$P$ã€$\\neg P$ å¯ä»¥æ˜¯æ–‡å­—ã€çŸ­è¯­ã€å­å¥ã€æå–èŒƒå¼ã€åˆå–èŒƒå¼ã€‚\n$P \\vee Q \\vee \\neg R$ æ˜¯å­å¥ã€åˆå–èŒƒå¼ã€æå–èŒƒå¼ã€‚\nå°†è¯¥å¼è®¤ä¸ºæ˜¯å­å¥ï¼Œé‚£ä¹ˆå•ä¸ªå­å¥å°±å¯æ„æˆåˆå–èŒƒå¼ã€‚\nå°† $P$ã€$Q$ã€$\\neg R$ è®¤ä¸ºæ˜¯çŸ­è¯­ï¼Œé‚£ä¹ˆä¸‰ä¸ªçŸ­è¯­æå–å¯æ„æˆæå–èŒƒå¼ã€‚\n$(P \\vee Q \\vee \\neg R)$ æ˜¯å­å¥ã€åˆå–èŒƒå¼ã€‚\nåŠ äº†æ‹¬å·åè¯¥å¼å°±è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä¸èƒ½ä½œä¸ºæå–èŒƒå¼ã€‚\n$\\neg P \\wedge Q \\wedge R$ æ˜¯çŸ­è¯­ã€æå–èŒƒå¼ã€åˆå–èŒƒå¼ã€‚\nå°†è¯¥å¼è®¤ä¸ºæ˜¯çŸ­è¯­ï¼Œé‚£ä¹ˆå•ä¸ªçŸ­è¯­å°±å¯æ„æˆæå–èŒƒå¼ã€‚ å°† $\\neg P$ã€$Q$ã€$R$ è®¤ä¸ºæ˜¯å­å¥ï¼Œé‚£ä¹ˆä¸‰ä¸ªå­å¥åˆå–å¯æ„æˆåˆå–èŒƒå¼ã€‚ $(\\neg P \\wedge Q \\wedge R)$ æ˜¯çŸ­è¯­ã€æå–èŒƒå¼ã€‚ $P \\vee (Q \\vee \\neg R)$ å³ä¸æ˜¯æå–èŒƒå¼ä¹Ÿä¸æ˜¯åˆå–èŒƒå¼ï¼Œä½†è½¬æ¢ä¸º $P \\vee Q \\vee \\neg R$ åï¼Œå³æ˜¯æå–èŒƒå¼åˆæ˜¯åˆå–èŒƒå¼ã€‚\nèŒƒå¼å­˜åœ¨å®šç† è”ç»“è¯ä¹‹é—´å¯ä»¥é€šè¿‡å‘½é¢˜å…¬å¼çš„åŸºæœ¬ç­‰ä»·å…³ç³»è¿›è¡Œç›¸äº’è½¬æ¢ï¼Œå› æ­¤å¯ä»¥é€šè¿‡é€»è¾‘ç­‰ä»·å…¬å¼æ±‚å‡ºç­‰ä»·çš„æå–èŒƒå¼å’Œåˆå–èŒƒå¼ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š\nå°†å…¬å¼ä¸­çš„ $\\rightarrow$ã€$\\leftrightarrow$ ç”¨è”ç»“è¯ $\\neg$ã€$\\wedge$ã€$\\vee$ æ¥å–ä»£ï¼ˆä½¿ç”¨è•´æ¶µå¼å’Œç­‰ä»·å¼ï¼‰ã€‚ å°†å¦å®šè”ç»“è¯ç§»åˆ°å„ä¸ªå‘½é¢˜å˜å…ƒçš„å‰ç«¯ï¼Œå¹¶æ¶ˆå»å¤šä½™çš„å¦å®šå·ï¼ˆä½¿ç”¨åŒé‡å¦å®šå¾‹å’Œå¾·æ‘©æ ¹å¾‹ï¼‰ã€‚ åˆ©ç”¨åˆ†é…å¾‹ï¼Œå¯å°†å…¬å¼åŒ–æˆä¸€äº›åˆå–å¼çš„æå–ï¼Œæˆ–åŒ–æˆä¸€äº›æå–å¼çš„åˆå–ã€‚ å¯¹ä»»æ„ä¸€ä¸ªå…¬å¼ï¼Œç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼ˆæœŸé—´å¯ç”¨å…¶ä»–ç­‰ä»·å…¬å¼æ¥åŒ–ç®€ï¼‰ï¼Œå¿…èƒ½åŒ–æˆä¸å…¶ç­‰ä»·çš„æå–èŒƒå¼å’Œåˆå–èŒƒå¼ã€‚\nä¸»èŒƒå¼ èŒƒå¼æ˜¯ä¸å”¯ä¸€çš„ï¼Œå¯¹æ„æˆèŒƒå¼çš„å­å¥æˆ–çŸ­è¯­è¿›ä¸€æ­¥è¿›è¡Œè§„èŒƒåŒ–ï¼Œå½¢æˆå”¯ä¸€çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚\næå¤§é¡¹å’Œæå°é¡¹ åœ¨å«æœ‰ $n$ ä¸ªå‘½é¢˜å˜å…ƒ $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ çš„çŸ­è¯­æˆ–å­å¥ä¸­ï¼Œè‹¥ æ¯ä¸ªå‘½é¢˜å˜å…ƒä¸å…¶å¦å®šä¸åŒæ—¶å­˜åœ¨ï¼Œä½†äºŒè€…ä¹‹ä¸€æ°å¥½å‡ºç°ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ï¼Œå¹¶ä¸”å‡ºç°çš„æ¬¡åºä¸ $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ ä¸€è‡´ï¼Œåˆ™\nç§°æ­¤çŸ­è¯­ä¸ºå…³äº $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ çš„ä¸€ä¸ªæå°é¡¹ï¼Œ ç§°æ­¤å­å¥ä¸ºå…³äº $P_1ã€P_2ã€P_3ã€\\cdotsã€P_n$ çš„ä¸€ä¸ªæå¤§é¡¹ã€‚ è‹¥æœ‰ $n$ ä¸ªå‘½é¢˜ï¼Œåˆ™åº”æœ‰ $2^n$ ä¸ªä¸åŒçš„æå°é¡¹å’Œ $2^n$ ä¸ªä¸åŒçš„æå¤§é¡¹ã€‚\nå¯¹äºæå°é¡¹ï¼š\næ²¡æœ‰ä¸¤ä¸ªä¸åŒçš„æå°é¡¹æ˜¯ç­‰ä»·çš„ã€‚ æ¯ä¸ªæå°é¡¹åªæœ‰ä¸€ç»„æˆå‡èµ‹å€¼ï¼Œå› æ­¤å¯ç”¨äºç»™æå¤§é¡¹ç¼–ç ã€‚ ç¼–ç è§„åˆ™ä¸ºï¼šå‘½é¢˜å˜å…ƒä¸ 0 å¯¹åº”ï¼Œå‘½é¢˜å˜å…ƒçš„å¦å®šä¸ 1 å¯¹åº”ã€‚ Exampleï¼š\nè®¾å‘½é¢˜å˜å…ƒ $P$ã€$Q$ï¼Œ\nå¯¹äºæå¤§é¡¹ï¼ˆä¸æå°é¡¹ç›¸åçš„è§„å®šï¼‰ï¼š\næ²¡æœ‰ä¸¤ä¸ªä¸åŒçš„æå¤§é¡¹æ˜¯ç­‰ä»·çš„ã€‚ æ¯ä¸ªæå¤§é¡¹åªæœ‰ä¸€ç»„æˆå‡èµ‹å€¼ï¼Œå› æ­¤å¯ç”¨äºç»™æå¤§é¡¹ç¼–ç ã€‚ ç¼–ç è§„åˆ™ä¸ºï¼šå‘½é¢˜å˜å…ƒä¸ 0 å¯¹åº”ï¼Œå‘½é¢˜å˜å…ƒçš„å¦å®šä¸ 1 å¯¹åº”ã€‚ Exampleï¼š\nè®¾å‘½é¢˜å˜å…ƒ $P$ã€$Q$ï¼Œ\næå°é¡¹çš„ç¼–ç å¯å¯¹åº”ä¸ºçœŸæƒ…å†µæ—¶ï¼Œç›¸åº”çš„çŸ­è¯­ä¸ºçœŸçš„çœŸå€¼åºåˆ—ã€‚æå¤§é¡¹çš„ç¼–ç å¯å¯¹åº”ä¸ºå‡æƒ…å†µæ—¶ï¼Œç›¸åº”çš„å­å¥ä¸ºå‡çš„çœŸå€¼åºåˆ—ã€‚\næå°é¡¹å’Œæå¤§é¡¹è¿˜æœ‰ä»¥ä¸‹æ€§è´¨ï¼š\nè®¾æœ‰ $n$ ä¸ªå‘½é¢˜å˜å…ƒï¼Œè®¾ $i,j \\in {0, 1, \\cdots, 2^{n-1}}$ ä¸” $i \\neq j$ï¼Œ$m_iã€m_j$ ä»£è¡¨è¿™ $n$ ä¸ªå‘½é¢˜å˜å…ƒå¯¹åº”çš„æå°é¡¹ï¼Œ$M_iã€M_j$ ä»£è¡¨å¯¹åº”çš„å‘½é¢˜å˜å…ƒçš„æå¤§é¡¹ã€‚é‚£ä¹ˆå°±æœ‰\n$m_i \\wedge m_j = 0$ï¼Œ\n$M_i \\vee M_j = 1$ï¼›\n$m_i = \\neg M_i$ï¼Œ\n$M_i = \\neg m_i$ï¼›\n$\\displaystyle \\bigvee_{i=0}^{2^n-1}{m_i} = 1$ï¼Œ\n$\\displaystyle \\bigwedge_{i=0}^{2^n-1}{M_i} = 0$ã€‚\nä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ åœ¨ç»™å®šçš„æå–èŒƒå¼ä¸­ï¼Œè‹¥æ¯ä¸€ä¸ªçŸ­è¯­éƒ½æ˜¯æå°é¡¹ï¼Œä¸”æŒ‰ç…§ç¼–ç ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œåˆ™ç§°è¯¥èŒƒå¼ä¸ºä¸»æå–èŒƒå¼(principal disjunctive normal form)ã€‚ åœ¨ç»™å®šçš„åˆå–èŒƒå¼ä¸­ï¼Œè‹¥æ¯ä¸€ä¸ªå­å¥éƒ½æ˜¯æå¤§é¡¹ï¼Œä¸”æŒ‰ç…§ç¼–ç ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œåˆ™ç§°è¯¥èŒƒå¼ä¸ºä¸»åˆå–èŒƒå¼(principal conjunctive normal form)ã€‚ å¦‚æœä¸€ä¸ªä¸»æå–èŒƒå¼ä¸åŒ…å«ä»»ä½•æå°é¡¹ï¼Œåˆ™ç§°è¯¥ä¸»æå–èŒƒå¼ä¸º â€œç©ºâ€ï¼›å¦‚æœä¸€ä¸ªä¸»åˆå–èŒƒå¼ä¸åŒ…å«ä»»ä½•æå¤§é¡¹ï¼Œåˆ™ç§°ä¸»åˆå–èŒƒå¼ä¸º â€œç©ºâ€ã€‚\nä»»ä½•ä¸€ä¸ªå…¬å¼éƒ½æœ‰ä¸ä¹‹ç­‰ä»·çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚\nå¦‚æœæŸä¸€å…¬å¼çš„ä¸»æå–èŒƒå¼åŒ…å«æ‰€æœ‰çš„æå°é¡¹ï¼Œå³ä¸»åˆå–èŒƒå¼ä¸ºç©ºï¼Œåˆ™è¯¥å…¬å¼ä¸ºæ°¸çœŸå…¬å¼ã€‚ å¦‚æœæŸä¸€å…¬å¼ä¸»åˆå–èŒƒå¼åŒ…å«æ‰€æœ‰çš„æå¤§é¡¹ï¼Œå³ä¸»æå–èŒƒå¼ä¸ºç©ºï¼Œåˆ™è¯¥å…¬å¼ä¸ºæ°¸å‡å…¬å¼ã€‚ è‹¥æœ‰ä¸¤ä¸ªå…¬å¼ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„ä¸»æå–èŒƒå¼æˆ–ä¸»åˆå–èŒƒå¼ï¼Œåˆ™ä¸¤å…¬å¼ç­‰ä»·ã€‚ ä¸»èŒƒå¼æ±‚è§£å®šç† æ±‚å‡ºè¯¥å…¬å¼æ‰€å¯¹åº”çš„æå–èŒƒå¼å’Œåˆå–èŒƒå¼ã€‚\næ¶ˆå»é‡å¤å‡ºç°çš„å‘½é¢˜å˜å…ƒï¼ŒçŸ›ç›¾å¼æˆ–é‡è¨€å¼ã€‚\nå…ˆåˆ©ç”¨å¹‚ç­‰å¾‹ã€çŸ›ç›¾å¾‹å’Œæ’ä¸­å¾‹æ¶ˆå»é‡å¤å‡ºç°çš„å‘½é¢˜å…ƒç´ ï¼› å†ä½¿ç”¨åŒä¸€å¾‹å’Œé›¶å¾‹æ¶ˆå»å…¶ä¸­çš„å¸¸æ•°ã€‚ è‹¥æå–ï¼ˆåˆå–ï¼‰èŒƒå¼çš„æŸä¸€ä¸ªçŸ­è¯­ï¼ˆå­å¥ï¼‰$B_i$ ä¸­ç¼ºå°‘å‘½é¢˜å˜å…ƒ $P$ï¼Œåˆ™å¯ç”¨å¦‚ä¸‹æ–¹å¼å°† $P$ è¡¥è¿›å»ï¼š\næ±‚ä¸»æå–èŒƒå¼ï¼š$B_i = B_i \\wedge 1 = B_i \\wedge (\\neg P \\vee P) = (B_i \\wedge \\neg P) \\vee (B_i \\wedge P)$ï¼› æ±‚ä¸»åˆå–èŒƒå¼ï¼š$B_i = B_i \\vee 0 = B_i \\vee (\\neg P \\wedge P) = (B_i \\vee \\neg P) \\wedge (B_i \\vee P)$ã€‚ åˆ©ç”¨å¹‚ç­‰å¾‹å°†é‡å¤çš„æå°é¡¹å’Œæå¤§é¡¹åˆå¹¶ï¼Œå¹¶åˆ©ç”¨äº¤æ¢å¾‹è¿›è¡Œé¡ºåºè°ƒæ•´ï¼Œç”±æ­¤å¯è½¬æ¢æˆæ ‡å‡†çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚\nä¸»æå–èŒƒå¼çš„æå°é¡¹ç¼–ç åºåˆ—ä¸ä¸»åˆå–èŒƒå¼çš„æå¤§é¡¹å˜ç¼–ç åºåˆ—æ˜¯äº’è¡¥çš„ã€‚å› æ­¤ï¼Œåªéœ€æ±‚å‡ºä¸»æå–èŒƒå¼æˆ–ä¸»åˆå–èŒƒå¼ä¸­å…¶ä¸­ä¹‹ä¸€ï¼Œå°±å¯å¯¹åº”æ±‚å‡ºä¸»åˆå–èŒƒå¼æˆ–ä¸»æå–èŒƒå¼ã€‚\nå…¬å¼è½¬æ¢æ³• çœŸå€¼è¡¨æŠ€æœ¯ ä»çœŸå€¼è¡¨æŒ‰æ‰€ç»™çš„ç®—æ³•æ±‚å‡ºä¸»èŒƒå¼çš„æ–¹æ³•ï¼Œç§°ä¸ºçœŸå€¼è¡¨æŠ€æœ¯ (technique of truth table)ã€‚\næ–¹æ³•ï¼š\nåˆ—å‡ºçœŸå€¼è¡¨ï¼Œé€‰å‡ºå…¬å¼çš„çœŸå€¼ç»“æœä¸ºçœŸçš„æ‰€æœ‰çš„è¡Œï¼Œåœ¨è¿™æ ·çš„æ¯ä¸€è¡Œä¸­ï¼Œæ‰¾åˆ°å…¶æ¯ä¸€ä¸ªè§£é‡Šæ‰€å¯¹åº”çš„æå°é¡¹ï¼Œå°†è¿™äº›æå°é¡¹è¿›è¡Œæå–å³å¯å¾—åˆ°ç›¸åº”çš„ä¸»æå–èŒƒå¼ã€‚ åˆ—å‡ºçœŸå€¼è¡¨ï¼Œé€‰å‡ºå…¬å¼çš„çœŸå€¼ç»“æœä¸ºå‡çš„æ‰€æœ‰çš„è¡Œï¼Œåœ¨è¿™æ ·çš„æ¯ä¸€è¡Œä¸­ï¼Œæ‰¾åˆ°å…¶æ¯ä¸€ä¸ªè§£é‡Šæ‰€å¯¹åº”çš„æå¤§é¡¹ï¼Œå°†è¿™äº›æå¤§é¡¹è¿›è¡Œåˆå–å³å¯å¾—åˆ°ç›¸åº”çš„ä¸»åˆå–èŒƒå¼ã€‚ æ¨ç† æ¨ç†æ˜¯æŒ‡ä»ä¸€ç»„å‰æåˆä¹é€»è¾‘çš„æ¨å‡ºç»“è®ºçš„æ€ç»´è¿‡ç¨‹ã€‚\nåŸºæœ¬æ¨ç†å½¢å¼ è®¾ $G_1ã€G_2ã€\\cdotsã€G_nã€H$ æ˜¯å‘½é¢˜å…¬å¼ï¼Œç§° $H$ æ˜¯ $G_1ã€G_2ã€\\cdotsã€G_n$ çš„é€»è¾‘ç»“æœå½“ä¸”ä»…å½“å¯¹ä»»æ„è§£é‡Š $I$ï¼Œå¦‚æœ $I$ ä½¿å¾— $G_1 \\wedge G_2 \\wedge \\cdots \\wedge G_n$ ä¸ºçœŸï¼Œåˆ™ $I$ ä¹Ÿä¼šä½¿ $H$ ä¸ºçœŸï¼Œè®°ä¸º $G_1ã€G_2ã€\\cdotsã€G_n\\ \\Rightarrow\\ H$ï¼Œâ€œ$\\Rightarrow$â€ ç§°ä¸ºè•´æ¶µå…³ç³»ï¼Œæ­¤æ—¶ç§° $G_1ã€G_2ã€\\cdotsã€G_n\\ \\Rightarrow\\ H$ ä¸ºæœ‰æ•ˆçš„ï¼Œå¦åˆ™ç§°ä¸ºæ— æ•ˆçš„ã€‚\n$G_1ã€G_2ã€\\cdotsã€G_n$ ç§°ä¸ºä¸€ç»„å‰æï¼Œæœ‰æ—¶ç”¨é›†åˆ $\\Gamma$ æ¥è¡¨ç¤ºï¼Œè®°ä¸º $\\Gamma = {G_1,G_2,\\cdots,G_n}$ï¼Œ$H$ ç§°ä¸ºç»“è®ºã€‚æ­¤æ—¶ä¹Ÿç§° $H$ æ˜¯å‰æé›†åˆ $\\Gamma$ çš„é€»è¾‘ç»“æœï¼Œè®°ä¸º $\\Gamma \\Rightarrow H$ã€‚\næ¨ç†çš„åˆ¤å®šå®šç† å…¬å¼ $H$ æ˜¯å‰æé›†åˆ $\\Gamma = {G_1,G_2,\\cdots,G_n}$ çš„é€»è¾‘ç»“æœå½“ä¸”ä»…å½“ $(G_1 \\wedge G_2 \\wedge \\cdots \\wedge G_n) \\rightarrow H$ ä¸ºæ°¸çœŸå…¬å¼ã€‚\nåˆ¤å®šæ–¹æ³•ï¼š\nçœŸå€¼è¡¨æŠ€æœ¯ï¼Œ å…¬å¼è½¬æ¢æ³•ï¼Œ ä¸»æå–èŒƒå¼æ³•ã€‚ åŸºæœ¬è•´æ¶µå…³ç³» è®¾ $G$ã€$H$ã€$I$ ä¸ºä»»æ„å‘½é¢˜å…¬å¼ã€‚\nè§„åˆ™ å…¬å¼ ç®€åŒ–è§„åˆ™ $G \\wedge H \\Rightarrow G$$G \\wedge H \\Rightarrow H$ æ·»åŠ è§„åˆ™ $G \\Rightarrow G \\vee H$ åˆå–å¼•å…¥è§„åˆ™ $G,H \\Rightarrow G \\wedge H$ é€‰è¨€ä¸‰æ®µè®º $G \\vee H, \\neg G \\Rightarrow H$ å‡è¨€æ¨ç†è§„åˆ™ $G \\rightarrow H, G \\Rightarrow H$ å¦å®šåä»¶å¼ $G \\rightarrow H, \\neg H \\Rightarrow \\neg G$ å‡è¨€ä¸‰æ®µè®º $G \\rightarrow H, H \\rightarrow I \\Rightarrow G \\rightarrow I$ äºŒéš¾æ¨è®º $G \\vee H, G \\rightarrow I, H \\rightarrow I \\Rightarrow I$ ![])(16265520749814.jpg)\nè‡ªç„¶æ¼”ç»æ³•æ¨ç† è§„åˆ™ $\\mathbf{P}$ï¼ˆç§°ä¸ºå‰æå¼•ç”¨è§„åˆ™ï¼‰ï¼šåœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œå¯éšæ—¶å¼•å…¥å‰æé›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªå‰æï¼Œå¼•å…¥é™„åŠ å‰ææ—¶éœ€ä½œå£°æ˜ã€‚\nè§„åˆ™ $\\mathbf{T}$ï¼ˆç§°ä¸ºé€»è¾‘ç»“æœå¼•ç”¨è§„åˆ™ï¼‰ï¼šåœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œå¯éšæ—¶å¼•å…¥å…¬å¼ $S$ï¼Œè¯¥å…¬å¼ $S$ æ˜¯ç”±å…¶å‰çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…¬å¼ï¼ˆå¯ä»¥æ˜¯å‰ææ¡ä»¶æˆ–æ¨å¯¼å‡ºæ¥çš„å…¬å¼ï¼‰æ¨å¯¼å‡ºæ¥çš„é€»è¾‘ç»“æœã€‚\nè§„åˆ™ $\\mathbf{CP}$ï¼ˆç§°ä¸ºé™„åŠ å‰æè§„åˆ™ï¼‰ï¼šå¦‚æœèƒ½ä»ç»™å®šçš„å‰æé›†åˆ $\\Gamma$ ä¸å…¬å¼ $P$ æ¨å¯¼å‡º $S$ï¼Œåˆ™èƒ½ä»æ­¤å‰æé›†åˆ $\\Gamma$ æ¨å¯¼å‡º $P \\rightarrow S$ã€‚\nåŸç†ï¼š$P \\rightarrow (Q \\rightarrow R) = (P \\wedge Q) \\rightarrow R$ã€‚ ä½¿ç”¨åœºåˆï¼šå½“ç»“è®ºå…¬å¼æ˜¯è•´æ¶µå¼æˆ–æå–å¼æ—¶ä½¿ç”¨ã€‚\nå‘½é¢˜æ¼”ç®—æ¨ç†ç³»ç»Ÿ = ä¸‰ä¸ªæ¨ç†è§„åˆ™ + åŸºæœ¬ç­‰ä»·å…¬å¼ + åŸºæœ¬è•´æ¶µå…¬å¼ã€‚\nä»å‰æé›†åˆ $\\Gamma$ æ¨å‡ºç»“è®º $H$ çš„ä¸€ä¸ªæ¼”ç»æ˜¯æ„é€ å‘½é¢˜å…¬å¼çš„ä¸€ä¸ªæœ‰é™åºåˆ—ï¼š\n$$ H_1, H_2, H_3, \\cdots, H_{n-1}, H_n $$\nå…¶ä¸­ï¼Œ$H_i$ æˆ–è€…æ˜¯ $\\Gamma$ ä¸­çš„æŸä¸ªå‰æï¼Œæˆ–è€…æ˜¯å‰é¢çš„æŸäº› $H_j(j \u0026lt; i)$ çš„æœ‰æ•ˆç»“è®ºï¼Œå¹¶ä¸” $H_n$ å°±æ˜¯ $H$ï¼Œåˆ™ç§°å…¬å¼ $H$ ä¸ºè¯¥æ¼”ç»çš„æœ‰æ•ˆç»“è®ºï¼Œæˆ–è€…ç§°ä»å‰æ $\\Gamma$ èƒ½å¤Ÿæ¼”ç»å‡ºç»“è®º $H$ æ¥ã€‚\nç›´æ¥è¯æ˜æ³• è§„åˆ™ CP è¯æ˜æ³• é—´æ¥è¯æ˜æ³• é—´æ¥è¯æ˜æ³•åˆå«åè¯æ³•ã€å½’è°¬æ³•ã€‚\nåè¯æ³•åœ¨é€»è¾‘æ¨ç†ä¸­æœ‰æ—¶ååˆ†æ–¹ä¾¿ã€‚åè¯æ³•å®é™…ä¸Šæ˜¯è§„åˆ™ CP çš„ä¸€ç§å˜å½¢ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ CP è¯æ˜æ³•æ¥ä»£æ›¿å®ƒã€‚\nè°“è¯é€»è¾‘ å¯¹ç®€å•å‘½é¢˜è¿›è¡Œåˆ†è§£ï¼Œåˆ©ç”¨ä¸ªä½“è¯ã€è°“è¯å’Œé‡è¯æ¥æè¿°ç®€å•å‘½é¢˜å¥å­ï¼Œä»è€Œç ”ç©¶å…¶ä¸­çš„é€»è¾‘å…³ç³»ï¼Œå¹¶ç ”ç©¶ä¸ªä½“ä¸æ€»ä½“çš„å†…åœ¨è”ç³»å’Œæ•°é‡å…³ç³»ã€‚\nä¸ªä½“è¯ åœ¨åŸå­å‘½é¢˜ä¸­ï¼Œå¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„å®¢ä½“ï¼ˆå¥å­ä¸­çš„ä¸»è¯­ã€å®¾è¯­ç­‰ï¼‰ï¼Œç§°ä¸ºä¸ªä½“è¯ã€‚\nä¸ªä½“è¯å¯åˆ†ä¸ºä¸ªä½“å¸¸é‡å’Œä¸ªä½“å˜é‡ï¼Œå‡åœ¨ä¸ªä½“åŸŸå†…å–å€¼ã€‚\nè¡¨ç¤ºå…·ä½“æˆ–ç‰¹å®šçš„ä¸ªä½“è¯ç§°ä¸ºä¸ªä½“å¸¸é‡ã€‚ä¸€èˆ¬ç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯ $a, b, c, \\cdots, a_1, b_1, c_1, \\cdots$ ç­‰è¡¨ç¤ºã€‚ è¡¨ç¤ºæŠ½è±¡çš„æˆ–æ³›æŒ‡çš„ä¸ªä½“è¯ç§°ä¸ºä¸ªä½“å˜é‡ã€‚ä¸€èˆ¬ç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯ $x, y, z, \\cdots, x_1, y_1, z_1, \\cdots$ ç­‰è¡¨ç¤ºã€‚ ä¸ªä½“è¯çš„å–å€¼èŒƒå›´ç§°ä¸ºä¸ªä½“åŸŸï¼ˆæˆ–è®ºåŸŸï¼‰ï¼Œå¸¸ç”¨ $D$ è¡¨ç¤ºã€‚ å®‡å®™é—´çš„æ‰€æœ‰ä¸ªä½“åŸŸèšé›†åœ¨ä¸€èµ·æ‰€æ„æˆçš„ä¸ªä½“åŸŸç§°ä¸ºå…¨æ€»ä¸ªä½“åŸŸã€‚æ— ç‰¹åˆ«è¯´æ˜æ—¶ï¼Œé»˜è®¤ä½¿ç”¨å…¨æ€»ä¸ªä½“åŸŸã€‚ è°“è¯ åœ¨åŸå­å‘½é¢˜ä¸­ï¼Œç”¨ä»¥åˆ»åˆ’å®¢ä½“çš„æ€§è´¨æˆ–å®¢ä½“ä¹‹é—´çš„å…³ç³»å³æ˜¯è°“è¯ã€‚\nè®¾ $D$ ä¸ºéç©ºçš„ä¸ªä½“åŸŸï¼Œå®šä¹‰åœ¨ $D^n$ ä¸Šå–å€¼ä¸º ${0,1}$ ä¸Šçš„ $n$ å…ƒå‡½æ•°ï¼Œç§°ä¸º $n$ å…ƒå‘½é¢˜å‡½æ•°æˆ– $n$ å…ƒè°“è¯ï¼Œè®°ä¸º $P(x_1, x_2, \\cdots, x_n)$ã€‚å…¶ä¸­ï¼Œä¸ªä½“å˜é‡ $x_1, x_2, \\cdots, x_n \\in D$ã€‚\nè¡¨ç¤ºå…·ä½“æ€§è´¨æˆ–å…³ç³»çš„è°“è¯ç§°ä¸ºè°“è¯å¸¸é‡ã€‚ è¡¨ç¤ºæŠ½è±¡çš„æˆ–æ³›æŒ‡çš„æ€§è´¨æˆ–å…³ç³»çš„è°“è¯ç§°ä¸ºè°“è¯å˜é‡ã€‚ è°“è¯å‡ä½¿ç”¨å¤§å†™è‹±æ–‡å­—æ¯ $P, Q, R, \\cdots, F, G, H, \\cdots$ æ¥è¡¨ç¤ºã€‚\n$D^n$ è¡¨ç¤º $n$ ä¸ªä¸ªä½“éƒ½åœ¨ä¸ªä½“åŸŸ $D$ ä¸Šå–å€¼ã€‚\nè°“è¯ä¸­ä¸ªä½“è¯çš„é¡ºåºä¸èƒ½éšæ„å˜æ›´ã€‚ ä¸€å…ƒè°“è¯ç”¨ä»¥æè¿°æŸä¸€ä¸ªä¸ªä½“çš„æŸç§ç‰¹æ€§ï¼Œè€Œ $n$ å…ƒè°“è¯ï¼ˆ$n \\ge 2$ï¼‰åˆ™ç”¨ä»¥æè¿° $n$ ä¸ªä¸ªä½“ä¹‹é—´çš„å…³ç³»ã€‚ è°“è¯ $P(x_1, x_2, \\cdots, x_n)$ åŒ…å«äº†ä¸ªä½“å˜é‡ï¼Œå› è€Œæœ¬èº«å¹¶ä¸æ˜¯å‘½é¢˜ï¼Œåªæœ‰ç”¨è°“è¯å¸¸é‡å–ä»£ $P$ï¼Œç”¨ä¸ªä½“å¸¸é‡å–ä»£ $x_1, x_2, \\cdots, x_n$ åæ‰ä¼šç§°ä¸ºå‘½é¢˜ã€‚ ä¸€èˆ¬å°†æ²¡æœ‰ä»»ä½•ä¸ªä½“å˜é‡çš„è°“è¯ç§°ä¸º 0 å…ƒè°“è¯ï¼ˆå¦‚ï¼Œ$F(a_1, a_2, \\cdots, a_n$ï¼‰ã€‚å½“ $F$ ä¸ºè°“è¯å¸¸é‡æ—¶ï¼Œ0 å…ƒè°“è¯å°±æˆä¸ºå‘½é¢˜ã€‚å‘½é¢˜é€»è¾‘ä¸­çš„æ‰€æœ‰å‘½é¢˜éƒ½å¯ä»¥è¡¨ç¤ºæˆ 0 å…ƒè°“è¯ã€‚ é‡è¯ å…¨ç§°é‡è¯ï¼ˆ$\\forall x$ï¼‰ï¼šæ‰€æœ‰çš„ $x$ï¼›ä»»æ„çš„ $x$ï¼›ä¸€åˆ‡çš„ $x$ï¼›æ¯ä¸€ä¸ª $x$ï¼›â€¦â€¦ å­˜åœ¨é‡è¯ï¼ˆ$\\exists x$ï¼‰ï¼šæœ‰äº› $x$ï¼›è‡³å°‘æœ‰ä¸€ä¸ª $x$ï¼›æŸä¸€äº› $x$ï¼›å­˜åœ¨ $x$ï¼›â€¦â€¦ å…¶ä¸­çš„ $x$ ç§°ä¸ºä½œç”¨å˜é‡ã€‚ä¸€èˆ¬å°†å…¶é‡è¯åŠ åœ¨å…¶è°“è¯ä¹‹å‰ï¼Œè®°ä¸º $(\\forall x)F(x)$ã€$(\\exists x)F(x)$ã€‚æ­¤æ—¶ï¼Œ$F(x)$ ç§°ä¸ºå…¨ç§°é‡è¯å’Œå­˜åœ¨é‡è¯çš„è¾–åŸŸã€‚\n![16267650196113.jpg]\nå¼•å…¥æ›´å‡†ç¡®çš„è¡¨è¾¾æ–¹å¼ï¼šä»¥ä¸Šç¬¦å·åŒ–å¿…é¡»è¦ç‰¹åˆ«æ³¨æ˜ä¸ªä½“åŸŸï¼Œåœ¨è¡¨è¾¾æ¯”è¾ƒå¤æ‚çš„å‘½é¢˜æ—¶ä¼šå®¹æ˜“æ··æ·†ã€‚\nå…¶ä¸­ï¼Œ$T(x)$ã€$C(x)$ã€$H(x)$ å’Œ $N(x)$ åˆ†åˆ«æ˜¯å„è‡ªä¸ªä½“å˜é‡çš„ä¸ªæ€§è°“è¯ã€‚\nç»Ÿä¸€ä¸€ä¸ªå…¨æ€»ä¸ªä½“åŸŸï¼Œè€Œå¯¹æ¯ä¸€ä¸ªå¥å­ä¸­ä¸ªä½“å˜é‡çš„å˜åŒ–èŒƒå›´ç”¨ä¸€å…ƒç‰¹æ€§è°“è¯åˆ»åˆ’ä¹‹ã€‚è¿™ç§ç‰¹æ€§è°“è¯åœ¨åŠ å…¥åˆ°å‘½é¢˜å‡½æ•°ä¸­æ—¶å¿…å®šéµå¾ªå¦‚ä¸‹åŸåˆ™ï¼š\nå¯¹äºå…¨ç§°é‡è¯ï¼ˆ$\\forall x$ï¼‰ï¼Œåˆ»åˆ’å…¶å¯¹åº”ä¸ªä½“åŸŸçš„ç‰¹æ€§è°“è¯ä½œä¸ºè•´æ¶µå¼çš„å‰ä»¶åŠ å…¥ã€‚ å¯¹äºå­˜åœ¨é‡è¯ï¼ˆ$\\exists x$ï¼‰ï¼Œåˆ»åˆ’å…¶å¯¹åº”ä¸ªä½“åŸŸçš„ç‰¹æ€§è°“è¯ä½œä¸ºåˆå–å¼çš„åˆå–é¡¹åŠ å…¥ã€‚ è°“è¯é€»è¾‘çš„çœŸå€¼ $(\\forall x)G(x)$ï¼šå¯¹ $\\forall x \\in D$ï¼Œ$G(x)$ éƒ½æˆç«‹ã€‚ $(\\forall x)G(x)$ å–å€¼ä¸º 1 å½“ä¸”ä»…å½“å¯¹ä»»æ„ $x \\in D$ï¼Œ$G(x)$ éƒ½å–å€¼ä¸º 1ï¼› $(\\forall x)G(x)$ å–å€¼ä¸º 0 å½“ä¸”ä»…å½“å­˜åœ¨ $x_0 \\in D$ï¼Œä½¿å¾— $G(x_0)$ å–å€¼ä¸º 0ã€‚ $(\\exists x)G(x)$ï¼šå­˜åœ¨ä¸€ä¸ª $x_0 \\in D$ï¼ˆæ˜¯æœ‰ä¸€ä¸ªçš„æ„æ€ï¼Œå³å¯ä»¥å­˜åœ¨ä¸€ä¸ªä»¥ä¸Šï¼Œä¸”åŒ…æ‹¬ä¸€ä¸ªï¼‰ï¼Œä½¿å¾— $G(x_0)$ æˆç«‹ã€‚ $(\\exists x)G(x)$ å–å€¼ä¸º 1 å½“ä¸”ä»…å½“å­˜åœ¨ $x_0 \\in D$ï¼Œä½¿å¾— $G(x_0)$ å–å€¼ä¸º 1ï¼› $(\\exists x)G(x)$ å–å€¼ä¸º 0 å½“ä¸”ä»…å½“å¯¹ä»»æ„ $x \\in D$ï¼Œ$G(x)$ éƒ½å–å€¼ä¸º 0ã€‚ å½“ä¸ªä½“åŸŸ $D = {x_0, x_1, \\cdots, x_n}$ æ˜¯æœ‰é™é›†åˆæ—¶ï¼Œ\n$(\\forall x)G(x) = G(x_0) \\wedge G(x_1) \\wedge \\cdots \\wedge G(x_n)$ï¼› $(\\exists x)G(x) = G(x_0) \\vee G(x_1) \\vee \\cdots \\vee G(x_n)$ã€‚ æ³¨æ„ï¼šé‡è¯å¯¹å˜å…ƒçš„çº¦æŸå¾€å¾€ä¸é‡è¯çš„æ¬¡åºæœ‰å…³ã€‚ä¸åŒçš„é‡è¯æ¬¡åºï¼Œå¯ä»¥äº§ç”Ÿä¸åŒçš„çœŸå€¼ã€‚å› æ­¤å½“å¤šä¸ªé‡è¯åŒæ—¶å‡ºç°æ—¶ï¼Œä¸èƒ½éšæ„é¢ å€’å®ƒä»¬çš„é¡ºåºï¼Œå¦åˆ™ä¼šæ”¹å˜åŸæœ‰çš„å«ä¹‰ã€‚\nè°“è¯åˆå¼å…¬å¼ åœ¨åŸºäºè°“è¯çš„å½¢å¼åŒ–ä¸­ï¼Œå°†ä½¿ç”¨å¦‚ä¸‹å››ç§ç¬¦å·ï¼š\nå¸¸é‡ç¬¦å·ï¼šæŒ‡æ‰€å±ä¸ªä½“åŸŸ $D$ ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯ $a, b, c, \\cdots, a_1, b_1, c_1, \\cdots$ æ¥è¡¨ç¤ºã€‚ å˜é‡ç¬¦å·ï¼šæŒ‡æ‰€å±ä¸ªä½“åŸŸ $D$ ä¸­çš„ä»»æ„å…ƒç´ ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯ $x, y, z, \\cdots, x_1, y_1, z_1, \\cdots$ æ¥è¡¨ç¤ºã€‚ å‡½æ•°ç¬¦å·ï¼š$n$ å…ƒå‡½æ•°ç¬¦å· $f(x_1, x_2, \\cdots, x_n)$ å¯ä»¥æ˜¯æ‰€å±ä¸ªä½“åŸŸé›†åˆ $D^n \\rightarrow D$ çš„ä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯ $f, g, h, \\cdots, f_1, g_1, h_1, \\cdots$ æ¥è¡¨ç¤ºã€‚ è°“è¯ç¬¦å·ï¼š$n$ å…ƒè°“è¯ç¬¦å· $P(x_1, x_2, \\cdots, x_n)$ å¯ä»¥æ˜¯æ‰€å±ä¸ªä½“åŸŸé›†åˆ $D_n \\rightarrow {0, 1}$ çš„ä»»æ„ä¸€ä¸ªè°“è¯ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å¤§å†™è‹±æ–‡å­—æ¯ $P, Q, R, \\cdots, P_1, Q_1, R_1, \\cdots$ æ¥è¡¨ç¤ºã€‚ å‡½æ•°å¯ç”¨äºè¡¨è¾¾ä¸ªä½“è¯ä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°è¡¨ç¤ºè°“è¯é€»è¾‘ä¸­çš„ä¸ªä½“è¯ã€‚\n$n$ å…ƒå‡½æ•°æ˜¯ä¸ªä½“åŸŸé›†åˆ $D^n$ åˆ° $D$ çš„æ˜ å°„ã€‚\né¡¹çš„å®šä¹‰ è°“è¯é€»è¾‘ä¸­çš„é¡¹ï¼ˆTermï¼‰ï¼Œè¢«é€’å½’åœ°å®šä¹‰ä¸ºï¼š\nä»»æ„çš„å¸¸é‡ç¬¦å·æˆ–ä»»æ„çš„å˜é‡ç¬¦å·æ˜¯é¡¹ã€‚ è‹¥ $f(x_1, x_2, \\cdots, x_n)$ æ˜¯ $n$ å…ƒå‡½æ•°ç¬¦å·ï¼Œ$t_1, t_2, \\cdots, t_n$ æ˜¯é¡¹ï¼Œåˆ™ $f(t_1, t_2, \\cdots, t_n)$ æ˜¯é¡¹ã€‚ ä»…ç”±æœ‰é™æ¬¡ä½¿ç”¨ä»¥ä¸Šä¸¤ä¸ªè§„åˆ™äº§ç”Ÿçš„ç¬¦å·ä¸²æ‰æ˜¯é¡¹ã€‚ åˆå¼å…¬å¼çš„å®šä¹‰ è‹¥ $P(x_1, x_2, \\cdots, x_n)$ æ˜¯ $n$ å…ƒè°“è¯ï¼Œ $t_1, t_2, \\cdots, t_n$ æ˜¯é¡¹ï¼Œåˆ™ç§° $P(t_1, t_2, \\cdots, t_n)$ ä¸ºåŸå­è°“è¯å…¬å¼ï¼Œç®€ç§°åŸå­å…¬å¼ã€‚\næ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„è¡¨è¾¾å¼ï¼Œç§°ä¸ºåˆå¼å…¬å¼ï¼ˆwell-formed formulae/wffï¼‰ï¼Œç®€ç§°å…¬å¼ã€‚\nåŸå­å…¬å¼æ˜¯åˆå¼å…¬å¼ã€‚ è‹¥ $G$ã€$H$ æ˜¯åˆå¼å…¬å¼ï¼Œåˆ™ $(\\neg G), (\\neg H), (G \\vee H), (G \\wedge H), (G \\rightarrow H), (G \\leftrightarrow H)$ ä¹Ÿæ˜¯åˆå¼å…¬å¼ã€‚ è‹¥ $G$ æ˜¯åˆå¼å…¬å¼ï¼Œ$x$ æ˜¯ä¸ªä½“å˜é‡ï¼Œåˆ™ $(\\forall x)G$ã€$(\\exists x)G$ ä¹Ÿæ˜¯åˆå¼å…¬å¼ã€‚ ç”±æœ‰é™æ¬¡ä½¿ç”¨ä»¥ä¸Šä¸‰ä¸ªè§„åˆ™äº§ç”Ÿçš„è¡¨è¾¾å¼æ˜¯åˆå¼å…¬å¼ã€‚ å…¬å¼çš„æœ€å¤–å±‚æ‹¬å·å¯çœç•¥ã€‚ é‡è¯åé¢çš„æ‹¬å·çœç•¥æ–¹å¼ä¸ºï¼šä¸€ä¸ªé‡è¯çš„è¾–åŸŸä¸­ä»…å‡ºç°ä¸€ä¸ªåŸå­å…¬å¼ï¼Œåˆ™æ­¤è¾–åŸŸçš„å¤–å±‚æ‹¬å·å¯çœç•¥ï¼Œå¦åˆ™ä¸èƒ½çœç•¥ã€‚ ä¸€ä¸ªä¸ªä½“è¯åªèƒ½æ¥å—ä¸€ä¸ªé‡è¯çš„çº¦æŸï¼Œå¦åˆ™å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ è‡ªç”±å˜å…ƒä¸çº¦æŸå˜å…ƒ ç»™å®šä¸€ä¸ªåˆå¼å…¬å¼ $G$ï¼Œè‹¥å˜å…ƒ $x$ å‡ºç°åœ¨ä½¿ç”¨å˜å…ƒçš„é‡è¯çš„è¾–åŸŸä¹‹å†…ï¼Œåˆ™ç§°å˜å…ƒ $x$ çš„å‡ºç°ä¸ºçº¦æŸå‡ºç°ï¼Œæ­¤æ—¶çš„å˜å…ƒ $x$ ç§°ä¸ºçº¦æŸå˜å…ƒã€‚è‹¥ $x$ çš„å‡ºç°ä¸æ˜¯çº¦æŸå‡ºç°ï¼Œåˆ™ç§°å®ƒä¸ºè‡ªç”±å‡ºç°ï¼Œæ­¤æ—¶çš„å˜å…ƒ $x$ ç§°ä¸ºè‡ªç”±å˜å…ƒã€‚\nè‹¥é‡è¯åæœ‰æ‹¬å·ï¼Œåˆ™æ‹¬å·å†…çš„å­å…¬å¼å°±æ˜¯è¯¥é‡è¯çš„è¾–åŸŸï¼› è‹¥é‡è¯åæ— æ‹¬å·ï¼Œåˆ™ä¸é‡è¯é‚»æ¥çš„å­å…¬å¼ä¸ºè¯¥é‡è¯çš„è¾–åŸŸã€‚ ä¸ºäº†åŒºåˆ†åŒä¸€å…¬å¼ä¸­ï¼Œå˜é‡ç¬¦å·ç›¸åŒä½†ä¸æ˜¯åŒä¸ºè‡ªç”±å˜å…ƒæˆ–çº¦æŸå˜å…ƒçš„ç¬¦å·ï¼ˆè¿™æ ·çš„å˜é‡æ˜¯ä¸åŒçš„å˜é‡ï¼Œä»…æ˜¯ç¬¦å·ç›¸åŒï¼‰ï¼Œå¯ä»¥åˆ†åˆ«ä½¿ç”¨ä¸åŒçš„å˜é‡ç¬¦å·æ¥è¡¨ç¤ºã€‚\nçº¦æŸå˜å…ƒçš„å‘½åè§„åˆ™ï¼š\nå°†é‡è¯ä¸­çš„å˜å…ƒä»¥åŠè¯¥é‡è¯è¾–åŸŸä¸­æ­¤å˜é‡çš„æ‰€æœ‰çº¦æŸå‡ºç°éƒ½ç”¨æ–°çš„ä¸ªä½“å˜å…ƒæ›¿æ¢ï¼› æ–°çš„å˜å…ƒä¸€å®šè¦æœ‰åˆ«äºæ”¹åè¾–åŸŸä¸­çš„å…¶ä»–å˜é‡ã€‚ è‡ªç”±å˜å…ƒçš„å‘½åè§„åˆ™ï¼š\nå°†å…¬å¼ä¸­å‡ºç°è¯¥è‡ªç”±å˜å…ƒçš„æ¯ä¸€å¤„éƒ½ç”¨æ–°çš„ä¸ªä½“å˜å…ƒæ›¿æ¢ï¼›\næ–°çš„å˜å…ƒä¸å…è®¸åœ¨æºå…¬å¼ä¸­ä»¥ä»»ä½•çº¦æŸå½¢å¼å‡ºç°ã€‚\nä¹Ÿå¯ç”¨ä¸ªä½“å¸¸é‡ä»£å…¥ã€‚ä½†æ˜¯ä»£å…¥ä¸ªä½“å¸¸é‡åï¼Œå…¬å¼çš„å«ä¹‰å°±å‘ç”Ÿäº†å˜åŒ–ï¼Œå³å…¬å¼ä»å…·æœ‰æ™®éæ„ä¹‰å˜ä¸ºä»…é’ˆå¯¹è¯¥ä¸ªä½“å˜é‡æœ‰æ„ä¹‰ã€‚\né—­å¼ è®¾ $G$ æ˜¯ä»»æ„ä¸€ä¸ªå…¬å¼ï¼Œè‹¥ $G$ ä¸­æ— è‡ªç”±å‡ºç°çš„ä¸ªä½“å˜å…ƒï¼Œåˆ™ç§° $G$ ä¸ºå°é—­çš„åˆå¼å…¬å¼ï¼Œç®€ç§°é—­å¼ã€‚\né—­å¼æ˜¯ä¸€ä¸ªå‘½é¢˜ã€‚\nè°“è¯é€»è¾‘å…¬å¼çš„è§£é‡Š è°“è¯é€»è¾‘ä¸­ï¼Œå…¬å¼ $G$ çš„æ¯ä¸€ä¸ªè§£é‡Š $I$ ç”±å¦‚ä¸‹å››éƒ¨åˆ†ç»„æˆï¼š\néç©ºçš„ä¸ªä½“åŸŸé›†åˆ $D$ã€‚ $G$ ä¸­çš„æ¯ä¸ªå¸¸é‡ç¬¦å·ï¼ŒæŒ‡å®š $D$ ä¸­çš„æŸä¸ªç‰¹å®šå…ƒç´ ã€‚ $G$ ä¸­çš„æ¯ä¸ª $n$ å…ƒå‡½æ•°ç¬¦å·ï¼ŒæŒ‡å®š $D^n$ åˆ° $D$ ä¸­çš„æŸä¸ªç‰¹å®šçš„å‡½æ•°ã€‚ $G$ ä¸­çš„æ¯ä¸ª $n$ å…ƒè°“è¯ç¬¦å·ï¼ŒæŒ‡å®š $D^n$ åˆ° ${0,1}$ ä¸­çš„æŸä¸ªç‰¹å®šçš„è°“è¯ã€‚ è§„å®šï¼šå…¬å¼ä¸­æ— è‡ªç”±å˜å…ƒï¼Œæˆ–å°†è‡ªç”±å˜å…ƒçœ‹æˆæ˜¯å¸¸é‡ç¬¦å·ã€‚\nè°“è¯å…¬å¼çš„åˆ†ç±» å¦‚æœå…¬å¼ $G$ åœ¨å®ƒæ‰€æœ‰çš„è§£é‡Šä¸‹éƒ½å–å€¼ä¸ºçœŸï¼Œåˆ™ç§° $G$ ä¸ºæœ‰æ•ˆå…¬å¼ã€‚\nå¦‚ $(\\forall x)(\\forall y)(P(x, y) \\wedge Q(x, y) \\rightarrow P(x, y))$ã€‚\nå¦‚æœå…¬å¼ $G$ åœ¨å®ƒæ‰€æœ‰çš„è§£é‡Šä¸‹éƒ½å–å€¼ä¸ºå‡ï¼Œåˆ™ç§° $G$ ä¸ºçŸ›ç›¾å…¬å¼ã€‚\nå¦‚ï¼Œ$(\\forall x)(\\forall y)(\\neg P(x, y) \\wedge P(x, y))$ã€‚\nå¦‚æœè‡³å°‘æœ‰ä¸€ç§è§£é‡Šä½¿å¾—å…¬å¼ $G$ å–å€¼ä¸ºçœŸï¼Œåˆ™ç§° $G$ ä¸ºå¯æ»¡è¶³å…¬å¼ã€‚\nè°“è¯å…¬å¼çš„å¯åˆ¤å®šæ€§ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè°“è¯é€»è¾‘æ˜¯ä¸å¯åˆ¤å®šçš„ã€‚\nåªå«æœ‰ä¸€å…ƒè°“è¯å˜é¡¹çš„å…¬å¼æ˜¯å¯åˆ¤å®šçš„ã€‚\nå¦‚ä¸‹å½¢å¼çš„å…¬å¼ï¼š\n$(\\forall x_1) (\\forall x_2) \\cdots (\\forall x_n) P(x_1, x_2, \\cdots, x_n)$ï¼Œ\n$(\\exists x_1) (\\exists x_2) \\cdots (\\exists x_n) P(x_1, x_2, \\cdots, x_n)$ã€‚\nè‹¥ $P$ ä¸­æ— é‡è¯å’Œå…¶ä»–è‡ªç”±å˜å…ƒæ—¶ï¼Œæ˜¯å¯åˆ¤å®šçš„ã€‚\nä¸ªä½“åŸŸæœ‰ç©·æ—¶çš„è°“è¯å…¬å¼æ˜¯å¯åˆ¤å®šçš„ã€‚\nè°“è¯å…¬å¼çš„ç­‰ä»·å…³ç³» å¦‚æœå…¬å¼ $G \\leftrightarrow H$ æ˜¯æœ‰æ•ˆå…¬å¼ï¼Œåˆ™å…¬å¼ $G$ã€$H$ ç§°ä¸ºç­‰ä»·çš„ï¼Œè®°ä¸º $G=H$ã€‚\nè®¾ $G(P_1, P_2, \\cdots, P_n)$ æ˜¯å‘½é¢˜æ¼”ç®—1ä¸­çš„å‘½é¢˜å…¬å¼ï¼Œ$P_1, P_2, \\cdots, P_n$ æ˜¯å‡ºç°åœ¨ $G$ ä¸­çš„å‘½é¢˜å˜å…ƒï¼Œå½“ç”¨ä»»æ„çš„è°“è¯å…¬å¼ $G_i(1\\le i \\le n)$ åˆ†åˆ«ä»£å…¥ $P_i$ åï¼Œå¾—åˆ°çš„æ–°è°“è¯å…¬å¼ $G(G_1, G_2, \\cdots, G_n)$â€‹ ç§°ä¸ºåŸå…¬å¼çš„ä»£å…¥å®ä¾‹ã€‚\nå®šç†ï¼šæ°¸çœŸå…¬å¼çš„ä»»æ„ä¸€ä¸ªä»£å…¥å®ä¾‹å¿…ä¸ºæœ‰æ•ˆå…¬å¼ã€‚\n##è°“è¯æ¼”ç®—ä¸­çš„åŸºæœ¬ç­‰ä»·å…¬å¼\nå‘½é¢˜æ¼”ç®—ä¸­çš„åŸºæœ¬ç­‰ä»·å…¬å¼åœ¨è°“è¯æ¼”ç®—ä¸­ä¾ç„¶æˆç«‹ã€‚\næ€§è´¨ ç­‰å¼ æ”¹åè§„åˆ™ (\\exists x)G(x) = (\\exists y)G(y)(\\forall x)G(x) = (\\forall y)G(y) é‡è¯è½¬æ¢å¾‹oré‡è¯å¦å®šç­‰ä»·å¼ \\neg (\\exists x)G(x) = (\\forall x)G(x)\\neg (\\forall x) \\neg G(x) = (\\exists x) \\neg G(x) å‘½é¢˜å…¬å¼ã€èŒƒå¼å’Œæ¨ç†éƒ½æ˜¯é’ˆå¯¹å‘½é¢˜æ¼”ç®—ï¼Œå®ƒä»¬çš„å¯¹è±¡éƒ½æ˜¯å‘½é¢˜ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2022å¹´1æœˆ23æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/%E5%91%BD%E9%A2%98%E9%80%BB%E8%BE%91/","series":[],"smallImg":"","tags":[{"title":"æ•°å­¦","url":"/tags/%E6%95%B0%E5%AD%A6/"}],"timestamp":1642874621,"title":"å‘½é¢˜é€»è¾‘"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ç»å…¸å­—ç¬¦ä¸²åŒ¹é… BFæš´åŠ›åŒ¹é…ç®—æ³• æš´åŠ›åŒ¹é…ï¼Œå³Brute Forceï¼Œç®€ç§°BFç®—æ³•ã€‚BFç®—æ³•æ˜¯ä¸€ç§ç®€å•æœ´ç´ çš„æ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œå¸¸ç”¨äºåœ¨ä¸€ä¸ªä¸»ä¸²Så†…æŸ¥æ‰¾ä¸€ä¸ªå­ä¸²Tçš„å‡ºç°ä½ç½®ã€‚\nç®—æ³•æ­¥éª¤ å‡è®¾æœ‰ä¸»ä¸²Sä¸å­ä¸²Pï¼Œä¸»ä¸²Sçš„é•¿åº¦ä¸ºNï¼Œå­ä¸²Tçš„é•¿åº¦ä¸ºMã€‚\nå°†Så’ŒTå·¦å¯¹é½ï¼Œå¹¶æ¯”è¾ƒå…¶ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ è‹¥åŒ¹é…ï¼Œåˆ™ç»§ç»­æ¯”è¾ƒä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸€ç›´åˆ°ç¬¬Mä¸ªå…ƒç´ ã€‚ è‹¥ä¸åŒ¹é…åˆ™Tå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚ æ¥ç€æ ¹æ®æ­¥éª¤3å’Œ4è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°åŒ¹é…åˆ°æˆ–è€…Tç§»åŠ¨äº†N-Mä¸”ä»æœªåŒ¹é…åˆ°ã€‚ ä»£ç å®ç° Pythonå®ç° å®ç°1ï¼š\ndef BFMatch(s, p): if len(s) \u0026lt; len(p): return -1 i, j = 0, 0 # åŒ¹é…é˜¶æ®µ while i \u0026lt; len(s) and j \u0026lt; len(p): # åŒ¹é…ï¼Œså’Œpçš„æŒ‡é’ˆå‡å‘å‰ä¸€æ­¥ if s[i] == p[j]: i += 1 j += 1 # ä¸åŒ¹é…ï¼Œiåé€€åˆ°ä¸‹ä¸€ä¸ªè¦åŒ¹é…çš„ä½ç½®ï¼Œjåå¤´åˆ°på¼€å¤´ else: i = i - j + 1 j = 0 if j == len(p): return i - j return -1 if __name__ == \u0026#34;__main__\u0026#34;: s = \u0026#34;abcdefghijkl\u0026#34; p = \u0026#34;ijk\u0026#34; result = BFMatch(s, p) if result == -1: print(\u0026#34;False\u0026#34;) else: print(result) å®ç°2ï¼š\ndef BFMatch(s, p): if len(s) \u0026lt; len(p): return -1 # æœ€å¤šç§»åŠ¨len(s)-len(p)+1æ¬¡ # å¦‚æœsçš„å‰len(s)-len(p)+1ä¸ªä¸på‡æ²¡æœ‰åŒ¹é… # é‚£ä¹ˆç›´æ¥åˆ¤æ–­ä¸ºä¸åŒ¹é…ï¼Œæ— éœ€æ¯”è¾ƒålen(p)-1ä¸ª for i in range(len(s)-len(p)+1): index = i # å½“å‰æ¯”è¾ƒçš„å­—ç¬¦ for j in range(len(p)): # ç›¸ç­‰ç»§ç»­æ¯”è¾ƒä¸‹ä¸€ä¸ª if s[index] == p[j]: index += 1 # ä¸ç›¸ç­‰åœæ­¢æ¯”è¾ƒ else: break # å¦‚æœå®Œå…¨ç›¸ç­‰ï¼Œè¿”å›å½“å‰ä½ç½® if index - i == len(p): return i return -1 if __name__ == \u0026#34;__main__\u0026#34;: s = \u0026#34;abcdefghijkl\u0026#34; p = \u0026#34;ijk\u0026#34; result = BFMatch(s, p) if result == -1: print(\u0026#34;False\u0026#34;) else: print(result) Cå®ç° #include \u0026lt;stdio.h\u0026gt; int BFMatch(char s[], int len_s, char p[], int len_p) { if (len_s \u0026lt; len_p) return -1; int i = 0, j = 0; // ä¹‹åŒ¹é…sçš„å‰len_s-len_p+1ä¸ª // å¦‚æœs[len(s)-len(p)] != p[0] // é‚£ä¹ˆå°±ä¸ç”¨ç»§ç»­åŒ¹é… // i-jä»£è¡¨sä¸på¯¹é½çš„ä½ç½® while (i-j \u0026lt;= len_s-len_p) { if (s[i] == p[j]) { i++; j++; if (j == len_p) return i - j; continue; } i = i - j + 1; j = 0; } return -1; } int main(void) { #define S \u0026#34;abcdefghijkl\u0026#34; #define P \u0026#34;ijk\u0026#34; char s[sizeof(S)] = S; char p[sizeof(P)] = P; int result = BFMatch(s, sizeof(S)-1, p, sizeof(P)-1); if (result == -1) printf(\u0026#34;False\\n\u0026#34;); else printf(\u0026#34;%d\\n\u0026#34;, result); return 0; } KMPå¿«é€ŸåŒ¹é…ç®—æ³• å¿«é€Ÿæ¨¡å¼åŒ¹é…ç®—æ³•ï¼Œå³Knuth Morris Prattï¼ˆç®€ç§°KMPï¼‰ç®—æ³•ï¼Œæ˜¯è§£å†³å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜çš„ç»å…¸ç®—æ³•ã€‚\nKMPç®—æ³•æ˜¯åœ¨ BF ç®—æ³•åŸºç¡€ä¸Šæ”¹è¿›å¾—åˆ°çš„ç®—æ³•ã€‚BFç®—æ³•çš„å®ç°è¿‡ç¨‹æ˜¯ç”¨å­ä¸²ä¸ä¸»ä¸²ä¸­çš„å­—ç¬¦ä¸€ä¸€é…å¯¹ï¼Œç®—æ³•æ‰§è¡Œæ•ˆç‡ä¸é«˜ã€‚å¯¹äºä¸»ä¸²Så’Œå­ä¸²Pï¼ŒBFç®—æ³•å¦‚æœé‡åˆ°äº†ä¸åŒ¹é…çš„æƒ…å†µï¼Œä¸»ä¸²Så’Œå­ä¸²Pçš„æŒ‡é’ˆéƒ½ä¼šå›é€€ï¼Œè€Œä¸”å­ä¸²ä¼šå›é€€åˆ°å­ä¸²é¦–éƒ¨ã€‚KMPç®—æ³•çš„å®ç°è¿‡ç¨‹æ¥è¿‘äººä¸ºè¿›è¡Œæ¨¡å¼åŒ¹é…çš„è¿‡ç¨‹ã€‚å®ƒåªéœ€å›é€€å­ä¸²ï¼Œå¹¶ä¸”æ˜¯æ ¹æ®æƒ…å†µå›é€€ï¼Œå¹¶ä¸ä¸€å®šè¦å›é€€åˆ°å­ä¸²é¦–éƒ¨ã€‚\nç®—æ³•æ­¥éª¤ å‡è®¾æœ‰ä¸»ä¸²Sä¸å­ä¸²Pï¼Œä¸»ä¸²Sçš„é•¿åº¦ä¸ºNï¼Œå­ä¸²Tçš„é•¿åº¦ä¸ºMã€‚\næ±‚å­—ä¸²Pçš„éƒ¨åˆ†åŒ¹é…è¡¨ã€‚ å°†Så’ŒTå·¦å¯¹é½ï¼Œå¹¶æ¯”è¾ƒå…¶ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ è‹¥åŒ¹é…ï¼Œåˆ™ç»§ç»­æ¯”è¾ƒä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¸€ç›´åˆ°ç¬¬Mä¸ªå…ƒç´ ã€‚ è‹¥ä¸åŒ¹é…ï¼Œæ ¹æ®éƒ¨åˆ†åŒ¹é…è¡¨å›é€€Pçš„æŒ‡é’ˆã€‚ æ¥ç€æ ¹æ®æ­¥éª¤3å’Œ4è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°åŒ¹é…åˆ°æˆ–è€…Tç§»åŠ¨äº†N-Mä¸”ä»æœªåŒ¹é…åˆ°ã€‚ å¤±é…æŒ‡é’ˆæ±‚è§£ è®©KMPå°½é‡å‡å°‘å›ç§»çš„å…³é”®åœ¨äºï¼Œç”¨ä¸€ä¸ªéƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆä¹Ÿç§°å¤±é…ç§»åŠ¨è¡¨ï¼‰è®°å½•æ¯æ¬¡éœ€è¦å›é€€çš„ä½ç½®ã€‚éƒ¨åˆ†åŒ¹é…è¡¨æ˜¯ä¸€ä¸ªä¸åŸå­—ç¬¦ä¸²é•¿åº¦ç›¸ç­‰çš„æ•´æ•°æ•°ç»„ã€‚è¡¨ä¸­çš„å…ƒç´ æ˜¯å­—ç¬¦ä¸²ä¸­ç›¸å¯¹äºå…ƒç´ çš„å‰ç¼€é›†åˆå’Œåç¼€é›†åˆçš„äº¤é›†ä¸­çš„é•¿åº¦æœ€å¤§çš„å­—ç¬¦ä¸²çš„\nå‡è®¾ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ¨¡å¼ä¸²ä¸º$P=a_0a_1\u0026hellip;a_{n-1}$ï¼Œå…¶ä¸­$a_i(0\\le i\u0026lt;n)$æ˜¯å•ä¸ªå­—ç¬¦ï¼Œ $Next[\\ n+1\\ ]$ä¸ºå…¶éƒ¨åˆ†åŒ¹é…è¡¨ã€‚\né‚£ä¹ˆå¯¹äº$a_{i-1}$ï¼š\nå‰ç¼€é›†åˆï¼š\n$$ P_1={a_0,a_0a_1,\\cdots,a_0\u0026hellip;a_{i-1}} $$\nåç¼€é›†åˆï¼š\n$$ P_2={a_{i-1},a_{i-2}a_{i-1},\\cdots,a_1\u0026hellip;a_{i-1}} $$\nå¤±é…æŒ‡é’ˆï¼š\n$$ Next[i] = \\begin{cases} -1 \u0026amp; å½“\\ i=0 æ—¶ \\ max \u0026amp; { k|0\u0026lt;k\u0026lt;j ä¸” \u0026ldquo;p_0\\cdots p_{k-1}\u0026rdquo; = \u0026ldquo;p_{j-k}\\cdots p_{j-1}\u0026rdquo; } \\ 0 \u0026amp; å…¶ä»–æƒ…å†µ \\end{cases} $$\nå³ï¼š\n$Next[0] = -1$ï¼› $Next[i] = maxLength(P_1 \\cap P_2),\\ i \\neq 0$ã€‚ è¿‡ç¨‹ä»£ç æ¼”ç¤ºï¼š\ndef get_next_process(p, i, j, next_val): print(\u0026#34;ç¬¬\u0026#34;, i + 1, \u0026#34;è¶Ÿï¼š\u0026#34;) print(p) if j != -1: for k in range(i - j): print(\u0026#34; \u0026#34;, end=\u0026#34;\u0026#34;) print(p) for k in range(i): print(\u0026#34; \u0026#34;, end=\u0026#34;\u0026#34;) print(\u0026#34;^\u0026#34;) if i == 0: print(\u0026#34;åˆå§‹åŒ–\u0026#34;) print(next_val) def get_next(p): \u0026#34;\u0026#34;\u0026#34;æ±‚éƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆå¤±é…æŒ‡é’ˆï¼‰\u0026#34;\u0026#34;\u0026#34; i = 0 # æŒ‡å‘ä¸»ä¸²çš„æŒ‡é’ˆ j = -1 # æŒ‡å‘æ¨¡å¼ä¸²çš„æŒ‡é’ˆï¼Œä¸€å¼€å§‹ next_val = [-1] * len(p) # è¦è¿”å›çš„nextæ•°ç»„ get_next_process(p, i, j, next_val) # next[0]==-1ï¼Œåªéœ€è¦æ±‚åé¢çš„len(p)-1ä¸ªå€¼å³å¯ while i \u0026lt; len(p)-1: # åŒ¹é…æˆåŠŸï¼Œç›¸åŒå‰ç¼€é•¿åº¦å¢åŠ 1 if j == -1 or p[i] == p[j]: i += 1 j += 1 next_val[i] = j get_next_process(p, i, j, next_val) # åŒ¹é…ä¸æˆåŠŸåˆ™åœ¨å‰é¢çš„å­ä¸²ä¸­ç»§ç»­æœç´¢ï¼Œç›´è‡³æ‰¾ä¸åˆ° else: j = next_val[j] return next_val if __name__ == \u0026#34;__main__\u0026#34;: p = \u0026#34;abababc\u0026#34; get_next(p) è¾“å‡ºï¼š\nç¬¬ 1 è¶Ÿï¼š abababc åˆå§‹åŒ– [-1, -1, -1, -1, -1, -1, -1] ç¬¬ 2 è¶Ÿï¼š abababc abababc ^ [-1, 0, -1, -1, -1, -1, -1] ç¬¬ 3 è¶Ÿï¼š abababc abababc ^ [-1, 0, 0, -1, -1, -1, -1] ç¬¬ 4 è¶Ÿï¼š abababc abababc ^ [-1, 0, 0, 1, -1, -1, -1] ç¬¬ 5 è¶Ÿï¼š abababc abababc ^ [-1, 0, 0, 1, 2, -1, -1] ç¬¬ 6 è¶Ÿï¼š abababc abababc ^ [-1, 0, 0, 1, 2, 3, -1] ç¬¬ 7 è¶Ÿï¼š abababc abababc ^ [-1, 0, 0, 1, 2, 3, 4] ä»£ç å®ç° Pythonå®ç° def get_next(p): \u0026#34;\u0026#34;\u0026#34;æ±‚éƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆå¤±é…æŒ‡é’ˆï¼‰\u0026#34;\u0026#34;\u0026#34; i = 0 # æŒ‡å‘ä¸»ä¸²çš„æŒ‡é’ˆ j = -1 # æŒ‡å‘æ¨¡å¼ä¸²çš„æŒ‡é’ˆ next_val = [-1] * len(p) # è¦è¿”å›çš„nextæ•°ç»„ # next[0]==-1ï¼Œåªéœ€è¦æ±‚åé¢çš„len(p)-1ä¸ªå€¼å³å¯ while i \u0026lt; len(p)-1 and j \u0026lt; len(p)-1: # åŒ¹é…æˆåŠŸï¼Œç›¸åŒå‰ç¼€é•¿åº¦å¢åŠ 1 if j == -1 or p[i] == p[j]: i += 1 j += 1 next_val[i] = j # åŒ¹é…ä¸æˆåŠŸåˆ™åœ¨å‰é¢çš„å­ä¸²ä¸­ç»§ç»­æœç´¢ï¼Œç›´è‡³æ‰¾ä¸åˆ° else: j = next_val[j] return next_val def KMP(s, p): if len(s) \u0026lt; len(p): return -1 i, j = 0, 0 # æ±‚nextæ•°ç»„ next = get_next(p) # åŒ¹é…é˜¶æ®µ while i \u0026lt; len(s) and j \u0026lt; len(p): if j == -1 or s[i] == p[j]: i += 1 j += 1 else: j = next[j] if j == len(p): return i - j return -1 if __name__ == \u0026#34;__main__\u0026#34;: s = \u0026#34;ababababca\u0026#34; p = \u0026#34;abababc\u0026#34; result = KMP(s, p) if result == -1: print(\u0026#34;False\u0026#34;) else: print(result) ä¼˜åŒ–ä»£ç ï¼šå»é™¤get_next()ï¼Œè¾¹åŒ¹é…è¾¹è®¡ç®—éƒ¨åˆ†åŒ¹é…è¡¨\ndef KMP(s, p): if len(s) \u0026lt; len(p): return -1 i, j = 0, 0 p_i, p_j = 0, -1 next = [-1] * len(p) # è¾¹è®¡ç®—éƒ¨åˆ†åŒ¹é…è¡¨ï¼Œè¾¹åŒ¹é… while i \u0026lt; len(s) and j \u0026lt; len(p): # æ±‚éƒ¨åˆ†åŒ¹é…è¡¨ if p_i \u0026lt; len(p)-1: if p_j == -1 or p[p_i] == p[p_j]: p_i += 1 p_j += 1 next[p_i] = p_j else: p_j = next[p_j] # åŒ¹é…é˜¶æ®µ if j == -1 or s[i] == p[j]: i += 1 j += 1 else: j = next[j] if j == len(p): return i - j return -1 if __name__ == \u0026#34;__main__\u0026#34;: s = \u0026#34;ababababca\u0026#34; p = \u0026#34;abababc\u0026#34; result = KMP(s, p) if result == -1: print(\u0026#34;False\u0026#34;) else: print(result) Cè¯­è¨€ #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; int KMP(char s[], int len_s, char p[], int len_p) { if (len_s \u0026lt; len_p) return -1; // åˆ›å»ºå’Œåˆå§‹åŒ–éƒ¨åˆ†åŒ¹é…è¡¨ int* next = (int*)malloc(len_p*sizeof(int)); for (int i = 0; i \u0026lt; len_p; i++) next[i] = -1; // è¾¹è®¡ç®—éƒ¨åˆ†åŒ¹é…è¡¨ï¼Œè¾¹åŒ¹é… int i = 0, j = 0, p_i = 0, p_j = -1; while (i \u0026lt; len_s \u0026amp;\u0026amp; j \u0026lt; len_p) { // æ±‚éƒ¨åˆ†åŒ¹é…è¡¨ if (p_i \u0026lt; len_p-1) { if (p_j == -1 || p[p_i] == p[p_j]) { p_i++; p_j++; next[p_i] = p_j; } else p_j = next[p_j]; } // åŒ¹é…é˜¶æ®µ if (j == -1 || s[i] == p[j]) { i++; j++; } else j = next[j]; } free(next); if (j == len_p) return i - j; return -1; } #define LEN(S) sizeof(S)-1 int main(void) { #define S \u0026#34;ababababca\u0026#34; #define P \u0026#34;abababc\u0026#34; char s[sizeof(S)] = S; char p[sizeof(P)] = P; int result = KMP(s, LEN(s), p, LEN(p)); if (result == -1) printf(\u0026#34;False\\n\u0026#34;); else printf(\u0026#34;%d\\n\u0026#34;, result); return 0; } ","date":"2022å¹´1æœˆ21æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/%E7%BB%8F%E5%85%B8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D/","series":[],"smallImg":"","tags":[{"title":"C","url":"/tags/c/"},{"title":"Python","url":"/tags/python/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1642724100,"title":"ç»å…¸å­—ç¬¦ä¸²åŒ¹é…"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"ä¸´æ—¶å˜é‡ é€šè¿‡å»ºç«‹ä¸€ä¸ªä¸´æ—¶å˜é‡æ¥å®ç°ä¸¤æ•°äº¤æ¢ï¼š\ndef swap(x, y): print(x, y) tmp = x x = y y = tmp print(x, y) return x, y if __name__ == \u0026#39;__main__\u0026#39;: swap(1, 2) ç¼ºç‚¹ï¼š\néœ€è¦æ¶ˆè€—é¢å¤–çš„å†…å­˜ã€‚\nä¼˜ç‚¹ï¼š\nä¸é™åˆ¶ç±»å‹ï¼Œå¤§å¤šæ•°ç±»å‹éƒ½èƒ½ä½¿ç”¨è¯¥æ“ä½œã€‚\nåŠ å‡äº¤æ¢ é€šè¿‡åŠ å‡æ³•å®ç°ï¼š\ndef swap(x, y): print(x, y) x = x + y y = x - y x = x - y print(x, y) return x, y if __name__ == \u0026#39;__main__\u0026#39;: swap(1, 2) å‡è®¾ä¸¤ä¸ªæ•°ä¿å­˜åœ¨xå’Œyä¸­ï¼š\nå…ˆå°†yä¸­çš„å€¼åŠ åˆ°xä¸­ã€‚\nå³è¿™ä¸¤ä¸ªæ•°ä¸€åŒä¿å­˜åœ¨åŒä¸€å†…å­˜ç©ºé—´xä¸­ã€‚\nç„¶åç”¨xçš„å€¼å‡å»yçš„å€¼ï¼Œå†å°†å…¶ä¿å­˜åˆ°å†…å­˜yä¸­ã€‚\nx-yå³ä¸ºxæœ€åˆçš„å€¼ã€‚\næœ€åå†ç”¨xçš„å€¼å‡å»yçš„å€¼ï¼Œèµ‹ç»™å†…å­˜xã€‚\nxæœ€åˆçš„å€¼å·²ç»åœ¨yä¸­ï¼Œæ‰€ä»¥x-yçš„å€¼ä¸ºyæœ€åˆçš„å€¼ã€‚\nç¼ºç‚¹ï¼š\nè¯¥æ–¹æ³•åªé€‚ç”¨äºæ•°å€¼ä¸å¤§çš„æ•°ï¼Œå¦‚æœæ•°å€¼è¿‡å¤§ï¼Œå¯èƒ½ä¼šè¶Šç•Œï¼ˆå¯¹äºæŸäº›è¯­è¨€æ¥è¯´ï¼‰ã€‚\nå¼‚æˆ–äº¤æ¢ é€šè¿‡å¼‚æˆ–çš„æ“ä½œå®ç°ï¼š\ndef swap(x, y): print(x, y) x = x ^ y y = x ^ y x = x ^ y print(x, y) return x, y if __name__ == \u0026#39;__main__\u0026#39;: swap(1, 2) ç¼ºç‚¹ï¼š\nåªèƒ½å¯¹æ•´æ•°ç±»å‹æ‰§è¡Œä½æ“ä½œï¼Œä¸èƒ½å¯¹å®æ•°ç±»å‹è¿›è¡Œä½æ“ä½œã€‚\n","date":"2022å¹´1æœˆ16æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/%E4%B8%A4%E6%95%B0%E4%BA%A4%E6%8D%A2%E7%AE%97%E6%B3%95/","series":[],"smallImg":"","tags":[{"title":"C","url":"/tags/c/"},{"title":"Python","url":"/tags/python/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1642291200,"title":"ä¸¤æ•°äº¤æ¢ç®—æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"Python è¯­æ³• æ³¨é‡Š Python çš„æ³¨é‡Šé£æ ¼ï¼š\n# è¡Œæ³¨é‡Š \u0026#39;\u0026#39;\u0026#39; å—æ³¨é‡Š1 \u0026#39;\u0026#39;\u0026#39; \u0026#34;\u0026#34;\u0026#34; å—æ³¨é‡Š2 \u0026#34;\u0026#34;\u0026#34; æ³¨é‡Šä¸­çš„å†…å®¹å°†ä¸ä¼šè¢«æ‰§è¡Œã€‚\næ ‡è¯†ç¬¦ é¦–å­—æ¯å¿…é¡»æ˜¯å¤§å†™æˆ–å°å†™çš„è‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ _ã€‚\nå…¶ä»–éƒ¨åˆ†ç”±å¤§å†™æˆ–å°å†™çš„è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆã€‚\nå¤§å°å†™æ•æ„Ÿï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ã€‚\nPython3 ä¸­å…è®¸ä½¿ç”¨é ASCII æ ‡è¯†ç¬¦ï¼Œå³ä¸­æ–‡ä¹Ÿå¯ä½œä¸ºæ ‡è¯†ç¬¦ï¼š\n\u0026gt;\u0026gt;\u0026gt; å˜é‡ = 5 \u0026gt;\u0026gt;\u0026gt; print(å˜é‡) 5 å…³é”®å­— Python å…³é”®å­—ï¼ˆkeywordï¼‰ä¸èƒ½ä½œä¸ºæ ‡è¯†ç¬¦ä½¿ç”¨ï¼Œå…³é”®å­—åˆç§°ä¿ç•™å­—ã€‚\nä½¿ç”¨ keyword æ¨¡å—è¾“å‡º Python çš„æ‰€æœ‰å…³é”®å­—ï¼š\n\u0026gt;\u0026gt;\u0026gt; import keyword \u0026gt;\u0026gt;\u0026gt; print(keyword.kwlist) [\u0026#39;False\u0026#39;, \u0026#39;None\u0026#39;, \u0026#39;True\u0026#39;, \u0026#39;and\u0026#39;, \u0026#39;as\u0026#39;, \u0026#39;assert\u0026#39;, \u0026#39;break\u0026#39;, \u0026#39;class\u0026#39;, \u0026#39;continue\u0026#39;, \u0026#39;def\u0026#39;, \u0026#39;del\u0026#39;, \u0026#39;elif\u0026#39;, \u0026#39;else\u0026#39;, \u0026#39;except\u0026#39;, \u0026#39;finally\u0026#39;, \u0026#39;for\u0026#39;, \u0026#39;from\u0026#39;, \u0026#39;global\u0026#39;, \u0026#39;if\u0026#39;, \u0026#39;import\u0026#39;, \u0026#39;in\u0026#39;, \u0026#39;is\u0026#39;, \u0026#39;lambda\u0026#39;, \u0026#39;nonlocal\u0026#39;, \u0026#39;not\u0026#39;, \u0026#39;or\u0026#39;, \u0026#39;pass\u0026#39;, \u0026#39;raise\u0026#39;, \u0026#39;return\u0026#39;, \u0026#39;try\u0026#39;, \u0026#39;while\u0026#39;, \u0026#39;with\u0026#39;, \u0026#39;yield\u0026#39;] å˜é‡çš„èµ‹å€¼ Python ä¸­çš„å˜é‡å¹¶ä¸éœ€è¦å£°æ˜ï¼Œç›´æ¥èµ‹å€¼åå°±å¯ä½¿ç”¨ã€‚è¿˜å¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ã€‚\npai, e = 3.14, 2.72 a = b = c = 1 ä»£ç è§„èŒƒ Python ä»£ç ä¸­çš„æ‰€æœ‰å—éƒ½æ˜¯ä½¿ç”¨ç©ºæ ¼ç¼©è¿›æ¥è¡¨ç¤ºã€‚åŒä¸€å—ä¸­çš„æ‰€æœ‰è¯­å¥éƒ½å¿…é¡»åŒ…å«ç›¸åŒçš„ç¼©è¿›ç©ºæ ¼æ•°ï¼Œä¸€èˆ¬ä½¿ç”¨ 4 ä¸ªç©ºæ ¼ä½œä¸ºç¼©è¿›ï¼Œå¹¶ä¸”æœ€å¥½åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­è®¾ç½®å°† Tab è½¬åŒ–ä¸ºç©ºæ ¼ã€‚\ntotal = 0 # è¾“å‡ºæ•°å­— 1~9 çš„å¹³æ–¹æ•° for n in range(1, 10): # å—çš„å¼€å§‹ square = n * n total += square print(square) # å—çš„ç»“æŸ # è¾“å‡ºæ•°å­— 1~9 çš„æ‰€æœ‰å¹³æ–¹æ•°çš„æ€»å’Œ print(total) ç¼©è¿›ç›¸åŒçš„ä¸€ç»„è¯­å¥æ„æˆä¸€ä¸ªä»£ç å—ï¼Œæˆ–ç§°ä¹‹ä¸ºä»£ç ç»„ã€‚\nå‡½æ•°ä¹‹é—´æˆ–ç±»çš„æ–¹æ³•ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”ï¼Œè¡¨ç¤ºä¸€æ®µæ–°çš„ä»£ç çš„å¼€å§‹ã€‚ç±»å’Œå‡½æ•°å…¥å£ä¹‹é—´ä¹Ÿç”¨ä¸€è¡Œç©ºè¡Œåˆ†éš”ï¼Œä»¥çªå‡ºå‡½æ•°å…¥å£çš„å¼€å§‹ã€‚\nç©ºè¡Œæ˜¯ç¨‹åºä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œä½†å¹¶ä¸æ˜¯ Python è¯­æ³•çš„ä¸€éƒ¨åˆ†ã€‚ç©ºè¡Œçš„ä½œç”¨åœ¨äºåˆ†å‰²ä¸¤æ®µä¸åŒåŠŸèƒ½æˆ–å«ä¹‰çš„ä»£ç ï¼Œä¾¿äºæ—¥åä»£ç çš„ç»´æŠ¤æˆ–é‡æ„ï¼Œæœ‰æ— ç©ºè¡Œå¹¶ä¸å½±å“ç¨‹åºè¿è¡Œã€‚\nåæ–œæ  \\ ä½œä¸ºç»­è¡Œç¬¦ï¼Œè¡¨ç¤ºä¸‹ä¸€è¡Œæ˜¯ä¸Šä¸€è¡Œçš„å»¶ç»­ã€‚å¯¹äºè¿‡é•¿çš„è¯­å¥ï¼ŒPython ä½¿ç”¨åæ–œæ ã€æ¢è¡Œå†åŠ ä¸Šç¼©è¿›æ¥å°†é•¿è¯­å¥åˆ†ä¸ºå¤šè¡Œã€‚\ntotal = item_one + \\ item_two + \\ item_three åœ¨ [],{}, æˆ– () ä¸­çš„å¤šè¡Œè¯­å¥ï¼Œä¸éœ€è¦ä½¿ç”¨åæ–œæ  \\ æ¥æ¢è¡Œã€‚\ntotal = [\u0026#39;item_one\u0026#39;, \u0026#39;item_two\u0026#39;, \u0026#39;item_three\u0026#39;, \u0026#39;item_four\u0026#39;, \u0026#39;item_five\u0026#39;] Python å¯ä»¥åœ¨åŒä¸€è¡Œä¸­ä½¿ç”¨å¤šæ¡è¯­å¥ï¼Œè¯­å¥ä¹‹é—´ä½¿ç”¨åˆ†å· ; åˆ†å‰²ã€‚\n\u0026gt;\u0026gt;\u0026gt; str = \u0026#39;123\u0026#39;; print(str) 123 æ ‡å‡†æ•°æ®ç±»å‹ Python æ”¯æŒ 6 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š\nNumber â€”â€” æ•°å­—ç±»å‹\nString â€”â€” å­—ç¬¦ä¸²ç±»å‹\nList â€”â€” åˆ—è¡¨\nTuple â€”â€” å…ƒç»„\nSet â€”â€” é›†åˆ\nDictionary â€”â€” å­—å…¸\nListã€Dictionaryã€Set æ˜¯ Python å†…ç½®çš„æ•°æ®ç»“æ„ã€‚\nPython å˜é‡åˆ†ä¸ºå¯å˜å’Œä¸å¯å˜æ•°æ®ç±»å‹ï¼Œä»¥ä¸‹æ˜¯å®ƒä»¬çš„å®šä¹‰ï¼š\nä¸å¯å˜ï¼ˆimmutableï¼‰æ•°æ®ç±»å‹ï¼šå½“è¯¥æ•°æ®ç±»å‹å¯¹åº”çš„å˜é‡çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå®ƒå¯¹åº”çš„å†…å­˜åœ°å€ä¹Ÿä¼šå‘ç”Ÿæ”¹å˜ï¼ˆé‡æ–°åˆ†é…å†…å­˜ç©ºé—´ï¼‰ï¼Œå¦‚ Numberã€Stringã€Tupleã€‚å³ï¼Œæ•°æ®ä¸­çš„å…ƒç´ ä¸èƒ½è¢«æ›´æ”¹ã€‚\n# æµ‹è¯• Number ç±»å‹æ˜¯å¦æ˜¯ä¸å¯å˜æ•°æ®ç±»å‹ n = 1 # èµ‹å€¼ print(id(n), type(n)) n = 2 # æ”¹å˜å€¼ print(id(n), type(n)) # å¯èƒ½è¾“å‡ºï¼š # 1562536992 \u0026lt;class \u0026#39;int\u0026#39;\u0026gt; # 1562537024 \u0026lt;class \u0026#39;int\u0026#39;\u0026gt; å¯å˜ï¼ˆmutableï¼‰æ•°æ®ç±»å‹ï¼šå½“è¯¥æ•°æ®ç±»å‹å¯¹åº”çš„å˜é‡çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå®ƒå¯¹åº”çš„å†…å­˜åœ°å€ä¸å‘ç”Ÿæ”¹å˜ï¼Œå¦‚ Listã€Dictionaryã€Setã€‚å³ï¼Œæ•°æ®ä¸­çš„å…ƒç´ å¯ä»¥è¢«æ›´æ”¹ã€‚\nå¯è¿­ä»£å¯¹è±¡ï¼šListã€Tupleã€Set ã€ Dictionary å’Œ Stringã€‚\nNumberç±»å‹ Python æ”¯æŒçš„æ•°å­—ç±»å‹ï¼š\nint â€”â€” æ•´æ•°ç±»å‹ã€‚\nfloat â€”â€” æµ®ç‚¹æ•°ç±»å‹ï¼ˆå®æ•°ç±»å‹ï¼‰ï¼Œå¦‚ 3.14ã€3E-2ã€‚\nbool â€”â€” å¸ƒå°”ç±»å‹ï¼ˆTrue å’Œ Falseï¼‰ã€‚\ncomplex â€”â€” å¤æ•°ç±»å‹ï¼Œå¦‚ 1.1 + 2.2jã€complex(a, b)ã€‚\nPython 2 ä¸­æœ‰ long å‹ï¼ŒPython 3 ä¸­æ²¡æœ‰ã€‚\næ•°å­—å‡½æ•° æ•°å­—å‡½æ•°éœ€è¦å¯¼å…¥ math æ¨¡å—ï¼šimport math\nå‡½æ•° æè¿° abs(x) è¿”å›æ•°å­— xï¼ˆå¯ä»¥æ˜¯å¤æ•°ï¼‰çš„ç»å¯¹å€¼ï¼ˆå†…ç½®å‡½æ•°ï¼Œä¸ç”¨å¯¼å…¥ math æ¨¡å—ï¼‰ã€‚ ceil(x) è¿”å›æ•°å­— x çš„ä¸Šå…¥æ•´æ•°ï¼ˆå‘ä¸Šå–æ•´ï¼‰ã€‚ cmp(x, y) å¦‚æœ x \u0026lt; y è¿”å› -1ï¼Œå¦‚æœ x == y è¿”å› 0ï¼Œå¦‚æœ x \u0026gt; y è¿”å› 1ã€‚ Python 3 å·²åºŸå¼ƒï¼Œä½¿ç”¨ (x\u0026gt;y)-(x\u0026lt;y) æ›¿æ¢ã€‚ exp(x) è¿”å› e çš„ x æ¬¡å¹‚ $e^x$ã€‚ fabs(x) è¿”å›æ•°å­— xï¼ˆä¸èƒ½æ˜¯å¤æ•°ï¼‰çš„ç»å¯¹å€¼ã€‚ floor(x) è¿”å›æ•°å­—çš„ä¸‹èˆæ•´æ•°ï¼ˆå‘ä¸‹å–æ•´ï¼‰ã€‚ log(x[, y]) log(x) â€”â€” è¿”å› x çš„è‡ªç„¶å¯¹æ•°ï¼› log(x, y) â€”â€” è¿”å›ä»¥ y ä¸ºåŸºæ•°çš„ x çš„å¯¹æ•°ï¼š$\\log_y{x}$ã€‚ log10(x) è¿”å›ä»¥ 10ä¸ºåŸºæ•°çš„ x çš„å¯¹æ•°ã€‚ max(x1, x2,...) è¿”å›ç»™å®šå‚æ•°çš„æœ€å¤§å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚ min(x1, x2,...) è¿”å›ç»™å®šå‚æ•°çš„æœ€å°å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚ modf(x) è¿”å› x çš„æ•´æ•°éƒ¨åˆ†ä¸å°æ•°éƒ¨åˆ†ï¼Œä¸¤éƒ¨åˆ†çš„æ•°å€¼ç¬¦å·ä¸ x ç›¸åŒï¼Œæ•´æ•°éƒ¨åˆ†ä»¥æµ®ç‚¹å‹è¡¨ç¤ºã€‚ pow(x, y[, z]) pow(x, y) â€”â€” x**y è¿ç®—åçš„å€¼ï¼› pow(x, y, z) â€”â€” ç›¸å½“äº pow(x, y) % zã€‚ é€šè¿‡å†…ç½®æ–¹æ³•è°ƒç”¨ï¼Œä¼šæŠŠå‚æ•°ä½œä¸ºæ•´å‹ï¼Œè€Œ math ä¼šæŠŠå‚æ•°è½¬æ¢ä¸º floatã€‚ round(x [, n]) è¿”å›æµ®ç‚¹æ•° x çš„å››èˆäº”å…¥å€¼ï¼Œå¦‚ç»™å‡º n å€¼ï¼Œåˆ™ä»£è¡¨èˆå…¥åˆ°å°æ•°ç‚¹åçš„ä½æ•°ã€‚ å…¶å®å‡†ç¡®çš„è¯´æ˜¯ä¿ç•™å€¼å°†ä¿ç•™åˆ°ç¦»ä¸Šä¸€ä½æ›´è¿‘çš„ä¸€ç«¯ã€‚ sqrt(x) è¿”å›æ•°å­— x çš„å¹³æ–¹æ ¹ã€‚ Stringç±»å‹ Python çš„å­—ç¬¦ä¸²ï¼ˆStringï¼‰æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\nå­—ç¬¦ä¸²å¸¸é‡å¯ä»¥ä½¿ç”¨å•å¼•å· ' å’ŒåŒå¼•å· \u0026quot; æŒ‡å®šã€‚\n\u0026gt;\u0026gt;\u0026gt; str1 = \u0026#39;Hello\u0026#39; \u0026gt;\u0026gt;\u0026gt; str2 = \u0026#39;World\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(str1, str2, \u0026#39;!\u0026#39;) Hello World ! \u0026gt;\u0026gt;\u0026gt; str1 = \u0026#39;æ‰“å° \u0026#34;åŒå¼•å·\u0026#34; \u0026#39; \u0026gt;\u0026gt;\u0026gt; str1 += \u0026#34;è¦ç”¨ \u0026#39;å•å¼•å·\u0026#39; å°†å…¶æ‹¬èµ·æ¥\u0026#34; \u0026gt;\u0026gt;\u0026gt; print(str1) æ‰“å° \u0026#34;åŒå¼•å·\u0026#34; è¦ç”¨ \u0026#39;å•å¼•å·\u0026#39; å°†å…¶æ‹¬èµ·æ¥ ä½¿ç”¨ä¸‰ä¸ªå¼•å·å¯æŒ‡å®šä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²å¸¸é‡ã€‚\n\u0026gt;\u0026gt;\u0026gt; str1 = \u0026#34;\u0026#34;\u0026#34;è¿™æ˜¯ä¸€ä¸ªæ®µè½ï¼Œ ... å¯ä»¥ç”±å¤šè¡Œç»„æˆ\u0026#34;\u0026#34;\u0026#34; \u0026gt;\u0026gt;\u0026gt; print(str1) è¿™æ˜¯ä¸€ä¸ªæ®µè½ï¼Œ å¯ä»¥ç”±å¤šè¡Œç»„æˆ è½¬ä¹‰ç¬¦ç”¨ \\ å¼€å¤´ã€‚å•ä¸ªåæ–œæ ä¾ç„¶å¯ä»¥ä½œä¸ºç»­è¡Œç¬¦ã€‚\n\u0026gt;\u0026gt;\u0026gt; str = \u0026#39;str\\ ... ing\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(str) string ä½¿ç”¨ r æˆ– R å¯ä»¥è®©åæ–œæ ä¸å‘ç”Ÿè½¬ä¹‰ã€‚è¿™æ ·çš„å­—ç¬¦ä¸²è¢«ç§°ä¸ºåŸå§‹å­—ç¬¦ä¸²ã€‚\n\u0026gt;\u0026gt;\u0026gt; print(r\u0026#34;this is a line with \\n\u0026#34;) this is a line with \\n æŒ‰å­—é¢æ„ä¹‰çº§è”å­—ç¬¦ä¸²ã€‚\n\u0026gt;\u0026gt;\u0026gt; print(\u0026#39;this \u0026#39; \u0026#39;is \u0026#39; \u0026#39;string\u0026#39;) this is string å­—ç¬¦ä¸²å¯ä»¥ç”¨ + è¿ç®—ç¬¦è¿æ¥åœ¨ä¸€èµ·ï¼Œç”¨ * è¿ç®—ç¬¦é‡å¤ã€‚\n\u0026gt;\u0026gt;\u0026gt; print(\u0026#39;this \u0026#39; + \u0026#39;is \u0026#39; + \u0026#39;string\u0026#39;) this is string \u0026gt;\u0026gt;\u0026gt; str = \u0026#39;Hello World!\u0026#39; * 3 \u0026gt;\u0026gt;\u0026gt; print(str) Hello World!Hello World!Hello World! æœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼šä»å·¦å¾€å³ä»¥ 0 å¼€å§‹ï¼Œä»å³å¾€å·¦ä»¥ -1 å¼€å§‹ã€‚\nå­—ç¬¦ä¸²çš„æˆªå–çš„è¯­æ³•æ ¼å¼ï¼šå˜é‡[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡:æ­¥é•¿]ã€‚å­—ç¬¦ä¸²è¢«æˆªå–åè¿”å›ä¸€ä¸ªåŒ…å«æ‰€éœ€å­—ç¬¦çš„æ–°å­—ç¬¦ä¸²ã€‚éµå¾ªå·¦é—­å³å¼€åŸåˆ™ã€‚\nå°¾ä¸‹æ ‡ä» 1 å¼€å§‹ã€‚\næ­¥é•¿æ˜¯æŒ‡è¾“å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ $n$ ä¸ªå­—ç¬¦åï¼Œæ¥ç€è¾“å‡ºç¬¬ $(n + æ­¥é•¿)$ ä¸ªå­—ç¬¦ï¼Œç›´è‡³åˆ°è¾¾å°¾ä¸‹æ ‡æŒ‡å®šå¤„ã€‚\nçœç•¥æ­¥é•¿ä»£è¡¨æŒ‰å­—ç¬¦ä¸²é¡ºåºè¾“å‡ºï¼Œçœç•¥å°¾ä¸‹æ ‡ä»£è¡¨æˆªå–åˆ°å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œçœç•¥å¤´ä¸‹æ ‡ä»£è¡¨ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ã€‚\n\u0026gt;\u0026gt;\u0026gt; str=\u0026#39;123456789\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(str[0]) # è¾“å‡ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ 1 \u0026gt;\u0026gt;\u0026gt; print(str[2:5]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹åˆ°ç¬¬äº”ä¸ªçš„å­—ç¬¦ 345 \u0026gt;\u0026gt;\u0026gt; print(str[0:-1]) # è¾“å‡ºç¬¬ä¸€ä¸ªåˆ°å€’æ•°ç¬¬äºŒä¸ªçš„æ‰€æœ‰å­—ç¬¦ 12345678 \u0026gt;\u0026gt;\u0026gt; print(str[2:]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹åçš„æ‰€æœ‰å­—ç¬¦ 3456789 \u0026gt;\u0026gt;\u0026gt; print(str[:3]) # è¾“å‡ºä»ç¬¬ä¸€ä¸ªå¼€å§‹åˆ°ç¬¬ä¸‰ä¸ªçš„å­—ç¬¦ 123 \u0026gt;\u0026gt;\u0026gt; print(str[1:5:2]) # è¾“å‡ºä»ç¬¬äºŒä¸ªå¼€å§‹åˆ°ç¬¬äº”ä¸ªä¸”æ¯éš”ä¸€ä¸ªçš„å­—ç¬¦ï¼ˆæ­¥é•¿ä¸º2ï¼‰ 24 \u0026gt;\u0026gt;\u0026gt; print(str[:]) # åŒæ—¶çœç•¥å¤´ä¸‹æ ‡å’Œå°¾ï¼Œåˆ›å»ºäº†ä¸€ä¸ªstrçš„å‰¯æœ¬ å­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ã€‚å³ï¼Œå­—ç¬¦ä¸²çš„åˆ‡ç‰‡ä¸èƒ½è¢«èµ‹å€¼ã€‚\n\u0026gt;\u0026gt;\u0026gt; str = \u0026#39;string\u0026#39; \u0026gt;\u0026gt;\u0026gt; str[0] = \u0026#39;S\u0026#39; Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: \u0026#39;str\u0026#39; object does not support item assignment \u0026gt;\u0026gt;\u0026gt; str = \u0026#39;string\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(str) string \u0026gt;\u0026gt;\u0026gt; str = \u0026#39;String\u0026#39; # ä¿®æ”¹å­—ç¬¦ä¸²åªèƒ½é‡æ–°è¿›è¡Œèµ‹å€¼ \u0026gt;\u0026gt;\u0026gt; print(str) String Python æ²¡æœ‰å•ç‹¬çš„å­—ç¬¦ç±»å‹ï¼Œä¸€ä¸ªå­—ç¬¦å°±æ˜¯é•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²ã€‚\nåœ¨Python2ä¸­ï¼Œæ™®é€šå­—ç¬¦ä¸²æ˜¯ä»¥ 8 ä½ ASCII ç è¿›è¡Œå­˜å‚¨çš„ï¼Œè€Œ Unicode å­—ç¬¦ä¸²åˆ™å­˜å‚¨ä¸º 16 ä½ unicode å­—ç¬¦ä¸²ã€‚ä½¿ç”¨çš„è¯­æ³•æ˜¯åœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸Šå‰ç¼€ uã€‚\nåœ¨Python3ä¸­ï¼Œæ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯ Unicode å­—ç¬¦ä¸²ã€‚\nè½¬ä¹‰ç¬¦ è½¬ä¹‰å­—ç¬¦ æè¿° \\ï¼ˆåœ¨ä»£ç è¡Œå°¾æ—¶ï¼‰ ç»­è¡Œç¬¦ã€‚ \\\\ åæ–œæ ç¬¦å·ã€‚ \\' å•å¼•å·ã€‚ \\\u0026quot; åŒå¼•å·ã€‚ \\a å“é“ƒ print(\u0026quot;\\a\u0026quot;)æ‰§è¡Œåç”µè„‘æœ‰å“å£°ã€‚ \\b é€€æ ¼ï¼ˆBackspaceï¼‰ã€‚ \\000 ç©ºã€‚ \\n æ¢è¡Œã€‚ \\v çºµå‘åˆ¶è¡¨ç¬¦ã€‚ \\t æ¨ªå‘åˆ¶è¡¨ç¬¦ã€‚ \\r å›è½¦ï¼Œå°† \\r åé¢çš„å†…å®¹ç§»åˆ°å­—ç¬¦ä¸²å¼€å¤´ï¼Œå¹¶é€ä¸€æ›¿æ¢å¼€å¤´éƒ¨åˆ†çš„å­—ç¬¦ï¼Œç›´è‡³å°† \\r åé¢çš„å†…å®¹å®Œå…¨æ›¿æ¢å®Œæˆã€‚ \\f æ¢é¡µã€‚ \\yyy å…«è¿›åˆ¶æ•°ï¼Œy ä»£è¡¨ 0~7 çš„å­—ç¬¦ï¼Œå¦‚ \\012 ä»£è¡¨æ¢è¡Œã€‚ \\xyy åå…­è¿›åˆ¶æ•°ï¼Œä»¥ \\x å¼€å¤´ï¼Œy ä»£è¡¨çš„å­—ç¬¦ï¼Œä¾‹ \\x0a ä»£è¡¨æ¢è¡Œã€‚ \\other å…¶å®ƒçš„å­—ç¬¦ä»¥æ™®é€šæ ¼å¼è¾“å‡ºã€‚ æ ¼å¼åŒ–å­—ç¬¦ä¸² print() å‡½æ•°èƒ½å¤Ÿä½¿ç”¨ % æ¥è¿›è¡Œæ ¼å¼åŒ–å­—ç¬¦ä¸²çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š\n\u0026gt;\u0026gt;\u0026gt; print(\u0026#39;%e\u0026#39; % 3.14) 3.140000e+00 å­—ç¬¦ä¸²æ ¼å¼åŒ–ç¬¦å·ï¼š\nç¬¦ å· æè¿° %c æ ¼å¼åŒ–å­—ç¬¦åŠå…¶ ASCII ç ã€‚ %s æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚ %d æ ¼å¼åŒ–æ•´æ•°ã€‚ %u æ ¼å¼åŒ–æ— ç¬¦å·æ•´å‹ã€‚ %o æ ¼å¼åŒ–æ— ç¬¦å·å…«è¿›åˆ¶æ•°ã€‚ %x æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°ã€‚ %X æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°ï¼ˆå¤§å†™ï¼‰ã€‚ %f æ ¼å¼åŒ–æµ®ç‚¹æ•°å­—ï¼Œå¯æŒ‡å®šå°æ•°ç‚¹åçš„ç²¾åº¦ã€‚ %e æˆ– %E ç”¨ç§‘å­¦è®¡æ•°æ³•æ ¼å¼åŒ–æµ®ç‚¹æ•°ã€‚ %e ä¸­æ˜¾ç¤ºçš„å­—æ¯ä¸ºå°å†™ï¼Œ%E åˆ™ä¸ºå¤§å†™ã€‚ %g %få’Œ%eçš„ç®€å†™ã€‚ %G %f å’Œ %E çš„ç®€å†™ã€‚ %p ç”¨åå…­è¿›åˆ¶æ•°æ ¼å¼åŒ–å˜é‡çš„åœ°å€ã€‚ æ ¼å¼åŒ–æ“ä½œç¬¦è¾…åŠ©ç¬¦å·ï¼š\nç¬¦å· åŠŸèƒ½ * å®šä¹‰å®½åº¦æˆ–è€…å°æ•°ç‚¹ç²¾åº¦ã€‚ - ç”¨åšå·¦å¯¹é½ã€‚ + åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºåŠ å·ã€‚ \u0026lt;sp\u0026gt; åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºç©ºæ ¼ã€‚ # åœ¨å…«è¿›åˆ¶æ•°å‰é¢æ˜¾ç¤ºé›¶ '0'ï¼Œåœ¨åå…­è¿›åˆ¶å‰é¢æ˜¾ç¤º '0x' æˆ–è€… '0X'ï¼ˆå–å†³äºç”¨çš„æ˜¯ 'x' è¿˜æ˜¯ 'X'ï¼‰ã€‚ 0 æ˜¾ç¤ºçš„æ•°å­—å‰é¢å¡«å…… '0' è€Œä¸æ˜¯é»˜è®¤çš„ç©ºæ ¼ã€‚ % '%%' è¾“å‡ºä¸€ä¸ªå•ä¸€çš„ '%'ã€‚ (var) æ˜ å°„å˜é‡(å­—å…¸å‚æ•°)ã€‚ m.n. m æ˜¯æ˜¾ç¤ºçš„æœ€å°æ€»å®½åº¦,n æ˜¯å°æ•°ç‚¹åçš„ä½æ•°(å¦‚æœå¯ç”¨çš„è¯)ã€‚ è¾…åŠ©ç¬¦å·åœ¨æ ¼å¼å­—ç¬¦ä¸² % å’Œç¬¦å·ä¸­é—´ä½¿ç”¨ï¼Œå¦‚éœ€æŒ‡å®šå…¶å®ƒå‚æ•°éœ€è¦åœ¨å­—ç¬¦ä¸²åçš„ % ä½¿ç”¨æ‹¬å· () æŒ‡å®šå‚æ•°å’Œè¦æ˜¾ç¤ºçš„å€¼ã€‚å¦‚ï¼š\n\u0026gt;\u0026gt;\u0026gt; print(\u0026#39;%*d\u0026#39; % (10, 2)) 2 f-string f-string æ˜¯ python3.6 ä¹‹åç‰ˆæœ¬æ·»åŠ çš„ï¼Œç§°ä¹‹ä¸ºå­—é¢é‡æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ˜¯æ–°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„è¯­æ³•ã€‚f-stringæ ¼å¼åŒ–å­—ç¬¦ä¸²ä»¥ f å¼€å¤´ï¼Œåé¢è·Ÿç€å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­çš„è¡¨è¾¾å¼ç”¨å¤§æ‹¬å· {} åŒ…èµ·æ¥ï¼Œå®ƒä¼šå°†å˜é‡æˆ–è¡¨è¾¾å¼è®¡ç®—åçš„å€¼æ›¿æ¢è¿›å»ã€‚\n\u0026gt;\u0026gt;\u0026gt; name = \u0026#39;World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; f\u0026#39;Hello {name}\u0026#39; # æ›¿æ¢å˜é‡ \u0026#39;Hello World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; f\u0026#39;{1+2}\u0026#39; # ä½¿ç”¨è¡¨è¾¾å¼ \u0026#39;3\u0026#39; str.format() str.format() æ˜¯ç”¨äºæ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å­—ç¬¦ä¸²æ–¹æ³•ã€‚æ—§å¼çš„æ ¼å¼åŒ–æœ€ç»ˆä¼šä»è¯¥è¯­è¨€ä¸­ç§»é™¤ï¼Œåº”è¯¥æ›´å¤šçš„ä½¿ç”¨ str.format()ã€‚\nformat() å°† str ä¸­çš„æ ¼å¼åŒ–å­—æ®µï¼ˆ{} åŠå…¶é‡Œé¢åŒ…å«çš„å­—ç¬¦ï¼‰æ›¿æ¢ä¸º format() ä¸­çš„å‚æ•°ã€‚å®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š\n\u0026gt;\u0026gt;\u0026gt; print(\u0026#39;{} and {}\u0026#39;.format(\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;)) # æŒ‰ç…§å‚æ•°é¡ºåº a and b \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;{1} and {0}\u0026#39;.format(\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;)) # æŒ‡å®šå‚æ•°ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ b and a \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;{} and {b}\u0026#39;.format(\u0026#39;a\u0026#39;, b = \u0026#39;b\u0026#39;)) # æŒ‡å®šå…³é”®å­— a and b !aï¼ˆä½¿ç”¨ ascii())ï¼Œ!sï¼ˆä½¿ç”¨ str()ï¼‰å’Œ !rï¼ˆä½¿ç”¨ repr()ï¼‰å¯ä»¥ç”¨äºåœ¨æ ¼å¼åŒ–æŸä¸ªå€¼ä¹‹å‰å¯¹å…¶è¿›è¡Œè½¬åŒ–ï¼š\n\u0026gt;\u0026gt;\u0026gt; import math \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š {}ã€‚\u0026#39;.format(math.pi)) å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š 3.141592653589793ã€‚ \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š {!r}ã€‚\u0026#39;.format(math.pi)) å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸ºï¼š 3.141592653589793ã€‚ å¯ä»¥ä½¿ç”¨ :ï¼Œåœ¨å³è¾¹æŒ‡å®šè¾“å‡ºå½¢å¼ï¼Œåœ¨ : å·¦è¾¹çš„æ˜¯ format() å‚æ•°ä½ç½®ï¼š\n\u0026gt;\u0026gt;\u0026gt; import math \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸º {0:.3f}ã€‚\u0026#39;.format(math.pi)) å¸¸é‡ PI çš„å€¼è¿‘ä¼¼ä¸º 3.142ã€‚ åœ¨ : åä¼ å…¥ä¸€ä¸ªæ•´æ•°, å¯ä»¥ä¿è¯è¯¥åŸŸè‡³å°‘æœ‰è¿™ä¹ˆå¤šçš„å®½åº¦ã€‚\n\u0026gt;\u0026gt;\u0026gt; table = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; for name, number in table.items(): ... print(\u0026#39;{0:10} ==\u0026gt; {1:10d}\u0026#39;.format(name, number)) ... a ==\u0026gt; 1 b ==\u0026gt; 2 c ==\u0026gt; 3 ä¼ å…¥ä¸€ä¸ªå­—å…¸ï¼Œç„¶åä½¿ç”¨æ–¹æ‹¬å· [] æ¥è®¿é—®é”®å€¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; table = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;b: {0[b]:d}; a: {0[a]:d}; c: {0[c]:d}\u0026#39;.format(table)) b: 2; a: 1; c: 3 ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å˜é‡å‰ä½¿ç”¨ ** æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š\n\u0026gt;\u0026gt;\u0026gt; table = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; print(\u0026#39;b: {b:d}; a: {a:d}; c: {c:d}\u0026#39;.format(**table)) b: 2; a: 1; c: 3 å­—ç¬¦ä¸²æ–¹æ³• æ–¹æ³• è¯´æ˜ str.capitalize() å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ã€‚ str.center(width[, fillchar]) è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å®½åº¦ width å±…ä¸­çš„å­—ç¬¦ä¸²ã€‚ fillchar ä¸ºå¡«å……çš„å­—ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚ str.count(sub[, start= 0, end=len(string)]) è¿”å› sub åœ¨ str çš„æŒ‡å®šèŒƒå›´é‡Œé¢å‡ºç°çš„æ¬¡æ•°ã€‚ sub â€”â€” æœç´¢çš„å­å­—ç¬¦ä¸²ã€‚ start â€”â€” å­—ç¬¦ä¸²å¼€å§‹æœç´¢çš„ä½ç½®ã€‚é»˜è®¤ä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆç´¢å¼•ä¸º 0ï¼‰ã€‚ end â€”â€” å­—ç¬¦ä¸²ä¸­ç»“æŸæœç´¢çš„ä½ç½®ã€‚é»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªä½ç½®ã€‚ str.encode(encoding='UTF-8',errors='strict') ä»¥ encoding æŒ‡å®šçš„ç¼–ç æ ¼å¼ç¼–ç å­—ç¬¦ä¸²ï¼Œå¦‚æœå‡ºé”™é»˜è®¤æŠ¥ä¸€ä¸ªValueError çš„å¼‚å¸¸ï¼Œé™¤é errors æŒ‡å®šçš„æ˜¯ 'ignore' æˆ–è€… 'replace'ã€‚ bytes.decode(encoding=\u0026quot;utf-8\u0026quot;, errors=\u0026quot;strict\u0026quot;) ä»¥æŒ‡å®šçš„ç¼–ç æ ¼å¼è§£ç  bytes å¯¹è±¡ã€‚ encoding â€”â€” è¦ä½¿ç”¨çš„ç¼–ç ï¼Œé»˜è®¤ä¸º \u0026quot;utf-8\u0026quot;ã€‚ errors â€”â€” è®¾ç½®ä¸åŒé”™è¯¯çš„å¤„ç†æ–¹æ¡ˆã€‚é»˜è®¤ä¸º \u0026quot;strict\u0026quot;ï¼Œæ„ä¸ºç¼–ç é”™è¯¯å¼•èµ·ä¸€ä¸ª UnicodeErrorã€‚ å…¶ä»–å¯èƒ½çš„å€¼æœ‰ \u0026quot;ignore\u0026quot;ï¼Œ\u0026quot;replace\u0026quot;ï¼Œ\u0026quot;xmlcharrefreplace\u0026quot;ï¼Œ\u0026quot;backslashreplace\u0026quot; ä»¥åŠé€šè¿‡ codecs.register_error() æ³¨å†Œçš„ä»»ä½•å€¼ã€‚ Python3 ä¸­æ²¡æœ‰ decode() æ–¹æ³•ï¼Œä½†å¯ä»¥ä½¿ç”¨ bytes å¯¹è±¡çš„ decode() æ–¹æ³•æ¥è§£ç ç»™å®šçš„ bytes å¯¹è±¡ï¼Œè¿™ä¸ª bytes å¯¹è±¡å¯ä»¥ç”± str.encode() æ¥ç¼–ç è¿”å›â†©ã€‚ str.endswith(suffix[, start=0, end=len(string)]) æ£€æŸ¥å­—ç¬¦ä¸²æŒ‡å®šèŒƒå›´æ˜¯å¦ä»¥ suffix ç»“æŸï¼Œå¦‚æœæ˜¯ï¼Œè¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ suffix â€”â€” å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªå…ƒç´ ã€‚ start â€”â€” æŒ‡å®šçš„å¼€å§‹ä½ç½®ã€‚é»˜è®¤ä¸ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆç´¢å¼•ä¸º 0ï¼‰ã€‚ end â€”â€” æŒ‡å®šçš„ç»“æŸä½ç½®ã€‚é»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚ str.expandtabs(tabsize=8) æŠŠå­—ç¬¦ä¸² str ä¸­çš„ Tab ç¬¦å· \\t è½¬ä¸ºç©ºæ ¼ã€‚ tabsize â€”â€” Tab ç¬¦å·çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º 8ã€‚ str.find(sub[, beg=0, end=len(str)]) æ£€æµ‹ sub æ˜¯å¦åŒ…å«åœ¨å­—ç¬¦ä¸² str çš„æŒ‡å®šèŒƒå›´ä¸­ï¼Œå¦‚æœåŒ…å«åˆ™è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å› -1ã€‚ sub â€”â€” å­—ç¬¦ä¸²ã€‚ beg â€”â€” æŒ‡å®šçš„å¼€å§‹ä½ç½®ã€‚é»˜è®¤ä¸ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆç´¢å¼•ä¸º 0ï¼‰ã€‚ end â€”â€” æŒ‡å®šçš„ç»“æŸä½ç½®ã€‚é»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚ str.index(sub[, beg=0, end=len(string)]) åŒ find()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœ sub ä¸åœ¨å­—ç¬¦ä¸²ä¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ã€‚ str.isalnum() å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿” å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.isalpha() å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–ä¸­æ–‡å­—åˆ™è¿”å› True, å¦åˆ™è¿”å› Falseã€‚ str.isdigit() å¦‚æœå­—ç¬¦ä¸²åªåŒ…å«æ•°å­—åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.islower() å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å°å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.isnumeric() å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—å­—ç¬¦ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.isspace() å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«ç©ºç™½ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.istitle() å¦‚æœå­—ç¬¦ä¸²æ˜¯æ ‡é¢˜åŒ–çš„ï¼ˆè§ title()ï¼‰ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.isupper() å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å¤§å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ str.join(sequence) å­—ç¬¦ä¸² str ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† sequence ä¸­æ‰€æœ‰çš„å…ƒç´ ï¼ˆçš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼‰åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚ len(string) è¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚ str.ljust(width[, fillchar]) è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½ï¼Œå¹¶ä½¿ç”¨ fillchar å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²ï¼Œfillchar é»˜è®¤ä¸ºç©ºæ ¼ã€‚å¦‚æœæŒ‡å®šçš„é•¿åº¦å°äºåŸå­—ç¬¦ä¸²çš„é•¿åº¦åˆ™è¿”å›åŸå­—ç¬¦ä¸²ã€‚ str.lower() è½¬æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™ã€‚ str.lstrip([chars]) æˆªæ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ã€‚ chars â€”â€” æŒ‡å®šæˆªå–çš„å­—ç¬¦ã€‚ str.maketrans(intab, outtab) åˆ›å»ºå­—ç¬¦æ˜ å°„çš„è½¬æ¢è¡¨ã€‚â†©intab â€”â€” å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å­—ç¬¦ã€‚ outtab â€”â€” å­—ç¬¦ä¸²è¡¨ç¤ºè½¬æ¢çš„ç›®æ ‡ã€‚ max(str) è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å¤§çš„å­—æ¯ã€‚ min(str) è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å°çš„å­—æ¯ã€‚ str.replace(old, new[, max]) å°†å­—ç¬¦ä¸²ä¸­çš„ old æ›¿æ¢æˆ newï¼Œå¦‚æœ max æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ max æ¬¡ã€‚ str.rfind(sub[, beg=0,end=len(string)]) ç±»ä¼¼äº find() å‡½æ•°ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾ã€‚å³ï¼Œè¿”å›å­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹åˆ™è¿”å› -1ã€‚ str.rindex(sub[, beg=0, end=len(string)]) ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹ã€‚å³ï¼Œè¿”å›å­å­—ç¬¦ä¸² sub åœ¨å­—ç¬¦ä¸²ä¸­æœ€åå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„å­—ç¬¦ä¸²ä¼šæŠ¥å¼‚å¸¸ã€‚ str.rjust(width[, fillchar]) è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½ï¼Œå¹¶ä½¿ç”¨ fillcharï¼ˆé»˜è®¤ç©ºæ ¼ï¼‰å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²ã€‚ str.rstrip([chars]) åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„æŒ‡å®šå­—ç¬¦ charsï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚ str.split([str1=\u0026quot;\u0026quot;, num=string.count(str1)]) ä»¥å‚æ•° str1 ä¸ºåˆ†éš”ç¬¦æˆªå–å­—ç¬¦ä¸²ï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…æˆªå– num+1 ä¸ªå­å­—ç¬¦ä¸²â†©ã€‚ str.splitlines([keepends]) æŒ‰ç…§è¡Œï¼ˆ'\\r'ï¼Œ'\\r\\n'ï¼Œ\\n'ï¼‰åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨ã€‚å¦‚æœå‚æ•° keepends ä¸º Falseï¼Œè¿”å›çš„åˆ—è¡¨åˆ™ä¸åŒ…å«æ¢è¡Œç¬¦ï¼›å¦‚æœä¸º Trueï¼Œåˆ™ä¿ç•™æ¢è¡Œç¬¦ã€‚ str.startswith(substr[, beg=0, end=len(string)]) æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥æŒ‡å®šå­å­—ç¬¦ä¸² substr å¼€å¤´ï¼Œæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚å¦‚æœ beg å’Œ end æŒ‡å®šå€¼ï¼Œåˆ™åœ¨æŒ‡å®šèŒƒå›´å†…æ£€æŸ¥ã€‚ str.strip([chars]) åœ¨å­—ç¬¦ä¸²ä¸Šæ‰§è¡Œ lstrip() å’Œ rstrip()ã€‚å³ç§»é™¤å­—ç¬¦ä¸²å¤´å°¾æŒ‡å®šçš„å­—ç¬¦ charsï¼ˆé»˜è®¤ä¸ºç©ºæ ¼ï¼‰ã€‚ str.swapcase() å°†å­—ç¬¦ä¸²ä¸­å¤§å†™è½¬æ¢ä¸ºå°å†™ï¼Œå°å†™è½¬æ¢ä¸ºå¤§å†™ã€‚ str.title() è¿”å› â€œæ ‡é¢˜åŒ–â€ çš„å­—ç¬¦ä¸²ï¼Œå³è½¬åŒ–ä¸ºæ‰€æœ‰å•è¯éƒ½æ˜¯ä»¥å¤§å†™å¼€å§‹ï¼Œå…¶ä½™å­—æ¯å‡ä¸ºå°å†™çš„å½¢å¼ã€‚ str.translate(table[, deletechars=\u0026quot;\u0026quot;]) æ ¹æ® str ç»™å‡ºçš„è¡¨ï¼ˆåŒ…å« 256 ä¸ªå­—ç¬¦ï¼‰è½¬æ¢ str çš„å­—ç¬¦ï¼Œè¦è¿‡æ»¤æ‰çš„å­—ç¬¦æ”¾åˆ° deletechars å‚æ•°ä¸­ã€‚ str.upper() è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™ã€‚ str.zfill (width) è¿”å›é•¿åº¦ä¸º width çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²å³å¯¹é½ï¼Œå‰é¢å¡«å…… 0ã€‚ str.isdecimal() æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«åè¿›åˆ¶å­—ç¬¦ï¼ˆåªå­˜åœ¨äº unicode å¯¹è±¡ã€‚ï¼‰ï¼Œå¦‚æœæ˜¯è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ encode()Â å’ŒÂ decode() ç”¨æ³•å®ä¾‹ï¼š\n\u0026gt;\u0026gt;\u0026gt; str = \u0026#34;Hello World!\u0026#34;; \u0026gt;\u0026gt;\u0026gt; str_utf8 = str.encode(\u0026#34;UTF-8\u0026#34;) \u0026gt;\u0026gt;\u0026gt; str_gbk = str.encode(\u0026#34;GBK\u0026#34;) \u0026gt;\u0026gt;\u0026gt; print(str) Hello World! \u0026gt;\u0026gt;\u0026gt; print(\u0026#34;UTF-8 ç¼–ç ï¼š\u0026#34;, str_utf8) UTF-8 ç¼–ç ï¼š b\u0026#39;Hello World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(\u0026#34;GBK ç¼–ç ï¼š\u0026#34;, str_gbk) GBK ç¼–ç ï¼š b\u0026#39;Hello World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(\u0026#34;UTF-8 è§£ç ï¼š\u0026#34;, str_utf8.decode(\u0026#39;UTF-8\u0026#39;,\u0026#39;strict\u0026#39;)) UTF-8 è§£ç ï¼š Hello World! \u0026gt;\u0026gt;\u0026gt; print(\u0026#34;GBK è§£ç ï¼š\u0026#34;, str_gbk.decode(\u0026#39;GBK\u0026#39;,\u0026#39;strict\u0026#39;)) GBK è§£ç ï¼š Hello World! maketrans() çš„ç”¨æ³•ï¼š\n\u0026gt;\u0026gt;\u0026gt; intab = \u0026#34;aeiou\u0026#34; \u0026gt;\u0026gt;\u0026gt; outtab = \u0026#34;12345\u0026#34; \u0026gt;\u0026gt;\u0026gt; trantab = str.maketrans(intab, outtab) \u0026gt;\u0026gt;\u0026gt; str = \u0026#34;this is string example....wow!!!\u0026#34; \u0026gt;\u0026gt;\u0026gt; print (str.translate(trantab)) th3s 3s str3ng 2x1mpl2....w4w!!! split() çš„ç”¨æ³•ï¼š\n\u0026gt;\u0026gt;\u0026gt; str = \u0026#34;this is string example....wow!!!\u0026#34; \u0026gt;\u0026gt;\u0026gt; print (str.split( )) # ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ [\u0026#39;this\u0026#39;, \u0026#39;is\u0026#39;, \u0026#39;string\u0026#39;, \u0026#39;example....wow!!!\u0026#39;] \u0026gt;\u0026gt;\u0026gt; print (str.split(\u0026#39;i\u0026#39;,1)) # ä»¥ i ä¸ºåˆ†éš”ç¬¦ [\u0026#39;th\u0026#39;, \u0026#39;s is string example....wow!!!\u0026#39;] \u0026gt;\u0026gt;\u0026gt; print (str.split(\u0026#39;w\u0026#39;)) # ä»¥ w ä¸ºåˆ†éš”ç¬¦ [\u0026#39;this is string example....\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;!!!\u0026#39;] byteæ ·å¼å­—ç¬¦ä¸² åœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸Šå­—ç¬¦ bï¼Œå¯ä»¥å¾—åˆ°è¯¥å­—ç¬¦ä¸²çš„å­—èŠ‚ç±»å‹å¯¹è±¡ï¼š\nb\u0026#39;Hello World!\u0026#39; ä½¿ç”¨ 16 è¿›åˆ¶ ASCII ç èµ‹å€¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; b\u0026#39;\\x48\\x65\\x6C\\x6C\\x20\\x57\\x6F\\x72\\x6C\\x64\\x21\u0026#39; b\u0026#39;Hell World!\u0026#39; \u0026gt;\u0026gt; b\u0026#34;\\x01\\x02\\x03\u0026#34; b\u0026#39;\\x01\\x02\\x03\u0026#39; Python ä¼šè‡ªåŠ¨å°†å¯è¯»çš„éƒ¨åˆ†æŒ‰ç…§è½¬æ¢ä¸ºæ–‡å­—ã€‚å¦‚æœæ•°æ®æ˜¯ä¸å¯è¯»çš„ï¼Œåˆ™ä½¿ç”¨ 16 è¿›åˆ¶æ¥è¡¨ç¤ºã€‚\nbyte å¯¹è±¡çš„å…ƒç´ æ˜¯å­—èŠ‚ï¼š\n\u0026gt;\u0026gt;\u0026gt; bt = b\u0026#39;Hello World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; bt[2] 108 å¯ä»¥ä½¿ç”¨ bin() æŸ¥çœ‹æ¯ä¸ªå­—èŠ‚åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; bin(bt[2]) \u0026#39;0b1101100\u0026#39; é™¤å­—é¢é‡è¡¨ç¤ºä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨ bytes() å‡½æ•°æ¥å¾—åˆ°å­—èŠ‚ç±»å‹ã€‚\nList åˆ—è¡¨ï¼ˆListï¼‰ç”±ä¸€ç³»åˆ—æŒ‰ç‰¹å®šé¡ºåºæ’åˆ—çš„å…ƒç´ ç»„æˆï¼Œå®ƒæ˜¯å†™åœ¨æ–¹æ‹¬å· [] ä¹‹é—´ã€ç”¨é€—å·åˆ†éš”å¼€çš„å…ƒç´ åˆ—è¡¨ã€‚åˆ—è¡¨å…¶å®æ›´åƒæ˜¯ Python ä¸­çš„çº¿æ€§æ•°æ®ç»“æ„çš„å®ç°ï¼Œå®ƒå…·æœ‰ç»å¤§å¤šæ•°å¸¸è§çš„çº¿æ€§æ•°æ®ç»“æ„çš„æ“ä½œã€‚\nåˆ—è¡¨ä¸­å…ƒç´ çš„ç±»å‹å¯ä»¥ä¸ç›¸åŒï¼Œå®ƒæ”¯æŒæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œç”šè‡³å¯ä»¥åŒ…å«åˆ—è¡¨ï¼ˆåµŒå¥—ï¼‰ã€‚\n\u0026gt;\u0026gt;\u0026gt; list = [1, \u0026#39;2\u0026#39;, 3.4, [5, 6], (7, 8), {9, 10}] \u0026gt;\u0026gt;\u0026gt; print(list) [1, \u0026#39;2\u0026#39;, 3.4, [5, 6], (7, 8), {9, 10}] æœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼šä»å·¦å¾€å³ä»¥ 0 å¼€å§‹ï¼Œä»å³å¾€å·¦ä»¥ -1 å¼€å§‹ã€‚\nåˆ—è¡¨çš„æˆªå–çš„è¯­æ³•æ ¼å¼ï¼šå˜é‡[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡:æ­¥é•¿]ã€‚éµå¾ªå·¦é—­å³å¼€åŸåˆ™ã€‚\nå°¾ä¸‹æ ‡ä» 1 å¼€å§‹ã€‚\næ­¥é•¿æ˜¯æŒ‡è¾“å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ $n$ ä¸ªå…ƒç´ åï¼Œæ¥ç€è¾“å‡ºç¬¬ $(n + æ­¥é•¿)$ ä¸ªå…ƒç´ ï¼Œç›´è‡³åˆ°è¾¾å°¾ä¸‹æ ‡æŒ‡å®šå¤„ã€‚\nçœç•¥å°¾ä¸‹æ ‡ä»£è¡¨æˆªå–åˆ°å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œçœç•¥å¤´ä¸‹æ ‡ä»£è¡¨ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–ã€‚\n\u0026gt;\u0026gt;\u0026gt; list = [1, \u0026#39;2\u0026#39;, 3.4, [5, 6], (7, 8), {9, 10}] \u0026gt;\u0026gt;\u0026gt; print (list[0]) # è¾“å‡ºåˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´  1 \u0026gt;\u0026gt;\u0026gt; print (list[1:3]) # ä»ç¬¬äºŒä¸ªå¼€å§‹è¾“å‡ºåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´  [\u0026#39;2\u0026#39;, 3.4] \u0026gt;\u0026gt;\u0026gt; print (list[2:]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹çš„æ‰€æœ‰å…ƒç´  [3.4, [5, 6], (7, 8), {9, 10}] \u0026gt;\u0026gt;\u0026gt; print(list[:]) # åŒæ—¶çœç•¥å¤´ä¸‹æ ‡å’Œå°¾ï¼Œåˆ›å»ºäº†ä¸€ä¸ªlistçš„å‰¯æœ¬ \u0026gt;\u0026gt;\u0026gt; tinylist = [123, \u0026#39;list\u0026#39;] \u0026gt;\u0026gt;\u0026gt; print (list + tinylist) # è¿æ¥åˆ—è¡¨ [1, \u0026#39;2\u0026#39;, 3.4, [5, 6], (7, 8), {9, 10}, 123, \u0026#39;list\u0026#39;] \u0026gt;\u0026gt;\u0026gt; double = tinylist * 2 # é‡å¤åˆ—è¡¨ \u0026gt;\u0026gt;\u0026gt; print(double) [123, \u0026#39;list\u0026#39;, 123, \u0026#39;list\u0026#39;] \u0026gt;\u0026gt;\u0026gt; print(list[::-1]) # æ­¥é•¿ä¸º-1ï¼Œè¡¨ç¤ºé€†å‘ [{9, 10}, (7, 8), [5, 6], 3.4, \u0026#39;2\u0026#39;, 1] \u0026gt;\u0026gt;\u0026gt; list[len(list):] = [6] # åœ¨åˆ—è¡¨æœ«å°¾æ’å…¥å…ƒç´  \u0026gt;\u0026gt;\u0026gt; print(list) [1, \u0026#39;2\u0026#39;, 3.4, [5, 6], (7, 8), {9, 10}, 6] åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¯æ›´æ”¹çš„ï¼Œå¹¶ä¸”åˆ—è¡¨é•¿åº¦ä¹Ÿæ˜¯å¯æ”¹å˜çš„ã€‚List å†…ç½®äº†è®¸å¤šæ–¹æ³•æ¥æ”¯æŒè¿™ç§ç‰¹æ€§ã€‚\n\u0026gt;\u0026gt;\u0026gt; list = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; list[1] = 6 \u0026gt;\u0026gt;\u0026gt; print(list) [1, 6, 3] åˆ—è¡¨å¯ä»¥ç”¨ + è¿ç®—ç¬¦æ‹¼æ¥ï¼Œç”¨ * è¿ç®—ç¬¦é‡å¤ã€‚\n\u0026gt;\u0026gt;\u0026gt; list1 = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; list2 = [4, 5, 6] \u0026gt;\u0026gt;\u0026gt; list = list1 + list2 \u0026gt;\u0026gt;\u0026gt; print(list) [1, 2, 3, 4, 5, 6] \u0026gt;\u0026gt;\u0026gt; list = list1 * 2 \u0026gt;\u0026gt;\u0026gt; print(list) [1, 2, 3, 1, 2, 3] è™½ç„¶åˆ—è¡¨å’Œå­—ç¬¦ä¸²æœ‰ä¸€äº›ç‰¹æ€§å¾ˆç›¸ä¼¼ï¼Œä½†å®ƒä»¬æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç±»å‹ã€‚\nåˆ é™¤åˆ—è¡¨æˆ–åˆ—è¡¨å…ƒç´ ï¼š\n\u0026gt;\u0026gt;\u0026gt; list = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; del list[3] \u0026gt;\u0026gt;\u0026gt; print(list) [1, 2, 3] åˆ—è¡¨æ–¹æ³• æ–¹æ³• è¯´æ˜ list.append(obj) åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡ objï¼Œæ— è¿”å›å€¼ã€‚ç›¸å½“äº list[len(list):] = [x] list.count(obj) è¿”å› obj åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚ list.extend(seq) åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰ã€‚ seq â€”â€” å…ƒç´ åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆã€å­—å…¸ï¼Œè‹¥ä¸ºå­—å…¸ï¼Œåˆ™ä»…ä¼šå°†é”®ï¼ˆkeyï¼‰ä½œä¸ºå…ƒç´ ä¾æ¬¡æ·»åŠ è‡³åŸåˆ—è¡¨çš„æœ«å°¾ã€‚ list.index(x[, start[, end]]) ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹è±¡åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ xâ€”â€” æŸ¥æ‰¾çš„å¯¹è±¡ï¼› start â€”â€” å¯é€‰ï¼ŒæŸ¥æ‰¾çš„èµ·å§‹ä½ç½®ï¼› end â€”â€” å¯é€‰ï¼ŒæŸ¥æ‰¾çš„ç»“æŸä½ç½®ã€‚ list.insert(index, obj) å°†å¯¹è±¡æ’å…¥åˆ—è¡¨ï¼Œæ— è¿”å›å€¼ã€‚ index â€”â€” å¯¹è±¡ obj éœ€è¦æ’å…¥çš„ç´¢å¼•ä½ç½®ï¼› obj â€”â€” è¦æ’å…¥åˆ—è¡¨ä¸­çš„å¯¹è±¡ã€‚ list.pop([index=-1]) ç§»é™¤åˆ—è¡¨ä¸­ index æŒ‡å®šçš„å…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚ list.remove(obj) ç§»é™¤åˆ—è¡¨ä¸­å€¼ä¸ obj ç›¸åŒçš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œæ— è¿”å›å€¼ã€‚ list.reverse() åå‘åˆ—è¡¨ä¸­å…ƒç´ ã€‚ list.sort(key=None, reverse=False) å¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åºã€‚ key â€”â€” ä¸»è¦æ˜¯ç”¨æ¥è¿›è¡Œæ¯”è¾ƒçš„å…ƒç´ ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…·ä½“çš„å‡½æ•°çš„å‚æ•°å°±æ˜¯å–è‡ªäºå¯è¿­ä»£å¯¹è±¡ä¸­ï¼ŒæŒ‡å®šå¯è¿­ä»£å¯¹è±¡ä¸­çš„ä¸€ä¸ªå…ƒç´ æ¥è¿›è¡Œæ’åºï¼›â†© reverse â€”â€” æ’åºè§„åˆ™ï¼Œreverse = True é™åºï¼Œ reverse = False å‡åºï¼ˆé»˜è®¤ï¼‰ã€‚ list.clear() æ¸…ç©ºåˆ—è¡¨ï¼Œç±»ä¼¼äº del list[:]ã€‚ list.copy() è¿”å›å¤åˆ¶åçš„æ–°åˆ—è¡¨ï¼Œç±»ä¼¼äº list[:]ã€‚ list.sort() æŒ‡å®šæ’åºå…ƒç´ ï¼š\n# è·å–åˆ—è¡¨çš„ç¬¬äºŒä¸ªå…ƒç´  def takeSecond(elem): return elem[1] # åˆ—è¡¨ random = [(2, 2), (3, 4), (4, 1), (1, 3)] # æŒ‡å®šç¬¬äºŒä¸ªå…ƒç´ æ’åº random.sort(key=takeSecond) # è¾“å‡ºç±»åˆ« print (\u0026#39;æ’åºåˆ—è¡¨ï¼š\u0026#39;, random) # è¾“å‡ºï¼šæ’åºåˆ—è¡¨ï¼š[(4, 1), (2, 2), (1, 3), (3, 4)] Python åˆ—è¡¨çš„ç‰¹æ€§å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†å…¶å°è£…æˆå…¶ä»–çº¿æ€§æ•°æ®ç»“æ„ã€‚\nåˆ—è¡¨æ¨å¯¼å¼ åˆ—è¡¨æ¨å¯¼å¼æ˜¯æŒ‡åœ¨æ–¹æ‹¬å· [] ä¸­ä½¿ç”¨ for è¯­å¥ç”Ÿæˆä¸€ä¸²åºåˆ—ï¼Œè¿™ä¸ª for è¯­å¥å¯ä»¥æœ‰é›¶åˆ°å¤šä¸ª for æˆ– if å­å¥ã€‚è¿”å›ç»“æœæ˜¯ä¸€ä¸ªæ ¹æ®è¡¨è¾¾ä»å…¶åçš„ for å’Œ if ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ç”Ÿæˆå‡ºæ¥çš„åˆ—è¡¨ã€‚\n\u0026gt;\u0026gt;\u0026gt; [x**2 for x in range(10)] [0, 1, 4, 9, 16, 25, 36, 49, 64, 81] \u0026gt;\u0026gt;\u0026gt; [str(round(355/113, i)) for i in range(1, 6)] [\u0026#39;3.1\u0026#39;, \u0026#39;3.14\u0026#39;, \u0026#39;3.142\u0026#39;, \u0026#39;3.1416\u0026#39;, \u0026#39;3.14159\u0026#39;] Tuple å…ƒç»„ï¼ˆtupleï¼‰ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå…ƒç»„çš„å…ƒç´ å¯ä¿®æ”¹ã€‚å…ƒç»„å†™åœ¨å°æ‹¬å· () é‡Œï¼Œå…ƒç´ ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚\nå…ƒç´ çš„ç±»å‹å¯ä»¥ä¸ç›¸åŒã€‚\nå…ƒç»„ä¸­åªåŒ…å«ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å· , ï¼Œå¦åˆ™æ‹¬å·ä¼šè¢«å½“ä½œè¿ç®—ç¬¦ä½¿ç”¨ã€‚\næœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼šä»å·¦å¾€å³ä»¥ 0 å¼€å§‹ï¼Œä»å³å¾€å·¦ä»¥ -1 å¼€å§‹ã€‚\nåˆ—è¡¨çš„æˆªå–çš„è¯­æ³•æ ¼å¼ï¼šå˜é‡[å¤´ä¸‹æ ‡:å°¾ä¸‹æ ‡:æ­¥é•¿]ã€‚éµå¾ªå·¦é—­å³å¼€åŸåˆ™ã€‚\nå…ƒç»„å…ƒç´ ä¸å¯ä¿®æ”¹æ˜¯æŒ‡å…ƒç»„ä¸­æ¯ä¸ªå…ƒç´ çš„æŒ‡å‘æ°¸è¿œä¸å˜ã€‚ æ— æ³•å¯¹å…ƒç»„çš„å…ƒç´ è¿›è¡Œå¢åˆ æ“ä½œï¼Œä½†å¹¶éæ‰€æœ‰ç±»å‹çš„å…ƒç´ éƒ½ä¸å¯ä¿®æ”¹ã€‚\nå¯¹äºä¸å¯å˜æ•°æ®ç±»å‹çš„å…ƒç´ ï¼Œçš„ç¡®ä¸èƒ½ä¿®æ”¹ã€‚\nå¯¹äºå¯å˜æ•°æ®ç±»å‹çš„å…ƒç´ ï¼Œå¯ä»¥æŒ‰ç…§å…¶è§„åˆ™ä¿®æ”¹ã€‚\n\u0026gt;\u0026gt;\u0026gt; tuple = (1, [1, 2, 3]) \u0026gt;\u0026gt;\u0026gt; print(tuple) (1, [1, 2, 3]) \u0026gt;\u0026gt;\u0026gt; tuple[1][0] = 2 \u0026gt;\u0026gt;\u0026gt; print(tuple) (1, [2, 2, 3]) å¯ä»¥ç”¨ + è¿ç®—ç¬¦æ‹¼æ¥ï¼Œç”¨ * è¿ç®—ç¬¦é‡å¤ã€‚\nå…ƒç»„çš„æŸäº›æ“ä½œå¯ä»¥å‚ç…§åˆ—è¡¨ï¼Œé™¤äº†å¢åŠ å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œã€‚\nå…ƒç»„æ”¯æŒæ¨å¯¼å¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; tuple(x**2 for x in range(10)) (0, 1, 4, 9, 16, 25, 36, 49, 64, 81) Set é›†åˆï¼ˆsetï¼‰æ˜¯ç”±ä¸€ä¸ªæˆ–æ•°ä¸ªå½¢æ€å„å¼‚çš„å¤§å°æ•´ä½“ç»„æˆçš„ï¼Œæ„æˆé›†åˆçš„äº‹ç‰©æˆ–å¯¹è±¡ç§°ä½œå…ƒç´ æˆ–æ˜¯æˆå‘˜ã€‚é›†åˆçš„åŸºæœ¬åŠŸèƒ½æ˜¯è¿›è¡Œæˆå‘˜å…³ç³»æµ‹è¯•å’Œåˆ é™¤é‡å¤å…ƒç´ ã€‚å¯ä»¥ä½¿ç”¨å¤§æ‹¬å· {} æˆ–è€…æ„é€ å‡½æ•° set() åˆ›å»ºé›†åˆã€‚\né›†åˆæ˜¯ä¸€ä¸ªæ— åºä¸é‡å¤å…ƒç´ çš„é›†ã€‚\nå…ƒç´ çš„ç±»å‹å¯ä»¥ä¸ç›¸åŒã€‚\nå…ƒç´ æ˜¯å¯æ›´æ”¹çš„ã€‚\nåˆ›å»ºç©ºé›†ï¼š\nä½¿ç”¨ä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•° set() åˆ›å»ºï¼Œä¸å¯ä½¿ç”¨ {} åˆ›å»ºï¼ˆ{} ä»£è¡¨ç©ºå­—å…¸ï¼‰ã€‚\n\u0026gt;\u0026gt;\u0026gt; s = set() \u0026gt;\u0026gt;\u0026gt; print(s) set() ä¸åŒ…å«å¤šä½™çš„é‡å¤å…ƒç´ ã€‚åœ¨é›†åˆä¸­ï¼Œä¸ä¼šå¤šæ¬¡å‡ºç°çš„ç›¸åŒå…ƒç´ ã€‚\nä¸å¯ä½¿ç”¨ç´¢å¼•æˆ–æˆªå–ç­‰æ“ä½œã€‚\nå¯ä»¥ä½¿ç”¨é›†åˆè¿ç®—ã€‚\n\u0026gt;\u0026gt;\u0026gt; set1 = {1, 2, 3, 4, 5, 7} \u0026gt;\u0026gt;\u0026gt; set2 = {2, 4, 6, 7, 8} \u0026gt;\u0026gt;\u0026gt; print(set1 - set2) # set1 å’Œ set2 çš„å·®é›† {1, 3, 5} \u0026gt;\u0026gt;\u0026gt; print(set1 | set2) # set1 å’Œ set2 çš„å¹¶é›† {1, 2, 3, 4, 5, 6, 7, 8} \u0026gt;\u0026gt;\u0026gt; print(set1 \u0026amp; set2) # set1 å’Œ set2 çš„äº¤é›† {2, 4, 7} \u0026gt;\u0026gt;\u0026gt; print(set1 ^ set2) # set1 å’Œ set2 çš„å¯¹ç§°å·®é›† {1, 3, 5, 6, 8} é›†åˆæ”¯æŒæ¨å¯¼å¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; {x**2 for x in range(10)} {0, 1, 64, 4, 36, 9, 16, 49, 81, 25} é›†åˆçš„æˆå‘˜æµ‹è¯•ï¼š\navengers = {\u0026#39;captain america\u0026#39;, \u0026#39;iron man\u0026#39;, \u0026#39;thor\u0026#39;, \u0026#39;doctor strange\u0026#39;, \u0026#39;star-Lord\u0026#39;, \u0026#39;hulk\u0026#39;, \u0026#39;black widow\u0026#39;, \u0026#39;black panther\u0026#39;, \u0026#39;spider man\u0026#39;} if \u0026#39;spider man\u0026#39; in avengers: print(\u0026#39;èœ˜è››ä¾ æ˜¯å¤ä»‡è€…\u0026#39;) else: print(\u0026#39;èœ˜è››ä¾ ä¸æ˜¯å¤ä»‡è€…\u0026#39;) if \u0026#39;thanos\u0026#39; in avengers: print(\u0026#39;ç­éœ¸æ˜¯å¤ä»‡è€…\u0026#39;) else: print(\u0026#39;ç­éœ¸ä¸æ˜¯å¤ä»‡è€…\u0026#39;) é›†åˆæ–¹æ³• æ–¹æ³• æè¿° set.add() ä¸ºé›†åˆæ·»åŠ å…ƒç´ ã€‚ set.clear() ç§»é™¤é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ set.copy() æ‹·è´ä¸€ä¸ªé›†åˆã€‚ set.difference(set1, set2, ...) è¿”å›é›†åˆ $(set - set1)\\cap(set - set2)\\cap\\cdots$ã€‚ set.difference_update(set1, set2, ...) ç§»é™¤é›†åˆ set ä¸­çš„å…ƒç´ ï¼Œè¯¥å…ƒç´ åœ¨æŒ‡å®šçš„é›†åˆ set1, set2, ... ä¹Ÿå­˜åœ¨ã€‚ å³ï¼Œå°†é›†åˆ set æ›´æ–°ä¸ºé›†åˆ $(set - set1)\\cap(set - set2)\\cap\\cdots$ã€‚ set.discard(value) åˆ é™¤é›†åˆ set ä¸­æŒ‡å®šçš„å…ƒç´  valueã€‚ ä¸ remove() ä¸åŒçš„æ˜¯ï¼Œå¦‚æœ value ä¸å­˜åœ¨ set ä¸­ï¼Œå¹¶ä¸ä¼šå‘ç”Ÿé”™è¯¯ã€‚ set.intersection(set1, set2, ...) è¿”å›é›†åˆ $set \\cap set1 \\cap set2 \\cap \\cdots$ã€‚ set.intersection_update(set1, set2, ...) å°†é›†åˆ set æ›´æ–°ä¸ºé›†åˆ $set \\cap set1 \\cap set2 \\cap \\cdots$ã€‚ set1.isdisjoint(set2) åˆ¤æ–­é›†åˆ set1 å’Œ set2 æ˜¯å¦åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ set1.issubset(set2) åˆ¤æ–­é›†åˆ set1 æ˜¯å¦æ˜¯é›†åˆ set2 çš„å­é›†ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å› Trueï¼›å¦åˆ™è¿”å› Falseã€‚ set1.issuperset(set2) åˆ¤æ–­é›†åˆ set1 æ˜¯å¦æ˜¯é›†åˆ set2 çš„çˆ¶é›†ã€‚å¦‚æœæ˜¯ï¼Œåˆ™è¿”å› Trueï¼›å¦åˆ™è¿”å› Falseã€‚ set.pop() éšæœºç§»é™¤å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ ã€‚ set.remove(item) ç§»é™¤æŒ‡å®šå…ƒç´  itemã€‚å¦‚æœ item ä¸å­˜åœ¨ set ä¸­ï¼Œä¼šå‘ç”Ÿé”™è¯¯ã€‚ set1.symmetric_difference(set2) è¿”å›é›†åˆ set1 å’Œ set2 çš„å¯¹ç§°å·®é›† $set1 \\oplus set2$ã€‚ set1.symmetric_difference_update(set2) å°†é›†åˆ set1 æ›´æ–°ä¸º $set1 \\oplus set2$ã€‚ set.union(set1, set2...) è¿”å›é›†åˆ $set \\cup set1 \\cup set2 \\cup \\cdots$ã€‚ set.update(added_set) æ·»åŠ æ–°çš„å…ƒç´ æˆ–é›†åˆåˆ°å½“å‰é›†åˆä¸­ã€‚ added_set â€”â€” å¯ä»¥æ˜¯å…ƒç´ æˆ–é›†åˆã€‚ Dictionary å­—å…¸æ˜¯ä¸€ç§æ˜ å°„ç±»å‹ï¼Œç”¨ {} æ ‡è¯†ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„ key:value ï¼ˆé”® - å€¼å¯¹ï¼‰çš„é›†åˆã€‚å­—å…¸å½“ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡é”®æ¥å­˜å–çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡åç§»å­˜å–ã€‚å­—å…¸è¿˜å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•° dict() åˆ›å»ºã€‚\n# ä¸€èˆ¬æ–¹æ³•ï¼š dic = { \u0026#39;name\u0026#39;: \u0026#39;tom\u0026#39;, \u0026#39;age\u0026#39;: 20, \u0026#39;height\u0026#39;: 185, # cm \u0026#39;weight\u0026#39;: 71 # kg } print(dic) # è¾“å‡ºï¼š{\u0026#39;name\u0026#39;: \u0026#39;tom\u0026#39;, \u0026#39;age\u0026#39;: 20, \u0026#39;height\u0026#39;: 185, \u0026#39;weight\u0026#39;: 71} # æ„é€ å‡½æ•°ï¼š # 1. dic = dict( name = \u0026#39;lucy\u0026#39;, age = 18, height = 169, weight = 56 ) print(dic) # è¾“å‡ºï¼š{\u0026#39;name\u0026#39;: \u0026#39;lucy\u0026#39;, \u0026#39;age\u0026#39;: 18, \u0026#39;height\u0026#39;: 169, \u0026#39;weight\u0026#39;: 56} # 2. dic = dict([ (\u0026#39;name\u0026#39;, \u0026#39;jiessie\u0026#39;), (\u0026#39;age\u0026#39;, 25), (\u0026#39;height\u0026#39;, 178), (\u0026#39;weight\u0026#39;, 63) ]) print(dic) # è¾“å‡ºï¼š{\u0026#39;name\u0026#39;: \u0026#39;jiessie\u0026#39;, \u0026#39;age\u0026#39;: 25, \u0026#39;height\u0026#39;: 178, \u0026#39;weight\u0026#39;: 63} # ä½¿ç”¨ for å¾ªç¯ï¼š dic = { x: x**2 for x in (2, 4, 6) } print(dic) # è¾“å‡ºï¼š{2: 4, 4: 16, 6: 36} æ›´å¤šæ„é€ å­—å…¸çš„æ–¹æ³•â†©ã€‚\né”®ï¼ˆkeyï¼‰å¿…é¡»ä½¿ç”¨ä¸å¯å˜ç±»å‹ï¼Œä¸”æ˜¯å”¯ä¸€çš„ã€‚\n\u0026gt;\u0026gt;\u0026gt; dic = {1:20, \u0026#39;a\u0026#39;:50, (1, 2, 3):6} \u0026gt;\u0026gt;\u0026gt; print(dic) {1: 20, \u0026#39;a\u0026#39;: 50, (1, 2, 3): 6} \u0026gt;\u0026gt;\u0026gt; print(dic[1]) 20 \u0026gt;\u0026gt;\u0026gt; print(dic[\u0026#39;a\u0026#39;]) 50 \u0026gt;\u0026gt;\u0026gt; print(dic[(1, 2, 3)]) 6 å€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å…ƒç´ ã€‚\nä½¿ç”¨é”®ä½œä¸ºç´¢å¼•ã€‚\nä½¿ç”¨ in æ“ä½œç¬¦åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­ï¼Œå¦‚ key in dict ï¼Œå¦‚æœé”®åœ¨å­—å…¸dicté‡Œè¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚not in æ“ä½œç¬¦ä¸ in ç›¸åã€‚\nå­—å…¸æ–¹æ³• æ–¹æ³• è¯´æ˜ radiansdict.clear() åˆ é™¤å­—å…¸å†…æ‰€æœ‰å…ƒç´ ï¼Œæ— è¿”å›å€¼ã€‚ radiansdict.copy() è¿”å›ä¸€ä¸ªå­—å…¸çš„æµ…å¤åˆ¶ã€‚ radiansdict.fromkeys(seq[, value]) åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸ï¼Œä»¥åºåˆ— seq ä¸­å…ƒç´ åšå­—å…¸çš„é”®ï¼Œvalue ä¸ºå­—å…¸æ‰€æœ‰é”®å¯¹åº”çš„åˆå§‹å€¼ï¼ˆå¯é€‰ï¼‰ã€‚ radiansdict.get(key, default=None) è¿”å›æŒ‡å®šé”® key çš„å€¼ï¼Œå¦‚æœé”®ä¸åœ¨å­—å…¸ä¸­è¿”å› default è®¾ç½®çš„é»˜è®¤å€¼ã€‚ radiansdict.items() ä»¥åˆ—è¡¨è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡ï¼Œè§†å›¾å¯¹è±¡ä¸­çš„å…ƒç´ ä»¥é”®-å€¼å¯¹ (key, value) çš„å½¢å¼æ˜¾ç¤ºã€‚ è§†å›¾å¯¹è±¡ä¸æ˜¯åˆ—è¡¨ï¼Œä¸æ”¯æŒç´¢å¼•ï¼Œå…¶ä¸­çš„å…ƒç´ æ˜¯é”®-å€¼å¯¹ã€‚å­—å…¸çš„è§†å›¾å¯¹è±¡éƒ½æ˜¯åªè¯»çš„ï¼Œä½†å­—å…¸æ”¹å˜ï¼Œè§†å›¾ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚ radiansdict.keys() è¿”å›ä¸€ä¸ªåªåŒ…å«é”®çš„è§†å›¾å¯¹è±¡ã€‚ radiansdict.setdefault(key, default=None) å’Œ get() ç±»ä¼¼ï¼Œå¦‚æœ key å­˜åœ¨äº radiandict ä¸­ï¼Œå°±è¿”å›å…¶å€¼ï¼›ä½†å¦‚æœ key ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°†ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸º defaultã€‚ radiansdict.update(dict2) æŠŠå­—å…¸ dict2 çš„é”®-å€¼å¯¹æ›´æ–°åˆ° dict é‡Œï¼Œæ— è¿”å›å€¼ã€‚ radiansdict.values() è¿”å›ä¸€ä¸ªåªåŒ…å«å€¼çš„è§†å›¾å¯¹è±¡ã€‚ radiansdict.pop(key[, default]) åˆ é™¤å­—å…¸ç»™å®šé”® key æ‰€å¯¹åº”çš„å€¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å€¼ã€‚key å€¼å¿…é¡»ç»™å‡ºã€‚å¦åˆ™ï¼Œè¿”å› default å€¼ã€‚å¦‚æœ key ä¸å­˜åœ¨å­—å…¸ä¸­ï¼Œè¿”å› default å€¼ï¼ˆdefault å€¼å¿…é¡»ç»™å‡ºï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ radiansdict.popitem() éšæœºè¿”å›å¹¶åˆ é™¤å­—å…¸ä¸­çš„æœ€åä¸€å¯¹é”®å’Œå€¼ (key, value)ã€‚ å¦‚æœå­—å…¸å·²ç»ä¸ºç©ºï¼Œå´è°ƒç”¨äº†æ­¤æ–¹æ³•ï¼Œå°±æŠ¥å‡º KeyError å¼‚å¸¸ã€‚ å‡½æ•°æ“ä½œ å‡½æ•° è¯´æ˜ len(obj) è¿”å›å¯¹è±¡çš„å…ƒç´ ä¸ªæ•° max(x1[, x2[, x3[, ...]]]) è¿”å›å‚æ•°ä¸­æœ€å¤§å€¼ï¼Œå‚æ•°è¿˜å¯ä»¥æ˜¯é›†åˆã€åˆ—è¡¨æˆ–å…ƒç»„ã€‚ min(x1[, x2[, x3[, ...]]]) è¿”å›å‚æ•°ä¸­æœ€å°å€¼ï¼Œå‚æ•°è¿˜å¯ä»¥æ˜¯é›†åˆã€åˆ—è¡¨æˆ–å…ƒç»„ã€‚ æ•°æ®ç±»å‹è½¬æ¢ å°†æ•°æ®ç±»å‹ä½œä¸ºå‡½æ•°åå³å¯è¿›è¡Œæ•°æ®ç±»å‹çš„è½¬æ¢ã€‚ä»¥ä¸‹å†…ç½®çš„æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¡¨ç¤ºè½¬æ¢çš„å€¼ã€‚\nå‡½æ•° æè¿° int(x, base = 10) å°† x è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ã€‚ x â€”â€” å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼› base â€”â€” åŸºæ•°ï¼ˆè¿›åˆ¶æ•°ï¼‰ï¼Œé»˜è®¤ 10ã€‚ float(x = 0.0) å°† x è½¬æ¢ä¸ºä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ x â€”â€” å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œé»˜è®¤ä¸º 0.0ã€‚ complex(real[, imag]) åˆ›å»ºä¸€ä¸ªå€¼ä¸º real + imag * j çš„å¤æ•°ã€‚ real â€”â€” ä¸ºå­—ç¬¦ä¸²æ—¶ä¸éœ€è¦æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿˜å¯ä»¥ä¸º int æˆ– floatï¼› imag â€”â€” intã€floatã€‚ str(object = '') å°†å¯¹è±¡ object è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚ repr(object) å°†å¯¹è±¡ object è½¬æ¢ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸²ã€‚â†© eval(expression[, globals[, locals]]) ç”¨æ¥æ‰§è¡Œå­—ç¬¦ä¸²ä¸­çš„æœ‰æ•ˆè¡¨è¾¾å¼ï¼Œå¹¶è¿”å›è¡¨è¾¾å¼çš„å€¼ã€‚ expression â€”â€” è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼› globals â€”â€” å˜é‡ä½œç”¨åŸŸï¼Œå…¨å±€å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œåˆ™å¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸å¯¹è±¡ï¼› locals â€”â€” å˜é‡ä½œç”¨åŸŸï¼Œå±€éƒ¨å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œå¯ä»¥æ˜¯ä»»ä½•æ˜ å°„å¯¹è±¡ã€‚ tuple(iterable) å°†åºåˆ— iterable è½¬æ¢ä¸ºä¸€ä¸ªå…ƒç»„ã€‚ iterable â€”â€” å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€å­—å…¸ã€å…ƒç»„ç­‰ç­‰ã€‚ list(seq) å°†åºåˆ— seq è½¬æ¢ä¸ºä¸€ä¸ªåˆ—è¡¨ã€‚ seq â€”â€” å…ƒç»„æˆ–å­—ç¬¦ä¸²ã€‚ set([iterable]) å°† iterable è½¬æ¢ä¸ºå¯å˜é›†åˆï¼Œé»˜è®¤åˆ›å»ºç©ºé›†ã€‚ iterable â€”â€” å¯è¿­ä»£å¯¹è±¡ã€‚ dict(**kwarg)ã€ class dict(mapping, **kwarg) ã€ class dict(iterable, **kwarg) åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œé»˜è®¤åˆ›å»ºç©ºé›†ã€‚â†©**kwargs â€”â€” å…³é”®å­—ï¼Œå¦‚ key=valueï¼› mapping â€”â€” å…ƒç´ çš„å®¹å™¨ï¼› iterable â€”â€” å¯è¿­ä»£å¯¹è±¡ã€‚ frozenset([iterable]) å°† iterable è½¬æ¢ä¸ºä¸å¯å˜é›†åˆï¼Œé»˜è®¤åˆ›å»ºç©ºé›†ã€‚ iterable â€”â€” å¯è¿­ä»£çš„å¯¹è±¡ã€‚ chr(i) å°†ä¸€ä¸ªæ•´æ•° iï¼ˆin rang(256)ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ã€‚ è¿”å›å€¼æ˜¯å½“å‰æ•´æ•°å¯¹åº”çš„ ASCII å­—ç¬¦ã€‚ ord(c) å°†ä¸€ä¸ªå­—ç¬¦ c è½¬æ¢ä¸ºå®ƒçš„æ•´æ•°å€¼ï¼ˆASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼ï¼‰ã€‚ c â€”â€” å­—ç¬¦ï¼ˆé•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸²ï¼‰ã€‚ å¦‚æœæ‰€ç»™çš„ Unicode å­—ç¬¦è¶…å‡ºäº†ä½ çš„ Python å®šä¹‰èŒƒå›´ï¼Œåˆ™ä¼šå¼•å‘ä¸€ä¸ª TypeError çš„å¼‚å¸¸ã€‚ hex(x) å°†æ•´æ•° x è½¬æ¢ä¸ºä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼ˆä»¥ 0x ä¸ºå‰ç¼€ï¼‰ã€‚ oct(x) å°†æ•´æ•° x è½¬æ¢ä¸ºä¸€ä¸ªå…«è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ Python2.x ç‰ˆæœ¬çš„ 8 è¿›åˆ¶ä»¥ 0 ä½œä¸ºå‰ç¼€è¡¨ç¤ºï¼› Python3.x ç‰ˆæœ¬çš„ 8 è¿›åˆ¶ä»¥ 0o ä½œä¸ºå‰ç¼€è¡¨ç¤ºã€‚ repr çš„ç”¨æ³•ï¼š\n\u0026gt;\u0026gt;\u0026gt; dic = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; repr(dic) \u0026#39;[1, 2, 3]\u0026#39; dict() çš„ç”¨æ³•ï¼š\n\u0026gt;\u0026gt;\u0026gt;dict() # åˆ›å»ºç©ºå­—å…¸ {} \u0026gt;\u0026gt;\u0026gt; dict(a=\u0026#39;a\u0026#39;, b=\u0026#39;b\u0026#39;, t=\u0026#39;t\u0026#39;) # ä¼ å…¥å…³é”®å­— {\u0026#39;a\u0026#39;: \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;: \u0026#39;b\u0026#39;, \u0026#39;t\u0026#39;: \u0026#39;t\u0026#39;} \u0026gt;\u0026gt;\u0026gt; dict(zip([\u0026#39;one\u0026#39;, \u0026#39;two\u0026#39;, \u0026#39;three\u0026#39;], [1, 2, 3])) # æ˜ å°„å‡½æ•°æ–¹å¼æ¥æ„é€ å­—å…¸ {\u0026#39;one\u0026#39;: 1, \u0026#39;two\u0026#39;: 2, \u0026#39;three\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; dict([(\u0026#39;one\u0026#39;, 1), (\u0026#39;two\u0026#39;, 2), (\u0026#39;three\u0026#39;, 3)]) # å¯è¿­ä»£å¯¹è±¡æ–¹å¼æ¥æ„é€ å­—å…¸ {\u0026#39;one\u0026#39;: 1, \u0026#39;two\u0026#39;: 2, \u0026#39;three\u0026#39;: 3} å…¶ä»–æ“ä½œ ä½¿ç”¨ Python çš„ type() å‡½æ•°æŸ¥çœ‹å˜é‡çš„ç±»å‹ï¼š\n\u0026gt;\u0026gt;\u0026gt; a, b, c, d = 20, 5.5, True, 4+3j \u0026gt;\u0026gt;\u0026gt; print(type(a), type(b), type(c), type(d)) \u0026lt;class \u0026#39;int\u0026#39;\u0026gt; \u0026lt;class \u0026#39;float\u0026#39;\u0026gt; \u0026lt;class \u0026#39;bool\u0026#39;\u0026gt; \u0026lt;class \u0026#39;complex\u0026#39;\u0026gt; ä½¿ç”¨ isinstance åˆ¤æ–­æ•°æ®ç±»å‹æ˜¯å¦æ­£ç¡®ï¼š\n\u0026gt;\u0026gt;\u0026gt; a = 111 \u0026gt;\u0026gt;\u0026gt; isinstance(a, int) True isinstance() å’Œ type() çš„åŒºåˆ«åœ¨äºï¼š\ntype() ä¸ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹ã€‚\nisinstance() ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹ã€‚å³ï¼Œå­ç±»å’Œçˆ¶ç±»è¢«è®¤ä¸ºæ˜¯åŒä¸€ç±»å‹ã€‚\n\u0026gt;\u0026gt;\u0026gt; class A: ... pass ... \u0026gt;\u0026gt;\u0026gt; # B æ˜¯ A çš„å­ç±» \u0026gt;\u0026gt;\u0026gt; class B(A): ... pass ... \u0026gt;\u0026gt;\u0026gt; isinstance(A(), A) True \u0026gt;\u0026gt;\u0026gt; type(A()) == A True \u0026gt;\u0026gt;\u0026gt; isinstance(B(), A) True \u0026gt;\u0026gt;\u0026gt; type(B()) == A False Python3 ä¸­ï¼Œbool æ˜¯ int çš„å­ç±»ï¼ŒTrue å’Œ False å¯ä»¥å’Œæ•°å­—ç›¸åŠ ã€‚\n\u0026gt;\u0026gt;\u0026gt; True == 1 True \u0026gt;\u0026gt;\u0026gt; False == 0 True å¯ä»¥é€šè¿‡ is æ¥åˆ¤æ–­ï¼š\n\u0026gt;\u0026gt;\u0026gt; True is 1 False \u0026gt;\u0026gt;\u0026gt; flag = True \u0026gt;\u0026gt;\u0026gt; flag is True True ä½¿ç”¨ del åˆ é™¤å¯¹è±¡ï¼š\ndel var # åˆ é™¤ä¸€ä¸ªå¯¹è±¡ del var_1, var_2 # åˆ é™¤å¤šä¸ªå¯¹è±¡ print é»˜è®¤è¾“å‡ºæ˜¯æ¢è¡Œçš„ï¼Œå¦‚æœè¦å®ç°ä¸æ¢è¡Œéœ€è¦åœ¨å˜é‡æœ«å°¾åŠ ä¸Š end=\u0026quot;\u0026quot;ï¼š\n\u0026gt;\u0026gt;\u0026gt; str1 = \u0026#39;Hello \u0026#39; \u0026gt;\u0026gt;\u0026gt; str2 = \u0026#39;World!\u0026#39; \u0026gt;\u0026gt;\u0026gt; print(str1); print(str2) Hello World! \u0026gt;\u0026gt;\u0026gt; print(str1, end = \u0026#39;\u0026#39;); print(str2) Hello World! è¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ Operators Explains + åŠ  æ“ä½œå¯¹è±¡ä¸ºå­—ç¬¦ä¸²ã€åˆ—è¡¨æˆ–å…ƒç»„æ—¶ï¼Œè¡¨ç¤ºå°†ä¸¤ä¸ªå¯¹è±¡æ‹¼æ¥åœ¨ä¸€èµ·ã€‚ - å‡ * ä¹˜ a * bï¼Œè‹¥ a ä¸ºå­—ç¬¦ä¸²ã€åˆ—è¡¨æˆ–å…ƒç»„ï¼Œb ä¸ºæ•´æ•°æ—¶ï¼Œè¡¨ç¤ºå°† b ä¸ª a æ‹¼æ¥åœ¨ä¸€èµ·ã€‚ / é™¤ % å–æ¨¡ ** å¹‚ï¼Œå¦‚ a**b è¿”å› a çš„ b æ¬¡æ–¹ // æ•´é™¤ï¼Œå‘ä¸‹å–æ•´ æ¯”è¾ƒï¼ˆå…³ç³»ï¼‰è¿ç®—ç¬¦ æ‰€æœ‰æ¯”è¾ƒè¿ç®—ç¬¦è¿”å› 1ï¼ˆæˆ– Trueï¼‰è¡¨ç¤ºçœŸï¼Œè¿”å› 0ï¼ˆæˆ– Falseï¼‰è¡¨ç¤ºå‡ã€‚\nOperators Explains == ç›¸ç­‰ != ä¸ç­‰äº Python 3 å·²ä¸æ”¯æŒ \u0026lt;\u0026gt; \u0026gt; å¤§äº \u0026lt; å°äº \u0026gt;= å¤§äºç­‰äº - è¿”å›xæ˜¯å¦å¤§äºç­‰äºyã€‚ \u0026lt;= å°äºç­‰äº - è¿”å›xæ˜¯å¦å°äºç­‰äºyã€‚ èµ‹å€¼è¿ç®—ç¬¦ Operators Explains = èµ‹å€¼è¿ç®—ç¬¦ += åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ -= å‡æ³•èµ‹å€¼è¿ç®—ç¬¦ *= ä¹˜æ³•èµ‹å€¼è¿ç®—ç¬¦ /= é™¤æ³•èµ‹å€¼è¿ç®—ç¬¦ %= å–æ¨¡èµ‹å€¼è¿ç®—ç¬¦ **= å¹‚èµ‹å€¼è¿ç®—ç¬¦ //= å–æ•´é™¤èµ‹å€¼è¿ç®—ç¬¦ := æµ·è±¡è¿ç®—ç¬¦ï¼Œå¯åœ¨è¡¨è¾¾å¼å†…éƒ¨ä¸ºå˜é‡èµ‹å€¼ï¼Œç„¶åç›´æ¥è¿›è¡Œåˆ¤æ–­ã€‚Python3.8 ç‰ˆæœ¬æ–°å¢è¿ç®—ç¬¦ã€‚ ä½è¿ç®—ç¬¦ Operators Explain \u0026amp; æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼š å‚ä¸è¿ç®—çš„ä¸¤ä¸ªå€¼ï¼Œå¦‚æœä¸¤ä¸ªç›¸åº”ä½éƒ½ä¸º 1ï¼Œåˆ™è¯¥ä½çš„ç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ | æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼š åªè¦å¯¹åº”çš„ä¸¤ä¸ªäºŒè¿›ä½æœ‰ä¸€ä¸ªä¸º 1 æ—¶ï¼Œç»“æœä½å°±ä¸º 1ã€‚ ^ æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼š å½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º 1ã€‚ ~ æŒ‰ä½å–åè¿ç®—ç¬¦ï¼š å¯¹æ•°æ®çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½å–åï¼Œå³æŠŠ 1 å˜ä¸º 0ï¼ŒæŠŠ 0 å˜ä¸º 1ã€‚~x ç±»ä¼¼äº x-1 \u0026lt;\u0026lt; å·¦ç§»åŠ¨è¿ç®—ç¬¦ï¼š è¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œç”± \u0026lt;\u0026lt; å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•°ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥ 0ã€‚ \u0026gt;\u0026gt; å³ç§»åŠ¨è¿ç®—ç¬¦ï¼š æŠŠ \u0026gt;\u0026gt; å·¦è¾¹çš„è¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œ\u0026gt;\u0026gt; å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•°ã€‚ é€»è¾‘è¿ç®—ç¬¦ Operators Expressions Explains and x and y å¸ƒå°” â€œä¸â€ å¦‚æœ x ä¸º Falseï¼Œx and y è¿”å› x çš„å€¼ï¼Œå¦åˆ™è¿”å› y çš„è®¡ç®—å€¼ã€‚ or x or y å¸ƒå°” â€œæˆ–â€ å¦‚æœ x æ˜¯ Trueï¼Œå®ƒè¿”å› x çš„å€¼ï¼Œå¦åˆ™å®ƒè¿”å› y çš„è®¡ç®—å€¼ã€‚ not not x å¸ƒå°” â€œéâ€ å¦‚æœ x ä¸º Trueï¼Œè¿”å› Falseï¼›å¦‚æœ x ä¸º Falseï¼Œå®ƒè¿”å› Trueã€‚ æˆå‘˜è¿ç®—ç¬¦ Operators Explains in å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ not in å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ²¡æœ‰æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ èº«ä»½è¿ç®—ç¬¦ Operators Explains is åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸€ä¸ªå¯¹è±¡ã€‚ x is yï¼Œç±»ä¼¼ id(x) == id(y)ã€‚ å¦‚æœå¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False is not åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸åŒå¯¹è±¡ã€‚ x is not yï¼Œç±»ä¼¼ id(a) != id(b)ã€‚ å¦‚æœå¼•ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡åˆ™è¿”å›ç»“æœ Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ is å’Œ == çš„åŒºåˆ«ï¼š\n\u0026gt;\u0026gt;\u0026gt;a = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; b = a \u0026gt;\u0026gt;\u0026gt; b is a True \u0026gt;\u0026gt;\u0026gt; b == a True \u0026gt;\u0026gt;\u0026gt; b = a[:] \u0026gt;\u0026gt;\u0026gt; b is a False \u0026gt;\u0026gt;\u0026gt; b == a True è¿ç®—ç¬¦ä¼˜å…ˆçº§ ä¼˜å…ˆçº§æŒ‰ä»é«˜åˆ°åº•æ’åˆ—ï¼š\nOperators Explains ** æŒ‡æ•° ~ + - æŒ‰ä½ç¿»è½¬ï¼Œä¸€å…ƒåŠ å·å’Œå‡å·ï¼ˆæœ€åä¸¤ä¸ªçš„æ–¹æ³•åä¸º +@ å’Œ -@ï¼‰ * / % // ä¹˜ï¼Œé™¤ï¼Œæ±‚ä½™æ•°å’Œå–æ•´é™¤ + - åŠ æ³•å‡æ³• \u0026gt;\u0026gt; \u0026lt;\u0026lt; å³ç§»ï¼Œå·¦ç§»è¿ç®—ç¬¦ \u0026amp; æŒ‰ä½ä¸ ^ | æŒ‰ä½å¼‚æˆ–ï¼ŒæŒ‰ä½ä¸ \u0026lt;= \u0026lt; \u0026gt; \u0026gt;= æ¯”è¾ƒè¿ç®—ç¬¦ == != ç­‰äºè¿ç®—ç¬¦ = %= /= //= -= += *= **= èµ‹å€¼è¿ç®—ç¬¦ is is not èº«ä»½è¿ç®—ç¬¦ in not in æˆå‘˜è¿ç®—ç¬¦ not and or é€»è¾‘è¿ç®—ç¬¦ ifæ¡ä»¶æ§åˆ¶ if è¯­å¥çš„å½¢å¼ï¼š\nif condition_1: statement_block_1 elif condition_2: statement_block_2 else: statement_block_3 if è¯­å¥çš„æ¡ä»¶é€šå¸¸ç”±å…³ç³»è¿ç®—ç¬¦æˆ–è¿”å›å€¼ä¸ºå¸ƒå°”å€¼çš„è¯­å¥ç»„æˆï¼Œä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦åœ¨ä¸€æ¡ if è¯­å¥ä¸­è¿æ¥å¤šä¸ªæ¡ä»¶ã€‚\næ¡ä»¶è¿ç®—ç¬¦ Python æä¾›äº†æ¡ä»¶è¿ç®—ç¬¦ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰ï¼š\nstatement_1 if condition else statement å¦‚æœ condition ä¸º Trueï¼Œæ‰§è¡Œ statement_1 å¹¶ä¸”è¿”å› staement_1 çš„ç»“æœã€‚\nå¦‚æœ condition ä¸º Falseï¼Œæ‰§è¡Œ statement_2 å¹¶ä¸”è¿”å› statement_2 çš„ç»“æœã€‚\nå¾ªç¯è¯­å¥ Python æœ‰ while å’Œ for ä¸¤ç§å¾ªç¯è¯­å¥ã€‚\nwhileæ¡ä»¶å¾ªç¯ while å¾ªç¯çš„ä¸€èˆ¬ç”¨æ³•æ˜¯ï¼Œå½“æŒ‡å®šæ¡ä»¶æˆç«‹æ—¶æ‰§è¡Œä¸€æ¬¡ while åçš„ä»£ç å—ã€‚\nwhile condition: statements_block while è¯­å¥åå¯æ¥ else è¯­å¥ã€‚å½“æŒ‡å®šæ¡ä»¶ä¸æˆç«‹æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡ while åé¢çš„ else è¯­å¥ã€‚\nwhile condition: statements_block_1 else: statements_block_2 forå¾ªç¯éå† for å¾ªç¯çš„ä¸€èˆ¬ç”¨æ³•æ˜¯ï¼Œéå†ä»»ä½•å¯è¿­ä»£å¯¹è±¡ã€‚æ¯æ¬¡å¾ªç¯ï¼Œéƒ½ä¼šä»æŒ‡å®šçš„å¯è¿­ä»£å¯¹è±¡ä¸­é€‰å–ä¸€ä¸ªèµ‹ç»™æŒ‡å®šçš„å˜é‡ã€‚å¦‚æ­¤å¾ªç¯ä¸‹å»ï¼Œç›´åˆ°éå†å®ŒæŒ‡å®šçš„å¯è¿­ä»£å¯¹è±¡ä¸­æ‰€æœ‰å…ƒç´ ã€‚\nfor variables in sequence: statements_block for è¯­å¥åå¯æ¥ else è¯­å¥ã€‚å½“æŒ‡å®šçš„å¯è¿­ä»£å¯¹è±¡ä¸ºç©ºæ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡ for åé¢çš„ else è¯­å¥ã€‚\nfor variable in sequence: statements_block_1 else: statements_block_2 for å¾ªç¯ç»å¸¸ä¸ range() å‡½æ•°ä¸€èµ·ä½¿ç”¨ã€‚å½“éœ€è¦éå†æ•°å­—åºåˆ—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ range() å‡½æ•°ç”Ÿæˆæ•°åˆ—ã€‚\n# è¾“å‡ºæ•°å­— 5~12 for i in range(5, 13): print(i, end=\u0026#39; \u0026#39;) print(\u0026#39;\u0026#39;) # è¾“å‡ºä¸€ä¸ªæ¢è¡Œç¬¦ éå†æŠ€å·§ åœ¨å­—å…¸ä¸­éå†æ—¶ï¼Œå…³é”®å­—å’Œå¯¹åº”çš„å€¼å¯ä»¥ä½¿ç”¨ items() æ–¹æ³•åŒæ—¶è§£è¯»å‡ºæ¥ï¼š\n\u0026gt;\u0026gt;\u0026gt; dict = {\u0026#39;one\u0026#39;:1, \u0026#39;two\u0026#39;: 2, \u0026#39;three\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; for key, val in dict.items(): ... print(key, \u0026#39; = \u0026#39;, val) ... one = 1 two = 2 three = 3 åœ¨åºåˆ—ä¸­éå†æ—¶ï¼Œç´¢å¼•ä½ç½®å’Œå¯¹åº”å€¼å¯ä»¥ä½¿ç”¨ enumerate() å‡½æ•°åŒæ—¶å¾—åˆ°ï¼š\n\u0026gt;\u0026gt;\u0026gt; for index, val in enumerate([\u0026#39;one\u0026#39;, \u0026#39;two\u0026#39;, \u0026#39;three\u0026#39;]): ... print(index, \u0026#39;: \u0026#39;, val) ... 0 : one 1 : two 2 : three åŒæ—¶éå†ä¸¤ä¸ªæˆ–æ›´å¤šçš„åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ zip() ç»„åˆï¼š\n\u0026gt;\u0026gt;\u0026gt; questions = [\u0026#39;name\u0026#39;, \u0026#39;quest\u0026#39;, \u0026#39;favorite color\u0026#39;] \u0026gt;\u0026gt;\u0026gt; answers = [\u0026#39;lancelot\u0026#39;, \u0026#39;the holy grail\u0026#39;, \u0026#39;blue\u0026#39;] \u0026gt;\u0026gt;\u0026gt; for q, a in zip(questions, answers): ... print(\u0026#39;What is your {0}? It is {1}.\u0026#39;.format(q, a)) ... What is your name? It is lancelot. What is your quest? It is the holy grail. What is your favorite color? It is blue. åå‘éå†åºåˆ—ï¼Œå¯ä»¥è°ƒç”¨ reversed() å‡½æ•°ï¼š\n\u0026gt;\u0026gt;\u0026gt; for i in reversed(range(10)): ... print(i, end = \u0026#39;\u0026#39;) ... 9876543210 è¦æŒ‰é¡ºåºéå†ä¸€ä¸ªåºåˆ—ï¼Œä½¿ç”¨ sorted() å‡½æ•°è¿”å›ä¸€ä¸ªå·²æ’åºçš„åºåˆ—ï¼Œå¹¶ä¸ä¿®æ”¹åŸå€¼ï¼š\n\u0026gt;\u0026gt;\u0026gt; basket = [\u0026#39;apple\u0026#39;, \u0026#39;orange\u0026#39;, \u0026#39;apple\u0026#39;, \u0026#39;pear\u0026#39;, \u0026#39;orange\u0026#39;, \u0026#39;banana\u0026#39;] \u0026gt;\u0026gt;\u0026gt; for f in sorted(set(basket)): ... print(f) ... apple banana orange pear åˆ—è¡¨æ¨å¯¼å¼ åˆ—è¡¨æ¨å¯¼å¼ï¼ˆåˆç§°åˆ—è¡¨è§£æå¼ï¼‰çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š\n[val for val in sequence if_or_for_statement] # if_or_for_statementæ˜¯ä¸€ä¸ªifåˆ¤æ–­è¯­å¥æˆ–forå¾ªç¯ # å¦‚æœæ˜¯ifè¯­å¥ï¼Œé‚£ä¹ˆåªæœ‰æ¡ä»¶ä½çœŸæ—¶valæ‰ä¼šåœ¨åˆ—è¡¨ä¸­ Exampleï¼š\n\u0026gt;\u0026gt;\u0026gt; [x for x in range(10)] [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] åˆ—è¡¨æ¨å¯¼å¼ä¸­çš„forè¯­å¥å’Œifè¯­å¥æ˜¯å¯åµŒå¥—çš„ï¼š\n[x*y for x in range(1,5) if x \u0026gt; 2 for y in range(1,4) if y \u0026lt; 3] ä¸Šé¢è¯­å¥çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š\nfor x in range(1,5) if x \u0026gt; 2 for y in range(1,4) if y \u0026lt; 3 x*y åˆ—è¡¨æ¨å¯¼å¼é™¤äº†listè¿˜å¯ä»¥è¢«è½¬åŒ–æˆå…¶å®ƒå¯¹è±¡ï¼š\n\u0026gt;\u0026gt;\u0026gt; (x for x in range(10)) \u0026lt;generator object \u0026lt;genexpr\u0026gt; at 0x0000026F7A655BA0\u0026gt; \u0026gt;\u0026gt;\u0026gt; tuple(x for x in range(10)) (0, 1, 2, 3, 4, 5, 6, 7, 8, 9) break and continue break è¯­å¥ â€”â€” è·³å‡ºï¼ˆç»ˆæ­¢ï¼‰å¾ªç¯ã€‚ä¸æ‰§è¡Œå½“å‰å¾ªç¯å—ä¸­ break è¯­å¥ä»¥ä¸‹çš„è¯­å¥ï¼Œå¹¶ä¸”å°†æ§åˆ¶è½¬ç§»åˆ°å½“å‰å¾ªç¯è¯­å¥çš„ä¸‹ä¸€æ¡è¯­å¥ã€‚\ncontinue è¯­å¥ â€”â€” è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚ä¸æ‰§è¡Œå½“å‰å¾ªç¯å—ä¸­ continue è¯­å¥ä»¥ä¸‹çš„è¯­å¥ï¼Œå¹¶ä¸”å°†æ§åˆ¶è½¬ä¹‰åˆ°å¾ªç¯è¯­å¥çš„å¼€å¤´ã€‚\nbreak å’Œ continue åœ¨å¾ªç¯è¯­å¥ä¸­ä½¿ç”¨ã€‚ä¸€èˆ¬åœ¨å¾ªç¯ä¸­çš„ if æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ã€‚å³ï¼Œè¾¾åˆ°æŸä¸ªæ¡ä»¶ä¾¿ç»“æŸæˆ–è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚\npassè¯­å¥ pass è¯­å¥æ˜¯ç©ºè¯­å¥ï¼Œå³ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚pass æ˜¯ä¸ºäº†ä¿æŒ Python ç¨‹åºç»“æ„çš„å®Œæ•´æ€§ã€‚\npass ä¸€èˆ¬ä½œä¸ºå ä½è¯­å¥ï¼Œå½“æ“ä½œéƒ½åœ¨æ¡ä»¶è¯­å¥æˆ–å¾ªç¯è¯­å¥ä¸­å®Œæˆæ—¶ï¼Œåœ¨è¯­å¥å—ä¸­ä½¿ç”¨ pass å ä½ã€‚å¦‚ï¼š\nif condition_1: pass while condition_2: pass for variable in sequence: pass è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨ è¿­ä»£å™¨ è¿­ä»£æ˜¯ä¸€ç§è®¿é—®é›†åˆå…ƒç´ çš„æ–¹å¼ã€‚è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯ä»¥è®°ä½éå†ä½ç½®çš„å¯¹è±¡ã€‚è¿­ä»£å™¨å¯¹è±¡ä»é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹è®¿é—®ï¼Œç›´åˆ°æ‰€æœ‰çš„å…ƒç´ è¢«è®¿é—®å®Œç»“æŸã€‚è¿­ä»£å™¨åªèƒ½å¾€å‰ä¸ä¼šåé€€ã€‚\nè¿­ä»£å™¨æœ‰ä¸¤ä¸ªåŸºæœ¬çš„æ–¹æ³•ï¼šiter() å’Œ next()ã€‚\nå­—ç¬¦ä¸²ã€åˆ—è¡¨æˆ–å…ƒç»„å¯¹è±¡éƒ½å¯ç”¨äºåˆ›å»ºè¿­ä»£å™¨ã€‚\n\u0026gt;\u0026gt;\u0026gt; list = [1, 2, 3, 4] \u0026gt;\u0026gt;\u0026gt; it = iter(list) # åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡ \u0026gt;\u0026gt;\u0026gt; print(next(it)) # è¾“å‡ºè¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´  1 \u0026gt;\u0026gt;\u0026gt; print(next(it)) 2 è¿­ä»£å™¨å¯¹è±¡å¯ä»¥ä½¿ç”¨å¸¸è§„ for è¯­å¥è¿›è¡Œéå†ï¼š\nlist = [1, 2, 3, 4] it = iter(list) # åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡ for x in it: print(x, end = \u0026#39; \u0026#39;) ä½¿ç”¨ next() è¿­ä»£ï¼š\nimport sys # å¼•å…¥ sys æ¨¡å— list=[1, 2, 3, 4] it = iter(list) # åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡ while True: try: print (next(it)) except StopIteration: sys.exit() åˆ›å»ºè¿­ä»£å™¨ æŠŠä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨ä½¿ç”¨éœ€è¦åœ¨ç±»ä¸­å®ç°ä¸¤ä¸ªæ–¹æ³• __iter__() ä¸ __next__() ã€‚\n__iter__() æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„è¿­ä»£å™¨å¯¹è±¡ï¼Œ è¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡å®ç°äº† __next__()æ–¹æ³•å¹¶é€šè¿‡ StopIteration å¼‚å¸¸æ ‡è¯†è¿­ä»£çš„å®Œæˆã€‚\n__next__() æ–¹æ³•ï¼ˆPython 2 é‡Œæ˜¯ next()ï¼‰ä¼šè¿”å›ä¸‹ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚\nclass MyNumbers: def __iter__(self): self.a = 1 return self def __next__(self): x = self.a self.a += 1 return x myclass = MyNumbers() myiter = iter(myclass) i = 0 while i \u0026lt; 10: print(next(myiter), end = \u0026#39; \u0026#39;) i += 1 # è¾“å‡ºï¼š1 2 3 4 5 6 7 8 9 10 è¿­ä»£ç»“æŸæ ‡å¿— StopIteration å¼‚å¸¸ç”¨äºæ ‡è¯†è¿­ä»£çš„å®Œæˆï¼Œåœ¨ __next__() æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®åœ¨å®ŒæˆæŒ‡å®šå¾ªç¯æ¬¡æ•°åè§¦å‘ StopIteration å¼‚å¸¸æ¥ç»“æŸè¿­ä»£ã€‚\n# è¿­ä»£ 10 æ¬¡ååœæ­¢ class MyNumbers: def __iter__(self): self.a = 1 return self def __next__(self): if self.a \u0026lt;= 20: x = self.a self.a += 1 return x else: raise StopIteration myclass = MyNumbers() myiter = iter(myclass) for x in myiter: print(x, end = \u0026#39; \u0026#39;) # è¾“å‡ºï¼š1 2 3 4 5 6 7 8 9 10 ç”Ÿæˆå™¨ åœ¨ Python ä¸­ï¼Œä½¿ç”¨äº† yield çš„å‡½æ•°è¢«ç§°ä¸ºç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ï¼Œç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªè¿”å›è¿­ä»£å™¨çš„å‡½æ•°ï¼Œåªèƒ½ç”¨äºè¿­ä»£æ“ä½œã€‚\nåœ¨è°ƒç”¨ç”Ÿæˆå™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡é‡åˆ° yield æ—¶å‡½æ•°ä¼šæš‚åœå¹¶ä¿å­˜å½“å‰æ‰€æœ‰çš„è¿è¡Œä¿¡æ¯ï¼Œè¿”å› yield çš„å€¼, å¹¶åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œ next() æ–¹æ³•æ—¶ä»å½“å‰ä½ç½®ç»§ç»­è¿è¡Œã€‚\nimport sys def fibonacci(n): # ç”Ÿæˆå™¨å‡½æ•° - æ–æ³¢é‚£å¥‘ a, b, counter = 1, 1, 0 while True: if (counter \u0026gt; n): return yield a a, b = b, a + b counter += 1 f = fibonacci(10) # f æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”±ç”Ÿæˆå™¨è¿”å›ç”Ÿæˆ while True: try: print (next(f), end=\u0026#34; \u0026#34;) except StopIteration: sys.exit() # è¾“å‡ºï¼š1 1 2 3 5 8 13 21 34 55 89 å‡½æ•° å‡½æ•°æ˜¯ç»„ç»‡å¥½çš„ï¼Œå¯é‡å¤ä½¿ç”¨çš„ï¼Œç”¨æ¥å®ç°å•ä¸€ï¼Œæˆ–ç›¸å…³è”åŠŸèƒ½çš„ä»£ç æ®µã€‚å‡½æ•°èƒ½æé«˜åº”ç”¨çš„æ¨¡å—æ€§ï¼Œå’Œä»£ç çš„é‡å¤åˆ©ç”¨ç‡ã€‚\nå‡½æ•°çš„å®šä¹‰å½¢å¼ï¼š\ndef function_name(arguments): \u0026#34;\u0026#34;\u0026#34;explain\u0026#34;\u0026#34;\u0026#34; statements_block return [expression] # end function_name explain æ˜¯ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²å­˜æ”¾çš„å‡½æ•°è¯´æ˜ã€‚\nreturn ä»£è¡¨ä¸€ä¸ªå‡½æ•°çš„ç»“æŸï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨æ–¹ï¼Œè¿™ä¸ªå€¼æ”¾åœ¨ return åé¢ï¼Œå¯ä»¥æ˜¯å…·ä½“çš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€æ¡æœ‰ç¡®åˆ‡å€¼çš„è¡¨è¾¾å¼ã€‚ä¸å¸¦å€¼æˆ–è¡¨è¾¾å¼çš„ return ç›¸å½“äºè¿”å› Noneã€‚å½“å‡½æ•°ä¸éœ€è¦è¿”å›å€¼æ—¶ï¼Œå¯ä»¥çœç•¥ returnã€‚\nè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶éœ€è¦ä½¿ç”¨è¯¥å‡½æ•°åå¹¶æ ¹æ®å…¶å®šä¹‰æŒ‡å®šå‚æ•°ï¼š\ndef function_name(arguments): \u0026#34;\u0026#34;\u0026#34;explain\u0026#34;\u0026#34;\u0026#34; statements_block return [expression] # end function_name function_name(arguments) å‚æ•° ä¸å¯å˜ç±»å‹çš„å‚æ•°ä¼ é€’ï¼šç±»ä¼¼ C++ çš„å€¼ä¼ é€’ã€‚ä¼ é€’çš„åªæ˜¯å‚æ•°çš„å€¼ï¼Œæ²¡æœ‰å½±å“å‚æ•°å¯¹è±¡æœ¬èº«ã€‚å¦‚æœåœ¨ fun(a) å†…éƒ¨ä¿®æ”¹ a çš„å€¼ï¼Œåˆ™æ˜¯æ–°ç”Ÿæˆä¸€ä¸ª a çš„å¯¹è±¡ã€‚å³ï¼Œä¿®æ”¹å‚æ•°ä¹‹å‰å‡½æ•°å†…éƒ¨å‚æ•°çš„åœ°å€å’Œå‡½æ•°å¤–éƒ¨å‚æ•°çš„åœ°å€ç›¸åŒï¼Œä¸€æ—¦ä¿®æ”¹äº†å˜é‡ï¼Œå‚æ•°çš„åœ°å€å°†ä¼šå‘ç”Ÿå˜åŒ–ã€‚å¦‚ Numberã€Stringã€Tupleã€‚\nå¯å˜ç±»å‹çš„å‚æ•°ä¼ é€’ï¼šç±»ä¼¼ C++ çš„å¼•ç”¨ä¼ é€’ã€‚å¦‚ fun(la)ï¼Œåˆ™æ˜¯å°† la çœŸæ­£çš„ä¼ è¿‡å»ï¼Œä¿®æ”¹å fun å¤–éƒ¨çš„ la ä¹Ÿä¼šå—å½±å“ã€‚æ— è®ºæ˜¯å¦å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œå‚æ•°åœ°å€éƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚å¦‚ Listã€Dictionaryã€Setã€‚\nå‚æ•°ç±»å‹ï¼š\nå¿…é¡»å‚æ•°ï¼šé¡»ä»¥æ­£ç¡®çš„é¡ºåºä¼ å…¥å‡½æ•°ã€‚è°ƒç”¨æ—¶ï¼Œå¿…é¡»å‚æ•°çš„æ•°é‡å¿…é¡»å’Œå£°æ˜æ—¶ä¸€æ ·ã€‚\nå…³é”®å­—å‚æ•°ï¼šå‡½æ•°è°ƒç”¨æ—¶ä½¿ç”¨å…³é”®å­—å‚æ•°æ¥ç¡®å®šä¼ å…¥çš„å‚æ•°å€¼ã€‚ä½¿ç”¨å…³é”®å­—å‚æ•°å…è®¸å‡½æ•°è°ƒç”¨æ—¶å‚æ•°çš„é¡ºåºä¸å£°æ˜æ—¶ä¸ä¸€è‡´ï¼Œå› ä¸º Python è§£é‡Šå™¨èƒ½å¤Ÿç”¨å‚æ•°ååŒ¹é…å‚æ•°å€¼ã€‚\ndef func(a, b): print(\u0026#39;a = \u0026#39;, a, \u0026#39;b = \u0026#39;, b) return func(b = 2, a = 1) é»˜è®¤å‚æ•°ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å‚æ•°ã€‚é»˜è®¤å‚æ•°åœ¨å®šä¹‰å‡½æ•°æ—¶å®šä¹‰ã€‚\ndef func(a, b = 1) print(\u0026#39;a = \u0026#39;, a, \u0026#39;b = \u0026#39;, b) return func(2) ä¸å®šé•¿å‚æ•°ï¼š\nåŠ äº†æ˜Ÿå· * çš„å‚æ•°ä¼šä»¥å…ƒç»„çš„å½¢å¼å¯¼å…¥ï¼Œå­˜æ”¾æ‰€æœ‰æœªå‘½åçš„å˜é‡å‚æ•°ã€‚\ndef func(atg1, *vartuple): print(atg1, vartuple) return func(1, 2, 3) # è¾“å‡ºï¼š1 (2, 3) åŠ äº†ä¸¤ä¸ªæ˜Ÿå· ** çš„å‚æ•°ä¼šä»¥å­—å…¸çš„å½¢å¼å¯¼å…¥ã€‚\ndef func(atg1, **vartuple): print(atg1, vartuple) return func(1, a = 2, b = 3) # è¾“å‡ºï¼š1 {\u0026#39;a\u0026#39;: 2, \u0026#39;b\u0026#39;: 3} å¦‚æœå‚æ•°å•ç‹¬å‡ºç°æ˜Ÿå· * åçš„å‚æ•°å¿…é¡»ç”¨å…³é”®å­—ä¼ å…¥ã€‚\n\u0026gt;\u0026gt;\u0026gt; def f(a,b,*,c): ... return a+b+c ... \u0026gt;\u0026gt;\u0026gt; f(1,2,3) # æŠ¥é”™ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: f() takes 2 positional arguments but 3 were given \u0026gt;\u0026gt;\u0026gt; f(1,2,c=3) # æ­£å¸¸ 6 å¼ºåˆ¶ä½ç½®å‚æ•°ï¼šPython3.8 æ–°å¢äº†ä¸€ä¸ªå‡½æ•°å½¢å‚è¯­æ³• / ç”¨æ¥æŒ‡æ˜å‡½æ•°å½¢å‚å¿…é¡»ä½¿ç”¨æŒ‡å®šä½ç½®å‚æ•°ï¼Œä¸èƒ½ä½¿ç”¨å…³é”®å­—å‚æ•°çš„å½¢å¼ã€‚\ndef f(a, b, /, c): print(a, b, c) return # å½¢å‚ a å’Œ b å¿…é¡»ä½¿ç”¨æŒ‡å®šä½ç½®å‚æ•°ï¼Œc å¯ä»¥æ˜¯ä½ç½®å½¢å‚æˆ–å…³é”®å­—å½¢å‚ f(1, 2, c = 3) lambdaåŒ¿åå‡½æ•° Python ä½¿ç”¨ lambda æ¥åˆ›å»ºåŒ¿åå‡½æ•°ã€‚\nlambda çš„ä¸»ä½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä»£ç å—ï¼ˆæ¯” def ç®€å•å¾ˆå¤šï¼‰ã€‚ä»…ä»…èƒ½åœ¨ lambda è¡¨è¾¾å¼ä¸­å°è£…æœ‰é™çš„é€»è¾‘è¿›å»ã€‚\nlambda å‡½æ•°æ‹¥æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œä¸”ä¸èƒ½è®¿é—®è‡ªå·±å‚æ•°åˆ—è¡¨ä¹‹å¤–æˆ–å…¨å±€å‘½åç©ºé—´é‡Œçš„å‚æ•°ã€‚\nè™½ç„¶ lambda å‡½æ•°çœ‹èµ·æ¥åªèƒ½å†™ä¸€è¡Œï¼Œå´ä¸ç­‰åŒäº C æˆ– C++ çš„å†…è”å‡½æ•°ï¼Œåè€…çš„ç›®çš„æ˜¯è°ƒç”¨å°å‡½æ•°æ—¶ä¸å ç”¨æ ˆå†…å­˜ä»è€Œå¢åŠ è¿è¡Œæ•ˆç‡ã€‚\nlambda å‡½æ•°çš„è¯­æ³•ï¼š\nlambda [arg1 [,arg2,.....argn]]: expression ç”¨æ³•ï¼š\n\u0026gt;\u0026gt;\u0026gt; sum = lambda arg1, arg2: arg1 + arg2 \u0026gt;\u0026gt;\u0026gt; sum(1, 2) 3 æ¨¡å— æ¨¡å—æ˜¯ä¸€ä¸ªåŒ…å«å‡½æ•°å®šä¹‰å’Œå˜é‡çš„æ–‡ä»¶ï¼Œå…¶åç¼€åæ˜¯ .pyã€‚\næ¨¡å—å¯ä»¥è¢«åˆ«çš„ç¨‹åºå¼•å…¥ï¼Œä»¥ä½¿ç”¨è¯¥æ¨¡å—ä¸­çš„å‡½æ•°ç­‰åŠŸèƒ½ã€‚\nPython æ ‡å‡†åº“ä¹Ÿæ˜¯ä¸€ä¸ªä¸ªå†…ç½®çš„æ¨¡å—ã€‚\nè¿™äº›æ¨¡å—ä¼šæ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿè¿›è¡Œä¸åŒçš„é…ç½®ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå¯èƒ½ä¼šæœ‰ä¸€äº›ä¸åŒçš„æ¨¡å—ã€‚\næ¯ä¸ªæ¨¡å—æœ‰å„è‡ªç‹¬ç«‹çš„ç¬¦å·è¡¨ï¼Œåœ¨æ¨¡å—å†…éƒ¨ä¸ºæ‰€æœ‰çš„å‡½æ•°å½“ä½œå…¨å±€ç¬¦å·è¡¨æ¥ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ dir() æŸ¥çœ‹ã€‚\nåœ¨å¯¼å…¥æ¨¡å—åï¼Œå¯ä»¥é€šè¿‡ modname.itemname è¿™æ ·çš„è¡¨ç¤ºæ³•æ¥è®¿é—®æ¨¡å—å†…çš„å‡½æ•°ã€‚\næ¨¡å—å¯ä»¥è¢«å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚è¢«å¯¼å…¥çš„æ¨¡å—çš„åç§°å°†è¢«æ”¾å…¥å½“å‰æ“ä½œçš„æ¨¡å—çš„ç¬¦å·è¡¨ä¸­ã€‚\næ¨¡å—é™¤äº†æ–¹æ³•å®šä¹‰ï¼Œè¿˜å¯ä»¥åŒ…æ‹¬å¯æ‰§è¡Œçš„ä»£ç ã€‚\nè¿™äº›ä»£ç ä¸€èˆ¬ç”¨æ¥åˆå§‹åŒ–è¿™ä¸ªæ¨¡å—ï¼Œåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«å¯¼å…¥æ—¶æ‰ä¼šè¢«æ‰§è¡Œã€‚\nåŒ… åŒ…æ˜¯ä¸€ç§ç®¡ç† Python æ¨¡å—å‘½åç©ºé—´çš„å½¢å¼ï¼Œé‡‡ç”¨ â€œç‚¹æ¨¡å—åç§°â€ã€‚å¦‚ä¸€ä¸ªæ¨¡å—çš„åç§°æ˜¯ A.Bï¼Œ é‚£ä¹ˆä»–è¡¨ç¤ºä¸€ä¸ªåŒ… A ä¸­çš„å­æ¨¡å— Bã€‚ä¼˜ç‚¹æ˜¯ä¸ç”¨æ‹…å¿ƒä¸åŒæ¨¡å—ä¹‹é—´çš„åç§°å†²çªã€‚\nåŒ…ç»“æ„å®ä¾‹ï¼š\nsound/ é¡¶å±‚åŒ… __init__.py åˆå§‹åŒ– sound åŒ… formats/ æ–‡ä»¶æ ¼å¼è½¬æ¢å­åŒ… __init__.py wavread.py wavwrite.py aiffread.py aiffwrite.py auread.py auwrite.py ... effects/ å£°éŸ³æ•ˆæœå­åŒ… __init__.py echo.py surround.py reverse.py ... filters/ filters å­åŒ… __init__.py equalizer.py vocoder.py karaoke.py ... åŒ…è¿˜æä¾›ä¸€ä¸ªé¢å¤–çš„å±æ€§ __path__ã€‚è¿™æ˜¯ä¸€ä¸ªç›®å½•åˆ—è¡¨ï¼Œé‡Œé¢æ¯ä¸€ä¸ªåŒ…å«çš„ç›®å½•éƒ½æœ‰ä¸ºè¿™ä¸ªåŒ…æœåŠ¡çš„ __init__.pyï¼Œå¾—åœ¨å…¶ä»– __init__.py è¢«æ‰§è¡Œå‰å®šä¹‰ã€‚å¯ä»¥ä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œç”¨æ¥å½±å“åŒ…å«åœ¨åŒ…é‡Œé¢çš„æ¨¡å—å’Œå­åŒ…ã€‚è¿™ä¸ªåŠŸèƒ½å¹¶ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬ç”¨æ¥æ‰©å±•åŒ…é‡Œé¢çš„æ¨¡å—ã€‚\nimportè¯­å¥ import module1[, module2[,... moduleN] å½“è§£é‡Šå™¨é‡åˆ° import è¯­å¥ï¼Œå¦‚æœæ¨¡å—åœ¨å½“å‰çš„æœç´¢è·¯å¾„å°±ä¼šè¢«å¯¼å…¥ã€‚import å‘½ä»¤ä¸€èˆ¬æ”¾åœ¨è„šæœ¬é¡¶ç«¯ï¼Œå¦‚ï¼š\n#!/usr/bin/python3 # Filename: support.py def print_hello(): print (\u0026#39;Hello Worldï¼\u0026#39;) return #!/usr/bin/python3 # Filename: test.py # å¯¼å…¥æ¨¡å— import hello # ä½¿ç”¨ . è¿ç®—ç¬¦è°ƒç”¨æ¨¡å—ä¸­çš„å‡½æ•° hello.print_hello() å¯¹äºåŒä¸€ä¸ªæ¨¡å—ï¼Œæ— è®ºæ‰§è¡Œäº†å¤šå°‘æ¬¡ import è¯­å¥ï¼Œä¸€ä¸ªæ¨¡å—åªä¼šè¢«å¯¼å…¥ä¸€æ¬¡ã€‚\næœç´¢è·¯å¾„æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ä¼šå…ˆè¿›è¡Œæœç´¢çš„æ‰€æœ‰ç›®å½•çš„åˆ—è¡¨ï¼Œç”±ä¸€ç³»åˆ—ç›®å½•åç»„æˆçš„ï¼ŒPython è§£é‡Šå™¨å°±ä¾æ¬¡ä»è¿™äº›ç›®å½•ä¸­å»å¯»æ‰¾æ‰€å¼•å…¥çš„æ¨¡å—ï¼ˆå¾ˆåƒç¯å¢ƒå˜é‡ï¼‰ã€‚æœç´¢è·¯å¾„æ˜¯åœ¨ Python ç¼–è¯‘æˆ–å®‰è£…çš„æ—¶å€™ç¡®å®šçš„ï¼Œå®‰è£…æ–°çš„åº“åº”è¯¥ä¹Ÿä¼šä¿®æ”¹ã€‚æœç´¢è·¯å¾„è¢«å­˜å‚¨åœ¨ sys æ¨¡å—ä¸­çš„ path å˜é‡ã€‚\nä»¥ Windows ç³»ç»Ÿä¸ºä¾‹ï¼ˆåœ¨ VS2017 ä¸­å®‰è£…çš„ Python3ï¼‰ï¼š\n\u0026gt;\u0026gt;\u0026gt; import sys \u0026gt;\u0026gt;\u0026gt; print(sys.path) [\u0026#39;\u0026#39;, \u0026#39;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\python36.zip\u0026#39;, \u0026#39;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\DLLs\u0026#39;, \u0026#39;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\lib\u0026#39;, \u0026#39;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\u0026#39;, \u0026#39;C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\Shared\\\\Python36_64\\\\lib\\\\site-packages\u0026#39;] sys.path è¾“å‡ºæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€é¡¹æ˜¯ç©ºä¸²ï¼Œä»£è¡¨å½“å‰ç›®å½•ï¼ˆè‹¥æ˜¯ä»ä¸€ä¸ªè„šæœ¬ä¸­æ‰“å°å‡ºæ¥çš„è¯ï¼Œå¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹å‡ºæ˜¯å“ªä¸ªç›®å½•ï¼‰ï¼Œå³æˆ‘ä»¬æ‰§è¡Œ Python è§£é‡Šå™¨çš„ç›®å½•ï¼ˆå¯¹äºè„šæœ¬çš„è¯å°±æ˜¯è¿è¡Œçš„è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼‰ã€‚\nå¦‚æœè¦å¼•å…¥ä¸€äº›ä¸åœ¨æœç´¢è·¯å¾„ä¸­çš„æ¨¡å—ï¼Œå¯ä»¥åœ¨è„šæœ¬ä¸­ä¿®æ”¹ sys.pathã€‚\nå¦‚æœè¦ç»å¸¸ä½¿ç”¨ä¸€ä¸ªæ¨¡å—ä¸­çš„å‡½æ•°ï¼Œå¯ä»¥èµ‹ç»™å®ƒä¸€ä¸ªæœ¬åœ°åç§°ï¼š\nimport module func = module.func func(arg) from \u0026hellip; importè¯­å¥ ä½¿ç”¨ from ... import è¯­å¥å¯ä»¥ä»æ¨¡å—ä¸­å¯¼å…¥ä¸€ä¸ªæŒ‡å®šçš„éƒ¨åˆ†åˆ°å½“å‰å‘½åç©ºé—´ä¸­ã€‚è¿™ç§å¯¼å…¥çš„æ–¹æ³•ä¸ä¼šæŠŠè¢«å¯¼å…¥çš„æ¨¡å—çš„åç§°æ”¾åœ¨å½“å‰çš„å­—ç¬¦è¡¨ä¸­ã€‚\nfrom modname import item1[, item2[, ... itemN]] è¿™æ ·åªä¼šæŠŠ modname ä¸­çš„æŒ‡å®šçš„éƒ¨åˆ† item1[, item2[, ... itemN]] å¯¼å…¥åˆ°å½“å‰å‘½åç©ºé—´ä¸­ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬çš„åç§°æ¥è°ƒç”¨å®ƒä»¬ï¼ˆæ— éœ€ä½¿ç”¨ . è¿ç®—ç¬¦ï¼‰ã€‚item1[, item2[, ... itemN]] å¯ä»¥æ˜¯å­æ¨¡å—ã€å‡½æ•°ã€ç±»æˆ–å˜é‡ç­‰ã€‚\nä½¿ç”¨ from package import item è¿™ç§å½¢å¼çš„æ—¶å€™ï¼Œimport è¯­æ³•ä¼šé¦–å…ˆæŠŠ item å½“ä½œä¸€ä¸ªåŒ…å®šä¹‰çš„åç§°ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå†è¯•å›¾æŒ‰ç…§ä¸€ä¸ªæ¨¡å—å»å¯¼å…¥ã€‚å¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼ŒæŠ›å‡ºä¸€ä¸ª :exc:ImportError å¼‚å¸¸ã€‚\næŠŠä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å†…å®¹å…¨éƒ½å¯¼å…¥åˆ°å½“å‰çš„å‘½åç©ºé—´ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰ï¼Œä½†æ˜¯é‚£äº›ç”±å•ä¸€ä¸‹åˆ’çº¿ _ å¼€å¤´çš„åå­—ä¸åœ¨æ­¤ä¾‹ï¼š\nfrom modname import * Python ä¼šè¿›å…¥æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰¾åˆ°è¿™ä¸ªåŒ…é‡Œé¢æ‰€æœ‰çš„å­æ¨¡å—ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªçš„æŠŠå®ƒä»¬éƒ½å¯¼å…¥è¿›æ¥ã€‚ä½†è¿™ä¸ªæ–¹æ³•åœ¨ Windows å¹³å°ä¸Šå·¥ä½œçš„å°±ä¸æ˜¯éå¸¸å¥½ï¼Œå› ä¸º Windows æ˜¯ä¸€ä¸ªä¸åŒºåˆ†å¤§å°å†™çš„ç³»ç»Ÿã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦æä¾›ä¸€ä¸ªç²¾ç¡®åŒ…çš„ç´¢å¼•ã€‚å¯¼å…¥è¯­å¥éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š\nå¦‚æœåŒ…å®šä¹‰æ–‡ä»¶ __init__.py å­˜åœ¨ä¸€ä¸ªå«åš __all__ çš„åˆ—è¡¨å˜é‡ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ from package import * çš„æ—¶å€™å°±æŠŠè¿™ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰åå­—ä½œä¸ºåŒ…å†…å®¹å¯¼å…¥ã€‚\nä»¥ä¸‹å®ä¾‹åœ¨ file:sounds/effects/_init_.py ä¸­åŒ…å«å¦‚ä¸‹ä»£ç ï¼š\n__all__ = [\u0026#34;echo\u0026#34;, \u0026#34;surround\u0026#34;, \u0026#34;reverse\u0026#34;] from \u0026hellip; import \u0026hellip; asè¯­å¥ import ... as å¯ä»¥å°†å¯¼å…¥çš„æ¨¡å—ã€å‡½æ•°æˆ–è€…å˜é‡ç­‰é‡å‘½åï¼š\nimport name as new_name è¯¥è¯­å¥ä¹Ÿå¯ä»¥æ¥åœ¨ from è¯­å¥åé¢ï¼š\nfrom modname import name as new_name \\_\\_name\\_\\_ å±æ€§ ä¸€ä¸ªæ¨¡å—è¢«å¦ä¸€ä¸ªç¨‹åºç¬¬ä¸€æ¬¡å¼•å…¥æ—¶ï¼Œå…¶ä¸»ç¨‹åºå°†è¿è¡Œã€‚å¯ä»¥ç”¨ __name__ å±æ€§æ¥ä½¿è¯¥ç¨‹åºå—ä»…åœ¨è¯¥æ¨¡å—è‡ªèº«è¿è¡Œæ—¶æ‰§è¡Œï¼ˆè¢«å…¶å®ƒç¨‹åºæˆ–æ¨¡å—å¼•å…¥æ—¶ä¸æ‰§è¡Œï¼‰ã€‚\næ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ª __name__ å±æ€§ï¼Œå½“å…¶å€¼æ˜¯ '__main__' æ—¶ï¼Œè¡¨æ˜è¯¥æ¨¡å—è‡ªèº«åœ¨è¿è¡Œï¼Œå¦åˆ™æ˜¯è¢«å¼•å…¥ã€‚\n#!/usr/bin/python3 # Filename: using_name.py if __name__ == \u0026#39;__main__\u0026#39;: print(\u0026#39;ç¨‹åºè‡ªèº«åœ¨è¿è¡Œ\u0026#39;) else: print(\u0026#39;æˆ‘æ¥è‡ªå¦ä¸€æ¨¡å—\u0026#39;) $ python using_name.py ç¨‹åºè‡ªèº«åœ¨è¿è¡Œ $ python \u0026gt;\u0026gt;\u0026gt; import using_name æˆ‘æ¥è‡ªå¦ä¸€æ¨¡å— dir() å‡½æ•° å†…ç½®çš„å‡½æ•° dir() å¯ä»¥æ‰¾åˆ°æŒ‡å®šæ¨¡å—å†…å®šä¹‰çš„æ‰€æœ‰åç§°ï¼Œä»¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›ã€‚\n\u0026gt;\u0026gt;\u0026gt; import math \u0026gt;\u0026gt;\u0026gt; dir(math) [\u0026#39;__doc__\u0026#39;, \u0026#39;__loader__\u0026#39;, \u0026#39;__name__\u0026#39;, \u0026#39;__package__\u0026#39;, \u0026#39;__spec__\u0026#39;, \u0026#39;acos\u0026#39;, \u0026#39;acosh\u0026#39;, \u0026#39;asin\u0026#39;, \u0026#39;asinh\u0026#39;, \u0026#39;atan\u0026#39;, \u0026#39;atan2\u0026#39;, \u0026#39;atanh\u0026#39;, \u0026#39;ceil\u0026#39;, \u0026#39;copysign\u0026#39;, \u0026#39;cos\u0026#39;, \u0026#39;cosh\u0026#39;, \u0026#39;degrees\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;erf\u0026#39;, \u0026#39;erfc\u0026#39;, \u0026#39;exp\u0026#39;, \u0026#39;expm1\u0026#39;, \u0026#39;fabs\u0026#39;, \u0026#39;factorial\u0026#39;, \u0026#39;floor\u0026#39;, \u0026#39;fmod\u0026#39;, \u0026#39;frexp\u0026#39;, \u0026#39;fsum\u0026#39;, \u0026#39;gamma\u0026#39;, \u0026#39;gcd\u0026#39;, \u0026#39;hypot\u0026#39;, \u0026#39;inf\u0026#39;, \u0026#39;isclose\u0026#39;, \u0026#39;isfinite\u0026#39;, \u0026#39;isinf\u0026#39;, \u0026#39;isnan\u0026#39;, \u0026#39;ldexp\u0026#39;, \u0026#39;lgamma\u0026#39;, \u0026#39;log\u0026#39;, \u0026#39;log10\u0026#39;, \u0026#39;log1p\u0026#39;, \u0026#39;log2\u0026#39;, \u0026#39;modf\u0026#39;, \u0026#39;nan\u0026#39;, \u0026#39;pi\u0026#39;, \u0026#39;pow\u0026#39;, \u0026#39;radians\u0026#39;, \u0026#39;sin\u0026#39;, \u0026#39;sinh\u0026#39;, \u0026#39;sqrt\u0026#39;, \u0026#39;tan\u0026#39;, \u0026#39;tanh\u0026#39;, \u0026#39;tau\u0026#39;, \u0026#39;trunc\u0026#39;] å¦‚æœæ²¡æœ‰ç»™å®šå‚æ•°ï¼Œdir() å‡½æ•°ä¼šç½—åˆ—å‡ºå½“å‰å®šä¹‰çš„æ‰€æœ‰åç§°ã€‚\n\u0026gt;\u0026gt;\u0026gt; a = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; b = 4 \u0026gt;\u0026gt;\u0026gt; dir() [\u0026#39;__annotations__\u0026#39;, \u0026#39;__builtins__\u0026#39;, \u0026#39;__doc__\u0026#39;, \u0026#39;__loader__\u0026#39;, \u0026#39;__name__\u0026#39;, \u0026#39;__package__\u0026#39;, \u0026#39;__spec__\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;] è¾“å…¥è¾“å‡º æ ‡å‡†è¾“å‡º åœ¨ Python ä¸­ä½¿ç”¨ print() æ¥å°†å…¶å‚æ•°è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸Šã€‚é»˜è®¤çš„æ ‡å‡†è¾“å‡ºæ˜¯å±å¹•ã€‚\nå¯ä»¥ä½¿ç”¨ str.format() å‡½æ•°ç­‰æ–¹å¼â¤´ æ¥æ ¼å¼åŒ–è¾“å‡ºå€¼ã€‚\nå¯ä»¥ä½¿ç”¨ repr() æˆ– str() å‡½æ•°æ¥å°†è¾“å‡ºçš„å€¼è½¬æˆå­—ç¬¦ä¸²ã€‚\nstr()ï¼šå‡½æ•°è¿”å›ä¸€ä¸ªç”¨æˆ·æ˜“è¯»çš„è¡¨è¾¾å½¢å¼ã€‚\nrepr()ï¼šäº§ç”Ÿä¸€ä¸ªè§£é‡Šå™¨æ˜“è¯»çš„è¡¨è¾¾å½¢å¼ã€‚\næ ‡å‡†è¾“å…¥ Python æä¾›äº† input() å†…ç½®å‡½æ•°ä»æ ‡å‡†è¾“å…¥è¯»å…¥ä¸€è¡Œæ–‡æœ¬ï¼Œé»˜è®¤çš„æ ‡å‡†è¾“å…¥æ˜¯é”®ç›˜ã€‚\nPython3.x ä¸­ input() å‡½æ•°æ¥å—ä¸€ä¸ªæ ‡å‡†è¾“å…¥æ•°æ®ï¼Œè¿”å›ä¸º string ç±»å‹ã€‚Python3.x æ²¡æœ‰ raw_input()ã€‚\ninput() å‡½æ•°çš„è¯­æ³•ï¼š\ninput([prompt]) # prompt â€”â€” è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºçš„æç¤ºä¿¡æ¯ ç”¨æ³•ç¤ºä¾‹ï¼š\n\u0026gt;\u0026gt;\u0026gt; a = input(\u0026#39;è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š\u0026#39;) è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š123 \u0026gt;\u0026gt;\u0026gt; type(a) \u0026lt;class \u0026#39;str\u0026#39;\u0026gt; # input() è¿”å›çš„æ˜¯ string \u0026gt;\u0026gt;\u0026gt; a = int(a) # ä½¿ç”¨ int() ç±»å‹è½¬æ¢ \u0026gt;\u0026gt;\u0026gt; print(type(a), a) \u0026lt;class \u0026#39;int\u0026#39;\u0026gt; 123 # æ­¤æ—¶ a æ‰æ˜¯ int input() æ¥æ”¶å¤šä¸ªå€¼ï¼š\n#è¾“å…¥ä¸‰è§’å½¢çš„ä¸‰è¾¹é•¿ a, b, c = (input(\u0026#34;è¯·è¾“å…¥ä¸‰è§’å½¢ä¸‰è¾¹çš„é•¿ï¼š\u0026#34;).split()) a = int(a) b = int(b) c = int(c) #è®¡ç®—ä¸‰è§’å½¢çš„åŠå‘¨é•¿p p = (a + b + c) / 2 #è®¡ç®—ä¸‰è§’å½¢çš„é¢ç§¯s s = (p * (p - a) * (p - b) * (p - c))**0.5 #è¾“å‡ºä¸‰è§’å½¢çš„é¢ç§¯ print(\u0026#34;ä¸‰è§’å½¢é¢ç§¯ä¸ºï¼š\u0026#34;, format(s, \u0026#39;.2f\u0026#39;)) è¯»å†™æ–‡ä»¶ open() å°†ä¼šè¿”å›ä¸€ä¸ª file å¯¹è±¡ï¼ŒåŸºæœ¬è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nopen(filename[, mode=\u0026#39;r\u0026#39;]) # filename â€”â€” åŒ…å«äº†è¦è®¿é—®çš„æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²å€¼ # mode â€”â€” æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼çš„å­—ç¬¦ä¸²å€¼ï¼Œé»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»ï¼ˆrï¼‰ æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼š\næ¨¡å¼ æè¿° t æ–‡æœ¬æ¨¡å¼ (é»˜è®¤)ã€‚ x å†™æ¨¡å¼ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚ b äºŒè¿›åˆ¶æ¨¡å¼ã€‚ + æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ›´æ–°ï¼ˆå¯è¯»å¯å†™ï¼‰ã€‚ U é€šç”¨æ¢è¡Œæ¨¡å¼ï¼ˆä¸æ¨èï¼‰ã€‚ r ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ rb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ r+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ rb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ w æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚ å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™æ¸…ç©ºåŸæ–‡ä»¶å†…å®¹ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ã€‚ å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ wb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚ æ‰“å¼€æ–¹å¼ä¸ w ç›¸åŒï¼ˆä¼šè¦†ç›–åŸæœ‰çš„æ–‡ä»¶ï¼‰ã€‚ w+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚ æ‰“å¼€æ–¹å¼ä¸ w ç›¸åŒã€‚ wb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚ æ‰“å¼€æ–¹å¼ä¸ w ç›¸åŒã€‚ a æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚ å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ å³ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚ å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ ab ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚ æ‰“å¼€æ–¹å¼ä¸ a ç›¸åŒã€‚ a+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚ æ‰“å¼€æ–¹å¼ä¸ a ç›¸åŒã€‚ ab+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚ æ‰“å¼€æ–¹å¼ä¸ a ç›¸åŒã€‚ æ¨¡å¼ r r+ w w+ a a+ è¯» + + + + å†™ + + + + + åˆ›å»º + + + + è¦†ç›– + + æŒ‡é’ˆåœ¨å¼€å§‹ + + + + æŒ‡é’ˆåœ¨ç»“å°¾ + + open() å‡½æ•°çš„å®Œæ•´è¯­æ³•æ ¼å¼ï¼š\nopen(file[, mode=\u0026#39;r\u0026#39;, buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None]) # file â€”â€” å¿…éœ€ï¼Œæ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹æˆ–è€…ç»å¯¹è·¯å¾„ï¼‰ã€‚ # mode â€”â€” å¯é€‰ï¼Œæ–‡ä»¶æ‰“å¼€æ¨¡å¼ # buffering â€”â€” è®¾ç½®ç¼“å†² # encoding â€”â€” ä¸€èˆ¬ä½¿ç”¨ utf8 # errors â€”â€” æŠ¥é”™çº§åˆ« # newline â€”â€” åŒºåˆ†æ¢è¡Œç¬¦ # closefd â€”â€” ä¼ å…¥çš„ file å‚æ•°ç±»å‹ # opener â€”â€” è‡ªå®šä¹‰æ‰“å¼€æ–‡ä»¶æ–¹å¼ æ‰“å¼€æ–‡ä»¶åï¼Œè¦è¿›è¡Œçš„å°±æ˜¯å†™å…¥å’Œè¯»å–æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯å¯¹ file å¯¹è±¡è¿›è¡Œæ“ä½œã€‚\nfile å¯¹è±¡æ–¹æ³•ï¼š\næ–¹æ³• è¯´æ˜ file.close() å…³é—­æ–‡ä»¶ã€‚å…³é—­åæ–‡ä»¶ä¸èƒ½å†è¿›è¡Œè¯»å†™æ“ä½œã€‚ åœ¨æ‰§è¡Œå®Œæ–‡ä»¶çš„è¯»å†™æ“ä½œåï¼Œæœ‰å¿…è¦æ‰§è¡Œè¯¥æ–¹æ³•ã€‚ file.flush() åˆ·æ–°æ–‡ä»¶å†…éƒ¨ç¼“å†²ï¼Œç›´æ¥æŠŠå†…éƒ¨ç¼“å†²åŒºçš„æ•°æ®ç«‹åˆ»å†™å…¥æ–‡ä»¶, è€Œä¸æ˜¯è¢«åŠ¨çš„ç­‰å¾…è¾“å‡ºç¼“å†²åŒºå†™å…¥ã€‚ file.fileno() è¿”å›ä¸€ä¸ªæ•´å‹çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆfile descriptor FD æ•´å‹ï¼‰ï¼Œå¯ä»¥ç”¨åœ¨å¦‚ os æ¨¡å—çš„ read æ–¹æ³•ç­‰ä¸€äº›åº•å±‚æ“ä½œä¸Šã€‚ file.isatty() å¦‚æœæ–‡ä»¶è¿æ¥åˆ°ä¸€ä¸ªç»ˆç«¯è®¾å¤‡è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ file.next() è¿”å›æ–‡ä»¶ä¸‹ä¸€è¡Œã€‚ file.read([size=-1]) ä»æ–‡ä»¶è¯»å–æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œé»˜è®¤ä¸º -1ï¼Œä¸ºè´Ÿæ•°æ—¶è¡¨ç¤ºè¯»å–æ‰€æœ‰ã€‚ file.readline([size=-1]) è¯»å–æ•´è¡Œï¼ˆsize é»˜è®¤ä¸º -1ï¼Œä¸ºè´Ÿæ•°è¡¨ç¤ºè¯»å–æ•´è¡Œï¼‰ï¼ŒåŒ…æ‹¬ '\\n' å­—ç¬¦ã€‚ å¦‚æœæŒ‡å®šäº† size åˆ™è¯»å–è¯¥è¡Œçš„å‰ size å­—ç¬¦ã€‚ ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶è¯»å–ç¬¬ä¸€è¡Œï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶è¯»å–ç¬¬äºŒè¡Œï¼Œä»¥æ­¤ç±»æ¨ã€‚ file.readlines([sizeint]) è¯»å–æ‰€æœ‰è¡Œå¹¶è¿”å›åˆ—è¡¨ï¼Œè‹¥ç»™å®š sizeint \u0026gt; 0ï¼Œåˆ™æ˜¯è®¾ç½®ä¸€æ¬¡è¯»å¤šå°‘å­—èŠ‚ï¼Œè¿™æ˜¯ä¸ºäº†å‡è½»è¯»å–å‹åŠ›ã€‚ file.seek(offset[, whence=0]) è®¾ç½®æ–‡ä»¶å½“å‰ä½ç½®ã€‚ offset â€”â€” å¼€å§‹çš„åç§»é‡ã€‚ whence â€”â€” ç»™ offset å‚æ•°ä¸€ä¸ªå®šä¹‰ï¼Œè¡¨ç¤ºè¦ä»å“ªä¸ªä½ç½®å¼€å§‹åç§»ï¼›0 ä»£è¡¨ä»æ–‡ä»¶å¼€å¤´å¼€å§‹ç®—èµ·ï¼Œ1ä»£è¡¨ä»å½“å‰ä½ç½®å¼€å§‹ç®—èµ·ï¼Œ2 ä»£è¡¨ä»æ–‡ä»¶æœ«å°¾ç®—èµ·ã€‚é»˜è®¤ä¸º 0ã€‚ file.tell() è¿”å›æ–‡ä»¶å½“å‰ä½ç½®ã€‚ file.truncate([size=file.tell()]) æˆªå–æ–‡ä»¶ï¼Œæˆªå–çš„å­—èŠ‚é€šè¿‡ size æŒ‡å®šï¼Œé»˜è®¤ä¸ºå½“å‰æ–‡ä»¶ä½ç½®ã€‚ file.write(str) å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ï¼Œè¿”å›çš„æ˜¯å†™å…¥çš„å­—ç¬¦é•¿åº¦ã€‚ å¦‚æœæ–‡ä»¶æ‰“å¼€æ¨¡å¼å¸¦ bï¼Œé‚£å†™å…¥æ–‡ä»¶å†…å®¹æ—¶ï¼Œstr è¦ç”¨ encode() æ–¹æ³•è½¬ä¸º bytes å½¢å¼ï¼Œå¦åˆ™æŠ¥é”™ï¼šTypeError: a bytes-like object is required, not \u0026lsquo;str\u0026rsquo;ã€‚ file.writelines(sequence) å‘æ–‡ä»¶å†™å…¥ä¸€ä¸ªåºåˆ—å­—ç¬¦ä¸²åˆ—è¡¨ï¼ˆè¿™ä¸€åºåˆ—å­—ç¬¦ä¸²å¯ä»¥æ˜¯ç”±è¿­ä»£å¯¹è±¡äº§ç”Ÿçš„ï¼Œå¦‚ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼‰ï¼Œå¦‚æœéœ€è¦æ¢è¡Œåˆ™è¦è‡ªå·±åŠ å…¥æ¯è¡Œçš„æ¢è¡Œç¬¦ã€‚ file.write() ç”¨æ³•ï¼š\nf = open(\u0026#39;test.txt\u0026#39;, \u0026#39;w+\u0026#39;) f.write(\u0026#39;test1\u0026#39;) f.seek(0) print(\u0026#39;ä»æ–‡ä»¶ä¸­è¯»å–åˆ°çš„å­—ç¬¦ä¸²ï¼š\u0026#39;, f.read()) f.close() # è¾“å‡ºï¼š # ä»æ–‡ä»¶ä¸­è¯»å–åˆ°çš„å­—ç¬¦ä¸²ï¼š test1 f = open(\u0026#39;test.txt\u0026#39;, \u0026#39;wb+\u0026#39;) f.write(\u0026#39;test1\u0026#39;.encode()) f.seek(0) print(\u0026#39;ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¯»å–åˆ°çš„å†…å®¹ï¼š\u0026#39;, f.read()) f.seek(0) print(\u0026#39;å°†å…¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²è¾“å‡ºï¼š\u0026#39;, f.read().decode()) f.close() # è¾“å‡ºï¼š # ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¯»å–åˆ°çš„å†…å®¹ï¼š b\u0026#39;\u0026#39; # å°†å…¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²è¾“å‡ºï¼š test1 osæ¨¡å— os æ¨¡å—æä¾›äº†éå¸¸ä¸°å¯Œçš„æ–¹æ³•ç”¨æ¥å¤„ç†æ–‡ä»¶å’Œç›®å½•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼š\nos.access(path, mode)\næ£€éªŒæƒé™æ¨¡å¼ï¼ˆä½¿ç”¨å½“å‰çš„ UID/GID å°è¯•è®¿é—®è·¯å¾„ï¼‰ã€‚\npath â€”â€” è¦ç”¨æ¥æ£€æµ‹æ˜¯å¦æœ‰è®¿é—®æƒé™çš„è·¯å¾„ã€‚\nmode â€”â€” å‚æ•°å–å€¼å¦‚ä¸‹ï¼š\nos.F_OK â€”â€” æµ‹è¯• path æ˜¯å¦å­˜åœ¨ï¼›\nos.R_OK â€”â€” æµ‹è¯• path æ˜¯å¦å¯è¯»ï¼›\nos.W_OK â€”â€” æµ‹è¯• path æ˜¯å¦å¯å†™ï¼›\nos.X_OK â€”â€” æµ‹è¯• path æ˜¯å¦å¯æ‰§è¡Œã€‚\nåœ¨ç›¸åº”æ¨¡å¼ä¸‹ï¼Œå¦‚æœå­˜åœ¨/å¯è¯»/å†™/æ‰§è¡Œè¿”å› True ï¼Œå¦åˆ™è¿”å› Falseã€‚\næ–¹æ³• æè¿° os.chdir(path) æ”¹å˜å½“å‰å·¥ä½œç›®å½•åˆ° path æŒ‡å®šçš„è·¯å¾„ã€‚å¦‚æœå…è®¸è®¿é—®è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ os.chflags(path, flags) è®¾ç½®è·¯å¾„ path çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ã€‚å¤šä¸ªæ ‡è®°å¯ä»¥ä½¿ç”¨ OR æ¥ç»„åˆèµ·æ¥ã€‚ flags â€”â€” å‚æ•°å–å€¼å¦‚ä¸‹ï¼š stat.UF_NODUMP â€”â€” éè½¬å‚¨æ–‡ä»¶ï¼› stat.UF_IMMUTABLE â€”â€” æ–‡ä»¶æ˜¯åªè¯»çš„ï¼› stat.UF_APPEND â€”â€” æ–‡ä»¶åªèƒ½è¿½åŠ å†…å®¹ï¼› stat.UF_NOUNLINK â€”â€” æ–‡ä»¶ä¸å¯åˆ é™¤ï¼› stat.UF_OPAQUE â€”â€” ç›®å½•ä¸é€æ˜ï¼Œéœ€è¦é€šè¿‡è”åˆå †æ ˆæŸ¥çœ‹ï¼› ä»¥ä¸‹å‚æ•°å€¼æ˜¯è¶…çº§ç”¨æˆ·å¯è®¾ç½®çš„ï¼š stat.SF_ARCHIVED â€”â€” å¯å­˜æ¡£æ–‡ä»¶ï¼› stat.SF_IMMUTABLE â€”â€” æ–‡ä»¶æ˜¯åªè¯»çš„ï¼› stat.SF_APPEND â€”â€” æ–‡ä»¶åªèƒ½è¿½åŠ å†…å®¹ï¼› stat.SF_NOUNLINK â€”â€” æ–‡ä»¶ä¸å¯åˆ é™¤ï¼› stat.SF_SNAPSHOT â€”â€” å¿«ç…§æ–‡ä»¶ã€‚ os.chmod(path, mode) æ›´æ”¹æƒé™ os.chown(path, uid, gid) æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€… os.chroot(path) æ”¹å˜å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½• os.close(fd) å…³é—­æ–‡ä»¶æè¿°ç¬¦ fd os.closerange(fd_low, fd_high) å…³é—­æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œä» fd_low (åŒ…å«) åˆ° fd_high (ä¸åŒ…å«), é”™è¯¯ä¼šå¿½ç•¥ os.dup(fd) å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ fd os.dup2(fd, fd2) å°†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ fd å¤åˆ¶åˆ°å¦ä¸€ä¸ª fd2 os.fchdir(fd) é€šè¿‡æ–‡ä»¶æè¿°ç¬¦æ”¹å˜å½“å‰å·¥ä½œç›®å½• os.fchmod(fd, mode) æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œè¯¥æ–‡ä»¶ç”±å‚æ•°fdæŒ‡å®šï¼Œå‚æ•°modeæ˜¯Unixä¸‹çš„æ–‡ä»¶è®¿é—®æƒé™ã€‚ os.fchown(fd, uid, gid) ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰æƒï¼Œè¿™ä¸ªå‡½æ•°ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„ç”¨æˆ·IDå’Œç”¨æˆ·ç»„IDï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šã€‚ os.fdatasync(fd) å¼ºåˆ¶å°†æ–‡ä»¶å†™å…¥ç£ç›˜ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šï¼Œä½†æ˜¯ä¸å¼ºåˆ¶æ›´æ–°æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ã€‚ os.fdopen(fd[, mode[, bufsize]]) é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ fd åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œå¹¶è¿”å›è¿™ä¸ªæ–‡ä»¶å¯¹è±¡ os.fpathconf(fd, name) è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚nameä¸ºæ£€ç´¢çš„ç³»ç»Ÿé…ç½®çš„å€¼ï¼Œå®ƒä¹Ÿè®¸æ˜¯ä¸€ä¸ªå®šä¹‰ç³»ç»Ÿå€¼çš„å­—ç¬¦ä¸²ï¼Œè¿™äº›åå­—åœ¨å¾ˆå¤šæ ‡å‡†ä¸­æŒ‡å®šï¼ˆPOSIX.1, Unix 95, Unix 98, å’Œå…¶å®ƒï¼‰ã€‚ os.fstat(fd) è¿”å›æ–‡ä»¶æè¿°ç¬¦fdçš„çŠ¶æ€ï¼Œåƒstat()ã€‚ os.fstatvfs(fd) è¿”å›åŒ…å«æ–‡ä»¶æè¿°ç¬¦fdçš„æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼ŒPython 3.3 ç›¸ç­‰äº statvfs()ã€‚ os.fsync(fd) å¼ºåˆ¶å°†æ–‡ä»¶æè¿°ç¬¦ä¸ºfdçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚ os.ftruncate(fd, length) è£å‰ªæ–‡ä»¶æè¿°ç¬¦fdå¯¹åº”çš„æ–‡ä»¶, æ‰€ä»¥å®ƒæœ€å¤§ä¸èƒ½è¶…è¿‡æ–‡ä»¶å¤§å°ã€‚ os.getcwd() è¿”å›å½“å‰å·¥ä½œç›®å½• os.getcwdb() è¿”å›ä¸€ä¸ªå½“å‰å·¥ä½œç›®å½•çš„Unicodeå¯¹è±¡ os.isatty(fd) å¦‚æœæ–‡ä»¶æè¿°ç¬¦fdæ˜¯æ‰“å¼€çš„ï¼ŒåŒæ—¶ä¸tty(-like)è®¾å¤‡ç›¸è¿ï¼Œåˆ™è¿”å›true, å¦åˆ™Falseã€‚ os.lchflags(path, flags) è®¾ç½®è·¯å¾„çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ï¼Œç±»ä¼¼ chflags()ï¼Œä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥ os.lchmod(path, mode) ä¿®æ”¹è¿æ¥æ–‡ä»¶æƒé™ os.lchown(path, uid, gid) æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼Œç±»ä¼¼ chownï¼Œä½†æ˜¯ä¸è¿½è¸ªé“¾æ¥ã€‚ os.link(src, dst) åˆ›å»ºç¡¬é“¾æ¥ï¼Œåä¸ºå‚æ•° dstï¼ŒæŒ‡å‘å‚æ•° src os.listdir(path) è¿”å›pathæŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚ os.lseek(fd, pos, how) è®¾ç½®æ–‡ä»¶æè¿°ç¬¦ fdå½“å‰ä½ç½®ä¸ºpos, howæ–¹å¼ä¿®æ”¹: SEEK_SET æˆ–è€… 0 è®¾ç½®ä»æ–‡ä»¶å¼€å§‹çš„è®¡ç®—çš„pos; SEEK_CURæˆ–è€… 1 åˆ™ä»å½“å‰ä½ç½®è®¡ç®—; os.SEEK_ENDæˆ–è€…2åˆ™ä»æ–‡ä»¶å°¾éƒ¨å¼€å§‹. åœ¨unixï¼ŒWindowsä¸­æœ‰æ•ˆ os.lstat(path) åƒstat(),ä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥ os.major(device) ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡majorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field)ã€‚ os.makedev(major, minor) ä»¥majorå’Œminorè®¾å¤‡å·ç»„æˆä¸€ä¸ªåŸå§‹è®¾å¤‡å· os.makedirs(path[, mode]) é€’å½’æ–‡ä»¶å¤¹åˆ›å»ºå‡½æ•°ã€‚åƒmkdir(), ä½†åˆ›å»ºçš„æ‰€æœ‰intermediate-levelæ–‡ä»¶å¤¹éœ€è¦åŒ…å«å­æ–‡ä»¶å¤¹ã€‚ os.minor(device) ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡minorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field )ã€‚ os.mkdir(path[, mode]) ä»¥æ•°å­—modeçš„modeåˆ›å»ºä¸€ä¸ªåä¸ºpathçš„æ–‡ä»¶å¤¹.é»˜è®¤çš„ mode æ˜¯ 0777 (å…«è¿›åˆ¶)ã€‚ os.mkfifo(path[, mode]) åˆ›å»ºå‘½åç®¡é“ï¼Œmode ä¸ºæ•°å­—ï¼Œé»˜è®¤ä¸º 0666 (å…«è¿›åˆ¶) os.mknod(filename[, mode=0600, device]) åˆ›å»ºä¸€ä¸ªåä¸ºfilenameæ–‡ä»¶ç³»ç»ŸèŠ‚ç‚¹ï¼ˆæ–‡ä»¶ï¼Œè®¾å¤‡ç‰¹åˆ«æ–‡ä»¶æˆ–è€…å‘½åpipeï¼‰ã€‚ os.open(file, flags[, mode]) æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”è®¾ç½®éœ€è¦çš„æ‰“å¼€é€‰é¡¹ï¼Œmodeå‚æ•°æ˜¯å¯é€‰çš„ os.openpty() æ‰“å¼€ä¸€ä¸ªæ–°çš„ä¼ªç»ˆç«¯å¯¹ã€‚è¿”å› pty å’Œ ttyçš„æ–‡ä»¶æè¿°ç¬¦ã€‚ os.pathconf(path, name) è¿”å›ç›¸å…³æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚ os.pipe() åˆ›å»ºä¸€ä¸ªç®¡é“. è¿”å›ä¸€å¯¹æ–‡ä»¶æè¿°ç¬¦(r, w) åˆ†åˆ«ä¸ºè¯»å’Œå†™ os.popen(command[, mode[, bufsize]]) ä»ä¸€ä¸ª command æ‰“å¼€ä¸€ä¸ªç®¡é“ os.read(fd, n) ä»æ–‡ä»¶æè¿°ç¬¦ fd ä¸­è¯»å–æœ€å¤š n ä¸ªå­—èŠ‚ï¼Œè¿”å›åŒ…å«è¯»å–å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œæ–‡ä»¶æè¿°ç¬¦ fdå¯¹åº”æ–‡ä»¶å·²è¾¾åˆ°ç»“å°¾, è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚ os.readlink(path) è¿”å›è½¯é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶ os.remove(path) åˆ é™¤è·¯å¾„ä¸ºpathçš„æ–‡ä»¶ã€‚å¦‚æœpath æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†æŠ›å‡ºOSError; æŸ¥çœ‹ä¸‹é¢çš„rmdir()åˆ é™¤ä¸€ä¸ª directoryã€‚ os.removedirs(path) é€’å½’åˆ é™¤ç›®å½•ã€‚ os.rename(src, dst) é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼Œä» src åˆ° dst os.renames(old, new) é€’å½’åœ°å¯¹ç›®å½•è¿›è¡Œæ›´åï¼Œä¹Ÿå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ›´åã€‚ os.rmdir(path) åˆ é™¤pathæŒ‡å®šçš„ç©ºç›®å½•ï¼Œå¦‚æœç›®å½•éç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªOSErrorå¼‚å¸¸ã€‚ os.stat(path) è·å–pathæŒ‡å®šçš„è·¯å¾„çš„ä¿¡æ¯ï¼ŒåŠŸèƒ½ç­‰åŒäºC APIä¸­çš„stat()ç³»ç»Ÿè°ƒç”¨ã€‚ os.stat_float_times([newvalue]) å†³å®šstat_resultæ˜¯å¦ä»¥floatå¯¹è±¡æ˜¾ç¤ºæ—¶é—´æˆ³ os.statvfs(path) è·å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯ os.symlink(src, dst) åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ os.tcgetpgrp(fd) è¿”å›ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„ os.tcsetpgrp(fd, pg) è®¾ç½®ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„ä¸ºpgã€‚ os.tempnam([dir[, prefix]]) Python3 ä¸­å·²åˆ é™¤ã€‚ è¿”å›å”¯ä¸€çš„è·¯å¾„åç”¨äºåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚ os.tmpfile() Python3 ä¸­å·²åˆ é™¤ã€‚ è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ¨¡å¼ä¸º(w+b)çš„æ–‡ä»¶å¯¹è±¡ .è¿™æ–‡ä»¶å¯¹è±¡æ²¡æœ‰æ–‡ä»¶å¤¹å…¥å£ï¼Œæ²¡æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œå°†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚ os.tmpnam() Python3 ä¸­å·²åˆ é™¤ã€‚ ä¸ºåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶è¿”å›ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„ os.ttyname(fd) è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä¸æ–‡ä»¶æè¿°ç¬¦fd å…³è”çš„ç»ˆç«¯è®¾å¤‡ã€‚å¦‚æœfd æ²¡æœ‰ä¸ç»ˆç«¯è®¾å¤‡å…³è”ï¼Œåˆ™å¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚ os.unlink(path) åˆ é™¤æ–‡ä»¶è·¯å¾„ os.utime(path, times) è¿”å›æŒ‡å®šçš„pathæ–‡ä»¶çš„è®¿é—®å’Œä¿®æ”¹çš„æ—¶é—´ã€‚ os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]]) è¾“å‡ºåœ¨æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åé€šè¿‡åœ¨æ ‘ä¸­æ¸¸èµ°ï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹ã€‚ os.write(fd, str) å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶æè¿°ç¬¦ fdä¸­. è¿”å›å®é™…å†™å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ os.path æ¨¡å— è·å–æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚ os.pardir() è·å–å½“å‰ç›®å½•çš„çˆ¶ç›®å½•ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼æ˜¾ç¤ºç›®å½•åã€‚ é”™è¯¯å’Œå¼‚å¸¸ Python ä¸­çš„è¯­æ³•é”™è¯¯ä¹Ÿå¯ç§°ä¹‹ä¸ºè§£æé”™ã€‚å³ä¾¿ Python ç¨‹åºçš„è¯­æ³•æ˜¯æ­£ç¡®çš„ï¼Œåœ¨è¿è¡Œå®ƒçš„æ—¶å€™ï¼Œä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿé”™è¯¯ã€‚è¿è¡ŒæœŸæ£€æµ‹åˆ°çš„é”™è¯¯è¢«ç§°ä¸ºå¼‚å¸¸ã€‚\nå¼‚å¸¸ä»¥ä¸åŒçš„ç±»å‹å‡ºç°ï¼Œè¿™äº›ç±»å‹éƒ½ä½œä¸ºä¿¡æ¯çš„ä¸€éƒ¨åˆ†æ‰“å°å‡ºæ¥ï¼š\n\u0026gt;\u0026gt;\u0026gt; 10 * (1/0) # 0 ä¸èƒ½ä½œä¸ºé™¤æ•°ï¼Œè§¦å‘å¼‚å¸¸ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in ? ZeroDivisionError: division by zero \u0026gt;\u0026gt;\u0026gt; 4 + spam*3 # spam æœªå®šä¹‰ï¼Œè§¦å‘å¼‚å¸¸ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in ? NameError: name \u0026#39;spam\u0026#39; is not defined \u0026gt;\u0026gt;\u0026gt; \u0026#39;2\u0026#39; + 2 # int ä¸èƒ½ä¸ str ç›¸åŠ ï¼Œè§¦å‘å¼‚å¸¸ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: can only concatenate str (not \u0026#34;int\u0026#34;) to str é”™è¯¯ä¿¡æ¯çš„å‰é¢éƒ¨åˆ†æ˜¾ç¤ºäº†å¼‚å¸¸å‘ç”Ÿçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶ä»¥è°ƒç”¨æ ˆçš„å½¢å¼æ˜¾ç¤ºå…·ä½“ä¿¡æ¯ã€‚\nå¼‚å¸¸å¤„ç† try/except å¼‚å¸¸æ•æ‰å¯ä»¥ä½¿ç”¨ try/except è¯­å¥ï¼š\n# æ‰§è¡Œä¸€æ¬¡ try å­å¥ï¼Œå¹¶å°è¯•æ•æ‰å¼‚å¸¸ # å¦‚æœæ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œå¿½ç•¥ except å­å¥ # å½“æ•æ‰åˆ°å¼‚å¸¸æ—¶ï¼Œå°†æ‰§è¡Œå¯¹åº”çš„ except å­å¥ # å¦‚æœä¸€ä¸ªå¼‚å¸¸æ²¡æœ‰ä¸ä»»ä½•çš„ except åŒ¹é…ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šä¼ é€’ç»™ä¸Šå±‚çš„ try ä¸­ # ä¸€ä¸ª try è¯­å¥å¯èƒ½åŒ…å«å¤šä¸ªexceptå­å¥ï¼Œåˆ†åˆ«æ¥å¤„ç†ä¸åŒçš„ç‰¹å®šçš„å¼‚å¸¸ã€‚ä½†æœ€å¤šåªæœ‰ä¸€ä¸ªåˆ†æ”¯ä¼šè¢«æ‰§è¡Œã€‚ try: statement_1 except Error1: statement_2 except Error2: statement_3 ...... except: # çœç•¥å¼‚å¸¸çš„åç§°ï¼Œå°†è¢«å½“ä½œé€šé…ç¬¦ä½¿ç”¨ statement_n # 2. ä¸€æ¬¡å¤„ç†å¤šä¸ªå¼‚å¸¸ try: statement_1 except (Error1, Error2, ...): # è¿™é‡Œæ˜¯ä¸€ä¸ªå…ƒç´ ä¸ºâ€œå¼‚å¸¸â€çš„å…ƒç»„ statement_2 Exampleï¼š\nwhile True: try: x = int(input(\u0026#34;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: \u0026#34;)) break except ValueError: print(\u0026#34;æ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼\u0026#34;) import sys try: f = open(\u0026#39;myfile.txt\u0026#39;) s = f.readline() i = int(s.strip()) except OSError as err: print(\u0026#34;OS error: {0}\u0026#34;.format(err)) except ValueError: print(\u0026#34;Could not convert data to an integer.\u0026#34;) except: print(\u0026#34;Unexpected error:\u0026#34;, sys.exc_info()[0]) raise # å†æ¬¡å°†è§¦å‘çš„å¼‚å¸¸æŠ›å‡º try/except \u0026hellip; else try/except è¯­å¥è¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„ else å­å¥ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªå­å¥ï¼Œé‚£ä¹ˆå¿…é¡»æ”¾åœ¨æ‰€æœ‰çš„ except å­å¥ä¹‹åã€‚else å­å¥å°†åœ¨ try å­å¥æ²¡æœ‰å‘ç”Ÿä»»ä½•å¼‚å¸¸çš„æ—¶å€™æ‰§è¡Œã€‚\ntry: statement_1 except Error1: statement_2 except Error2: statement_3 ...... except: statement_n else: statement_e åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯ä»¥æ‰“å¼€ï¼Œå¦‚æœæ‰“å¼€æ–‡ä»¶æ—¶æ­£å¸¸çš„æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸åˆ™æ‰§è¡Œ else éƒ¨åˆ†çš„è¯­å¥ï¼Œè¯»å–æ–‡ä»¶å†…å®¹ï¼š\nfor arg in sys.argv[1:]: try: f = open(arg, \u0026#39;r\u0026#39;) except IOError: print(\u0026#39;cannot open\u0026#39;, arg) else: print(arg, \u0026#39;has\u0026#39;, len(f.readlines()), \u0026#39;lines\u0026#39;) f.close() ä½¿ç”¨ else å­å¥æ¯”æŠŠæ‰€æœ‰çš„è¯­å¥éƒ½æ”¾åœ¨ try å­å¥é‡Œé¢è¦å¥½ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¸€äº›æ„æƒ³ä¸åˆ°ï¼Œè€Œ except åˆæ— æ³•æ•è·çš„å¼‚å¸¸ã€‚å¼‚å¸¸å¤„ç†å¹¶ä¸ä»…ä»…å¤„ç†é‚£äº›ç›´æ¥å‘ç”Ÿåœ¨ try å­å¥ä¸­çš„å¼‚å¸¸ï¼Œè€Œä¸”è¿˜èƒ½å¤„ç†å­å¥ä¸­è°ƒç”¨çš„å‡½æ•°ï¼ˆç”šè‡³é—´æ¥è°ƒç”¨çš„å‡½æ•°ï¼‰é‡ŒæŠ›å‡ºçš„å¼‚å¸¸ã€‚\ntry-finally try-finally è¯­å¥æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½å°†æ‰§è¡Œ finally å­å¥çš„ä»£ç ã€‚\ntry: statement_1 except Error1: statement_2 except Error2: statement_3 ...... except: statement_n else: statement_e finally: statement_f Exampleï¼š\ntry: runoob() except AssertionError as error: print(error) else: try: with open(\u0026#39;file.log\u0026#39;) as file: read_data = file.read() except FileNotFoundError as fnf_error: print(fnf_error) finally: print(\u0026#39;è¿™å¥è¯ï¼Œæ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿéƒ½ä¼šæ‰§è¡Œã€‚\u0026#39;) finally å­å¥é€šå¸¸ç”¨ä½œå®šä¹‰ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šæ‰§è¡Œçš„æ¸…ç†è¡Œä¸ºã€‚\nå¦‚æœä¸€ä¸ªå¼‚å¸¸åœ¨ try å­å¥é‡Œï¼ˆæˆ–è€…åœ¨ except å’Œ else å­å¥é‡Œï¼‰è¢«æŠ›å‡ºï¼Œè€Œåˆæ²¡æœ‰ä»»ä½•çš„ except æŠŠå®ƒæˆªä½ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸ä¼šåœ¨ finally å­å¥æ‰§è¡Œåè¢«æŠ›å‡ºã€‚\næŠ›å‡ºå¼‚å¸¸ Python ä½¿ç”¨ raise è¯­å¥æŠ›å‡ºä¸€ä¸ªæŒ‡å®šçš„å¼‚å¸¸ã€‚raise å”¯ä¸€çš„ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†è¦è¢«æŠ›å‡ºçš„å¼‚å¸¸ã€‚å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå¼‚å¸¸çš„å®ä¾‹æˆ–è€…æ˜¯å¼‚å¸¸çš„ç±»ï¼ˆä¹Ÿå°±æ˜¯ Exception çš„å­ç±»ï¼‰ã€‚raise è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nraise [Exception [, args [, traceback]]] Exampleï¼š\nx = 10 if x \u0026gt; 5: raise Exception(\u0026#39;x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}\u0026#39;.format(x)) æ‰§è¡Œä»¥ä¸Šä»£ç ä¼šè§¦å‘å¼‚å¸¸ï¼š\nTraceback (most recent call last): File \u0026#34;test.py\u0026#34;, line 3, in \u0026lt;module\u0026gt; raise Exception(\u0026#39;x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}\u0026#39;.format(x)) Exception: x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: 10 ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ å¼‚å¸¸ç±»éƒ½æ˜¯ç›´æ¥æˆ–é—´æ¥åœ°ç»§æ‰¿è‡ª Exception ç±»ã€‚\n\u0026gt;\u0026gt;\u0026gt; class MyError(Exception): ... def __init__(self, value): ... self.value = value ... def __str__(self): ... return repr(self.value) ... \u0026gt;\u0026gt;\u0026gt; try: ... raise MyError(2*2) ... except MyError as e: ... print(\u0026#39;My exception occurred, value:\u0026#39;, e.value) ... My exception occurred, value: 4 \u0026gt;\u0026gt;\u0026gt; raise MyError(\u0026#39;oops!\u0026#39;) Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in ? __main__.MyError: \u0026#39;oops!\u0026#39; é¢„å®šä¹‰æ¸…ç†è¡Œä¸º with è¯­å¥å¯ä»¥ä¿è¯è¯¸å¦‚æ–‡ä»¶ä¹‹ç±»çš„å¯¹è±¡åœ¨ä½¿ç”¨å®Œä¹‹åä¸€å®šä¼šæ­£ç¡®çš„æ‰§è¡Œä»–çš„æ¸…ç†æ–¹æ³•ï¼š\nwith open(\u0026#34;myfile.txt\u0026#34;) as f: for line in f: print(line, end=\u0026#34;\u0026#34;) assert æ–­è¨€ Python assertï¼ˆæ–­è¨€ï¼‰ç”¨äºåˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåœ¨è¡¨è¾¾å¼æ¡ä»¶ä¸º false çš„æ—¶å€™è§¦å‘å¼‚å¸¸ã€‚\næ–­è¨€å¯ä»¥åœ¨æ¡ä»¶ä¸æ»¡è¶³ç¨‹åºè¿è¡Œçš„æƒ…å†µä¸‹ç›´æ¥è¿”å›é”™è¯¯ï¼Œè€Œä¸å¿…ç­‰å¾…ç¨‹åºè¿è¡Œåå‡ºç°å´©æºƒçš„æƒ…å†µã€‚\nè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nassert expression # expression å€¼ä¸º True æ—¶ï¼Œæ­£å¸¸æ‰§è¡Œï¼› # ä¸º False æ—¶ï¼Œè§¦å‘å¼‚å¸¸ å®ƒç­‰ä»·äºï¼š\nif not expression: raise AssertionError assert åé¢ä¹Ÿå¯ä»¥ç´§è·Ÿå‚æ•°:\nassert expression [, arguments] ç­‰ä»·äºï¼š\nif not expression: raise AssertionError(arguments) Exampleï¼š\n\u0026gt;\u0026gt;\u0026gt; assert True # æ¡ä»¶ä¸º true æ­£å¸¸æ‰§è¡Œ \u0026gt;\u0026gt;\u0026gt; assert False # æ¡ä»¶ä¸º false è§¦å‘å¼‚å¸¸ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; AssertionError \u0026gt;\u0026gt;\u0026gt; assert 1==1 # æ¡ä»¶ä¸º true æ­£å¸¸æ‰§è¡Œ \u0026gt;\u0026gt;\u0026gt; assert 1==2 # æ¡ä»¶ä¸º false è§¦å‘å¼‚å¸¸ Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; AssertionError \u0026gt;\u0026gt;\u0026gt; assert 1==2, \u0026#39;1 ä¸ç­‰äº 2\u0026#39; Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; AssertionError: 1 ä¸ç­‰äº 2 # åˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¦ä¸º Linuxï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™ç›´æ¥è§¦å‘å¼‚å¸¸ï¼Œä¸å¿…æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç  import sys assert (\u0026#39;linux\u0026#39; in sys.platform), \u0026#34;è¯¥ä»£ç åªèƒ½åœ¨ Linux ä¸‹æ‰§è¡Œ\u0026#34; # ... æ¥ä¸‹æ¥è¦æ‰§è¡Œçš„ä»£ç  é¢å‘å¯¹è±¡ ç±»ï¼ˆClassï¼‰ï¼šç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚\næ–¹æ³•ï¼šç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚\nç±»å˜é‡ï¼šç±»å˜é‡åœ¨æ•´ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ä¸­æ˜¯å…¬ç”¨çš„ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ä¸”åœ¨å‡½æ•°ä½“ä¹‹å¤–ã€‚ç±»å˜é‡é€šå¸¸ä¸ä½œä¸ºå®ä¾‹å˜é‡ä½¿ç”¨ã€‚\næ•°æ®æˆå‘˜ï¼šç±»å˜é‡æˆ–è€…å®ä¾‹å˜é‡ç”¨äºå¤„ç†ç±»åŠå…¶å®ä¾‹å¯¹è±¡çš„ç›¸å…³çš„æ•°æ®ã€‚\næ–¹æ³•é‡å†™ï¼šå¦‚æœä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•çš„è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œä¹Ÿç§°ä¸ºæ–¹æ³•çš„é‡å†™ã€‚\nå±€éƒ¨å˜é‡ï¼šå®šä¹‰åœ¨æ–¹æ³•ä¸­çš„å˜é‡ï¼Œåªä½œç”¨äºå½“å‰å®ä¾‹çš„ç±»ã€‚\nå®ä¾‹å˜é‡ï¼šåœ¨ç±»çš„å£°æ˜ä¸­ï¼Œå±æ€§æ˜¯ç”¨å˜é‡æ¥è¡¨ç¤ºçš„ï¼Œè¿™ç§å˜é‡å°±ç§°ä¸ºå®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡å°±æ˜¯ä¸€ä¸ªç”¨ self ä¿®é¥°çš„å˜é‡ã€‚\nç»§æ‰¿ï¼šå³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚ç»§æ‰¿æ˜¯æ¨¡æ‹Ÿ â€œæ˜¯ä¸€ä¸ªï¼ˆis-aï¼‰â€ å…³ç³»ã€‚\nå®ä¾‹åŒ–ï¼šåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚\nå¯¹è±¡ï¼šé€šè¿‡ç±»å®šä¹‰çš„æ•°æ®ç»“æ„å®ä¾‹ã€‚å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼ˆç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼‰å’Œæ–¹æ³•ã€‚\nç±»å®šä¹‰å’Œç±»å¯¹è±¡ åˆ›å»ºç±» åˆ›å»ºç±»çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nclass ClassName(): \u0026lt;statement-1\u0026gt; . . . \u0026lt;statement-N\u0026gt; åˆ›å»ºå®ä¾‹å¯¹è±¡ ç±»å¯¹è±¡æ”¯æŒä¸¤ç§æ“ä½œï¼šå±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–ã€‚\nåœ¨ Python ä¸­ï¼Œç±»çš„å®ä¾‹åŒ–ç±»ä¼¼å‡½æ•°è°ƒç”¨æ–¹å¼ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\nobj = ClassName([arg1, arg2, ...]) è®¿é—®å¯¹è±¡å±æ€§ ç±»çš„å±æ€§æ˜¯æŒ‡åœ¨ç±»ä¸­å®šä¹‰çš„å˜é‡å’Œæ–¹æ³•ç­‰ã€‚\nå±æ€§å¼•ç”¨ä½¿ç”¨ obj.name è¯­æ³•ã€‚ç±»å¯¹è±¡åˆ›å»ºåï¼Œç±»å‘½åç©ºé—´ä¸­æ‰€æœ‰çš„å‘½åï¼ˆå¦‚å˜é‡ã€æ–¹æ³•ç­‰ï¼‰éƒ½æ˜¯æœ‰æ•ˆå±æ€§åã€‚\nExampleï¼š\nclass MyClass(): var1 = 1 var2 = 2 def method(self): print(\u0026#34;This is my class.\u0026#34;) obj = MyClass() print(obj.var1, obj.var2) print() obj.func() # è¾“å‡ºï¼š # 1 2 # This is my class. \\_\\_init\\_\\_() å’Œself åœ¨ç±»å®šä¹‰ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ–¹æ³•ï¼Œæ„é€ æ–¹æ³• __init__()ã€‚å¦‚æœç±»å®šä¹‰äº† __init__() æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨ç±»å®ä¾‹åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚\nåœ¨ç±»å®šä¹‰ä¸­ï¼Œself ä»£è¡¨ç±»çš„å®ä¾‹ï¼Œè€Œéç±»ã€‚self å¿…é¡»å­˜åœ¨ï¼Œä¸”ä½äºå…¶ä»–å½¢å‚å‰é¢ã€‚ç±»çš„æ–¹æ³•ä¸æ™®é€šçš„å‡½æ•°åªæœ‰ä¸€ä¸ªç‰¹åˆ«çš„åŒºåˆ«â€”â€”å®ƒä»¬å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„ç¬¬ä¸€ä¸ªå‚æ•°åç§°ï¼ŒæŒ‰ç…§æƒ¯ä¾‹å®ƒçš„åç§°æ˜¯ selfã€‚\nself çš„åå­—å¹¶ä¸æ˜¯è§„å®šæ­»çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ thisï¼Œä½†æ˜¯æœ€å¥½è¿˜æ˜¯æŒ‰ç…§çº¦å®šä½¿ç”¨ selfã€‚\nåœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° self, ä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚\nExampleï¼š\nclass Complex(): \u0026#34;\u0026#34;\u0026#34;å¤æ•°ç±»\u0026#34;\u0026#34;\u0026#34; def __init__(self, realpart, imagpart): self.r = realpart self.i = imagpart def print_complex(self): print(\u0026#39;{:f}{:+f}i\u0026#39;.format(self.r, self.i)) x = Complex(3.0, -4.5) # å®ä¾‹åŒ– print(x.r, x.i) # è¾“å‡ºï¼š3.0 -4.5 x.print_complex() # è¾“å‡ºï¼š3.000000-4.500000i åœ¨ Python è°ƒç”¨ __init__() æ¥åˆ›å»ºå®ä¾‹æ—¶ï¼Œå°†è‡ªåŠ¨ä¼ å…¥å®å‚ selfã€‚æ¯ä¸ªä¸ç±»ç›¸å…³è”çš„æ–¹æ³•è°ƒç”¨éƒ½è‡ªåŠ¨ä¼ é€’å®å‚ selfã€‚\nåœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨å±æ€§å’Œæ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨ self.attrs æˆ– self.method()ã€‚\nä¿®æ”¹å±æ€§å€¼ é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ä¿®æ”¹å±æ€§å€¼ï¼Œä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨ obj.name è¯­æ³•ä¿®æ”¹ï¼Œå¦ä¸€ç§æ˜¯é€šè¿‡æ–¹æ³•å¯¹å±æ€§å€¼è¿›è¡Œä¿®æ”¹ã€‚\nExampleï¼š\nclass Car(): def __init__(self, make, model, year): \u0026#34;\u0026#34;\u0026#34;åˆå§‹åŒ–æè¿°æ±½è½¦çš„å±æ€§\u0026#34;\u0026#34;\u0026#34; self.make = make self.model = model self.year = year self.odometer_reading = 0 def get_descriptive_name(self): \u0026#34;\u0026#34;\u0026#34;è¿”å›æ•´æ´çš„æè¿°æ€§ä¿¡æ¯\u0026#34;\u0026#34;\u0026#34; long_name = str(self.year) + \u0026#39; \u0026#39; + self.make + \u0026#39; \u0026#39; + self.model return long_name.title() def read_odometer(self): \u0026#34;\u0026#34;\u0026#34;æ‰“å°ä¸€æ¡æŒ‡å‡ºæ±½è½¦é‡Œç¨‹çš„æ¶ˆæ¯\u0026#34;\u0026#34;\u0026#34; print(\u0026#34;This car has \u0026#34; + str(self.odometer_reading) + \u0026#34; miles on it.\u0026#34;) def update_odometer(self, mileage): \u0026#34;\u0026#34;\u0026#34; å°†é‡Œç¨‹è¡¨è¯»æ•°è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼ ç¦æ­¢å°†é‡Œç¨‹è¡¨è¯»æ•°å¾€å›è°ƒ \u0026#34;\u0026#34;\u0026#34; if mileage \u0026gt;= self.odometer_reading: self.odometer_reading = mileage else: print(\u0026#34;You can\u0026#39;t roll back an odometer!\u0026#34;) def increment_odometer(self, miles): \u0026#34;\u0026#34;\u0026#34;å°†é‡Œç¨‹è¡¨è¯»æ•°å¢åŠ æŒ‡å®šçš„é‡\u0026#34;\u0026#34;\u0026#34; self.odometer_reading += miles my_new_car = Car(\u0026#39;audi\u0026#39;, \u0026#39;a4\u0026#39;, 2016) # é€šè¿‡æ–¹æ³•è·å–å±æ€§ print(my_new_car.get_descriptive_name()) my_new_car.read_odometer() # è¾“å‡ºï¼š # 2016 Audi A4 # This car has 0 miles on it. # é€šè¿‡æ–¹æ³•å¯¹å±æ€§å€¼è¿›è¡Œä¿®æ”¹ my_used_car = Car(\u0026#39;subaru\u0026#39;, \u0026#39;outback\u0026#39;, 2013) print(my_used_car.get_descriptive_name()) my_used_car.update_odometer(23500) my_used_car.read_odometer() my_used_car.increment_odometer(100) my_used_car.read_odometer() # è¾“å‡ºï¼š # 2013 Subaru Outback # This car has 23500 miles on it. # This car has 23600 miles on it. ç»§æ‰¿ å­ç±»ï¼ˆæ´¾ç”Ÿç±» DerivedClassNameï¼‰ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆåŸºç±» BaseClassNameï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚æ´¾ç”Ÿç±»çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š\nclass DerivedClassName(BaseClassName): \u0026lt;statement-1\u0026gt; . . . \u0026lt;statement-N\u0026gt; BaseClassNameï¼ˆå®ä¾‹ä¸­çš„åŸºç±»åï¼‰å¿…é¡»ä¸æ´¾ç”Ÿç±»å®šä¹‰åœ¨ä¸€ä¸ªä½œç”¨åŸŸå†…ã€‚\nå¦‚æœåŸºç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œéœ€è¦ä½¿ç”¨ . è¿ç®—ç¬¦ï¼š\nclass DerivedClassName(modname.BaseClassName): Exampleï¼š\n# ç±»å®šä¹‰ class people: # å®šä¹‰åŸºæœ¬å±æ€§ name = \u0026#39;\u0026#39; age = 0 # å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—® __weight = 0 # å®šä¹‰æ„é€ æ–¹æ³• def __init__(self,n,a,w): self.name = n self.age = a self.__weight = w def speak(self): print(\u0026#34;%s è¯´: æˆ‘ %d å²ã€‚\u0026#34; %(self.name,self.age)) # å•ç»§æ‰¿ç¤ºä¾‹ class student(people): grade = \u0026#39;\u0026#39; def __init__(self,n,a,w,g): # è°ƒç”¨çˆ¶ç±»çš„æ„å‡½ people.__init__(self,n,a,w) self.grade = g # è¦†å†™çˆ¶ç±»çš„æ–¹æ³• def speak(self): print(\u0026#34;%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§\u0026#34;%(self.name,self.age,self.grade)) s = student(\u0026#39;ken\u0026#39;,10,60,3) s.speak() å¤šç»§æ‰¿ Python æœ‰é™åœ°æ”¯æŒå¤šç»§æ‰¿ï¼Œå¤šç»§æ‰¿çš„ç±»å®šä¹‰å¦‚ä¸‹ï¼š\nclass DerivedClassName(Base1, Base2, Base3): \u0026lt;statement-1\u0026gt; . . . \u0026lt;statement-N\u0026gt; è‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼ŒPython ä¼šæ ¹æ®åœ†æ‹¬å·ä¸­çˆ¶ç±»çš„é¡ºåºä»å·¦è‡³å³æœç´¢ã€‚å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•ã€‚\nExampleï¼š\n# æ¥ä¸Šä¸€ä¸ªä¾‹å­ # å¦ä¸€ä¸ªç±»ï¼Œå¤šé‡ç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡ class speaker(): topic = \u0026#39;\u0026#39; name = \u0026#39;\u0026#39; def __init__(self,n,t): self.name = n self.topic = t def speak(self): print(\u0026#34;æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s\u0026#34;%(self.name,self.topic)) # å¤šé‡ç»§æ‰¿ class sample(speaker,student): a =\u0026#39;\u0026#39; def __init__(self,n,a,w,g,t): student.__init__(self,n,a,w,g) speaker.__init__(self,n,t) test = sample(\u0026#34;Tim\u0026#34;,25,80,4,\u0026#34;Python\u0026#34;) test.speak() # æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­æ’å‰åœ°çˆ¶ç±»çš„æ–¹æ³• æ–¹æ³•é‡å†™ å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å…¶çˆ¶ç±»çš„æ–¹æ³•ï¼š\nclass Parent: # å®šä¹‰çˆ¶ç±» def myMethod(self): print (\u0026#39;è°ƒç”¨çˆ¶ç±»æ–¹æ³•\u0026#39;) class Child(Parent): # å®šä¹‰å­ç±» def myMethod(self): print (\u0026#39;è°ƒç”¨å­ç±»æ–¹æ³•\u0026#39;) c = Child() # å­ç±»å®ä¾‹ c.myMethod() # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³• super(Child,c).myMethod() # ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³• # è¾“å‡ºï¼š # è°ƒç”¨å­ç±»æ–¹æ³• # è°ƒç”¨çˆ¶ç±»æ–¹æ³• å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°è¯´æ˜ å¦‚æœåœ¨å­ç±»ä¸­éœ€è¦çˆ¶ç±»çš„æ„é€ æ–¹æ³•å°±éœ€è¦æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œæˆ–è€…ä¸é‡å†™çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚\nå­ç±»ä¸é‡å†™ __init__ï¼Œå®ä¾‹åŒ–å­ç±»æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»å®šä¹‰çš„ __init__ã€‚\nExampleï¼š\nclass Father(object): def __init__(self, name): self.name = name print (\u0026#34;name: %s\u0026#34; % (self.name)) def getName(self): return \u0026#39;Father \u0026#39; + self.name # é‡å†™äº† getName ä½†å¹¶æ²¡æœ‰é‡å†™ __init__ class Son(Father): def getName(self): return \u0026#39;Son \u0026#39; + self.name if __name__ == \u0026#39;__main__\u0026#39;: son = Son(\u0026#39;runoob\u0026#39;) print(son.getName()) # è¾“å‡ºï¼š # name: runoob # Son runoob å¦‚æœé‡å†™äº†__init__ æ—¶ï¼Œå®ä¾‹åŒ–å­ç±»ï¼Œå°±ä¸ä¼šè°ƒç”¨çˆ¶ç±»å·²ç»å®šä¹‰çš„ __init__ã€‚\nExampleï¼š\nclass Father(object): def __init__(self, name): self.name=name print ( \u0026#34;name: %s\u0026#34; %( self.name) ) def getName(self): return \u0026#39;Father \u0026#39; + self.name # é‡å†™äº† __init__ å’Œ getName class Son(Father): def __init__(self, name): print ( \u0026#34;hi\u0026#34; ) self.name = name def getName(self): return \u0026#39;Son \u0026#39;+self.name if __name__==\u0026#39;__main__\u0026#39;: son=Son(\u0026#39;runoob\u0026#39;) print (son.getName()) # è¾“å‡ºï¼š # hi # Son runoob å¦‚æœé‡å†™äº† __init__ æ—¶ï¼Œè¦ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¯ä»¥åœ¨ __init__ çš„å®šä¹‰ä¸­ä½¿ç”¨ super å…³é”®å­—ï¼š\nsuper(å­ç±», self).__init__(å‚æ•°1, å‚æ•°2, ....) å¦ä¸€ç§å†™æ³•ï¼š\nçˆ¶ç±»åç§°.__init__(self, å‚æ•°1, å‚æ•°2, ...) Exampleï¼š\nclass Father(object): def __init__(self, name): self.name = name print(\u0026#34;name: %s\u0026#34; % (self.name)) def getName(self): return \u0026#39;Father \u0026#39; + self.name class Son(Father): def __init__(self, name): super(Son, self).__init__(name) print(\u0026#34;hi\u0026#34;) self.name = name def getName(self): return \u0026#39;Son \u0026#39; + self.name if __name__ == \u0026#39;__main__\u0026#39;: son=Son(\u0026#39;runoob\u0026#39;) print (son.getName()) # è¾“å‡ºï¼š # name: runoob # hi # Son runoob ç±»çš„ç§æœ‰å±æ€§ä¸ç§æœ‰æ–¹æ³• ç§æœ‰å±æ€§ä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚ä½¿ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰ï¼š\n__private_attrs åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨ç§æœ‰å±æ€§ï¼š\nself.__private_attrs Exampleï¼š\nclass JustCounter: __secretCount = 0 # ç§æœ‰å˜é‡ publicCount = 0 # å…¬å¼€å˜é‡ def count(self): self.__secretCount += 1 self.publicCount += 1 print (self.__secretCount) counter = JustCounter() counter.count() counter.count() print (counter.publicCount) print (counter.__secretCount) # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡ è¾“å‡ºç»“æœï¼š\n1 2 2 Traceback (most recent call last): File \u0026#34;test.py\u0026#34;, line 16, in \u0026lt;module\u0026gt; print (counter.__secretCount) # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡ AttributeError: \u0026#39;JustCounter\u0026#39; object has no attribute \u0026#39;__secretCount\u0026#39; ç§æœ‰æ–¹æ³•åªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨ã€‚ä½¿ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼š\ndef __private_method(self[, ...]): åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨ç§æœ‰æ–¹æ³•ï¼š\nself.__private_methods([...]) Exampleï¼š\nclass Site: def __init__(self, name, url): self.name = name # public self.__url = url # private def who(self): print(\u0026#39;name : \u0026#39;, self.name) print(\u0026#39;url : \u0026#39;, self.__url) def __foo(self): # ç§æœ‰æ–¹æ³• print(\u0026#39;è¿™æ˜¯ç§æœ‰æ–¹æ³•\u0026#39;) def foo(self): # å…¬å…±æ–¹æ³• print(\u0026#39;è¿™æ˜¯å…¬å…±æ–¹æ³•\u0026#39;) self.__foo() x = Site(\u0026#39;èœé¸Ÿæ•™ç¨‹\u0026#39;, \u0026#39;www.runoob.com\u0026#39;) x.who() # æ­£å¸¸è¾“å‡º x.foo() # æ­£å¸¸è¾“å‡º x.__foo() # æŠ¥é”™ è¾“å‡ºç»“æœï¼š\nname : èœé¸Ÿæ•™ç¨‹ url : www.runoob.com è¿™æ˜¯å…¬å…±æ–¹æ³• è¿™æ˜¯ç§æœ‰æ–¹æ³• Traceback (most recent call last): File \u0026#34;c:/Users/27120/Documents/MyDocuments/Code/test.py\u0026#34;, line 20, in \u0026lt;module\u0026gt; x.__foo() # æŠ¥é”™ï¼Œå¤–éƒ¨ä¸èƒ½è°ƒç”¨ç§æœ‰æ–¹æ³• AttributeError: \u0026#39;Site\u0026#39; object has no attribute \u0026#39;__foo\u0026#39; ç±»çš„ä¸“æœ‰æ–¹æ³• æ–¹æ³• æè¿° __init__ æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨ __del__ ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨ __repr__ æ‰“å°ï¼Œè½¬æ¢ __setitem__ æŒ‰ç…§ç´¢å¼•èµ‹å€¼ __getitem__ æŒ‰ç…§ç´¢å¼•è·å–å€¼ __len__ è·å¾—é•¿åº¦ __cmp__ æ¯”è¾ƒè¿ç®— __call__ å‡½æ•°è°ƒç”¨ __add__ åŠ è¿ç®— __sub__ å‡è¿ç®— __mul__ ä¹˜è¿ç®— __truediv__ é™¤è¿ç®— __mod__ æ±‚ä½™è¿ç®— __pow__ ä¹˜æ–¹ è¿ç®—ç¬¦é‡è½½ å¯ä»¥å¯¹ç±»çš„ä¸“æœ‰æ–¹æ³•è¿›è¡Œé‡è½½ï¼š\nclass Vector: def __init__(self, a, b): self.a = a self.b = b def __str__(self): return \u0026#39;Vector (%d, %d)\u0026#39; % (self.a, self.b) def __add__(self, other): return Vector(self.a + other.a, self.b + other.b) v1 = Vector(2,10) v2 = Vector(5,-2) print (v1 + v2) # è¾“å‡ºï¼š # Vector(7,8) å‘½åç©ºé—´ å‘½åç©ºé—´ï¼ˆNamespaceï¼‰æ˜¯ä»åç§°åˆ°å¯¹è±¡çš„æ˜ å°„ï¼Œå¤§éƒ¨åˆ†çš„å‘½åç©ºé—´éƒ½æ˜¯é€šè¿‡ Python å­—å…¸æ¥å®ç°çš„ã€‚\nå‘½åç©ºé—´æä¾›äº†åœ¨é¡¹ç›®ä¸­é¿å…åå­—å†²çªçš„ä¸€ç§æ–¹æ³•ã€‚å„ä¸ªå‘½åç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ²¡æœ‰ä»»ä½•å…³ç³»çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªå‘½åç©ºé—´ä¸­ä¸èƒ½æœ‰é‡åï¼Œä½†ä¸åŒçš„å‘½åç©ºé—´æ˜¯å¯ä»¥é‡åè€Œæ²¡æœ‰ä»»ä½•å½±å“ã€‚\nä¸€èˆ¬æœ‰ä¸‰ç§å‘½åç©ºé—´ï¼š\nå†…ç½®åç§°ï¼ˆbuilt-in namesï¼‰ï¼šPython è¯­è¨€å†…ç½®çš„åç§°ï¼Œæ¯”å¦‚å‡½æ•°å absã€char å’Œå¼‚å¸¸åç§° BaseExceptionã€Exception ç­‰ç­‰ã€‚\nå…¨å±€åç§°ï¼ˆglobal namesï¼‰ï¼šæ¨¡å—ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†æ¨¡å—çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»ã€å…¶å®ƒå¯¼å…¥çš„æ¨¡å—ã€æ¨¡å—çº§çš„å˜é‡å’Œå¸¸é‡ã€‚\nå±€éƒ¨åç§°ï¼ˆlocal namesï¼‰ï¼šå‡½æ•°ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†å‡½æ•°çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°çš„å‚æ•°å’Œå±€éƒ¨å®šä¹‰çš„å˜é‡ï¼ˆç±»ä¸­å®šä¹‰çš„ä¹Ÿæ˜¯ï¼‰ã€‚\nå‘½åç©ºé—´æŸ¥æ‰¾é¡ºåºï¼šå±€éƒ¨çš„å‘½åç©ºé—´ $\\rightarrow$ å…¨å±€å‘½åç©ºé—´ $\\rightarrow$ å†…ç½®å‘½åç©ºé—´ã€‚\nå¦‚æœæ‰¾ä¸åˆ°å˜é‡ï¼Œå°†æ”¾å¼ƒæŸ¥æ‰¾å¹¶å¼•å‘ä¸€ä¸ª NameError å¼‚å¸¸ï¼š\nNameError: name \u0026#39;runoob\u0026#39; is not defined å‘½åç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸï¼šå‘½åç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸå–å†³äºå¯¹è±¡çš„ä½œç”¨åŸŸï¼Œå¦‚æœå¯¹è±¡æ‰§è¡Œå®Œæˆï¼Œåˆ™è¯¥å‘½åç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸå°±ç»“æŸã€‚\nå› æ­¤ï¼Œæ— æ³•ä»å¤–éƒ¨å‘½åç©ºé—´è®¿é—®å†…éƒ¨å‘½åç©ºé—´çš„å¯¹è±¡ã€‚\nä½œç”¨åŸŸ ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ª Python ç¨‹åºå¯ä»¥ç›´æ¥è®¿é—®å‘½åç©ºé—´çš„æ­£æ–‡åŒºåŸŸã€‚å˜é‡çš„è®¿é—®æƒé™å–å†³äºè¿™ä¸ªå˜é‡æ˜¯åœ¨å“ªé‡Œèµ‹å€¼çš„ã€‚\nå˜é‡çš„ä½œç”¨åŸŸå†³å®šäº†åœ¨å“ªä¸€éƒ¨åˆ†ç¨‹åºå¯ä»¥è®¿é—®å“ªä¸ªç‰¹å®šçš„å˜é‡åç§°ã€‚Python çš„ä½œç”¨åŸŸä¸€å…±æœ‰ 4 ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š\nLï¼ˆLocalï¼‰ï¼šæœ€å†…å±‚ï¼ŒåŒ…å«å±€éƒ¨å˜é‡ã€‚å¦‚ä¸€ä¸ªå‡½æ•°/æ–¹æ³•å†…éƒ¨ã€‚\nEï¼ˆEnclosingï¼‰ï¼šåŒ…å«äº†éå±€éƒ¨ï¼ˆnon-localï¼‰ä¹Ÿéå…¨å±€ï¼ˆnon-globalï¼‰çš„å˜é‡ã€‚ å¦‚ä¸¤ä¸ªåµŒå¥—å‡½æ•°ï¼Œä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–ç±»ï¼‰ A é‡Œé¢åˆåŒ…å«äº†ä¸€ä¸ªå‡½æ•° B ï¼Œé‚£ä¹ˆå¯¹äº B ä¸­çš„åç§°æ¥è¯´ A ä¸­çš„ä½œç”¨åŸŸå°±ä¸º non-localã€‚\nGï¼ˆGlobalï¼‰ï¼šå½“å‰è„šæœ¬çš„æœ€å¤–å±‚ã€‚å¦‚å½“å‰æ¨¡å—çš„å…¨å±€å˜é‡ã€‚\nBï¼ˆBuilt-inï¼‰ï¼š åŒ…å«äº†å†…å»ºçš„å˜é‡/å…³é”®å­—ç­‰ï¼Œæœ€åè¢«æœç´¢ã€‚\nä½œç”¨åŸŸæŸ¥æ‰¾é¡ºåºï¼š L $\\rightarrow$ E $\\rightarrow$ G $\\rightarrow$ Bã€‚\ng_count = 0 # å…¨å±€ä½œç”¨åŸŸ def outer(): o_count = 1 # é—­åŒ…å‡½æ•°å¤–çš„å‡½æ•°ä¸­ def inner(): i_count = 2 # å±€éƒ¨ä½œç”¨åŸŸ å†…ç½®ä½œç”¨åŸŸæ˜¯é€šè¿‡ä¸€ä¸ªåä¸º builtin çš„æ ‡å‡†æ¨¡å—æ¥å®ç°çš„ï¼Œä½†æ˜¯è¿™ä¸ªå˜é‡åè‡ªèº«å¹¶æ²¡æœ‰æ”¾å…¥å†…ç½®ä½œç”¨åŸŸå†…ï¼Œæ‰€ä»¥å¿…é¡»å¯¼å…¥è¿™ä¸ªæ–‡ä»¶æ‰èƒ½å¤Ÿä½¿ç”¨å®ƒã€‚åœ¨Python3.0ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„ä»£ç æ¥æŸ¥çœ‹åˆ°åº•é¢„å®šä¹‰äº†å“ªäº›å˜é‡ï¼š\n\u0026gt;\u0026gt;\u0026gt; import builtins \u0026gt;\u0026gt;\u0026gt; dir(builtins) Python ä¸­åªæœ‰æ¨¡å—ï¼ˆmoduleï¼‰ï¼Œç±»ï¼ˆclassï¼‰ä»¥åŠå‡½æ•°ï¼ˆdefã€lambdaï¼‰æ‰ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸï¼Œå…¶å®ƒçš„ä»£ç å—ï¼ˆå¦‚ if/elif/elseã€try/exceptã€for/whileç­‰ï¼‰æ˜¯ä¸ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸçš„ï¼š\nå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡æ‹¥æœ‰ä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–çš„æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚\nå±€éƒ¨å˜é‡åªèƒ½åœ¨å…¶è¢«å£°æ˜çš„å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œè€Œå…¨å±€å˜é‡å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºèŒƒå›´å†…è®¿é—®ã€‚è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰€æœ‰åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡åç§°éƒ½å°†è¢«åŠ å…¥åˆ°ä½œç”¨åŸŸä¸­ã€‚\nglobalå’Œnonlocal global å’Œ nonlocal çš„ä½œç”¨æ˜¯è®©å†…éƒ¨ä½œç”¨åŸŸä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ã€‚\nglobal â€”â€” ä¿®æ”¹å…¨å±€å˜é‡ï¼š\nnum = 1 def fun1(): global num # éœ€è¦ä½¿ç”¨ global å…³é”®å­—å£°æ˜ print(num) num = 123 print(num) fun1() print(num) # è¾“å‡ºï¼š # 1 # 123 # 123 nonlocal â€”â€” ä¿®æ”¹åµŒå¥—ä½œç”¨åŸŸï¼ˆenclosing ä½œç”¨åŸŸï¼Œå¤–å±‚éå…¨å±€ä½œç”¨åŸŸï¼‰ä¸­çš„å˜é‡ï¼š\ndef outer(): num = 10 def inner(): nonlocal num # nonlocalå…³é”®å­—å£°æ˜ num = 100 print(num) inner() print(num) outer() # è¾“å‡ºï¼š # 100 # 100 ä¸ä½¿ç”¨ global æˆ– nonlocal ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ï¼š\na = 10 def test(): a = a + 1 print(a) test() ç»“æœï¼š\nTraceback (most recent call last): File \u0026#34;test.py\u0026#34;, line 7, in \u0026lt;module\u0026gt; test() File \u0026#34;test.py\u0026#34;, line 5, in test a = a + 1 UnboundLocalError: local variable \u0026#39;a\u0026#39; referenced before assignment å±€éƒ¨ä½œç”¨åŸŸå¼•ç”¨é”™è¯¯ï¼Œå› ä¸º test å‡½æ•°ä¸­çš„ a ä½¿ç”¨çš„æ˜¯å±€éƒ¨ï¼Œæœªå®šä¹‰ï¼Œæ— æ³•ä¿®æ”¹ã€‚\nfor x in range(1,5)\nif x \u0026gt; 2\nfor y in range(1,4)\nif y \u0026lt; 3\nx*y\n","date":"2022å¹´1æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/python-%E5%9F%BA%E7%A1%80/","series":[{"title":"Python","url":"/series/python/"}],"smallImg":"","tags":[{"title":"Python","url":"/tags/python/"}],"timestamp":1641945600,"title":"Python åŸºç¡€"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"æ­£åˆ™è¡¨è¾¾å¼è¯­æ³• â€”â€” Python æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦åºåˆ—ï¼Œèƒ½æ–¹ä¾¿åœ°æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸æŸç§æ¨¡å¼åŒ¹é…ã€‚\næ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ‹¼æ¥ã€‚\næ­£åˆ™è¡¨è¾¾å¼å¯ä»¥åŒ…å«æ™®é€šæˆ–è€…ç‰¹æ®Šå­—ç¬¦ã€‚\nç»å¤§éƒ¨åˆ†æ™®é€šå­—ç¬¦ï¼Œæ˜¯æœ€ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚å®ƒä»¬å°±åŒ¹é…è‡ªèº«ã€‚\nç‰¹æ®Šå­—ç¬¦æ—¢å¯ä»¥è¡¨ç¤ºå®ƒçš„æ™®é€šå«ä¹‰ï¼Œ ä¹Ÿå¯ä»¥å½±å“å®ƒæ—è¾¹çš„æ­£åˆ™è¡¨è¾¾å¼çš„è§£é‡Šã€‚\né‡å¤ä¿®é¥°ç¬¦ï¼ˆ*ã€+ã€?ã€{m,n}, ç­‰ï¼‰ä¸èƒ½ç›´æ¥åµŒå¥—ã€‚é¿å…äº†éè´ªå©ªåç¼€ ? ä¿®é¥°ç¬¦ï¼Œå’Œå…¶ä»–å®ç°ä¸­çš„ä¿®é¥°ç¬¦äº§ç”Ÿçš„å¤šä¹‰æ€§ã€‚è¦åº”ç”¨ä¸€ä¸ªå†…å±‚é‡å¤åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨æ‹¬å·ã€‚\nç‰¹æ®Šå­—ç¬¦ åºåˆ— è¯´æ˜ . ï¼ˆç‚¹ï¼‰åœ¨é»˜è®¤æ¨¡å¼ï¼ŒåŒ¹é…é™¤äº†æ¢è¡Œçš„ä»»æ„å­—ç¬¦ã€‚ å¦‚æœæŒ‡å®šäº†æ ‡ç­¾ DOTALLï¼Œå®ƒå°†åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ã€‚ \\ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼ˆå…è®¸ä½ åŒ¹é… '*'ã€'?'ï¼Œæˆ–è€…å…¶ä»–æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦ï¼‰ï¼Œæˆ–è€…è¡¨ç¤ºä¸€ä¸ªç‰¹æ®Šåºåˆ—ã€‚ [â€¦] ç”¨äºè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦é›†åˆã€‚\nå­—ç¬¦å¯ä»¥å•ç‹¬åˆ—å‡ºï¼š[abc]ï¼ŒåŒ¹é… 'a'ã€'b'ã€'c'ã€‚\nå¯ä»¥è¡¨ç¤ºå­—ç¬¦èŒƒå›´ï¼Œé€šè¿‡ç”¨ '-' å°†ä¸¤ä¸ªå­—ç¬¦è¿èµ·æ¥ï¼š[a-z] å°†åŒ¹é…ä»»ä½•å°å†™ ASCII å­—ç¬¦ï¼› å¯ä»¥æŒ‡å®šå¤šä¸ªèŒƒå›´ï¼š[a-zA-Z] å°†åŒ¹é…æ‰€æœ‰è‹±æ–‡å­—ç¬¦ã€‚ å¦‚æœ - è¿›è¡Œäº†è½¬ä¹‰ ï¼ˆæ¯”å¦‚ [a-z]ï¼‰æˆ–è€…å®ƒçš„ä½ç½®åœ¨é¦–ä½æˆ–è€…æœ«å°¾ï¼ˆå¦‚ [-a] æˆ– [a-]ï¼‰ï¼Œå®ƒå°±åªè¡¨ç¤ºæ™®é€šå­—ç¬¦ '-'ã€‚ ç‰¹æ®Šå­—ç¬¦åœ¨é›†åˆä¸­ï¼Œå¤±å»å®ƒçš„ç‰¹æ®Šå«ä¹‰ï¼š[(+*)] åªä¼šåŒ¹é…è¿™å‡ ä¸ªæ–‡æ³•å­—ç¬¦ '('ã€'+'ã€'*' æˆ– ')'ã€‚ å­—ç¬¦ç±»å¦‚ \\w æˆ–è€… \\S åœ¨é›†åˆå†…å¯ä»¥æ¥å—ï¼Œå®ƒä»¬å¯ä»¥åŒ¹é…çš„å­—ç¬¦ç”± ASCII æˆ–è€… LOCALE æ¨¡å¼å†³å®šã€‚\nä¸åœ¨é›†åˆèŒƒå›´å†…çš„å­—ç¬¦å¯ä»¥é€šè¿‡å–åï¼ˆ'^' ä½œä¸ºé¦–å­—ç¬¦ï¼‰æ¥è¿›è¡ŒåŒ¹é…ï¼š[^a] å°†åŒ¹é…é™¤äº† 'a' ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚ '^' å¦‚æœä¸åœ¨é›†åˆé¦–ä½ï¼Œå°±æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ã€‚\nåœ¨é›†åˆå†…è¦åŒ¹é…ä¸€ä¸ªå­—ç¬¦ ']'ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¦ä¹ˆå°†å®ƒè¿›è¡Œè½¬ä¹‰ï¼Œè¦ä¹ˆå°±æŠŠå®ƒæ”¾åˆ°é›†åˆé¦–ä½ï¼ˆå¦‚ [()[]{}] å’Œ []()[{}]ï¼‰ã€‚ åµŒå¥—é›†åˆå’Œé›†åˆæ“ä½œæ”¯æŒå¯èƒ½åœ¨æœªæ¥æ·»åŠ ã€‚å¦‚æœæœ‰å¤šä»¥çš„æƒ…å†µå‘ç”Ÿï¼Œå°†ä¼šæŠ›å‡º FutureWarningã€‚ | A|Bï¼Œ A å’Œ B å¯ä»¥æ˜¯ä»»æ„æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é… A æˆ–è€… Bã€‚ä»»æ„ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨ '|' è¿æ¥ã€‚å®ƒå¯ä»¥åœ¨é›†åˆæˆ–ç»„åˆå†…ä½¿ç”¨ã€‚ '|' æ“ä½œç¬¦ç»ä¸è´ªå©ªï¼šæ‰«æç›®æ ‡å­—ç¬¦ä¸²æ—¶ï¼Œç”± '|' åˆ†éš”å¼€çš„æ­£åˆ™æ ·å¼ä»å·¦åˆ°å³è¿›è¡ŒåŒ¹é…ã€‚å½“ä¸€ä¸ªæ ·å¼å®Œå…¨åŒ¹é…æ—¶ï¼Œè¿™ä¸ªåˆ†æ”¯å°±è¢«æ¥å—ã€‚å³ï¼Œä¸€æ—¦ A åŒ¹é…æˆåŠŸï¼Œ B å°±ä¸å†è¿›è¡ŒåŒ¹é…ï¼Œå³ä¾¿å®ƒèƒ½äº§ç”Ÿä¸€ä¸ªæ›´å¥½çš„åŒ¹é…ã€‚ å¦‚æœè¦åŒ¹é… '|' å­—ç¬¦ï¼Œä½¿ç”¨ |ï¼Œ æˆ–è€…æŠŠå®ƒåŒ…å«åœ¨å­—ç¬¦é›†é‡Œ [|]ã€‚ (â€¦) ï¼ˆç»„åˆï¼‰ï¼ŒåŒ¹é…æ‹¬å·å†…çš„ä»»æ„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶æ ‡è¯†å‡ºç»„åˆçš„å¼€å§‹å’Œç»“å°¾ã€‚ å®šä½ç¬¦ å®šä½ç¬¦ç”¨æ¥æè¿°å­—ç¬¦ä¸²æˆ–å•è¯çš„è¾¹ç•Œã€‚\nåºåˆ— è¯´æ˜ ^ ï¼ˆæ’å…¥ç¬¦å·ï¼‰åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ å¹¶ä¸”åœ¨ MULTILINE æ¨¡å¼ä¹ŸåŒ¹é…æ¢è¡Œåçš„é¦–ä¸ªç¬¦å·ã€‚ $ åŒ¹é…å­—ç¬¦ä¸²å°¾æˆ–è€…åœ¨å­—ç¬¦ä¸²å°¾çš„æ¢è¡Œç¬¦çš„å‰ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨ MULTILINE æ¨¡å¼ä¸‹ä¹Ÿä¼šåŒ¹é…æ¢è¡Œç¬¦ä¹‹å‰çš„æ–‡æœ¬ã€‚\nåœ¨ 'foo1\\nfoo2\\n' ä¸­æœç´¢ foo.$ï¼Œé€šå¸¸åŒ¹é… 'foo2'ï¼Œä½†åœ¨ MULTILINE æ¨¡å¼ä¸‹å¯ä»¥åŒ¹é…åˆ° 'foo1'ã€‚\nåœ¨ 'foo\\n' ä¸­æœç´¢ $ ä¼šæ‰¾åˆ°ä¸¤ä¸ªï¼ˆç©ºçš„ï¼‰åŒ¹é…ï¼šä¸€ä¸ªåœ¨æ¢è¡Œç¬¦ä¹‹å‰ï¼Œä¸€ä¸ªåœ¨å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚ \\A åªåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ã€‚ç›¸å½“äºé»˜è®¤æ¨¡å¼ä¸‹çš„ ^ã€‚ \\b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œã€‚å³ï¼ŒåŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œä½†åªåœ¨å•è¯å¼€å§‹æˆ–ç»“å°¾çš„ä½ç½®ã€‚\né€šå¸¸ \\b å®šä¹‰ä¸º \\w å’Œ \\W å­—ç¬¦ä¹‹é—´ï¼Œæˆ–è€… \\w å’Œå­—ç¬¦ä¸²å¼€å§‹/ç»“å°¾çš„è¾¹ç•Œã€‚\nå¦‚æœä½¿ç”¨äº† LOCALE æ ‡å¿—ï¼Œåˆ™è¯çš„è¾¹ç•Œç”±å½“å‰è¯­è¨€åŒºåŸŸè®¾ç½®ã€‚\nåœ¨å­—ç¬¦é›†åˆå†…è¡¨ç¤ºé€€æ ¼ï¼ˆå¦‚ [\\b]ï¼‰ã€‚ \\B éå•è¯è¾¹ç•ŒåŒ¹é…ã€‚å³ï¼ŒåŒ¹é…é™¤äº†å•è¯è¾¹ç•Œå¤–çš„ä»»ä½•å…¶ä»–ä½ç½®ã€‚\\B æ˜¯ \\b çš„å–éã€‚\nå¦‚æœä½¿ç”¨äº† LOCALE æ ‡å¿—ï¼Œåˆ™è¯çš„è¾¹ç•Œç”±å½“å‰è¯­è¨€åŒºåŸŸè®¾ç½®ã€‚ \\Z åªåŒ¹é…å­—ç¬¦ä¸²å°¾ã€‚ é‡å¤ä¿®é¥°ç¬¦ï¼ˆé™å®šç¬¦ï¼‰ {m}\nå¯¹å…¶ä¹‹å‰çš„æ­£åˆ™å¼æŒ‡å®šåŒ¹é… m ä¸ªé‡å¤ï¼›å°‘äº m çš„è¯å°±ä¼šå¯¼è‡´åŒ¹é…å¤±è´¥ã€‚\nè´ªå©ªä¿®é¥°ç¬¦ï¼š\n*\nå¯¹å®ƒå‰é¢çš„æ­£åˆ™å¼åŒ¹é… 0 åˆ°ä»»æ„æ¬¡é‡å¤ï¼Œ å°½é‡å¤šåœ°åŒ¹é…å­—ç¬¦ä¸²ã€‚ ç­‰ä»·äºï¼š{0,}ã€‚\n+\nå¯¹å®ƒå‰é¢çš„å­è¡¨è¾¾å¼åŒ¹é… 1 åˆ°ä»»æ„æ¬¡é‡å¤ï¼Œ å°½é‡å¤šåœ°åŒ¹é…å­—ç¬¦ä¸²ã€‚ ç­‰ä»·äºï¼š{1,}ã€‚\n?\nå¯¹å®ƒå‰é¢çš„å­è¡¨è¾¾å¼åŒ¹é… 0 åˆ° 1 æ¬¡é‡å¤ï¼Œ å°½é‡å¤šåœ°åŒ¹é…å­—ç¬¦ä¸²ã€‚ ç­‰ä»·äºï¼š{0,1}ã€‚\n{m,}\nå¯¹å®ƒå‰é¢çš„å­è¡¨è¾¾å¼è¿›è¡Œ m åˆ°ä»»æ„æ¬¡é‡å¤ï¼Œ å°½é‡å¤šåœ°åŒ¹é…å­—ç¬¦ä¸²ã€‚\n{m,n}ï¼ˆä¸­é—´ä¸è¦æœ‰ç©ºç™½å­—ç¬¦ï¼‰\nå¯¹å®ƒå‰é¢çš„å­è¡¨è¾¾å¼è¿›è¡Œ m åˆ° n æ¬¡åŒ¹é…ï¼Œåœ¨ m å’Œ n ä¹‹é—´å–å°½é‡å¤šã€‚\néè´ªå©ªä¿®é¥°ç¬¦ï¼š\n*?ã€+?ã€??ã€{m,}?ã€{m,n}?ï¼š\nåœ¨ä¿®é¥°ç¬¦ä¹‹åæ·»åŠ  ? å°†ä½¿æ ·å¼ä»¥éè´ªå©ªæ–¹å¼ï¼Œæˆ–è€… :dfn: æœ€å°æ–¹å¼è¿›è¡ŒåŒ¹é…ï¼› å°½é‡å°‘çš„å­—ç¬¦å°†ä¼šè¢«åŒ¹é…ã€‚\næ‰©å±•æ ‡è®°æ³• (?â€¦)``'?' ä»…è·Ÿéš '(' å¹¶æ— å«ä¹‰ã€‚'?' åé¢çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å†³å®šäº†è¿™ä¸ªæ„å»ºé‡‡ç”¨ä»€ä¹ˆæ ·çš„è¯­æ³•ã€‚è¿™ç§æ‰©å±•é€šå¸¸å¹¶ä¸åˆ›å»ºæ–°çš„ç»„åˆï¼› (?P\u0026lt;name\u0026gt;...) æ˜¯å”¯ä¸€çš„ä¾‹å¤–ã€‚\n(?aiLmsux)\nåœ¨ (? åå¸¦ 'a'ã€ 'i'ã€'L'ã€'m'ã€'s'ã€'u'ã€'x' ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªã€‚(?aimsx) å°†ä¼šåŒ¹é…ç©ºå­—ç¬¦ä¸²ã€‚\nè¿™äº›å­—ç¬¦ä»£è¡¨å†…è”æ ‡è®°ï¼ˆä¸ re æ¨¡å—ä¸­çš„ RegexFlag æ ‡å¿—å¸¸é‡å¯¹åº”ï¼‰ã€‚\n'a' â€”â€” re.A æ¨¡å¼ï¼›\n'i' â€”â€” re.I æ¨¡å¼ï¼›\n'L' â€”â€” re.L æ¨¡å¼ï¼›\n'm' â€”â€” re.M æ¨¡å¼ï¼›\n's' â€”â€” re.S æ¨¡å¼ï¼›\n'u' â€”â€” re.U æ¨¡å¼ï¼›\n'x' â€”â€” re.X æ¨¡å¼ã€‚\n(?:â€¦)\næ­£åˆ™æ‹¬å·çš„éæ•è·ç‰ˆæœ¬ã€‚ åŒ¹é…åœ¨æ‹¬å·å†…çš„ä»»ä½•æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†è¯¥åˆ†ç»„æ‰€åŒ¹é…çš„å­å­—ç¬¦ä¸²ä¸èƒ½åœ¨æ‰§è¡ŒåŒ¹é…åè¢«è·å–æˆ–æ˜¯ä¹‹ååœ¨æ¨¡å¼ä¸­è¢«å¼•ç”¨ã€‚\n(?aiLmsux-imsx:â€¦)``'?' åé¢ '-' å‰é¢å¸¦ 'a'ã€ 'i'ã€'L'ã€'m'ã€'s'ã€'u'ã€'x' ä¸­çš„ 0 ä¸ªæˆ–å¤šä¸ªã€‚'-' åé¢ ':' å‰é¢å¸¦ 'i'ã€'m'ã€'s'ã€'x' ä¸­çš„ä¸€åˆ°å¤šä¸ªã€‚è¡¨ç¤ºè®¾ç½®æˆ–è€…å»é™¤ï¼ˆ'-' åæŒ‡å®šå»é™¤çš„æ ‡è®°ï¼‰ç›¸åº”æ ‡è®°ã€‚\nä¸ (?aiLmsux) ä¸€æ ·ï¼Œè¿™äº›å­—ç¬¦åˆ†åˆ«ä»£è¡¨äº†ä¸åŒçš„å†…è”æ ‡è®°ã€‚\n'a'ã€'L' å’Œ 'u' ä½œä¸ºå†…è”æ ‡è®°æ˜¯ç›¸äº’æ’æ–¥çš„ï¼Œ æ‰€ä»¥å®ƒä»¬ä¸èƒ½ç»“åˆåœ¨ä¸€èµ·ï¼Œæˆ–è€…è·Ÿéš '-' ã€‚ å½“ä»–ä»¬ä¸­çš„æŸä¸ªå‡ºç°åœ¨å†…è”ç»„ä¸­ï¼Œå®ƒå°±è¦†ç›–äº†æ‹¬å·ç»„å†…çš„åŒ¹é…æ¨¡å¼ã€‚Python3.7 æ¥å— 'a'ã€'L' å’Œ 'u' å­˜åœ¨äºä¸€ä¸ªç»„åˆã€‚ è¿™ç§æ–¹å¼åªè¦†ç›–ç»„åˆå†…åŒ¹é…ï¼Œæ‹¬å·å¤–çš„åŒ¹é…æ¨¡å¼ä¸å—å½±å“ã€‚\n(?P\u0026lt;name\u0026gt;â€¦)\nï¼ˆå‘½åç»„åˆï¼‰ç±»ä¼¼æ­£åˆ™ç»„åˆï¼Œä½†æ˜¯åŒ¹é…åˆ°çš„å­ä¸²ç»„åœ¨å¤–éƒ¨å¯ä»¥é€šè¿‡å®šä¹‰çš„ name æ¥è·å–çš„ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡æ•°å­—è·å–ï¼‰ã€‚ç»„åˆåå¿…é¡»æ˜¯æœ‰æ•ˆçš„ Python æ ‡è¯†ç¬¦ï¼Œå¹¶ä¸”æ¯ä¸ªç»„åˆååªèƒ½ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å®šä¹‰ï¼Œåªèƒ½å®šä¹‰ä¸€æ¬¡ã€‚ å‘½åç»„åˆå¯ä»¥åœ¨ä¸‰ç§ä¸Šä¸‹æ–‡ä¸­å¼•ç”¨ï¼š\nå¼•ç”¨ç»„åˆ \u0026ldquo;quote\u0026rdquo; çš„ä¸Šä¸‹æ–‡ å¼•ç”¨æ–¹æ³• åœ¨æ­£åˆ™å¼è‡ªèº«å†… (?P=quote) æˆ– \\1 å¤„ç†åŒ¹é…å¯¹è±¡ m m.group('quote') æˆ– m.end('quote')ï¼ˆç­‰ï¼‰ ä¼ é€’åˆ° re.sub() é‡Œçš„ repl å‚æ•°ä¸­ \\g\u0026lt;quote\u0026gt; æˆ– \\g\u0026lt;1\u0026gt; æˆ– \\1 (?P=name)\nåå‘å¼•ç”¨ä¸€ä¸ªå‘½åç»„åˆï¼›å®ƒåŒ¹é…å‰é¢åä¸º name çš„å‘½åç»„ä¸­åŒ¹é…åˆ°çš„ä¸²åŒæ ·çš„å­—ä¸²ï¼ˆå¦‚ä¸Šæ‰€ç¤ºï¼‰ã€‚\n(?#â€¦)\næ³¨é‡Šï¼Œé‡Œé¢çš„å†…å®¹ä¼šè¢«å¿½ç•¥ã€‚\n(?=â€¦)\nlookahead assertionï¼ŒåŒ¹é… â€¦ çš„å†…å®¹ï¼Œä½†æ˜¯å¹¶ä¸æ¶ˆè´¹æ ·å¼çš„å†…å®¹ã€‚å¦‚ï¼Œabc(?=def) å½“ 'abc' åé¢æ˜¯ 'def' çš„æ—¶å€™ï¼Œæ‰åŒ¹é… 'abc'ã€‚\n(?!â€¦)\nnegative lookahead assertionï¼ˆå‰è§†å–åï¼‰ï¼ŒåŒ¹é… â€¦ ä¸ç¬¦åˆçš„æƒ…å†µã€‚å¦‚ï¼Œabc(?!def) å½“ 'abc' åé¢ä¸æ˜¯ 'def' çš„æ—¶å€™ï¼Œæ‰åŒ¹é… 'abc'ã€‚\n(?\u0026lt;=â€¦)\n:dfn:positive lookbehind assertionï¼ˆæ­£å‘åè§†æ–­å®šï¼‰ï¼ŒåŒ¹é…å­—ç¬¦ä¸²çš„å½“å‰ä½ç½®ï¼Œå®ƒçš„å‰é¢åŒ¹é… â€¦ çš„å†…å®¹åˆ°å½“å‰ä½ç½®ã€‚å¦‚ï¼Œ(?\u0026lt;=abc)def å½“ 'def' å‰é¢æ˜¯ 'abc' æ—¶åŒ¹é… 'def'ï¼Œè¯¥æ ·å¼æ˜¯ä» 'd' å¼€å§‹å¾€å›æœç´¢çš„ã€‚ åŒ…å«çš„åŒ¹é…æ ·å¼å¿…é¡»æ˜¯å®šé•¿çš„ï¼ˆ abc æˆ– a|b æ˜¯å…è®¸çš„ï¼Œä½†æ˜¯ a* å’Œ a{3,4} ä¸å¯ä»¥ï¼‰ã€‚\n(?\u0026lt;!â€¦)\nnegative lookbehind assertion ï¼ˆåè§†æ–­å®šå–éï¼‰ï¼ŒåŒ¹é…å½“å‰ä½ç½®ä¹‹å‰ä¸æ˜¯ â€¦ çš„æ ·å¼ã€‚\nåŒ…å«çš„æ ·å¼åŒ¹é…å¿…é¡»æ˜¯å®šé•¿çš„ã€‚\nç”± negative lookbehind assertion å¼€å§‹çš„æ ·å¼å¯ä»¥ä»å­—ç¬¦ä¸²æœç´¢å¼€å§‹çš„ä½ç½®è¿›è¡ŒåŒ¹é…ã€‚\n(?(id/name)yes-pattern|no-pattern)\nå¦‚æœç»™å®šçš„ id æˆ– name å­˜åœ¨ï¼Œå°†ä¼šå°è¯•åŒ¹é… yes-pattern ï¼Œå¦åˆ™å°±å°è¯•åŒ¹é… no-patternï¼ˆno-pattern å¯é€‰ï¼Œå¯ä»¥è¢«å¿½ç•¥ï¼‰ã€‚\n\\\\+æ™®é€šå­—ç¬¦ \\ + ï¼ˆASCII æ•°å­—æˆ–å­—æ¯ï¼‰ï¼š\nåºåˆ— è¯´æ˜ \\number åŒ¹é…æ•°å­—ä»£è¡¨çš„ç»„åˆã€‚æ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ‹¬å·æ˜¯ä¸€ä¸ªç»„åˆï¼Œç»„åˆä» 1 å¼€å§‹ç¼–å·ã€‚\nå¦‚ï¼š(.+) \\1 åŒ¹é… 'the the' æˆ–è€… '55 55'ã€‚\nè¿™ä¸ªç‰¹æ®Šåºåˆ—åªèƒ½ç”¨äºåŒ¹é…å‰é¢ 99 ä¸ªç»„åˆã€‚\nå¦‚æœ number çš„ç¬¬ä¸€ä¸ªæ•°ä½æ˜¯ 0ï¼Œ æˆ–è€… number æ˜¯ä¸‰ä¸ªå…«è¿›åˆ¶æ•°ï¼Œå®ƒå°†ä¸ä¼šè¢«çœ‹ä½œæ˜¯ä¸€ä¸ªç»„åˆï¼Œè€Œæ˜¯å…«è¿›åˆ¶çš„æ•°å­—å€¼ã€‚ \\A åªåŒ¹é…å­—ç¬¦ä¸²å¼€å§‹ã€‚ \\b ï¼ˆå•è¯è¾¹ç•Œå®šä½ç¬¦ï¼‰åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œä½†åªåœ¨å•è¯å¼€å§‹æˆ–ç»“å°¾çš„ä½ç½®ã€‚\nåœ¨å­—ç¬¦é›†åˆå†…è¡¨ç¤ºé€€æ ¼ï¼ˆå¦‚ [\\b]ï¼‰ã€‚ \\B ï¼ˆéå•è¯è¾¹ç•Œå®šä½ç¬¦ï¼‰åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œä½†ä¸èƒ½åœ¨è¯çš„å¼€å¤´æˆ–è€…ç»“å°¾ã€‚ \\d å¯¹äº Unicodeï¼ˆstrï¼‰æ ·å¼ï¼š\nåŒ¹é…ä»»ä½• Unicode åè¿›åˆ¶æ•°ï¼ˆå°±æ˜¯åœ¨ Unicode å­—ç¬¦ç›®å½• [Nd] é‡Œçš„å­—ç¬¦ï¼ŒåŒ…æ‹¬äº† [0-9] ï¼Œå’Œå¾ˆå¤šå…¶ä»–çš„æ•°å­—å­—ç¬¦ï¼‰ã€‚å¦‚æœè®¾ç½®äº† ASCII æ ‡å¿—ï¼Œå°±åªåŒ¹é… [0-9] ã€‚\nå¯¹äº8ä½ï¼ˆbytesï¼‰æ ·å¼ï¼š\nåŒ¹é…ä»»ä½•åè¿›åˆ¶æ•°ï¼ˆ[0-9]ï¼‰ã€‚ \\D åŒ¹é…ä»»ä½•éåè¿›åˆ¶æ•°å­—çš„å­—ç¬¦ï¼ˆ\\d å–éï¼‰ã€‚\nå¦‚æœè®¾ç½®äº† ASCII æ ‡å¿—ï¼Œå°±ç›¸å½“äº [^0-9] ã€‚ \\s å¯¹äº Unicodeï¼ˆstrï¼‰æ ·å¼ï¼š\nåŒ¹é…ä»»ä½• Unicode ç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ [ \\t\\n\\r\\f\\v] ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–å­—ç¬¦ï¼Œæ¯”å¦‚ä¸åŒè¯­è¨€æ’ç‰ˆè§„åˆ™çº¦å®šçš„ä¸æ¢è¡Œç©ºæ ¼ï¼‰ã€‚å¦‚æœ ASCII è¢«è®¾ç½®ï¼Œå°±åªåŒ¹é… [ \\t\\n\\r\\f\\v] ã€‚\nå¯¹äº8ä½ï¼ˆbytesï¼‰æ ·å¼ï¼š\nåŒ¹é…ASCIIä¸­çš„ç©ºç™½å­—ç¬¦ï¼ˆ[ \\t\\n\\r\\f\\v]ï¼‰ ã€‚ \\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ï¼ˆ\\s å–éï¼‰ã€‚\nå¦‚æœè®¾ç½®äº† ASCII æ ‡å¿—ï¼Œå°±ç›¸å½“äº [^ \\t\\n\\r\\f\\v] ã€‚ \\w å¯¹äº Unicodeï¼ˆstrï¼‰æ ·å¼ï¼š\nåŒ¹é… Unicode è¯è¯­çš„å­—ç¬¦ï¼ŒåŒ…å«äº†å¯ä»¥æ„æˆè¯è¯­çš„ç»å¤§éƒ¨åˆ†å­—ç¬¦ï¼Œä¹ŸåŒ…æ‹¬æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚å¦‚æœè®¾ç½®äº† ASCII æ ‡å¿—ï¼Œå°±åªåŒ¹é… [a-zA-Z0-9_] ã€‚\nå¯¹äº8ä½ï¼ˆbytesï¼‰æ ·å¼ï¼š\nåŒ¹é… ASCII å­—ç¬¦ä¸­çš„æ•°å­—å’Œå­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œå°±æ˜¯ [a-zA-Z0-9_] ã€‚å¦‚æœè®¾ç½®äº† LOCALE æ ‡è®°ï¼Œå°±åŒ¹é…å½“å‰è¯­è¨€åŒºåŸŸçš„æ•°å­—å’Œå­—æ¯å’Œä¸‹åˆ’çº¿ã€‚ \\W åŒ¹é…éå•è¯å­—ç¬¦çš„å­—ç¬¦ï¼ˆä¸ \\w æ­£ç›¸åï¼‰ã€‚\nå¦‚æœä½¿ç”¨äº† ASCII æ ‡å¿—ï¼Œå°±ç­‰ä»·äº [^a-zA-Z0-9_]ã€‚\nå¦‚æœä½¿ç”¨äº† LOCALE æ ‡å¿—ï¼Œåˆ™ä¼šåŒ¹é…å½“å‰åŒºåŸŸä¸­æ—¢éå­—æ¯æ•°å­—ä¹Ÿéä¸‹åˆ’çº¿çš„å­—ç¬¦ã€‚ \\Z åªåŒ¹é…å­—ç¬¦ä¸²å°¾ã€‚\nå¦‚æœæ™®é€šå­—ç¬¦ä¸æ˜¯ ASCII æ•°ä½æˆ–è€… ASCII å­—æ¯ï¼Œé‚£ä¹ˆæ­£åˆ™æ ·å¼å°†åŒ¹é…ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå¦‚ï¼Œ\\$ åŒ¹é…å­—ç¬¦ '$'ï¼‰ã€‚ ç»å¤§éƒ¨åˆ† Python çš„æ ‡å‡†è½¬ä¹‰å­—ç¬¦ä¹Ÿè¢«æ­£åˆ™è¡¨è¾¾å¼åˆ†æå™¨æ”¯æŒï¼š\n\\a \\b \\f \\n \\N \\r \\t \\u \\U \\v \\x \\\\ '\\u'ã€'\\U' å’Œ '\\N' è½¬ä¹‰åºåˆ—åªåœ¨ Unicode æ¨¡å¼ä¸­å¯è¢«è¯†åˆ«ã€‚ åœ¨ bytes æ¨¡å¼ä¸­å®ƒä»¬ä¼šå¯¼è‡´é”™è¯¯ã€‚æœªçŸ¥çš„ ASCII å­—æ¯è½¬ä¹‰åºåˆ—ä¿ç•™åœ¨æœªæ¥ä½¿ç”¨ï¼Œä¼šè¢«å½“ä½œé”™è¯¯æ¥å¤„ç†ã€‚\nå…«è¿›åˆ¶è½¬ä¹‰åŒ…å«ä¸ºä¸€ä¸ªæœ‰é™å½¢å¼ã€‚å¦‚æœé¦–ä½æ•°å­—æ˜¯ 0ï¼Œ æˆ–è€…æœ‰ä¸‰ä¸ªå…«è¿›åˆ¶æ•°ä½ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºå®ƒæ˜¯å…«è¿›åˆ¶è½¬ä¹‰ã€‚å…¶ä»–çš„æƒ…å†µï¼Œå°±çœ‹ä½œæ˜¯ç»„å¼•ç”¨ã€‚å¯¹äºå­—ç¬¦ä¸²æ–‡æœ¬ï¼Œå…«è¿›åˆ¶è½¬ä¹‰æœ€å¤šæœ‰ä¸‰ä¸ªæ•°ä½é•¿ã€‚\nre æ¨¡å— Python çš„ re æ¨¡å—æä¾›äº†ä¸ Perl è¯­è¨€ç±»ä¼¼çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ“ä½œã€‚\nå‡½æ•° åŒ¹é…ä¸€é¡¹ åœ¨ re æ¨¡å—ä¸­ï¼Œæœ‰ä¸‰ä¸ªå‡½æ•°ç”¨äºæŸ¥æ‰¾å¹¶è¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼š\nre.match() â€”â€” è¿”å›ä¸€ä¸ªä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…çš„å¯¹è±¡ã€‚\nre.search() â€”â€” è¿”å›æ•´ä¸ªå­—ç¬¦ä¸²ä¸­ä»»æ„ä½ç½®ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ã€‚\nre.fullmatch() â€”â€” æ•´ä¸ªå­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼å®Œå…¨åŒ¹é…ã€‚\nmatch() å‡½æ•° re.match() å°è¯•ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…ä¸€ä¸ªæ¨¡å¼ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.match(pattern, string, flags=0) å‚æ•°ï¼š\nå‚æ•° æè¿° pattern åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ string è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ flags æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ã€‚ è¿”å›å€¼ï¼š\nåŒ¹é…æˆåŠŸï¼Œre.match() å‡½æ•°è¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ï¼›å¦åˆ™è¿”å› Noneã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; import re \u0026gt;\u0026gt;\u0026gt; re.match(\u0026#39;abc\u0026#39;, \u0026#39;abcdefg\u0026#39;) # åœ¨èµ·å§‹ä½ç½®åŒ¹é… \u0026lt;_sre.SRE_Match object; span=(0, 3), match=\u0026#39;abc\u0026#39;\u0026gt; \u0026gt;\u0026gt;\u0026gt; re.match(\u0026#39;efg\u0026#39;, \u0026#39;abcdefg\u0026#39;) # ä¸åœ¨èµ·å§‹ä½ç½®åŒ¹é… None search() å‡½æ•° re.search() æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.search(pattern, string, flags=0) å‚æ•°ç”¨æ³•ä¸ re.match() ç±»ä¼¼ã€‚åŒ¹é…æˆåŠŸï¼Œre.search() æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ï¼›å¦åˆ™è¿”å› Noneã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; import re \u0026gt;\u0026gt;\u0026gt; re.search(\u0026#39;abc\u0026#39;, \u0026#39;abcdefg\u0026#39;) # åœ¨èµ·å§‹ä½ç½®åŒ¹é… \u0026lt;_sre.SRE_Match object; span=(0, 3), match=\u0026#39;abc\u0026#39;\u0026gt; \u0026gt;\u0026gt;\u0026gt; re.search(\u0026#39;efg\u0026#39;, \u0026#39;abcdefg\u0026#39;) # ä¸åœ¨èµ·å§‹ä½ç½®åŒ¹é… \u0026lt;_sre.SRE_Match object; span=(4, 7), match=\u0026#39;efg\u0026#39;\u0026gt; fullmatch() å‡½æ•° fullmatch() å°†æ•´ä¸ªå­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.fullmatch(pattern, string, flags=0) å‚æ•°ç”¨æ³•ä¸ re.match() ç±»ä¼¼ã€‚å¦‚æœ string ä¸ pattern å®Œå…¨åŒ¹é…ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ªåŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ï¼›å¦åˆ™è¿”å› Noneã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; import re \u0026gt;\u0026gt;\u0026gt; re.fullmatch(\u0026#39;abc\u0026#39;, \u0026#39;abcdefg\u0026#39;) # åœ¨èµ·å§‹ä½ç½®åŒ¹é… None \u0026gt;\u0026gt;\u0026gt; re.fullmatch(\u0026#39;abcdefg\u0026#39;, \u0026#39;abcdefg\u0026#39;) # åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸² \u0026lt;_sre.SRE_Match object; span=(0, 7), match=\u0026#39;abcdefg\u0026#39;\u0026gt; åŒ¹é…å¤šé¡¹ æœ‰ä¸¤ä¸ªå‡½æ•°ç”¨äºæŸ¥æ‰¾å¹¶è¿”å›åŒ¹é…çš„å¤šä¸ªåŒ¹é…å¯¹è±¡ï¼š\nre.findall â€”â€” åœ¨å­—ç¬¦ä¸²çš„ä»»æ„ä½ç½®åŒ¹é…ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰åŒ¹é…å¯¹è±¡çš„åˆ—è¡¨ã€‚\nre.finditer â€”â€” åœ¨å­—ç¬¦ä¸²çš„ä»»æ„ä½ç½®åŒ¹é…ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰åŒ¹é…å¯¹è±¡çš„è¿­ä»£å™¨ã€‚\nfinall() finall() åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.findall(pattern, string, flags=0) å‚æ•°ï¼š\nå‚æ•° æè¿° pattern åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ string è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ flags æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ã€‚ è¿”å›å€¼ï¼š\nè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«äº†æ‰€æœ‰åŒ¹é…å¯¹è±¡ï¼›å¦‚æœæ²¡æœ‰ä»»ä½•åŒ¹é…é¡¹ï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ã€‚\nfinditer() ä¸ finall() ç±»ä¼¼ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.finditer(pattern, string, flags=0) è¯¥å‡½æ•°è¿”å›çš„æ˜¯è¿­ä»£å™¨ã€‚\nå¦‚æœå¯èƒ½å­˜åœ¨å¤§é‡çš„åŒ¹é…é¡¹çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ finditer()ã€‚\nsplit() æ­£åˆ™åˆ†å‰² re.split() æŒ‰ç…§èƒ½å¤ŸåŒ¹é…çš„å­ä¸²å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š\nre.split(pattern, string[, maxsplit=0, flags=0]) å‚æ•°ï¼š\nå‚æ•° æè¿° pattern åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ string è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ maxsplit æœ€å¤§åˆ†å‰²æ¬¡æ•°ï¼Œmaxsplit=1 åˆ†å‰²ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º 0ï¼Œä¸é™åˆ¶æ¬¡æ•°ã€‚ flags æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ã€‚ è¿”å›å€¼ï¼š\nè¿”å›ä¸€ä¸ªç”¨ patterm æ¨¡å¼åŒ¹é…çš„å­—ç¬¦åˆ†å‰²çš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚å¦‚æœæŸ¥æ‰¾ä¸åˆ°ä»»ä½•åŒ¹é…ï¼Œåˆ™è¿”å›ä¸€ä¸ªä»…åŒ…å« string çš„åˆ—è¡¨ã€‚\nstr æ¨¡å—ä¸‹ä¹Ÿæœ‰ä¸€ä¸ª split() å‡½æ•°ï¼Œä½†å®ƒå¹¶ä¸æ”¯æŒæ­£åˆ™åˆ†å‰²ã€‚\næ›¿æ¢ æœ‰ä¸¤ä¸ªæ›¿æ¢å‡½æ•°ï¼šre.sub() å’Œ re.subn()ã€‚\nre.sub(pattern, repl, string, count=0, flags=0) re.subn(pattern, repl, string, count=0, flags=0) å‚æ•°ï¼š\nå‚æ•° æè¿° pattern åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ repl æ›¿æ¢å†…å®¹ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ã€‚å¦‚æœ repl ä¸ºå‡½æ•°ï¼Œåªèƒ½æœ‰ä¸€ä¸ªåŒ¹é…å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ string è¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ count æœ€å¤§æ›¿æ¢æ¬¡æ•°ã€‚ flags æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ã€‚ repl æ›¿æ¢æ‰ string ä¸­è¢« pattern åŒ¹é…çš„å­—ç¬¦ã€‚\nè¿”å›å€¼ï¼š\nre.sub() è¿”å›ä¸€ä¸ªæ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚å¦‚æœ string ä¸­æ²¡æœ‰ä»»ä½•åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› stringã€‚\nre.subn() è¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«äº†æ›¿æ¢åçš„å­—ç¬¦ä¸²å’Œæ›¿æ¢æ¬¡æ•°ï¼š(str, n)ã€‚\nexcape() è½¬ä¹‰å‡½æ•° re.exvape() å‡½æ•°å¯ä»¥è½¬ä¹‰å‚æ•° pattern ä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€‚\nre.exvape(pattern) Exampleï¼š\n\u0026gt;\u0026gt;\u0026gt; print(re.escape(\u0026#39;http://www.python.org\u0026#39;)) http://www\\.python\\.org Python3.3ï¼š_ ä¸å†è¢«è½¬ä¹‰ã€‚\nPython3.7ï¼šåªæœ‰åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦æ‰ä¼šè¢«è½¬ä¹‰ã€‚ å› æ­¤ï¼Œ !ã€\u0026quot;ã€%ã€'ã€,ã€/ã€:ã€;\u0026lt;\u0026rsquo;ã€=\u0026gt;\u0026rsquo;ã€@ å’Œ ` å°†ä¸å†ä¼šè¢«è½¬ä¹‰ã€‚\nä½¿ç”¨ re.exvape() å‡½æ•°å¾ˆå®¹æ˜“å‡ºç°è½¬ä¹‰é”™è¯¯çš„é—®é¢˜ï¼Œæ‰€ä»¥å¹¶ä¸å»ºè®®ä½¿ç”¨å®ƒè½¬ä¹‰ã€‚\npurge() æ¸…é™¤æ­£åˆ™è¡¨è¾¾å¼ç¼“å­˜ re.purge() ç”¨äºæ¸…é™¤æ­£åˆ™è¡¨è¾¾å¼çš„ç¼“å­˜ã€‚å®ƒæ²¡æœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚\nRegexFlag æ ‡å¿—å¸¸é‡ re.ASCIIï¼š\nç®€å†™ï¼šre.Aã€‚\nè®© \\w, \\W, \\b, \\B, \\d, \\D, \\s å’Œ \\S åªåŒ¹é… ASCII ç¼–ç æ”¯æŒçš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ Unicodeã€‚è¿™åªå¯¹ Unicode æ ·å¼ï¼ˆPython3 é»˜è®¤ï¼‰æœ‰æ•ˆï¼Œä¼šè¢« byte æ ·å¼å¿½ç•¥ã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; re.search(r\u0026#39;\\w+\u0026#39;, \u0026#39;ä¸­æ–‡å­—ç¬¦å’ŒASCII\u0026#39;, re.A) \u0026lt;_sre.SRE_Match object; span=(5, 10), match=\u0026#39;ASCII\u0026#39;\u0026gt; å¯¹åº”å†…è”æ ‡è®°ï¼š(?a) ã€‚\nre.DEBUGï¼š\næ˜¾ç¤ºç¼–è¯‘æ—¶çš„ debug ä¿¡æ¯ï¼Œæ²¡æœ‰å†…è”æ ‡è®°ã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; re.search(r\u0026#39;.*\u0026#39;, \u0026#39;æ˜¾ç¤ºdebugä¿¡æ¯\u0026#39;, re.DEBUG) MAX_REPEAT 0 MAXREPEAT ANY None \u0026lt;_sre.SRE_Match object; span=(0, 9), match=\u0026#39;æ˜¾ç¤ºdebugä¿¡æ¯\u0026#39;\u0026gt; å¯¹åº”å†…è”æ ‡è®°ï¼š(?i) ã€‚\nre.IGNORECASEï¼š\nç®€å†™ï¼šre.Iã€‚\nè¿›è¡Œå¿½ç•¥å¤§å°å†™åŒ¹é…ã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; re.findall(r\u0026#39;[a-z]\u0026#39;, \u0026#39;å¤§å†™å­—æ¯ï¼šABCDE å°å†™å­—æ¯ï¼šabcde\u0026#39;, re.I) [\u0026#39;A\u0026#39;, \u0026#39;B\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;D\u0026#39;, \u0026#39;E\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;] re.LOCALEï¼š\nç®€å†™ï¼šre.Lã€‚\nè¯­è¨€ä¾èµ–ï¼Œç”±å½“å‰è¯­è¨€åŒºåŸŸå†³å®š \\w, \\W, \\b, \\B å’Œå¤§å°å†™æ•æ„ŸåŒ¹é…ã€‚è¿™ä¸ªæ ‡è®°åªèƒ½å¯¹ byte æ ·å¼æœ‰æ•ˆã€‚è¿™ä¸ªæ ‡è®°å®˜æ–¹å¹¶ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºè¯­è¨€åŒºåŸŸæœºåˆ¶å¾ˆä¸å¯é ï¼Œå®ƒä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ª â€œä¹ æƒ¯â€ï¼Œè€Œä¸”åªå¯¹ 8 ä½å­—èŠ‚æœ‰æ•ˆã€‚\nå¯¹åº”å†…è”æ ‡è®°ï¼š(?L) ã€‚\nre.MULTILINEï¼š\nç®€å†™ï¼šre.Mã€‚\nå¤šè¡Œæ¨¡å¼ï¼Œæ ·å¼å­—ç¬¦ '^' åŒ¹é…æ¯ä¸€ä¸ªè¡Œå¼€å§‹ï¼ˆå­—ç¬¦ä¸²çš„å¼€å§‹å’Œæ¢è¡Œç¬¦åç´§è·Ÿçš„ç¬¦å·ï¼‰ï¼›æ ·å¼å­—ç¬¦ '$' åŒ¹é…æ¯ä¸€ä¸ªè¡Œç»“å°¾ï¼ˆå­—ç¬¦ä¸²ç»“å°¾å’Œæ¢è¡Œç¬¦å‰é¢çš„ç¬¦å·ï¼‰ã€‚\né»˜è®¤æƒ…å†µä¸‹ä¸æ”¯æŒæ¢è¡Œç¬¦ç‰¹æ€§ï¼Œ'^' åŒ¹é…å­—ç¬¦ä¸²å¼€å§‹ï¼Œ'$' åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; re.findall(r\u0026#39;^.*$\u0026#39;, \u0026#39;ç¬¬1è¡Œ\\nç¬¬2è¡Œ\\nç¬¬3è¡Œ\u0026#39;, re.M) [\u0026#39;ç¬¬1è¡Œ\u0026#39;, \u0026#39;ç¬¬2è¡Œ\u0026#39;, \u0026#39;ç¬¬3è¡Œ\u0026#39;] å¯¹åº”å†…è”æ ‡è®°ï¼š(?m)ã€‚\nre.DOTALLï¼š\nç®€å†™ï¼šre.Sã€‚\nè®© '.' ç‰¹æ®Šå­—ç¬¦åŒ¹é…å…¨éƒ¨å­—ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œ'.' ä»…åŒ¹é…é™¤äº†æ¢è¡Œç¬¦çš„å…¶ä»–ä»»æ„å­—ç¬¦ã€‚\nå¯¹åº”å†…è”æ ‡è®°ï¼š(?s) ã€‚\nre.VERBOSEï¼š\nç®€å†™ï¼šre.Xã€‚\nå†—é•¿æ¨¡å¼ï¼Œå…è®¸åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ¢è¡Œå’Œæ·»åŠ æ³¨é‡Šã€‚ è¯¥æ¨¡å¼ä¸‹ç©ºç™½ç¬¦å·ä¼šè¢«å¿½ç•¥ï¼Œé™¤éåœ¨ä¸€ä¸ªå­—ç¬¦é›†åˆä¸­æˆ–è€…ç”±åæ–œæ è½¬ä¹‰ï¼Œæˆ–è€…åœ¨ *?ã€(?:ã€(?P\u0026lt;â€¦\u0026gt; åˆ†ç»„ä¹‹å†…ã€‚ å½“ä¸€ä¸ªè¡Œå†…æœ‰ # ä¸åœ¨å­—ç¬¦é›†å’Œè½¬ä¹‰åºåˆ—ï¼Œé‚£ä¹ˆå®ƒä¹‹åçš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯æ³¨é‡Šã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; re.search(r\u0026#39;\u0026#39;\u0026#39;\\d + # the integral part ... \\. # the decimal point ... \\d * # some fractional digits\u0026#39;\u0026#39;\u0026#39;, ... \u0026#39;åœ†å‘¨ç‡ï¼š3.14\u0026#39;, re.X) \u0026lt;_sre.SRE_Match object; span=(4, 8), match=\u0026#39;3.14\u0026#39;\u0026gt; å¯¹åº”å†…è”æ ‡è®°ï¼š(?x) ã€‚\nre.UNICODEï¼š\nç®€å†™ï¼šre.Uã€‚\nåŒ¹é… Unicode ç¼–ç æ”¯æŒçš„å­—ç¬¦ï¼Œæ˜¯ Python3 é»˜è®¤çš„å­—ç¬¦ä¸²æ¨¡å¼ã€‚è™½ç„¶ä¿ç•™ç€ï¼Œä½†å¯¹ Python3 æ¥è¯´æ˜¯ä¸ªå†—ä½™çš„å¸¸é‡ã€‚\nre.TEMPLATEï¼š\nç®€å†™ï¼šre.Tã€‚\nre æ¨¡å—çš„æºç æ˜¯è¿™æ ·æè¿°è¯¥å¸¸é‡çš„ï¼ˆå®˜æ–¹æ–‡æ¡£ä¸­å¹¶æ²¡æœ‰å…·ä½“çš„æè¿°ï¼‰ï¼š\nTEMPLATE = T = sre_compile.SRE_FLAG_TEMPLATE # disable backtracking æ­£åˆ™å¯¹è±¡ Pattern ä½¿ç”¨ compile() å’Œ template() å¯ä»¥å°†æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼ˆPatternï¼Œæ­£åˆ™å¯¹è±¡ï¼‰ã€‚\nre.compile() çš„è¯­æ³•å¦‚ä¸‹ï¼š\nre.compile(pattern, flags=0) å‚æ•° æè¿° pattern è¦è½¬åŒ–ä¸ºæ­£åˆ™å¯¹è±¡çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ flags æ ‡å¿—ä½ï¼Œç”¨äºæ§åˆ¶æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ–¹å¼ã€‚ å¯ä»¥é€šè¿‡ä½çš„ ORï¼ˆ'|'ï¼‰æ“ä½œæ¥ç»“åˆå¤šä¸ªæ¨¡å¼ã€‚ Exampleï¼š\n\u0026gt;\u0026gt;\u0026gt; pattern_obj = re.compile(r\u0026#39;abc\u0026#39;) \u0026gt;\u0026gt;\u0026gt; pattern_obj.search(\u0026#39;abcdefg\u0026#39;) \u0026lt;_sre.SRE_Match object; span=(0, 3), match=\u0026#39;abc\u0026#39;\u0026gt; ä½¿ç”¨æ­£åˆ™å¯¹è±¡å’Œå‡½æ•°ï¼š\næ­£åˆ™å¯¹è±¡å’Œå‡½æ•°æ˜¯ä¸€è‡´çš„ã€‚\næ¨¡å—çš„åº•å±‚å®ç°ä¸­ï¼Œre.compile() ä¸å…¶ä»– re å‡½æ•°å†…éƒ¨è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªå‡½æ•° re._compile()ã€‚\nå¦‚æœéœ€è¦å¤šæ¬¡ä½¿ç”¨æŸä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„è¯ï¼Œä½¿ç”¨ re.compile() å’Œä¿å­˜è¿™ä¸ªæ­£åˆ™å¯¹è±¡ä»¥ä¾¿å¤ç”¨ï¼Œå¯ä»¥è®©ç¨‹åºæ›´åŠ é«˜æ•ˆã€‚é€šè¿‡ re.compile() ç¼–è¯‘åçš„æ ·å¼ï¼Œå’Œæ¨¡å—çº§çš„å‡½æ•°ä¼šè¢«ç¼“å­˜ã€‚\næ­£åˆ™å¯¹è±¡æ–¹æ³• æ­£åˆ™å¯¹è±¡æ”¯æŒä»¥ä¸‹æ–¹æ³•ï¼š\næ–¹æ³• è¯´æ˜ Pattern.search(string[, pos[, endpos]]) æ‰«ææ•´ä¸ª string å¯»æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®ï¼Œ å¹¶è¿”å›ä¸€ä¸ªç›¸åº”çš„åŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œå°±è¿”å› Noneã€‚\npos â€”â€” å­—ç¬¦ä¸²ä¸­å¼€å§‹æœç´¢çš„ä½ç½®ç´¢å¼•ï¼Œé»˜è®¤ä¸º 0ï¼Œå®ƒä¸å®Œå…¨ç­‰ä»·äºå­—ç¬¦ä¸²åˆ‡ç‰‡ã€‚^ æ ·å¼å­—ç¬¦åŒ¹é…è¡Œå¼€å¤´ï¼Œä½†ä¸ä¼šåŒ¹é…ç´¢å¼•è§„å®šå¼€å§‹çš„ä½ç½®ã€‚\nendpos â€”â€” å­—ç¬¦ä¸²æœç´¢çš„ç»“æŸã€‚åªæœ‰ä» pos åˆ° endpos - 1 çš„å­—ç¬¦ä¼šè¢«åŒ¹é…ã€‚\nå¦‚æœ endpos å°äº posï¼Œå°±ä¸ä¼šæœ‰åŒ¹é…äº§ç”Ÿã€‚\npattern_obj.search(string, 0, 50)ç­‰ä»·äºpattern_obj.search(string[:50], 0)`ã€‚ Pattern.match(string[, pos[, endpos]]) å¦‚æœ string çš„å¼€å§‹ä½ç½®èƒ½å¤Ÿæ‰¾åˆ°è¿™ä¸ªæ­£åˆ™æ ·å¼ Pattern çš„ä»»æ„ä¸ªåŒ¹é…ï¼Œå°±è¿”å›ä¸€ä¸ªç›¸åº”çš„åŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ã€‚å¦‚æœä¸åŒ¹é…ï¼Œå°±è¿”å› Noneã€‚\nå¯é€‰å‚æ•° pos å’Œ endpos æŒ‡å®š string çš„æŸ¥æ‰¾èŒƒå›´ï¼Œä¸ Pattern.search() å«ä¹‰ç›¸åŒã€‚ Pattern.fullmatch(string[, pos[, endpos]]) å¦‚æœæ•´ä¸ª string åŒ¹é…è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±è¿”å›ä¸€ä¸ªç›¸åº”çš„åŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰ã€‚å¦‚æœä¸åŒ¹é…ï¼Œå°±è¿”å› Noneã€‚\nå¯é€‰å‚æ•° pos å’Œ endpos æŒ‡å®š string çš„æŸ¥æ‰¾èŒƒå›´ã€‚ Pattern.findall(string[, pos[, endpos]]) ç±»ä¼¼ re.findall()ï¼Œä½¿ç”¨äº†ç¼–è¯‘åæ ·å¼ï¼Œåœ¨ string ä¸­æ‰¾åˆ° Pattern æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›æ‰€æœ‰åŒ¹é…é¡¹ã€‚\nå¯é€‰å‚æ•° pos å’Œ endpos æŒ‡å®š string çš„æŸ¥æ‰¾èŒƒå›´ã€‚ Pattern.finditer(string[, pos[, endpos]]) ç±»ä¼¼å‡½æ•° finiter() ï¼Œ ä½¿ç”¨äº†ç¼–è¯‘åæ ·å¼ï¼Œåœ¨ string ä¸­æ‰¾åˆ° Pattern æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œä»¥è¿­ä»£å™¨å½¢å¼è¿”å›æ‰€æœ‰åŒ¹é…é¡¹ã€‚\nå¯é€‰å‚æ•° pos å’Œ endpos æŒ‡å®š string çš„æŸ¥æ‰¾èŒƒå›´ã€‚ Pattern.split(string, maxsplit=0) ç­‰ä»·äº split() å‡½æ•°ï¼Œä½¿ç”¨äº†ç¼–è¯‘åçš„æ ·å¼ï¼ŒæŒ‰ç…§èƒ½å¤ŸåŒ¹é…çš„å­ä¸²å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ã€‚\nmaxsplit â€”â€” æœ€å¤§åˆ†å‰²æ¬¡æ•°ã€‚ Pattern.sub(repl, string, count=0) ç­‰ä»·äº sub() å‡½æ•°ï¼Œä½¿ç”¨äº†ç¼–è¯‘åçš„æ ·å¼ï¼Œä½¿ç”¨ repl æ›¿æ¢æ‰ string ä¸­è¢« Pattern åŒ¹é…çš„å­—ç¬¦ã€‚\ncount â€”â€” æœ€å¤§æ›¿æ¢æ¬¡æ•°ã€‚\nè¿”å›ä¸€ä¸ªæ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚å¦‚æœ string ä¸­æ²¡æœ‰ä»»ä½•åŒ¹é…é¡¹ï¼Œåˆ™è¿”å› stringã€‚ Pattern.subn(repl, string, count=0) ç­‰ä»·äº subn() å‡½æ•°ï¼Œä½¿ç”¨äº†ç¼–è¯‘åçš„æ ·å¼ï¼Œä½¿ç”¨ repl æ›¿æ¢æ‰ string ä¸­è¢« Pattern åŒ¹é…çš„å­—ç¬¦ã€‚\ncount â€”â€” æœ€å¤§æ›¿æ¢æ¬¡æ•°ã€‚\nè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«äº†æ›¿æ¢åçš„å­—ç¬¦ä¸²å’Œæ›¿æ¢æ¬¡æ•°ã€‚ æ­£åˆ™å¯¹è±¡å±æ€§ å±æ€§ è¯´æ˜ Pattern.flags æ­£åˆ™åŒ¹é…æ ‡è®°ã€‚\nå¯ä»¥ä¼ é€’ç»™ compile() çš„å‚æ•°ã€‚ä»»ä½• (?â€¦) å†…è”æ ‡è®°ï¼Œéšæ€§æ ‡è®°ï¼ˆre.Uï¼‰çš„ç»“åˆã€‚ Pattern.groups æ•è·åˆ°çš„æ¨¡å¼ä¸²ä¸­ç»„çš„æ•°é‡ã€‚ Pattern.groupindex æ˜ å°„ç”± (?P\u0026lt;id\u0026gt;) å®šä¹‰çš„å‘½åç¬¦å·ç»„åˆå’Œæ•°å­—ç»„åˆçš„å­—å…¸ã€‚å¦‚æœæ²¡æœ‰ç¬¦å·ç»„ï¼Œé‚£å­—å…¸å°±æ˜¯ç©ºçš„ã€‚ Pattern.pattern ç¼–è¯‘å¯¹è±¡çš„åŸå§‹æ ·å¼å­—ç¬¦ä¸²ã€‚ åŒ¹é…å¯¹è±¡ åŒ¹é…å¯¹è±¡ï¼ˆMatchï¼‰æ˜¯è°ƒç”¨ re æ¨¡å—ä¸­çš„å‡½æ•°æˆ–æ–¹æ³•åŒ¹é…åè¿”å›çš„å¯¹è±¡ã€‚\nåŒ¹é…å¯¹è±¡æ€»æ˜¯æœ‰ä¸€ä¸ªå¸ƒå°”å€¼ Trueã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„è¯ re.match() å’Œ re.search() è¿”å› Noneã€‚å¯ä»¥ç®€å•çš„ç”¨ if è¯­å¥æ¥åˆ¤æ–­æ˜¯å¦åŒ¹é…ï¼š\n\u0026gt;\u0026gt;\u0026gt; if re.search(r\u0026#39;a\u0026#39;, \u0026#39;abc\u0026#39;): ... print(True) ... True \u0026gt;\u0026gt;\u0026gt; if re.search(r\u0026#39;d\u0026#39;, \u0026#39;abc\u0026#39;): ... print(True) ... else: ... print(False) ... False åŒ¹é…å¯¹è±¡æ–¹æ³• åŒ¹é…å¯¹è±¡æ”¯æŒä»¥ä¸‹æ–¹æ³•ï¼š\nMatch.expand(template)ï¼š\nå¯¹ template è¿›è¡Œåæ–œæ ï¼ˆ'\\'ï¼‰è½¬ä¹‰æ›¿æ¢å¹¶ä¸”è¿”å›ã€‚ Match.group([group1, ...])ï¼š\nè¿”å›ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŒ¹é…çš„å­ç»„ã€‚\nå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œç»“æœå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼› å¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œç»“æœå°±æ˜¯ä¸€ä¸ªå…ƒç»„ï¼ˆæ¯ä¸ªå‚æ•°å¯¹åº”ä¸€ä¸ªé¡¹ï¼‰ï¼› å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œgroup1 é»˜è®¤ä¸º 0ï¼ˆæ•´ä¸ªåŒ¹é…éƒ½è¢«è¿”å›ï¼‰ã€‚\nå¦‚æœä¸€ä¸ª groupN å‚æ•°å€¼ä¸º 0ï¼Œç›¸åº”çš„è¿”å›å€¼å°±æ˜¯æ•´ä¸ªåŒ¹é…å­—ç¬¦ä¸²ï¼› å¦‚æœå®ƒæ˜¯ä¸€ä¸ªèŒƒå›´ [1..99]ï¼Œç»“æœå°±æ˜¯ç›¸åº”çš„æ‹¬å·ç»„å­—ç¬¦ä¸²ã€‚\nå¦‚æœä¸€ä¸ªç»„å·æ˜¯è´Ÿæ•°ï¼Œæˆ–è€…å¤§äºæ ·å¼ä¸­å®šä¹‰çš„ç»„æ•°ï¼Œä¼šæŠ›å‡ºä¸€ä¸ª IndexErrorã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(\\w+) (\\w+)\u0026#39;, \u0026#39;Python PHP Java C++\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.group() # è¿”å›æ•´ä¸ªåŒ¹é… \u0026#39;Python PHP\u0026#39; \u0026gt;\u0026gt;\u0026gt; m.group(1) # è¿”å›ç¬¬ä¸€ä¸ªæ‹¬å·ç»„ \u0026#39;Python\u0026#39; \u0026gt;\u0026gt;\u0026gt; m.group(2) # è¿”å›ç¬¬äºŒä¸ªæ‹¬å·ç»„ \u0026#39;PHP\u0026#39; \u0026gt;\u0026gt;\u0026gt; m.group(1, 2) # å¤šä¸ªå‚æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ (\u0026#39;Python\u0026#39;, \u0026#39;PHP\u0026#39;) å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨äº† (?P\u0026lt;name\u0026gt;â€¦) è¯­æ³•ï¼Œ groupN å‚æ•°å¯ä»¥æ˜¯ç´¢å¼•å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„åã€‚\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(?P\u0026lt;name_1\u0026gt;\\w+) (?P\u0026lt;name_2\u0026gt;\\w+)\u0026#39;, \u0026#39;Python PHP\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.group(\u0026#39;name_1\u0026#39;, \u0026#39;name_2\u0026#39;) (\u0026#39;Python\u0026#39;, \u0026#39;PHP\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.group(1, 2) (\u0026#39;Python\u0026#39;, \u0026#39;PHP\u0026#39;) å¦‚æœä¸€ä¸ªç»„åŒ…å«åœ¨æ ·å¼çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¢«åŒ¹é…å¤šæ¬¡ï¼Œå°±è¿”å›æœ€åä¸€ä¸ªåŒ¹é…ã€‚\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(..)+\u0026#39;, \u0026#39;a1b2c3\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.group(1) \u0026#39;c3\u0026#39; Match.getitem(g)ï¼š\nPython3.6 æ–°å¢åŠŸèƒ½ã€‚\nç­‰ä»·äº m.group(g)ï¼Œå…è®¸æ›´æ–¹ä¾¿åœ°å¼•ç”¨ä¸€ä¸ªåŒ¹é…ã€‚\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(?P\u0026lt;name_1\u0026gt;\\w+) (?P\u0026lt;name_2\u0026gt;\\w+)\u0026#39;, \u0026#39;Python PHP\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m[0] \u0026#39;Python PHP\u0026#39; \u0026gt;\u0026gt;\u0026gt; m[1] \u0026#39;Python\u0026#39; \u0026gt;\u0026gt;\u0026gt; m[2] \u0026#39;PHP\u0026#39; Match.groups(default=None)ï¼š\nè¿”å›ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å«æ‰€æœ‰åŒ¹é…çš„å­ç»„ï¼Œåœ¨æ ·å¼ä¸­å‡ºç°çš„ä» 1 åˆ°ä»»æ„å¤šçš„ç»„åˆã€‚default å‚æ•°ç”¨äºä¸å‚ä¸åŒ¹é…çš„æƒ…å†µï¼Œé»˜è®¤ä¸º Noneã€‚\nExampleï¼š ä½¿å°æ•°éƒ¨åˆ†å¯é€‰ï¼Œé‚£ä¹ˆä¸æ˜¯æ‰€æœ‰çš„ç»„éƒ½ä¼šå‚ä¸åˆ°åŒ¹é…å½“ä¸­ã€‚è¿™äº›ç»„åˆé»˜è®¤ä¼šè¿”å›ä¸€ä¸ª None ï¼Œé™¤éæŒ‡å®šäº† default å‚æ•°ã€‚\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(\\d+)\\.(\\d+)\u0026#39;, \u0026#39;3.14\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.groups() (\u0026#39;3\u0026#39;, \u0026#39;14\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#34;(\\d+)\\.?(\\d+)?\u0026#34;, \u0026#39;3\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.groups() # ç¬¬äºŒä¸ªå­ç»„é»˜è®¤ä¸º None (\u0026#39;3\u0026#39;, None) \u0026gt;\u0026gt;\u0026gt; m.groups(\u0026#39;0\u0026#39;) # ç¬¬äºŒä¸ªå­ç»„è¢«è®¾ç½®ä¸ºæŒ‡å®šçš„é»˜è®¤å€¼ \u0026#39;0\u0026#39; (\u0026#39;3\u0026#39;, \u0026#39;0\u0026#39;) Match.groupdict(default=None)ï¼š\nè¿”å›ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„å‘½åå­ç»„ã€‚key å°±æ˜¯ç»„åã€‚ default å‚æ•°ç”¨äºä¸å‚ä¸åŒ¹é…çš„ç»„åˆï¼›é»˜è®¤ä¸º Noneã€‚\nExampleï¼š\n\u0026gt;\u0026gt;\u0026gt; m = re.match(r\u0026#39;(?P\u0026lt;name_1\u0026gt;\\w+) (?P\u0026lt;name_2\u0026gt;\\w+)\u0026#39;, \u0026#39;Python PHP\u0026#39;) \u0026gt;\u0026gt;\u0026gt; m.groupdict() {\u0026#39;name_1\u0026#39;: \u0026#39;Python\u0026#39;, \u0026#39;name_2\u0026#39;: \u0026#39;PHP\u0026#39;} Match.start([group]) å’Œ Match.end([group])ï¼š\nè¿”å› group åŒ¹é…åˆ°çš„å­—ä¸²åœ¨åŸå­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“æŸç´¢å¼•ã€‚group é»˜è®¤ä¸º 0ï¼ˆæ„æ€æ˜¯æ•´ä¸ªåŒ¹é…çš„å­ä¸²ï¼‰ã€‚å¦‚æœ group å­˜åœ¨ï¼Œä½†æœªäº§ç”ŸåŒ¹é…ï¼Œå°±è¿”å› -1 ã€‚\nä» email åœ°å€ä¸­ç§»é™¤æ‰ remove_thisï¼š\n\u0026gt;\u0026gt;\u0026gt; email = \u0026#34;tony@tiremove_thisger.net\u0026#34; \u0026gt;\u0026gt;\u0026gt; m = re.search(\u0026#34;remove_this\u0026#34;, email) \u0026gt;\u0026gt;\u0026gt; email[:m.start()] + email[m.end():] \u0026#39;tony@tiger.net\u0026#39; Match.span([group])ï¼š\nå¯¹äºä¸€ä¸ªåŒ¹é… m ï¼Œ è¿”å›ä¸€ä¸ªäºŒå…ƒç»„ (m.start(group), m.end(group)) ã€‚ å¦‚æœ group æ²¡æœ‰åœ¨è¿™ä¸ªåŒ¹é…ä¸­ï¼Œå°±è¿”å› (-1, -1) ã€‚ group é»˜è®¤ä¸º 0ï¼Œå°±æ˜¯æ•´ä¸ªåŒ¹é…ã€‚ ","date":"2022å¹´1æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/python-%E8%BF%9B%E9%98%B6-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AF%87/","series":[{"title":"Python","url":"/series/python/"}],"smallImg":"","tags":[{"title":"Python","url":"/tags/python/"},{"title":"æ­£åˆ™è¡¨è¾¾å¼","url":"/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}],"timestamp":1641945600,"title":"Python è¿›é˜¶ â€” æ­£åˆ™è¡¨è¾¾å¼ç¯‡"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"å¤‡å¿˜å½•","url":"/categories/memo/"}],"content":"å‡è®¾æœ‰ä¸‰ä¸ª bat ç¨‹åºéœ€è¦åå°è¿è¡Œï¼ˆç§°ä¸º A.batã€B.batã€C.batï¼‰ï¼š\nSet ws = CreateObject(\u0026#34;Wscript.Shell\u0026#34;) ws.run \u0026#34;cmd /c A.bat\u0026#34;,0 ws.run \u0026#34;cmd /c B.bat\u0026#34;,0 ws.run \u0026#34;cmd /c C.bat\u0026#34;,0 ","date":"2022å¹´1æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/vbs-%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C-bat/","series":[],"smallImg":"","tags":[{"title":"Windows","url":"/tags/windows/"}],"timestamp":1641945600,"title":"vbs åå°è¿è¡Œ bat"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"å†’æ³¡æ’åº å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚\nè¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚\næ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$\nç®—æ³•æ­¥éª¤ å‡è®¾ä¸€ä¸ªåºåˆ—é•¿åº¦ä¸ºnï¼Œmï¼ˆmâ‰¤nï¼‰æ˜¯å·²æ’åºå®Œæˆçš„åœ¨æœ«å°¾çš„æ•°ã€‚\næ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚\nå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ã€‚å¯¹æ¯”ç»“æŸåï¼Œæœ€åçš„å…ƒç´ ä¼šæ˜¯æœ€å¤§çš„æ•°ã€‚\nå¯¹æ¥ä¸‹æ¥n-mä¸ªæœªæ’åºçš„æ•°é‡å¤æ­¥éª¤1å’Œ2ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚\nç¬¬ä¸€è¶Ÿå¯¹åºåˆ—ä¸­æ‰€æœ‰nä¸ªæ•°è¿›è¡Œæ¯”å¯¹ï¼Œç¬¬äºŒè¶Ÿå¯¹åºåˆ—ä¸­n-1ä¸ªæœªæ’åºå®Œæˆçš„æ•°è¿›è¡Œæ¯”å¯¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ¯æ¬¡æ¯”å¯¹çš„æ•°ä¸ºn-mã€‚\nåŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def bubbleSort(arr): for i in range(len(arr)-1): for j in range(len(arr)-1-i): if arr[j] \u0026gt; arr[j+1]: arr[j], arr[j + 1] = arr[j + 1], arr[j] return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] bubbleSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; void bubbleSort(int arr[], int len) { for (int i = 0; i \u0026lt; len - 1; i++) for (int j = 0; j \u0026lt; len - 1 - i; j++) if (arr[j] \u0026gt; arr[j + 1]) { int tmp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = tmp; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); bubbleSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } ä¼˜åŒ–ç®—æ³• æœ‰åºæ ‡å¿— å†’æ³¡æ’åºè¿˜æœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå°±æ˜¯ç«‹ä¸€ä¸ª flagï¼Œå½“åœ¨ä¸€è¶Ÿåºåˆ—éå†ä¸­å…ƒç´ æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯æ˜è¯¥åºåˆ—å·²ç»æœ‰åºã€‚ä½†è¿™ç§æ”¹è¿›å¯¹äºæå‡æ€§èƒ½æ¥è¯´å¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§ä½œç”¨ã€‚\nPythonå®ç°ï¼š\ndef bubbleSort(arr): for i in range(len(arr)-1): # æœ‰åºflagï¼Œåˆå§‹ä¸ºTrue isSorted = True for j in range(len(arr)-1-i): if arr[j] \u0026gt; arr[j+1]: arr[j], arr[j + 1] = arr[j + 1], arr[j] # å‘ç”Ÿäº¤æ¢ï¼Œåºåˆ—å®šä¸ºæ— åº isSorted = False # åºåˆ—æœ‰åºï¼Œåœæ­¢å¾ªç¯ if isSorted: break return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] bubbleSort(arr) print(arr) Cå®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdbool.h\u0026gt; void bubbleSort(int arr[], int len) { for (int i = 0; i \u0026lt; len - 1; i++) { // æœ‰åºflagï¼Œåˆå§‹ä¸ºTrue bool isSorted = true; for (int j = 0; j \u0026lt; len - 1 - i; j++) if (arr[j] \u0026gt; arr[j + 1]) { arr[j] = arr[j] ^ arr[j+1]; arr[j+1] = arr[j] ^ arr[j+1]; arr[j] = arr[j] ^ arr[j+1]; // å‘ç”Ÿäº¤æ¢ï¼Œåºåˆ—å®šä¸ºæ— åº isSorted = false; } // åºåˆ—æœ‰åºï¼Œåœæ­¢å¾ªç¯ if (isSorted) break; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); bubbleSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } æ•°åˆ—æœ‰åºåŒº é€šå¸¸ï¼Œæœ‰åºåŒºçš„é•¿åº¦å’Œæ’åºçš„è½®æ•°æ˜¯ç›¸ç­‰çš„ã€‚å¦‚ï¼Œç¬¬ä¸€è½®æ’åºåçš„æœ‰åºåŒºé•¿åº¦æ˜¯1ï¼Œç¬¬äºŒè½®æ’åºåæ˜¯2 â€¦â€¦\nä½†å®é™…ä¸Šï¼Œæ•°åˆ—çš„æœ‰åºåŒºé•¿åº¦å¯èƒ½ä¼šå¤§äºè¿™ä¸ªé•¿åº¦ï¼Œå¹¶ä¸”æ¯è½®å¢åŠ çš„æœ‰åºåŒºé•¿åº¦ä¹Ÿä¸ä¸€å®šä»…ä¸º1ã€‚\nè¯¥ä¼˜åŒ–ç®—æ³•è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡åœ¨æ¯ä¸€è½®æ’åºçš„æœ€åï¼Œè®°å½•ä¸‹æœ€åä¸€æ¬¡å…ƒç´ äº¤æ¢çš„ä½ç½®ï¼ˆè¯¥ä½ç½®ä¹Ÿå°±æ˜¯æ— åºæ•°åˆ—çš„è¾¹ç•Œï¼Œå†å¾€åå°±æ˜¯æœ‰åºåŒºï¼‰ï¼Œè€Œæ¯è½®çš„äº¤æ¢åªè¦äº¤æ¢åˆ°æ— åºåŒºè¾¹ç•Œã€‚\nPythonå®ç°ï¼š\ndef bubbleSort(arr): # æ— åºæ•°åˆ—çš„è¾¹ç•Œ sortBorder = len(arr) - 1 for i in range(len(arr)-1): # æœ‰åºflagï¼Œåˆå§‹ä¸ºTrue isSorted = True # æ¯æ¬¡ä»…éœ€äº¤æ¢åˆ°æ— åºåŒºè¾¹ç•Œ for j in range(sortBorder): if arr[j] \u0026gt; arr[j+1]: arr[j], arr[j + 1] = arr[j + 1], arr[j] # æŠŠæ— åºæ•°åˆ—çš„è¾¹ç•Œæ›´æ–°ä¸ºæœ€åä¸€æ¬¡äº¤æ¢å…ƒç´ çš„ä½ç½® sortBorder = j # å‘ç”Ÿäº¤æ¢ï¼Œåºåˆ—å®šä¸ºæ— åº isSorted = False # åºåˆ—æœ‰åºï¼Œåœæ­¢å¾ªç¯ if isSorted: break return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 5, 50, 3, 32, 37, 34, 35, 9, 55, 64, 70, 82, 89 ] bubbleSort(arr) print(arr) Cå®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdbool.h\u0026gt; void bubbleSort(int arr[], int len) { int sortBorder = len - 1; for (int i = 0; i \u0026lt; len - 1; i++) { // æœ‰åºflagï¼Œåˆå§‹ä¸ºTrue bool isSorted = true; for (int j = 0; j \u0026lt; len - 1 - i; j++) if (arr[j] \u0026gt; arr[j + 1]) { arr[j] = arr[j] ^ arr[j+1]; arr[j+1] = arr[j] ^ arr[j+1]; arr[j] = arr[j] ^ arr[j+1]; // æŠŠæ— åºæ•°åˆ—çš„è¾¹ç•Œæ›´æ–°ä¸ºæœ€åä¸€æ¬¡äº¤æ¢å…ƒç´ çš„ä½ç½® sortBorder = j; // å‘ç”Ÿäº¤æ¢ï¼Œåºåˆ—å®šä¸ºæ— åº isSorted = false; } // åºåˆ—æœ‰åºï¼Œåœæ­¢å¾ªç¯ if (isSorted) break; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); bubbleSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } é€‰æ‹©æ’åº é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ $O(nÂ²)$ çš„æ—¶é—´å¤æ‚åº¦ã€‚\nç®—æ³•æ­¥éª¤ åœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚ åŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def selectionSort(arr): for i in range(len(arr) - 1): # è®°å½•æœ€å°æ•°çš„ç´¢å¼• minIndex = i for j in range(i + 1, len(arr)): if arr[j] \u0026lt; arr[minIndex]: minIndex = j # i ä¸æ˜¯æœ€å°æ•°æ—¶ï¼Œå°† i å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢ if i != minIndex: arr[i], arr[minIndex] = arr[minIndex], arr[i] return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] arr = selectionSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; void selectionSort(int arr[], int len) { for (int i = 0 ; i \u0026lt; len - 1 ; i++) { int min = i; for (int j = i + 1; j \u0026lt; len; j++) // èµ°è®¿æœªæ’åºçš„å…ƒç´  // æ‰¾åˆ°æœ€å°å€¼ if (arr[j] \u0026lt; arr[min]) min = j; // i ä¸æ˜¯æœ€å°æ•°æ—¶ï¼Œå°† i å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢ if (i != min) { int tmp = arr[i]; arr[i] = arr[min]; arr[min] = tmp; } } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); selectionSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } æ’å…¥æ’åº æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰æ˜¯ä¸€ç§æœ€ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚\næ’å…¥æ’åºçš„æœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå«åšæ‹†åŠæ’å…¥ã€‚\nç®—æ³•æ­¥éª¤ å‡è®¾åºåˆ—çš„é•¿åº¦ä¸º$n$ï¼Œå…¶å¾…æ’åºåºåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ä¸º$m$ï¼ˆ$1 \\le m \\le n$ï¼Œå…ƒç´ ä½ç½®ä»0å¼€å§‹ï¼‰ã€‚\nå°†å…ƒç´ $m$ä¸å·²æ’åºåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå·²æ’åºå…ƒç´ æ¯”å…ƒç´ $m$å¤§ï¼Œå°†å…ƒç´ $m$ä¸­æ¯”å·²æ’åºåºåˆ—å¤§çš„å…ƒç´ å¾€åç§»ï¼Œç›´åˆ°å‰é¢æ²¡æœ‰æ¯”å…ƒç´ $m$å¤§çš„å…ƒç´ ï¼ˆæˆ–å‰é¢å·²ç»æ²¡æœ‰å…ƒç´ ï¼‰ã€‚å°†å…ƒç´ mæ’å…¥ã€‚\nå¦‚æœå¾…æ’å…¥çš„å…ƒç´ ä¸æœ‰åºåºåˆ—ä¸­çš„æŸä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™å°†å¾…æ’å…¥å…ƒç´ æ’å…¥åˆ°ç›¸ç­‰å…ƒç´ çš„åé¢ã€‚\nä»å¤´åˆ°å°¾ä¾æ¬¡æ‰«ææœªæ’åºåºåˆ—ï¼Œç›´åˆ°æ²¡æœ‰æœªæ’åºå…ƒç´ ã€‚\nåŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def insertionSort(arr): for i in range(len(arr) - 1): preIndex = i current = arr[i + 1] # æ‰¾å‡ºè¦æ’å…¥çš„ä½ç½® while preIndex \u0026gt;= 0 and arr[preIndex] \u0026gt; current: # å°†æ¯”currentå¤§çš„å…ƒç´ å¾€åç§» arr[preIndex + 1] = arr[preIndex] preIndex -= 1 # å°†currentæ’å…¥åˆ°é€‚å½“çš„ä½ç½® arr[preIndex + 1] = current return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] insertionSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; void insertionSort(int arr[], int len) { for (int i = 0 ; i \u0026lt; len - 1 ; i++) { int current = arr[i + 1]; int j = i; while (j \u0026gt;= 0 \u0026amp;\u0026amp; arr[j] \u0026gt; current) { arr[j + 1] = arr[j]; j--; } arr[j + 1] = current; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); insertionSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } å¸Œå°”æ’åº ç®—æ³•æ­¥éª¤ å¸Œå°”æ’åºï¼ˆShell Sortï¼‰ï¼Œä¹Ÿç§°é€’å‡å¢é‡æ’åºç®—æ³•ï¼Œæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ›´é«˜æ•ˆçš„æ”¹è¿›ç‰ˆæœ¬ã€‚ä½†å¸Œå°”æ’åºæ˜¯éç¨³å®šæ’åºç®—æ³•ã€‚\nå¸Œå°”æ’åºæ˜¯åŸºäºæ’å…¥æ’åºçš„ä»¥ä¸‹ä¸¤ç‚¹æ€§è´¨è€Œæå‡ºæ”¹è¿›æ–¹æ³•çš„ï¼š\næ’å…¥æ’åºåœ¨å¯¹å‡ ä¹å·²ç»æ’å¥½åºçš„æ•°æ®æ“ä½œæ—¶ï¼Œæ•ˆç‡é«˜ï¼Œå³å¯ä»¥è¾¾åˆ°çº¿æ€§æ’åºçš„æ•ˆç‡ï¼› ä½†æ’å…¥æ’åºä¸€èˆ¬æ¥è¯´æ˜¯ä½æ•ˆçš„ï¼Œå› ä¸ºæ’å…¥æ’åºæ¯æ¬¡åªèƒ½å°†æ•°æ®ç§»åŠ¨ä¸€ä½ã€‚ å¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆå°†æ•´ä¸ªå¾…æ’åºçš„å¢é‡åºåˆ—æ ¹æ®å¢é‡åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•â€œåŸºæœ¬æœ‰åºâ€æ—¶ï¼Œå†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¾æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚\nç®—æ³•æ­¥éª¤ é€‰æ‹©ä¸€ä¸ªå¢é‡åºåˆ—$t_1,t_2,\u0026hellip;,t_k$ï¼Œå…¶ä¸­$t_i \u0026lt; t_{i-1}(1 \\le i \\le k),t_k = 1$ï¼› æŒ‰å¢é‡åºåˆ—ä¸ªæ•°$k$ï¼Œå¯¹åºåˆ—è¿›è¡Œ$k$è¶Ÿæ’åºï¼› æ¯è¶Ÿæ’åºï¼Œæ ¹æ®å¯¹åº”çš„å¢é‡$t_i$ï¼Œå°†å¾…æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²é•¿åº¦ä¸º$t_i$çš„å­åºåˆ—ï¼Œåˆ†åˆ«å¯¹å„å­è¡¨è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚ä»…å¢é‡å› å­ä¸º$1$æ—¶ï¼Œæ•´ä¸ªåºåˆ—ä½œä¸ºä¸€ä¸ªè¡¨æ¥å¤„ç†ï¼Œè¡¨é•¿åº¦å³ä¸ºæ•´ä¸ªåºåˆ—çš„é•¿åº¦ã€‚ åŠ¨ç”»æ¼”ç¤ºï¼š\nè¯¦ç»†è¿‡ç¨‹ï¼ˆå¼•ç”¨è‡ªåšå®¢ï¼šä¸€ä¸ªå¾ˆæ‡’çš„äººï¼‰ï¼š\nä»£ç å®ç° Pythonå®ç° def shellSort(arr): # å°†å¢é‡dåˆå§‹åŒ–ä¸ºlen(arr)//2 d = len(arr) // 2 while d \u0026gt; 0: # åˆ†åˆ«ç”¨æ’å…¥æ’åºæ’åºæ¯ä¸ªä»¥dä¸ºå¢é‡çš„åˆ†ç»„ for i in range(d, len(arr)): tmp = arr[i] j = i - d while j \u0026gt;= 0 and tmp \u0026lt; arr[j]: arr[j + d] = arr[j] j -= d arr[j + d] = tmp # æ¯æ¬¡å°†å¢é‡dç¼©å°1/2 d //= 2 return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] shellSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; void shellSort(int arr[], int len) { // å°†å¢é‡dåˆå§‹åŒ–ä¸ºlen/2ï¼Œæ¯æ¬¡å°†å¢é‡dç¼©å°1/2 for (int d = len \u0026gt;\u0026gt; 1; d \u0026gt; 0; d \u0026gt;\u0026gt;= 1) { // åˆ†åˆ«ç”¨æ’å…¥æ’åºæ’åºæ¯ä¸ªä»¥dä¸ºå¢é‡çš„åˆ†ç»„ for (int i = d; i \u0026lt; len; i++) { int tmp = arr[i]; int j; for (j = i - d; j \u0026gt;= 0 \u0026amp;\u0026amp; tmp \u0026lt; arr[j]; j -= d) arr[j + d] = arr[j]; arr[j + d] = tmp; } } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); shellSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } å½’å¹¶æ’åº å½’å¹¶æ’åºï¼ˆMerge sortï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚\nä½œä¸ºä¸€ç§å…¸å‹çš„åˆ†è€Œæ²»ä¹‹æ€æƒ³çš„ç®—æ³•åº”ç”¨ï¼Œå½’å¹¶æ’åºçš„å®ç°ç”±ä¸¤ç§æ–¹æ³•ï¼š\nè‡ªä¸Šè€Œä¸‹çš„é€’å½’ï¼› è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£ã€‚ ç®—æ³•æ­¥éª¤ ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ï¼› è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼› æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®ï¼› é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ï¼›å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ã€‚ åŠ¨ç”»æ¼”ç¤ºï¼š\nå›¾ç‰‡æ¼”ç¤ºï¼š\né€’å½’æ¼”ç¤ºï¼š\nåˆå¹¶æ¼”ç¤ºï¼š\nä»£ç å®ç° Python å®ç° def mergeSort(arr): # ç»“æŸé€’å½’ if(len(arr) \u0026lt; 2): return arr # è®¡ç®—ä¸­é—´ä½ç½®ä¸‹æ ‡ middle = len(arr) // 2 # å°†åºåˆ—åˆ‡åˆ†ä¸ºä¸¤åŠ left, right = arr[:middle], arr[middle:] # è¿›è¡Œå½’å¹¶æ’åº return merge(mergeSort(left), mergeSort(right)) def merge(left, right): result = [] while left and right: # å°†è¾ƒå°çš„å…ƒç´ æ”¾åœ¨å‰é¢ if left[0] \u0026lt;= right[0]: result.append(left.pop(0)) else: result.append(right.pop(0)) # å°†æŸä¸€åºåˆ—ä¸­å‰©ä¸‹çš„å…ƒç´ å…¨éƒ¨æ”¾å…¥ while left: result.append(left.pop(0)) while right: result.append(right.pop(0)) return result if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] arr = mergeSort(arr) print(arr) Cå®ç° éé€’å½’å®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; int min(int x, int y) { return x \u0026lt; y ? x : y; } void mergeSort(int arr[], int len) { int* a = arr; int* b = (int*)malloc(len * sizeof(int)); if (!b) return; // åˆ†ä¸ºçº¦log_2(len)æ¬¡ for (int seg = 1; seg \u0026lt; len; seg += seg) { // æ¯æ¬¡å¯¹ä¸‹æ ‡åŒºé—´ä¸º[low,high)çš„å­åºåˆ—è¿›è¡Œå½’å¹¶æ’åº for (int start = 0; start \u0026lt; len; start += seg * 2) { // å½“å‰æ’åºåŒºé—´ï¼š[low,high) int low = start, mid = min(start + seg, len), high = min(start + seg * 2, len); // ç¬¬1æ®µï¼š[low,mid) int start1 = low, end1 = mid; // ç¬¬2æ®µï¼š[mid,high) int start2 = mid, end2 = high; // å¯¹å­åºåˆ—è¿›è¡Œå½’å¹¶æ’åº int i = low; // å°†ä¸¤ä¸ªåºåˆ—ä¸­è¾ƒå°çš„æ”¾åœ¨å‰é¢ while (start1 \u0026lt; end1 \u0026amp;\u0026amp; start2 \u0026lt; end2) b[i++] = a[start1] \u0026lt; a[start2] ? a[start1++] : a[start2++]; // å°†æŸä¸€åºåˆ—ä¸­å‰©ä¸‹çš„å…ƒç´ å…¨éƒ¨æ”¾å…¥ while (start1 \u0026lt; end1) b[i++] = a[start1++]; while (start2 \u0026lt; end2) b[i++] = a[start2++]; } int* tmp = a; a = b; b = tmp; } if (a != arr) { for (int i = 0; i \u0026lt; len; i++) b[i] = a[i]; b = a; } free(b); } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int) sizeof(arr) / sizeof(*arr); mergeSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } é€’å½’å®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; void merge_sort_recursive(int arr[], int reg[], int start, int end) { // ç»“æŸé€’å½’ if (start \u0026gt;= end) return; // å½“å‰æ’åºåŒºé—´ï¼š[start,end] int len = end - start, mid = (len \u0026gt;\u0026gt; 1) + start; // ç¬¬1æ®µï¼š[start,mid] int start1 = start, end1 = mid; // ç¬¬2æ®µï¼š[mid+1,end] int start2 = mid + 1, end2 = end; // å¯¹ç¬¬1æ®µè¿›è¡Œé€’å½’åœ°æ’åº merge_sort_recursive(arr, reg, start1, end1); // å¯¹ç¬¬2æ®µè¿›è¡Œé€’å½’åœ°æ’åº merge_sort_recursive(arr, reg, start2, end2); int i = start; while (start1 \u0026lt;= end1 \u0026amp;\u0026amp; start2 \u0026lt;= end2) reg[i++] = arr[start1] \u0026lt; arr[start2] ? arr[start1++] : arr[start2++]; while (start1 \u0026lt;= end1) reg[i++] = arr[start1++]; while (start2 \u0026lt;= end2) reg[i++] = arr[start2++]; for (int i = start; i \u0026lt;= end; i++) arr[i] = reg[i]; } void mergeSort(int arr[], int len) { int* reg = (int*)malloc(len * sizeof(int)); merge_sort_recursive(arr, reg, 0, len - 1); } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int) sizeof(arr) / sizeof(*arr); mergeSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } å¿«é€Ÿæ’åº å¿«é€Ÿæ’åºåœ¨å¹³å‡çŠ¶å†µä¸‹ï¼Œæ’åº$n$ä¸ªé¡¹ç›®æ˜¯$O(n\\log {n})$ã€‚æœ€åè¿è¡Œæƒ…å†µæ˜¯$O(n^2)$ï¼Œä½†è¿™ç§çŠ¶å†µå¹¶ä¸å¸¸è§ï¼Œæ¯”å¦‚è¯´æ•°åˆ—ä¸ºé¡ºåºæ•°åˆ—çš„æƒ…å†µä¸‹ã€‚ä¸€èˆ¬ï¼Œå¯¹ç»å¤§å¤šæ•°é¡ºåºæ€§è¾ƒå¼±çš„éšæœºæ•°åˆ—è€Œè¨€ï¼Œå¿«é€Ÿæ’åºæ€»æ˜¯ä¼˜äºå½’å¹¶æ’åºã€‚\näº‹å®ä¸Šï¼Œå¿«é€Ÿæ’åºé€šå¸¸æ˜æ˜¾æ¯”å…¶ä»–$O(n\\log {n})$ç®—æ³•æ›´å¿«ï¼Œå› ä¸ºå®ƒçš„å†…éƒ¨å¾ªç¯ï¼ˆinner loopï¼‰å¯ä»¥åœ¨å¤§éƒ¨åˆ†çš„æ¶æ„ä¸Šå¾ˆæœ‰æ•ˆç‡åœ°è¢«å®ç°å‡ºæ¥ã€‚\nå¿«é€Ÿæ’åºä½¿ç”¨åˆ†æ²»æ³•ï¼ˆDivide and conquerï¼‰ç­–ç•¥æ¥æŠŠä¸€ä¸ªåºåˆ—ï¼ˆlistï¼‰åˆ†ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼ˆsub-listsï¼‰ã€‚\næœ¬è´¨ä¸Šæ¥çœ‹ï¼Œå¿«é€Ÿæ’åºåº”è¯¥ç®—æ˜¯åœ¨å†’æ³¡æ’åºåŸºç¡€ä¸Šçš„é€’å½’åˆ†æ²»æ³•ã€‚\nç®—æ³•æ­¥éª¤ ä»åºåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºâ€œåŸºå‡†â€ï¼ˆpivotï¼‰ã€‚ å°†æ‰€æœ‰æ¯”åŸºå‡†æ•°å°çš„æ”¾åœ¨åŸºå‡†å·¦è¾¹ï¼Œæ‰€æœ‰æ¯”åŸºå‡†æ•°å¤§çš„æ”¾åœ¨åŸºå‡†å³è¾¹ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åœ¨ä»»ä¸€è¾¹ï¼‰ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œã€‚ åˆ†åŒºå®Œæˆåï¼Œè¯¥åŸºå‡†å°±ä¼šå½’åˆ°åºåˆ—ä¸­çš„ç›¸åº”ä½ç½®ï¼Œè¯¥ä½ç½®æ˜¯æ’åºå®Œæˆåçš„ä½ç½®ã€‚ åˆ†åˆ«é€’å½’åœ°æŠŠå°äºåŸºå‡†æ•°çš„å­åºåˆ—ï¼ˆå·¦è¾¹ï¼‰å’Œå¤§äºåŸºå‡†æ•°çš„å­åºåˆ—ï¼ˆå³è¾¹ï¼‰æ‰§è¡Œ1~3æ“ä½œã€‚ åŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def swap(arr, i, j): arr[i], arr[j] = arr[j], arr[i] def partition(arr, left, right): # è®¾ç½®åŸºå‡† pivot = left # ç´¢å¼•ä»åŸºå‡†çš„ä¸‹ä¸€ä¸ªå…ƒç´ å¼€å§‹ index = pivot + 1 # éå†:[index,right] for i in range(index, right + 1): # å°†å°äºåŸºå‡†å€¼çš„å…ƒç´ å…¨éƒ¨æ”¾åˆ°å·¦è¾¹ if arr[i] \u0026lt; arr[pivot]: swap(arr, i, index) index += 1 i += 1 # å°†åŸºå‡†å½’ä½ # æ­¤æ—¶indexä½ç½®ä¸Šçš„æ˜¯æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´  # æˆ–è€…ç­‰äºright+1 # å³1\u0026lt;=index\u0026lt;=right+1 # åªæœ‰index-1æ‰æ˜¯åŸºå‡†çœŸæ­£çš„ä½ç½® swap(arr, pivot, index - 1) return index - 1 def quickSort(arr, left=None, right=None): # è®¾å®šå‚æ•°å€¼ left = 0 if not isinstance(left, (int, float)) else left right = len(arr) - 1 if not \\ isinstance(right, (int, float)) else right if left \u0026lt; right: # å…ˆè¿›è¡Œâ€œæ²»â€æ“ä½œå¹¶å–å¾—åˆ†åŒºç´¢å¼• partitionIndex = partition(arr, left, right) # åˆ†åˆ«å¯¹å·¦å³ä¸¤ä¸ªåˆ†åŒºé€’å½’åœ°è¿›è¡Œå¿«é€Ÿæ’åº quickSort(arr, left, partitionIndex - 1) quickSort(arr, partitionIndex + 1, right) return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] quickSort(arr) print(arr) Cå®ç° é€’å½’å®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; void quick_sort_recursive(int arr[], int start, int end) { if (start \u0026gt;= end) return; // è®¾ç½®åŸºå‡† int pivot = arr[start]; int left = start, right = end; while (left \u0026lt; right) { // å…ˆä»å³è¾¹èµ·æ‰¾å‡ºæ¯”åŸºå‡†å°çš„ while (arr[right] \u0026gt;= pivot \u0026amp;\u0026amp; left \u0026lt; right) right--; // æŠŠæ¯”åŸºå‡†å°çš„æ”¾åˆ°åŸºå‡†å·¦è¾¹ arr[left] = arr[right]; // å†ä»å·¦è¾¹èµ·æ‰¾å‡ºæ¯”åŸºå‡†å¤§çš„ while (arr[left] \u0026lt;= pivot \u0026amp;\u0026amp; left \u0026lt; right) left++; // æŠŠæ¯”åŸºå‡†å¤§çš„æ”¾åˆ°åŸºå‡†å³è¾¹ arr[right] = arr[left]; } // å°†åŸºå‡†å½’ä½ arr[left] = pivot; // åˆ†åˆ«é€’å½’åœ°æ’åºå·¦å³ä¸¤ä¸ªåˆ†åŒº quick_sort_recursive(arr, start, left - 1); quick_sort_recursive(arr, left + 1, end); } void quickSort(int arr[], const int len) { quick_sort_recursive(arr, 0, len - 1); } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); quickSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } éé€’å½’å®ç°ï¼š\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; // èŒƒå›´ typedef struct _stack { int start, end; } Range; // ç”³è¯·ä¸€ä¸ªæ–°çš„æ ˆå…ƒç´  Range new_Range(int start, int end) { Range s = { .start = start, .end = end }; return s; } void quickSort(int arr[], const int len) { if (len \u0026lt;= 1) return; // sæ¨¡æ‹Ÿæ ˆï¼Œpä¸ºæ•°é‡ï¼Œr[p++]ä¸ºpushï¼Œr[--p]ä¸ºpop0 Range* s = (Range*)malloc(len * sizeof(Range)); int p = 0; // èŒƒå›´ä¸º[0,len-1] s[p++] = new_Range(0, len - 1); while (p) { // popå‡ºå½“å‰è¦æ’åºçš„èŒƒå›´ Range range = s[--p]; if (range.start \u0026gt;= range.end) continue; // è®¾ç½®åŸºå‡† int pivot = arr[range.start]; int left = range.start, right = range.end; while (left \u0026lt; right) { // å…ˆä»å³è¾¹èµ·æ‰¾å‡ºæ¯”åŸºå‡†å°çš„ while (arr[right] \u0026gt;= pivot \u0026amp;\u0026amp; left \u0026lt; right) right--; // æŠŠæ¯”åŸºå‡†å°çš„æ”¾åˆ°åŸºå‡†å·¦è¾¹ arr[left] = arr[right]; // å†ä»å·¦è¾¹èµ·æ‰¾å‡ºæ¯”åŸºå‡†å¤§çš„ while (arr[left] \u0026lt;= pivot \u0026amp;\u0026amp; left \u0026lt; right) left++; // æŠŠæ¯”åŸºå‡†å¤§çš„æ”¾åˆ°åŸºå‡†å³è¾¹ arr[right] = arr[left]; } // å°†åŸºå‡†å½’ä½ arr[left] = pivot; // åˆ†åˆ«è®¾ç½®å·¦å³ä¸¤ä¸ªåˆ†åŒºçš„èŒƒå›´ if (range.start \u0026lt; left) s[p++] = new_Range(range.start, left - 1); if (range.end \u0026gt; left) s[p++] = new_Range(left + 1, range.end); } free(s); } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); quickSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } å †æ’åº å †æ’åºï¼ˆHeapsortï¼‰æ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚\nå †ç§¯æ˜¯ä¸€ç§è¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚\nå †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š\nå¤§é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºå‡åºæ’åˆ—ï¼› å°é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºé™åºæ’åˆ—ï¼› å †æ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º ÎŸ(nlogn)ã€‚\nå †æ’åºæ˜¯ä¸ç¨³å®šçš„ã€‚\nç®—æ³•æ­¥éª¤ å°†å¾…æ’åºçš„æ•°ç»„æ„é€ å‡ºä¸€ä¸ªå † H[0â€¦â€¦n-1]ï¼›\næŠŠå †é¦–ï¼ˆå †é¡¶ç»“ç‚¹ï¼Œå³æœ€å¤§å€¼ï¼‰å’Œå †å°¾ï¼ˆå †çš„æœ€ä¸‹å±‚æœ€å³è¾¹çš„ç»“ç‚¹ï¼‰äº’æ¢ï¼›\næ­¤æ—¶ä¸å†å¯¹åŸå †é¡¶ï¼ˆæœ€å¤§å€¼ï¼‰è¿›è¡Œæ“ä½œï¼Œå³åŸå †é¡¶å·²ç»è¢«â€œç§»å‡ºâ€ï¼Œå †çš„é•¿åº¦ç¼©å°1ã€‚\næŠŠæ–°çš„æ•°ç»„é¡¶ç«¯æ•°æ®è°ƒæ•´åˆ°ç›¸åº”ä½ç½®ï¼›\né‡å¤æ­¥éª¤ 2~3ï¼Œç›´åˆ°å †çš„å°ºå¯¸ä¸º 1ã€‚\nåŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def swap(arr, i, j): arr[i], arr[j] = arr[j], arr[i] def heapify(arr, len, i): # å­ç»“ç‚¹ son = 2*i + 1 # æœ€å¤§å€¼å…ƒç´ ä½ç½® largest = i # å°†æœ€å¤§å€¼ç½®ä¸ºå †é¡¶ç»“ç‚¹ if son \u0026lt; len: if son + 1 \u0026lt; len and arr[son + 1] \u0026gt; arr[son]: son += 1 if arr[son] \u0026gt; arr[largest]: largest = son swap(arr, i, largest) # é‡æ–°æ„é€ å­å † heapify(arr, len, largest) def buildMaxHeap(arr): # int(len(arr)/2)é€’å‡è‡³0 for i in range(int(len(arr)/2) - 1, -1, -1): heapify(arr, len(arr), i) def heapSort(arr, left=None, right=None): global arrLen arrLen = len(arr) # æ„é€ å † buildMaxHeap(arr) # len(arr)-1é€’å‡è‡³1 for i in range(len(arr)-1, 0, -1): # äº¤æ¢å †é¡¶å’Œæœ€ä¸‹å±‚æœ€å³å…ƒç´  swap(arr, 0, i) # å°†åŸå †é¡¶ç§»å‡ºå¹¶é‡æ–°è°ƒæ•´å † heapify(arr, i, 0) return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] heapSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; void swap(int* x, int* y) { int tmp = *x; *x = *y; *y = tmp; } void heapify(int arr[], int len, int i) { // å­èŠ‚ç‚¹ int son = i*2 + 1; // æœ€å¤§å€¼å…ƒç´ ä½ç½® int largest = i; // å°†æœ€å¤§å€¼ç½®ä¸ºå †é¡¶ç»“ç‚¹ if (son \u0026lt; len) { if (son + 1 \u0026lt; len \u0026amp;\u0026amp; arr[son + 1] \u0026gt; arr[son]) son++; if (arr[son] \u0026gt; arr[largest]) { largest = son; swap(\u0026amp;arr[i], \u0026amp;arr[largest]); // é‡æ–°æ„é€ å­å † heapify(arr, len, largest); } } } void buildMaxHeap(int arr[], int len) { for (int i = len / 2 - 1; i \u0026gt;= 0; i--) heapify(arr, len, i); } void heapSort(int arr[], int len) { // æ„é€ å † buildMaxHeap(arr, len); for (int i = len - 1; i \u0026gt; 0; i--) { // äº¤æ¢å †é¡¶å’Œæœ€ä¸‹å±‚æœ€å³å…ƒç´  swap(\u0026amp;arr[0], \u0026amp;arr[i]); // å°†åŸå †é¡¶ç§»å‡ºå¹¶é‡æ–°è°ƒæ•´å † heapify(arr, i, 0); } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); heapSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } è®¡æ•°æ’åº è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚\nå½“è¾“å…¥çš„å…ƒç´ æ˜¯ n ä¸ª 0 åˆ° k ä¹‹é—´çš„æ•´æ•°æ—¶ï¼Œå®ƒçš„è¿è¡Œæ—¶é—´æ˜¯$Î˜(n + k)$ã€‚è®¡æ•°æ’åºä¸æ˜¯æ¯”è¾ƒæ’åºï¼Œæ’åºçš„é€Ÿåº¦å¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚\nç”±äºç”¨æ¥è®¡æ•°çš„æ•°ç»„Cçš„é•¿åº¦å–å†³äºå¾…æ’åºæ•°ç»„ä¸­æ•°æ®çš„èŒƒå›´ï¼ˆç­‰äºå¾…æ’åºæ•°ç»„çš„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®åŠ ä¸Š1ï¼‰ï¼Œè¿™ä½¿å¾—è®¡æ•°æ’åºå¯¹äºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ï¼Œéœ€è¦å¤§é‡æ—¶é—´å’Œå†…å­˜ã€‚ä¾‹å¦‚ï¼šè®¡æ•°æ’åºæ˜¯ç”¨æ¥æ’åº0åˆ°100ä¹‹é—´çš„æ•°å­—çš„æœ€å¥½çš„ç®—æ³•ï¼Œä½†æ˜¯å®ƒä¸é€‚åˆæŒ‰å­—æ¯é¡ºåºæ’åºäººåã€‚ä½†æ˜¯ï¼Œè®¡æ•°æ’åºå¯ä»¥ç”¨åœ¨åŸºæ•°æ’åºä¸­çš„ç®—æ³•æ¥æ’åºæ•°æ®èŒƒå›´å¾ˆå¤§çš„æ•°ç»„ã€‚\nç®—æ³•æ­¥éª¤ æ‰¾å‡ºå¾…æ’åºçš„æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ã€‚ ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå€¼ä¸º içš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥æ•°ç»„ Cçš„ç¬¬ ié¡¹ã€‚ å¯¹æ‰€æœ‰çš„è®¡æ•°ç´¯åŠ ï¼ˆä» Cä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯ä¸€é¡¹å’Œå‰ä¸€é¡¹ç›¸åŠ ï¼‰ã€‚ åå‘å¡«å……ç›®æ ‡æ•°ç»„ï¼šå°†æ¯ä¸ªå…ƒç´  iæ”¾åœ¨æ–°æ•°ç»„çš„ç¬¬ C(i) é¡¹ï¼Œæ¯æ”¾ä¸€ä¸ªå…ƒç´ å°±å°† C(i) å‡å» 1ã€‚ åŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def countingSort(arr): # æ‰¾å‡ºæœ€å¤§å€¼ max = arr[0] for i in range(1, len(arr)): if arr[i] \u0026gt; max: max = arr[i] # æ„å»ºä¸€ä¸ªé•¿åº¦ä¸ºmax+1çš„æ•°ç»„ bucket = [0] * (max + 1) # è®¡æ•° for i in range(len(arr)): if not bucket[arr[i]]: bucket[arr[i]] = 0 bucket[arr[i]] += 1 # åå‘å¡«å…… index = 0 for i in range(len(bucket)): while bucket[i] \u0026gt; 0: arr[index] = i bucket[i] -= 1 index += 1 return arr if __name__ == \u0026#39;__main__\u0026#39;: arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] countingSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; void countingSort(int arr[], int len) { // æ‰¾å‡ºæœ€å¤§å€¼ int max = arr[0]; for (int i = 0; i \u0026lt; len; i++) if (arr[i] \u0026gt; max) max = arr[i]; // æ„é€ å’Œåˆå§‹åŒ– int bucketLen = max + 1; int* bucket = (int*)malloc(bucketLen * sizeof(int)); for (int i = 0; i \u0026lt; bucketLen; i++) bucket[i] = 0; // è®¡æ•° for (int i = 0; i \u0026lt; len; i++) if (arr[i] \u0026lt; bucketLen) bucket[arr[i]]++; // åå‘å¡«å…… for (int i = 0, j = 0; i \u0026lt; bucketLen; i++) while (bucket[i] \u0026gt; 0) { arr[j++] = i; bucket[i]--; } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); countingSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } æ¡¶æ’åº æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œéœ€è¦åšåˆ°ä¸¤ç‚¹ï¼š\nåœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡ ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­ åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚\næœ€å¿«çš„æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­ã€‚ æœ€æ…¢çš„æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®è¢«åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­ã€‚ ç®—æ³•æ­¥éª¤ å°†æ•°åˆ—ä¸­çš„æ•°å‡åŒ€åœ°åˆ†å¸ƒåˆ°æ¯ä¸ªæ¡¶ä¸­ï¼ˆæœ‰æ—¶å€™å¹¶ä¸æ˜¯å‡åŒ€åˆ†å¸ƒï¼‰ã€‚\nå°†æ¯ä¸ªæ¡¶ä¸­çš„æ•°è¿›è¡Œæ’åºã€‚\nè¿™é‡Œçš„æ’åºå¯ä»¥ä½¿ç”¨æ¡¶æ’åºä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒæ–¹æ³•æ’åºã€‚\næŒ‰ç…§é¡ºåºå°†æ‰€æœ‰æ¡¶ä¸­çš„æ•°æ®å–å‡ºã€‚\nå›¾ç‰‡æ¼”ç¤ºï¼š\nå°†å…ƒç´ åˆ†å¸ƒåœ¨æ¡¶ä¸­ï¼š\nå…ƒç´ åœ¨æ¯ä¸ªæ¡¶ä¸­æ’åºï¼š\nä»£ç å®ç° Pythonå®ç° from quick_sort import quickSort def bucketSort(arr, bucketsize): if len(arr) == 0 or bucketsize \u0026lt;= 0: return arr # ç¡®å®šæœ€å¤§æœ€å°å€¼ maxValue = minValue = arr[0] for i in arr: if i \u0026lt; minValue: minValue = i elif i \u0026gt; maxValue: maxValue = i # æ¡¶æ•°é‡ count = (maxValue - minValue) // bucketsize + 1 # å¯¹åº”çš„æ¡¶ buckets = [[] for i in range(count + 1)] # æŠŠæ•°æ®æ”¾å…¥ç›¸åº”çš„æ¡¶ for i in arr: index = (i - minValue) // bucketsize buckets[index].append(i) # æ¡¶å†…æ’åºå¹¶åˆå¹¶æ•°æ® arr.clear() for j in buckets: if len(j) != 0: # æ¡¶æ’åº # bucketSort(j, bucketsize-1) # å¿«é€Ÿæ’åº quickSort(j) # è¿˜å¯ä»¥æ¢å…¶å®ƒæ–¹æ³•æ’åº arr.extend(j) return arr if __name__ == \u0026#34;__main__\u0026#34; : arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] bucketSort(arr, 5) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; extern void quickSort(int arr[], const int len); typedef struct _list { int* bucket; int len; } List; void append(List* pl, int num) { if (!pl-\u0026gt;len) { pl-\u0026gt;bucket = (int*)malloc(sizeof(int)); pl-\u0026gt;bucket[pl-\u0026gt;len++] = num; return; } int* tmp = (int*)malloc((pl-\u0026gt;len + 1) * sizeof(int)); for (int i = 0; i \u0026lt; pl-\u0026gt;len; i++) tmp[i] = pl-\u0026gt;bucket[i]; tmp[pl-\u0026gt;len++] = num; free(pl-\u0026gt;bucket); pl-\u0026gt;bucket = tmp; } void bucketSort(int arr[], int len, int bucketsize) { // ç¡®å®šæœ€å¤§æœ€å°å€¼ int max = arr[0], min = max; for (int i = 0; i \u0026lt; len; i++) if (arr[i] \u0026lt; min) min = arr[i]; else if (arr[i] \u0026gt; max) max = arr[i]; // æ¡¶æ•°é‡ int count = (max - min) / bucketsize + 1; // å¯¹åº”çš„æ¡¶ List* buckets = (List*)malloc(count * sizeof(List)); for (int i = 0; i \u0026lt; count; i++) { buckets[i].bucket = NULL; buckets[i].len = 0; } // æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€æ•°ç»„ // æŠŠæ•°æ®æ”¾å…¥ç›¸åº”çš„æ¡¶ for (int i = 0; i \u0026lt; len; i++) { int index = (arr[i] - min) / bucketsize; append(\u0026amp;buckets[index], arr[i]); } // æ–¹æ¡ˆäºŒï¼šäºŒç»´æ•°ç»„ // int* size = (int*)malloc(count * sizeof(int)); // // è®¡ç®—æœ€å¤§å®½åº¦ // for (int i = 0; i \u0026lt; count; i++) // size[i] = 0; // for (int i = 0; i \u0026lt; len; i++) // size[(arr[i] - min) / bucketsize]++; // int maxSize = 0; // for (int i = 0; i \u0026lt; count; i++) // if (size[i] \u0026gt; maxSize) // maxSize = size[i]; // // æŠŠæ•°æ®æ”¾å…¥ç›¸åº”çš„æ¡¶ // for (int i = 0; i \u0026lt; len; i++) // { // int index = (arr[i] - min) / bucketsize; // if (!buckets[index].len) // buckets[index].bucket = (int*)malloc(maxSize * sizeof(int)); // buckets[index].bucket[buckets[index].len++] = arr[i]; // } // free(size); // æ¡¶å†…å¿«æ’å¹¶åˆå¹¶æ•°æ® int index = 0; for (int i = 0; i \u0026lt; count; i++) if (buckets[i].len) { quickSort(buckets[i].bucket, buckets[i].len); for (int j = 0; j \u0026lt; buckets[i].len; j++) arr[index + j] = buckets[i].bucket[j]; index += buckets[i].len; free(buckets[i].bucket); buckets[i].bucket = NULL; buckets[i].len = 0; } free(buckets); } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); bucketSort(arr, len, 5); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } åŸºæ•°æ’åº åŸºæ•°æ’åºæ˜¯ä¸€ç§éæ¯”è¾ƒå‹æ•´æ•°æ’åºç®—æ³•ï¼Œå…¶åŸç†æ˜¯å°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚åŸºæ•°æ’åºè¿˜å¯ä»¥ç”¨äºå…¶å®ƒæ•°æ®ç±»å‹çš„æ’åºï¼ˆä½†å…¶æœ¬è´¨ä¸Šè¿˜æ˜¯æ•´å‹ï¼Œå¦‚å­—ç¬¦å‹ï¼‰ã€‚\nåŸºæ•°æ’åºç”¨åˆ°äº†æ¡¶çš„æ¦‚å¿µï¼Œæ˜¯æ¡¶æ’åºçš„æ‰©å±•ï¼Œå®ƒæ˜¯æ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ã€‚\nç®—æ³•æ­¥éª¤ æœ‰ä¸¤ç±»åŸºæ•°æ’åºï¼š\næœ€ä½ä½ä¼˜å…ˆæ³•ï¼Œç®€ç§°LSDæ³•ï¼šå…ˆä»æœ€ä½ä½å¼€å§‹æ’åºï¼Œå†å¯¹æ¬¡ä½ä½æ’åºï¼Œç›´åˆ°å¯¹æœ€é«˜ä½æ’åºåå¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ï¼› æœ€é«˜ä½ä¼˜å…ˆæ³•ï¼Œç®€ç§°MSDæ³•ï¼šå…ˆä»æœ€é«˜ä½å¼€å§‹æ’åºï¼Œå†é€ä¸ªå¯¹å„åˆ†ç»„æŒ‰æ¬¡é«˜ä½è¿›è¡Œå­æ’åºï¼Œå¾ªç¯ç›´åˆ°æœ€ä½ä½ã€‚ ğŸ“Œå¦‚æœä½æ²¡æœ‰æ•°çš„è¯ï¼Œè¡¥0ã€‚\nåŠ¨ç”»æ¼”ç¤ºï¼š\nä»£ç å®ç° Pythonå®ç° def getBit(num, i): return (num // i) % 10 def getMax(arr): max = arr[0] for i in range(len(arr)): if arr[i] \u0026gt; max: max = arr[i] return max def radixSort(arr): if len(arr) \u0026lt;= 1: return arr # è·å–æœ€å¤§å€¼ max = getMax(arr) # æ ¹æ®æœ€å¤§ä½æ•°æ’åº index = 1 while max // index: # æ¡¶æ’åº buckets = [[] for i in range(10)] for x in arr: bit_num = getBit(x, index) buckets[bit_num].append(x) arr.clear() for x in buckets: arr.extend(x) index *= 10 return arr if __name__ == \u0026#34;__main__\u0026#34; : arr = [ 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 ] radixSort(arr) print(arr) Cå®ç° #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; typedef struct _list { int* bucket; int len; } List; void append(List* pl, int num) { if (!pl-\u0026gt;len) { pl-\u0026gt;bucket = (int*)malloc(sizeof(int)); pl-\u0026gt;bucket[pl-\u0026gt;len++] = num; return; } int* tmp = (int*)malloc((pl-\u0026gt;len + 1) * sizeof(int)); for (int i = 0; i \u0026lt; pl-\u0026gt;len; i++) tmp[i] = pl-\u0026gt;bucket[i]; tmp[pl-\u0026gt;len++] = num; free(pl-\u0026gt;bucket); pl-\u0026gt;bucket = tmp; } int getBit(int num, int i) { return (num / i) % 10; } void radixSort(int arr[], int len) { if (len \u0026lt;= 1) return; // è·å–æœ€å¤§å€¼ int max = arr[0]; for (int i = 1; i \u0026lt; len; i++) if (arr[i] \u0026gt; max) max = arr[i]; // æ ¹æ®æœ€å¤§ä½æ•°æ’åº // æ–¹æ¡ˆä¸€ï¼šåŠ¨æ€æ•°ç»„ for (int i = 1; max / i; i *= 10) { // æ¡¶æ’åº List buckets[10] = { {NULL, 0} }; for (int j = 0; j \u0026lt; len; j++) append(\u0026amp;buckets[getBit(arr[j], i)], arr[j]); int index = 0; for (int j = 0; j \u0026lt; 10; j++) if (buckets[j].len) { for (int k = 0; k \u0026lt; buckets[j].len; k++) arr[index + k] = buckets[j].bucket[k]; index += buckets[j].len; free(buckets[j].bucket); buckets[j].bucket = NULL; buckets[j].len = 0; } } // æ–¹æ¡ˆäºŒï¼šäºŒç»´æ•°ç»„ // for (int i = 1; max / i; i *= 10) // { // // è®¡ç®—æœ€å¤§å®½åº¦ // int size[10] = { 0 }; // for (int j = 0; j \u0026lt; len; j++) // size[getBit(arr[j], i)]++; // int maxSize = size[0]; // for (int j = 0; j \u0026lt; 10; j++) // if (size[j] \u0026gt; maxSize) // maxSize = size[j]; // // æ¡¶æ’åº // List buckets[10] = { {NULL, 0} }; // for (int j = 0; j \u0026lt; len; j++) // { // int index = getBit(arr[j], i); // if (!buckets[index].len) // buckets[index].bucket = (int*)malloc(maxSize*sizeof(int)); // buckets[index].bucket[buckets[index].len++] = arr[j]; // } // int index = 0; // for (int j = 0; j \u0026lt; 10; j++) // if (buckets[j].len) // { // for (int k = 0; k \u0026lt; buckets[j].len; k++) // arr[index + k] = buckets[j].bucket[k]; // index += buckets[j].len; // free(buckets[j].bucket); // buckets[j].bucket = NULL; // buckets[j].len = 0; // } // } } int main(void) { int arr[] = { 22, 34, 3, 32, 82, 55, 89, 50, 37, 5, 64, 35, 9, 70 }; int len = (int)sizeof(arr) / sizeof(*arr); radixSort(arr, len); for (int i = 0; i \u0026lt; len; i++) printf(\u0026#34;%d \u0026#34;, arr[i]); return 0; } ","date":"2022å¹´1æœˆ12æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/","series":[],"smallImg":"","tags":[{"title":"C","url":"/tags/c/"},{"title":"Python","url":"/tags/python/"},{"title":"ç®—æ³•","url":"/tags/%E7%AE%97%E6%B3%95/"}],"timestamp":1641945600,"title":"ç»å…¸æ’åºç®—æ³•"},{"authors":[{"title":"Linner","url":"/authors/linner/"}],"categories":[{"title":"ç¬”è®°","url":"/categories/note/"}],"content":"åŸºæœ¬æ¦‚å¿µ SQLï¼ˆStructured Query Languageï¼Œå‘éŸ³ä¸º sequalï¼‰æ˜¯ä¸€ç§ä¸“é—¨ç”¨æ¥ä¸æ•°æ®åº“æ²Ÿé€šçš„è¯­è¨€ã€‚é€šè¿‡ SQLï¼Œç”¨æˆ·å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œå„ç§æ“ä½œã€‚\næ ‡å‡† SQL ç”± ANSI æ ‡å‡†å§”å‘˜ä¼šç®¡ç†ï¼Œä»è€Œç§°ä¸º ANSISQLã€‚\næ•°æ®åº“ æ•°æ®åº“ï¼ˆdatabaseï¼‰æ˜¯ä¸€ä¸ªç”¨äºä¿å­˜æœ‰ç»„ç»‡çš„æ•°æ®çš„å®¹å™¨æˆ–æ•°æ®é›†åˆã€‚\næ¯ä¸ªæ•°æ®åº“éƒ½æœ‰å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚\nè¡¨ è¡¨ï¼ˆtableï¼‰æ˜¯æŸç§ç‰¹å®šç±»å‹æ•°æ®çš„ç»“æ„åŒ–æ¸…å•ï¼Œç”¨äºå­˜å‚¨æŸç§ç‰¹å®šç±»å‹çš„æ•°æ®ã€‚\nåœ¨åŒä¸€ä¸ªæ•°æ®åº“ä¸­çš„æ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦æ¥æ ‡è¯†è‡ªå·±ã€‚å› æ­¤ï¼Œåœ¨åŒä¸ªæ•°æ®åº“ä¸­ï¼Œä¸èƒ½æ‹¥æœ‰ä¸¤ä¸ªåç§°ç›¸åŒçš„è¡¨ï¼Œä½†åœ¨ä¸åŒçš„æ•°æ®åº“ä¸­å¯ä»¥ä½¿ç”¨ç›¸åŒçš„è¡¨åã€‚\næ¨¡å¼ æ¨¡å¼ï¼ˆschemaï¼‰æ˜¯ä¸€ç§å…³äºæ•°æ®åº“å’Œè¡¨çš„å¸ƒå±€åŠç‰¹æ€§çš„ä¿¡æ¯ã€‚å®ƒæ˜¯ç”¨æ¥æè¿°æ•°æ®åº“ä¸­è¡¨çš„ç‰¹æ€§ï¼ˆå¦‚ï¼Œå­˜å‚¨çš„æ•°æ®ç±»å‹ã€æ•°æ®çš„åˆ†è§£æ–¹å¼ã€å„éƒ¨åˆ†çš„ä¿¡æ¯çš„å‘½åï¼‰ï¼Œæˆ–æè¿°æ•´ä¸ªæ•°æ®åº“ï¼ˆå’Œå…¶ä¸­è¡¨çš„å…³ç³»ï¼‰ã€‚\nè¡Œå’Œåˆ— åˆ— åˆ—ï¼ˆcolumnï¼‰æ˜¯è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼ˆå³ï¼Œè¡¨çš„ç»„æˆéƒ¨åˆ†ï¼‰ã€‚æ‰€æœ‰çš„è¡¨éƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆçš„ã€‚åˆ—å­˜å‚¨è¡¨ä¸­çš„æŸéƒ¨åˆ†ä¿¡æ¯ï¼Œä¸”è¿™éƒ¨åˆ†ä¿¡æ¯å¿…é¡»æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹ï¼ˆdatatypeï¼‰ã€‚\næ•°æ®ç±»å‹é™åˆ¶ï¼ˆæˆ–å…è®¸ï¼‰è¯¥åˆ—ä¸­å­˜å‚¨çš„æ•°æ®çš„ç§ç±»ã€‚å®ƒè¿˜èƒ½å¸®åŠ©æ­£ç¡®åœ°åˆ†ç±»æ•°æ®ï¼Œå¹¶åœ¨ä¼˜åŒ–ç£ç›˜ä½¿ç”¨æ–¹é¢èµ·é‡è¦çš„ä½œç”¨ã€‚\nåˆ©ç”¨ç‰¹å®šçš„åˆ—ï¼Œå¯ä»¥å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»å’Œè¿‡æ»¤ã€‚æ‰€ä»¥ï¼Œæ•°æ®åˆ†è§£ååˆ†é‡è¦ã€‚\næ•°æ®ç±»å‹åŠå…¶åç§°æ˜¯ SQL ä¸å…¼å®¹çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚å¯¹äºä¸åŒçš„ DBMSï¼Œå¤§å¤šæ•°åŸºæœ¬æ•°æ®ç±»å‹éƒ½å¾—åˆ°äº†ä¸€è‡´çš„æ”¯æŒï¼Œä½†è®¸å¤šé«˜çº§æ•°æ®ç±»å‹å´æ²¡æœ‰ã€‚\nè¡Œ è¡¨ä¸­æ¯ä¸€æ¡è®°å½•çš„æ•°æ®éƒ½æ˜¯æŒ‰è¡Œï¼ˆrowï¼‰å­˜å‚¨çš„ã€‚\nä¸»é”® ä¸»é”®ï¼ˆprimary keyï¼‰æ˜¯ç”¨æ¥å”¯ä¸€æ ‡è¯†è¡¨ä¸­æ¯ä¸€è¡Œçš„åˆ—ï¼ˆå¦‚å›½é™…æ ‡å‡†ä¹¦å· ISBN å°±å¯ä½œä¸ºä¸»é”®ï¼‰ï¼Œå¯ä»¥æ˜¯ä¸€åˆ—æˆ–å¤šåˆ—ã€‚\næ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„åˆ—å³å¯ä½œä¸ºä¸»é”®ï¼š\nä»»æ„ä¸¤è¡Œéƒ½ä¸å…·æœ‰ç›¸åŒçš„ä¸»é”®å€¼ã€‚\næ¯ä¸€è¡Œéƒ½å¿…é¡»å…·æœ‰ä¸€ä¸ªä¸»é”®å€¼ï¼ˆä¸»é”®åˆ—ä¸å…è®¸ç©ºå€¼ NULLï¼‰ã€‚\nä¸»é”®åˆ—ä¸­çš„å€¼ä¸å…è®¸ä¿®æ”¹æˆ–æ›´æ–°ã€‚\nä¸»é”®å€¼ä¸èƒ½é‡ç”¨ï¼ˆå³ä½¿æŸè¡Œä»è¡¨ä¸­åˆ é™¤ï¼Œå®ƒçš„ä¸»é”®ä¾ç„¶ä¸èƒ½èµ‹ç»™ä»¥åçš„æ–°è¡Œï¼‰ã€‚\nåœ¨ä½¿ç”¨å¤šåˆ—ä½œä¸ºä¸»é”®æ—¶ï¼Œä¸Šè¿°æ¡ä»¶å¿…é¡»åº”ç”¨åˆ°æ‰€æœ‰åˆ—ï¼Œå³æ‰€æœ‰åˆ—å€¼çš„ç»„åˆå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼ˆä½†ä¸åŒåˆ—ä¸­å¯ä»¥å­˜åœ¨ç›¸åŒçš„å€¼ï¼‰ã€‚\nå…³ç³»æ•°æ®åº“ å…³ç³»æ•°æ®åº“ç”±å…³ç³»è¡¨ç»„æˆï¼Œè€Œå…³ç³»è¡¨çš„è®¾è®¡å°±æ˜¯è¦æŠŠä¿¡æ¯åˆ†è§£æˆå¤šä¸ªè¡¨ï¼Œä¸€ç±»æ•°æ®ä¸€ä¸ªè¡¨ã€‚å„è¡¨é€šè¿‡æŸäº›å…±åŒçš„å€¼äº’ç›¸å…³è”ã€‚\nå¸¸è§çš„ä¸¤ä¸ªå…³ç³»è¡¨éƒ½ä¼šæœ‰è‡³å°‘ä¸€ä¸ªç›¸åŒç±»å‹ä¸”è¡¨ç¤ºç›¸åŒçš„åˆ—ï¼Œå¯¹äºå…¶ä¸­ä¸€ä¸ªè¡¨ï¼Œè¯¥åˆ—æ˜¯è¿™ä¸ªè¡¨çš„ä¸»é”®ï¼Œä»è€Œèƒ½ä½¿å¦ä¸€ä¸ªè¡¨ç”šè‡³å…³ç³»æ•°æ®åº“ä¸­çš„å…¶ä»–è¡¨é€šè¿‡è¿™ä¸ªä¸»é”®å¯¹åº”åˆ°è¿™ä¸ªè¡¨ä¸­çš„è¡Œã€‚\nä¸€ä¸ªä¼˜ç§€çš„å…³ç³»æ•°æ®åº“é€šå¸¸å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\nå…³ç³»åº“ä¸­çš„æ¯ä¸ªè¡¨ä¸­çš„æ¯ä¸ªè¡Œçš„ä¿¡æ¯é‡å¤å¾ˆå°‘ï¼Œå‡å°‘äº†æ—¶é—´å’Œç©ºé—´çš„æµªè´¹ã€‚\nå¦‚æœä¿¡æ¯æœ‰æ›´æ–°ï¼Œä»…éœ€æ›´æ–°å¯¹åº”çš„è¡¨ä¸­çš„æ•°æ®ã€‚\næ•°æ®æ˜¯ä¸€è‡´çš„ï¼ˆæ²¡æœ‰é‡å¤çš„æ•°æ®ï¼‰ï¼Œä½¿å¾—å¤„ç†æ•°æ®å’Œç”ŸæˆæŠ¥è¡¨æ›´ç®€å•ã€‚\næ€»ç»“ï¼šå…³ç³»æ•°æ®åº“çš„å¯ä¼¸ç¼©æ€§ï¼ˆscaleï¼‰è¿œæ¯”éå…³ç³»æ•°æ®åº“è¦å¥½ã€‚\nå¯ä¼¸ç¼©æ˜¯æŒ‡ï¼Œèƒ½å¤Ÿé€‚åº”ä¸æ–­å¢åŠ çš„å·¥ä½œé‡è€Œä¸å¤±è´¥ã€‚\næ•°æ®åº“ç®¡ç†ç³»ç»Ÿ æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDataBase Management Systemï¼ŒDBMSï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå’Œæ“çºµæ•°æ®åº“çš„è½¯ä»¶ã€‚\nç»å¤§å¤šæ•° DBMS éƒ½æ”¯æŒ ANSI SQLï¼Œä½†ä¸€äº› DBMS æœ‰è‡ªå·±çš„æ‰©å±•ã€‚ä¸åŒçš„ SQL å®ç°æœ‰è‡ªå·±çš„åç§°ï¼ˆå¦‚ Oracle çš„ PL/SQLã€å¾®è½¯ SQL Server çš„ Transact-SQL ç­‰ï¼‰ã€‚\nDBMS å¯ä»¥ç®¡ç†å¤šä¸ªæ•°æ®åº“ï¼Œä¸€èˆ¬å¼€å‘äººå‘˜ä¼šé’ˆå¯¹æ¯ä¸€ä¸ªåº”ç”¨åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€‚ä¸ºä¿å­˜åº”ç”¨ä¸­å®ä½“çš„æ•°æ®ï¼Œä¸€èˆ¬ä¼šåœ¨æ•°æ®åº“åˆ›å»ºå¤šä¸ªè¡¨ï¼Œä»¥ä¿å­˜ç¨‹åºä¸­å®ä½“çš„æ•°æ®ã€‚\næ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€æ•°æ®åº“å’Œè¡¨çš„å…³ç³»ï¼š\nSQL è¯­å¥åˆ†ç±» DDLï¼ˆData Definition Languageï¼Œæ•°æ®å®šä¹‰è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼šæ•°æ®åº“ï¼Œè¡¨ï¼Œåˆ—ç­‰ã€‚\nå…³é”®å­—ï¼šcreateã€dropã€alter ç­‰ã€‚\nDMLï¼ˆData Manipulation Languageï¼Œæ•°æ®æ“ä½œè¯­è¨€ï¼‰ï¼šç”¨æ¥å¯¹æ•°æ®åº“ä¸­è¡¨çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹ã€‚\nå…³é”®å­—ï¼šinsertã€deleteã€update ç­‰ã€‚\nDQLï¼ˆData Query Languageï¼Œæ•°æ®æŸ¥è¯¢è¯­è¨€ï¼‰ï¼šç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ä¸­è¡¨çš„è®°å½•ã€‚\nå…³é”®å­—ï¼šselectã€where ç­‰ã€‚\nDCLï¼ˆData Control Languageï¼Œæ•°æ®æ§åˆ¶è¯­è¨€ï¼‰ï¼šç”¨æ¥å®šä¹‰æ•°æ®åº“çš„è®¿é—®æƒé™å’Œå®‰å…¨çº§åˆ«ï¼ŒåŠåˆ›å»ºç”¨æˆ·ã€‚\nå…³é”®å­—ï¼šGRANTã€REVOKE ç­‰ã€‚\nSQL è¯­æ³• SQLè¯­å¥å¯ä»¥å•è¡Œæˆ–å¤šè¡Œä¹¦å†™ï¼Œä»¥åˆ†å·ç»“å°¾ã€‚\nå¯ä½¿ç”¨ç©ºæ ¼å’Œç¼©è¿›æ¥å¢å¼ºè¯­å¥çš„å¯è¯»æ€§ã€‚\nå¤§å¤šæ•°æ•°æ®åº“çš„ SQL è¯­å¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œå…³é”®å­—å»ºè®®ä½¿ç”¨å¤§å†™ï¼ˆå¯ä»¥æé«˜è¿è¡Œé€Ÿåº¦ï¼‰ã€‚\nå­—æ®µ å­—æ®µï¼ˆfiledï¼‰åŸºæœ¬ä¸Šä¸åˆ—çš„æ„æ€ç›¸åŒï¼Œä½†å­—æ®µè¿™ä¸ªæœ¯è¯­é€šå¸¸åœ¨è®¡ç®—å­—æ®µè¿™ç§åœºåˆä¸‹ä½¿ç”¨ã€‚\nSELECT è¯­å¥ ä»»ä½• SQL è¯­å¥éƒ½æ˜¯æŸ¥è¯¢ï¼ˆqueryï¼‰ã€‚ä½†æ­¤æœ¯è¯­ä¸€èˆ¬æŒ‡ SELECT è¯­å¥ã€‚\næ£€ç´¢åˆ—ï¼š\n-- ä» tab_name ä¸­æ£€ç´¢å‡ºfiled1, filed2 ç­‰åˆ—ï¼ˆå­—æ®µï¼‰ -- å¯ä»¥æ£€ç´¢å•ä¸ªåˆ—æˆ–å¤šä¸ªåˆ— SELECT filed1, filed2, ... FROM tab_name; åˆ—çš„é¡ºåºæ˜¯æŒ‰ç…§æŒ‡ä»¤ä¸­æŒ‡å‡ºçš„åˆ—åçš„é¡ºåºæ˜¾ç¤ºã€‚è¡Œçš„é¡ºåºæ˜¯æŒ‰ç…§å­˜å‚¨åœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡ºåºæ˜¾ç¤ºã€‚\nä½¿ç”¨é€šé…ç¬¦ * æ£€ç´¢è¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼š\n-- æ£€ç´¢å‡º tab_name ä¸­æ‰€æœ‰çš„åˆ— SELECT * FROM tab_name; ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿”å›çš„åˆ—æ˜¯æŒ‰ç…§å­˜å‚¨åœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡ºåºæ˜¾ç¤ºçš„ï¼Œå¹¶æ²¡æœ‰ç‰¹å®šé¡ºåºã€‚å¯èƒ½æ˜¯æŒ‰ç…§æ•°æ®è¢«æ·»åŠ åˆ°è¡¨ä¸­çš„é¡ºåºæ˜¾ç¤ºï¼ˆåœ¨æ²¡æœ‰å¢åˆ æ•°æ®çš„æƒ…å†µä¸‹ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ï¼ˆåœ¨æœ‰æ•°æ®è¿›è¡Œè¿‡æ›´æ–°æˆ–åˆ é™¤ï¼Œè¿™ä¸ªé¡ºåºå°†ä¼šå—åˆ° DBMS é‡ç”¨å›æ”¶å­˜å‚¨ç©ºé—´çš„æ–¹å¼çš„å½±å“ï¼‰ã€‚\nä½¿ç”¨é€šé…ç¬¦å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ˜¾ç¤ºè¡¨ä¸­æ‰€æœ‰çš„åˆ—ï¼ˆåŒ…æ‹¬åå­—æœªçŸ¥çš„åˆ—ï¼‰ï¼Œä½†è¿™ä¹ˆåšå¯èƒ½ä¼šé™ä½æ£€ç´¢é€Ÿåº¦å’Œåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼ˆå› ä¸ºç¨‹åºä¼šæ£€ç´¢æ‰€æœ‰è¡¨ä¸­çš„æ‰€æœ‰åˆ—ï¼‰ã€‚\nALL å’Œ DISTINCT å¯ä»¥åœ¨åˆ—åå‰æŒ‡å®š ALLï¼ˆé»˜è®¤ï¼‰å’Œ DISTINCT å…³é”®å­—ï¼Œå®ƒä»¬è¡¨ç¤ºï¼š\nALL â€”â€” åˆ—å‡ºå½“å‰æŒ‡å®šçš„åˆ—çš„æ‰€æœ‰è¡Œã€‚\nDISTINCT â€”â€” åˆ—å‡ºç”±å½“å‰æ‰€æœ‰åˆ—ç»„åˆçš„ä¸é‡å¤çš„è¡Œã€‚\nå¯ä»¥å¯¹èšé›†å‡½æ•°ä½¿ç”¨ ALL å’Œ DISTINCT å…³é”®å­—æŒ‡å®šã€‚\nALL â€”â€” é»˜è®¤é€‰é¡¹ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡Œï¼Œå¯¹èšé›†å‡½æ•°æŒ‡å®š ALLï¼ˆå¯å¿½ç•¥ï¼‰è¡¨ç¤ºå¯¹æ‰€æœ‰çš„è¡Œæ‰§è¡Œè®¡ç®—ã€‚\nDISTINCT â€”â€” æŒ‡å®š DISTINCTï¼ŒåŒ…å«ä¸é‡å¤çš„è¡Œã€‚\nå¯¹èšé›†å‡½æ•°æŒ‡å®š DISTINCT è¡¨ç¤ºåªå¯¹ä¸é‡å¤çš„è¡Œè¿›è¡Œè®¡ç®—ã€‚\nä½¿ç”¨ DISTINCT å¿…é¡»æ˜ç¡®æŒ‡å‡ºåˆ—åï¼Œè€Œä¸èƒ½ä½¿ç”¨ *ã€‚\nåˆ—å‡ºä¸é‡å¤çš„è¡Œï¼š\n-- filed1, filed2, ... ä¸é‡å¤ SELECT DISTINCT filed1, filed2, ... FROM tab_name; DISTINCT ä½œç”¨äºæ‰€æœ‰æŒ‡å®šçš„åˆ—ï¼Œè¯¥ SELECT è¯­å¥ä¼šè¿”å›æ‰€æœ‰ä¸é‡å¤çš„ filed1, filed2, ... ç»„åˆçš„è¡Œã€‚ä½¿ç”¨ DISTINCT * å¯ä»¥è¿”å›ç”±æ‰€æœ‰åˆ—ç»„åˆçš„ä¸é‡å¤çš„è¡Œã€‚\né™åˆ¶è¿”å›çš„è¡Œ å„ DBMS å®ç°å¹¶ä¸ç›¸åŒï¼š\nSQL Serverï¼šä½¿ç”¨ TOP å…³é”®å­—ã€‚\n-- è¿”å›å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•° SELECT TOP n filed1, filed2, ... FROM tab_name; DB2ï¼šFETCH FIRST n ROWS ONLYã€‚\n-- è¿”å›å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•° SELECT filed1, filed2, ... FROM tab_name FETCH FIRST n ROWS ONLY; Oracleï¼šåŸºäº ROWNUMï¼ˆè¡Œè®¡æ•°å™¨ï¼‰ã€‚\n-- è¿”å›å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•° SELECT filed1, filed2, ... FROM tab_name WHERE ROWNUM \u0026lt;= n; MySQLã€MariaDBã€PostgreSQL and SQLiteï¼šä½¿ç”¨ LIMIT å­å¥ã€‚\n-- è¿”å›å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•° SELECT filed1, filed2, ... FROM tab_name LIMIT n; -- è¿”å›ä»ç¬¬ m è¡Œå¼€å§‹çš„å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•°ï¼Œm æ˜¯ä»»ä¸€éè´Ÿæ•´æ•° SELECT filed1, filed2, ... FROM tab_name LIMIT n OFFSET m; åœ¨ MySQLã€MariaDB å’Œ SQLite ä¸­ï¼Œä¸Šæ¡æŒ‡ä»¤å¯ç®€åŒ–ä¸ºï¼š\n-- è¿”å›ä»ç¬¬ m è¡Œå¼€å§‹çš„å‰ n è¡Œ -- n æ˜¯ä»»ä¸€æ­£æ•´æ•°ï¼Œm æ˜¯ä»»ä¸€éè´Ÿæ•´æ•° -- m æŒ‡å®šå¼€å§‹çš„è¡Œæ•°ï¼Œn æŒ‡å®šè¿”å›çš„è¡Œæ•° SELECT filed1, filed2, ... FROM tab_name LIMIT m, n; è¡Œæ˜¯ä» 0 å¼€å§‹è®¡æ•°ã€‚\nORDER BY æ’åºæ•°æ® ä½¿ç”¨ ORDER BY å­å¥å–ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„åå­—ï¼Œæ®æ­¤å¯¹æ•°æ®è¿›è¡Œæ’åºï¼š\n-- order1, order2, ... æ˜¯æ’åºçš„ä¾æ® -- è¯¥è¯­å¥ä¼šå…ˆå¯¹ order1 è¿›è¡Œæ’åº -- ä»…åœ¨å…·æœ‰å¤šè¡Œç›¸åŒ order1 å€¼æ—¶ï¼Œæ‰æŒ‰ç…§ order2 æ’åº SELECT filed1, filed2, ... FROM tab_name ORDER BY order1, order2, ...; ORDER BY å­å¥å¿…é¡»æ˜¯ SELECT è¯­å¥ä¸­çš„æœ€åä¸€æ¡å­å¥ã€‚é»˜è®¤æ˜¯å‡åºæ’åºï¼ˆä» A åˆ° Zï¼‰ã€‚\næŒ‰ç›¸å¯¹åˆ—ä½ç½®è¿›è¡Œæ’åºï¼š\n-- n1ã€n2 â€¦â€¦ æ˜¯å°äºæˆ–ç­‰äºæŒ‡å®šçš„åˆ—çš„æ€»æ•°çš„æ­£æ•´æ•° -- n1ã€n2 â€¦â€¦ è¿™ç»„æ•°ä¸­çš„æ¯ä¸¤ä¸ªæ•°éƒ½ä¸ç›¸ç­‰ SELECT filed1, filed2, ... FROM tab_name ORDER BY n1, n2, ...; æŒ‰ç›¸å¯¹ä½ç½®æ’åºçš„å¥½å¤„æ˜¯ä¸ç”¨è¾“å…¥åˆ—åï¼Œä½†æœ‰å¯èƒ½ä¼šé€ æˆé”™ç”¨åˆ—è¿›è¡Œæ’åºï¼ˆç‰¹åˆ«æ˜¯åœ¨å¯¹ SELECT æ¸…å•è¿›è¡Œæ›´æ”¹æ—¶ï¼‰ã€‚\nå®é™…åˆ—åæ’åºå’Œç›¸å¯¹åˆ—ä½ç½®æ’åºå¯æ··åˆä½¿ç”¨ã€‚\nğŸ“Œæœ€å¥½çš„æ’åºæ–¹å¼æ˜¯ï¼Œå¯¹å†—é•¿çš„åˆ—åé‡å‘½åï¼Œç„¶åä½¿ç”¨åˆ—åè¿›è¡Œæ’åºã€‚è¿™æ ·å¯ä»¥å‡å°‘é”™è¯¯çš„å‡ºç°ã€‚\næŒ‡å®šæ’åºæ–¹å‘ æŒ‡å®šæ’åºçš„å…³é”®å­—ï¼šASC â€”â€” å‡åºæ’åºã€DESC â€”â€” é™åºæ’åºã€‚ASC å’Œ DESC å¿…é¡»å¯¹æ¯ä¸€åˆ—è¿›è¡ŒæŒ‡å®šï¼Œå› ä¸ºå®ƒä»¬åªä¼šå¯¹ç›´æ¥ä½äºå…¶å‰é¢çš„åˆ—åæŒ‡å®šæ’åºæ–¹å¼ã€‚å¯ä»¥å¯¹æŸä¸€åˆ—æŒ‡å®š ASCï¼ˆæˆ– DESCï¼‰åå¯¹å…¶å®ƒåˆ—æŒ‡å®š DESCï¼ˆæˆ– ASCï¼‰ã€‚\n-- order1, order2, ... æ˜¯æ’åºçš„ä¾æ®ï¼Œä¸”éƒ½è¢«æŒ‡å®šäº†å‡åºæ’åº SELECT filed1, filed2, ... FROM tab_name ORDER BY order1 ASC, order2, ... DESC å…³é”®å­—æŒ‡å®šé™åºæ’åºã€‚\n-- order1, order2, ... æ˜¯æ’åºçš„ä¾æ®ï¼Œä¸”éƒ½è¢«æŒ‡å®šäº†é™åºæ’åº SELECT filed1, filed2, ... FROM tab_name ORDER BY order1 DESC, order2 DESC, ...; å¯¹æŸäº›åˆ—æŒ‡å®šå‡åºæ’åºï¼Œå¯¹å¦å¤–æŸäº›åˆ—æŒ‡å®šå‡åºæ’åºã€‚\n-- asc_order1, asc_order2, ... éƒ½æ˜¯æŒ‡å®šå‡åºæ’åº -- desc_order1, desc_order2, ... éƒ½æ˜¯æŒ‡å®šé™åºæ’åº SELECT filed1, filed2, ... FROM tab_name ORDER BY asc_order1 ASC, asc_order2, ..., desc_order1 DESC, desc_order2 DESC, ...; å¤§å¤šæ•° DBMS é»˜è®¤ä½¿ç”¨å­—å…¸ï¼ˆdictionaryï¼‰æ’åºï¼ˆå³å¤§å°å†™å­—æ¯è¢«è§†ä¸ºç›¸åŒï¼‰ï¼Œä½†è®¸å¤š DBMS å…è®¸æ”¹å˜è¿™ç§æ–¹å¼ã€‚\nWHERE è¿‡æ»¤æ•°æ® ä½¿ç”¨ WHERE å­å¥èƒ½å¤Ÿæ ¹æ®æŒ‡å®šçš„æœç´¢æ¡ä»¶ï¼ˆsearch criteriaï¼‰ï¼Œæ£€ç´¢ç”¨æˆ·éœ€è¦çš„æ•°æ®ã€‚æœç´¢æ¡ä»¶ä¹Ÿè¢«ç§°ä¸ºè¿‡æ»¤æ¡ä»¶ï¼ˆfilter condition1ï¼‰ã€‚\næ£€ç´¢å•ä¸€æ¡ä»¶ï¼š\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€åˆ—å -- condition1 çš„ç±»å‹å’Œ n çš„ç±»å‹è¦ä¸€è‡´ SELECT filed1, filed2, ... FROM tab_name WHERE condition11 = n; æ•°æ®ä¹Ÿå¯ä»¥åœ¨åº”ç”¨å±‚è¿›è¡Œè¿‡æ»¤ï¼Œä½†å½“ DBMS è¿”å›çš„æ•°æ®è¶…å‡ºå®é™…æ‰€éœ€çš„æ•°æ®æ—¶ï¼Œä¼šå½±å“åº”ç”¨çš„æ€§èƒ½ï¼Œå¹¶ä¸”é™ä½åº”ç”¨çš„å¯ä¼¸ç¼©æ€§ï¼Œè¿™è¿˜ä¼šé€ æˆç½‘ç»œå®½å¸¦çš„æµªè´¹ï¼ˆæœåŠ¡å™¨ä¸å¾—ä¸é€šè¿‡ç½‘ç»œå‘é€å¤šä½™çš„æ•°æ®ï¼‰ã€‚\nWHERE å­å¥æ“ä½œç¬¦ï¼ˆæ¡ä»¶æ“ä½œç¬¦ï¼‰ï¼š\nå¹¶éæ‰€æœ‰ DBMS éƒ½æ”¯æŒæ‰€æœ‰çš„æ“ä½œç¬¦ï¼ŒæŸäº› DBMS å¯èƒ½ä¸æ”¯æŒä¸ªåˆ«æ“ä½œç¬¦ã€‚\næ“ä½œç¬¦ è¯´æ˜ æ“ä½œç¬¦ è¯´æ˜ = ç­‰äº \u0026gt; å¤§äº \u0026lt;\u0026gt; or != ä¸ç­‰äº \u0026gt;= å¤§äºç­‰äº \u0026lt; å°äº !\u0026gt; ä¸å¤§äº \u0026lt;= å°äºç­‰äº BETWEEN èŒƒå›´åœ¨æŒ‡å®šçš„ä¸¤ä¸ªå€¼ä¹‹é—´ !\u0026lt; ä¸å°äº IS NULL ä¸º NULL çš„å€¼ ä½¿ç”¨ BETWEEN åœ¨æŒ‡å®šèŒƒå›´å†…æ£€ç´¢ï¼š\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€åˆ—å -- condition1 çš„ç±»å‹å’Œ n ã€m çš„ç±»å‹è¦ä¸€è‡´ -- n å’Œ m ä¸ºä½ç«¯å€¼å’Œé«˜ç«¯å€¼ -- æ£€ç´¢æ—¶åŒ¹é…çš„å€¼åŒ…æ‹¬ n å’Œ m SELECT filed1, filed2, ... FROM tab_name WHERE condition11 BETWEEN n AND m; ä½¿ç”¨ IS NULL æ£€ç´¢ç©ºå€¼ï¼š\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€åˆ—å SELECT filed1, filed2, ... FROM tab_name WHERE condition11 IS NULL; IS NOT NULL æ£€ç´¢ä¸ä¸ºç©ºå€¼çš„è¡Œï¼š\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€åˆ—å SELECT filed1, filed2, ... FROM tab_name WHERE condition11 IS NOT NULL; é€»è¾‘æ“ä½œç¬¦ å¯ä»¥åœ¨ä¸€æ¡ WHERE å­å¥ä¸­åŒ…å«ä»»æ„æ•°é‡çš„é€»è¾‘æ“ä½œç¬¦ï¼ˆlogical operatorï¼‰ï¼Œä¸”å…è®¸ä¸¤è€…ç»“åˆä»¥è¿›è¡Œå¤æ‚ã€é«˜çº§çš„è¿‡æ»¤ã€‚\nAND æ“ä½œç¬¦æ£€ç´¢æ»¡è¶³æ‰€æœ‰ç»™å®šæ¡ä»¶çš„è¡Œï¼š\n-- condition11ï¼Œcondition12 â€¦â€¦ æ˜¯åŒ…å«æ¡ä»¶æ“ä½œç¬¦çš„å­å¥ SELECT filed1, filed2, ... FROM tab_name WHERE condition11 AND condition12 AND ...; OR æ“ä½œç¬¦æ£€ç´¢æ»¡è¶³ä»»ä¸€æ¡ä»¶çš„è¡Œï¼š\n-- condition11ï¼Œcondition12 â€¦â€¦ æ˜¯åŒ…å«æ¡ä»¶æ“ä½œç¬¦çš„å­å¥ SELECT filed1, filed2, ... FROM tab_name WHERE condition11 OR condition12 OR ...; è®¸å¤š DBMS åœ¨ä½¿ç”¨ OR æ“ä½œç¬¦æ—¶ï¼Œå½“ç¬¬ 1 ä¸ªæ¡ä»¶æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œå°±ä¸å†è®¡ç®—ç¬¬ 2 ä¸ªæ¡ä»¶ã€‚\nNOT æ“ä½œç¬¦æ˜¯å¦å®šæ“ä½œç¬¦ï¼Œå¦å®šè·Ÿéšåœ¨å…¶åçš„æ¡ä»¶ã€‚\n-- condition1 æ˜¯ä»»æ„æ¡ä»¶å­å¥ SELECT filed1, filed2, ... FROM tab_name WHERE NOT condition11; å¤§å¤šæ•° DBMS å…è®¸ä½¿ç”¨ NOT å¦å®šä»»ä½•æ¡ä»¶ã€‚\nIN æŒ‡å®šæ¡ä»¶èŒƒå›´ IN æ“ä½œç¬¦ç”¨æ¥æŒ‡å®šæ¡ä»¶èŒƒå›´ï¼ŒåŒ¹é…èŒƒå›´ä¸­æŒ‡å®šçš„æ¯ä¸ªæ¡ä»¶ã€‚IN æ“ä½œç¬¦åçš„æ‹¬å·ä¸­çš„åˆæ³•å€¼ç”¨é€—å·åˆ†éš”ã€‚\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€åˆ— -- val1, val2, ... æ˜¯ä¸ condition1 ç±»å‹ç›¸åŒçš„ä¸€ç»„åˆæ³•å€¼ SELECT filed1, filed2, ... FROM tab_name WHERE condition1 IN (val1, val2, ...); IN æ“ä½œç¬¦å’Œ OR æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼ï¼Œä½†åœ¨æŸäº›æ–¹é¢ï¼ŒIN æ“ä½œç¬¦æœ‰å…¶ä¼˜ç‚¹ã€‚\nåœ¨æœ‰å¾ˆå¤šåˆæ³•é€‰é¡¹æ—¶ï¼ŒIN æ“ä½œç¬¦å¯è¯»æ€§æ›´å¼ºã€‚\nä¸å…¶ä»– AND å’Œ OR æ“ä½œç¬¦ç»„åˆä½¿ç”¨ IN æ—¶ï¼Œæ±‚å€¼é¡ºåºæ›´å®¹æ˜“ç®¡ç†ã€‚\nIN æ“ä½œç¬¦ä¸€èˆ¬æ¯”ä¸€ç»„ OR æ“ä½œç¬¦æ‰§è¡Œå¾—æ›´å¿«ã€‚\nIN æ“ä½œç¬¦å¯åŒ…å«å…¶ä»– SELECT è¯­å¥ï¼Œèƒ½æ›´åŠ¨æ€åœ°å»ºç«‹ WHERE å­å¥ã€‚\né€šé…ç¬¦ é€šé…ç¬¦ï¼ˆwildcardï¼‰æ˜¯ç”¨äºåŒ¹é…å€¼çš„ä¸€éƒ¨åˆ†çš„ç‰¹æ®Šå­—ç¬¦ã€‚\næœç´¢æ¨¡å¼ï¼ˆsearch patternï¼‰ç”±å­—é¢å€¼ã€é€šé…ç¬¦æˆ–ä¸¤è€…ç»„åˆæ„æˆçš„æœç´¢æ¡ä»¶ã€‚\nåˆ©ç”¨é€šé…ç¬¦ï¼Œå¯ä»¥åˆ›å»ºæ¯”è¾ƒç‰¹å®šæ•°æ®çš„æœç´¢æ¨¡å¼ã€‚è¦ä½¿ç”¨é€šé…ç¬¦ï¼Œå¿…é¡»åœ¨æœç´¢å­å¥ä¸­ä½¿ç”¨ LIKE æ“ä½œç¬¦ã€‚ä¸”é€šé…ç¬¦åªèƒ½ç”¨äºå­—ç¬¦ä¸²ã€‚\nä½¿ç”¨é€šé…ç¬¦æœç´¢ä¸€èˆ¬æ¯”å…¶ä»–ç®€å•æœç´¢è€—è´¹æ›´é•¿çš„å¤„ç†æ—¶é—´ã€‚\nä¸è¦è¿‡åº¦ä½¿ç”¨é€šé…ç¬¦ã€‚\nå°½é‡ä¸è¦æŠŠé€šé…ç¬¦ç”¨åœ¨æœç´¢æ¨¡å¼çš„å¼€å§‹å¤„ï¼ˆé€šé…ç¬¦ç½®äºå¼€å§‹å¤„æ˜¯æœ€æ…¢çš„ï¼‰ã€‚\nä¸åŒç±»å‹çš„é€šé…ç¬¦å¯ä»¥æ··åˆä½¿ç”¨ã€‚\n% é€šé…ç¬¦ï¼šè¡¨ç¤ºä»»ä½•å­—ç¬¦å‡ºç°ä»»æ„æ¬¡æ•°ã€‚\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€å­—ç¬¦ç±»å‹çš„åˆ— -- è¯¥è¯­å¥è¡¨ç¤ºåœ¨ condition1 åˆ—ä¸­æœç´¢ä»¥ ABC å¼€å¤´çš„å­—ç¬¦ä¸² SELECT filed1, filed2, ... FROM tab_name WHRER condition1 LIKE \u0026#39;ABC%\u0026#39;; åŒ…å« ABC çš„å­—ç¬¦ä¸²ï¼š'%ABC%'ï¼›\nä»¥ ABC ç»“å°¾çš„å­—ç¬¦ä¸²ï¼š'ABC%'ï¼›\nä»¥ A ä¸ºå¼€å¤´ï¼Œä»¥ B ä¸ºç»“å°¾çš„å­—ç¬¦ï¼š'A%B'ï¼›\næŸäº› DBMS ä¼šç”¨ç©ºæ ¼æ¥å¡«è¡¥å­—æ®µå†…å®¹ï¼Œå¯èƒ½ä¼šå¯¹è¯¥æœç´¢æ¨¡å¼é€ æˆå½±å“ã€‚\nåŒ…å« AB å’Œ CD çš„å­—ç¬¦ä¸²ï¼š'%AB%CD%'ï¼›\nâ€¦â€¦\n_ é€šé…ç¬¦ï¼šè¡¨ç¤ºåŒ¹é…å•ä¸ªä»»æ„å­—ç¬¦ã€‚\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€å­—ç¬¦ç±»å‹çš„åˆ— -- è¯¥è¯­å¥è¡¨ç¤ºåŒ¹é…ä»¥ ABC ç»“å°¾ï¼Œå¼€å¤´ä¸ºä»»æ„ä¸€ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸² SELECT filed1, filed2, ... FROM tab_name WHERE condition1 LIKE \u0026#39;_ABC\u0026#39;; [] é€šé…ç¬¦ï¼šç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†ï¼Œå®ƒå¿…é¡»åŒ¹é…æŒ‡å®šä½ç½®çš„ä¸€ä¸ªå­—ç¬¦ã€‚\nExample:\n-- condition1 æ˜¯è¡¨ä¸­ä»»ä¸€å­—ç¬¦ç±»å‹çš„åˆ— -- è¯¥è¯­å¥åŒ¹é…ä»¥ A æˆ– B å…¶ä¸­ä¹‹ä¸€ä¸ C çš„ç»„åˆçš„å­—ç¬¦ä¸²ï¼ˆä»…æœ‰ä¸¤ä¸ªå­—ç¬¦ï¼‰ SELECT filed1, filed2, ... FROM tab_name WHERE condition1 LIKE \u0026#39;[AB]C\u0026#39;; ä½¿ç”¨ ^ å¯ä»¥æ¥å¦å®š [] å®šä¹‰çš„å­—ç¬¦é›†ï¼š'[^AB]' â€”â€” è¯¥æ¨¡å¼ä¼šåŒ¹é…é™¤äº† A å’Œ B ä¹‹å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ã€‚\nå­æŸ¥è¯¢ å­æŸ¥è¯¢é€šè¿‡åµŒå¥—çš„SELECTè¯­å¥ï¼Œå°†æŸ¥è¯¢ç»“æœä½œä¸ºå€¼è¿”å›ã€‚\nSELECTå¯ä»¥åµŒå¥—åœ°ä½¿ç”¨ã€‚\næ‹¼æ¥ æ‹¼æ¥ï¼ˆconcatenateï¼‰æ˜¯æŒ‡å°†å€¼è”ç»“åˆ°ä¸€èµ·ï¼ˆå°†ä¸€ä¸ªå€¼é™„åŠ åˆ°å¦ä¸€ä¸ªå€¼ï¼‰æ„æˆå•ä¸ªå€¼ã€‚\nSQL Server ä½¿ç”¨ + å·æ‹¼æ¥ï¼š\n-- filed1, filed2, filed3, ... å¯ä»¥æ˜¯ä»»æ„åŒç±»å‹çš„å­—æ®µ SELECT filed1 + filed2 + filed3 + ... FROM tab_name; DB2ã€Oracleã€PostgreSQL å’Œ SQLite ä½¿ç”¨ ||ï¼šfiled1 || filed2 || filed3 || ...ã€‚\nMySQL å’Œ MariaDB ä½¿ç”¨ Concat() å‡½æ•°ï¼šConcat(filed1, filed2, filed3, ...)ã€‚\næŸäº› DBMS ä¼šç”¨ç©ºæ ¼å¡«å……å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨ RTRIM() å‡½æ•°æ¥æ¸…é™¤è¿™äº›ç©ºæ ¼ã€‚\nAS æŒ‡å®šåˆ«å ä½¿ç”¨ AS å…³é”®å­—èµ‹äºˆå­—æ®µæˆ–å€¼ä¸€ä¸ªåˆ«åï¼ˆaliasï¼‰ã€‚åˆ«åæ—¢å¯ä»¥æ˜¯ä¸€ä¸ªå•è¯ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²éœ€ç”¨å¼•å·æ‹¬èµ·ã€‚ä½¿ç”¨åˆ«åæ—¶ä¸åº”ä½¿ç”¨è¡¨ä¸­å®é™…çš„åˆ—åï¼Œè™½ç„¶è¿™æ ·åšä¹Ÿç®—åˆæ³•ï¼Œä½†å¯èƒ½ä¼šäº§ç”Ÿæ¨¡ç³Šçš„é”™è¯¯æ¶ˆæ¯ã€‚\n-- filed æ˜¯ä¸€ä¸ªå­—æ®µæˆ–å€¼ -- alias æ˜¯ filed çš„åˆ«å -- èµ‹äºˆåˆ«ååå¯ä»¥åœ¨æ¥ä¸‹æ¥çš„å­å¥ä¸­ä½¿ç”¨åˆ«åæ¥æ›¿ä»£è¿™ä¸ªå­—æ®µ SELECT filed AS alias FROM tab_name ORDER BY alias; å‡½æ•° æ•°å€¼å¤„ç†å‡½æ•° æ•°å€¼å¤„ç†å‡½æ•°ä»…å¤„ç†æ•°å€¼æ•°æ®ï¼Œæ˜¯æœ€ä¸€è‡´ã€æœ€ç»Ÿä¸€çš„å‡½æ•°ã€‚\nå¸¸ç”¨çš„æ•°å€¼å¤„ç†å‡½æ•°ï¼š\nFunctions Explain ABC() è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚ COS() è¿”å›ä¸€ä¸ªè§’åº¦çš„ä½™å¼¦ã€‚ EXP() è¿”å›ä¸€ä¸ªæ•°çš„æŒ‡æ•°å€¼ã€‚ PI() è¿”å›åœ†å‘¨ç‡ $\\pi$ å€¼ã€‚ SIN() è¿”å›ä¸€ä¸ªè§’åº¦çš„æ­£å¼¦ã€‚ SQRT() è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹ã€‚ TAN() è¿”å›ä¸€ä¸ªè§’åº¦çš„æ­£åˆ‡ã€‚ æ–‡æœ¬å¤„ç†å‡½æ•° å¸¸ç”¨çš„æ–‡æœ¬å¤„ç†å‡½æ•°ï¼š\nFunctions Explain LEFT(str, num) è¿”å›å­—ç¬¦ä¸² str å·¦è¾¹å‰ num ä¸ªå­—ç¬¦ã€‚ LENGTH(str)ã€ DATALENGTH(str) or LEN(str) è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ LOWER(str) å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚ LTRIM(str) å»æ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼ã€‚ RIGHT(str, num) è¿”å›å­—ç¬¦ä¸² str å³è¾¹å‰ num ä¸ªå­—ç¬¦ã€‚ RTRIM(str) å»æ‰å­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼ã€‚ SUBSTR(str, n, size) or SUBSTRING(str, n, size) æå–å­—ç¬¦ä¸²çš„ç»„æˆéƒ¨åˆ†ã€‚ DB2ã€Oracleã€PostgreSQL å’Œ SQLite ä½¿ç”¨ SUBSTR()ï¼› MariaDBã€MySQL å’Œ SQL Server ä½¿ç”¨ SUBSTRING()ã€‚ n æ˜¯æŒ‡å­—ç¬¦ä¸²ä¸­ç¬¬ n ä¸ªå­—ç¬¦ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰ï¼Œ size æ˜¯æŒ‡æˆªå–çš„å­—ç¬¦ä¸²é•¿åº¦ï¼Œæˆªå–å‡ºçš„å­—ç¬¦ä¸²åŒ…æ‹¬ç¬¬ n ä¸ªå­—ç¬¦ã€‚ SOUNDEX(str) è¿”å›å­—ç¬¦ä¸²çš„ SOUNDEX å€¼ï¼ˆæè¿° str è¯­éŸ³è¡¨ç¤ºçš„å­—æ¯æ•°å­—æ¨¡å¼ï¼‰ã€‚ PostgreSQL ä¸æ”¯æŒã€‚SQLite è¦å¼€å¯ SQLITE_SOUNDEX ç¼–è¯‘é€‰é¡¹ã€‚ ä½¿ç”¨ SOUNDEX() å‡½æ•°å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œ ä½¿å¾—èƒ½å¯¹å­—ç¬¦ä¸²è¿›è¡Œå‘éŸ³æ¯”è¾ƒè€Œä¸æ˜¯å­—æ¯æ¯”è¾ƒã€‚ å¦‚ WHERE SOUNDEX(str1) = SOUNDEX(str2)ã€‚ UPPER(str) å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚ æ—¥æœŸå’Œæ—¶é—´å¤„ç†å‡½æ•° æ—¥æœŸå’Œæ—¶é—´å‡½æ•°åœ¨ SQL ä¸­å¯ç§»æ¤æ€§æœ€å·®ã€‚\nSQL Server ä½¿ç”¨ DATEPART(part, date) è¿”å›æ—¥æœŸä¸­çš„ä¸€éƒ¨åˆ†ï¼Œpartï¼ˆä¸æ˜¯å­—ç¬¦å‹çš„å‚æ•°ï¼‰æŒ‡å®šè¦è¿”å›çš„æˆåˆ†ï¼Œdate æ˜¯è¦ä»ä¸­å›½å¹´è¿”å›æˆåˆ†çš„æ—¥æœŸã€‚\nPostgreSQL ä½¿ç”¨ DATE_PART(part_str, date) è¿”å›æ—¥æœŸä¸­çš„ä¸€éƒ¨åˆ†ï¼Œpart_str æŒ‡å®šè¦è¿”å›çš„æˆåˆ†ï¼Œdate æ˜¯è¦ä»ä¸­å›½å¹´è¿”å›æˆåˆ†çš„æ—¥æœŸã€‚\nOracle å’Œ PostgreSQL éƒ½æ”¯æŒ EXTRACT(part FROM date) è¿”å›æ—¥æœŸä¸­çš„ä¸€éƒ¨åˆ†ã€‚partï¼ˆä¸æ˜¯å­—ç¬¦å‹ï¼‰æŒ‡å®šè¦è¿”å›çš„æˆåˆ†ï¼Œdate æ˜¯è¦ä»ä¸­å›½å¹´è¿”å›æˆåˆ†çš„æ—¥æœŸã€‚\nOracle è¿˜æ”¯æŒ to_date(date_str, form_str) å°†å­—ç¬¦ä¸²è½¬åŒ–æˆæ—¥æœŸï¼Œdate_str æ˜¯æŸä¸ªå¸¦æœ‰æ—¥æœŸæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œform_str æŒ‡å®šæ—¥æœŸçš„å½¢å¼ã€‚ä¸€èˆ¬è¿™æ ·ä½¿ç”¨ï¼šWHERE date_column BETWEEN to_date('2020-01-01', 'yyyy-mm-dd') AND todate('2020-12-31', 'yyyy-mm-dd')ã€‚\nDB2ã€MySQL å’Œ MariaDB ä¸­æœ‰ YEAR(date) å’Œ MONTH(date) ç­‰å‡½æ•°ç”¨äºæå–å¹´ä»½å’Œæœˆä»½ç­‰ä¿¡æ¯ã€‚\nåœ¨ SQLite å¯ä»¥ä½¿ç”¨ strftime('%Y', date) æå–å¹´ä»½ï¼Œä¹Ÿå¯ä»¥æå–æœˆä»½ç­‰ã€‚\nMySQL Date å‡½æ•°ï¼š\nå‡½æ•° æè¿° NOW() è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ã€‚ CURDATE() è¿”å›å½“å‰çš„æ—¥æœŸã€‚ CURTIME() è¿”å›å½“å‰çš„æ—¶é—´ã€‚ DATE() æå–æ—¥æœŸæˆ–æ—¥æœŸ/æ—¶é—´è¡¨è¾¾å¼çš„æ—¥æœŸéƒ¨åˆ†ã€‚ EXTRACT() è¿”å›æ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ†ã€‚ DATE_ADD() å‘æ—¥æœŸæ·»åŠ æŒ‡å®šçš„æ—¶é—´é—´éš”ã€‚ DATE_SUB() ä»æ—¥æœŸå‡å»æŒ‡å®šçš„æ—¶é—´é—´éš”ã€‚ DATEDIFF() è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚ DATE_FORMAT() ç”¨ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸ/æ—¶é—´ã€‚ SQL Server Date å‡½æ•°ï¼š\nå‡½æ•° æè¿° GETDATE() è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ DATEPART() è¿”å›æ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ† DATEADD() åœ¨æ—¥æœŸä¸­æ·»åŠ æˆ–å‡å»æŒ‡å®šçš„æ—¶é—´é—´éš” DATEDIFF() è¿”å›ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„æ—¶é—´ CONVERT() ç”¨ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸ/æ—¶é—´ æ±‡æ€»æ•°æ® ä½¿ç”¨èšé›†å‡½æ•°ï¼ˆaggregate functionï¼‰å¯ä»¥å¯¹æŸäº›è¡Œè¿›è¡Œè®¡ç®—å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚\nSQL èšé›†å‡½æ•°ï¼š\nFunctions Explain AVG(filed) è¿”å›æŸå­—æ®µçš„å¹³å‡æ•°ï¼Œç±»å‹å¿…é¡»æ˜¯æ•°å€¼ç±»å‹ï¼ŒAVG() ä¼šå¿½ç•¥å€¼ä¸º NULL çš„è¡Œã€‚ COUNT(filed) è¿”å›æŸå­—æ®µçš„è¡Œæ•° MAX(filed) è¿”å›æŸå­—æ®µçš„æœ€å¤§å€¼ï¼Œå…è®¸ filed æ˜¯æ—¥æœŸå€¼ï¼Œè®¸å¤š DBMS è¿˜å…è®¸ filed æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœ filed æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ MAX() ä¼šè¿”å›æŒ‰è¯¥åˆ—æ’åºåçš„æœ€åä¸€è¡Œã€‚MAX() å¿½ç•¥å€¼ä¸º NULL çš„è¡Œã€‚ MIN(filed) è¿”å›æŸå­—æ®µçš„æœ€å°å€¼ï¼Œä¸ MAX() ç±»ä¼¼ï¼Œå¦‚æœ filed æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ MAX() ä¼šè¿”å›æŒ‰è¯¥åˆ—æ’åºåçš„æœ€å‰é¢ä¸€è¡Œã€‚ SUM(filed) è¿”å›æŸåˆ—å€¼ä¹‹å’Œï¼Œç±»å‹å¿…é¡»æ˜¯æ•°å€¼ç±»å‹ï¼ŒSUM() ä¼šå¿½ç•¥å€¼ä¸º NULL çš„è¡Œã€‚ Usage for Example:\nSELECT AVG(filed) AS average FROM tab_name WHERE condition1; SELECT è¯­å¥å¯ä»¥æ ¹æ®éœ€è¦åŒ…å«å¤šä¸ªèšé›†å‡½æ•°ã€‚\nGROUP BY æ•°æ®åˆ†ç»„ åˆ†ç»„æ˜¯ä½¿ç”¨ SELECT è¯­å¥çš„ GROUP BY å­å¥ï¼Œå°†æ•°æ®åˆ†ä¸ºå¤šä¸ªé€»è¾‘ç»„ï¼Œå¯¹æ¯ä¸ªç»„è¿›è¡Œæ“ä½œã€‚\n-- æ˜¾ç¤º filed1, filed2, ... å¹¶æ ¹æ®å®ƒä»¬è¿›è¡Œåˆ†ç»„ -- COUNT(*) è¡¨ç¤ºè®¡ç®—åˆ†ç»„ä¸­çš„æ‰€æœ‰è¡Œ -- è¯¥è¯­å¥æ˜¯å…ˆæŒ‰ç…§ filed1 è¿›è¡Œåˆ†ç»„ï¼Œç„¶åå†æŒ‰ç…§ filed2 è¿›è¡Œåˆ†ç»„ -- ä½¿ç”¨åˆ†ç»„åè¾“å‡ºçš„ç»“æœå¯èƒ½æ˜¯æ ¹æ® filed1, filed2, ... æ’åºå¥½çš„ SELECT filed1, filed2, ..., COUNT(*); FROM tab_name GROUP BY filed1, filed2, ...; GROUP BY å­å¥æŒ‡ç¤º DBMS åˆ†ç»„æ•°æ®ï¼Œç„¶åå¯¹æ¯ä¸ªç»„ï¼ˆä¸æ˜¯æ•´ä¸ªç»“æœé›†ï¼‰è¿›è¡Œèšé›†ã€‚\nä½¿ç”¨ GROUP BY çš„è§„å®šï¼š\nGROUP BY å­å¥å¯ä»¥åŒ…å«ä»»æ„æ•°ç›®çš„åˆ—ã€‚æ‰€ä»¥å¯ä»¥å¯¹åˆ†ç»„è¿›è¡ŒåµŒå¥—ï¼Œæ›´ç»†è‡´åœ°è¿›è¡Œæ•°æ®åˆ†ç»„ã€‚\nåœ¨å»ºç«‹åˆ†ç»„åï¼Œæ“ä½œçš„æœ€å°å•ä½åªèƒ½æ˜¯åˆ†ç»„ï¼Œè€Œæ— æ³•å†å¯¹ä¸ªåˆ«åˆ—è¿›è¡Œæ“ä½œã€‚\nGROUP BY å­å¥ä¸­åˆ—å‡ºçš„æ¯ä¸€åˆ—éƒ½å¿…é¡»æ˜¯æ£€ç´¢åˆ—æˆ–æœ‰æ•ˆè¡¨è¾¾å¼åˆ—ï¼ˆä½†ä¸èƒ½æ˜¯èšé›†å‡½æ•°ï¼‰ã€‚åœ¨ SELECT ä¸­ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»åœ¨ GROUP BY å­å¥ä¸­æŒ‡å®šç›¸åŒçš„è¡¨è¾¾å¼ï¼Œè€Œä¸èƒ½ä½¿ç”¨åˆ«åã€‚\nå¤§å¤šæ•° SQL å®ç°ä¸å…è®¸ GROUP BY åˆ—å¸¦æœ‰é•¿åº¦å¯å˜çš„æ•°æ®ç±»å‹ï¼ˆå¦‚æ–‡æœ¬æˆ–å¤‡æ³¨å‹å­—æ®µï¼‰ã€‚\né™¤èšé›†è®¡ç®—è¯­å¥å¤–ï¼ŒSELECT è¯­å¥ä¸­çš„æ¯ä¸€åˆ—éƒ½å¿…é¡»åœ¨ GROUP BY å­å¥ä¸­ç»™å‡ºã€‚\nåˆ†ç»„åˆ—ä¸­æ‰€æœ‰åŒ…å«å…·æœ‰ NULL å€¼çš„è¡Œï¼Œéƒ½å°† NULL ä½œä¸ºä¸€ä¸ªåˆ†ç»„è¿”å›ã€‚\nGROUP BY å­å¥å¿…é¡»å‡ºç°åœ¨ WHERE å­å¥ä¹‹åï¼ŒORDER BY å­å¥ä¹‹å‰ã€‚\nğŸ“Œå¹¶éæ‰€æœ‰ SQL å®ç°éƒ½æ”¯æŒåœ¨ä½¿ç”¨ GROUP BY å­å¥æ—¶ï¼Œä½¿ç”¨ç›¸å¯¹ä½ç½®æŒ‡å®šåˆ—ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒå®¹æ˜“åœ¨ç¼–è¾‘ SQL è¯­å¥æ—¶å‡ºé”™ã€‚\nHAVING è¿‡æ»¤åˆ†ç»„ ä½¿ç”¨ HAVING å­å¥æ¥è¿‡æ»¤åˆ†ç»„ã€‚HAVING æ”¯æŒæ‰€æœ‰ WHERE å­å¥æ”¯æŒçš„æ“ä½œç¬¦ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯ WHERE ä»…å¯¹è¡Œè¿›è¡Œè¿‡æ»¤ï¼Œè€Œ HAVING å¯ä»¥å¯¹åˆ†ç»„è¿›è¡Œè¿‡æ»¤ï¼ˆåœ¨æ²¡æœ‰æŒ‡å®š GROUP BY æ—¶ï¼Œå¤§å¤šæ•° DBMS ä¼šåŒç­‰å¯¹å¾… WHERE å’Œ HAVINGï¼Œå³ HAVING ä¹Ÿå¯ä»¥å¯¹è¡Œè¿›è¡Œè¿‡æ»¤ï¼‰ã€‚\n-- filed_1, filed_2, ... æ˜¯èšé›†æ“ä½œ -- condition1 æ˜¯ç›¸å¯¹äºæ¯è¡Œçš„æ¡ä»¶ï¼Œcondition1_ æ˜¯ç›¸å¯¹äºæ¯ä¸ªåˆ†ç»„çš„æ¡ä»¶ SELECT filed1, filed2, ... filed_1, filed_2, ...; FROM tab_name WHERE condition1 GROUP BY filed1, filed2, ... HAVING condition1_; åœ¨åŒæ—¶ä½¿ç”¨ WHERE å’Œ GROUP BY æ—¶ï¼Œè¢« WHERE è¿‡æ»¤æ‰çš„è¡Œå¹¶ä¸ä¼šåŒ…æ‹¬åœ¨åˆ†ç»„ä¸­ã€‚\nåˆ†ç»„å’Œæ’åº ORDER BY ä¸ GROUP BY çš„åŒºåˆ«\nORDER BY GROUP BY å¯¹äº§ç”Ÿçš„è¾“å‡ºæ’åº å¯¹è¡Œåˆ†ç»„ï¼Œä½†è¾“å‡ºå¯èƒ½ä¸æ˜¯åˆ†ç»„çš„é¡ºåº ä»»æ„åˆ—éƒ½å¯ä»¥ä½¿ç”¨ï¼ˆç”šè‡³éé€‰æ‹©çš„åˆ—ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œå³ SELECT æ²¡æœ‰ç»™å‡ºçš„åˆ—ä¹Ÿèƒ½ä½¿ç”¨ï¼‰ åªå¯èƒ½ä½¿ç”¨é€‰æ‹©åˆ—æˆ–è¡¨è¾¾å¼åˆ—ï¼ˆSELECT ä¸­ç»™å‡ºçš„åˆ—ï¼‰ï¼Œè€Œä¸”å¿…é¡»ä½¿ç”¨æ¯ä¸ªé€‰æ‹©åˆ—è¡¨è¾¾å¼ï¼ˆä¸èƒ½ä½¿ç”¨åˆ«åï¼‰ æ˜¯å¯é€‰çš„ï¼Œä»»ä½•æƒ…å†µä¸‹éƒ½èƒ½æ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦ä½¿ç”¨ åœ¨ä½¿ç”¨èšé›†å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œ è¿˜è¦æ˜¾ç¤ºåˆ—ï¼ˆæˆ–è¡¨è¾¾å¼ï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ GROUP BY åˆ†ç»„ä¸ä¸€å®šæ˜¯æŒ‰ç…§åˆ†ç»„é¡ºåºè¾“å‡ºçš„ï¼Œæ‰€ä»¥åº”è¯¥æä¾›æ˜ç¡®çš„ ORDER BY å­å¥æŒ‡å®šæ’åºæ–¹å¼ï¼Œä»¥ç¡®ä¿åœ¨ä»»ä½•æƒ…å†µä¸‹è¾“å‡ºéƒ½èƒ½æ­£ç¡®åœ°æ’åºã€‚\nå­æŸ¥è¯¢ å­æŸ¥è¯¢ï¼ˆsubqueryï¼‰æ˜¯æŒ‡åµŒå¥—åœ¨å…¶ä»–æŸ¥è¯¢ä¸­çš„æŸ¥è¯¢ã€‚\n-- æ¯ä¸ªå­æŸ¥è¯¢ä¸­çš„ SELECT è¯­å¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå­—æ®µ -- åœ¨å­æŸ¥è¯¢ä¸­ä¼å›¾æ£€ç´¢å¤šä¸ªåˆ—å°†è¿”å›é”™è¯¯ -- ç†è®ºä¸Šå¯ä»¥æ— é™åµŒå¥—ï¼Œä½†å®é™…ä½¿ç”¨æ—¶ç”±äºæ€§èƒ½çš„é™åˆ¶ï¼Œä¸èƒ½åµŒå¥—å¤ªå¤šçš„å­æŸ¥è¯¢ SELECT filed1, filed2, ... FROM table1 WHERE condition11 IN (SELECT filed_1 FROM table2 WHERE condition12 IN (SELECT filed_2 FROM table3 WHERE condition13 IN (...)); åœ¨ SELECT è¯­å¥ä¸­ï¼Œå­æŸ¥è¯¢æ€»æ˜¯ä»å†…å‘å¤–å¤„ç†ï¼ˆç±»ä¼¼é€’å½’çš„å¤„ç†æ–¹å¼ï¼‰ã€‚\nä½¿ç”¨è®¡ç®—å­—æ®µè¿›è¡Œå­æŸ¥è¯¢ -- filed_1, filed_2, ... æ˜¯è®¡ç®—å­—æ®µï¼Œæ˜¯ç”±å…¶ AS å‰çš„åœ†æ‹¬å·ä¸­çš„å­æŸ¥è¯¢å»ºç«‹çš„ -- table1._filed1 æ˜¯ table1 ä¸­åä¸º _filed1 çš„åˆ—æˆ–åˆ—è¡¨è¾¾å¼ -- table2._filed1 æ˜¯ table2 ä¸­åä¸º _filed2 çš„åˆ—æˆ–åˆ—è¡¨è¾¾å¼ -- table1._filed1 å’Œ table2._filed1 æ˜¯ä¸¤ä¸ªä¸åŒè¡¨æ ¼ä¸­åŒååŒç±»å‹çš„åˆ—ï¼Œå¹¶ä¸æ˜¯åŒä¸€ä¸ªåˆ— -- table1._filed2 å’Œ table3._filed2 çš„å…³ç³»ä¸ table1._filed1 å’Œ table2._filed1 ç±»ä¼¼ -- ç¬¬ 1 æ¡å­æŸ¥è¯¢çš„è§£é‡Šæ˜¯ï¼Œå¯¹æ‰€æœ‰ table2 ä¸­ç¬¦åˆ table1._filed1 = table2._filed1 çš„è¡Œè¿›è¡Œè®¡æ•° SELECT filed1, filed2, ... (SELECT COUNT(*) FROM table2 WHERE table1._filed1 = table2._filed1) AS filed_1 (SELECT COUNT(*) FROM table3 WHERE table1._filed2 = table3._filed2) AS filed_2 ... FROM table1; è®¡ç®—å­—æ®µç”¨ä¸€ä¸ªå¥ç‚¹åˆ†éš”è¡¨åå’Œåˆ—åï¼Œå¥ç‚¹å‰æ˜¯è¡¨åï¼Œå¥ç‚¹åæ˜¯åˆ—åï¼Œå³ tab_name.columnï¼Œè¿™ç§å†™æ³•ä¹Ÿå«å®Œå…¨é™å®šåˆ—åã€‚åœ¨æœ‰å¯èƒ½æ··æ·†åˆ—åæ—¶ï¼ˆå¦‚ä½¿ç”¨å­æŸ¥è¯¢æ—¶ï¼‰å¿…é¡»ä½¿ç”¨è¿™ç§è¯­æ³•ã€‚\nJOIN è”ç»“è¡¨ è”ç»“ï¼ˆjoinï¼‰æ˜¯ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥åœ¨ä¸€æ¡ SELECT è¯­å¥ä¸­å…³è”è¡¨ï¼Œå¯ä»¥è”ç»“å¤šä¸ªè¡¨è¿”å›ä¸€ç»„è¾“å‡ºã€‚\nè”ç»“ä¸æ˜¯ç‰©ç†å®ä½“ï¼Œå®ƒåœ¨å®é™…çš„æ•°æ®åº“è¡¨æ€»å¹¶ä¸å­˜åœ¨ï¼Œå®ƒä»…åœ¨æ•°æ®æŸ¥è¯¢çš„æ‰§è¡ŒæœŸé—´å­˜åœ¨ã€‚ å¯¹äºè”ç»“ï¼Œéœ€è¦è€ƒè™‘æ€§èƒ½ï¼Œå¦‚æœè”ç»“è¿‡å¤šçš„è¡¨ï¼Œå¯èƒ½ä¼šéå¸¸è€—è´¹èµ„æºï¼Œä½¿æ€§èƒ½ä¸‹é™ã€‚ SQL æœ¬èº«ä¸é™åˆ¶æ¯ä¸ªè”ç»“çº¦æŸä¸­è¡¨çš„æ•°ç›®ï¼Œä½†å®é™…ä¸Šè®¸å¤š DBMS éƒ½æœ‰é™åˆ¶ã€‚\nè”ç»“ç±»å‹ï¼š\nå†…è”ç»“ï¼ˆinner joinï¼‰\nå¤–è”ç»“ï¼ˆouter joinï¼‰\nè‡ªè”ç»“ï¼ˆself-joinï¼‰\nè‡ªç„¶è”ç»“ï¼ˆnatural joinï¼‰\nå¯ä»¥åœ¨ä¸€ä¸ª SELECT è¯­å¥ä¸­ä½¿ç”¨è”ç»“å¤šä¸ªè¡¨ï¼Œè€Œä¸”æ¯ä¸ªè¡¨çš„è”ç»“ç±»å‹å¯ä»¥ä¸ç›¸åŒã€‚\nINNER JOIN å†…è”ç»“ å†…è”ç»“ï¼ˆinner joinï¼‰åˆç§°ä¸ºç­‰å€¼è”ç»“ï¼ˆequijoinï¼‰ï¼Œæ˜¯åŸºäºä¸¤ä¸ªè¡¨ä¹‹é—´çš„é¡¹ç­‰æµ‹è¯•ã€‚\nè®¸å¤šå­æŸ¥è¯¢éƒ½å¯ä»¥ä½¿ç”¨å†…è”ç»“æ¥æ›¿ä»£ï¼Œä½†æ˜¯å­æŸ¥è¯¢ä¸è”ç»“åŒæ ·éœ€è¦è€—è´¹ä¸€å®šçš„èµ„æºï¼Œæ‰€ä»¥åœ¨ä¸€ä¸ªè¯­å¥ä¸­ï¼Œä¸åº”ä½¿ç”¨è¿‡å¤šçš„å­æŸ¥è¯¢å’Œè”ç»“ã€‚\nåœ¨ FROM ä¸­æŒ‡å®šå¤šä¸ªåˆ—ï¼ˆç­‰å€¼è”ç»“ï¼‰ã€‚\nå¯¹äºè”ç»“ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰è”ç»“éƒ½æœ‰ WHERE å­å¥ï¼Œå¹¶ä¸”è¦ä¿è¯ WHERE å­å¥çš„æ­£ç¡®æ€§ã€‚\n-- filed1, filed2, ... æ˜¯å­˜åœ¨äº table1, table2, ... ä¸­çš„ä»»æ„åˆ—æˆ–åˆ—è¡¨è¾¾å¼ -- å¦‚æœåœ¨ä¸åŒè¡¨ä¸­å‡ºç°åç§°ç›¸åŒçš„åˆ—ï¼Œå°±éœ€è¦ä½¿ç”¨å®Œå…¨é™å®šåæ¥æŒ‡å®š -- å®Œå…¨é™å®šåï¼štab_name.column_name -- condition1s ä¸­å¿…é¡»ç»™å‡ºè”ç»“æ¡ä»¶ SELECT filed1, filed2, ... FROM table1, table2, ... WHERE condition1s; å¦‚æœä¸Šè¿°è¯­å¥æ²¡æœ‰åœ¨ WHERE ä¸­æŒ‡å‡ºé…å¯¹æ–¹å¼ï¼Œé‚£ä¹ˆ table1 ä¸­çš„æ¯ä¸€è¡Œä¼šä¸ table2 ä¸­çš„æ¯ä¸€è¡Œè¿›è¡Œé…å¯¹ï¼Œç„¶å table1 å’Œ table2 å·²ç»é…å¯¹å®Œæˆçš„è¡Œä¼šå†æ¬¡ä¸ table3 ä¸­çš„æ¯ä¸€è¡Œé…å¯¹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰çš„è¡¨éƒ½å®Œæˆäº†é…å¯¹ã€‚è¿™ç§ç”±æ²¡æœ‰è”ç»“æ¡ä»¶çš„è¡¨è”ç»“åè¿”å›çš„ç»“æœä¸ºç¬›å¡å°”ç§¯ï¼ˆcartesian productï¼‰ã€‚\nä½¿ç”¨ INNER JOINï¼ˆå†…è”ç»“ï¼‰æŒ‡å®šè¦è”ç»“çš„è¡¨ï¼Œè”ç»“æ¡ä»¶ç”¨ç‰¹å®šçš„ ON å­å¥ç»™å‡ºã€‚\nåŒæ ·åœ°ï¼Œå¯¹äºè¿™ç§æ–¹å¼çš„è”ç»“ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰è”ç»“éƒ½æœ‰æœ‰æ•ˆçš„ ON å­å¥ã€‚å¦‚æœæ²¡æœ‰ ON å­å¥ï¼Œä¹Ÿä¼šå‡ºç°ç¬›å¡å°”ç§¯ã€‚\n-- filed1, filed2, ... æ˜¯å­˜åœ¨äº table1, table2, ... ä¸­çš„ä»»æ„åˆ—æˆ–åˆ—è¡¨è¾¾å¼ -- å¦‚æœåœ¨ä¸åŒè¡¨ä¸­å‡ºç°åç§°ç›¸åŒçš„åˆ—ï¼Œå°±éœ€è¦ä½¿ç”¨å®Œå…¨é™å®šåæ¥æŒ‡å®š -- condition1 ä¸­å¿…é¡»ç»™å‡ºè”ç»“æ¡ä»¶ SELECT filed1, filed2, ... FROM table1 INNER JOIN table2 ON condition11 INNER JOIN table3 ON condition12 INNER JOIN ... -- å¦‚æœæœ‰å…¶ä»–æ¡ä»¶çš„è¯ WHERE å­å¥åœ¨ INNER JOIN ä¹‹åç»™å‡º ANSI SQL è§„èŒƒé¦–é€‰ INNER JOIN è¯­æ³•ã€‚\nè‡ªè”ç»“ è‡ªè”ç»“ï¼ˆself-joinï¼‰æ˜¯æŒ‡åœ¨åŒä¸€ä¸ª SELECT è¯­å¥ä¸­ï¼Œå¤šæ¬¡è”ç»“åŒä¸€ä¸ªè¡¨ã€‚\nå¯¹äºè‡ªè”ç»“æ¥è¯´ï¼Œç”±äºå¤šæ¬¡å¼•ç”¨åŒä¸€ä¸ªè¡¨ï¼Œå¦‚æœä¸å¯¹è¡¨èµ·åˆ«åçš„è¯ï¼Œä¼šé€ æˆç³»ç»Ÿæ··ä¹±ï¼ˆåŒä¸€ä¸ªè¡¨ï¼Œè¡¨åè‡ªç„¶ç›¸åŒï¼Œæ‰€ä»¥ç³»ç»Ÿæ— æ³•åŒºåˆ†ç©¶ç«ŸæŒ‡çš„æ˜¯å“ªä¸ªè¡¨ï¼Œè™½ç„¶æœ¬è´¨ä¸Šéƒ½æ˜¯åŒä¸€ä¸ªè¡¨ï¼‰ã€‚\nSELECT T1.filed1, T1.filed2, ... FROM tab_name AS T1, tab_name AS T2 WHERE T1.filed_1 = T2.filed_1 AND T2.filed_2 = value; è™½ç„¶è‡ªè”ç»“ä¹Ÿå¯ä»¥ç”¨å­æŸ¥è¯¢æ›¿æ¢ï¼Œä½†å¯¹äºå¤§å¤šæ•° DBMS æ¥è¯´ï¼Œå¤„ç†è”ç»“è¿œæ¯”å¤„ç†å­æŸ¥è¯¢å¿«ã€‚\nSELECT filed1, filed2, ... FROM tab_name WHERE filed_1 = (SELECT filed_1 FROM tab_name WHERE filed_2 = value); è‡ªç„¶è”ç»“ è‡ªç„¶è”ç»“ï¼ˆnatural joinï¼‰æŒ‡æ¯ä¸ªå«ä¹‰ç›¸åŒçš„åˆ—ä»…å‡ºç°ä¸€æ¬¡çš„è”ç»“ã€‚è‡ªç„¶è”ç»“ä¸€èˆ¬æ˜¯é€šè¿‡å¯¹ä¸€ä¸ªè¡¨ä½¿ç”¨é€šé…ç¬¦ï¼Œè€Œå¯¹å…¶ä»–è¡¨çš„åˆ—ä½¿ç”¨æ˜ç¡®çš„å­é›†æ¥å®Œæˆã€‚\nSELECT T1.*, T2.filed1, T2.filed2, ... FROM table1 AS T1, table2 AS T2 WHERE T1.filed_1 = T2.filed_1 AND ...; OUTER JOIN å¤–è”ç»“ å¤–è”ç»“ï¼ˆouter joinï¼‰æ˜¯æŒ‡åŒ…å«æ— å…³è”è¡Œçš„è”ç»“ã€‚é€šå¸¸ï¼Œå†…è”ç»“éƒ½æ˜¯å°†ä¸€ä¸ªè¡¨æ ¼ä¸­çš„è¡Œä¸å¦ä¸€ä¸ªè¡¨æ ¼ä¸­çš„è¡Œé€šè¿‡è”ç»“æ¡ä»¶è¿›è¡Œå…³è”ï¼Œæ­¤æ—¶ä¸¤ä¸ªè¡¨æ ¼ä¸­æ²¡æœ‰è¢«è”ç»“æ¡ä»¶å…³è”èµ·æ¥çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚è€Œå¤–è”ç»“åˆ™ä¼šåŒ…å«è¿™äº›æ²¡æœ‰è¢«è”ç»“æ¡ä»¶æ‰€å…³è”èµ·æ¥çš„è¡Œï¼Œå¹¶æ ¹æ®éœ€è¦ç»™æŸäº›åˆ—èµ‹äºˆ NULL å€¼ã€‚\nå¤–è”ç»“æœ‰ä¸‰ç§ç±»å‹ï¼š\nLEFT OUTER JOIN â€”â€” å·¦å¤–è”ç»“ï¼ŒåŒ…å«å·¦è¡¨çš„æ‰€æœ‰è¡Œï¼ˆå³ FROM åé¢ç´§è·Ÿçš„è¡¨ï¼Œç¤ºä¾‹ä¸­ä¸º T1ï¼‰ï¼Œå³ä½¿åœ¨å³è¡¨ï¼ˆç¤ºä¾‹ä¸­ä¸º T2ï¼‰ä¸­æ²¡æœ‰è¢«åŒ¹é…ï¼ˆç»“æœä¸º NULLï¼‰ã€‚\nåŸºæœ¬ä¸Šæ‰€æœ‰çš„ DBMS éƒ½æ”¯æŒã€‚\nSELECT T1.filed1, T1,filed2, ... T2.filed_1, T2.filed_2, ... FROM table1 AS T1 LEFT OUTER JOIN table2 AS T2 ON T1.filed = T2.filed; RIGHT OUTER JOIN â€”â€” å³å¤–è”ç»“ï¼ŒåŒ…å«å·¦è¡¨çš„æ‰€æœ‰è¡Œï¼ˆå³ JOIN å…³é”®å­—åç´§è·Ÿçš„è¡¨ï¼Œç¤ºä¾‹ä¸­ä¸º T2ï¼‰ï¼Œå³ä½¿åœ¨å³è¡¨ï¼ˆç¤ºä¾‹ä¸­ä¸º T1ï¼‰ä¸­æ²¡æœ‰è¢«åŒ¹é…ï¼ˆç»“æœä¸º NULLï¼‰ã€‚\nSQLite ä¸æ”¯æŒã€‚\nSELECT T1.filed1, T1,filed2, ... T2.filed_1, T2.filed_2, ... FROM table1 AS T1 RIGHT OUTER JOIN table2 AS T2 ON T1.filed = T2.filed; FULL OUTER JOIN â€”â€” å…¨å¤–è”ç»“ï¼Œåªè¦å·¦è¡¨å’Œå³è¡¨å…¶ä¸­ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨åŒ¹é…ï¼Œå°±è¿”å›ã€‚\nMariaDBã€MySQL å’Œ SQLite éƒ½ä¸æ”¯æŒã€‚\nå·¦å¤–è”ç»“å’Œå³å¤–è”ç»“å¯ä»¥ç›¸äº’è½¬æ¢ã€‚\nè”ç»“ã€èšåˆå‡½æ•°ä¸åˆ†ç»„ è”ç»“çš„ä¸€ç§ç”¨æ³•æ˜¯ä½¿ç”¨èšåˆå‡½æ•°ä»å¦ä¸€ä¸ªè¡¨æ ¼ä¸­æ±‡æ€»æ•°æ®ã€‚\n-- condition1 æ˜¯è”ç»“æ¡ä»¶ SELECT T1.filed1, T2.filed2, ... COUNT(T2.filed_1) AS name_filed FROM table1 AS T1 INNER JOIN table2 AS T2 ON condition1 GROUP BY T1.filed1, T1,filed2, ...; å¯¹äºä¸Šè¿°è¯­å¥ä¹Ÿå¯ä»¥æŒ‡å®šå¤–è”ç»“ï¼Œä»…éœ€å°† INNER JOIN æ›¿æ¢æˆå¤–è”ç»“çš„å…³é”®å­—ã€‚\nä½¿ç”¨å¤–è”ç»“ä»å¦ä¸€ä¸ªè¡¨ä¸­æ±‡æ€»æ•°æ®ï¼Œé‚£äº›æ²¡æœ‰è¢«å…³è”çš„è¡Œç»è¿‡ COUNT() å‡½æ•°è®¡ç®—åçš„è¿”å›å€¼å°†ä¼šä¸º 0ã€‚\nUNION ç»„åˆæŸ¥è¯¢ ç»„åˆæŸ¥è¯¢é€šå¸¸ç§°ä¸ºå¹¶ï¼ˆunionï¼‰æˆ–ç¬¦åˆæŸ¥è¯¢ï¼ˆcompound queryï¼‰ã€‚é€šè¿‡ç»„åˆæŸ¥è¯¢å¯ä»¥åŒæ—¶æ‰§è¡Œå¤šæ¡ SELECT è¯­å¥ï¼Œå¹¶å°†ç»“æœä½œä¸ºä¸€ä¸ªæŸ¥è¯¢ç»“æœé›†è¿”å›ã€‚\néœ€è¦ä½¿ç”¨ç»„åˆæŸ¥è¯¢çš„æƒ…å†µï¼š\nåœ¨ä¸€ä¸ªæŸ¥è¯¢ä¸­ä»ä¸åŒçš„è¡¨è¿”å›ç»“æ„æ•°æ®ï¼›\nå¯¹ä¸€ä¸ªè¡¨æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢ï¼ŒæŒ‰ä¸€ä¸ªæŸ¥è¯¢è¿”å›æ•°æ®ã€‚\nğŸ“Œ\nç»„åˆç›¸åŒè¡¨çš„æŸ¥è¯¢æ‰€å®Œæˆçš„å·¥ä½œä¸€èˆ¬å¯ä»¥ç”¨ WHERE å­å¥æ›¿ä»£ã€‚\nç†è®ºä¸Šä½¿ç”¨ WHERE å­å¥å’Œç»„åˆæŸ¥è¯¢ä»æ€§èƒ½ä¸Šçœ‹å¹¶æ²¡æœ‰å¤ªå¤§å·®åˆ«ï¼Œä½†å„å®ç°ä¹‹é—´ä»»æœ‰å·®åˆ«ã€‚\nç¬¬ä¸€æ¡ SELECT ä¸­çš„åˆ—åæˆ–æŒ‡å®šçš„åˆ«åä½œä¸ºæ•´ä¸ªç»„åˆæŸ¥è¯¢çš„ç»“æœé›†çš„åˆ—åã€‚å› æ­¤ç»„åˆæŸ¥è¯¢æ‰€è¿”å›çš„ç»“æœé›†çš„åˆ—åæ˜¯ç¬¬ä¸€æ¡ SELECT ä¸­çš„åˆ—åï¼Œä¸”åœ¨ç»„åˆæŸ¥è¯¢ä¸­çš„ ORDER BY å­å¥ä¸­æŒ‡å‡ºçš„åˆ—ååº”æ˜¯ç¬¬ä¸€æ¡ SELECT ä¸­ç¬¬åˆ—åã€‚\næ¯ä¸€ä¸ªç»„åˆæŸ¥è¯¢æœ€å¤šä»…èƒ½æœ‰ä¸€æ¡ ORDER BY å­å¥ï¼Œä¸”å¿…é¡»ä½äºæ•´ä¸ªç»„åˆæŸ¥è¯¢è¯­å¥çš„æœ€åï¼ˆå³æœ€åä¸€æ¡ SELECT è¯­å¥ï¼‰ã€‚\nå³ï¼Œæ— æ³•å¯¹æŸæ¡ SELECT æŒ‡å®šä¸€ç§æ’åºæ–¹å¼ï¼Œè€Œå¯¹å¦ä¸€æ¡ SELECT æŒ‡å®šå¦ä¸€ç§æ’åºæ–¹å¼ï¼Œæ‰€æœ‰çš„ SELECT åªèƒ½ç”¨åŒä¸€ç§æ–¹å¼æ’åºã€‚\nä½¿ç”¨ç»„åˆæŸ¥è¯¢çš„è§„åˆ™ï¼š\nå¿…é¡»ç”±ä¸¤æ¡æˆ–ä¸¤æ¡ä»¥ä¸Šçš„ SELECT è¯­å¥ç»„æˆï¼Œè¯­å¥ä¹‹é—´ç”¨å…³é”®å­— UNION åˆ†éš”ã€‚\næ¯ä¸ªæŸ¥è¯¢å¿…é¡»åŒ…å«ç›¸åŒçš„åˆ—ã€è¡¨è¾¾å¼æˆ–èšé›†å‡½æ•°ï¼ˆæ•°é‡å¿…é¡»è¦ç›¸åŒï¼Œç±»å‹å¿…é¡»è¦å…¼å®¹ï¼‰ã€‚\nä½¿ç”¨ UNION å…³é”®å­—ï¼Œä¼šè‡ªåŠ¨å»é™¤é‡å¤çš„è¡Œï¼š\n-- filed1, filed2, ... å’Œ filed_1, filed_2, ... æ•°é‡å¿…é¡»ç›¸åŒï¼Œç±»å‹è¦å…¼å®¹ -- table1 å’Œ table2 å¯ä»¥æ˜¯åŒä¸ªè¡¨æ ¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸åŒçš„è¡¨æ ¼ -- ORDER BY å¿…é¡»ä½äºè¯­å¥çš„æœ€å SELECT filed1, filed2, ... FROM table1 WHERE condition11 UNION SELECT filed_1, filed_2, ... FROM table2 WHERE condition12 UNION ... ORDER BY filed; åœ¨ä¸Šè¿°è¯­å¥ä¸­ï¼Œå°† UNION æ›¿æ¢æˆ UNION ALLï¼Œè¿”å›çš„ç»“æœé›†å°†åŒ…å«é‡å¤çš„è¡Œã€‚\nINSERT è¯­å¥ INSERT è¯­å¥ç”¨æ¥å°†è¡Œæ’å…¥ï¼ˆæˆ–æ·»åŠ ï¼‰åˆ°æ•°æ®åº“è¡¨ã€‚\næ’å…¥å®Œæ•´çš„è¡Œ ç®€å•ä½†ä¸ä¿é™©çš„æ–¹æ³•ï¼š\nINSERT INTO tab_name VALUES(value1, value2, value3, ..., NULL, ...); VALUES åé¢çš„æ‹¬å·ä¸­ï¼ŒæŒ‰ç…§è¡¨ä¸­åˆ—çš„å®šä¹‰æ¬¡åºï¼ŒæŒ‡å‡ºäº†è¦å­˜å‚¨åˆ°è¡¨ä¸­çš„æ•°æ®ï¼Œä¸”å¿…é¡»ç»™æ¯ä¸€åˆ—æä¾›ä¸€ä¸ªå€¼ï¼ˆåœ¨æ²¡æœ‰æŒ‡å®šåˆ—åçš„æƒ…å†µä¸‹ï¼‰ã€‚å¦‚æœæŸåˆ—æ²¡æœ‰å€¼ï¼Œåˆ™è¯¥åˆ—åº”è¯¥ä½¿ç”¨ NULLï¼ˆåœ¨å…è®¸å¯¹è¯¥åˆ—æŒ‡å®šç©ºå€¼çš„æƒ…å†µä¸‹ï¼‰ã€‚å„åˆ—å¿…é¡»ä»¥å®ƒä»¬åœ¨è¡¨å®šä¹‰ä¸­å‡ºç°çš„æ¬¡åºå¡«å……ã€‚\nè¿™ç§è¯­æ³•è™½ç„¶ç®€å•ä½†å¹¶ä¸å®‰å…¨ï¼Œå› ä¸ºè¿™ç§ SQL è¯­å¥é«˜åº¦ä¾èµ–äºè¡¨ä¸­åˆ—çš„å®šä¹‰æ¬¡åºã€‚å¦‚æœè¡¨ç»“æ„å‘ç”Ÿå˜åŠ¨ï¼Œé‚£ä¹ˆè¿™æ ·çš„è¯­å¥å¹¶ä¸èƒ½æŒ‰ç…§é¢„æœŸçš„æƒ…å†µæ‰§è¡Œã€‚\nğŸ“Œåœ¨æŸäº› SQL å®ç°ä¸­ï¼ŒINTO å…³é”®å­—æ˜¯å¯é€‰çš„ã€‚ä½†ä¸ºäº†ç¡®ä¿å¯ç§»æ¤ï¼Œè¿˜æ˜¯è¦æä¾› INTO å…³é”®å­—ã€‚\nä¿é™©ä½†æ¯”è¾ƒç¹ççš„æ–¹æ³•ï¼š\n-- filed1 ä¸ value1 å¯¹åº”ï¼Œfiled2 ä¸ value2 å¯¹åº”ï¼Œä»¥æ­¤ç±»æ¨ INSERT INTO tab_name(filed1, filed2, filed3, ...) VALUES(value1, value2, value3, ...); è¿™ç§æ–¹æ³•éœ€è¦åœ¨è¡¨ååé¢ï¼Œä½¿ç”¨æ‹¬å·å°†è¡¨ä¸­çš„æ‰€æœ‰åˆ—åæŒ‡å‡ºï¼ˆä¸ç”¨æŒ‰ç…§è¡¨ä¸­åˆ—çš„å®šä¹‰é¡ºåºï¼‰ã€‚åœ¨æ’å…¥è¡Œæ—¶ï¼ŒVALUES å¿…é¡»ä»¥å…¶æŒ‡å®šçš„æ¬¡åºåŒ¹é…æŒ‡å®šçš„åˆ—åï¼Œè¿™æ ·å³ä½¿è¡¨ç»“æ„æ”¹å˜ï¼Œè¯¥ INSERT è¯­å¥ä»èƒ½æ­£ç¡®å·¥ä½œã€‚ä¸è¦ä½¿ç”¨æ²¡æœ‰æ˜ç¡®ç»™å‡ºåˆ—çš„ INSERT è¯­å¥ã€‚\nä¸»é”®çš„å€¼å¿…é¡»æœ‰å”¯ä¸€æ€§ï¼ŒDBMS ä¸å…è®¸æ’å…¥ä¸»é”®å€¼é‡å¤çš„è¡Œã€‚å¦‚æœç¡®å®éœ€è¦æ’å…¥ï¼Œåº”å…ˆåˆ é™¤åŸæœ‰çš„è®°å½•ã€‚\næ’å…¥è¡Œçš„ä¸€éƒ¨åˆ† -- filed1 ä¸ value1 å¯¹åº”ï¼Œfiled2 ä¸ value2 å¯¹åº”ï¼Œä»¥æ­¤ç±»æ¨ INSERT INTO tab_name(filed1, filed2, ...) VALUES(value1, value2, ...); åŒæ ·ä½¿ç”¨è¡¨ååé¢çš„æ‹¬å·æŒ‡å®šåˆ—ï¼Œåªä¸è¿‡ä»…éœ€æŒ‡å‡ºéœ€è¦æ’å…¥çš„éƒ¨åˆ†åˆ—ï¼Œå¹¶ä¸”åªéœ€ç»™è¿™äº›åˆ—æä¾›å€¼ã€‚\næ— è®ºæ˜¯æ’å…¥å®Œæ•´çš„è¡Œè¿˜æ˜¯æ’å…¥è¡Œçš„ä¸€éƒ¨åˆ†ï¼Œéƒ½å¿…é¡»ç¡®ä¿ VALUES çš„æ•°ç›®æ­£ç¡®ã€‚å¦‚æœä¸æä¾›åˆ—åï¼Œåˆ™å¿…é¡»ç»™æ¯ä¸ªè¡¨åˆ—æä¾›ä¸€ä¸ªå€¼ï¼›å¦‚æœæä¾›åˆ—åï¼Œåˆ™å¿…é¡»ç»™åˆ—å‡ºçš„æ¯ä¸€ä¸ªåˆ—ä¸€ä¸ªå€¼ã€‚å¦åˆ™ï¼Œå°±ä¼šäº§ç”Ÿé”™è¯¯ã€‚\nåœ¨ VALUES ä¸­æ²¡æœ‰æŒ‡å‡ºçš„åˆ—ï¼ŒDBMS å°†èµ‹äºˆå®ƒä»¬é»˜è®¤å€¼æˆ–ç©ºå€¼ã€‚è¿™äº›åˆ—å¿…é¡»æ»¡è¶³ï¼š\nåˆ—å®šä¹‰ä¸ºå…è®¸ NULL å€¼ã€‚\nåœ¨è¡¨å®šä¹‰ä¸­ç»™å‡ºäº†é»˜è®¤å€¼ã€‚\nINSERT SELECT INSERT è¿˜å…è®¸åˆ©ç”¨ SELECT è¯­å¥å°†æ£€ç´¢åˆ°çš„ç»“æœæ’å…¥è¡¨ä¸­ã€‚\n-- å°† table2 ä¸­æ»¡è¶³æ¡ä»¶çš„ filed_1, filed_2, ... åˆ—æŒ‰ç…§å¯¹åº”é¡ºåºæ’å…¥åˆ° table1 ä¸­ -- table1 å’Œ table2 å¯ä»¥æ˜¯åŒä¸€ä¸ªè¡¨ INSERT INTO table1(filed1, filed2, ...) SELECT filed_1, filed_2, ... FROM table2 WHERE condition1s; ä¸€èˆ¬ INSERT åªæ’å…¥ä¸€è¡Œã€‚è€Œ INSERT SELECT å¯ä»¥ç”¨ä¸€æ¡è¯­å¥æ’å…¥å¤šè¡Œã€‚\nSELECT INTO SELECT ... INTO ç”¨äºä»ä¸€ä¸ªè¡¨ä¸­å¤åˆ¶æ•°æ®ï¼Œç„¶åæŠŠæ•°æ®æ’å…¥åˆ°å¦ä¸€ä¸ªæ–°è¡¨ä¸­ï¼ˆINTO å­å¥åæŒ‡å®šçš„è¡¨ï¼Œè¯¥è¯­å¥æ‰§è¡Œåä¼šè‡ªåŠ¨åˆ›å»ºï¼‰ã€‚\nğŸ“ŒMySQL ä¸æ”¯æŒ SELECT ... INTO è¯­å¥ã€‚\n-- INTO åé¢çš„ IN å­å¥ä»£è¡¨æ’å…¥åˆ°å…¶ä»–æ•°æ®åº“ -- IN å­å¥å¯çœç•¥ï¼Œé»˜è®¤ä»£è¡¨å½“å‰æ•°æ®åº“ -- new_table çš„è¡¨ç»“æ„ä¸ old_table æŒ‡å®šåˆ— filed1, filed2, ... çš„ç»“æ„ç›¸åŒ SELECT filed1, filed2, ... INTO new_table [IN external_db] FROM old_table; SELECT INTO è¯­å¥å¯ä»¥é€šè¿‡ä½¿ç”¨ä¿ƒä½¿æŸ¥è¯¢æ²¡æœ‰æ•°æ®è¿”å›çš„ WHERE å­å¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºè¡¨ï¼š\nSELECT filed1, filed2, ... INTO new_table FROM old_table WHERE 1 = 0; æ›´æ–°å’Œåˆ é™¤æ•°æ® åœ¨å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨çš„ DBMS ä¸­ï¼Œä½¿ç”¨ UPDATE å’Œ DELETE è¯­å¥å¯èƒ½éœ€è¦ç‰¹æ®Šçš„å®‰å…¨æƒé™ã€‚\nUPDATE è¯­å¥ UPDATE è¯­å¥ç”¨äºæ›´æ–°ï¼ˆä¿®æ”¹ï¼‰è¡¨ä¸­çš„æ•°æ®ã€‚\næœ‰ä¸¤ç§ä½¿ç”¨ UPDATE è¯­å¥çš„æ–¹å¼ï¼š\næ›´æ–°è¡¨ä¸­çš„ç‰¹å®šè¡Œ â€”â€” ä½¿ç”¨ WHERE å­å¥è¿‡æ»¤ï¼š\nåŸºæœ¬çš„ UPDATEå­å¥ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š\nè¦æ›´æ–°çš„è¡¨ â€”â€” ä½¿ç”¨ UPDATE å…³é”®å­—æŒ‡å®šï¼›\nåˆ—åå’Œå®ƒä»¬çš„æ–°å€¼ â€”â€” ä½¿ç”¨ SET å…³é”®å­—æŒ‡å®šæ›´æ–°çš„å†…å®¹ï¼ˆå³ä½¿ç”¨ â€œåˆ—=å€¼â€ å¯¹å°†æ–°å€¼èµ‹ç»™è¢«æ›´æ–°çš„åˆ—ï¼‰ï¼›\nç¡®å®šè¦æ›´æ–°å“ªäº›è¡Œçš„è¿‡æ»¤ â€”â€” ä½¿ç”¨ WHERE å­å¥æŒ‡å®šè¿‡æ»¤æ¡ä»¶ã€‚ åœ¨ UPDATE ä¸­ï¼ŒWHERE å¯ä»¥ä½¿ç”¨ SELECT å­æŸ¥è¯¢ã€‚\n-- filed1, filed2, ... æ˜¯ tab_name ä¸­çš„åˆ— -- value1, value2, ... æ˜¯ä¸ filed1, filed2, ... ç›¸å¯¹åº”ç±»å‹çš„æ•°æ® -- filed1 = value1, filed2 = value2, ... æ˜¯ â€œåˆ—=å€¼â€ å¯¹ -- condition1s æ˜¯è¿‡æ»¤çš„æ¡ä»¶ï¼ŒæŒ‡å®šäº†è¦æ›´æ–°çš„è¡Œ UPDATE tab_name SET filed1 = value1, filed2 = value2, ... WHERE condition1s; æ›´æ–°è¡¨ä¸­çš„æ‰€æœ‰è¡Œ â€”â€” ä¸ä½¿ç”¨ WHERE å­å¥ã€‚\nä¸€èˆ¬çš„ UPDATE å­—å¥éƒ½è¦ä½¿ç”¨ WHERE å­—å¥æŒ‡å®šè¿‡æ»¤æ¡ä»¶ï¼Œå¦åˆ™ SET å­å¥æŒ‡å®šçš„æ›´æ–°å†…å®¹å°†åº”ç”¨åˆ°æ‰€æœ‰çš„åˆ—ã€‚\nğŸ“Œæœ‰çš„ SQL å®ç°æ”¯æŒåœ¨ UPDATE è¯­å¥ä¸­ä½¿ç”¨ FROM å­å¥ï¼Œç”¨ä¸€ä¸ªè¡¨çš„æ•°æ®æ›´æ–°å¦ä¸€ä¸ªè¡¨çš„è¡Œã€‚\nä½¿ç”¨ UPDATE åˆ é™¤æŸä¸ªåˆ—çš„å€¼ï¼šå°†è¦åˆ é™¤çš„åˆ—ç½®ä¸º NULLï¼ˆå‡è®¾è¡¨å®šä¹‰å…è®¸ NULLï¼‰ã€‚å¦‚ï¼š\nUPDATE tab_name SET del_filed = NULL WHERE condition1s; DELETE è¯­å¥ ä½¿ç”¨ DELETE è¯­å¥å¯ä»¥ä»ä¸€ä¸ªè¡¨ä¸­åˆ é™¤ï¼ˆå»æ‰ï¼‰æ•°æ®ã€‚\næœ‰ä¸¤ç§ä½¿ç”¨ DELETE è¯­å¥çš„æ–¹å¼ï¼š\nä»è¡¨ä¸­åˆ é™¤ç‰¹å®šçš„è¡Œ â€”â€” ä½¿ç”¨ WHERE å­å¥è¿‡æ»¤ï¼š -- condition1s æ˜¯è¿‡æ»¤æ¡ä»¶ï¼ŒæŒ‡å®šäº†è¦åˆ é™¤çš„è¡Œ DELETE FROM tab_name WHERE condition1s; ä»è¡¨ä¸­åˆ é™¤æ‰€æœ‰è¡Œ â€”â€” ä¸ä½¿ç”¨ WHERE å­å¥ï¼š ä½¿ç”¨ DELETE è¯­å¥æ—¶åº”è¯¥æŒ‡å®š WHERE å­å¥ï¼Œå¦åˆ™å®ƒå°†ä¼šåˆ é™¤è¡¨ä¸­æ‰€æœ‰çš„è¡Œã€‚ å¦‚æœç¡®å®æƒ³åˆ é™¤è¡¨ä¸­æ‰€æœ‰è¡Œï¼Œåº”è¯¥ä½¿ç”¨é€Ÿåº¦æ›´å¿«çš„ TRUNCATE TABLE è¯­å¥ã€‚ DELETE è¯­å¥åˆ é™¤çš„æ˜¯è¡¨ä¸­çš„è¡Œï¼Œå³å®ƒçš„æ“ä½œå¯¹è±¡æ˜¯è¡Œè€Œä¸æ˜¯åˆ—ï¼Œå¦‚æœæƒ³è¦åˆ é™¤åˆ—ï¼Œåˆ™è¦ä½¿ç”¨ UPDATE è¯­å¥å°†è¯¥åˆ—ç½®ä¸º NULLã€‚\nUPDATE å’Œ DELETE çš„ä½¿ç”¨å‡†åˆ™ ç»å¯¹ä¸è¦ä½¿ç”¨ä¸å¸¦ å­å¥çš„ UPDATE æˆ– DELETE å­å¥ï¼Œé™¤éç¡®å®æ‰“ç®—æ›´æ–°å’Œåˆ é™¤æ¯ä¸€è¡Œã€‚\nåº”ä¿è¯æ¯ä¸ªè¡¨éƒ½æœ‰ä¸»é”®ã€‚\nåœ¨ä½¿ç”¨ UPDATE æˆ– DELETE ä¹‹å‰ï¼Œåº”å…ˆç”¨ SELETE è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿ WHERE å­å¥è¿‡æ»¤çš„æ˜¯æ­£ç¡®çš„è®°å½•ã€‚:\nä½¿ç”¨å¼ºåˆ¶å®æ–½å¼•ç”¨å®Œæ•´æ€§çš„æ•°æ®åº“ï¼Œè¿™æ · DBMS å°†ä¸å…è®¸åˆ é™¤å…¶æ•°æ®ä¸å…¶ä»–è¡¨ç›¸å…³çš„è¡Œã€‚\nå¦‚æœ DBMS å…è®¸æ•°æ®åº“ç®¡ç†å‘˜æ–½åŠ çº¦æŸï¼Œé˜²æ­¢æ‰§è¡Œä¸å¸¦ WHERE å­å¥çš„ UPDATE æˆ– DELETE å­å¥ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨å®ƒã€‚\nğŸ“Œå¦‚æœ SQL æ²¡æœ‰æ’¤é”€ï¼ˆundoï¼‰æŒ‰é’®ï¼Œåº”è¯¥æ›´å°å¿ƒåœ°ä½¿ç”¨ UPDATE å’Œ DELETE è¯­å¥ã€‚\nåˆ›å»ºå’Œåˆ é™¤æ•°æ®åº“ åˆ›å»ºæ•°æ®åº“ä½¿ç”¨ CREATE DATABASE è¯­å¥ã€‚\nCREATE DATABASE db_name; åˆ é™¤æ•°æ®åº“ä½¿ç”¨ DROP DATABASE è¯­å¥ã€‚\nDROP DATABASE db_name; æ³¨æ„ï¼šåˆ é™¤æ•°æ®åº“åï¼Œæ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®ï¼ˆè¡¨ã€è§†å›¾ã€ç´¢å¼•ç­‰æ•°æ®éƒ½å°†ä¼šè¢«åˆ é™¤ï¼‰ã€‚\nSQL é€šç”¨æ•°æ®ç±»å‹ æ•°æ®ç±»å‹å®šä¹‰åˆ—ä¸­å­˜æ”¾çš„å€¼çš„ç§ç±»ã€‚æ•°æ®åº“è¡¨ä¸­çš„æ¯ä¸ªåˆ—éƒ½è¦æ±‚æœ‰åç§°å’Œæ•°æ®ç±»å‹ã€‚SQL å¼€å‘äººå‘˜å¿…é¡»åœ¨åˆ›å»º SQL è¡¨æ—¶å†³å®šè¡¨ä¸­çš„æ¯ä¸ªåˆ—å°†è¦å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ã€‚\nä¸åŒçš„ DBMS æ•°æ®ç±»å‹æœ‰äº›ä¸åŒã€‚æœ‰çš„ DBMS å…è®¸è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œæœ‰çš„ä¸å…è®¸ã€‚\nä»¥ä¸‹æ˜¯ SQL é€šç”¨æ•°æ®ç±»å‹ï¼š\næ•°æ®ç±»å‹ æè¿° CHARACTER(n) æˆ– CHAR(n) å­—ç¬¦/å­—ç¬¦ä¸²ã€‚å›ºå®šé•¿åº¦ nã€‚ VARCHAR(n) æˆ– CHARACTER VARYING(n) å­—ç¬¦/å­—ç¬¦ä¸²ã€‚å¯å˜é•¿åº¦ã€‚æœ€å¤§é•¿åº¦ nã€‚ BINARY(n) äºŒè¿›åˆ¶ä¸²ã€‚å›ºå®šé•¿åº¦ nã€‚ BOOLEAN å­˜å‚¨ TRUE æˆ– FALSE å€¼ VARBINARY(n) æˆ– BINARY VARYING(n) äºŒè¿›åˆ¶ä¸²ã€‚å¯å˜é•¿åº¦ã€‚æœ€å¤§é•¿åº¦ nã€‚ INTEGER(p) æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ pã€‚ SMALLINT æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 5ã€‚ INTEGER æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 10ã€‚ BIGINT æ•´æ•°å€¼ï¼ˆæ²¡æœ‰å°æ•°ç‚¹ï¼‰ã€‚ç²¾åº¦ 19ã€‚ DECIMAL(p,s) ç²¾ç¡®æ•°å€¼ï¼Œç²¾åº¦ pï¼Œå°æ•°ç‚¹åä½æ•° sã€‚ ä¾‹å¦‚ï¼šDECIAML(5,2) æ˜¯ä¸€ä¸ªå°æ•°ç‚¹å‰æœ‰ 3 ä½æ•°ï¼Œå°æ•°ç‚¹åæœ‰ 2 ä½æ•°çš„æ•°å­—ã€‚ NUMERIC(p,s) ç²¾ç¡®æ•°å€¼ï¼Œç²¾åº¦ pï¼Œå°æ•°ç‚¹åä½æ•° sã€‚ï¼ˆä¸ DECIMAL ç›¸åŒï¼‰. FLOAT(p) è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ pã€‚ä¸€ä¸ªé‡‡ç”¨ä»¥ 10 ä¸ºåŸºæ•°çš„æŒ‡æ•°è®¡æ•°æ³•çš„æµ®ç‚¹æ•°ã€‚è¯¥ç±»å‹çš„ size å‚æ•°ç”±ä¸€ä¸ªæŒ‡å®šæœ€å°ç²¾åº¦çš„å•ä¸€æ•°å­—ç»„æˆã€‚ REAL è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 7ã€‚ FLOAT è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 16ã€‚ DOUBLE PRECISION è¿‘ä¼¼æ•°å€¼ï¼Œå°¾æ•°ç²¾åº¦ 16ã€‚ DATE å­˜å‚¨å¹´ã€æœˆã€æ—¥çš„å€¼ã€‚ TIME å­˜å‚¨å°æ—¶ã€åˆ†ã€ç§’çš„å€¼ã€‚ TIMESTAMP å­˜å‚¨å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†ã€ç§’çš„å€¼ã€‚ INTERVAL ç”±ä¸€äº›æ•´æ•°å­—æ®µç»„æˆï¼Œä»£è¡¨ä¸€æ®µæ—¶é—´ï¼Œå–å†³äºåŒºé—´çš„ç±»å‹ã€‚ ARRAY å…ƒç´ çš„å›ºå®šé•¿åº¦çš„æœ‰åºé›†åˆã€‚ MULTISET å…ƒç´ çš„å¯å˜é•¿åº¦çš„æ— åºé›†åˆã€‚ XML å­˜å‚¨ XML æ•°æ®ã€‚ SQL æ•°æ®ç±»å‹å¿«é€Ÿå‚è€ƒæ‰‹å†Œï¼š\næ•°æ®ç±»å‹ Access SQL Server Oracle MySQL PostgreSQL boolean Yes/No Bit Byte N/A Boolean integer Number (integer) Int Number Intã€ Integer Intã€ Integer float Number (single) Float Real Number Float Numeric currency Currency Money N/A N/A Money string (fixed) N/A Char Char Char Char string (variable) Text (\u0026lt;256) Memo (65k+) Varchar Varcharã€Varchar2 Varchar Varchar binary object OLE Object Memo Binary (fixed up to 8K) Varbinary (\u0026lt;8K) Image (\u0026lt;2GB) Long Raw Blob Text Binary Varbinary æ—¶é—´æ•°æ®æ ¼å¼ MySQL ä½¿ç”¨ä¸‹åˆ—æ•°æ®ç±»å‹åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸæˆ–æ—¥æœŸ/æ—¶é—´å€¼ï¼š\nDATE - æ ¼å¼ï¼šYYYY-MM-DD\nDATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS\nTIMESTAMP - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS\nYEAR - æ ¼å¼ï¼šYYYY æˆ– YY\nSQL Server ä½¿ç”¨ä¸‹åˆ—æ•°æ®ç±»å‹åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸæˆ–æ—¥æœŸ/æ—¶é—´å€¼ï¼š\nDATE - æ ¼å¼ï¼šYYYY-MM-DD\nDATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS\nSMALLDATETIME - æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SS\nTIMESTAMP - æ ¼å¼ï¼šå”¯ä¸€çš„æ•°å­—\nåˆ›å»ºå’Œæ“çºµè¡¨æ ¼ CREATE TABLE åˆ›å»ºè¡¨ ä¸€èˆ¬æœ‰ä¸¤ç§åˆ›å»ºè¡¨æ ¼çš„æ–¹æ³•ï¼š\nä½¿ç”¨ SQL è¯­å¥ CTEATE TABLE åˆ›å»ºè¡¨æ ¼ï¼›\nå¤šæ•° DBMS éƒ½å…·æœ‰äº¤äº’å¼åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“è¡¨çš„å·¥å…·ã€‚\nå…¶æœ¬è´¨æ˜¯äº¤äº’å·¥å…·æ ¹æ®ç”¨æˆ·æ“ä½œè‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡Œç›¸åº”çš„ SQL è¯­å¥ã€‚ ä¸åŒçš„ SQL å®ç°ä¸­ï¼ŒCREATE TABLE è¯­å¥çš„è¯­æ³•ä¼šæœ‰æ‰€ä¸åŒï¼ˆä¸»è¦åŒºåˆ«æ˜¯åœ¨åˆ—å®šä¹‰ä¸Šï¼‰ã€‚\nä½¿ç”¨ CREATE TABLE åˆ›å»ºè¡¨ï¼Œå¿…é¡»ç»™å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š\næ–°è¡¨çš„åå­—ï¼Œåœ¨å…³é”®å­— CREATE TABLE ä¹‹åç»™å‡ºï¼›\nè¡¨åˆ—çš„åå­—å’Œå®šä¹‰ï¼Œåœ¨åˆ—ååçš„æ‹¬å·ä¸­æŒ‡å‡ºï¼Œç”¨é€—å·åˆ†éš”ï¼›\næœ‰çš„ DBMS è¿˜è¦æ±‚æŒ‡å®šè¡¨çš„ä½ç½®ã€‚\nCREATE TABLE tab_name ( column_name1 DataType1, column_name2 DataType2, column_name3 DataType3, cluumn_name4 DataType4, ... ); åˆ›å»ºæ–°è¡¨æ—¶åªèƒ½æŒ‡å®šä¸å­˜åœ¨çš„è¡¨åï¼ŒSQL æ— æ³•é€šè¿‡ CREATE è¯­å¥è¦†ç›–å·²æœ‰çš„è¡¨ã€‚\nALTER TABLE æ›´æ–°è¡¨å®šä¹‰ ä½¿ç”¨ ALTER TABLE æ—¶éœ€è¦è€ƒè™‘çš„äº‹æƒ…ï¼š\nç†æƒ³æƒ…å†µä¸‹ï¼Œä¸è¦åœ¨è¡¨ä¸­åŒ…å«æ•°æ®æ—¶å¯¹è¡¨ç»“æ„è¿›è¡Œæ›´æ–°ï¼ˆç‰¹åˆ«æ˜¯ä¸è¦åˆ é™¤å·²æœ‰çš„åˆ—ï¼‰ã€‚ åº”è¯¥åœ¨è¡¨çš„è®¾è®¡è¿‡ç¨‹ä¸­å……åˆ†è€ƒè™‘æœªæ¥å¯èƒ½çš„éœ€æ±‚ï¼Œé¿å…ä»Šåå¯¹è¡¨çš„ç»“æ„åšå¤§æ”¹åŠ¨ã€‚\næ‰€æœ‰çš„ DBMS éƒ½å…è®¸ç»™ç°æœ‰çš„è¡¨å¢åŠ åˆ—ï¼Œä¸è¿‡å¯¹æ‰€å¢åŠ åˆ—çš„æ•°æ®ç±»å‹ï¼ˆä»¥åŠ NULL å’Œ DEFAULT çš„ä½¿ç”¨ï¼‰æœ‰æ‰€é™åˆ¶ã€‚\nè®¸å¤š DBMS ä¸å…è®¸åˆ é™¤æˆ–æ›´æ”¹è¡¨ä¸­çš„åˆ—ã€‚\nå¤šæ•° DBMS å…è®¸é‡æ–°å‘½åè¡¨ä¸­çš„åˆ—ã€‚\nè®¸å¤š DBMS é™åˆ¶å¯¹å·²ç»å¡«æœ‰æ•°æ®çš„åˆ—è¿›è¡Œæ›´æ”¹ï¼Œå¯¹æœªå¡«æœ‰æ•°æ®çš„åˆ—å‡ ä¹æ²¡æœ‰é™åˆ¶ã€‚\nä½¿ç”¨ ALTER TABLE å¿…é¡»ç»™å‡ºçš„ä¿¡æ¯ï¼š\nåœ¨ ALTER TABLE ä¹‹åç»™å‡ºè¡¨åï¼›\nåˆ—å‡ºè¦æ›´æ”¹è¡¨çš„æ“ä½œã€‚\nå¢åŠ è¡¨åˆ—ï¼š\nALTER TABLE tab_name ADD filed DataType; åˆ é™¤åˆ—ï¼š\nALTER TABLE tab_name DROP COLUMN filed; ä¿®æ”¹åˆ—å®šä¹‰ï¼š\nALTER TABLE tab_name ALTER COLUMN column_name NewDataType; åœ¨MySQLä¸­ä½¿ç”¨ï¼š\nALTER TABLE tab_name MODIFY column_name NewDataType; å¤æ‚çš„è¡¨ç»“æ„æ›´æ”¹ä¸€èˆ¬éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š\nç”¨æ–°çš„åˆ—å¸ƒå±€åˆ›å»ºä¸€ä¸ªæ–°è¡¨ï¼›\nä½¿ç”¨ INSERT SELECT è¯­å¥ä»æ—§è¡¨å¤åˆ¶æ•°æ®åˆ°æ–°è¡¨ï¼›\næ£€éªŒåŒ…å«æ‰€éœ€æ•°æ®çš„æ–°è¡¨ï¼›\né‡å‘½åæ—§è¡¨ï¼ˆåœ¨ç¡®å®šæ— è¯¯çš„æƒ…å†µä¸‹å¯åˆ é™¤ï¼‰ï¼›\nç”¨æ—§è¡¨åŸæ¥çš„åå­—é‡å‘½åæ–°è¡¨ï¼›\næ ¹æ®éœ€è¦ï¼Œé‡æ–°åˆ›å»ºè§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹ã€ç´¢å¼•å’Œå¤–é”®ã€‚\nä½¿ç”¨ ALTER TABLE çš„æ³¨æ„äº‹é¡¹ï¼š\nSQLite å¯¹ä½¿ç”¨ ALTER TABLE çš„æœ€é‡è¦çš„é™åˆ¶æ˜¯ï¼šä¸æ”¯æŒä½¿ç”¨ ALTER TABLE å®šä¹‰ä¸»é”®å’Œå¤–é”®ï¼Œå¿…é¡»åœ¨æœ€åˆåˆ›å»ºè¡¨æ—¶æŒ‡å®šã€‚\nåœ¨ä½¿ç”¨ ALTER TABLE ä¹‹å‰åº”å…ˆåšå¥½å®Œæ•´çš„å¤‡ä»½ï¼ˆè¡¨ç»“æ„å’Œæ•°æ®çš„å¤‡ä»½ï¼‰ã€‚\nè¡¨ç»“æ„çš„æ›´æ”¹ä¸èƒ½æ’¤é”€ã€‚\nå¦‚æœå¢åŠ äº†ä¸éœ€è¦çš„åˆ—ï¼Œä¹Ÿè®¸æ— æ³•åˆ é™¤å®ƒä»¬ã€‚\nå¦‚æœåˆ é™¤äº†ä¸åº”è¯¥åˆ é™¤çš„åˆ—ï¼Œå¯èƒ½ä¼šä¸¢å¤±è¯¥åˆ—ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚\nDROP TABLE åˆ é™¤è¡¨ DROP TABLE è¯­å¥ç”¨äºåˆ é™¤è¡¨æœ¬èº«ï¼ˆåŒ…æ‹¬è¡¨æ•°æ®ï¼‰ã€‚\nDROP TABLE tab_name; ğŸ“Œåˆ é™¤è¡¨æ—¶ï¼Œæ²¡æœ‰ç¡®è®¤æ­¥éª¤ï¼Œä¸”ä¸èƒ½æ’¤é”€ã€‚\nğŸ“Œä½¿ç”¨å…³ç³»è§„åˆ™é˜²æ­¢æ„å¤–åˆ é™¤ï¼š\nè®¸å¤š DBMS å…è®¸å¼ºåˆ¶å®æ–½æœ‰å…³è§„åˆ™ï¼Œé˜²æ­¢åˆ é™¤ä¸å…¶ä»–è¡¨ç›¸å…³è”çš„è¡¨ã€‚åœ¨å®æ–½è¿™äº›è§„åˆ™æ—¶ï¼Œå¦‚æœå¯¹æŸä¸ªè¡¨å‘å¸ƒä¸€æ¡ DORP TABLE è¯­å¥ï¼Œä¸”è¯¥è¡¨æ˜¯æŸä¸ªå…³ç³»çš„ç»„æˆéƒ¨åˆ†ï¼Œåˆ™ DBMS å°†é˜»æ­¢è¿™æ¡è¯­å¥æ‰§è¡Œï¼Œç›´åˆ°è¯¥å…³ç³»è¢«åˆ é™¤ä¸ºæ­¢ã€‚\nTRUNCATE TABLE åˆ é™¤è¡¨æ•°æ® TRUNCATE TABLE è¯­å¥ç”¨äºåˆ é™¤è¡¨å†…çš„æ•°æ®ï¼ˆä½†å¹¶ä¸åŒ…æ‹¬è¡¨æœ¬èº«ï¼‰ã€‚\nTRUNCATE TABLE tab_name; é‡å‘½åè¡¨ å¯¹äºé‡å‘½åè¡¨ï¼Œæ¯ä¸ª DBMS çš„æ”¯æŒéƒ½æœ‰æ‰€ä¸åŒï¼š\nDB2ã€MariaDBã€MySQLã€Oracle å’Œ PostgreSQL ä½¿ç”¨ RENAME è¯­å¥ã€‚\nSQL Server ä½¿ç”¨ sp_rename å­˜å‚¨è¿‡ç¨‹ã€‚\nSQLite ä½¿ç”¨ ALTER TABLE è¯­å¥ã€‚\nSQL çº¦æŸ SQL çº¦æŸï¼ˆConstraintsï¼‰ç”¨äºè§„å®šè¡¨ä¸­å¦‚ä½•æ’å…¥æˆ–å¤„ç†æ•°æ®çš„è§„åˆ™ã€‚å¦‚æœå­˜åœ¨è¿åçº¦æŸçš„æ•°æ®è¡Œä¸ºï¼Œè¡Œä¸ºä¼šè¢«çº¦æŸç»ˆæ­¢ã€‚\nçº¦æŸå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è§„å®šï¼ˆé€šè¿‡ CREATE TABLE è¯­å¥ï¼‰ï¼Œæˆ–è€…åœ¨è¡¨åˆ›å»ºä¹‹åè§„å®šï¼ˆé€šè¿‡ ALTER TABLE è¯­å¥ï¼‰ã€‚\nSQL æœ‰å¦‚ä¸‹å‡ ç§çº¦æŸï¼š\nå…³é”®å­— è§£é‡Š NULL å…è®¸å­˜å‚¨ NULL å€¼ã€‚ å¦‚æœä¸æŒ‡å®š NOT NULL æˆ– PRIMARY KEYï¼Œåˆ™é»˜è®¤ä¸º NULLã€‚ åœ¨æ’å…¥è¡Œæ—¶å…è®¸ä¸ç»™å‡ºè¯¥åˆ—çš„å€¼ã€‚æ­¤æ—¶ï¼Œä¼šç»™è¯¥é¡¹æŒ‡å®šä¸ºå€¼ NULLã€‚ å¯¹äº DB2ï¼Œåœ¨å®šä¹‰å…è®¸ NULL çš„åˆ—ä¸­ä¸èƒ½æŒ‡å®š NULLã€‚ NOT NULL æŒ‡ç¤ºæŸåˆ—ä¸èƒ½å­˜å‚¨ NULL å€¼ã€‚ å¦‚æœä¸å‘å­—æ®µæ·»åŠ å€¼ï¼Œå°±æ— æ³•æ’å…¥æ–°è®°å½•æˆ–è€…æ›´æ–°è®°å½•ã€‚ UNIQUE å”¯ä¸€çº¦æŸã€‚ä¿è¯æŸåˆ—çš„æ¯è¡Œå¿…é¡»æœ‰å”¯ä¸€çš„å€¼ã€‚ å”¯ä¸€çº¦æŸå¯åŒ…å« NULL å€¼ï¼Œå¯é‡å¤ä½¿ç”¨ï¼Œä½†æ˜¯ä¸èƒ½ç”¨æ¥å®šä¹‰å¤–é”®ã€‚ PRIMARY KEY ä¸»é”®çº¦æŸã€‚NOT NULL å’Œ UNIQUE çš„ç»“åˆã€‚ ç¡®ä¿æŸåˆ—ï¼ˆæˆ–å¤šä¸ªåˆ—çš„ç»“åˆï¼‰æœ‰å”¯ä¸€æ ‡è¯†ï¼Œæœ‰åŠ©äºæ›´å®¹æ˜“æ›´å¿«é€Ÿåœ°æ‰¾åˆ°è¡¨ä¸­çš„ä¸€ä¸ªç‰¹å®šçš„è®°å½•ã€‚ FOREIGN KEY å¤–é”®çº¦æŸã€‚ä¿è¯ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®åŒ¹é…å¦ä¸€ä¸ªè¡¨ä¸­çš„å€¼çš„å‚ç…§å®Œæ•´æ€§ã€‚ CHECK ä¿è¯åˆ—ä¸­çš„å€¼ç¬¦åˆæŒ‡å®šçš„æ¡ä»¶ã€‚ DEFAULT è§„å®šæ²¡æœ‰ç»™åˆ—èµ‹å€¼æ—¶çš„é»˜è®¤å€¼ã€‚ åœ¨æ’å…¥è¡Œæ—¶å¦‚æœä¸ç»™å‡ºå€¼ï¼Œåˆ™ç”¨é»˜è®¤å€¼èµ‹å€¼ã€‚ Exampleï¼š\nCREATE TABLE tab_name ( # ä¸»é”®çº¦æŸ column1 Type1 PRIMARY KEY, # é»˜è®¤ä¸ºå…è®¸ NULLï¼Œå¯ä»¥ä¸ç”¨æŒ‡å‡º column2 Type2 [NULL], # ä¸å…è®¸ NULL çš„åˆ—ï¼Œå¿…é¡»ç”¨ NOT NULL æŒ‡å‡º column3 Type3 NOT NULL, # ç”¨ DEFAULT æŒ‡å®šé»˜è®¤å€¼ # default_val æ˜¯ Type4 ç±»å‹çš„å€¼ column4 Type4 NOT NULL DEFAULT default_val, ... ); NOT NULL éç©ºçº¦æŸ CREATE TABLE tab_name ( column1 Type1 NOT NULL, ... ); æ·»åŠ  NOT NULL çº¦æŸï¼š\nALTER TABLE tab_name MODIFY column_name Type1 NOT NULL; UNIQUE å”¯ä¸€çº¦æŸ æ¯ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ª UNIQUE çº¦æŸã€‚\nåˆ›å»ºè¡¨æ—¶ï¼š\nCREATE TABLE tab_name ( column1 Type1 NOT NULL, # æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨åˆ—å®šä¹‰ä¸­ç”¨ UNIQUE å…³é”®å­—æŒ‡å‡º column2 Type2 NOT NULL UNIQUE, ... # æ–¹æ³•äºŒï¼šå®šä¹‰åˆ—åä½¿ç”¨ UNIQUE() UNIQUE (column1) ); -- å‘½å UNIQUE çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ UNIQUE çº¦æŸ CREATE TABLE tab_name ( column1 Type1 NOT NULL, column2 Type2 NOT NULL, ... # å¯ä»¥ä¸ç”¨å®šä¹‰ u_name CONSTRAINT [u_name] UNIQUE (column1, column2, ...) ); æ›´æ–°è¡¨å®šä¹‰æ—¶ï¼š\nALTER TABLE tab_name ADD UNIQUE (column_name); -- å‘½å UNIQUE çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ UNIQUE çº¦æŸ ALTER TABLE tab_name # name å¯ä»¥çœç•¥ ADD CONSTRAINT u_name UNIQUE (column1, column2, ...); æ’¤é”€ UNIQUE çº¦æŸï¼š\nMySQLï¼š\nALTER TABLE tab_name DROP INDEX u_name; SQL Server / Oracle / MS Accessï¼š\nALTER TABLE tab_name DROP CONSTRAINT u_name; PRIMARY KEY ä¸»é”®çº¦æŸ åªè¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œå°±å¯ä»¥è¢«ç”¨ä½œä¸»é”®ï¼š\nä»»æ„ä¸¤è¡Œçš„ä¸»é”®å€¼éƒ½ä¸ç›¸åŒï¼ˆä¸»é”®å¿…é¡»åŒ…å«å”¯ä¸€å€¼ï¼‰ã€‚\næ¯è¡Œéƒ½å…·æœ‰ä¸€ä¸ªä¸»é”®å€¼ï¼ˆä¸»é”®åˆ—ä¸èƒ½åŒ…å« NULL å€¼ï¼‰ã€‚\nåŒ…å«ä¸»é”®å€¼çš„åˆ—ä»ä¸ä¿®æ”¹æˆ–æ›´æ–°ã€‚\nä¸»é”®å€¼ä¸èƒ½é‡ç”¨ã€‚å¦‚æœä»è¡¨ä¸­åˆ é™¤æŸä¸€è¡Œï¼Œå…¶ä¸»é”®å€¼ä¸åˆ†é…ç»™æ–°è¡Œã€‚\nåˆ›å»ºè¡¨æ—¶ï¼š\n-- åœ¨åˆ—å®šä¹‰ä¸­ç›´æ¥æŒ‡å‡ºä¸»é”® CREATE TABLE tab_name ( column1 Type1 NOT NULL PRIMARY KEY, ... ); -- é€šè¿‡ PRIMARY KEY () å®šä¹‰ CREATE TABLE tab_name ( column1 Type1 NOT NULL, ... PRIMARY KEY (column1) ); -- å‘½å PRIMARY KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ PRIMARY KEY çº¦æŸ CREATE TABLE tab_name ( column1 Type1 NOT NULL, column1 Type1 NOT NULL, ... # å¯ä»¥ä¸ç”¨å®šä¹‰ pk_name CONSTRAINT [pk_name] PRIMARY KEY (column1, column2, ...) ); æ›´æ–°è¡¨å®šä¹‰æ—¶ï¼š\nALTER TABLE tab_name ADD PRIMARY KEY (column_name); -- å‘½å PRIMARY KEY çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ PRIMARY KEY çº¦æŸ ALTER TABLE tab_name # name å¯ä»¥çœç•¥ ADD CONSTRAINT pk_name UNIQUE (column1, column2, ...); æ’¤é”€ PRIMARY KEY çº¦æŸï¼š\nMySQLï¼š\nALTER TABLE tab_name DROP PRIMARY KEY; SQL Server / Oracle / MS Accessï¼š\nALTER TABLE tab_name DROP CONSTRAINT pk_name; FOREIGN KEY å¤–é”®çº¦æŸ åˆ›å»ºè¡¨æ—¶ï¼š\nCREATE TABLE tab_name ( # æ–¹æ³•ä¸€ï¼šä½¿ç”¨ REFERENCES å…³é”®å­— column1 Type1 NOT NULL REFERENCES table1(column_1), column2 Type2 NOT NULL, column2 Type2 NOT NULL, ... # æ–¹æ³•äºŒï¼šä½¿ç”¨ FOREIGN KEY () FOREIGN KEY (column2) REFERENCES table2(column_2), # å‘½å FOREIGN KEY çº¦æŸ CONSTRAINT [fk_name] FOREIGN KEY (column3) REFERENCES table3(column_3) ); æ›´æ–°è¡¨å®šä¹‰æ—¶ï¼š\nALTER TABLE tab_name ADD FOREIGN KEY (column1) REFERENCES table1(column_1); -- å‘½å FOREIGN KEY çº¦æŸ ALTER TABLE tab_name ADD CONSTRAINT fk_name FOREIGN KEY (column1) REFERENCES table1(column_1); æ’¤é”€ FOREIGN KEY çº¦æŸï¼š\nMySQLï¼š\nALTER TABLE tab_name DROP FOREIGN KEY fk_name; SQL Server / Oracle / MS Accessï¼š\nALTER TABLE tab_name DROP CONSTRAINT fk_name; CHECK æ£€æŸ¥çº¦æŸ CHECK çº¦æŸå¸¸è§ç”¨é€”ï¼š\næ£€æŸ¥æœ€å°æˆ–æœ€å¤§å€¼ã€‚\næŒ‡å®šèŒƒå›´ã€‚\nåªå…è®¸ç‰¹å®šå€¼ã€‚\nåˆ›å»ºè¡¨æ—¶ï¼š\nCREATE TABLE tab_name ( # é™åˆ¶ column1 çš„å€¼å¤§äº 0 column1 Type1 NOT NULL CHECK (column1 \u0026gt; 0), column2 Type2 NOT NULL, ... # é™åˆ¶ column2 åªèƒ½å– \u0026#39;Y\u0026#39; æˆ– \u0026#39;N\u0026#39; CHECK (column2 LIKE \u0026#39;[YN]\u0026#39;) ); -- å‘½å CHECK çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ CHECK çº¦æŸ CREATE TABLE tab_name ( column1 Type1 NOT NULL, column2 Type2 NOT NULL, ... CONSTRAINT chk_name CHECK (column1 \u0026gt; 0 AND column2 LIKE \u0026#39;[YN]\u0026#39;) ); ä¿®æ”¹è¡¨å®šä¹‰æ—¶ï¼š\nALTER TABLE tab_name ADD CHECK (column1 \u0026gt; 0); -- å‘½å CHECK çº¦æŸï¼Œå¹¶å®šä¹‰å¤šä¸ªåˆ—çš„ CHECK çº¦æŸ ALTER TABLE tab_name ADD CONSTRAINT chk_name CHECK (column1 \u0026gt; 0 AND column2 LIKE \u0026#39;[YN]\u0026#39;); æ’¤é”€ CHECK çº¦æŸï¼š\nMySQLï¼š\nALTER TABLE tab_name DROP CHECK chk_name; SQL Server / Oracle / MS Accessï¼š\nALTER TABLE tab_name DROP CONSTRAINT chk_name; DEFAULT é»˜è®¤çº¦æŸ åˆ›å»ºè¡¨æ—¶ï¼š\nCREATE TABLE tab_name ( # default_val æ˜¯ Type4 ç±»å‹çš„å€¼ column1 Type1 NOT NULL DEFAULT default_val, ... ) -- å¯ä»¥ä½¿ç”¨ç±»ä¼¼ GETDATE() çš„å‡½æ•°æ’å…¥ç³»ç»Ÿå€¼ CREATE TABLE tab_name ( # é»˜è®¤å€¼ä¸ºå½“å‰çš„æ—¥æœŸ birthday DATE NOT NULL DEFAULT GETDATE(), ... ) æ›´æ–°è¡¨ç»“æ„æ—¶ï¼š\nMySQLï¼š\nALTER TABLE tab_name ALTER column1 SET DEFAULT default_val; SQL Server / MS Accessï¼š\nALTER TABLE tab_name ADD CONSTRAINT name DEFAULT default_val for column1; Oracleï¼š\nALTER TABLE tab_name MODIFY column1 DEFAULT default_val; æ’¤é”€ DEFAULT çº¦æŸï¼š\nMySQLï¼š\nALTER TABLE tab_name ALTER column1 DROP DEFAULT; SQL Server / Oracle / MS Accessï¼š\nALTER TABLE tab_name ALTER COLUMN column1 DROP DEFAULT; AUTO INCREMENT å­—æ®µ åœ¨å®šä¹‰è¡¨æ—¶ï¼Œåœ¨åˆ—ä¸­æ·»åŠ  auto-increment å­—æ®µå¯ä»¥åœ¨æ–°çºªå½•æ’å…¥è¡¨æ—¶å¯¹è¯¥åˆ—ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ã€‚\nå®šä¹‰ä¸º auto-increment å­—æ®µçš„åˆ—å¿…é¡»æ˜¯æ•´æ•°ç±»å‹ã€‚\nå®šä¹‰ä¸º auto-increment çš„åˆ—å¸¸å¸¸è¢«å®šä¹‰ä¸º PRIMARY KEYã€‚\nMySQL ä½¿ç”¨ AUTO_INCREMENT å…³é”®å­—æ¥æ‰§è¡Œ auto-increment ä»»åŠ¡ï¼š\nCREATE TABLE tab_name ( # å®šä¹‰ column1 ä¸º AUTO INCREMENT ä¸»é”®å­—æ®µ column1 TYPE1 NOT NULL PRIMARY KEY AUTO_INCREMENT, column2 TYPE2, column3 TYPE3, ... ); å®šä¹‰äº† AUTO_INCREMENT å­—æ®µåï¼Œå¯ä»¥ä¸ç”¨å¯¹è¯¥åˆ—æŒ‡å®šå€¼ï¼Œæˆ–è€…å¯¹è¯¥åˆ—æŒ‡å®šä¸º NULL å€¼ï¼ˆä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼‰ã€‚\nMySQL çš„ AUTO_INCREMENT åªèƒ½åœ¨ key ä¸Šè¢«å®šä¹‰ã€‚PRIMARY KEY å’Œ UNIQUE éƒ½æ˜¯æœ‰æ•ˆçš„å®šä¹‰ã€‚\n-- val2 å’Œ val3 æ˜¯åˆ†åˆ«ä¸ column2 å’Œ column3 åŒç±»å‹çš„å€¼ -- ä¸å¯¹ auto-increment åˆ—æŒ‡å®šå€¼ INSERT INTO tab_name ( column2, column3 ) VALUES ( val2, val3 ); -- æŒ‡å®šä¸º NULL å€¼ INSERT INTO tab_name ( column1, column2, column3) VALUES ( NULL, val2, val3); AUTO_INCREMENT é»˜è®¤çš„å¼€å§‹å€¼æ˜¯ 1ï¼Œæ¯æ–°å¢ä¸€æ¡è®°å½•éƒ½ä¼šé€’å¢ 1ã€‚\nè®© AUTO_INCREMENT åºåˆ—ä»¥å…¶ä»–çš„å€¼èµ·å§‹ï¼š\n-- number æ˜¯ä»»æ„æ•°å­— ALTER TABLE tab_name AUTO_INCREMENT=number; MySQL è®¾å®šèµ·å§‹å€¼åªèƒ½åœ¨å»ºè¡¨åä½¿ç”¨ ALTER TABLE è¯­å¥ã€‚ä¹Ÿå¯ä»¥åœ¨å»ºè¡¨åç›´æ¥ä½¿ç”¨ ALTER TABLE è¯­å¥å®šä¹‰ AUTO_INCREMENT ä»¥åŠå®ƒçš„èµ·å§‹å€¼ã€‚\nCREATE TABLE tab_name ( column1 INT NOT NULL PRIMARY KEY, ... ); ALTER TABLE tab_test AUTO_INCREMENT=number; -- number æ˜¯ä»»æ„æ•°å­— MS SQL Server ä½¿ç”¨ IDENTITY() æ¥æ‰§è¡Œ auto-increment ä»»åŠ¡ï¼š\n-- IDENTITY(initial, incremental) ä¸­ï¼Œ -- initial æ˜¯åˆå§‹å€¼ï¼Œincremental æ˜¯é€’å¢å€¼ -- å³ï¼Œä»¥ initial ä½œä¸ºåˆå§‹å€¼ï¼Œæ¯æ–°å¢ä¸€æ¡è®°å½•é€’å¢ incremental CREATE TABLE tab_name ( column1 INT IDENTITY(initial, incremental) PRIMARY KEY, ... ) æ’å…¥æ•°æ®çš„æ–¹æ³•åŒ MySQLã€‚\nOracle é€šè¿‡åˆ›å»º sequence å¯¹è±¡ï¼ˆè¯¥å¯¹è±¡ç”Ÿæˆæ•°å­—åºåˆ—ï¼‰åˆ›å»º auto-increment å­—æ®µï¼š\nCREATE SEQUENCE sp_name MINVALUE 1 # æœ€å°å€¼ä¸º 1 START WITH 1 # èµ·å§‹å€¼ä¸º 1 INCREMENT BY 1 # æ¯æ¬¡é€’å¢ 1 CACHE 10 # ç¼“å­˜ 10 ä¸ªå€¼ä»¥æé«˜æ€§èƒ½ æ’å…¥æ–°è®°å½•æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ sequence å¯¹è±¡çš„ nextval å‡½æ•°ï¼ˆè¯¥å‡½æ•°ä» sp_name åºåˆ—ä¸­å–å›ä¸‹ä¸€ä¸ªå€¼ï¼‰ï¼š\n-- å‡è®¾ tab_name å·²è¢«åˆ›å»ºï¼Œ -- ä¸”è¦å¯¹ column1 ä½¿ç”¨ nextval() å‡½æ•° INSERT INTO tab_name ( column1, column2, column3) VALUES ( sp_name.nextval, val2, val3); è§†å›¾ è§†å›¾æ˜¯è™šæ‹Ÿçš„è¡¨ã€‚è§†å›¾å¹¶ä¸åŒ…å«æ•°æ®ï¼Œå®ƒåªåŒ…å«ä½¿ç”¨æ—¶åŠ¨æ€æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚è§†å›¾çš„ SELECT ç”¨æ³•ä¸è¡¨çš„ç”¨æ³•åŸºæœ¬ç›¸åŒã€‚\nä½¿ç”¨è§†å›¾çš„åŸå› ï¼š\né‡ç”¨ SQL è¯­å¥ã€‚\nç®€åŒ–å¤æ‚çš„ SQL æ“ä½œï¼ˆæ— éœ€çŸ¥é“è§†å›¾çš„åŸºæœ¬æŸ¥è¯¢ç»†èŠ‚ï¼‰ã€‚\nä½¿ç”¨è¡¨çš„ä¸€éƒ¨åˆ†è€Œä¸æ˜¯æ•´ä¸ªè¡¨ã€‚\nä¿æŠ¤æ•°æ®ã€‚ å¯ä»¥æˆäºˆç”¨æˆ·è®¿é—®è¡¨çš„ç‰¹å®šéƒ¨åˆ†çš„æƒé™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„è®¿é—®æƒé™ã€‚\næ›´æ”¹æ•°æ®æ ¼å¼å’Œè¡¨ç¤ºã€‚ è§†å›¾å¯è¿”å›ä¸åº•å±‚è¡¨çš„è¡¨ç¤ºå’Œæ ¼å¼ä¸åŒçš„æ•°æ®ã€‚\nè§†å›¾çš„ä½¿ç”¨è§„åˆ™ï¼š\nè§†å›¾åå¿…é¡»ä¸ºä¸€ä¸”ä¸èƒ½ä¸å…¶ä»–è§†å›¾æˆ–è¡¨é‡åã€‚\nå¯¹äºå¯åˆ›å»ºçš„è§†å›¾æ•°ç›®æ²¡æœ‰é™åˆ¶ã€‚\nåˆ›å»ºè§†å›¾ï¼Œå¿…é¡»å…·æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™ï¼ˆé€šå¸¸ç”±æ•°æ®åº“ç®¡ç†äººå‘˜æˆäºˆï¼‰ã€‚\nè§†å›¾å¯ä»¥åµŒå¥—ï¼Œä½†å…è®¸çš„åµŒå¥—å±‚æ•°åœ¨ä¸åŒçš„ DBMS ä¸­æœ‰æ‰€ä¸åŒã€‚ åµŒå¥—è§†å›¾ã€ä½¿ç”¨å¤šä¸ªè”ç»“å’Œè¿‡æ»¤åˆ›å»ºå¤æ‚çš„è§†å›¾éƒ½ä¼šä½¿æ€§èƒ½ä¸‹é™ã€‚åœ¨äº§å“ç¯å¢ƒä¸­ä½¿ç”¨ä¹‹å‰ï¼Œåº”è¯¥å¯¹å…¶è¿›è¡Œå…¨é¢æµ‹è¯•ã€‚\nè®¸å¤š DBMS ç¦æ­¢åœ¨è§†å›¾æŸ¥è¯¢ä¸­ä½¿ç”¨ ORDER BY å­å¥ã€‚\næœ‰äº› DBMS è¦æ±‚å¯¹è¿”å›çš„æ‰€æœ‰åˆ—è¿›è¡Œå‘½åï¼Œå¦‚æœåˆ—æ˜¯è®¡ç®—å­—æ®µï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ«åã€‚\nè§†å›¾ä¸èƒ½ç´¢å¼•ï¼Œä¹Ÿä¸èƒ½æœ‰å…³è”çš„è§¦å‘å™¨æˆ–é»˜è®¤å€¼ã€‚\næœ‰äº› DBMS æŠŠè§†å›¾ä½œä¸ºåªè¯»çš„æŸ¥è¯¢ï¼ˆä¸èƒ½å°†æ•°æ®å†™å›åº•å±‚è¡¨ï¼Œå¦‚ SQLiteï¼‰ã€‚\næœ‰äº› DBMS ç¦æ­¢å¯¹è§†å›¾ä¸­çš„è¡Œè¿›è¡Œæ’å…¥æˆ–æ›´æ–°åï¼Œè¯¥è¡Œä¸å†å±äºè¯¥è§†å›¾çš„æ“ä½œã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœåˆ é™¤è§†å›¾ä¸­çš„æŸè¡Œçš„æŸåˆ—åï¼Œå¯èƒ½ä¼šå¯¼è‡´è¯¥è¡Œä¸å±äºè¯¥è§†å›¾ã€‚ä½†æ˜¯æŸäº› DBMS ä¼šé˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚\nCREATE VIEW åˆ›å»ºè§†å›¾ ä½¿ç”¨ CREATE VIEW è¯­å¥åˆ›å»ºè§†å›¾ï¼Œé€šå¸¸åŒ…å«ä¸¤éƒ¨åˆ†ï¼š\nè§†å›¾åï¼›\nSELECT æŸ¥è¯¢è¯­å¥ã€‚\nè§†å›¾çš„ç”¨é€”ï¼š\nåˆ©ç”¨è§†å›¾ç®€åŒ–å¤æ‚çš„è”ç»“ï¼š\nCREATE VIEW view_name AS SELECT filed1, filed2, ... FROM table1, table2, ... WHERE condition1; ç”¨è§†å›¾é‡æ–°æ ¼å¼è¯æ£€ç´¢å‡ºçš„æ•°æ®ï¼š\n-- filed1, filed2, ... æŒ‡éœ€è¦é‡å‘½åçš„å­—æ®µ ALTER VIEW view_name AS SELECT filed1 AS alias1, filed2 AS alias2, ... FROM tab_name; ç”¨è§†å›¾è¿‡æ»¤ä¸æƒ³è¦çš„æ•°æ®ã€‚\nä¸€èˆ¬åˆ›å»ºçš„è§†å›¾éƒ½ä¸ä¼šç»‘å®šç‰¹å®šçš„æ•°æ®ï¼Œè¿™ä¼šæé«˜è§†å›¾çš„å¯é‡ç”¨æ€§ã€‚\nä»è§†å›¾æ£€ç´¢æ•°æ®æ—¶å¦‚æœä½¿ç”¨äº†ä¸€æ¡ WHERE å­å¥ï¼Œåˆ™ä¸¤ç»„å­å¥ï¼ˆä¸€ç»„åœ¨è§†å›¾ä¸­ï¼Œå¦ä¸€ç»„æ˜¯ä¼ é€’ç»™è§†å›¾çš„ï¼‰å°†è‡ªåŠ¨ç»„åˆã€‚\nDROP VIEW åˆ é™¤è§†å›¾ é€šè¿‡ DROP VIEW åˆ é™¤è§†å›¾ï¼ˆä»…åˆ é™¤è§†å›¾çš„å®šä¹‰ï¼Œè§†å›¾ä¸­å¹¶åŒ…å«çœŸå®çš„æ•°æ®ï¼‰ï¼š\nDROP VIEW view_name; ç´¢å¼• ç´¢å¼•é€šè¿‡æ’åºæ•°æ®ä»¥åŠ å¿«æœç´¢å’Œæ’åºæ“ä½œçš„é€Ÿåº¦ã€‚\nç´¢å¼•æ”¹å–„æ£€ç´¢æ“ä½œçš„æ€§èƒ½ï¼Œä½†é™ä½äº†æ•°æ®æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤çš„æ€§èƒ½ã€‚\nç´¢å¼•æ•°æ®å¯èƒ½è¦å ç”¨å¤§é‡çš„å­˜å‚¨ç©ºé—´ã€‚\nç”¨æˆ·æ— æ³•çœ‹åˆ°ç´¢å¼•ã€‚\nå¹¶éæ‰€æœ‰æ•°æ®éƒ½é€‚åˆåšç´¢å¼•ã€‚\nç´¢å¼•ç”¨äºæ•°æ®è¿‡æ»¤å’Œæ•°æ®æ’åºã€‚å¦‚æœç»å¸¸ä»¥æŸç§ç‰¹å®šçš„é¡ºåºæ’åºæ•°æ®ï¼Œåˆ™è¯¥æ•°æ®å¯èƒ½é€‚åˆåšç´¢å¼•ã€‚\nå¯ä»¥åœ¨ç´¢å¼•ä¸­å®šä¹‰å¤šä¸ªåˆ—ã€‚è¿™æ ·çš„ç´¢å¼•ä»…åœ¨ä»¥è¿™ä¸ªåˆ—ç»„åˆæ’åºæ—¶æœ‰ç”¨ã€‚\nCREATE INDEX åˆ›å»ºç´¢å¼• ç´¢å¼•ä½¿ç”¨ CREATE INDEX è¯­å¥åˆ›å»ºï¼ˆä¸åŒçš„ DBMS åˆ›å»ºç´¢å¼•çš„è¯­å¥å˜åŒ–å¾ˆå¤§ï¼‰ã€‚\nåˆ›å»ºä¸€ä¸ªå…è®¸ä½¿ç”¨é‡å¤å€¼çš„ç´¢å¼•ï¼š\nCREATE INDEX index_name ON tab_name (column1, column2, ...); åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼ˆä¸å…è®¸ä¸¤ä¸ªè¡Œæ‹¥æœ‰ç›¸åŒçš„ç´¢å¼•å€¼ï¼‰ï¼š\nCREATE INDEX index_name ON tab_name (column1, column2, ...); ç´¢å¼•å¿…é¡»å”¯ä¸€å‘½åã€‚\nDROP INDEX åˆ é™¤ç´¢å¼• MySQL:\nALTER TABLE tab_name DROP INDEX index_name; MS Accessï¼š\nDROP INDEX index_name ON tab_name; MS SQL Serverï¼š\nDROP INDEX tab_name.index_name; DB2 / Oracleï¼š\nDROP INDEX index_name; ","date":"2022å¹´1æœˆ11æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/blog/2022/01/sql-%E8%AF%AD%E5%8F%A5/","series":[],"smallImg":"","tags":[{"title":"SQL","url":"/tags/sql/"},{"title":"æ•°æ®åº“","url":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"timestamp":1641859200,"title":"SQL è¯­å¥"},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/offline/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":"Offline"},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/contact/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":"è”ç³»æˆ‘"}]
